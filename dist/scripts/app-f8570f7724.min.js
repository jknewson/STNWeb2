!function(){"use strict";{var STNControllers=(angular.module("SettingsControllers",["ngInputModified","ui.validate","angular.filter","xeditable","checklist-model","ngFileUpload"]),angular.module("STNControllers",[]));angular.module("ModalControllers",[])}STNControllers.constant("RegExp",{PASSWORD:/^(((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[A-Z])(?=.*[!@@?#$%^&_:;-]))|((?=.*[a-z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))|((?=.*[A-Z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))).{8,}$/})}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.directive("barsChart",["$parse",function($parse){var directiveDefinitionObject={restrict:"E",replace:!1,scope:{data:"=elevationData"},link:function(scope,element,attrs){var chart=(attrs.elevationData.split(","),d3.select(element[0]));chart.append("div").attr("class","chart").selectAll("div").data(scope.data).enter().append("div").transition().ease("elastic").style("width",function(d){return d+"%"}).text(function(d){return d+"%"}),scope.$watch("data",function(newValue,oldValue){scope.data=newValue})}};return directiveDefinitionObject}]),STNControllers.directive("siteSearch",function(){return{restrict:"E",scope:{model:"=ngModel",searchBy:"=",searchTerm:"="},replace:!0,template:'<div class="searchnav"><div class="searchby"><b>Search By:</b><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteId" />ID</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteNo" />Number</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteName" />Name</div></div><div class="search-input"><input ng-focus="goSearch" type="text" ng-model="searchTerm" ng-enter="IndexSearchSites()" placeholder="Search Sites..." /><button type="button" class="borderLess" ng-click="IndexSearchSites()">Search <i class="ion-search"></i></button></div></div>',controller:["$scope","$state","$http","SITE","$uibModal",function($scope,$state,$http,SITE,$uibModal){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$scope.placeholder="...",$scope.IndexSearchSites=function(){if(""!==$scope.searchTerm)switch($http.defaults.headers.common.Accept="application/json",$scope.searchBy.val){case"bySiteNo":SITE.getSearchedSite({bySiteNo:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteId":SITE.getSearchedSite({bySiteId:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteName":SITE.getSearchedSite({bySiteName:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)})}};var siteSearchResponse=function(s){if(void 0!==s.status){var errorModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>No site found. For more site search options, go to the Sites navigation tab to search for sites.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});errorModal.result.then(function(){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"}})}else $scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$state.go("site.dashboard",{id:s.site_id})}}]}}),STNControllers.directive("ngEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.ngEnter)}),event.preventDefault())})}}),STNControllers.directive("numericOnly",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){var transformedInput=inputValue?inputValue.replace(/[^\d.-]/g,""):null;return transformedInput!=inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}),STNControllers.directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(scope,element,attr,controller){controller.$formatters.shift()}}}),STNControllers.directive("focus",function(){return function(scope,element,attributes){element[0].focus()}}),STNControllers.directive("backButton",function(){return{restrict:"A",link:function(scope,element,attrs){function goBack(){history.back(),scope.$apply()}element.bind("click",goBack)}}}),STNControllers.directive("passwordValidate",["RegExp",function(regex){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$apply(function(){return regex.PASSWORD.test(viewValue.target.value)?(ctrl.$setValidity("passwordValidate",!0),viewValue):void ctrl.$setValidity("passwordValidate",!1)})})}}}]),STNControllers.directive("sameAs",["$parse",function($parse){return{require:"ngModel",restrict:"A",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$watch(function(){return $parse(attrs.sameAs)(scope)===ctrl.$modelValue},function(currentValue){ctrl.$setValidity("passwordMismatch",currentValue)})})}}}]),STNControllers.directive("elastic",["$timeout",function($timeout){return{restrict:"A",link:function($scope,element){$scope.initialHeight=$scope.initialHeight||element[0].style.height;var resize=function(){element[0].style.height=$scope.initialHeight,element[0].style.height=""+element[0].scrollHeight+"px"};element.on("input change",resize),$timeout(resize,0)}}}]),STNControllers.directive("myInputMask",function(){return{restrict:"AC",link:function(scope,el,attrs){el.inputmask(scope.$eval(attrs.myInputMask)),el.on("change",function(){scope.$eval(attrs.ngModel+"='"+el.val()+"'")})}}}),STNControllers.directive("fileModel",["$parse",function($parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.fileModel),modelSetter=model.assign;element.bind("change",function(){scope.$apply(function(){modelSetter(scope,element[0].files[0])})})}}}]),STNControllers.directive("inputRestrictor",[function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(!text)return text;var transformedInput=text.replace(pattern,"");return transformedInput!==text&&(ngModelCtrl.$setViewValue(transformedInput),ngModelCtrl.$render()),transformedInput}var pattern=/[^a-zA-Z0-9- _]/g;ngModelCtrl.$parsers.push(fromUser)}}}]),STNControllers.directive("labelLimitLength",function(){return{restrict:"A",link:function(scope,elem,attrs){var limit=parseInt(attrs.labelLimitLength);angular.element(elem).on("keypress",function(e){this.value.length==limit&&e.preventDefault()})}}}),STNControllers.directive("hcChart",function(){return{restrict:"E",template:"<div></div>",scope:{options:"="},link:function(scope,element){Highcharts.chart(element[0],scope.options)}}})}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteModalCtrl",["$scope","$rootScope","$cookies","$q","$location","$state","$http","$sce","$timeout","$uibModal","$uibModalInstance","$filter","leafletMarkerEvents","allDropDownParts","fileTypes","agencyList","latlong","thisSiteStuff","allMembers","SITE","SITE_HOUSING","Site_Files","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","LANDOWNER_CONTACT","GEOCODE","FILE_STAMP","FILE","SOURCE","SERVER_URL",function($scope,$rootScope,$cookies,$q,$location,$state,$http,$sce,$timeout,$uibModal,$uibModalInstance,$filter,leafletMarkerEvents,allDropDownParts,fileTypes,agencyList,latlong,thisSiteStuff,allMembers,SITE,SITE_HOUSING,Site_Files,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,LANDOWNER_CONTACT,GEOCODE,FILE_STAMP,FILE,SOURCE,SERVER_URL){$scope.HorizontalDatumList=allDropDownParts[0],$scope.HorCollMethodList=allDropDownParts[1],$scope.StateList=allDropDownParts[2],$scope.AllCountyList=allDropDownParts[3],$scope.stateCountyList=[],$scope.DMS={},$scope.allHousingTypeList=allDropDownParts[4],$scope.DepPriorityList=allDropDownParts[5],$scope.NetNameList=allDropDownParts[6],$scope.NetTypeList=allDropDownParts[7],$scope.ProposedSens=allDropDownParts[8],$scope.SensorDeployment=allDropDownParts[9],$scope.userRole=$cookies.get("usersRole"),$scope.closeSites=0,$scope.showMap=!1,$scope.siteLat=0,$scope.siteLong=0,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$scope.mapCenter={lat:$scope.siteLat,lng:$scope.siteLong,zoom:17},$scope.events={mapMarkers:{enable:leafletMarkerEvents.getAvailableEvents()}},$scope.mapMarkers=[];var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},newSTN:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]}},azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))};$scope.updateAddressOnly=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long")},function(errorResponse){toastr.error("Error getting location information.")})},$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.aSite.latitude_dd=parseFloat(dragendLocation.lat.toFixed(6)),$scope.aSite.longitude_dd=parseFloat(dragendLocation.lng.toFixed(6));var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.updateAddressOnly()}),$scope.getAddress=function(){if(void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else $scope.mapCenter={lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),zoom:18},$scope.mapMarkers=[],$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,SITE.getProximitySites({Latitude:$scope.aSite.latitude_dd,Longitude:$scope.aSite.longitude_dd,Buffer:5e-4},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];$scope.mapMarkers.push({lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,site_no:a.site_no,icon:icons.stn,message:a.site_no,focus:!1})}$scope.mapMarkers.push({lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),icon:icons.newSTN,message:"New draggable STN site",focus:!1,draggable:!0}),$scope.showMap=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)}).$promise):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.houseDirty=!1,$scope.netTypeDirty=!1,$scope.siteHouseTypesTable=[],$scope.aSite={},void 0!==latlong&&($scope.aSite.latitude_dd=parseFloat(latlong[0].toFixed(6)),$scope.aSite.longitude_dd=parseFloat(latlong[1].toFixed(6)),$scope.aSite.hdatum_id=4,$scope.aSite.hcollect_method_id=4,$scope.getAddress()),$scope.aSite.decDegORdms="dd",$scope.originalSiteHousings=[],$scope.checked="",$scope.checkedName="Not Defined",$scope.landowner={},$scope.addLandowner=!1,$scope.disableSensorParts=!1,$scope.showSiteHouseTable=!1,$scope.siteHouseTypesTable=[],$scope.siteHousesModel={},$scope.siteHousesToRemove=[],$scope.NetworkNAMEToAdd=[],$scope.NetworkNAMEToRemove=[],$scope.NetworkTYPEToAdd=[],$scope.NetworkTYPEToRemove=[],$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],$scope.serverURL=SERVER_URL,$scope.fileTypeList=fileTypes.filter(function(ft){return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.SITEFiles=void 0!==thisSiteStuff?$scope.allSFiles.filter(function(sf){return!(sf.site_id!=thisSiteStuff[0].site_id||void 0!==sf.hwm_id&&0!==sf.hwm_id||void 0!==sf.instrument_id&&0!==sf.instrument_id||void 0!==sf.objective_point_id&&0!==sf.objective_point_id)}):[],$scope.siteImageFiles=$scope.SITEFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.SITEFiles.push(fresponse),1===fresponse.filetype_id&&($scope.siteImageFiles.splice($scope.existFileIndex,1),$scope.siteImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.SITEFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.siteImageFiles.length>0?$scope.siteImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.aSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.siteImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.aSite.site_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Site File",$scope.SITEFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.siteImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))};var deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.aSite.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aSite.decDegORdms="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.netTypeChg=function(nt){if(nt.selected){if($scope.NetworkTYPEToAdd.push(nt),void 0!==$scope.aSite.site_id){var i=$scope.NetworkTYPEToRemove.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);i>=0&&$scope.NetworkTYPEToRemove.splice(i,1)}}else{var ind=$scope.NetworkTYPEToAdd.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);ind>=0&&$scope.NetworkTYPEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkTYPEToRemove.push(nt)}},$scope.whichOne=function(n){if(n.selected){if($scope.NetworkNAMEToAdd.push(n),void 0!==$scope.aSite.site_id){var i=$scope.NetworkNAMEToRemove.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);i>=0&&$scope.NetworkNAMEToRemove.splice(i,1)}}else{var ind=$scope.NetworkNAMEToAdd.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);ind>=0&&$scope.NetworkNAMEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkNAMEToRemove.push(n)}if("Not Defined"==n.name&&n.selected===!0){for(var nn=0;nn<$scope.NetNameList.length;nn++)"Not Defined"!=$scope.NetNameList[nn].name&&$scope.NetNameList[nn].selected===!0&&($scope.NetworkNAMEToRemove.push($scope.NetNameList[nn]),$scope.NetNameList[nn].selected=!1);$scope.checked="Not Defined"}"Not Defined"==n.name&&n.selected===!1&&($scope.checked="")},$scope.dimAction=function(){if(1==$scope.aSite.sensor_not_appropriate){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}else $scope.disableSensorParts=!1},$scope.useSiteAddress,$scope.useAddressforLO=function(){$scope.useSiteAddress?($scope.landowner.address=$scope.aSite.address,$scope.landowner.city=$scope.aSite.city,$scope.landowner.state=$scope.aSite.state,$scope.landowner.zip=$scope.aSite.zip):($scope.landowner.address="",$scope.landowner.city="",$scope.landowner.state="",$scope.landowner.zip="")},$scope.save=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.addLandowner===!0?null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0?LANDOWNER_CONTACT.update({
id:$scope.aSite.landownercontact_id},$scope.landowner).$promise.then(function(){putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):putSiteAndParts():putSiteAndParts()))};var putSiteAndParts=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec));var updateSite=angular.copy($scope.aSite);delete updateSite.Creator,delete updateSite.HorizontalCollectMethod,delete updateSite.HorizontalDatum,delete updateSite.PriorityName,delete updateSite.decDegORdms,SITE.update({id:$scope.aSite.site_id},updateSite,function(response){var RemovePromises=($q.defer(),[]),AddPromises=[];angular.forEach($scope.siteHousesToRemove,function(shID){var delSHProm=SITE_HOUSING["delete"]({id:shID}).$promise;RemovePromises.push(delSHProm)}),angular.forEach($scope.NetworkNAMEToRemove,function(nnL){var delNNProm=SITE.deleteSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:nnL.network_name_id}).$promise;RemovePromises.push(delNNProm)}),angular.forEach($scope.NetworkTYPEToRemove,function(ntL){var delNTProm=SITE.deleteSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:ntL.network_type_id}).$promise;RemovePromises.push(delNTProm)}),$scope.houseDirty===!0&&angular.forEach($scope.siteHouseTypesTable,function(ht){var addHtProm;void 0!==ht.site_housing_id?addHtProm=SITE_HOUSING.update({id:ht.site_housing_id},ht).$promise:(ht.site_id=$scope.aSite.site_id,addHtProm=SITE_HOUSING.save(ht).$promise),AddPromises.push(addHtProm)}),angular.forEach($scope.NetworkNAMEToAdd,function(AnnL){$scope.siteNetworkNames.push(AnnL.name);var addNNProm=SITE.postSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:AnnL.network_name_id}).$promise;AddPromises.push(addNNProm)}),angular.forEach($scope.NetworkTYPEToAdd,function(AnTL){$scope.siteNetworkTypes.push(AnTL.network_type_name);var addNTProm=SITE.postSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:AnTL.network_type_id}).$promise;AddPromises.push(addNTProm)}),$q.all(RemovePromises).then(function(){$q.all(AddPromises).then(function(response){$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],angular.forEach($scope.NetNameList,function(nn){nn.selected===!0&&$scope.siteNetworkNames.push(nn.name)}),angular.forEach($scope.NetTypeList,function(nt){nt.selected===!0&&$scope.siteNetworkTypes.push(nt.network_type_name)});var sendBack=[$scope.aSite,$scope.siteNetworkNames,$scope.siteNetworkTypes];$uibModalInstance.close(sendBack),$rootScope.stateIsLoading.showLoading=!1,toastr.success("Site updated")})["catch"](function(msg){console.error(msg)})})["catch"](function(msg){console.error(msg)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving Site: "+errorResponse.headers(["usgswim-messages"]):"Error saving Site: "+errorResponse.statusText)})},finishPOST=function(sID){var postPromises=($q.defer(),[]);angular.forEach($scope.siteHouseTypesTable,function(htype){htype.site_id=sID,delete htype.type_name;var hTPromise=SITE_HOUSING.save(htype).$promise;postPromises.push(hTPromise)}),angular.forEach($scope.NetNameList,function(nName){if(nName.selected===!0){var nNPromise=SITE.postSiteNetworkName({siteId:sID,networkNameId:nName.network_name_id}).$promise;postPromises.push(nNPromise)}}),angular.forEach($scope.NetTypeList,function(nType){if(nType.selected===!0){var nTPromise=SITE.postSiteNetworkType({siteId:sID,networkTypeId:nType.network_type_id}).$promise;postPromises.push(nTPromise)}}),$q.all(postPromises).then(function(response){$uibModalInstance.dismiss("cancel"),$rootScope.stateIsLoading.showLoading=!1,$timeout(function(){$state.go("site.dashboard",{id:sID})})})};$scope.create=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",delete $scope.aSite.Creator,delete $scope.aSite.decDegORdms,$scope.addLandowner===!0&&(void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone)?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,postSiteAndParts()},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error saving landowner contact: "+errorResponse.statusText)}):postSiteAndParts()))};var postSiteAndParts=function(){var createdSiteID=0;void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),SITE.save($scope.aSite,function(response){if(createdSiteID=response.site_id,$scope.disableSensorParts===!1){var selectedProposedSensors=$scope.ProposedSens.filter(function(p){return p.selected===!0});selectedProposedSensors.length>0?angular.forEach(selectedProposedSensors,function(propSens,index){var sID=0;angular.forEach($scope.SensorDeployment,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==propSens.deployment_type_id&&(sID=sdt.sensor_type_id)});var sensorTypeID=sID,inst={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:propSens.deployment_type_id,site_id:createdSiteID,sensor_type_id:sensorTypeID},instrumentID=0;INSTRUMENT.save(inst).$promise.then(function(insResponse){instrumentID=insResponse.instrument_id;var instStat={instrument_id:insResponse.instrument_id,status_type_id:4,member_id:$scope.aSite.member_id,time_stamp:new Date,time_zone:"UTC"};INSTRUMENT_STATUS.save(instStat).$promise.then(function(){index==selectedProposedSensors.length-1&&finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}):finishPOST(createdSiteID)}else finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})};if(void 0!==thisSiteStuff){if($scope.aSite=angular.copy(thisSiteStuff[0]),$scope.aSite.hcollect_method_id<=0&&($scope.aSite.hcollect_method_id=null),$scope.aSite.sensor_not_appropriate>0){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}var thisState=$scope.StateList.filter(function(s){return s.state_abbrev==$scope.aSite.state})[0];if($scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),thisSiteStuff[1].length>0){$scope.originalSiteHousings=thisSiteStuff[1],$scope.showSiteHouseTable=!0,$scope.siteHouseTypesTable=thisSiteStuff[2];for(var ht=0;ht<$scope.allHousingTypeList.length;ht++){for(var y=0;y<$scope.originalSiteHousings.length;y++)$scope.originalSiteHousings[y].housing_type_id==$scope.allHousingTypeList[ht].housing_type_id?($scope.allHousingTypeList[ht].selected=!0,y=$scope.originalSiteHousings.length):$scope.allHousingTypeList[ht].selected=!1;0===$scope.originalSiteHousings.length&&($scope.allHousingTypeList[ht].selected=!1)}}if(thisSiteStuff[3].length>0){for(var projNNames=angular.copy(thisSiteStuff[3]),a=0;a<$scope.NetNameList.length;a++){for(var e=0;e<projNNames.length;e++)projNNames[e].network_name_id==$scope.NetNameList[a].network_name_id?($scope.NetNameList[a].selected=!0,e=projNNames.length):$scope.NetNameList[a].selected=!1;0===projNNames.length&&($scope.NetNameList[a].selected=!1)}$scope.NetNameList[0].selected===!0&&($scope.checked="Not Defined")}if(thisSiteStuff[4].length>0)for(var projNType=angular.copy(thisSiteStuff[4]),ni=0;ni<$scope.NetTypeList.length;ni++){for(var ny=0;ny<projNType.length;ny++)projNType[ny].network_type_id==$scope.NetTypeList[ni].network_type_id?($scope.NetTypeList[ni].selected=!0,ny=projNType.length):$scope.NetTypeList[ni].selected=!1;0===projNType.length&&($scope.NetTypeList[ni].selected=!1)}void 0!==thisSiteStuff[5]&&($scope.landowner=thisSiteStuff[5],$scope.addLandowner=void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.address||void 0!==$scope.landowner.primaryphone?!0:!1),$scope.s={sOpen:!1,sFileOpen:!1}}else $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.aSite.Creator=response.fname+" "+response.lname,$scope.aSite.member_id=response.member_id,$scope.aSite.is_permanent_housing_installed="No",$scope.aSite.access_granted="Not Needed"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$scope.s={sOpen:!0};$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.HouseTypeClick=function(ht){if($scope.houseDirty=!0,ht.selected===!0){var houseT={type_name:ht.type_name,housing_type_id:ht.housing_type_id,length:ht.length,material:ht.material,notes:ht.notes,amount:1};$scope.siteHouseTypesTable.push(houseT),$scope.showSiteHouseTable=!0}if(ht.selected===!1){if(void 0!==$scope.aSite.site_id){var sH_ID=$scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0].site_housing_id;$scope.siteHousesToRemove.push(sH_ID)}var i=$scope.siteHouseTypesTable.indexOf($scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0]);$scope.siteHouseTypesTable.splice(i,1),0===$scope.siteHouseTypesTable.length&&($scope.showSiteHouseTable=!1)}},$scope.showLandOwnerPart=function(){$scope.addLandowner=!0},$scope.updateCountyList=function(s){var thisState=$scope.StateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.deleteSite=function(){var thisSite=$scope.aSite,dSiteModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Delete Site</h3></div><div class="modal-body"><p>Are you sure you want to delete site {{siteNo}}?</p></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="deleteIt()">Delete</button><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.siteNo=thisSite.site_no,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.deleteIt=function(){$uibModalInstance.close(thisSite)}}],size:"sm"});dSiteModal.result.then(function(s){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SITE["delete"]({id:s.site_id}).$promise.then(function(){toastr.success("Site Removed");var sendBack="Deleted";$uibModalInstance.close(sendBack)},function(errorResponse){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.message=errorResponse.headers("usgswim-messages"),$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}],size:"sm"})})})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteMapCtrl",["$scope","$rootScope","$cookies","$location","$state","SITE","siteHWMs","deploymentTypes","baroSensors","metSensors","rdgSensors","stormSensors","waveSensors","presTempSensors","thermSensors","webcamSensors","raingageSensors","leafletData","aSite",function($scope,$rootScope,$cookies,$location,$state,SITE,siteHWMs,deploymentTypes,baroSensors,metSensors,rdgSensors,stormSensors,waveSensors,presTempSensors,thermSensors,webcamSensors,raingageSensors,leafletData,aSite){if(void 0!==aSite){$scope.mapStuff="here's the map accordion content",$scope.thisSite=aSite,$scope.allSiteHWMs=siteHWMs,$scope.allSiteBaroSensors=baroSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteMetSensors=metSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRDGSensors=rdgSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteStormSensors=stormSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWaveSensors=waveSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSitePresTempSensors=presTempSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteThermSensors=thermSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWebSensors=webcamSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRainSensors=raingageSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allDeploymentTypes=deploymentTypes,$scope.paths={},$scope.markers=[],$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if($scope.markers=[],getProximitySites(),$scope.markers.push({layer:"stnSites",message:"<div><b>This Site Name:</b> "+$scope.thisSite.site_no+"</div>",lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,icon:icons.selected,title:"Site",eventID:0}),void 0!==newValue){for(var h=0;h<$scope.allSiteHWMs.length;h++){var eachHWM=$scope.allSiteHWMs[h];eachHWM.event_id==newValue&&$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachHWM.hwm_label+"</div>",lat:eachHWM.latitude_dd,lng:eachHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachHWM.event_id})}addSensors(newValue)}else{for(var noEventH=0;noEventH<$scope.allSiteHWMs.length;noEventH++){var eachnoEHWM=$scope.allSiteHWMs[noEventH];$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachnoEHWM.hwm_label+"</div>",lat:eachnoEHWM.latitude_dd,lng:eachnoEHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachnoEHWM.event_id})}addSensors(0)}});var addSensors=function(eventID){if(eventID>0){for(var bs=0;bs<$scope.allSiteBaroSensors.length;bs++){var bSensor=$scope.allSiteBaroSensors[bs];bSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+bSensor.status+"</div>",lat:bSensor.latitude_dd,lng:bSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:bSensor.event_id})}for(var ms=0;ms<$scope.allSiteMetSensors.length;ms++){var mSensor=$scope.allSiteMetSensors[ms];mSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==mSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+mSensor.status+"</div>",lat:mSensor.latitude_dd,lng:mSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:mSensor.event_id})}for(var rs=0;rs<$scope.allSiteRDGSensors.length;rs++){var rSensor=$scope.allSiteRDGSensors[rs];rSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+rSensor.status+"</div>",lat:rSensor.latitude_dd,lng:rSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:rSensor.event_id})}for(var ss=0;ss<$scope.allSiteStormSensors.length;ss++){var sSensor=$scope.allSiteStormSensors[ss];sSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==sSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+sSensor.status+"</div>",lat:sSensor.latitude_dd,lng:sSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:sSensor.event_id})}for(var ws=0;ws<$scope.allSiteWaveSensors.length;ws++){var wSensor=$scope.allSiteWaveSensors[ws];wSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+wSensor.status+"</div>",lat:wSensor.latitude_dd,lng:wSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:wSensor.event_id})}for(var ps=0;ps<$scope.allSitePresTempSensors.length;ps++){var pSensor=$scope.allSitePresTempSensors[ps];pSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==pSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+pSensor.status+"</div>",lat:pSensor.latitude_dd,lng:pSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:pSensor.event_id})}for(var ts=0;ts<$scope.allSiteThermSensors.length;ts++){var tSensor=$scope.allSiteThermSensors[ts];tSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+tSensor.status+"</div>",lat:tSensor.latitude_dd,lng:tSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:tSensor.event_id})}for(var webs=0;webs<$scope.allSiteWebSensors.length;webs++){var webSensor=$scope.allSiteWebSensors[webs];webSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+webSensor.status+"</div>",lat:webSensor.latitude_dd,lng:webSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:webSensor.event_id})}for(var rains=0;rains<$scope.allSiteRainSensors.length;rains++){var rainSensor=$scope.allSiteRainSensors[rains];rainSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rain gage Sensor Status:</b> "+rainSensor.status+"</div>",lat:rainSensor.latitude_dd,lng:rainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:rainSensor.event_id})}}else{for(var noEbs=0;noEbs<$scope.allSiteBaroSensors.length;noEbs++){var noEbSensor=$scope.allSiteBaroSensors[noEbs];$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+noEbSensor.status+"</div>",lat:noEbSensor.latitude_dd,lng:noEbSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:noEbSensor.event_id})}for(var noEms=0;noEms<$scope.allSiteMetSensors.length;noEms++){var noEmSensor=$scope.allSiteMetSensors[noEms];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEmSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEmSensor.status+"</div>",lat:noEmSensor.latitude_dd,lng:noEmSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:noEmSensor.event_id})}for(var noErs=0;noErs<$scope.allSiteRDGSensors.length;noErs++){var noErSensor=$scope.allSiteRDGSensors[noErs];$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+noErSensor.status+"</div>",lat:noErSensor.latitude_dd,lng:noErSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:noErSensor.event_id})}for(var noEss=0;noEss<$scope.allSiteStormSensors.length;noEss++){var noEsSensor=$scope.allSiteStormSensors[noEss];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEsSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEsSensor.status+"</div>",lat:noEsSensor.latitude_dd,lng:noEsSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:noEsSensor.event_id})}for(var noEws=0;noEws<$scope.allSiteWaveSensors.length;noEws++){var noEwSensor=$scope.allSiteWaveSensors[noEws];$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+noEwSensor.status+"</div>",lat:noEwSensor.latitude_dd,lng:noEwSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:noEwSensor.event_id})}for(var noEps=0;noEps<$scope.allSitePresTempSensors.length;noEps++){var noEpSensor=$scope.allSitePresTempSensors[noEps];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEpSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEpSensor.status+"</div>",lat:noEpSensor.latitude_dd,lng:noEpSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:noEpSensor.event_id})}for(var noEts=0;noEts<$scope.allSiteThermSensors.length;noEts++){var noEtSensor=$scope.allSiteThermSensors[noEts];$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+noEtSensor.status+"</div>",lat:noEtSensor.latitude_dd,lng:noEtSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:noEtSensor.event_id})}for(var noEwebs=0;noEwebs<$scope.allSiteWebSensors.length;noEwebs++){var noEwebSensor=$scope.allSiteWebSensors[noEwebs];$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+noEwebSensor.status+"</div>",lat:noEwebSensor.latitude_dd,lng:noEwebSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:noEwebSensor.event_id})}for(var noErains=0;noErains<$scope.allSiteRainSensors.length;noErains++){var noErainSensor=$scope.allSiteRainSensors[noErains];$scope.markers.push({layer:"stnSites",message:"<div><b>>Webcam Sensor Status:</b> "+noErainSensor.status+"</div>",lat:noErainSensor.latitude_dd,lng:noErainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:noErainSensor.event_id})}}},icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"},baroIcon:{type:"div",iconSize:[16,20],className:"stnBaroSensorIcon"},metIcon:{type:"div",iconSize:[20,20],className:"stnMetSensorIcon"},rdgIcon:{type:"div",iconSize:[22,20],className:"stnRDGSensorIcon"},stormIcon:{type:"div",iconSize:[20,20],className:"stnStormSensorIcon"},waveIcon:{type:"div",iconSize:[20,20],className:"stnWaveSensorIcon"},pressureIcon:{type:"div",iconSize:[20,20],className:"stnPressureSensorIcon"},thermIcon:{type:"div",iconSize:[16,22],className:"stnThermSensorIcon"},webcamIcon:{type:"div",iconSize:[20,20],className:"stnWebcamSensorIcon"},raingageIcon:{type:"div",iconSize:[20,20],className:"stnRaingageSensorIcon"}};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}};var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape(),angular.extend($scope,{mapCenter:{lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,zoom:16,minZoom:16},markers:$scope.markers,markersLatLngArray:[],layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"markercluster",name:"STN Sites",visible:!0}}}});var getProximitySites=function(){SITE.getProximitySites({Latitude:$scope.thisSite.latitude_dd,Longitude:$scope.thisSite.longitude_dd,Buffer:.05},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];a.site_id!==$scope.thisSite.site_id&&$scope.markers.push({layer:"stnSites",message:"<div><b>Nearby Site Name:</b> "+a.site_no+"</div>",lat:a.latitude_dd,lng:a.longitude_dd,icon:icons.stn})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteCtrl",["$scope","$state","$rootScope","$cookies","$location","$http","$uibModal","$filter","thisSite","latlong","thisSiteNetworkNames","thisSiteNetworkTypes","thisSiteHousings","SITE","MEMBER","FILE_TYPE","AGENCY","Site_Script","allHorDatums","allHorCollMethods","allStates","allCounties","allDeployPriorities","allHousingTypes","allNetworkNames","allNetworkTypes","allDeployTypes","allSensorTypes",function($scope,$state,$rootScope,$cookies,$location,$http,$uibModal,$filter,thisSite,latlong,thisSiteNetworkNames,thisSiteNetworkTypes,thisSiteHousings,SITE,MEMBER,FILE_TYPE,AGENCY,Site_Script,allHorDatums,allHorCollMethods,allStates,allCounties,allDeployPriorities,allHousingTypes,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Site Dashboard",$scope.aSite={};var showScriptToast=function(){toastr.warning("Data File Scripts are processing for this site and can take several minutes. Check back to the site dashboard later or refresh to see if script is complete and new files are ready. The output csv file contains success/error information.",null,{closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:0,extendedTimeOut:0})};if("true"==Site_Script.getIsScriptRunning()&&showScriptToast(),$scope.$on("siteDFScriptRunning",function(e,runningScript){"true"==runningScript?showScriptToast():toastr.clear()}),$scope.status={mapOpen:!1,siteOpen:!0,opOpen:!1,sensorOpen:!1,hwmOpen:!1,filesOpen:!1,peakOpen:!1},$scope.thisSiteHouseTypeModel=[],$scope.openSiteCreate=function(){$rootScope.stateIsLoading.showLoading=!0;var dropdownParts=[allHorDatums,allHorCollMethods,allStates,allCounties,allHousingTypes,allDeployPriorities,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes],siteNNamesToPass=[];if(void 0!==$scope.siteNetworkNames)for(var aNN=0;aNN<allNetworkNames.length;aNN++){var i=$scope.siteNetworkNames.map(function(e){return e}).indexOf(allNetworkNames[aNN].name);i>-1&&siteNNamesToPass.push(allNetworkNames[aNN])}var siteNTypesToPass=[];if(void 0!==$scope.siteNetworkTypes)for(var aNT=0;aNT<allNetworkTypes.length;aNT++){var a=$scope.siteNetworkTypes.map(function(e){return e}).indexOf(allNetworkTypes[aNT].network_type_name);a>-1&&siteNTypesToPass.push(allNetworkTypes[aNT])}var modalInstance=$uibModal.open({templateUrl:"SITEmodal.html",controller:"siteModalCtrl",size:"lg",keyboard:!1,backdrop:"static",windowClass:"rep-dialog",resolve:{allDropDownParts:function(){return dropdownParts},thisSiteStuff:function(){if(void 0!==$scope.aSite.site_id){var origSiteHouses=void 0!==$scope.originalSiteHousings?$scope.originalSiteHousings:[],sHouseTypeModel=$scope.thisSiteHouseTypeModel.length>0?$scope.thisSiteHouseTypeModel:[],sNetNames=siteNNamesToPass.length>0?siteNNamesToPass:[],sNetTypes=siteNTypesToPass.length>0?siteNTypesToPass:[],lo=void 0!==$scope.landowner?$scope.landowner:{},siteRelatedStuff=[$scope.aSite,origSiteHouses,sHouseTypeModel,sNetNames,sNetTypes,lo];return siteRelatedStuff}},fileTypes:function(){return FILE_TYPE.getAll().$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},agencyList:function(){return AGENCY.getAll().$promise},latlong:function(){return void 0!==latlong?latlong:void 0}}});modalInstance.result.then(function(r){"Deleted"!==r?($scope.aSite=r[0],getLandOwnerContact(),$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",$scope.siteNetworkNames=r[1],$scope.siteNetworkTypes=r[2]):($scope.aSite={},$state.go("map")),$rootScope.stateIsLoading.showLoading=!1})},void 0!==thisSite)if(void 0!==thisSite.site_id){if($scope.aSite=thisSite,$scope.aSite.decDegORdms="dd",$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",thisSiteHousings.length>0){$scope.originalSiteHousings=angular.copy(thisSiteHousings),$scope.showSiteHouseTable=!0;for(var z=0;z<$scope.originalSiteHousings.length;z++){var houseTypeName=allHousingTypes.filter(function(h){return h.housing_type_id==$scope.originalSiteHousings[z].housing_type_id})[0].type_name,houseT={type_name:houseTypeName,housing_type_id:$scope.originalSiteHousings[z].housing_type_id,site_housing_id:$scope.originalSiteHousings[z].site_housing_id,length:$scope.originalSiteHousings[z].length,material:$scope.originalSiteHousings[z].material,notes:$scope.originalSiteHousings[z].notes,amount:$scope.originalSiteHousings[z].amount};$scope.thisSiteHouseTypeModel.push(houseT)}}if($scope.siteNetworkNames=[],thisSiteNetworkNames.length>0)for(var a=0;a<thisSiteNetworkNames.length;a++){var nn=allNetworkNames.filter(function(n){return n.network_name_id==thisSiteNetworkNames[a].network_name_id})[0];$scope.siteNetworkNames.push(nn.name)}if($scope.siteNetworkTypes=[],thisSiteNetworkTypes.length>0)for(var b=0;b<thisSiteNetworkTypes.length;b++){
var nt=allNetworkTypes.filter(function(nt){return nt.network_type_id==thisSiteNetworkTypes[b].network_type_id})[0];$scope.siteNetworkTypes.push(nt.network_type_name)}$scope.sensorNotAppr=void 0!==$scope.aSite.sensor_not_appropriate||$scope.aSite.sensor_not_appropriate>0?"Yes":"No",void 0!==$scope.aSite.member_id&&$scope.aSite.member_id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$scope.aSite.member_id}).$promise.then(function(response){$scope.aSite.Creator=response.fname+" "+response.lname},function(error){$scope.aSite.Creator="Not recorded"}).$promise):$scope.aSite.Creator="Not recorded";var getLandOwnerContact=function(){null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SITE.getSiteLandOwner({id:$scope.aSite.site_id},function(response){$scope.landowner=response,$scope.addLandowner=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting landowner: "+errorResponse.headers(["usgswim-messages"]):"Error getting landowner: "+errorResponse.statusText)}).$promise)};getLandOwnerContact()}else toastr.error("This site does not exist"),$location.path("/Home").replace(),$scope.apply;else $scope.openSiteCreate()}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickCreateCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$sce","whichQuick","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","allEvents","allSensorTypes","allSensorBrands","allDeployTypes","allHousingTypes","SITE","OBJECTIVE_POINT","HWM","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE","OP_CONTROL_IDENTIFIER","GEOCODE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$sce,whichQuick,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,allEvents,allSensorTypes,allSensorBrands,allDeployTypes,allHousingTypes,SITE,OBJECTIVE_POINT,HWM,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE,OP_CONTROL_IDENTIFIER,GEOCODE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.CreateWhat=whichQuick,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")}).$promise.then(function(response){$scope.loggedInMember=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$rootScope.thisPage="Quick"+whichQuick,$scope.quickForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.decDegORdms={},$scope.EventName=$cookies.get("SessionEventName"),$scope.aSite={member_id:$cookies.get("mID")},$scope.aOP={date_established:makeAdate("")},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,"HWM"==whichQuick&&($scope.aHWM={hwm_label:"hwm-1",hwm_environment:"Riverine",event_id:$cookies.get("SessionEventID"),bank:"N/A",flag_date:makeAdate(""),stillwater:0,flag_member_id:$cookies.get("mID")},$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers),"Sensor"==whichQuick){var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.depTypeList=allDeployTypes,$scope.houseTypeList=allHousingTypes,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.aSensor={event_id:$cookies.get("SessionEventID")},$scope.aSensStatus={status_type_id:1,member_id:$cookies.get("mID")},$scope.eventList=allEvents,$scope.sensorTypeList=allSensorTypes,$scope.sensorBrandList=allSensorBrands,$scope.IntervalType={type:"Seconds"};var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone=DeptimeParts[1],$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=allSensorTypes.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)}}$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTime=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTime,$scope.aSensStatus.time_zone="UTC"}else{var i=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,i)}};$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.decDegORdms.val="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){if(delete $scope.aSite.address,delete $scope.aSite.city,delete $scope.aSite.state,$scope.stateCountyList=[],delete $scope.aSite.zip,void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.allCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address: "+errorResponse.statusText)})},$scope.chooseQuality=function(){if(""!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty);$scope.aHWM.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){if(""!==$scope.aHWM.hwm_uncertainty&&void 0!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if($scope.aHWM.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.UnquantChecked=function(){1==$scope.aOP.unquantified&&($scope.aOP.uncertainty=null)};var trimOP=function(op){var OBJ_PT={objective_point_id:void 0!==op.objective_point_id?op.objective_point_id:0,name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:op.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.RemoveID=function(opControl){var i=$scope.addedIdentifiers.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiers.splice(i,1)):$scope.addedIdentifiers.splice(i,1)};var formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.elev_ft=3.2808*$scope.aOP.elev_ft),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.uncertainty=$scope.aOP.uncertainty/30.48)};$scope.tapedown={Open:!1};var showNeedOPfirstModal=function(){var needOPModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Datum Location</h3></div><div class="modal-body"><p>In order to add tape down information, please populate the Datum Location section above first.</p><p>The following fields are required for the tape down section: <b>Name</b>, <b>Elevation</b> and <b>Vertical Datum</b>.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});needOPModal.result.then(function(){$scope.tapedown.Open=!1})};$scope.tapeDownTable=[],$scope.removeOP=function(){var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you don\'t want to add this OP Measurement to this quick sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){"remove"==yesOrNo&&($scope.tapedown.Open=!1,$scope.tapeDownTable.splice(0,1),$scope.OPsForTapeDown=[],$scope.OPMeasure={},$scope.addTapedown=!1,$scope.aSensStatus.sensor_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.vdatum_id="")})},$scope.addTapedown=!1,$scope.OPsForTapeDown=[],$scope.showTapedownPart=function(){$scope.tapeDownTable.length<1?void 0!==$scope.aOP.name&&void 0!==$scope.aOP.elev_ft&&void 0!==$scope.aOP.vdatum_id?($scope.OPMeasure={},$scope.OPMeasure.op_name=$scope.aOP.name,$scope.OPMeasure.elevation=$scope.aOP.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.aOP.vdatum_id})[0].datum_abbreviation,$scope.tapeDownTable.push($scope.OPMeasure),$scope.OPsForTapeDown.push($scope.aOP),$scope.addTapedown=!0,$scope.tapedown.Open=!0,$scope.aSensStatus.vdatum_id=$scope.aOP.vdatum_id):showNeedOPfirstModal():($scope.addTapedown=!0,$scope.tapedown.Open=!0)},$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.quickForm.quick;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0===$scope.aSite.latitude_dd&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0===$scope.aSite.longitude_dd&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))openLatModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0);else if($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))openLongModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0);else{var createdSiteID=0;SITE.save($scope.aSite,function(response){createdSiteID=response.site_id,$scope.aOP.site_id=createdSiteID,$scope.aOP.latitude_dd=response.latitude_dd,$scope.aOP.longitude_dd=response.longitude_dd,$scope.aOP.hdatum_id=response.hdatum_id,$scope.aOP.hcollect_method_id=response.hcollect_method_id,"HWM"==$scope.CreateWhat&&($scope.aHWM.site_id=createdSiteID,$scope.aHWM.waterbody=response.waterbody,$scope.aHWM.latitude_dd=response.latitude_dd,$scope.aHWM.longitude_dd=response.longitude_dd,$scope.aHWM.hcollect_method_id=response.hcollect_method_id,$scope.aHWM.hdatum_id=response.hdatum_id,$scope.aHWM.flag_member_id=response.member_id,$scope.aHWM.event_id=$cookies.get("SessionEventID"));var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOPControlID=$scope.addedIdentifiers[opc];thisOPControlID.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise}if("HWM"==$scope.CreateWhat){void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),void 0!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}if("Sensor"==$scope.CreateWhat){var createdSensor={};"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.site_id=createdSiteID,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save($scope.aSensor).$promise.then(function(response){instrumentID=response.instrument_id,createdSensor=response,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0){var thisTape=$scope.tapeDownTable[0];thisTape.instrument_status_id=statResponse.instrument_status_id,thisTape.objective_point_id=createdOP.objective_point_id,OP_MEASURE.save(thisTape).$promise}toastr.success("Quick Sensor created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.site_description.$invalid||theForm.latitude_dd.$invalid||theForm.longitude_dd.$invalid||theForm.hdatum_id.$invalid||theForm.hcollect_method_id.$invalid||theForm.waterbody.$invalid||theForm.state.$invalidv||theForm.county.$invalid)&&($scope.siteErrors=!0),(theForm.op_type_id.$invalid||theForm.name.$invalid||theForm.description.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.hwm_type_id.$invalid||theForm.hwm_environment.$invalid||theForm.hwm_quality_id.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteSearchCtrl",["$scope","$cookies","$rootScope","$location","stateList","sensorTypes","networkNames","SITE",function($scope,$cookies,$rootScope,$location,stateList,sensorTypes,networkNames,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Site Search",$rootScope.activeMenu="sites",$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.Chosen={},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},void 0!==$rootScope.searchParams){var thisSearch=$rootScope.searchParams;$scope.sessionEvent=Number(thisSearch.event);for(var i=0;i<$scope.states.length;i++){for(var y=0;y<thisSearch.state.length;y++)thisSearch.state[y]==$scope.states[i].state_abbrev?($scope.states[i].selected=!0,y=thisSearch.state.length):$scope.states[i].selected=!1;0===thisSearch.state.length&&($scope.states[i].selected=!1)}$scope.chosenStates=thisSearch.state,$scope.Chosen.sensor=thisSearch.SensorType,$scope.Chosen.network=thisSearch.NetworkName,$scope.Chosen.survey=thisSearch.HWMSurveyed,$scope.checkboxModel.hwmOnly=thisSearch.HWMOnly,$scope.checkboxModel.senOnly=thisSearch.SensorOnly,$scope.checkboxModel.rdgOnly=thisSearch.RDGOnly,$scope.checkboxModel.opDefined=thisSearch.OPDefined,SITE.getFilteredSites({Event:$scope.sessionEvent,State:$scope.chosenStates.join(),SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}$scope.searchSites=function(){$rootScope.stateIsLoading.showLoading=!0;var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error filtered sites: "+errorResponse.statusText)})},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1})}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("settingsCtrl",["$scope","$rootScope","$cookies","$location","$state",function($scope,$rootScope,$cookies,$location,$state){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings",$rootScope.activeMenu="settings",$scope.settings="Welcome to the new STN Settings Page!!",$scope.changeView=function(view){$state.go(view)})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("sensorModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","agencyList","Site_Files","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,agencyList,Site_Files,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE){$scope.sensorTypeList=allDropdowns[0],$scope.sensorBrandList=allDropdowns[1],$scope.houseTypeList=allDropdowns[2],$scope.eventList=allDropdowns[3],$scope.fileTypeList=allDropdowns[4],$scope.vertDatumList=allDropdowns[5],$scope.depSenfileIsUploading=!1,$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.DepSensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.depSensImageFiles=$scope.DepSensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.OPsForTapeDown=siteOPs,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.IntervalType={},$scope.whichButton="",$scope.serverURL=SERVER_URL,$scope.nwisHeaderTip=$sce.trustAsHtml("Connect your transmitting sensor with NWIS via <em>Station ID for USGS gage</em> from the Site details."),$scope.view={DEPval:"detail",RETval:"detail"},$scope.sensorDataNWIS=!1,$scope.s={depOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartOptions1={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions1={},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),
void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse1Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else{$scope.chartData=response.time.zip(response.pressure);var sDate=new Date(response.time[0]).toISOString(),eDate=new Date(response.time[response.time.length-1]).toISOString(),sd=getDateTimeParts(sDate),ed=getDateTimeParts(eDate);$scope.datafile.good_start=sd,$scope.datafile.good_end=ed,$scope.chartOptions1={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",resetZoomButton:{position:{align:"left",verticalAlign:"bottom",y:70}},panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse1Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse1Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse1=!0}},function(error){console.log(error)})}else alert("You need to choose a file first")};var getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File1&&void 0==$scope.aFile.File)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),$scope.depSensImageFiles.push(fresponse)),$scope.DepSensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.DepSensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.depSensImageFiles.length>0?$scope.depSensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone="UTC",$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.depSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,DATA_FILE["delete"]({id:datafileID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisSensorSite.site_id,$scope.aFile.instrument_id=thisSensor.instrument_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.depSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file': "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.DepSensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1},$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",file_date:new Date,filetype_id:2,FileType:"Data",site_id:$scope.aSensor.site_id,data_file_id:0,instrument_id:$scope.aSensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.aSensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISDF.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($scope.depNWISSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISDF.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),$scope.NWISFile.data_file_id=NdfResponse.data_file_id,$scope.NWISFile.path="<link>",delete $scope.NWISFile.FileType,FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File created"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?($scope.depTapeCopy.push($scope.OPMeasure),$scope.depStuffCopy[1].vdatum_id=opChosen.vdatum_id):($scope.tapeDownTable.push($scope.OPMeasure),$scope.aSensStatus.vdatum_id=opChosen.vdatum_id);else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var createOrEdit=void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?"edit":"create",tapeDownToRemove="edit"==createOrEdit?$scope.depTapeCopy.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0]:$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd="edit"==createOrEdit?$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id):$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),"edit"==createOrEdit?$scope.depTapeCopy.splice(tInd,1):$scope.tapeDownTable.splice(tInd,1),"edit"==createOrEdit?0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation=""):0===$scope.tapeDownTable.length&&($scope.aSensStatus.vdatum_id=0,$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){
return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSensor={},$scope.aSensStatus={},$scope.thisSensorSite=SensorSite,$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sensorObjectToSendBack=thisSensor;$timeout(function(){var sendBack=[sensorObjectToSendBack];$uibModalInstance.close(sendBack)})},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var dealWithTimeStampb4Send=function(w){if("saving"==w)if("UTC"!=$scope.depStuffCopy[1].time_zone){var utcDateTimeS=new Date($scope.depStuffCopy[1].time_stamp).toUTCString();$scope.depStuffCopy[1].time_stamp=utcDateTimeS,$scope.depStuffCopy[1].time_zone="UTC"}else{var i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3;$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)}else if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTimeD=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTimeD,$scope.aSensStatus.time_zone="UTC"}else{var Di=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,Di)}};if($scope.save=function(valid){if(valid){var updatedSensor={},updatedSenStat={};void 0!==$scope.adminChanged.event_id&&($scope.depStuffCopy[0].event_id=$scope.adminChanged.event_id),"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("saving"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id==$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==$scope.depStuffCopy[0].sensor_type_id})[0].sensor,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.removeOPList.length;rt++){var idToRemove=$scope.removeOPList[rt];OP_MEASURE["delete"]({id:idToRemove}).$promise}$scope.tapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.tapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating measurement: "+errorResponse.headers(["usgswim-messages"]):"Error creating measurement: "+errorResponse.statusText)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed";var instrument_statusesHolder=$scope.aSensor.instrument_status;$scope.aSensor=updatedSensor,thisSensor=updatedSensor,thisSensor.instrument_status=instrument_statusesHolder,$scope.aSensStatus=updatedSenStat,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp);var ind=thisSensor.instrument_status.map(function(i){return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.aSensStatus,$scope.depStuffCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.deploy=function(){if(this.SensorForm.$valid)if("Proposed sensor at this site. Change description when deploying sensor."!==$scope.aSensor.location_description){"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.event_id=$cookies.get("SessionEventID"),$scope.aSensor.site_id=SensorSite.site_id;var storeTZ=angular.copy($scope.aSensStatus.time_zone);dealWithTimeStampb4Send("deploy"),$scope.aSensStatus.status_type_id=1,$scope.aSensStatus.member_id=$cookies.get("mID");var createdSensor={},depSenStat={};if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSensor.instrument_id)INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){createdSensor=response,createdSensor.deploymentType=$scope.aSensor.deploymentType,createdSensor.housingType=response.housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat,$scope.previousStateStatus],$timeout(function(){toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)});else{var instrumentID=0;INSTRUMENT.save($scope.aSensor).$promise.then(function(response){instrumentID=response.instrument_id,createdSensor=response,createdSensor.deploymentType=null!==response.deployment_type_id&&void 0!==response.deployment_type_id?$scope.depTypeList.filter(function(d){return d.deployment_type_id==response.deployment_type_id})[0].method:"",createdSensor.housingType=null!==response.housing_type_id&&void 0!==response.housing_type_id?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id;var statDate=angular.copy(new Date($scope.aSensStatus.time_stamp).getFullYear()+"-"+("0"+(new Date($scope.aSensStatus.time_stamp).getMonth()+1)).slice(-2)+"-"+new Date($scope.aSensStatus.time_stamp).getDate()+"T"+("0"+new Date($scope.aSensStatus.time_stamp).getHours()).slice(-2)+":"+new Date($scope.aSensStatus.time_stamp).getMinutes());INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat],toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)},function(errorResponse){$scope.aSensStatus.time_stamp=getDateTimeParts(statDate),$scope.aSensStatus.time_zone=storeTZ,INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must update the Location Description when deploying a proposed sensor.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",backdrop:"static",keyboard:!1,resolve:{nameToRemove:function(){return $scope.aSensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.DepSensorFiles=[],$scope.depSensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor: "+errorResponse.statusText)})})},"empty"!=thisSensor){if($scope.aSensor=angular.copy(thisSensor),$scope.aSensStatus=angular.copy(thisSensor.instrument_status[0]),$scope.sensorDataNWIS=2==$scope.aSensor.sensor_type_id||5==$scope.aSensor.sensor_type_id||6==$scope.aSensor.sensor_type_id?!0:!1,$scope.getDepTypes(),$scope.IntervalType.type="Seconds",$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.DepSensorFiles.length-1;ai>=0;ai--)1==$scope.DepSensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.DepSensorFiles[ai]),$scope.DepSensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}if("Proposed"==thisSensor.instrument_status[0].status){$scope.previousStateStatus=angular.copy(thisSensor.instrument_status[0]),$scope.whichButton="deployP",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval;var timeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=timeParts[0],$scope.aSensStatus.time_zone=timeParts[1],$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember}else $scope.whichButton="edit",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval,$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aSensor.event_id})[0].event_name,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp),$scope.Deployer=null!==$scope.aSensStatus.member_id||void 0!==$scope.aSensStatus.member_id?allMembers.filter(function(m){return m.member_id==$scope.aSensStatus.member_id})[0]:{},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.aSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.tapeDownTable.push(sensMeasures)}for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<response.length;y++)response[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=response.length):$scope.OPsForTapeDown[i].selected=!1;0===response.length&&($scope.OPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});$rootScope.stateIsLoading.showLoading=!1}else{$scope.whichButton="deploy",$scope.IntervalType.type="Seconds";var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone="UTC",$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember,$rootScope.stateIsLoading.showLoading=!1}$scope.myData=[$scope.aSensStatus.sensor_elevation,$scope.aSensStatus.ws_elevation,$scope.aSensStatus.gs_elevation],$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.aSensor),angular.copy($scope.aSensStatus)],$scope.depTapeCopy=angular.copy($scope.tapeDownTable)},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<$scope.tapeDownTable.length;y++)$scope.tapeDownTable[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=$scope.tapeDownTable.length):$scope.OPsForTapeDown[i].selected=!1;0===$scope.tapeDownTable.length&&($scope.OPsForTapeDown[i].selected=!1)}}}]),ModalControllers.controller("sensorRetrievalModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$uibModalInstance","$uibModal","thisSensor","SensorSite","siteOPs","allEventList","allVDatumList","allMembers","allStatusTypes","allInstCollCond","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$uibModalInstance,$uibModal,thisSensor,SensorSite,siteOPs,allEventList,allVDatumList,allMembers,allStatusTypes,allInstCollCond,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE){$scope.aSensor=thisSensor,$scope.EventName=allEventList.filter(function(r){return r.event_id==$scope.aSensor.event_id})[0].event_name,$scope.depSensStatus=angular.copy(thisSensor.instrument_status[0]);var isDate="[object Date]"===Object.prototype.toString.call($scope.depSensStatus.time_stamp);if(isDate===!1){var y=$scope.depSensStatus.time_stamp.substr(0,4),m=$scope.depSensStatus.time_stamp.substr(5,2)-1,d=$scope.depSensStatus.time_stamp.substr(8,2),h=$scope.depSensStatus.time_stamp.substr(11,2),mi=$scope.depSensStatus.time_stamp.substr(14,2),sec=$scope.depSensStatus.time_stamp.substr(17,2);$scope.depSensStatus.time_stamp=new Date(y,m,d,h,mi,sec)}void 0!==$scope.depSensStatus.vdatum_id&&$scope.depSensStatus.vdatum_id>0&&($scope.depSensStatus.VDatum=allVDatumList.filter(function(v){return v.datum_id==$scope.depSensStatus.vdatum_id})[0].datum_abbreviation),$scope.OPsForTapeDown=siteOPs,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.vertDatumList=allVDatumList,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.DEPtapeDownTable=[],$scope.Deployer=allMembers.filter(function(m){return m.member_id==$scope.depSensStatus.member_id})[0],$scope.whichButton="Retrieve",$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.collectCondList=allInstCollCond,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole");var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,$scope.tapeDownTable.push($scope.OPMeasure),$scope.aRetrieval.vdatum_id=opChosen.vdatum_id;else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var tapeDownToRemove=$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd=$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),$scope.tapeDownTable.splice(tInd,1),0===$scope.tapeDownTable.length&&($scope.aRetrieval.vdatum_id=0,$scope.aRetrieval.gs_elevation="",$scope.aRetrieval.ws_elevation="",$scope.aRetrieval.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.depSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.DEPtapeDownTable.push(sensMeasures)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});var dtparts=getTimeZoneStamp();$scope.aRetrieval={time_stamp:dtparts[0],time_zone:dtparts[1],instrument_id:$scope.aSensor.instrument_id,member_id:$cookies.get("mID")},$scope.Retriever=allMembers.filter(function(am){return am.member_id==$cookies.get("mID")})[0];var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aRetrieval.time_zone){var utcDateTime=new Date($scope.aRetrieval.time_stamp).toUTCString();$scope.aRetrieval.time_stamp=utcDateTime,$scope.aRetrieval.time_zone="UTC"}else{var i=$scope.aRetrieval.time_stamp.toString().indexOf("GMT")+3;$scope.aRetrieval.time_stamp=$scope.aRetrieval.time_stamp.toString().substring(0,i)}};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")};var depTimeStampb4Send=function(){var returnThis,i=$scope.depSensStatus.time_stamp.toString().indexOf("GMT")+3;return returnThis=$scope.depSensStatus.time_stamp.toString().substring(0,i)};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.retrieveS=function(valid){if(valid){dealWithTimeStampb4Send();var depSenTS=depTimeStampb4Send(),retSenTS=angular.copy($scope.aRetrieval.time_stamp.replace(/\,/g,""));if(new Date(retSenTS)<new Date(depSenTS)){var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The retrieval date must be after the deployed date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){$scope.aRetrieval.time_stamp="",$scope.aRetrieval.time_stamp=getTimeZoneStamp()[0],$scope.aRetrieval.time_zone=getTimeZoneStamp()[1],angular.element("#retrievalDate").trigger("focus")})}else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedSensor={},createRetSens={};INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.aSensor.deploymentType,updatedSensor.housingType=$scope.aSensor.housingType,updatedSensor.sensorBrand=$scope.aSensor.sensorBrand,updatedSensor.sensorType=$scope.aSensor.sensorType,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.aSensor.inst_collection_id})[0].condition,INSTRUMENT_STATUS.save($scope.aRetrieval).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}createRetSens=statResponse,createRetSens.status=2==statResponse.status_type_id?"Retrieved":"Lost",updatedSensor.instrument_status=[createRetSens,thisSensor.instrument_status[0]],$timeout(function(){toastr.success("Sensor retrieved");var state="retrieved",sendBack=[updatedSensor,state];$uibModalInstance.close(sendBack)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error retrieving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error retrieving sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}}},$rootScope.stateIsLoading.showLoading=!1}]),ModalControllers.controller("fullSensorModalCtrl",["$scope","$rootScope","$filter","$timeout","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDepDropdowns","agencyList","Site_Files","allStatusTypes","allInstCollCond","allEvents","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","allEventDataFiles","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE","Site_Script",function($scope,$rootScope,$filter,$timeout,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDepDropdowns,agencyList,Site_Files,allStatusTypes,allInstCollCond,allEvents,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,allEventDataFiles,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE,Site_Script){function calcDistance(lat1,lon1){var radlat1=Math.PI*lat1/180,radlat2=Math.PI*$scope.thisSensorSite.latitude_dd/180,theta=lon1-$scope.thisSensorSite.longitude_dd,radtheta=Math.PI*theta/180,dist=Math.sin(radlat1)*Math.sin(radlat2)+Math.cos(radlat1)*Math.cos(radlat2)*Math.cos(radtheta);return dist=Math.acos(dist),dist=180*dist/Math.PI,dist=60*dist*1.1515}$scope.serverURL=SERVER_URL,$scope.fullSenfileIsUploading=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.sensorTypeList=allDepDropdowns[0],$scope.sensorBrandList=allDepDropdowns[1],$scope.houseTypeList=allDepDropdowns[2],$scope.fileTypeList=allDepDropdowns[3],$scope.vertDatumList=allDepDropdowns[4],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.sensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.sensImageFiles=$scope.sensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.sensorDataNWIS=!1,$scope.collectCondList=allInstCollCond,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.DEPOPsForTapeDown=angular.copy(siteOPs),$scope.RETOPsForTapeDown=angular.copy(siteOPs),$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.eventDataFiles=[],$scope.is4Hz={selected:!1},$scope.IntervalType={type:"Seconds"},$scope.view={DEPval:"detail",RETval:"detail"};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]},getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.thisSensorSite=SensorSite,$scope.userRole=$cookies.get("usersRole"),$scope.sensor=angular.copy(thisSensor),$scope.sensorDataNWIS=2==$scope.sensor.sensor_type_id||5==$scope.sensor.sensor_type_id||6==$scope.sensor.sensor_type_id?!0:!1,$scope.DeployedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Deployed"===inst.status})[0]),$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),$scope.Deployer=allMembers.filter(function(m){return m.member_id===$scope.DeployedSensorStat.member_id})[0],$scope.DEPremoveOPList=[],$scope.DEPtapeDownTable=[],$scope.DEPOPchosen=function(DEPopChosen){var opI=$scope.DEPOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(DEPopChosen.objective_point_id);if(DEPopChosen.selected)$scope.DEPOPMeasure={},$scope.DEPOPMeasure.op_name=DEPopChosen.name,$scope.DEPOPMeasure.elevation=DEPopChosen.elev_ft,$scope.DEPOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==DEPopChosen.vdatum_id})[0].datum_abbreviation,$scope.DEPOPMeasure.objective_point_id=DEPopChosen.objective_point_id,$scope.depTapeCopy.push($scope.DEPOPMeasure),$scope.depStuffCopy[1].vdatum_id=DEPopChosen.vdatum_id;else{var DEPremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this deployed sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="DEPok()">OK</button><button class="btn btn-primary" ng-click="DEPcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.DEPok=function(){$uibModalInstance.close("remove")},$scope.DEPcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});DEPremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var DEPtapeDownToRemove=$scope.depTapeCopy.filter(function(a){return a.objective_point_id==DEPopChosen.objective_point_id})[0],DEPtInd=$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(DEPtapeDownToRemove.objective_point_id);void 0!==DEPtapeDownToRemove.op_measurements_id&&$scope.DEPremoveOPList.push(DEPtapeDownToRemove.op_measurements_id),$scope.depTapeCopy.splice(DEPtInd,1),0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation="")}else $scope.DEPOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.DeployedSensorStat.instrument_status_id}).$promise.then(function(DEPresponse){for(var r=0;r<DEPresponse.length;r++){var DEPsensMeasures=DEPresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0];DEPsensMeasures.elevation=whichOP.elev_ft,DEPsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,DEPsensMeasures.op_name=$scope.DEPOPsForTapeDown.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0].name,$scope.DEPtapeDownTable.push(DEPsensMeasures)}for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<DEPresponse.length;y++)DEPresponse[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=DEPresponse.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===DEPresponse.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Retrieved"===inst.status})[0]),void 0===$scope.RetrievedSensorStat?($scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Lost"===inst.status})[0]),$scope.mostRecentStatus="Lost"):$scope.mostRecentStatus="Retrieved",void 0!==$scope.RetrievedSensorStat.vdatum_id&&$scope.RetrievedSensorStat.vdatum_id>0&&($scope.RetrievedSensorStat.vdatumName=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.RetrievedSensorStat.vdatum_id})[0].datum_abbreviation),$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),$scope.Retriever=allMembers.filter(function(m){return m.member_id===$scope.RetrievedSensorStat.member_id})[0],$scope.RETremoveOPList=[],$scope.RETtapeDownTable=[],$scope.RETOPchosen=function(RETopChosen){var opI=$scope.RETOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(RETopChosen.objective_point_id);if(RETopChosen.selected)$scope.RETOPMeasure={},$scope.RETOPMeasure.op_name=RETopChosen.name,$scope.RETOPMeasure.elevation=RETopChosen.elev_ft,$scope.RETOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==RETopChosen.vdatum_id;

})[0].datum_abbreviation,$scope.RETOPMeasure.objective_point_id=RETopChosen.objective_point_id,$scope.retTapeCopy.push($scope.RETOPMeasure),$scope.retStuffCopy[1].vdatum_id=RETopChosen.vdatum_id;else{var RETremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this retrieved sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="RETok()">OK</button><button class="btn btn-primary" ng-click="RETcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.RETok=function(){$uibModalInstance.close("remove")},$scope.RETcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});RETremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var RETtapeDownToRemove=$scope.retTapeCopy.filter(function(a){return a.objective_point_id==RETopChosen.objective_point_id})[0],RETtInd=$scope.retTapeCopy.map(function(o){return o.objective_point_id}).indexOf(RETtapeDownToRemove.objective_point_id);$scope.RETremoveOPList.push(RETtapeDownToRemove.op_measurements_id),$scope.retTapeCopy.splice(RETtInd,1),0===$scope.retTapeCopy.length&&($scope.retStuffCopy[1].vdatum_id=0,$scope.retStuffCopy[1].gs_elevation="",$scope.retStuffCopy[1].ws_elevation="",$scope.retStuffCopy[1].sensor_elevation="")}else $scope.RETOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.RetrievedSensorStat.instrument_status_id}).$promise.then(function(RETresponse){for(var r=0;r<RETresponse.length;r++){var RETsensMeasures=RETresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0];RETsensMeasures.elevation=whichOP.elev_ft,RETsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,RETsensMeasures.op_name=$scope.RETOPsForTapeDown.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0].name,$scope.RETtapeDownTable.push(RETsensMeasures)}for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<RETresponse.length;y++)RETresponse[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=RETresponse.length):$scope.RETOPsForTapeDown[i].selected=!1;0===RETresponse.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.EventName=allEvents.filter(function(e){return e.event_id===$scope.sensor.event_id})[0].event_name,$scope.s={depOpen:!1,retOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getDepTypes=function(sensType){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==sensType.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes},$scope.getDepTypes($scope.sensor),$scope.cancel=function(){$timeout(function(){var sendBack=[thisSensor];$uibModalInstance.close(sendBack)})};var dealWithTimeStampb4Send=function(w){var utcDateTime,i;"deployed"===w?"UTC"!=$scope.depStuffCopy[1].time_zone?(utcDateTime=new Date($scope.depStuffCopy[1].time_stamp).toUTCString(),$scope.depStuffCopy[1].time_stamp=utcDateTime,$scope.depStuffCopy[1].time_zone="UTC"):(i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)):"UTC"!=$scope.retStuffCopy[1].time_zone?(utcDateTime=new Date($scope.retStuffCopy[1].time_stamp).toUTCString(),$scope.retStuffCopy[1].time_stamp=utcDateTime,$scope.retStuffCopy[1].time_zone="UTC"):(i=$scope.retStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.retStuffCopy[1].time_stamp=$scope.retStuffCopy[1].time_stamp.toString().substring(0,i))};$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.DeployedSensorStat)],$scope.depTapeCopy=angular.copy($scope.DEPtapeDownTable)},$scope.saveDeployed=function(valid){if(valid){var updatedSensor={},updatedSenStat={};"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("deployed"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.depStuffCopy[0].sensor_type_id})[0].sensor,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.depStuffCopy[0].inst_collection_id})[0].condition,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.DEPremoveOPList.length;rt++){var DEPidToRemove=$scope.DEPremoveOPList[rt];OP_MEASURE["delete"]({id:DEPidToRemove}).$promise}$scope.DEPtapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.DEPtapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed",$scope.sensor=updatedSensor;var allStatusHolder=thisSensor.instrument_status;thisSensor=updatedSensor,$scope.DeployedSensorStat=updatedSenStat,$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),thisSensor.instrument_status=allStatusHolder;var ind=thisSensor.instrument_status.map(function(i){return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.DeployedSensorStat,$scope.sensor.instrument_status=thisSensor.instrument_status,$scope.depStuffCopy=[],$scope.depTapeCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<$scope.DEPtapeDownTable.length;y++)$scope.DEPtapeDownTable[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=$scope.DEPtapeDownTable.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===$scope.DEPtapeDownTable.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},$scope.wannaEditRet=function(){$scope.view.RETval="edit",$scope.retStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.RetrievedSensorStat)],$scope.retTapeCopy=angular.copy($scope.RETtapeDownTable)},$scope.saveRetrieved=function(valid){if(valid){var updatedRetSensor={};dealWithTimeStampb4Send("retrieved"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.retStuffCopy[0].instrument_id},$scope.retStuffCopy[0]).$promise.then(function(response){updatedRetSensor=response,updatedRetSensor.deploymentType=$scope.retStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.retStuffCopy[0].deployment_type_id})[0].method:"",updatedRetSensor.housingType=$scope.retStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.retStuffCopy[0].housing_type_id})[0].type_name:"",updatedRetSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.retStuffCopy[0].sensor_brand_id})[0].brand_name,updatedRetSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.retStuffCopy[0].sensor_type_id})[0].sensor,updatedRetSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.retStuffCopy[0].inst_collection_id})[0].condition,$scope.sensor=updatedRetSensor;var statsHolder=thisSensor.instrument_status;thisSensor=updatedRetSensor,thisSensor.instrument_status=statsHolder,INSTRUMENT_STATUS.update({id:$scope.retStuffCopy[1].instrument_status_id},$scope.retStuffCopy[1]).$promise.then(function(statResponse){$scope.mostRecentStatus=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat=statResponse,$scope.RetrievedSensorStat.status=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),thisSensor.instrument_status[0]=$scope.RetrievedSensorStat;for(var rt=0;rt<$scope.RETremoveOPList.length;rt++){var RETidToRemove=$scope.RETremoveOPList[rt];OP_MEASURE["delete"]({id:RETidToRemove}).$promise}$scope.RETtapeDownTable=$scope.retTapeCopy.length>0?[]:$scope.RETtapeDownTable;for(var at=0;at<$scope.retTapeCopy.length;at++){var RETthisTape=$scope.retTapeCopy[at];void 0!==RETthisTape.op_measurements_id?OP_MEASURE.update({id:RETthisTape.op_measurements_id},RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}):(RETthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}))}$scope.retStuffCopy=[],$scope.retTapeCopy=[],$scope.view.RETval="detail",toastr.success("Sensor updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelRetEdit=function(){$scope.view.RETval="detail",$scope.retStuffCopy=[],$scope.retTapeCopy=[];for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<$scope.RETtapeDownTable.length;y++)$scope.RETtapeDownTable[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=$scope.RETtapeDownTable.length):$scope.RETOPsForTapeDown[i].selected=!1;0===$scope.RETtapeDownTable.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.sensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.sensorFiles=[],$scope.sensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor: "+errorResponse.statusText)})})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File&&void 0==$scope.aFile.File1)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.sensImageFiles.splice($scope.existIMGFileIndex,1),$scope.sensImageFiles.push(fresponse)),$scope.sensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.sensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.sensImageFiles.length>0?$scope.sensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&($scope.ApprovalInfo={},DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),void 0!==df.approval_id&&null!==df.approval_id&&df.approval_id>=1&&DATA_FILE.getDFApproval({id:df.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file approval: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file approval: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)}))}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone=dt[1],$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.fullSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.fullSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.eventDataFiles=[],$scope.is4Hz={selected:!1}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",
controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})})},$scope.runAirScript=function(){if(void 0!==$scope.DeployedSensorStat.sensor_elevation&&void 0!==$scope.RetrievedSensorStat.sensor_elevation)if("true"==$scope.aFile.script_parent){var rerunModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Air Script has already been processed for this sensor data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theFile",function($scope,$uibModalInstance,theFile){$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){$uibModalInstance.close(theFile)}}],size:"sm",resolve:{theFile:function(){return $scope.aFile}}});rerunModal.result.then(function(afile){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==afile.file_id.toString()}),matchCnt=0;0==processedFileCount&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()),$scope.sensorFiles.forEach(function(f){f.script_parent==afile.file_id.toString()&&FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile())},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})})})}else $scope.showProcessing=!0,DATA_FILE.runAirScript({airDFID:$scope.datafile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile();else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This Pressure Transducer Sensor does not have a sensor elevation.</p><p>Please update the sensor, providing a sensor elevation for both the deployed section and retrieved section. This is required for the script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.showStormSection=function(){$scope.stormSection=!0;angular.forEach(allEventDataFiles,function(df){df.selected=!1,df.distance=calcDistance(df.latitude_dd,df.longitude_dd),(void 0===df.script_parent||"true"==df.script_parent)&&$scope.eventDataFiles.push(df)}),$scope.eventDataFiles.sort(function(a,b){return parseFloat(a.distance)-parseFloat(b.distance)})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.pagination={currentPage:1,maxPaginationSize:200},$scope.itemsPerPage=10,$scope.updatePageIndexes=function(a){console.log("Page changed to: "+$scope.pagination.currentPage),$scope.firstIndex=($scope.pagination.currentPage-1)*$scope.itemsPerPage,$scope.lastIndex=$scope.pagination.currentPage*$scope.itemsPerPage},$scope.updatePageIndexes(),$scope.updateChosenAirRadio=function(dfile){for(var i=0;i<$scope.eventDataFiles.length;i++)dfile.data_file_id!=$scope.eventDataFiles[i].data_file_id&&($scope.eventDataFiles[i].selected="false")};var runTheStormScript=function(airDF){INSTRUMENT.getFullInstrument({id:airDF.instrument_id}).$promise.then(function(airSensor){var waterDF=(airSensor.instrument_status,$scope.datafile.data_file_id),boolVal=$scope.is4Hz.selected;DATA_FILE.runStormScript({seaDFID:waterDF,airDFID:airDF.data_file_id,hertz:boolVal,username:$cookies.get("STNUsername")}).$promise.then(function(){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()},function(error){toastr.error("Error retrieving Air Sensor: "+error.statusText)})};if($scope.runStormScript=function(){var airDF=$scope.eventDataFiles.filter(function(d){return"true"==d.selected})[0];if(void 0!==airDF){var waterFile=$scope.sensorFiles.filter(function(f){return f.data_file_id==$scope.datafile.data_file_id})[0],watAirIDS=waterFile.file_id+"_"+airDF.file_id,alreadyRan=!1;if($scope.sensorFiles.forEach(function(sensFile){sensFile.script_parent==watAirIDS&&(alreadyRan=!0)}),alreadyRan){var rerunStormModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Storm Script has already been processed for this sensor data file with this air data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theAirFile","theWaterFile",function($scope,$uibModalInstance,theAirFile,theWaterFile){$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){var filesArray=[theAirFile,theWaterFile];$uibModalInstance.close(filesArray)}}],size:"sm",resolve:{theAirFile:function(){return airDF},theWaterFile:function(){return waterFile}}});rerunStormModal.result.then(function(bothFiles){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()}),matchCnt=0;$scope.sensorFiles.forEach(function(f){if(f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()){{f.file_id}FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&runTheStormScript(airDF)},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})}})})}else runTheStormScript(airDF)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please choose an air data file to use for the storm script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartOptions2={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions2={},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse2Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else $scope.chartData=response.time.zip(response.pressure),$scope.chartOptions2={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse2Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse2Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse2=!0},function(error){console.log(error)})}else alert("You need to choose a file first")},$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.sensorFiles.length-1;ai>=0;ai--)1==$scope.sensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.sensorFiles[ai]),$scope.sensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={file_date:new Date,filetype_id:2,name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",FileType:"Data",site_id:$scope.sensor.site_id,data_file_id:0,instrument_id:$scope.sensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.sensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISFile.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISFile.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File Data saved"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("sensorCtrl",["$scope","$rootScope","$q","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Instrument_Service","thisSiteSensors","allSensorBrands","allAgencies","allVertDatums","allDeployTypes","allSensorTypes","allHousingTypes","allEvents","allFileTypes","INSTRUMENT","INSTRUMENT_STATUS","SITE","MEMBER","DEPLOYMENT_TYPE","STATUS_TYPE","INST_COLL_CONDITION","DATA_FILE",function($scope,$rootScope,$q,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Instrument_Service,thisSiteSensors,allSensorBrands,allAgencies,allVertDatums,allDeployTypes,allSensorTypes,allHousingTypes,allEvents,allFileTypes,INSTRUMENT,INSTRUMENT_STATUS,SITE,MEMBER,DEPLOYMENT_TYPE,STATUS_TYPE,INST_COLL_CONDITION,DATA_FILE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.sensorCount={total:thisSiteSensors.length},$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.sensDepTypes=allSensorTypes,$scope.showProposed=!1;for(var s=0;s<thisSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=thisSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);thisSiteSensors[s].instrument_status=[],thisSiteSensors[s].instrument_status=correctOrderSS}$scope.SiteSensors=thisSiteSensors,Instrument_Service.setAllSiteSensors($scope.SiteSensors);var SensFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype});$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,event_id:response.event_id,location_description:response.location_description,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.SiteSensors.push(createdPropSensor),$scope.sensorCount={total:$scope.SiteSensors.length};for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},$scope.showRetrieveModal=function(sensorClicked){var indexClicked=$scope.SiteSensors.indexOf(sensorClicked),allindex=thisSiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"SensorRetrievalModal.html",controller:"sensorRetrievalModalCtrl",size:"lg",backdrop:"static",windowClass:"rep-dialog",resolve:{thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allEventList:function(){return allEvents},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allVDatumList:function(){return allVertDatums}}});modalInstance.result.then(function(retrievedSensor){if("retrieved"==retrievedSensor[1]&&($scope.SiteSensors[indexClicked]=retrievedSensor[0],thisSiteSensors[allindex]=retrievedSensor[0]),"deletedR"==retrievedSensor[1]){var indexClicked1=$scope.SiteSensors.indexOf(sensorClicked);$scope.SiteSensors.splice(indexClicked1,1),$scope.sensorCount.total=$scope.SiteSensors.length}$rootScope.stateIsLoading.showLoading=!1})},$scope.showProposedSensor=function(proposedSensorClicked){var propIndex=$scope.SiteSensors.indexOf(proposedSensorClicked),propModalInstance=$uibModal.open({templateUrl:"ProposedSensor.html",controller:["$scope","$uibModalInstance","proposedSensor",function($scope,$uibModalInstance,proposedSensor){$scope.thisProposedSensor=proposedSensor,$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.deleteProposed=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return"Proposed Sensor"},what:function(){return"Proposed Sensor"}}});DeleteModalInstance.result.then(function(){$uibModalInstance.close("delete")})}}],size:"sm",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{proposedSensor:function(){return proposedSensorClicked}}});propModalInstance.result.then(function(d){"delete"==d&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:proposedSensorClicked.instrument_id}).$promise.then(function(){thisSiteSensors.splice(propIndex,1),$scope.SiteSensors=thisSiteSensors,$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors),toastr.success("Proposed sensor deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting proposed sensor: "+errorResponse.statusText)}))})},$scope.showSensorModal=function(sensorClicked){var passAllLists=[allSensorTypes,allSensorBrands,allHousingTypes,allEvents,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:0===sensorClicked||4===sensorClicked.instrument_status[0].status_type_id?"Sensormodal.html":"DepSensormodal.html",controller:"sensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdSensor){var i=$scope.SiteSensors.indexOf(sensorClicked),si=thisSiteSensors.indexOf(sensorClicked);"proposedDeployed"==createdSensor[1]&&($scope.SiteSensors[i]=createdSensor[0],thisSiteSensors[si]=createdSensor[0],Instrument_Service.setAllSiteSensors($scope.SiteSensors)),"newDeployed"==createdSensor[1]&&($scope.SiteSensors.push(createdSensor[0]),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),void 0===createdSensor[1]&&($scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1),"deleted"==createdSensor[1]&&($scope.SiteSensors.splice(i,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),$rootScope.stateIsLoading.showLoading=!1})},$scope.showFullSensorModal=function(sensorClicked){var deployedStuff=[allSensorTypes,allSensorBrands,allHousingTypes,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"fullSensormodal.html",controller:"fullSensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDepDropdowns:function(){return deployedStuff},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allEvents:function(){return allEvents},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise;

},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventDataFiles:function(){return DATA_FILE.getEventDataView({eventId:sensorClicked.event_id}).$promise}}});modalInstance.result.then(function(createdSensor){"deleted"==createdSensor[1]?($scope.SiteSensors.splice(indexClicked,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)):$scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteSensors=thisSiteSensors.filter(function(h){return h.event_id==$cookies.get("SessionEventID")||4==h.instrument_status[0].status_type_id}),$scope.sensorCount={total:$scope.SiteSensors.length}):($scope.SiteSensors=thisSiteSensors,$scope.sensorCount={total:$scope.SiteSensors.length})})}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("resourcesCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$filter","$uibModal","AGENCY","CONTACT_TYPE","DEPLOYMENT_PRIORITY","EVENT_STATUS","EVENT_TYPE","FILE_TYPE","HORIZONTAL_COLL_METHODS","HORIZONTAL_DATUM","HOUSING_TYPE","HWM_QUALITY","HWM_TYPE","INST_COLL_CONDITION","MARKER","NETWORK_NAME","OP_QUALITY","OP_TYPE","SENSOR_BRAND","DEPLOYMENT_TYPE","SENSOR_TYPE","NETWORK_TYPE","STATUS_TYPE","VERTICAL_COLL_METHOD","VERTICAL_DATUM","allStates","allAgencies","allContactTypes","allDeployPriorities","allEventStats","allEventTypes","allFileTypes","allHorCollMethods","allHorDatums","allHouseTypes","allHWMqualities","allHWMtypes","allInstCollectConditions","allMarkers","allNetworkNames","allObjPtQualities","allObjPtTypes","allSensorBrands","allDeploymentTypes","allStatusTypes","allSensorTypes","allNetworkTypes","allVerticalCollMethods","allVerticalDatums",function($scope,$rootScope,$cookies,$location,$state,$http,$filter,$uibModal,AGENCY,CONTACT_TYPE,DEPLOYMENT_PRIORITY,EVENT_STATUS,EVENT_TYPE,FILE_TYPE,HORIZONTAL_COLL_METHODS,HORIZONTAL_DATUM,HOUSING_TYPE,HWM_QUALITY,HWM_TYPE,INST_COLL_CONDITION,MARKER,NETWORK_NAME,OP_QUALITY,OP_TYPE,SENSOR_BRAND,DEPLOYMENT_TYPE,SENSOR_TYPE,NETWORK_TYPE,STATUS_TYPE,VERTICAL_COLL_METHOD,VERTICAL_DATUM,allStates,allAgencies,allContactTypes,allDeployPriorities,allEventStats,allEventTypes,allFileTypes,allHorCollMethods,allHorDatums,allHouseTypes,allHWMqualities,allHWMtypes,allInstCollectConditions,allMarkers,allNetworkNames,allObjPtQualities,allObjPtTypes,allSensorBrands,allDeploymentTypes,allStatusTypes,allSensorTypes,allNetworkTypes,allVerticalCollMethods,allVerticalDatums){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Resources",$scope.accountRole=$cookies.get("usersRole"),$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.lookupForm={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.activeMenu="",$scope.stateList=allStates,$scope.agencyList=allAgencies,$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.newAg={},$scope.showAddAgClicked=function(){$scope.showAddAgForm=!0,$scope.addAgButtonShowing=!1},$scope.NeverMindAg=function(){$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0},$scope.AddAgency=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.save($scope.newAg,function(response){$scope.agencyList.push(response),$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,toastr.success("Agency Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating agency: "+errorResponse.headers(["usgswim-messages"]):"Error creating agency: "+errorResponse.statusText)}))},$scope.saveAgency=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.update({id:id},data,function(response){retur=response,toastr.success("Agency Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving agency: "+errorResponse.headers(["usgswim-messages"]):"Error saving agency: "+errorResponse.statusText)}),retur},$scope.deleteAgency=function(ag){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ag},what:function(){return"Agency"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.agencyList.indexOf(ag);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),AGENCY["delete"]({id:ag.agency_id},ag,function(response){$scope.agencyList.splice(index,1),toastr.success("Agency Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting agency: "+errorResponse.headers(["usgswim-messages"]):"Error deleting agency: "+errorResponse.statusText)})},function(){})},$scope.showStateAbbrev=function(a){var selected=[];return a.state&&(selected=$filter("filter")($scope.stateList,{state_abbrev:a.state})),selected.length?selected[0].state_abbrev:""},$scope.contactTypeList=allContactTypes,$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,$scope.newCT={},$scope.showAddCTClicked=function(){$scope.showAddCTForm=!0,$scope.addCTButtonShowing=!1},$scope.NeverMindCT=function(){$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0},$scope.AddContactType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.save($scope.newCT,function(response){$scope.contactTypeList.push(response),$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,toastr.success("Contact Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error creating contact type: "+errorResponse.statusText)}))},$scope.saveContactType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Contact Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error updating contact type: "+errorResponse.statusText)}),retur},$scope.deleteContactType=function(ct){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ct},what:function(){return"Contact Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.contactTypeList.indexOf(ct);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),CONTACT_TYPE["delete"]({id:ct.contact_type_id},ct,function(response){$scope.contactTypeList.splice(index,1),toastr.success("Contact Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting contact type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting contact type: "+errorResponse.statusText)})})},$scope.deployPriorityList=allDeployPriorities,$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,$scope.newDP={},$scope.showAddDPClicked=function(){$scope.showAddDPForm=!0,$scope.addDPButtonShowing=!1},$scope.NeverMindDP=function(){$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0},$scope.AddDepPriority=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.save($scope.newDP,function(response){$scope.deployPriorityList.push(response),$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,toastr.success("Deployment Priority Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment priority: "+errorResponse.statusText)}))},$scope.saveDepPriority=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.update({id:id},data,function(response){retur=response,toastr.success("Deployment Priority Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment priority: "+errorResponse.statusText)}),retur},$scope.deleteDepPriority=function(dp){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dp},what:function(){return"Deployment Priority"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.deployPriorityList.indexOf(dp);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_PRIORITY["delete"]({id:dp.priority_id},dp,function(response){$scope.deployPriorityList.splice(index,1),toastr.success("Deployment Priority Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment priority: "+errorResponse.statusText)})})},$scope.eventStatList=allEventStats,$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,$scope.newES={},$scope.showAddESClicked=function(){$scope.showAddESForm=!0,$scope.addESButtonShowing=!1},$scope.NeverMindES=function(){$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0},$scope.AddEventStat=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.save($scope.newES,function(response){$scope.eventStatList.push(response),$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,toastr.success("Event Status Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event status: "+errorResponse.headers(["usgswim-messages"]):"Error creating event status: "+errorResponse.statusText)}))},$scope.saveEventStat=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.update({id:id},data,function(response){retur=response,toastr.success("Event Status Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event status: "+errorResponse.headers(["usgswim-messages"]):"Error saving event status: "+errorResponse.statusText)}),retur},$scope.deleteEventStat=function(es){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return es},what:function(){return"Event Status"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventStatList.indexOf(es);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_STATUS["delete"]({id:es.event_status_id},es,function(response){$scope.eventStatList.splice(index,1),toastr.success("Event Status Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event status: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event status: "+errorResponse.statusText)})})},$scope.eventTypeList=allEventTypes,$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,$scope.newET={},$scope.showAddETClicked=function(){$scope.showAddETForm=!0,$scope.addETButtonShowing=!1},$scope.NeverMindET=function(){$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0},$scope.AddEventType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.save($scope.newET,function(response){$scope.eventTypeList.push(response),$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,toastr.success("Event Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event type: "+errorResponse.headers(["usgswim-messages"]):"Error creating event type: "+errorResponse.statusText)}))},$scope.saveEventType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Event Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event type: "+errorResponse.headers(["usgswim-messages"]):"Error saving event type: "+errorResponse.statusText)}),retur},$scope.deleteEventType=function(et){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return et},what:function(){return"Event Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventTypeList.indexOf(et);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_TYPE["delete"]({id:et.event_type_id},et,function(response){$scope.eventTypeList.splice(index,1),toastr.success("Event Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event type: "+errorResponse.statusText)})})},$scope.fileTypeList=allFileTypes,$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,$scope.newFT={},$scope.showAddFTClicked=function(){$scope.showAddFTForm=!0,$scope.addFTButtonShowing=!1},$scope.NeverMindFT=function(){$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0},$scope.AddFileType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.save($scope.newFT,function(response){$scope.fileTypeList.push(response),$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,toastr.success("File Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file type: "+errorResponse.headers(["usgswim-messages"]):"Error creating file type: "+errorResponse.statusText)}))},$scope.saveFileType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.update({id:id},data,function(response){retur=response,toastr.success("File Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file type: "+errorResponse.headers(["usgswim-messages"]):"Error saving file type: "+errorResponse.statusText)}),retur},$scope.deleteFileType=function(ft){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ft},what:function(){return"File Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.fileTypeList.indexOf(ft);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE_TYPE["delete"]({id:ft.filetype_id},ft,function(response){$scope.fileTypeList.splice(index,1),toastr.success("File Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file type: "+errorResponse.statusText)})})},$scope.horColMethList=allHorCollMethods,$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,$scope.newHCM={},$scope.showAddHCMClicked=function(){$scope.showAddHCMForm=!0,$scope.addHCMButtonShowing=!1},$scope.NeverMindHCM=function(){$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0},$scope.AddHorCollMethod=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.save($scope.newHCM,function(response){$scope.horColMethList.push(response),$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,toastr.success("Horizontal Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal collection method: "+errorResponse.statusText)}))},$scope.saveHorCollMethod=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal collection method: "+errorResponse.statusText)}),retur},$scope.deleteHorCollMethod=function(hcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hcm},what:function(){return"Horizontal Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horColMethList.indexOf(hcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_COLL_METHODS["delete"]({id:hcm.hcollect_method_id},hcm,function(response){$scope.horColMethList.splice(index,1),toastr.success("Horizontal Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal collection method: "+errorResponse.statusText)})})},$scope.horDatList=allHorDatums,$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,$scope.newHD={},$scope.showAddHDClicked=function(){$scope.showAddHDForm=!0,$scope.addHDButtonShowing=!1},$scope.NeverMindHD=function(){$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0},$scope.AddHorDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.save($scope.newHD,function(response){$scope.horDatList.push(response),$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,toastr.success("Horizontal Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal datum: "+errorResponse.statusText)}))},$scope.saveHorDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal datum: "+errorResponse.statusText)}),retur},$scope.deleteHorDatum=function(hd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hd},what:function(){return"Horizontal Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horDatList.indexOf(hd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_DATUM["delete"]({id:hd.datum_id},hd,function(response){$scope.horDatList.splice(index,1),toastr.success("Horizontal Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal datum: "+errorResponse.statusText)})})},$scope.houseTypeList=allHouseTypes,$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,$scope.newHT={},$scope.showAddHTClicked=function(){$scope.showAddHTForm=!0,$scope.addHTButtonShowing=!1},$scope.NeverMindHT=function(){$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0},$scope.AddHouseType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.save($scope.newHT,function(response){$scope.houseTypeList.push(response),$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,toastr.success("Housing Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating housing type: "+errorResponse.headers(["usgswim-messages"]):"Error creating housing type: "+errorResponse.statusText)}))},$scope.saveHouseType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Housing Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving housing type: "+errorResponse.headers(["usgswim-messages"]):"Error saving housing type: "+errorResponse.statusText)}),retur},$scope.deleteHouseType=function(ht){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ht},what:function(){return"Housing Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.houseTypeList.indexOf(ht);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HOUSING_TYPE["delete"]({id:ht.housing_type_id},ht,function(response){$scope.houseTypeList.splice(index,1),toastr.success("Housing Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting housing type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting housing type: "+errorResponse.statusText)})})},$scope.hwmQualList=allHWMqualities,$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,$scope.newHWMQ={},$scope.showAddHWMQClicked=function(){$scope.showAddHWMQForm=!0,$scope.addHWMQButtonShowing=!1},$scope.NeverMindHWMQ=function(){$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0},$scope.AddHwmQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.save($scope.newHWMQ,function(response){$scope.hwmQualList.push(response),$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,toastr.success("HWM Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm quality: "+errorResponse.statusText)}))},$scope.saveHwmQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("HWM Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm quality: "+errorResponse.statusText)}),retur},$scope.deleteHwmQuality=function(hwmq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmq},what:function(){return"HWM Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmQualList.indexOf(hwmq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_QUALITY["delete"]({id:hwmq.hwm_quality_id},hwmq,function(response){$scope.hwmQualList.splice(index,1),toastr.success("HWM Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm quality: "+errorResponse.statusText)})})},$scope.hwmTypeList=allHWMtypes,$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,$scope.newHWMT={},$scope.showAddHWMTClicked=function(){$scope.showAddHWMTForm=!0,$scope.addHWMTButtonShowing=!1},$scope.NeverMindHWMT=function(){$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0},$scope.AddHwmType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.save($scope.newHWMT,function(response){$scope.hwmTypeList.push(response),$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,toastr.success("HWM Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm type: "+errorResponse.statusText)}))},$scope.saveHwmType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.update({id:id},data,function(response){retur=response,toastr.success("HWM Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm type: "+errorResponse.statusText)}),retur},$scope.deleteHwmType=function(hwmt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmt},what:function(){return"HWM Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmTypeList.indexOf(hwmt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_TYPE["delete"]({id:hwmt.hwm_type_id},hwmt,function(response){$scope.hwmTypeList.splice(index,1),toastr.success("HWM Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm type: "+errorResponse.statusText)})})},$scope.instColCondList=allInstCollectConditions,$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,$scope.newICC={},$scope.showAddICCClicked=function(){$scope.showAddICCForm=!0,$scope.addICCButtonShowing=!1},$scope.NeverMindICC=function(){$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0},$scope.AddInstColCond=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.save($scope.newICC,function(response){$scope.instColCondList.push(response),$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,toastr.success("Instrument Collection Condition Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error creating instrument collection condition: "+errorResponse.statusText)}))},$scope.saveInstColCond=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.update({id:id},data,function(response){retur=response,toastr.success("Instrument Collection Condition Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error saving instrument collection condition: "+errorResponse.statusText)}),retur},$scope.deleteInstColCond=function(icc){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return icc},what:function(){return"Instrument Collection Condition"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.instColCondList.indexOf(icc);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INST_COLL_CONDITION["delete"]({id:icc.id},icc,function(response){$scope.instColCondList.splice(index,1),toastr.success("Instrument Collection Condition Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error deleting instrument collection condition: "+errorResponse.statusText)})})},$scope.markList=allMarkers,$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,$scope.newM={},$scope.showAddMClicked=function(){$scope.showAddMForm=!0,$scope.addMButtonShowing=!1},$scope.NeverMindM=function(){$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0},$scope.AddMarker=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.save($scope.newM,function(response){$scope.markList.push(response),$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,toastr.success("Marker Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating marker: "+errorResponse.headers(["usgswim-messages"]):"Error creating marker: "+errorResponse.statusText)}))},$scope.saveMarker=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.update({id:id},data,function(response){retur=response,
toastr.success("Marker Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving marker: "+errorResponse.headers(["usgswim-messages"]):"Error saving marker: "+errorResponse.statusText)}),retur},$scope.deleteMarker=function(m){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return m},what:function(){return"Marker"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.markList.indexOf(m);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MARKER["delete"]({id:m.marker_id},m,function(response){$scope.markList.splice(index,1),toastr.success("Marker Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting marker: "+errorResponse.headers(["usgswim-messages"]):"Error deleting marker: "+errorResponse.statusText)})})},$scope.netNameList=allNetworkNames,$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,$scope.newNN={},$scope.showAddNNClicked=function(){$scope.showAddNNForm=!0,$scope.addNNButtonShowing=!1},$scope.NeverMindNN=function(){$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0},$scope.AddNetworkName=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.save($scope.newNN,function(response){$scope.netNameList.push(response),$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,toastr.success("Network Name Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network name: "+errorResponse.headers(["usgswim-messages"]):"Error creating network name: "+errorResponse.statusText)}))},$scope.saveNetworkName=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.update({id:id},data,function(response){retur=response,toastr.success("Network Name Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network name: "+errorResponse.headers(["usgswim-messages"]):"Error saving network name: "+errorResponse.statusText)}),retur},$scope.deleteNetworkName=function(nn){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nn},what:function(){return"Network Name"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netNameList.indexOf(nn);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_NAME["delete"]({id:nn.network_name_id},nn,function(response){$scope.netNameList.splice(index,1),toastr.success("Network Name Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network name: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network name: "+errorResponse.statusText)})})},$scope.opQualList=allObjPtQualities,$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,$scope.newOPQ={},$scope.showAddOPQClicked=function(){$scope.showAddOPQForm=!0,$scope.addOPQButtonShowing=!1},$scope.NeverMindOPQ=function(){$scope.newOPQ={},$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0},$scope.AddOPQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.save($scope.newOPQ,function(response){$scope.opQualList.push(response),$scope.newOPQ={},$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,toastr.success("Datum Location Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location quality: "+errorResponse.statusText)}))},$scope.saveOPQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location quality: "+errorResponse.statusText)}),retur},$scope.deleteOPQuality=function(opq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opq},what:function(){return"Objective Point Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opQualList.indexOf(opq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_QUALITY["delete"]({id:opq.op_quality_id},opq,function(response){$scope.opQualList.splice(index,1),toastr.success("Datum Location Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location quality: "+errorResponse.statusText)})})},$scope.opTypeList=allObjPtTypes,$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,$scope.newOPT={},$scope.showAddOPTClicked=function(){$scope.showAddOPTForm=!0,$scope.addOPTButtonShowing=!1},$scope.NeverMindOPT=function(){$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0},$scope.AddOPType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.save($scope.newOPT,function(response){$scope.opTypeList.push(response),$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,toastr.success("Datum Location Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location type: "+errorResponse.statusText)}))},$scope.saveOPType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location type: "+errorResponse.statusText)}),retur},$scope.deleteOPType=function(opt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opt},what:function(){return"Objective Point Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opTypeList.indexOf(opt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_TYPE["delete"]({id:opt.objective_point_type_id},opt,function(response){$scope.opTypeList.splice(index,1),toastr.success("Datum Location Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location type: "+errorResponse.statusText)})})},$scope.sensBrandList=allSensorBrands,$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,$scope.newSB={},$scope.showAddSBClicked=function(){$scope.showAddSBForm=!0,$scope.addSBButtonShowing=!1},$scope.NeverMindSB=function(){$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0},$scope.AddSensorBrand=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.save($scope.newSB,function(response){$scope.sensBrandList.push(response),$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,toastr.success("Sensor Brand Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor brand: "+errorResponse.statusText)}))},$scope.saveSensorBrand=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.update({id:id},data,function(response){retur=response,toastr.success("Sensor Brand Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor brand: "+errorResponse.statusText)}),retur},$scope.deleteSensorBrand=function(sb){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return sb},what:function(){return"Sensor Brand"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.sensBrandList.indexOf(sb);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SENSOR_BRAND["delete"]({id:sb.sensor_brand_id},sb,function(response){$scope.sensBrandList.splice(index,1),toastr.success("Sensor Brand Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor brand: "+errorResponse.statusText)})})},$scope.depTypeList=allDeploymentTypes,$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,$scope.newDT={},$scope.showAddDTClicked=function(){$scope.showAddDTForm=!0,$scope.addDTButtonShowing=!1},$scope.NeverMindDT=function(){$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0},$scope.AddDepType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.save($scope.newDT,function(response){$scope.depTypeList.push(response),$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,toastr.success("Deployment Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment type: "+errorResponse.statusText)}))},$scope.saveDepType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Deployment Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment type: "+errorResponse.statusText)}),retur},$scope.deleteDepType=function(dt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dt},what:function(){return"Deployment Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.depTypeList.indexOf(dt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_TYPE["delete"]({id:dt.deployment_type_id},dt,function(response){$scope.depTypeList.splice(index,1),toastr.success("Deployment Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment type: "+errorResponse.statusText)})})},$scope.statTypeList=allStatusTypes,$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,$scope.newStatT={},$scope.showAddStatTClicked=function(){$scope.showAddStatTForm=!0,$scope.addStatTButtonShowing=!1},$scope.NeverMindStatT=function(){$scope.newStatT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0},$scope.AddStatusType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.save($scope.newStatT,function(response){$scope.statTypeList.push(response),$scope.newStatTT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,toastr.success("Status Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating status type: "+errorResponse.headers(["usgswim-messages"]):"Error creating status type: "+errorResponse.statusText)}))},$scope.saveStatusType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Status Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving status type: "+errorResponse.headers(["usgswim-messages"]):"Error saving status type: "+errorResponse.statusText)}),retur},$scope.deleteStatusType=function(statT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return statT},what:function(){return"Status Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.statTypeList.indexOf(statT);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),STATUS_TYPE["delete"]({id:statT.status_type_id},statT,function(response){$scope.statTypeList.splice(index,1),toastr.success("Status Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting status type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting status type: "+errorResponse.statusText)})})},$scope.sensTypeList=allSensorTypes,$scope.newDepTypeRelating=[],$scope.commaSepDepMETHODS=[],$scope.formattedSensTypeList=[],$scope.sensTypeList.forEach(function(sensType){SENSOR_TYPE.getSensorDeploymentTypes({id:sensType.sensor_type_id},function(response){var deps=response;sensType.DepTypes=[];var DepMStrings=[];sensType.DepMETHODStrings="",deps.length>0&&deps.forEach(function(d){sensType.DepTypes.push(d.deployment_type_id),DepMStrings.push(d.method),sensType.DepMETHODStrings=DepMStrings.join(", ")}),$scope.formattedSensTypeList.push(sensType)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor deployment types: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor deployment types: "+errorResponse.statusText)}).$promise}),$scope.showDepTypes=function(SenT){var selected=[];return angular.forEach($scope.depTypeList,function(s){SenT.DepTypes.indexOf(s.deployment_type_id)>=0&&selected.push(s.method)}),selected.length?selected.join(", "):""},$scope.removeTheseDepTypes=[],$scope.checkListCheck=function(originalChecked,nowChecked){nowChecked.length<originalChecked.length&&angular.forEach(originalChecked,function(oc){if(nowChecked.indexOf(oc)<0){var deleteDep=$scope.depTypeList.filter(function(dt){return dt.deployment_type_id==oc})[0];if($scope.removeTheseDepTypes.length>0)for(var d=0;d<$scope.removeTheseDepTypes.length;d++)$scope.removeTheseDepTypes[d].deployment_type_id==deleteDep.deployment_type_id?d=$scope.newDepTypeRelating.length:$scope.removeTheseDepTypes.push(deleteDep);else $scope.removeTheseDepTypes.push(deleteDep)}})},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newSenT={},$scope.showAddSenTClicked=function(){$scope.showAddSenTForm=!0,$scope.addSenTButtonShowing=!1},$scope.NeverMindSenT=function(){$scope.newSenT={},$scope.newDepTypeRelating=[],angular.forEach($scope.depTypeList,function(d){d.selected=!1}),$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0},$scope.addDepTypeToNewSenT=function(dt){if(dt.selected===!0){if($scope.newDepTypeRelating.length>0)for(var d=0;d<$scope.newDepTypeRelating.length;d++)$scope.newDepTypeRelating[d].deployment_type_id==dt.deployment_type_id?d=$scope.newDepTypeRelating.length:($scope.newDepTypeRelating.push(dt),d=$scope.newDepTypeRelating.length);0===$scope.newDepTypeRelating.length&&$scope.newDepTypeRelating.push(dt)}},$scope.AddSensorType=function(valid){if(valid){var newSensor={},relatedDeps=[];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_TYPE.save($scope.newSenT,function(response){newSensor=response,$scope.newSenT={},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newDepTypeRelating.length>0&&angular.forEach($scope.newDepTypeRelating,function(ndt){delete ndt.selected,relatedDeps.push(ndt.deployment_type_id),SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:newSensor.sensor_type_id,deploymentTypeId:ndt.deployment_type_id},function(response1){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding sensor deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error adding sensor deployment type: "+errorResponse.statusText)})}),newSensor.DepTypes=relatedDeps,$scope.formattedSensTypeList.push(newSensor),toastr.success("Sensor Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor type: "+errorResponse.statusText)})}},$scope.saveSensorType=function(data,id){var retur=!1;$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var DTs=({sensor_type_id:data.sensor_type_id,sensor:data.sensor},[]);return angular.forEach($scope.depTypeList,function(s){if(data.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};DTs.push(thisDT)}}),SENSOR_TYPE.update({id:id},data,function(response){retur=response,angular.forEach(DTs,function(dt){SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:id,deploymentTypeId:ndt.deployment_type_id},dt,function(response1){toastr.success("Deployment Type is now related")},function(errorResponse1){toastr.error(void 0!==errorResponse1.headers(["usgswim-messages"])?"Error relating deployment type: "+errorResponse1.headers(["usgswim-messages"]):"Error relating deployment type: "+errorResponse1.statusText)})}),toastr.success("Sensor Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor type: "+errorResponse.statusText)}).$promise.then(angular.forEach($scope.removeTheseDepTypes,function(rdt){SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:id,DeploymentTypeId:rdt.deployment_type_id},function(response2){toastr.success("Deployment Type is no longer related")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})})),retur},$scope.deleteSensorType=function(senT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return senT},what:function(){return"Sensor Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.formattedSensTypeList.indexOf(senT),ST={sensor_type_id:senT.sensor_type_id,sensor:senT.sensor};$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),angular.forEach($scope.depTypeList,function(s){if(senT.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:ST.sensor_type_id,DeploymentTypeId:thisDT.deployment_type_id},function(response2){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})}}),SENSOR_TYPE["delete"]({id:ST.sensor_type_id},ST,function(response){$scope.formattedSensTypeList.splice(index,1),toastr.success("Sensor Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor type: "+errorResponse.statusText)})})},$scope.netTypeList=allNetworkTypes,$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,$scope.newNT={},$scope.showAddNTClicked=function(){$scope.showAddNTForm=!0,$scope.addNTButtonShowing=!1},$scope.NeverMindNT=function(){$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0},$scope.AddNetType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.save($scope.newNT,function(response){$scope.netTypeList.push(response),$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,toastr.success("Network Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network type: "+errorResponse.headers(["usgswim-messages"]):"Error creating network type: "+errorResponse.statusText)}))},$scope.saveNetType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Network Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network type: "+errorResponse.headers(["usgswim-messages"]):"Error saving network type: "+errorResponse.statusText)}),retur},$scope.deleteNetType=function(nt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nt},what:function(){return"Network Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netTypeList.indexOf(nt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_TYPE["delete"]({id:nt.network_type_id},nt,function(response){$scope.netTypeList.splice(index,1),toastr.success("Network Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network type: "+errorResponse.statusText)})})},$scope.vertColMethList=allVerticalCollMethods,$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,$scope.newVCM={},$scope.showAddVCMClicked=function(){$scope.showAddVCMForm=!0,$scope.addVCMButtonShowing=!1},$scope.NeverMindVCM=function(){$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0},$scope.AddVertColMeth=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.save($scope.newVCM,function(response){$scope.vertColMethList.push(response),$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,toastr.success("Vertical Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical collection method: "+errorResponse.statusText)}))},$scope.saveVertColMeth=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.update({id:id},data,function(response){retur=response,toastr.success("Vertical Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical collection method: "+errorResponse.statusText)}),retur},$scope.deleteVertColMeth=function(vcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vcm},what:function(){return"Vertical Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertColMethList.indexOf(vcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_COLL_METHOD["delete"]({id:vcm.vcollect_method_id},vcm,function(response){$scope.vertColMethList.splice(index,1),toastr.success("Vertical Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical collection method: "+errorResponse.statusText)})})},$scope.vertDatList=allVerticalDatums,$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,$scope.newVD={},$scope.showAddVDClicked=function(){$scope.showAddVDForm=!0,$scope.addVDButtonShowing=!1},$scope.NeverMindVD=function(){$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0},$scope.AddVertDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.save($scope.newVD,function(response){$scope.vertDatList.push(response),$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,toastr.success("Vertical Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical datum: "+errorResponse.statusText)}))},$scope.saveVertDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Vertical Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical datum: "+errorResponse.statusText)}),retur},$scope.deleteVertDatum=function(vd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vd},what:function(){return"Vertical Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertDatList.indexOf(vd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_DATUM["delete"]({id:vd.datum_id},vd,function(response){$scope.vertDatList.splice(index,1),toastr.success("Vertical Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical datum: "+errorResponse.statusText)})})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("submitReportCtrl",["$scope","$http","$cookies","$uibModal","$state","CONTACT","REPORT",function($scope,$http,$cookies,$uibModal,$state,CONTACT,REPORT){if($scope.$parent.needToComplete!==!0)$scope.$parent.newReport={report_date:new Date};else{var yr=$scope.newReport.report_date.substr(0,4),mo=$scope.newReport.report_date.substr(5,2),day=$scope.newReport.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr)}$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.status={openContacts:!1,openCounts:!1,openPersonnel:!1};$scope.$parent.needToComplete=!1,void 0===$scope.newReport.reporting_metrics_id&&($scope.disabled=!0),$scope.getEventName=function(evID){var name,thisEvent=$scope.events.filter(function(e){return e.event_id==evID})[0];return name=thisEvent.event_name};var getReportContacts=function(reportID){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:reportID},function(response){$scope.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise,$scope.disabled=!1},postReportContacts=function(reportID){angular.equals({},$scope.DeployStaff)||void 0===$scope.DeployStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:1},$scope.DeployStaff,function(response1){toastr.success("Deploy Staff Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse.statusText)}).$promise,angular.equals({},$scope.GenStaff)||void 0===$scope.GenStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:2},$scope.GenStaff,function(response2){toastr.success("General Staff Updated")},function(errorResponse2){toastr.error(void 0!==errorResponse2.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse2.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse2.statusText)}).$promise,angular.equals({},$scope.InlandStaff)||void 0===$scope.InlandStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:3},$scope.InlandStaff,function(response3){toastr.success("Inland Staff Updated")},function(errorResponse3){toastr.error(void 0!==errorResponse3.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse3.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse3.statusText)}).$promise,angular.equals({},$scope.CoastStaff)||void 0===$scope.CoastStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:4},$scope.CoastStaff,function(response4){toastr.success("Coastal Staff Updated")},function(errorResponse4){toastr.error(void 0!==errorResponse4.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse4.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse4.statusText)}).$promise,angular.equals({},$scope.WaterStaff)||void 0===$scope.WaterStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:5},$scope.WaterStaff,function(response5){toastr.success("Water Staff Updated")},function(errorResponse5){toastr.error(void 0!==errorResponse5.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse5.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse5.statusText);

}).$promise},removeIncomplete=function(){for(var index=0,i=0;i<$scope.memberIncompletes.length;i++)$scope.memberIncompletes[i].reporting_metrics_id==$scope.newReport.reporting_metrics_id&&(index=i,i=$scope.memberIncompletes.length);$scope.memberIncompletes.splice(index,1)},PostPutReportAndReportContacts=function(){$scope.newReport.report_date=$scope.newReport.report_date.toDateString(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.newReport.reporting_metrics_id?REPORT.update({id:$scope.newReport.reporting_metrics_id},$scope.newReport,function(response){toastr.success("Report Updated"),$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id),1==$scope.newReport.complete&&(removeIncomplete(),$scope.isCompleted=!0),postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating report: "+errorResponse.headers(["usgswim-messages"]):"Error updating report: "+errorResponse.statusText)}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")}):REPORT.save($scope.newReport,function(response){toastr.success("Report Created"),$scope.reports.push(response),1==$scope.newReport.complete?(removeIncomplete(),$scope.isCompleted=!0,$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id)):$scope.memberIncompletes.push(response),$scope.newReport.reporting_metrics_id=response.reporting_metrics_id,postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving report: "+errorResponse.headers(["usgswim-messages"]):"Error saving report: "+errorResponse.statusText)}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")})};$scope.populateYestTots=function(){if(void 0!==$scope.newReport.report_date&&void 0!==$scope.newReport.state&&void 0!==$scope.newReport.event_id){var formatDate=new Date($scope.newReport.report_date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var myDate=formatDate,theState=$scope.newReport.state,eID=$scope.newReport.event_id;$scope.disabled=!1,$scope.newReport={report_date:$scope.newReport.report_date,state:theState,event_id:eID},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={};var previousDay=new Date(myDate);previousDay.setHours(0,0,0,0),previousDay=previousDay.toISOString().substr(0,10);var yesterdayRpt=$scope.reports.filter(function(r){var repDate=r.report_date.toString().substring(0,10);return r.event_id==$scope.newReport.event_id&&r.state==$scope.newReport.state&&repDate==previousDay})[0];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==yesterdayRpt?($scope.newReport.yest_fieldpers=yesterdayRpt.tod_fieldpers,$scope.newReport.yest_officepers=yesterdayRpt.tod_officepers,getReportContacts(yesterdayRpt.reporting_metrics_id)):($scope.newReport.yest_fieldpers=0,$scope.newReport.yest_officepers=0),REPORT.getDailyReportTots({Date:myDate,Event:$scope.newReport.event_id,State:$scope.newReport.state},function(response6){$scope.newReport.dep_rapdepl_gage=response6.dep_rapdepl_gage,$scope.newReport.rec_rapdepl_gage=response6.rec_rapdepl_gage,$scope.newReport.lost_rapdepl_gage=response6.lost_rapdepl_gage,$scope.newReport.dep_wtrlev_sensor=response6.dep_wtrlev_sensor,$scope.newReport.rec_wtrlev_sensor=response6.rec_wtrlev_sensor,$scope.newReport.lost_wtrlev_sensor=response6.lost_wtrlev_sensor,$scope.newReport.dep_wv_sens=response6.dep_wv_sens,$scope.newReport.rec_wv_sens=response6.rec_wv_sens,$scope.newReport.lost_wv_sens=response6.lost_wv_sens,$scope.newReport.dep_barometric=response6.dep_barometric,$scope.newReport.rec_barometric=response6.rec_barometric,$scope.newReport.lost_barometric=response6.lost_barometric,$scope.newReport.dep_meteorological=response6.dep_meteorological,$scope.newReport.rec_meteorological=response6.rec_meteorological,$scope.newReport.lost_meteorological=response6.lost_meteorological,$scope.newReport.hwm_flagged=response6.hwm_flagged,$scope.newReport.hwm_collected=response6.hwm_collected},function(errorResponse6){toastr.error(void 0!==errorResponse6.headers(["usgswim-messages"])?"Error getting report totals: "+errorResponse6.headers(["usgswim-messages"]):"Error getting report totals: "+errorResponse6.statusText)})}else alert("Please choose a date, event and state first.")},$scope.saveReport=function(valid){if(void 0===$scope.newReport.complete||0===$scope.newReport.complete){var modalInstance=$uibModal.open({templateUrl:"saveReportModal.html",controller:"confirmReportModalCtrl",size:"sm"});modalInstance.result.then(function(){$scope.newReport.complete=0,$scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()})}else valid?($scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()):($scope.status.openContacts=!0,$scope.status.openCounts=!0,$scope.status.openPersonnel=!0,angular.element("[name='"+$scope.fullReportForm.submit.$name+"']").find(".ng-invalid:visible:first").focus())},$scope.populateDeployer=function(){$scope.DeployStaff=$scope.MemberLoggedIn},$scope.getIncompleteReport=function(){var reportId=this.ir.reporting_metrics_id;REPORT.query({id:reportId},function(response){$scope.newReport=response;var yr=response.report_date.substr(0,4),mo=response.report_date.substr(5,2),day=response.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr),$scope.fullReportForm.submit.$setDirty(),getReportContacts(reportId)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)}).$promise},void 0!==$scope.newReport.reporting_metrics_id&&getReportContacts($scope.newReport.reporting_metrics_id)}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("reportModalCtrl",["$scope","$uibModalInstance","report","submitPerson","contacts",function($scope,$uibModalInstance,report,submitPerson,contacts){$scope.ReportView={},$scope.ReportView.Report=report,$scope.ReportView.submitter=submitPerson,$scope.ReportView.deployStaff=contacts.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.ReportView.generalStaff=contacts.filter(function(d){return"General"==d.contactType})[0],$scope.ReportView.inlandStaff=contacts.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.ReportView.coastStaff=contacts.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.ReportView.waterStaff=contacts.filter(function(d){return"Water Quality"==d.contactType})[0],$scope.print=function(){window.print()},$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingDashCtrl",["$scope","$cookies","$filter","$uibModal","$state","$http","CONTACT","MEMBER","allReportsAgain",function($scope,$cookies,$filter,$uibModal,$state,$http,CONTACT,MEMBER,allReportsAgain){$scope.reportsToDate=allReportsAgain,$scope.todayRpts=[],$scope.yesterdayRpts=[],$scope.pickDateRpts=[],$scope.pickAdateReports=!1,$scope.today=new Date,$scope.today.setHours(0,0,0,0),$scope.yesterday=new Date($scope.today),$scope.yesterday.setDate($scope.today.getDate()-1),$scope.today=$scope.today.toISOString().substr(0,10),$scope.yesterday=$scope.yesterday.toISOString().substr(0,10),$scope.THIS_DATE={},$scope.ViewReport=function(r){var modalInstance=$uibModal.open({templateUrl:"ViewReport.html",controller:"reportModalCtrl",size:"lg",windowClass:"rep-dialog",resolve:{report:function(){return r},submitPerson:function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var member={};return MEMBER.query({id:r.member_id},function(response){member.mem=response;var memberAgency=$scope.agencies.filter(function(a){return a.agency_id==member.mem.agency_id})[0];member.agency_name=memberAgency.agency_name,member.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,member},contacts:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:r.reporting_metrics_id}).$promise}}});modalInstance.result.then(function(r){})};var formatReport=function(repList){for(var returnList=[],i=0;i<repList.length;i++){var rep=repList[i],event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];rep.event_name=event.event_name,returnList.push(rep)}return returnList},todayReports=$scope.reportsToDate.filter(function(todayrep){var reportDate=todayrep.report_date.toString().substring(0,10);return reportDate==$scope.today});$scope.todayRpts=formatReport(todayReports);var yesterdayReports=$scope.reportsToDate.filter(function(yestrep){var reportDate=yestrep.report_date.toString().substring(0,10);return reportDate==$scope.yesterday});$scope.yesterdayRpts=formatReport(yesterdayReports),$scope.getReportsByDate=function(){if(void 0!==$scope.THIS_DATE.date){var formatDate=new Date($scope.THIS_DATE.date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var thisDateReports=$scope.reportsToDate.filter(function(tdate){var reportDate=tdate.report_date.toString().substring(0,10);return reportDate==formatDate});$scope.pickDateRpts=formatReport(thisDateReports),$scope.pickAdateReports=!0}else alert("Pick a date first.")},$scope.CompleteThisReport=function(rep){$scope.$parent.newReport=rep,$scope.$parent.disabled=!1,$scope.$parent.needToComplete=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:rep.reporting_metrics_id},function(response){response.length>=1?($scope.$parent.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.$parent.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.$parent.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.$parent.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.$parent.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]):($scope.$parent.DeployStaff={},$scope.$parent.GenStaff={},$scope.$parent.InlandStaff={},$scope.$parent.CoastStaff={},$scope.$parent.WaterStaff={})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise.then(function(){$state.go("reporting.submitReport")})},$scope.getProjectAlertText=function(rep){$scope.ProjectAlertParts={},$scope.ProjectAlertParts.Report=rep,$scope.ProjectAlertParts.totYestFieldPers=rep.yest_fieldpers,$scope.ProjectAlertParts.totYestOfficPers=rep.yest_officepers,$scope.ProjectAlertParts.measureCts=rep.tot_discharge_meas;var eventReports=$scope.reportsToDate.filter(function(r){return r.event_id==rep.event_id}),test=$filter("countBy")(eventReports,"state");$scope.ProjectAlertParts.stateCount=0,angular.forEach(test,function(er){$scope.ProjectAlertParts.stateCount++}),$scope.ProjectAlertParts.Event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];var modalInstance=$uibModal.open({templateUrl:1==$scope.ProjectAlertParts.Event.event_type_id?"FloodPA.html":"HurricanePA.html",controller:"ProjAlertModalCtrl",size:"md",windowClass:"rep-dialog",resolve:{ProjAlert:function(){return $scope.ProjectAlertParts}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting csv: "+errorResponse.headers(["usgswim-messages"]):"Error getting csv: "+errorResponse.statusText)}))})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,
$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];var modalInstance=$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){var modalInstance=$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})}})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()}),function(){console.log("error")})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ProjAlertModalCtrl",["$scope","$uibModalInstance","ProjAlert",function($scope,$uibModalInstance,ProjAlert){$scope.ProjAlertParts=ProjAlert,$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("confirmReportModalCtrl",["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("peakModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","allVertDatums","allCollectConditions","thisPeak","peakSite","allMembers","allEventHWMs","allSiteSensors","allSiteFiles","thisPeakDFs","DATA_FILE","PEAK","HWM",function($scope,$rootScope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,allVertDatums,allCollectConditions,thisPeak,peakSite,allMembers,allEventHWMs,allSiteSensors,allSiteFiles,thisPeakDFs,DATA_FILE,PEAK,HWM){$scope.serverURL=SERVER_URL,$scope.VDatumsList=allVertDatums,$scope.thisSite=peakSite,$scope.memberList=allMembers,$scope.loggedInRole=$cookies.get("usersRole");for(var determineDFPresent=function(f){for(var x=0;x<f.length;x++)if(2==f[x].filetype_id)return!0;return!1},sf=0;sf<allSiteFiles.length;sf++)("DataFile File"==allSiteFiles[sf].fileBelongsTo||"Sensor File"==allSiteFiles[sf].fileBelongsTo)&&(allSiteFiles[sf].selected=!1);for(var s=0;s<allSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=allSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);allSiteSensors[s].instrument_status=[],allSiteSensors[s].instrument_status=correctOrderSS}$scope.eventSiteHWMs=allEventHWMs.filter(function(h){return h.site_id==peakSite.site_id}),angular.forEach($scope.eventSiteHWMs,function(esh){esh.selected=!1,esh.files=allSiteFiles.filter(function(sf){return sf.hwm_id==esh.hwm_id&&"HWM File"==sf.fileBelongsTo})}),$scope.eventSiteSensors=allSiteSensors.filter(function(s){return s.event_id==$cookies.get("SessionEventID")});for(var evSiteSen=0;evSiteSen<$scope.eventSiteSensors.length;evSiteSen++)$scope.eventSiteSensors[evSiteSen].CollectCondition=null!==$scope.eventSiteSensors[evSiteSen].inst_collection_id&&$scope.eventSiteSensors[evSiteSen].inst_collection_id>0?allCollectConditions.filter(function(cc){return cc.id==$scope.eventSiteSensors[evSiteSen].inst_collection_id})[0].condition:"",$scope.eventSiteSensors[evSiteSen].isRetrieved="Retrieved"==$scope.eventSiteSensors[evSiteSen].instrument_status[0].status?!0:!1,$scope.eventSiteSensors[evSiteSen].files=allSiteFiles.filter(function(sf){return sf.instrument_id==$scope.eventSiteSensors[evSiteSen].instrument_id&&("DataFile File"==sf.fileBelongsTo||"Sensor File"==sf.fileBelongsTo)}),(2==$scope.eventSiteSensors[evSiteSen].sensor_type_id||5==$scope.eventSiteSensors[evSiteSen].sensor_type_id||6==$scope.eventSiteSensors[evSiteSen].sensor_type_id)&&(0===$scope.eventSiteSensors[evSiteSen].files.length?$scope.eventSiteSensors[evSiteSen].NeedDF=!0:determineDFPresent($scope.eventSiteSensors[evSiteSen].files)||($scope.eventSiteSensors[evSiteSen].NeedDF=!0));$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.chosenHWMList=[],$scope.removedChosenHWMList=[],$scope.chosenDFList=[],$scope.removedChosenDFList=[],$scope.hwmDetail=!1,$scope.HWMBox={},$scope.sensorDetail=!1,$scope.SensorBox={},$scope.dataFileDetail=!1,$scope.DFBox={},$scope.aPeak={};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate},getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aPeak.time_zone){var utcDateTime=new Date($scope.aPeak.peak_date).toUTCString();$scope.aPeak.peak_date=utcDateTime,$scope.aPeak.time_zone="UTC"}else{var i=$scope.aPeak.peak_date.toString().indexOf("GMT")+3;$scope.aPeak.peak_date=$scope.aPeak.peak_date.toString().substring(0,i)}};if($scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},"empty"!=thisPeak){$scope.aPeak=angular.copy(thisPeak),$scope.aPeak.peak_date={date:getDateTimeParts($scope.aPeak.peak_date),time:getDateTimeParts($scope.aPeak.peak_date)},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$scope.aPeak.member_id})[0];for(var h=0;h<$scope.eventSiteHWMs.length;h++)$scope.eventSiteHWMs[h].peak_summary_id==$scope.aPeak.peak_summary_id&&($scope.eventSiteHWMs[h].selected=!0);for(var ess=0;ess<$scope.eventSiteSensors.length;ess++)for(var essI=ess,df=0;df<$scope.eventSiteSensors[essI].files.length;df++){var isThere=thisPeakDFs.filter(function(pdf){return pdf.data_file_id==$scope.eventSiteSensors[essI].files[df].data_file_id})[0];void 0!==isThere&&($scope.eventSiteSensors[essI].files[df].selected=!0)}}else{var timeParts=getTimeZoneStamp();$scope.aPeak={peak_date:{date:timeParts[0],time:timeParts[0]},time_zone:timeParts[1],member_id:$cookies.get("mID")},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]}$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})};var formatSelectedHWM=function(h){var fhwm={};return fhwm.approval_id=h.approval_id,fhwm.hwm_label=h.hwm_label,fhwm.bank=h.bank,fhwm.elev_ft=h.elev_ft,fhwm.event_id=h.event_id,fhwm.flag_date=h.flag_date,fhwm.flag_member_id=h.flag_member_id,fhwm.hcollect_method_id=h.hcollect_method_id,fhwm.hdatum_id=h.hdatum_id,fhwm.height_above_gnd=h.height_above_gnd,fhwm.hwm_environment=h.hwm_environment,fhwm.hwm_id=h.hwm_id,fhwm.hwm_locationdescription=h.hwm_locationdescription,fhwm.hwm_notes=h.hwm_notes,fhwm.hwm_uncertainty=h.hwm_uncertainty,fhwm.uncertainty=h.uncertainty,fhwm.hwm_quality_id=h.hwm_quality_id,fhwm.hwm_type_id=h.hwm_type_id,fhwm.latitude_dd=h.latitude_dd,fhwm.longitude_dd=h.longitude_dd,fhwm.marker_id=h.marker_id,fhwm.peak_summary_id=h.peak_summary_id,fhwm.site_id=h.site_id,fhwm.stillwater="No"==h.stillwater?0:1,fhwm.survey_date=h.survey_date,fhwm.survey_member_id=h.survey_member_id,fhwm.vcollect_method_id=h.vcollect_method_id,fhwm.vdatum_id=h.vdatum_id,fhwm.waterbody=h.waterbody,fhwm};$scope.addHWM=function(h){var aHWM=formatSelectedHWM(h);if(h.selected===!0)$scope.chosenHWMList.push(aHWM);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenHWMList.push(dataFile),$scope.chosenHWMList.length>0){var ind=$scope.chosenHWMList.map(function(hwm){return hwm.hwm_id}).indexOf(aHWM.hwm_id);$scope.chosenHWMList.splice(ind,1)}},$scope.showHWMDetails=function(h){$scope.hwmDetail=!0,$scope.sensorDetail=!1,$scope.dataFileDetail=!1,$scope.HWMBox=h},$scope.primaryHWM=function(h){var setPrimHWM=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary HWM? Doing so will populate the Peak Date (not including time), Stage, Vertical Datum and Height Above Ground.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimHWM.result.then(function(setIt){if("Yes"==setIt){$scope.aPeak.peak_date.date=new Date(h.flag_date),$scope.aPeak.peak_stage=h.elev_ft,$scope.aPeak.vdatum_id=h.vdatum_id,$scope.aPeak.height_above_gnd=h.height_above_gnd;var hIndex=$scope.eventSiteHWMs.indexOf(h);$scope.eventSiteHWMs[hIndex].selected=!0}})},$scope.closeDetail=function(){$scope.sensorDetail=!1,$scope.hwmDetail=!1,$scope.dataFileDetail=!1},$scope.addDataFile=function(datafile){var dataFile={};DATA_FILE.query({id:datafile.data_file_id}).$promise.then(function(response){if(dataFile=response,datafile.selected===!0)$scope.chosenDFList.push(dataFile);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenDFList.push(dataFile),$scope.chosenDFList.length>0){var ind=$scope.chosenDFList.map(function(df){return df.data_file_id}).indexOf(datafile.data_file_id);$scope.chosenDFList.splice(ind,1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.showSensorDetails=function(s){$scope.sensorDetail=!0,$scope.hwmDetail=!1,$scope.dataFileDetail=!1,$scope.SensorBox=s},$scope.showDataFileDetails=function(f){DATA_FILE.query({id:f.data_file_id},function(response){$scope.DFBox=response,$scope.DFBox.filePath=f.path,$scope.DFBox.fileID=f.file_id,$scope.DFBox.fileDesc=f.description,$scope.DFBox.processedBy=allMembers.filter(function(m){return m.member_id==response.processor_id})[0],$scope.DFBox.nwisFile=1==f.is_nwis?!0:!1,$scope.DFBox.fileURL=f.name,$scope.dataFileDetail=!0,$scope.hwmDetail=!1,$scope.sensorDetail=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.primaryDataFile=function(f){var setPrimeDF=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary Data file?</p><p>(Coming soon: Script processing to populate the Peak date, time and time zone, Stage, Vertical Datum and Height above ground)</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimeDF.result.then(function(setIt){if("Yes"==setIt){var sens=$scope.eventSiteSensors.filter(function(s){return s.instrument_id==f.instrument_id})[0],sIndex=$scope.eventSiteSensors.indexOf(sens),fIndex=sens.files.indexOf(f);$scope.eventSiteSensors[sIndex].files[fIndex].selected=!0}})},$scope.savePeak=function(valid){if(valid){var updatedPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.update({id:$scope.aPeak.peak_summary_id},$scope.aPeak).$promise.then(function(response){if($scope.removedChosenDFList.length>0)for(var remd=0;remd<$scope.removedChosenDFList.length;remd++)$scope.removedChosenDFList[remd].peak_summary_id=null,DATA_FILE.update({id:$scope.removedChosenDFList[remd].data_file_id},$scope.removedChosenDFList[remd]).$promise;if($scope.removedChosenHWMList.length>0)for(var remh=0;remh<$scope.removedChosenHWMList.length;remh++)$scope.removedChosenHWMList[remh].peak_summary_id=null,HWM.update({id:$scope.removedChosenHWMList[remh].data_file_id},$scope.removedChosenHWMList[remh]).$promise;for(var addh=0;addh<$scope.chosenHWMList.length;addh++)$scope.chosenHWMList[addh].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[addh].hwm_id},$scope.chosenHWMList[addh]).$promise;for(var addd=0;addd<$scope.chosenDFList.length;addd++)$scope.chosenDFList[addd].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[addd].data_file_id},$scope.chosenDFList[addd]).$promise;toastr.success("Peak updated"),updatedPeak=response;var sendBack=[updatedPeak,"updated"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving peak: "+errorResponse.headers(["usgswim-messages"]):"Error saving peak: "+errorResponse.statusText)})}};var updateDFwoPeakID=function(df_id){DATA_FILE.query({id:df_id}).$promise.then(function(res){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",res.peak_summary_id=null,DATA_FILE.update({id:res.data_file_id},res).$promise},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})};$scope.deletePeak=function(){var deletePeakMdl=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Remove Peak</h3></div><div class="modal-body"><p>Are you sure you want to delete this Peak?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button><button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});deletePeakMdl.result.then(function(){var datetime=($scope.aPeak.peak_summary_id,new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds()));$scope.aPeak.peak_date=datetime,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK["delete"]({id:$scope.aPeak.peak_summary_id}).$promise.then(function(){for(var i=0;i<$scope.eventSiteSensors.length;i++)for(var thisS=$scope.eventSiteSensors[i],f=0;f<thisS.files.length;f++){var thisF=thisS.files[f];thisF.selected&&updateDFwoPeakID(thisF.data_file_id)}for(var h=0;h<$scope.eventSiteHWMs.length;h++){var thisH=$scope.eventSiteHWMs[h];if(thisH.selected){thisH.peak_summary_id=null;var updateThisHWM=formatSelectedHWM(thisH);HWM.update({id:thisH.hwm_id},updateThisHWM).$promise}}toastr.success("Peak Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting peak: "+errorResponse.headers(["usgswim-messages"]):"Error deleting peak: "+errorResponse.statusText)})})},$scope.createPeak=function(valid){var isHwmChecked=!1,isDFChecked=!1;if(angular.forEach($scope.eventSiteHWMs,function(shwm){shwm.selected&&(isHwmChecked=!0)}),angular.forEach($scope.eventSiteSensors,function(ssen){for(var fI=0;fI<ssen.files.length;fI++)ssen.files[fI].selected&&(isDFChecked=!0,fI=ssen.files.length)}),isHwmChecked||isDFChecked){if(valid){var createdPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.save($scope.aPeak).$promise.then(function(response){createdPeak=response;for(var h=0;h<$scope.chosenHWMList.length;h++)$scope.chosenHWMList[h].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[h].hwm_id},$scope.chosenHWMList[h]).$promise;for(var d=0;d<$scope.chosenDFList.length;d++)$scope.chosenDFList[d].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[d].data_file_id},$scope.chosenDFList[d]).$promise;toastr.success("Peak created");var sendBack=[createdPeak,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating peak: "+errorResponse.headers(["usgswim-messages"]):"Error creating peak: "+errorResponse.statusText)})}}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose at least one HWM or Data File to use for interpretation for this Peak Summary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.showIncompleteDFInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete Data File</h3></div><div class="modal-body"><p>All RDGs, Met Station, and Rain Gage sensors require data file information in order to use as primary in the Peak summary.</p><p>Please revisit the Retrieved Sensor and click on NWIS Data Connection to add a link to the NWIS data if you want to use as primary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showIncompleteHWMInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete HWM</h3></div><div class="modal-body"><p>Survey date and elevation are required in order to use as primary in the Peak summary.</p><p>Please revisit the HWM and add Survey date and elevation if you want to use as primary.</p><p>The HWM can be used for interpreation withouth a final elevation.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showRetrieveInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Deployed Sensor</h3></div><div class="modal-body"><p>This senosr needs to be retrieved before a Peak can be created.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("peakCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Site_Files","thisSitePeaks","allVertDatums","allHWMQualities","allHWMTypes","PEAK","HWM","MEMBER","SITE","INST_COLL_CONDITION",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Site_Files,thisSitePeaks,allVertDatums,allHWMQualities,allHWMTypes,PEAK,HWM,MEMBER,SITE,INST_COLL_CONDITION){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.peakCount={total:thisSitePeaks.length},$scope.SitePeaks=thisSitePeaks,$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SitePeaks=thisSitePeaks.filter(function(p){return p.event_name==$scope.sessionEventName}),$scope.peakCount={total:$scope.SitePeaks.length}):($scope.SitePeaks=thisSitePeaks,$scope.peakCount={total:$scope.SitePeaks.length})}),$scope.showPeakModal=function(peakClicked){$rootScope.stateIsLoading.showLoading=!0;var indexClicked=$scope.SitePeaks.indexOf(peakClicked),modalInstance=$uibModal.open({templateUrl:"PEAKmodal.html",controller:"peakModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return allVertDatums},thisPeak:function(){return 0!==peakClicked?PEAK.query({id:peakClicked.peak_summary_id}).$promise:"empty"},thisPeakDFs:function(){return 0!==peakClicked?PEAK.getPeakSummaryDFs({id:peakClicked.peak_summary_id}).$promise:void 0},peakSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$cookies.get("SessionEventID"),EventStatus:0}).$promise},allSiteFiles:function(){return Site_Files.getAllSiteFiles()},allSiteSensors:function(){return SITE.getSiteSensors({id:thisSite.site_id}).$promise}}});modalInstance.result.then(function(createdPeak){"created"==createdPeak[1]&&($scope.SitePeaks.push(createdPeak[0]),$scope.peakCount.total=$scope.SitePeaks.length),"updated"==createdPeak[1]&&($scope.SitePeaks[indexClicked]=createdPeak[0]),"deleted"==createdPeak[1]&&($scope.SitePeaks.splice(indexClicked,1),$scope.peakCount.total=$scope.SitePeaks.length),$rootScope.stateIsLoading.showLoading=!1})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("OPmodalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","Site_Files","allDropdowns","thisOP","thisOPControls","opSite","agencyList","allMembers","OBJECTIVE_POINT","OP_CONTROL_IDENTIFIER","OP_MEASURE","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,Site_Files,allDropdowns,thisOP,thisOPControls,opSite,agencyList,allMembers,OBJECTIVE_POINT,OP_CONTROL_IDENTIFIER,OP_MEASURE,SOURCE,FILE){$scope.serverURL=SERVER_URL,$scope.view={OPval:"detail"},$scope.fileIsUploading=!1,$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.OPTypeList=allDropdowns[0],$scope.HDList=allDropdowns[1],$scope.HCollectMethodList=allDropdowns[2],$scope.VDatumList=allDropdowns[3],$scope.VCollectMethodList=allDropdowns[4],$scope.OPQualityList=allDropdowns[5],$scope.fileTypeList=allDropdowns[6],$scope.htmlDescriptionTip=$sce.trustAsHtml("Please describe location and type of mark <em>ie. 'chiseled square on third sidewalk block on the south side of the street'</em>"),$scope.HWMfileIsUploading=!1,$scope.OP={},$scope.removeOPCarray=[],$scope.thisOPsite=opSite,$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.DMS={},$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.OPFiles="empty"!==thisOP?$scope.allSFiles.filter(function(sf){return sf.objective_point_id==thisOP.objective_point_id}):[],$scope.opImageFiles=$scope.OPFiles.filter(function(opf){return 1===opf.filetype_id}),$scope.showFileForm=!1,$scope.UnquantChecked=function(){void 0!==$scope.opCopy&&1==$scope.opCopy.unquantified&&($scope.opCopy.uncertainty="")},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),
FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.OPFiles.push(fresponse),1===fresponse.filetype_id&&($scope.opImageFiles.splice($scope.existFileIndex,1),$scope.opImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.OPFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.opImageFiles.length>0?$scope.opImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid&&($scope.fileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",null!==$scope.aSource.agency_id)){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisOPsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,objective_point_id:$scope.OP.objective_point_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.OPFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),FILE_STAMP.setStamp(),1===fresponse.filetype_id&&$scope.opImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.fileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Objective Point File",$scope.OPFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.opImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisOP?($scope.opModalHeader="Datum Location Information",$scope.createOReditOP="edit",$scope.OP=angular.copy(thisOP),$scope.OP.date_established=makeAdate($scope.OP.date_established),0===$scope.OP.vdatum_id&&delete $scope.OP.vdatum_id,null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),thisOPControls.length>0&&($scope.addedIdentifiers=thisOPControls,$scope.showControlIDinput=!0),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:""):($scope.opModalHeader="Create new Datum Location",$scope.createOReditOP="create",$scope.OP.latitude_dd=opSite.latitude_dd,$scope.OP.longitude_dd=opSite.longitude_dd,$scope.OP.hdatum_id=opSite.hdatum_id,$scope.OP.date_established=makeAdate("")),$scope.OP.decDegORdms="dd",$scope.OP.FTorMETER="ft",$scope.OP.FTorCM="ft",$scope.addNewIdentifier=function(){"edit"==$scope.createOReditOP?$scope.addedIdentifiersCopy.push({objective_point_id:$scope.OP.objective_point_id,identifier:"",identifier_type:""}):$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditOP){if("dd"==$scope.opCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.opCopy.decDegORdms="dms"})}else if(void 0!==$scope.opCopy.latitude_dd){var latDMS=deg_to_dms($scope.opCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.opCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.opCopy.latitude_dd=void 0,$scope.opCopy.longitude_dd=void 0}}else if("dd"==$scope.OP.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.OP.decDegORdms="dms"})}else if(void 0!==$scope.OP.latitude_dd){var create_latDMS=deg_to_dms($scope.OP.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.OP.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.OP.latitude_dd=void 0,$scope.OP.longitude_dd=void 0}};var trimOP=function(op){var OBJ_PT={name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:$scope.thisOPsite.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty&&""!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.cancel=function(){$uibModalInstance.close()};var formatDefaults=function(theOP,fromWhere){"create"==fromWhere?("meter"==theOP.FTorMETER&&($scope.OP.FTorMETER="ft",$scope.OP.elev_ft=3.2808*$scope.OP.elev_ft),"cm"==theOP.FTorCM&&($scope.OP.FTorCM="ft",$scope.OP.uncertainty=parseFloat($scope.OP.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.OP.decDegORdms="dd",$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.OP.site_id=$scope.thisOPsite.site_id)):("meter"==theOP.FTorMETER&&($scope.opCopy.FTorMETER="ft",$scope.opCopy.elev_ft=3.2808*$scope.opCopy.elev_ft),"cm"==theOP.FTorCM&&($scope.opCopy.FTorCM="ft",$scope.opCopy.uncertainty=parseFloat($scope.opCopy.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.opCopy.decDegORdms="dd",$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.opCopy.site_id=$scope.thisOPsite.site_id))};$scope.create=function(){if(this.OPForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdOP={};if(formatDefaults($scope.OP,"create"),$scope.OP.latitude_dd<0||$scope.OP.latitude_dd>73||isNaN($scope.OP.latitude_dd))openLatModal("latlong"),isNaN($scope.OP.latitude_dd)&&($scope.OP.latitude_dd=void 0);else if($scope.OP.longitude_dd<-175||$scope.OP.longitude_dd>-60||isNaN($scope.OP.longitude_dd))openLongModal("latlong"),isNaN($scope.OP.longitude_dd)&&($scope.OP.longitude_dd=void 0);else{var OPtoPOST=trimOP($scope.OP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(toastr.success("Datum Location created"),createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOne=$scope.addedIdentifiers[opc];thisOne.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOne).$promise}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdOP,"created"];$uibModalInstance.close(sendBack)})}}},$scope.RemoveID=function(opControl){if(void 0!==$scope.addedIdentifiersCopy){var i=$scope.addedIdentifiersCopy.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiersCopy.splice(i,1)):$scope.addedIdentifiersCopy.splice(i,1)}else{var ci=$scope.addedIdentifiers.indexOf(opControl);$scope.addedIdentifiers.splice(ci,1)}},$scope.save=function(valid){if(valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.DMS.LADeg&&($scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.opCopy.latitude_dd<0||$scope.opCopy.latitude_dd>73||isNaN($scope.opCopy.latitude_dd))openLatModal("latlong"),isNaN($scope.opCopy.latitude_dd)&&($scope.opCopy.latitude_dd=void 0);else if($scope.opCopy.longitude_dd<-175||$scope.opCopy.longitude_dd>-60||isNaN($scope.opCopy.longitude_dd))openLongModal("latlong"),isNaN($scope.opCopy.longitude_dd)&&($scope.opCopy.longitude_dd=void 0);else{if($scope.addedIdentifiersCopy.length>0)for(var i=0;i<$scope.addedIdentifiersCopy.length;i++)if(void 0!==$scope.addedIdentifiersCopy[i].op_control_identifier_id){var existIndex=$scope.addedIdentifiers.map(function(i){return i.op_control_identifier_id}).indexOf($scope.addedIdentifiersCopy[i].op_control_identifier_id);OP_CONTROL_IDENTIFIER.update({id:$scope.addedIdentifiersCopy[i].op_control_identifier_id},$scope.addedIdentifiersCopy[i]).$promise.then(function(response){$scope.addedIdentifiers[existIndex]=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error saving control identifier: "+errorResponse.statusText)})}else{var thisOPControlID=$scope.addedIdentifiersCopy[i];thisOPControlID.objective_point_id=$scope.OP.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise.then(function(response){$scope.addedIdentifiers.push(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error creating control identifier: "+errorResponse.statusText)})}if($scope.removeOPCarray.length>0)for(var r=0;r<$scope.removeOPCarray.length;r++){var deIndex=$scope.addedIdentifiers.map(function(ri){return ri.op_control_identifier_id}).indexOf($scope.removeOPCarray[r].op_control_identifier_id);OP_CONTROL_IDENTIFIER["delete"]({id:$scope.removeOPCarray[r].op_control_identifier_id}).$promise.then(function(){$scope.addedIdentifiers.splice(deIndex,1)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error deleting control identifier: "+errorResponse.statusText)})}formatDefaults($scope.opCopy,"edit");var OPtoPOST=trimOP($scope.opCopy);OPtoPOST.objective_point_id=$scope.opCopy.objective_point_id,OBJECTIVE_POINT.update({id:OPtoPOST.objective_point_id},OPtoPOST,function(response){toastr.success("Datum Location updated"),$scope.OP=response,thisOP=response,$scope.OP.date_established=makeAdate($scope.OP.date_established),null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:"",$scope.opCopy={},$scope.addedIdentifiersCopy=[],$scope.view.OPval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location: "+errorResponse.statusText)}).$promise}},$scope.deleteOP=function(){OP_MEASURE.getDatumLocationOPMeasures({objectivePointId:$scope.OP.objective_point_id}).$promise.then(function(result){if(result.length>0){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Cannot Delete</h3></div><div class="modal-body"><p>This Datum Location is being used for one or more sensor tape downs. Please delete the tape down before deleting the datum location.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}else{var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.OP},what:function(){return"Objective Point"}}});DeleteModalInstance.result.then(function(opToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OBJECTIVE_POINT["delete"]({id:opToRemove.objective_point_id},opToRemove).$promise.then(function(){$scope.OPFiles=[],$scope.opImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].objective_point_id==opToRemove.objective_point_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Datum Location Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location: "+errorResponse.statusText)})})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting datum location measures: "+errorResponse.headers(["usgswim-messages"]):"Error getting datum location measures: "+errorResponse.statusText)})};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d)($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0));else{var op="edit"==$scope.view.OPval?$scope.opCopy:$scope.OP;(op.latitude_dd<0||op.latitude_dd>73||isNaN(op.latitude_dd))&&(openLatModal("latlong"),isNaN(op.latitude_dd)&&(op.latitude_dd=void 0)),(op.longitude_dd<-175||op.longitude_dd>-60||isNaN(op.longitude_dd))&&(openLongModal("latlong"),isNaN(op.longitude_dd)&&(op.longitude_dd=void 0))}},$scope.wannaEditOP=function(){$scope.view.OPval="edit",$scope.opCopy=angular.copy($scope.OP),$scope.opCopy.decDegORdms="dd",$scope.opCopy.FTorMETER="ft",$scope.opCopy.FTorCM="ft",$scope.addedIdentifiersCopy=angular.copy($scope.addedIdentifiers)},$scope.cancelOPEdit=function(){$scope.view.OPval="detail",$scope.opCopy=[]},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("objectivePointCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","OBJECTIVE_POINT","MEMBER","SITE","thisSite","thisSiteOPs","allOPTypes","allHorDatums","allHorCollMethods","allVertDatums","allVertColMethods","allOPQualities","allFileTypes","allAgencies",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,OBJECTIVE_POINT,MEMBER,SITE,thisSite,thisSiteOPs,allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,allFileTypes,allAgencies){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.opCount={total:thisSiteOPs.length},$scope.SiteObjectivePoints=thisSiteOPs,$scope.showOPModal=function(OPclicked){$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});{var passAllLists=[allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,$scope.opFileTypes];$scope.SiteObjectivePoints.indexOf(OPclicked)}$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"OPmodal.html",controller:"OPmodalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisOP:function(){return 0!==OPclicked?OPclicked:"empty"},thisOPControls:function(){return 0!==OPclicked?OBJECTIVE_POINT.getOPControls({id:OPclicked.objective_point_id}).$promise:void 0},opSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdOP){if($rootScope.stateIsLoading={showLoading:!1},void 0!==createdOP){if("created"==createdOP[1]&&($scope.SiteObjectivePoints.push(createdOP[0]),$scope.opCount.total=$scope.SiteObjectivePoints.length),void 0===createdOP[1]){var iClicked=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints[iClicked]=createdOP}if("deleted"==createdOP[1]){var indexClicked1=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints.splice(indexClicked1,1),$scope.opCount.total=$scope.SiteObjectivePoints.length}}})})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","$sce","roleList","agencyList","thisMember","MEMBER",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,$sce,roleList,agencyList,thisMember,MEMBER){switch($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.agencyList=agencyList,$scope.pass={newP:"",confirmP:""},$scope.newPass="",$scope.loggedInUser={},$scope.loggedInUser.Name=$cookies.get("usersName"),$scope.loggedInUser.ID=$cookies.get("mID"),$scope.loggedInUser.Role=$cookies.get("usersRole"),$scope.loggedInUser.Role){case"Admin":$scope.roleList=roleList.filter(function(r){return r.role_id<=3});break;case"Manager":$scope.roleList=roleList.filter(function(r){return 3==r.role_id})}"empty"!=thisMember?($scope.matchingUsers=thisMember.member_id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=angular.copy(thisMember),$scope.aMember.Role=roleList.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.DontChangePass=function(){$scope.changePass=!1}):($scope.aMember={},1==$scope.roleList.length&&($scope.aMember.role_id=$scope.roleList[0].role_id)),$scope.create=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.aMember.password=btoa($scope.pass.confirmP);var createdMember={};MEMBER.save($scope.aMember,function(response){toastr.success("Member Created"),createdMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];createdMember.Agency=ag.agency_name,createdMember.Role=ro.role_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating member: "+errorResponse.headers(["usgswim-messages"]):"Error creating member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdMember,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";

var formattedMember=angular.copy($scope.aMember);""!==$scope.pass.newP?formattedMember.password=btoa($scope.pass.newP):(delete formattedMember.password,delete formattedMember.salt);var updatedMember={};Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},delete formattedMember.Role,delete formattedMember.Agency,MEMBER.update({id:formattedMember.member_id},formattedMember,function(response){updatedMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];if(updatedMember.Agency=ag.agency_name,updatedMember.Role=ro.role_name,$scope.loggedInUser.ID==response.member_id){if(""!==$scope.pass.newP){var enc=btoa(updatedMember.username.concat(":",$scope.pass.newP)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate})}$cookies.put("STNUsername",updatedMember.username);var usersNAME=updatedMember.fname+" "+updatedMember.lname;$cookies.put("usersName",usersNAME)}toastr.success("Member Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving member: "+errorResponse.headers(["usgswim-messages"]):"Error saving member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedMember,"updated"];$uibModalInstance.close(sendBack)})}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.DeleteMember=function(mem){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(memToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:memToRemove.member_id},function(response){toastr.success("Member Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting member: "+errorResponse.headers(["usgswim-messages"]):"Error deleting member: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close()},$rootScope.stateIsLoading={showLoading:!1}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$stateParams","$filter","$sce","allRoles","MEMBER","thisMember",function($scope,$cookies,$location,$http,$uibModal,$stateParams,$filter,$sce,allRoles,MEMBER,thisMember){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.DeleteMember=function(mem){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:nameToRemove.member_id},function(response){var delMem={};delMem.member_id=nameToRemove.member_id,delMem.Name=nameToRemove.fname+" "+nameToRemove.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==nameToRemove.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==nameToRemove.role_id})[0];delMem.Agency=ag.agency_name,delMem.Role=ro.role_name,$scope.memberList.splice($scope.memberList.indexOf(delMem),1),toastr.success("Member Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Members/MembersList").replace()})})},$scope.pass={newP:"",confirmP:""},$scope.newPass="",void 0!==thisMember?($scope.matchingUsers=$stateParams.id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=thisMember,$scope.aMember.Role=allRoles.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.update({id:$scope.aMember.member_id},$scope.aMember,function(response){toastr.success("Member Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.ChangePassword=function(){if(""===$scope.pass.newP||""===$scope.pass.confirmP){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must first enter a new password.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else MEMBER.changePW({username:$scope.aMember.username,newPass:$scope.pass.newP},function(response){if(toastr.success("Password Updated"),$scope.aMember.member_id==$scope.loggedInUser.member_id){var enc=btoa($scope.aMember.username.concat(":",$scope.pass.newP));$cookies.put("STNCreds",enc),$cookies.put("STNUsername",$scope.aMember.username),$cookies.put("usersName",$scope.loggedInUser.Name),$cookies.put("mID",$scope.aMember.member_id);var roleName;switch($scope.aMember.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName)}$scope.changePass=!1,$scope.pass.newP="",$scope.pass.confirmP=""},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.DontChangePass=function(){$scope.changePass=!1}):$scope.save=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.addMember({pass:$scope.pass.confirmP},$scope.aMember,function(response){toastr.success("Member Created");var nm={};nm.member_id=response.member_id,nm.Name=response.fname+" "+response.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response.role_id})[0];nm.Agency=ag.agency_name,nm.Role=ro.role_name,$scope.memberList.push(nm)}).$promise.then(function(){$location.path("/Members/MembersList").replace()}))})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","allRoles","allAgencies","userProfileId",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,allRoles,allAgencies,userProfileId){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Members",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showMemberModal=function(memberClicked){var indexClicked=$scope.memberList.indexOf(memberClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"memberModal.html",controller:"memberModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisMember:function(){return 0!==memberClicked?memberClicked:"empty"},agencyList:function(){return allAgencies},roleList:function(){return allRoles}}});modalInstance.result.then(function(createdMember){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdMember&&("created"==createdMember[1]&&$scope.memberList.push(createdMember[0]),"updated"===createdMember[1]&&($scope.memberList[indexClicked]=createdMember[0]),"deleted"==createdMember[1]&&$scope.memberList.splice(indexClicked,1))})},$scope.agencyList=allAgencies,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise.then(function(response){$scope.memberList=[];for(var x=0;x<response.length;x++){var eachM=response[x],ag=$scope.agencyList.filter(function(a){return a.agency_id==response[x].agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response[x].role_id})[0];eachM.Agency=ag.agency_name,eachM.Role=ro.role_name,$scope.memberList.push(eachM)}void 0!==userProfileId&&null!==userProfileId&&MEMBER.query({id:userProfileId}).$promise.then(function(resp){$scope.showMemberModal(resp)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}))}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSiteInfoController",["$scope","$http","$rootScope","$cookies","$location","SITE","leafletMarkerEvents","leafletBoundsHelpers","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,leafletMarkerEvents,leafletBoundsHelpers,$state,spinnerService){$scope.status={siteOpen:!0},$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.aSite=siteParts[0],$scope.aSite.latitude_dd=parseFloat($scope.aSite.latitude_dd.toFixed(6)),$scope.aSite.longitude_dd=parseFloat($scope.aSite.longitude_dd.toFixed(6)),spinnerService.hide("siteInfoSpinner")}),$scope.goToSiteDashboard=function(){$state.go("site.dashboard",{id:$scope.aSite.site_id})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSensorProposeController",["$scope","$http","$timeout","$rootScope","$cookies","$location","SITE","INSTRUMENT","INSTRUMENT_STATUS","allDeployTypes","allSensDeps","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$http,$timeout,$rootScope,$cookies,$location,SITE,INSTRUMENT,INSTRUMENT_STATUS,allDeployTypes,allSensDeps,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.thisSite=siteParts[0],$scope.status.sensorOpen=!1,$scope.ProposedSensors4Site=[],$scope.showProposed=!1}),$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.getProposedSensors=function(){SITE.getSiteSensors({id:$scope.thisSite.site_id}).$promise.then(function(sResponse){for(var s=0;s<sResponse.length;s++){var correctOrderSS=[],sensorStatuses=sResponse[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);sResponse[s].instrument_status=[],sResponse[s].instrument_status=correctOrderSS}$scope.ProposedSensors4Site=sResponse.filter(function(ss){return 4==ss.instrument_status[0].status_type_id})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site sensors: "+errorResponse.headers(["usgswim-messages"]):"Error getting site sensors: "+errorResponse.statusText)})},$scope.sensDepTypes=allSensDeps,$scope.showProposed=!1,$scope.status={sensorOpen:!1},$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.cancelProposing=function(){$scope.showProposed=!1},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.ProposedSensors4Site.push(createdPropSensor);for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),angular.forEach($scope.deployTypeList,function(dt){dt.selected=!1}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapPeaksController",["$scope","$rootScope","$http","$cookies","$location","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$rootScope,$http,$cookies,$location,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.sitePeaks=[];for(var allSitePeaks=siteParts[1],p=0;p<allSitePeaks.length;p++)allSitePeaks[p].event_name==$cookies.get("SessionEventName")&&$scope.sitePeaks.push(allSitePeaks[p]);$scope.showPeaks=!0}),$scope.showPeaks=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapFiltersController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Filter","$state","stateList","sensorTypes","networkNames","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Filter,$state,stateList,sensorTypes,networkNames,spinnerService){$scope.status={siteOpen:!0},$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.surveyOptions=[{id:!0,value:"Surveyed HWMs"},{id:!1,value:"Unsurveyed HWMs"}],$scope.Chosen={network:null,sensor:null,survey:null},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={eventSitesOnly:"1",hwmOnly:"0",senOnly:"0",rdgOnly:"0",opDefined:"0"},$scope.searchSites=function(){if(spinnerService.show("mapSpinner"),"1"===$scope.checkboxModel.eventSitesOnly&&$scope.sessionEventExists===!0){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}else if("0"===$scope.checkboxModel.eventSitesOnly||$scope.sessionEventExists===!1){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[],$rootScope.searchParams={state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined};var sp=$rootScope.searchParams;if("0"===sp.HWMOnly&&null===sp.HWMSurveyed&&null===sp.NetworkName&&"0"===sp.OPDefined&&"0"===sp.RDGOnly&&"0"===sp.SensorOnly&&null===sp.SensorType&&0===sp.state.length)return spinnerService.hide("mapSpinner"),toastr.options.positionClass="toast-bottom-right",void toastr.warning("Please select at least one search parameter.","Map Filters");SITE.getFilteredSites({State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){spinnerService.show("mapSpinner"),$scope.checkboxModel={eventSitesOnly:1,hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1});var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){Map_Filter.setFilteredSites(response),spinnerService.hide("mapSpinner")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText)})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Site","leafletMarkerEvents","leafletBoundsHelpers","leafletData","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Site,leafletMarkerEvents,leafletBoundsHelpers,leafletData,$state,spinnerService){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Map",$rootScope.activeMenu="map",$scope.message="Many of the supplemental GIS data layers found in the map are from a range of sources and are not maintained by WiM. We offer these map layers as a decision support supplement to the STN sites layer, but we cannot guarantee their performance and availability. Many of these externally maintained layers are large datasets and may load slowly depending on network latency. In some cases they may fail to load entirely when network latency is high.",$rootScope.$on("filterSitesClick",function(event,filteredSitesArray){filteredSitesArray.length>0?($scope.paths={},$scope.selectedMarkerNum=0,showEventSites(filteredSitesArray)):(toastr.options.positionClass="toast-bottom-right",toastr.warning("Your filter returned no results.","Map Filters"))});var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},stnGray:{type:"div",iconSize:[10,10],className:"stnSiteGray"},newSite:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},nwis:L.divIcon({iconSize:[10,10],className:"arrow-up"}),action:L.icon({iconUrl:"images/action.png",popupAnchor:[10,10]}),low_threshold:L.icon({iconUrl:"images/low_threshold.png",popupAnchor:[10,10]}),major:L.icon({iconUrl:"images/major.png",popupAnchor:[10,10]}),minor:L.icon({iconUrl:"images/minor.png",popupAnchor:[10,10]}),moderate:L.icon({iconUrl:"images/moderate.png",popupAnchor:[10,10]}),no_flooding:L.icon({iconUrl:"images/no_flooding.png",popupAnchor:[10,10]}),not_defined:L.icon({iconUrl:"images/not_defined.png",popupAnchor:[10,10]}),obs_not_current:L.icon({iconUrl:"images/obs_not_current.png",popupAnchor:[10,10]}),out_of_service:L.icon({iconUrl:"images/out_of_service.png",popupAnchor:[10,10]})},showEventSites=function(response){var sitesArray=response;$scope.sites=sitesArray,$scope.markers=[],$scope.markersLatLngArray=[],leafletData.getDirectiveControls().then(function(controls){controls.markers.create({},$scope.markers);for(var markers=[],i=0;i<sitesArray.length;i++){var a=sitesArray[i];markers.push({layer:"stnSites",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:"STN Site",icon:icons.stn}),$scope.markersLatLngArray.push([a.latitude_dd,a.longitude_dd])}controls.markers.create(markers,$scope.markers),$scope.markers=markers})};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}},$scope.selectedMarkerNum=0,$scope.$on("leafletDirectiveMarker.click",function(event,args){if("newSite"!=args.model.site_id){spinnerService.show("siteInfoSpinner"),$scope.markers[$scope.selectedMarkerNum].icon=icons.stn,delete $scope.markers[$scope.selectedMarkerNum].label;var siteID=args.model.site_id;Map_Site.setMapSiteParts(siteID),$scope.selectedMarkerNum=parseInt(args.modelName),$scope.markers[$scope.selectedMarkerNum].icon=icons.selected,$scope.markers[$scope.selectedMarkerNum].label={message:"Site "+siteID,options:{noHide:!0,offset:[25,-15],className:"siteLabel"}},$scope.mapCenter.zoom<=9?$scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:10}:$scope.mapCenter.zoom>=10&&($scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:$scope.mapCenter.zoom});var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:args.model.lat,lng:args.model.lng},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape()}}),$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if(void 0===newValue)return toastr.options.positionClass="toast-bottom-right",toastr.options.timeOut="8000",toastr.options.closeButton=!0,void toastr.warning("No sites are showing because you have no filters applied. Please select at least one search parameter.","Map Filters");$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events";var evID=newValue;spinnerService.show("mapSpinner"),$scope.selectedMarkerNum=0,$scope.paths={},$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){spinnerService.hide("mapSpinner"),showEventSites(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText),$scope.error="Could not fetch sites"})}),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1});$scope.$on("leafletDirectiveMap.click",function(event,args){if($scope.createSiteModeActive===!0){removeUserCreatedSite();var leafEvent=args.leafletEvent;$scope.userCreatedSite={latitude:leafEvent.latlng.lat,longitude:leafEvent.latlng.lng},$scope.markers.push({layer:"newSite",lat:$scope.userCreatedSite.latitude,lng:$scope.userCreatedSite.longitude,site_id:"newSite",icon:icons.newSite,message:"New draggable STN site",draggable:!0,focus:!1,label:{message:"New Site",options:{noHide:!0,className:"newSiteLabel"}}})}});var removeUserCreatedSite=function(){var createdSiteIndex=$scope.markers.map(function(obj){return obj.site_id}).indexOf("newSite");createdSiteIndex>-1&&($scope.markers.splice(createdSiteIndex,1),$scope.userCreatedSite={})};$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.userCreatedSite={latitude:dragendLocation.lat,longitude:dragendLocation.lng}}),$scope.$watch("createSiteModeActive",function(){$scope.createSiteButtonText=$scope.createSiteModeActive?"Cancel Create Site Mode":"Create New Site on Map",$scope.mapStyle=$scope.createSiteModeActive?{cursor:"crosshair"}:{cursor:"grab"},$scope.createSiteModeActive||removeUserCreatedSite()}),$scope.createSiteFromMap=function(){void 0!==$scope.userCreatedSite.latitude&&void 0!==$scope.userCreatedSite.longitude?$state.go("site.dashboard",{id:0,latitude:$scope.userCreatedSite.latitude,longitude:$scope.userCreatedSite.longitude}):alert("Please click a location on the map to create a site this way.")},leafletData.getMap().then(function(map){var geoSearchControl=new L.Control.GeoSearch({provider:new L.GeoSearch.Provider.Esri,position:"topleft",zoomLevel:15});geoSearchControl.addTo(map)}),delete $http.defaults.headers.common.Authorization,angular.extend($scope,{events:{markers:{enable:leafletMarkerEvents.getAvailableEvents()}},mapCenter:{lat:41.278,lng:-92.336,zoom:4,minZoom:4},controls:{},markersWatchOptions:{doWatch:!0,isDeep:!0,individual:{doWatch:!0,isDeep:!1}},paths:{},markers:[],markersLatLngArray:[],createSiteModeActive:!1,userCreatedSite:{},layers:{baselayers:{gray:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1},streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1},topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1},national:{name:"National Geographic",type:"agsBase",layer:"NationalGeographic",visible:!1},oceans:{name:"Oceans",type:"agsBase",layer:"Oceans",visible:!1},darkgray:{name:"DarkGray",type:"agsBase",layer:"DarkGray",visible:!1},imagery:{name:"Imagery",type:"agsBase",layer:"Imagery",visible:!1},shadedrelief:{name:"Shaded Relief",type:"agsBase",layer:"ShadedRelief",visible:!1},terrain:{name:"Terrain",type:"agsBase",layer:"Terrain",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnSitesAll:{type:"group",name:"STN Sites All",visible:!0},newSite:{type:"group",name:"newSite",visible:!0,layerParams:{showOnSelector:!1}},ahps:{name:"AHPS Gages",type:"agsFeature",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/ahps_riv_gauges/MapServer/0",visible:!1,layerOptions:{opacity:1,pointToLayer:function(geojson,latlng){return L.marker(latlng,{icon:icons[geojson.properties.status]})},onEachFeature:function(feature,layer){var graphURL="https://water.weather.gov/resources/hydrographs/"+feature.properties.gaugelid.toLowerCase()+"_hg.png";layer.bindPopup("<b>Gage ID: </b>"+feature.properties.gaugelid+"</br><a target='_blank' href='"+feature.properties.url+"'><img title='Click for details page' width=300 src='"+graphURL+"'/></a>")}}},radar:{name:"Weather Radar",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/radar_base_reflectivity/MapServer",visible:!1,layerOptions:{layers:[0],opacity:1}},watchWarn:{name:"NWS Watches & Warnings",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Forecasts_Guidance_Warnings/watch_warn_adv/MapServer",visible:!1,layerOptions:{layers:[1],opacity:1}}}}})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("mainCtrl",["$scope","$rootScope","$document","$cookies","$uibModal","$location","$state",function($scope,$rootScope,$document,$cookies,$uibModal,$location,$state){if($rootScope.isAuth={},$rootScope.activeMenu="home",void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")||void 0===$cookies.get("STNUsername"))$rootScope.isAuth.val=!1,$location.path("/login");else{if(void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}$rootScope.isAuth.val=!0,$rootScope.usersName=$cookies.get("usersName"),$rootScope.userID=$cookies.get("mID"),$rootScope.userRole=$cookies.get("usersRole");var EventName=$cookies.get("SessionEventName");

null!==EventName&&void 0!==EventName&&($rootScope.sessionEvent="Session Event: "+EventName+"."),$state.go("map")}}])}(),function(){"use strict";var LogInOutController=angular.module("LogInOutController",[]);LogInOutController.controller("loginCtrl",["$scope","$state","$location","$uibModal","$sce","$http","$cookies","$rootScope","$document","SERVER_URL","ENVIRONMENT","Login",function($scope,$state,$location,$uibModal,$sce,$http,$cookies,$rootScope,$document,SERVER_URL,ENVIRONMENT,Login){if($scope.newsTitle="",$scope.newsFeed=[],Login.getNewsFeed({},function(response){$scope.newsTitle=response.title;var paragraphTags=[];paragraphTags=response.body.storage.value.split("<p>"),paragraphTags.forEach(function(p){$scope.newsFeed.push($sce.trustAsHtml(p))})},function(errorResponse){$scope.newsTitle="STN Notices",$scope.newsFeed.push("Currently not available.")}),$("[type=password]").keypress(function(e){var $password=$(this),tooltipVisible=$(".tooltip").is(":visible"),s=String.fromCharCode(e.which);s.toUpperCase()!==s||s.toLowerCase()===s||e.shiftKey?tooltipVisible&&$password.tooltip("hide"):tooltipVisible||$password.tooltip("show"),$password.blur(function(e){$password.tooltip("hide")})}),void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},$scope.serverURL=SERVER_URL,$rootScope.environment=ENVIRONMENT,$scope.submit=function(){$rootScope.stateIsLoading.showLoading=!0;var up=({username:$scope.username,password:$scope.password},$scope.username+":"+$scope.password);$http.defaults.headers.common.Authorization="Basic "+btoa(up),$http.defaults.headers.common.Accept="application/json",Login.login({},function(response){var user=response;if(void 0!==user){var usersNAME=user.fname+" "+user.lname,enc=btoa($scope.username.concat(":",$scope.password)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate}),$cookies.put("STNUsername",$scope.username),$cookies.put("usersName",usersNAME),$cookies.put("mID",user.member_id);var roleName;switch(user.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName),$rootScope.isAuth.val=!0,$rootScope.usersName=usersNAME,$rootScope.userID=user.member_id,$rootScope.userRole=$cookies.get("usersRole"),void 0!==$rootScope.returnToState?$state.go($rootScope.returnToState,{id:$rootScope.returnToStateParams}):$state.go("map")}else $rootScope.stateIsLoading.showLoading=!1,$scope.error="Login Failed"},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1;var modalInstance=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error.</p><p>Error: {{status}} - {{statusText}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.status=errorResponse.status,$scope.statusText=errorResponse.statusText}],size:"sm"});modalInstance.result.then(function(fieldFocus){$location.path("/login")})})}}]),LogInOutController.controller("logoutCtrl",["$scope","$rootScope","$cookies","$location",function($scope,$rootScope,$cookies,$location){$scope.logout=function(){$cookies.remove("STNCreds"),$cookies.remove("STNUsername"),$cookies.remove("usersName"),$cookies.remove("usersRole"),$cookies.remove("mID"),$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.thisPage=void 0,$rootScope.returnToState=void 0,$rootScope.returnToStateParams=void 0,$rootScope.stateIsLoading=void 0,$rootScope.activeMenu=void 0,$rootScope.sessionEvent=void 0,$rootScope.isAuth=void 0,$rootScope.searchTerm=void 0,$rootScope.searchParams=void 0,$rootScope.approvalSearch=void 0,$rootScope.userID=void 0,$rootScope.userRole=void 0,$rootScope.usersName=void 0,$rootScope.environment=void 0,$location.path("/login")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickHWMCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","SITE","OBJECTIVE_POINT","HWM",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,SITE,OBJECTIVE_POINT,HWM){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Quick HWM",$scope.qhwmForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};$scope.decDegORdms={},$scope.aSite={MEMBER_ID:$cookies.get("mID")},$scope.aOP={DATE_ESTABLISHED:makeAdate("")},$scope.aHWM={HWM_ENVIRONMENT:"Riverine",BANK:"N/A",FLAG_DATE:makeAdate(""),STILLWATER:0},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers,$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({OBJECTIVE_POINT_ID:$scope.aOP.OBJECTIVE_POINT_ID,IDENTIFIER:"",IDENTIFIER_TYPE:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val){if(void 0!==$scope.DMS.LADeg){$scope.aSite.LATITUDE_DD=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.LONGITUDE_DD=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)}}else if(void 0!==$scope.aSite.LATITUDE_DD){var latDMS=deg_to_dms($scope.aSite.LATITUDE_DD).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.LONGITUDE_DD),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){delete $scope.aSite.ADDRESS,delete $scope.aSite.CITY,delete $scope.aSite.STATE,$scope.stateCountyList=[],delete $scope.aSite.ZIP,$rootScope.stateIsLoading.showLoading=!0;var geocoder=new google.maps.Geocoder,latlng=new google.maps.LatLng($scope.aSite.LATITUDE_DD,$scope.aSite.LONGITUDE_DD);geocoder.geocode({latLng:latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){var address_components=results[0].address_components,components={};$.each(address_components,function(k,v1){$.each(v1.types,function(k2,v2){components[v2]=v1.long_name})}),$scope.aSite.ADDRESS=void 0!==components.street_number?components.street_number+" "+components.route:components.route,$scope.aSite.CITY=components.locality;var thisState=$scope.stateList.filter(function(s){return s.STATE_NAME==components.administrative_area_level_1})[0];void 0!==thisState?($scope.aSite.STATE=thisState.STATE_ABBREV,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID}),$scope.aSite.COUNTY=components.administrative_area_level_2,$scope.aSite.ZIP=components.postal_code,$rootScope.stateIsLoading.showLoading=!1,$scope.$apply()):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a location within the U.S."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("There was an error getting address. Please try again.")})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.STATE_ABBREV==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID})},$scope.UnquantChecked=function(){1==$scope.aOP.UNQUANTIFIED&&($scope.aOP.UNCERTAINTY=null)};var trimOP=function(op){var OBJ_PT={OBJECTIVE_POINT_ID:void 0!==op.OBJECTIVE_POINT_ID?op.OBJECTIVE_POINT_ID:0,NAME:op.NAME,DESCRIPTION:op.DESCRIPTION,ELEV_FT:void 0!==op.ELEV_FT?op.ELEV_FT:null,DATE_ESTABLISHED:op.DATE_ESTABLISHED,OP_IS_DESTROYED:void 0!==op.OP_IS_DESTROYED?op.OP_IS_DESTROYED:0,OP_NOTES:void 0!==op.OP_NOTES?op.OP_NOTES:null,SITE_ID:op.SITE_ID,VDATUM_ID:void 0!==op.VDATUM_ID?op.VDATUM_ID:0,LATITUDE_DD:op.LATITUDE_DD,LONGITUDE_DD:op.LONGITUDE_DD,HDATUM_ID:void 0!==op.HDATUM_ID?op.HDATUM_ID:0,HCOLLECT_METHOD_ID:void 0!==op.HCOLLECT_METHOD_ID?op.HCOLLECT_METHOD_ID:0,VCOLLECT_METHOD_ID:void 0!==op.VCOLLECT_METHOD_ID?op.VCOLLECT_METHOD_ID:0,OP_TYPE_ID:op.OP_TYPE_ID,DATE_RECOVERED:void 0!==op.DATE_RECOVERED?op.DATE_RECOVERED:null,UNCERTAINTY:void 0!==op.UNCERTAINTY?op.UNCERTAINTY:null,UNQUANTIFIED:void 0!==op.UNQUANTIFIED?op.UNQUANTIFIED:null,OP_QUALITY_ID:void 0!==op.OP_QUALITY_ID?op.OP_QUALITY_ID:null};return OBJ_PT},formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.ELEV_FT=3.2808*$scope.aOP.ELEV_FT),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.UNCERTAINTY=$scope.aOP.UNCERTAINTY/30.48)};$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.qhwmForm.quickHWM;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdSiteID=0;$scope.aSite.LONGITUDE_DD>0&&($scope.aSite.LONGITUDE_DD=-1*$scope.aSite.LONGITUDE_DD),SITE.save($scope.aSite,function(response){createdSiteID=response.SITE_ID,$scope.aOP.SITE_ID=createdSiteID,$scope.aOP.LATITUDE_DD=response.LATITUDE_DD,$scope.aOP.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aOP.HDATUM_ID=response.HDATUM_ID,$scope.aOP.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.SITE_ID=createdSiteID,$scope.aHWM.WATERBODY=response.WATERBODY,$scope.aHWM.LATITUDE_DD=response.LATITUDE_DD,$scope.aHWM.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aHWM.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.HDATUM_ID=response.HDATUM_ID,$scope.aHWM.FLAG_TEAM_ID=response.MEMBER_ID,$scope.aHWM.EVENT_ID=$cookies.get("SessionEventID");var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++)OBJECTIVE_POINT.createOPControlID({id:response.OBJECTIVE_POINT_ID},$scope.addedIdentifiers[opc]).$promise;void 0!==$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),void 0!==$scope.aHWM.ELEV_FT&&(void 0===$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_DATE=makeAdate("")),$scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply})})})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.SITE_DESCRIPTION.$invalid||theForm.LATITUDE_DD.$invalid||theForm.LONGITUDE_DD.$invalid||theForm.HDATUM_ID.$invalid||theForm.HCOLLECT_METHOD_ID.$invalid||theForm.WATERBODY.$invalid||theForm.STATE.$invalidv||theForm.COUNTY.$invalid)&&($scope.siteErrors=!0),(theForm.OP_TYPE_ID.$invalid||theForm.NAME.$invalid||theForm.DESCRIPTION.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.HWM_TYPE_ID.$invalid||theForm.HWM_ENVIRONMENT.$invalid||theForm.HWM_QUALITY_ID.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("hwmModalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","Site_Files","thisHWM","allSiteHWMs","hwmApproval","agencyList","hwmSite","allMembers","HWM","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,Site_Files,thisHWM,allSiteHWMs,hwmApproval,agencyList,hwmSite,allMembers,HWM,SOURCE,FILE){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.fileTypeList=allDropdowns[8],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.HWMFiles="empty"!==thisHWM?$scope.allSFiles.filter(function(sf){return sf.hwm_id==thisHWM.hwm_id}):[],$scope.hwmImageFiles=$scope.HWMFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.FlagMember="",$scope.SurveyMember="",$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.DMS={},$scope.thisHWMsite=hwmSite,$scope.ApprovalInfo={},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditHWM){if("dd"==$scope.hwmCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.hwmCopy.decDegORdms="dms"})}else if(void 0!==$scope.hwmCopy.latitude_dd){var latDMS=deg_to_dms($scope.hwmCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.hwmCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.hwmCopy.latitude_dd=void 0,$scope.hwmCopy.longitude_dd=void 0}}else if("dd"==$scope.aHWM.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aHWM.decDegORdms="dms"})}else if(void 0!==$scope.aHWM.latitude_dd){var create_latDMS=deg_to_dms($scope.aHWM.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.aHWM.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.aHWM.latitude_dd=void 0,$scope.aHWM.longitude_dd=void 0}};var openLatModal=function(w,message){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Latitude must be between 0 and 73.0"),"distance"==show&&($scope.message="Latitude places the HWM more than 232 ft from the site's latitude. Please verify before continuing.")}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w,message){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Longitude must be between -175.0 and -60.0"),"distance"==show&&($scope.message="Longitude places the HWM more than 232 ft from the site's longitude. Please verify before continuing")}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d){if($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)openLatModal("dms","range"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0);else{var lat=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),latDis=hwmSite.latitude_dd-lat;Math.abs(latDis)>5e-4&&openLatModal("dms","distance")}if($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)openLongModal("dms","range"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0);else{var lo=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),loDis=hwmSite.longitude_dd-lo;Math.abs(loDis)>5e-4&&openLongModal("dms","distance")}}else{var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))openLatModal("latlong","range"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0);else{var latDistance=hwmSite.latitude_dd-h.latitude_dd;Math.abs(latDistance)>5e-4&&openLatModal("latlong","distance")}if(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))openLongModal("latlong","range"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0);else{var longDistance=hwmSite.longitude_dd-h.longitude_dd;Math.abs(longDistance)>5e-4&&openLongModal("latlong","distance")}}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisHWM?($scope.createOReditHWM="edit",$scope.aHWM=angular.copy(thisHWM),$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",void 0!==$scope.aHWM.approval_id&&HWM.getHWMApproval({id:$scope.aHWM.hwm_id}).$promise.then(function(response){$scope.ApprovalInfo.approvalDate=new Date(response.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==response.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm approval info: "+errorResponse.statusText)}),$scope.hwmModalHeader="HWM Information",$scope.EventName=$scope.aHWM.event_id>0?$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name:"None provided",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0]):($scope.hwmModalHeader="Create new HWM",$scope.createOReditHWM="create",$scope.aHWM={site_id:$scope.thisHWMsite.site_id,event_id:$cookies.get("SessionEventID"),hwm_environment:"Riverine",bank:"N/A",hwm_label:"no_label",stillwater:0,latitude_dd:hwmSite.latitude_dd,longitude_dd:hwmSite.longitude_dd,waterbody:hwmSite.waterbody,hdatum_id:hwmSite.hdatum_id,hcollect_method_id:hwmSite.hcollect_method_id,flag_date:makeAdate(""),flag_member_id:$scope.LoggedInMember.member_id},$scope.EventName=$cookies.get("SessionEventName"),$scope.FlagMember=$scope.LoggedInMember),$scope.aHWM.decDegORdms="dd",$scope.aHWM.FTorCM="ft",$scope.create=function(valid){if(valid){var createdHWM={};void 0!==$scope.DMS.LADeg&&($scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aHWM.latitude_dd<0||$scope.aHWM.latitude_dd>73||isNaN($scope.aHWM.latitude_dd)?(openLatModal("latlong","range"),isNaN($scope.aHWM.latitude_dd)&&($scope.aHWM.latitude_dd=void 0)):$scope.aHWM.longitude_dd<-175||$scope.aHWM.longitude_dd>-60||isNaN($scope.aHWM.longitude_dd)?(openLongModal("latlong","range"),isNaN($scope.aHWM.longitude_dd)&&($scope.aHWM.longitude_dd=void 0)):(void 0!==$scope.aHWM.survey_date&&null!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.flag_member_id),"cm"==$scope.aHWM.FTorCM&&($scope.aHWM.FTorCM="ft",void 0!==$scope.aHWM.uncertainty&&($scope.aHWM.uncertainty=parseFloat($scope.aHWM.uncertainty/30.48).toFixed(6))),void 0!==$scope.aHWM.elev_ft&&null!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.save($scope.aHWM).$promise.then(function(response){createdHWM=response,toastr.success("HWM created");var sendBack=[createdHWM,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm: "+errorResponse.statusText)}))}},$scope.approveHWM=function(){var thisHWM=$scope.aHWM,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWM</h3></div><div class='modal-body'><p>Are you ready to approve this HWM?</p><p>The surveyed elevation is {{approveHWM.elev_ft || '---'}}</p><p>The height above ground is {{approveHWM.height_above_gnd || '---'}}</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});approveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:h.hwm_id}).$promise.then(function(approvalResponse){h.approval_id=approvalResponse.approval_id,toastr.success("HWM Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error approving hwm: "+errorResponse.statusText)})},function(){})},$scope.unApproveHWM=function(){var thisHWM=$scope.aHWM,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this HWM?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});unapproveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.unApproveHWM({id:h.hwm_id}).$promise.then(function(){h.approval_id=null,toastr.success("HWM Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving hwm: "+errorResponse.statusText)})},function(){})};var formatHWM=function(h){var formattedHWM={hwm_id:h.hwm_id,waterbody:h.waterbody,
site_id:h.site_id,event_id:h.event_id,hwm_type_id:h.hwm_type_id,hwm_quality_id:h.hwm_quality_id,hwm_locationdescription:h.hwm_locationdescription,latitude_dd:h.latitude_dd,longitude_dd:h.longitude_dd,survey_date:h.survey_date,elev_ft:h.elev_ft,vdatum_id:h.vdatum_id,vcollect_method_id:h.vcollect_method_id,bank:h.bank,approval_id:h.approval_id,marker_id:h.marker_id,height_above_gnd:h.height_above_gnd,hcollect_method_id:h.hcollect_method_id,peak_summary_id:h.peak_summary_id,hwm_notes:h.hwm_notes,hwm_environment:h.hwm_environment,flag_date:h.flag_date,stillwater:h.stillwater,hdatum_id:h.hdatum_id,flag_member_id:h.flag_member_id,survey_member_id:h.survey_member_id,uncertainty:h.uncertainty,hwm_uncertainty:h.hwm_uncertainty,hwm_label:h.hwm_label};return formattedHWM};$scope.save=function(valid){if(valid){if(void 0!==$scope.DMS.LADeg&&($scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.hwmCopy.latitude_dd<0||$scope.hwmCopy.latitude_dd>73||isNaN($scope.hwmCopy.latitude_dd))openLatModal("latlong","range"),isNaN($scope.hwmCopy.latitude_dd)&&($scope.hwmCopy.latitude_dd=void 0);else if($scope.hwmCopy.longitude_dd<-175||$scope.hwmCopy.longitude_dd>-60||isNaN($scope.hwmCopy.longitude_dd))openLongModal("latlong","range"),isNaN($scope.hwmCopy.longitude_dd)&&($scope.hwmCopy.longitude_dd=void 0);else{void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),"cm"==$scope.hwmCopy.FTorCM&&($scope.hwmCopy.FTorCM="ft",void 0!==$scope.hwmCopy.uncertainty&&($scope.hwmCopy.uncertainty=parseFloat($scope.hwmCopy.uncertainty/30.48).toFixed(6))),void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var cleanHWM=formatHWM($scope.hwmCopy);HWM.update({id:cleanHWM.hwm_id},cleanHWM).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),void 0!==hwmApproval&&($scope.ApprovalInfo.approvalDate=new Date(hwmApproval.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==hwmApproval.member_id})[0]),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0],$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}}},$scope.deleteHWM=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aHWM},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],$scope.hwmImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].hwm_id==hwmToRemove.hwm_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("HWM Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=$scope.aHWM;$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.hwmCopy.decDegORdms="dd",$scope.hwmCopy.FTorCM="ft"},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("hwmCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","thisSiteHWMs","HWM_Service","allAgencies","allHWMTypes","allHWMQualities","allHorDatums","allMarkers","allHorCollMethods","allVertDatums","allVertColMethods","allEvents","allFileTypes","MEMBER","HWM","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,thisSiteHWMs,HWM_Service,allAgencies,allHWMTypes,allHWMQualities,allHorDatums,allMarkers,allHorCollMethods,allVertDatums,allVertColMethods,allEvents,allFileTypes,MEMBER,HWM,SITE){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.hwmCount={total:thisSiteHWMs.length},$scope.SiteHWMs=thisSiteHWMs,HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteHWMs=thisSiteHWMs.filter(function(h){return h.event_id==$cookies.get("SessionEventID")}),$scope.hwmCount={total:$scope.SiteHWMs.length}):($scope.SiteHWMs=thisSiteHWMs,$scope.hwmCount={total:$scope.SiteHWMs.length})}),$scope.showHWMModal=function(HWMclicked){{var hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),passAllLists=[allHWMTypes,allHWMQualities,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allMarkers,allEvents,hwmFileTypes];$scope.SiteHWMs.indexOf(HWMclicked)}$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"HWMmodal.html",controller:"hwmModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return 0!==HWMclicked?HWMclicked:"empty"},allSiteHWMs:function(){return $scope.SiteHWMs},hwmApproval:function(){return 0!==HWMclicked&&void 0!==HWMclicked.approval_id&&HWMclicked.approval_id>0?HWM.getHWMApproval({id:HWMclicked.hwm_id}).$promise:void 0},hwmSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdHWM){if("created"==createdHWM[1]&&($scope.SiteHWMs.push(createdHWM[0]),HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.hwmCount.total=$scope.SiteHWMs.length),void 0===createdHWM[1]){var indexClicked=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs[indexClicked]=createdHWM,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}if("deleted"==createdHWM[1]){var indexClicked1=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs.splice(indexClicked1,1),$scope.hwmCount.total=$scope.SiteHWMs.length,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("historicHWMCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","SITE","HWM","OBJECTIVE_POINT","GEOCODE","thisEvent","HDatums","HCollectMeths","States","Counties","OPTypes","VDatums","HTypes","HWMQuals",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,SITE,HWM,OBJECTIVE_POINT,GEOCODE,thisEvent,HDatums,HCollectMeths,States,Counties,OPTypes,VDatums,HTypes,HWMQuals){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[140,76,84,220,220,100,150,120,120,180,120,140,140,120,140,140,140,120],$scope.Changes=[],$scope.invalids=[],$scope.event=thisEvent,$scope.hDatumList=HDatums,$scope.hDatumArray=[],$scope.hCollectList=HCollectMeths,$scope.hcollectArray=[],$scope.stateList=States,$scope.stateArray=[],$scope.countyList=Counties,$scope.countyArray=[],$scope.opTypeList=OPTypes,$scope.opTypeArray=[],$scope.vDatumList=VDatums,$scope.vDatumArray=[],$scope.hwmTypeList=HTypes,$scope.hwmTypeArray=[],$scope.hwmEnvirList=["Coastal","Riverine"],$scope.hwmQualityList=HWMQuals,$scope.hwmQualityArray=[],$scope.historicHWMs=[],angular.forEach($scope.hDatumList,function(l){$scope.hDatumArray.push(l.datum_name)}),angular.forEach($scope.hCollectList,function(l){$scope.hcollectArray.push(l.hcollect_method)}),angular.forEach($scope.stateList,function(l){$scope.stateArray.push(l.state_name)}),angular.forEach($scope.countyList,function(l){$scope.countyArray.push(l.county_name)}),angular.forEach($scope.opTypeList,function(l){$scope.opTypeArray.push(l.op_type)}),angular.forEach($scope.vDatumList,function(l){$scope.vDatumArray.push(l.datum_abbreviation)}),angular.forEach($scope.hwmTypeList,function(l){$scope.hwmTypeArray.push(l.hwm_type)}),angular.forEach($scope.hwmQualityList,function(l){$scope.hwmQualityArray.push(l.hwm_quality)}),$scope.getStateCo=function(c,r){var rowValues=$scope.hotInstance.getDataAtRow(r);if(""!==rowValues[1]&&null!==rowValues[1]&&""!==rowValues[2]&&null!==rowValues[2])$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:rowValues[2],Latitude:rowValues[1]},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.countyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];if(void 0!==thisState){$scope.hotInstance.setDataAtCell(r,7,thisState.state_name);var stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(r,8,"source",$scope.countyArray),$scope.hotInstance.setDataAtCell(r,8,countyName),$rootScope.stateIsLoading.showLoading=!1}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown.")}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)});else{$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Get State/County</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}},$scope.UpdateCounties=function(theChange){var thisState=$scope.stateList.filter(function(s){return s.state_name==theChange[3]})[0],stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(theChange[0],8,"source",$scope.countyArray)};var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})};$scope.latValidator=function(value,callback){if(0>value||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Latitude must be greater than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))},$scope.longValidator=function(value,callback){if(value>0||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Longitude must be less than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))};var colorRenderer=function(instance,td,row,col,prop,value,cellProperties){var $button=$('<button type="button" class="btn bnt-primary"></button>');return $button.html("Get State/County"),$(td).empty().append($button),td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Are you sure you want to clear the table?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.historicHWMs=[],$scope.invalids=[]})},$scope.tableSettings={colHeaders:!0,rowHeaders:!0,contextMenu:["row_above","row_below","remove_row"],minSpareRows:3,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){if(6==col){var cellprops={};return cellprops.renderer=colorRenderer,cellprops}},onBeforeChange:function(data){for(var i=0;i<data.length;i++)"state"==data[i][1]&&data[i][3]!==data[i][2]&&$scope.UpdateCounties(data[i])},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.Changes.push(change[i])},afterOnCellMouseDown:function(event,coords,td){6==coords.col&&$scope.getStateCo(coords.col,coords.row)},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMCtrl",["$scope","$state","$rootScope","$cookies","$http","$q","$filter","$uibModal","SITE","HWM","MEMBER","FILE","INST_COLL_CONDITION","PEAK","SOURCE","SERVER_URL","eventList","stateList","countyList","hwmTypeList","markerList","hwmQualList","horizDatumList","horCollMethList","vertDatumList","vertCollMethList","fileTypesList","agenciesList",function($scope,$state,$rootScope,$cookies,$http,$q,$filter,$uibModal,SITE,HWM,MEMBER,FILE,INST_COLL_CONDITION,PEAK,SOURCE,SERVER_URL,eventList,stateList,countyList,hwmTypeList,markerList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,fileTypesList,agenciesList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showTips=!0,$scope.status={hwmOpen:!0},$scope.serverURL=SERVER_URL,$scope.hwmTypes=hwmTypeList,$scope.markers=markerList,$scope.hwmQuals=hwmQualList,$scope.horDatums=horizDatumList,$scope.horCollMeths=horCollMethList,$scope.vertDatums=vertDatumList,$scope.vertCollMeths=vertCollMethList,$scope.states=stateList,$scope.counties=countyList,$scope.showLoading=!1,$scope.max=0,$scope.dynamic=0,$scope.showProgressBar=!1,$scope.hotInstance,$scope.columnWidths=[180,150,180,180,150,170,180,100,200,140,150,180,220,100,130,120,130,160,190,160,200,200,120],$scope.siteNoArrowClicked=!1,$scope.uploadHWMs=[],$scope.postedHWMs=[],$scope.invalids=[],$scope.events=eventList,$scope.notValid=!0,$scope.hwmTypeArray=[],angular.forEach(hwmTypeList,function(ht){$scope.hwmTypeArray.push(ht.hwm_type)}),$scope.envirArray=["Coastal","Riverine"],$scope.markerArray=[],angular.forEach(markerList,function(m){$scope.markerArray.push(m.marker1)}),$scope.qualArray=[],angular.forEach(hwmQualList,function(hq){$scope.qualArray.push(hq.hwm_quality)}),$scope.bankArray=["Left","Right","N/A"],$scope.hdatumArray=[],angular.forEach(horizDatumList,function(hd){$scope.hdatumArray.push(hd.datum_name)}),$scope.hcollMethArray=[],angular.forEach(horCollMethList,function(hcm){$scope.hcollMethArray.push(hcm.hcollect_method)}),$scope.vdatumArray=[],angular.forEach(vertDatumList,function(vd){$scope.vdatumArray.push(vd.datum_abbreviation)}),$scope.vcollMethArray=[],angular.forEach(vertCollMethList,function(vcm){$scope.vcollMethArray.push(vcm.vcollect_method)}),$scope.tranqArray=["Yes","No"],$scope.chosenEvent=0,$scope.chosenEventName="",$scope.delIndex=-1,$scope.sitePeakarray=[],$scope.addApprovalFile=function(){var approvedFILEmodal=$uibModal.open({templateUrl:"BulkApprovalFILE_modal.html",controller:["$scope","$cookies","$uibModal","$uibModalInstance","fileTypeList","agencyList","thisMember",function($scope,$cookies,$uibModal,$uibModalInstance,fileTypeList,agencyList,thisMember){$scope.hwmFileTypes=fileTypeList.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.aFile={},$scope.aFile.filetype_id=7,$scope.aFile.description="PDF of Approval Memo",$scope.aSource={},$scope.agencies=agencyList,$scope.approval_type=7,$scope.updateFileType=function(){$scope.aFile.filetype_id=Number($scope.approval_type),$scope.aFile.description="7"==$scope.approval_type?"PDF of Approval Memo":"Report Link"},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=thisMember,$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.addFile=function(valid){if(valid)if($scope.aFile.name||$scope.aFile.File){var fileParts=[$scope.aFile,$scope.aSource];$uibModalInstance.close(fileParts)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must upload a File for Approval Memo or a File URL for Report Link.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.cancelFile=function(){$uibModalInstance.dismiss()}}],size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileTypeList:function(){return fileTypesList},agencyList:function(){return agenciesList},thisMember:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",
MEMBER.query({id:$cookies.get("mID")}).$promise}}});approvedFILEmodal.result.then(function(createdFile){$scope.approvalFile=createdFile[0],$scope.approvalSource=createdFile[1]})};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},getFindSiteModal=function(r,c,hwmParts){angular.element("#loadingDiv").removeClass("noShow");var dataAtRow=$scope.hotInstance.getDataAtRow(r);if(setTimeout(function(){$scope.hotInstance.deselectCell()},100),""!==dataAtRow[9]&&""!==dataAtRow[10]&&null!==dataAtRow[9]&&null!==dataAtRow[10]){angular.element("#loadingDiv").addClass("noShow");var siteModal=$uibModal.open({templateUrl:"associateSitemodal.html",backdrop:"static",keyboard:!1,resolve:{nearBySites:function(){return SITE.getProximitySites({Latitude:dataAtRow[9],Longitude:dataAtRow[10],Buffer:5e-4}).$promise},HWMparts:function(){return hwmParts},siteNoAlreadyThere:function(){return dataAtRow[22]},hdatums:function(){return $scope.horDatums},hcolMeths:function(){return $scope.horCollMeths},vdatums:function(){return $scope.vertDatums},vcolMeths:function(){return $scope.vertCollMeths},states:function(){return $scope.states},counties:function(){return $scope.counties}},controller:"hwmSiteModalCtrl",size:"sm"});siteModal.result.then(function(thisSite){angular.element("#loadingDiv").addClass("noShow"),void 0!==thisSite&&$scope.hotInstance.setDataAtCell(r,c,thisSite.site_no)})}else{angular.element("#loadingDiv").addClass("noShow");{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate this row\'s latitude and longitude before finding a site to associate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}};$scope.requiredValidator=function(value,callback){if($scope.siteNoArrowClicked)$scope.siteNoArrowClicked=!1,callback(!0);else{var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)}},$scope.latValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(22>value||value>55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Latitude must be between 22.0 and 55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.longValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(-130>value||value>-55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Longitude must be between -130.0 and -55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.numericValidator=function(value,callback){var whichOne=$scope.hotInstance.getColHeader(this.col);if(""!==value&&null!==value&&isNaN(Number(value)))setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" must be an numeric value (ex: 0.03)."),callback(!1);else if("HWM Uncertainty (ft)"==whichOne&&""!==value&&null!==value){var hwmQualValue=$scope.hotInstance.getDataAtCell(this.row,6);if(null!==hwmQualValue&&""!==hwmQualValue){var appropriateHWMQual="";appropriateHWMQual=value>.4?"VP: > 0.40 ft":.05>value?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=value&&h.max_range>=value})[0].hwm_quality,appropriateHWMQual!==hwmQualValue?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" does not have a matching HWM Quality for row "+Number(this.row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)},$scope.matchingDDValue=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),""!==value&&null!==value){var prop=this.prop,hasError=!1;switch(prop){case"hwm_type_id":$scope.hwmTypeArray.map(function(hwT){return hwT}).indexOf(value)<0&&(hasError=!0);break;case"marker_id":$scope.markerArray.map(function(hwM){return hwM}).indexOf(value)<0&&(hasError=!0);break;case"hwm_environment":$scope.envirArray.map(function(hwE){return hwE}).indexOf(value)<0&&(hasError=!0);break;case"hwm_quality_id":$scope.qualArray.map(function(hwQ){return hwQ}).indexOf(value)<0&&(hasError=!0);break;case"bank":$scope.bankArray.map(function(hwB){return hwB}).indexOf(value)<0&&(hasError=!0);break;case"hdatum_id":$scope.hdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"hcollect_method_id":$scope.hcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"vdatum_id":$scope.vdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"vcollect_method_id":$scope.vcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"stillwater":$scope.tranqArray.map(function(t){return t}).indexOf(value)<0&&(hasError=!0)}if(hasError)callback(!1);else if("hwm_quality_id"==prop){var uncertValue=$scope.hotInstance.getDataAtCell(row,5);if(null!==uncertValue&&""!==uncertValue){var appropriatequal="";appropriatequal=uncertValue>.4?"VP: > 0.40 ft":.05>uncertValue?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=uncertValue&&h.max_range>=uncertValue})[0].hwm_quality,appropriatequal!==value?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("HWM Quality does not have a matching HWM uncertainty range value for row "+Number(row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)}else if(!value&&otherDataInRow&&[3,7,17,18,21].indexOf(this.col)<0){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)};var removeThisUploadHWM=function(successfulHWM){for(var spliceIndex=-1,bank=successfulHWM.bank,hcmName=horCollMethList.filter(function(hcm){return hcm.hcollect_method_id==successfulHWM.hcollect_method_id})[0].hcollect_method,hdName=horizDatumList.filter(function(hd){return hd.datum_id==successfulHWM.hdatum_id})[0].datum_name,hwmQName=hwmQualList.filter(function(hq){return hq.hwm_quality_id==successfulHWM.hwm_quality_id})[0].hwm_quality,hwmTName=hwmTypeList.filter(function(ht){return ht.hwm_type_id==successfulHWM.hwm_type_id})[0].hwm_type,mark=void 0!==successfulHWM.marker_id?markerList.filter(function(m){return m.marker_id==successfulHWM.marker_id})[0].marker1:void 0,vcmName=void 0!==successfulHWM.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method_id==successfulHWM.vcollect_method_id})[0].vcollect_method:void 0,vdName=void 0!==successfulHWM.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_id==successfulHWM.vdatum_id})[0].datum_abbreviation:void 0,hag=void 0!==successfulHWM.height_above_gnd?Number(successfulHWM.height_above_gnd):void 0,elFt=void 0!==successfulHWM.elev_ft?Number(successfulHWM.elev_ft):void 0,unc=void 0!==successfulHWM.uncertainty?Number(successfulHWM.uncertainty):void 0,hwmUnc=void 0!==successfulHWM.hwm_uncertainty?Number(successfulHWM.hwm_uncertainty):void 0,hwmI=0;hwmI<$scope.uploadHWMs.length;hwmI++){if(void 0!==$scope.uploadHWMs[hwmI].site_no){var upload_hwmUnc=""!==$scope.uploadHWMs[hwmI].hwm_uncertainty&&void 0!==$scope.uploadHWMs[hwmI].hwm_uncertainty?Number($scope.uploadHWMs[hwmI].hwm_uncertainty):void 0,upload_mark=""!==$scope.uploadHWMs[hwmI].marker_id&&void 0!==$scope.uploadHWMs[hwmI].marker_id?$scope.uploadHWMs[hwmI].marker_id:void 0,upload_unc=""!==$scope.uploadHWMs[hwmI].uncertainty&&void 0!==$scope.uploadHWMs[hwmI].uncertainty?Number($scope.uploadHWMs[hwmI].uncertainty):void 0,upload_hag=""!==$scope.uploadHWMs[hwmI].height_above_gnd&&void 0!==$scope.uploadHWMs[hwmI].height_above_gnd?Number($scope.uploadHWMs[hwmI].height_above_gnd):void 0,upload_elFt=""!==$scope.uploadHWMs[hwmI].elev_ft&&void 0!==$scope.uploadHWMs[hwmI].elev_ft?Number($scope.uploadHWMs[hwmI].elev_ft):void 0,upload_vcollMeth=""!==$scope.uploadHWMs[hwmI].vcollect_method_id&&void 0!==$scope.uploadHWMs[hwmI].vcollect_method_id?$scope.uploadHWMs[hwmI].vcollect_method_id:void 0,upload_vdat=""!==$scope.uploadHWMs[hwmI].vdatum_id&&void 0!==$scope.uploadHWMs[hwmI].vdatum_id?$scope.uploadHWMs[hwmI].vdatum_id:void 0;$scope.uploadHWMs[hwmI].site_no==successfulHWM.site_no&&$scope.uploadHWMs[hwmI].waterbody==successfulHWM.waterbody&&upload_hwmUnc==hwmUnc&&$scope.uploadHWMs[hwmI].bank==bank&&$scope.uploadHWMs[hwmI].hwm_locationdescription==successfulHWM.hwm_locationdescription&&Number($scope.uploadHWMs[hwmI].latitude_dd)==successfulHWM.latitude_dd&&Number($scope.uploadHWMs[hwmI].longitude_dd)==successfulHWM.longitude_dd&&upload_hag==hag&&$scope.uploadHWMs[hwmI].hcollect_method_id==hcmName&&$scope.uploadHWMs[hwmI].hdatum_id==hdName&&$scope.uploadHWMs[hwmI].hwm_quality_id==hwmQName&&$scope.uploadHWMs[hwmI].hwm_type_id==hwmTName&&upload_mark==mark&&upload_vcollMeth==vcmName&&upload_vdat==vdName&&upload_elFt==elFt&&upload_unc==unc&&$scope.uploadHWMs[hwmI].hwm_notes==successfulHWM.hwm_notes&&(spliceIndex=hwmI)}spliceIndex>=0&&($scope.uploadHWMs.splice(spliceIndex,1),hwmI=$scope.uploadHWMs.length)}$scope.dynamic==$scope.max&&($scope.showProgressBar=!1),$scope.showLoading="false"};$scope.validateTable=function(){$scope.showLoading=!0,angular.element("#loadingDiv").removeClass("noShow");var haveData=$scope.hotInstance.getDataAtCell(0,2);if(null!==haveData)$scope.hotInstance.validateCells(function(valid){if(valid){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Valid</h3></div><div class="modal-body"><p>Validation successful!</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}$scope.notValid=!1}else{$scope.notValid=!0;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Invalid!</h3></div><div class="modal-body"><p>The table is not valid. Please correct red cells and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}angular.element("#loadingDiv").addClass("noShow")}});else{angular.element("#loadingDiv").addClass("noShow"),$scope.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Not enough data in the table to validate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},$scope.save=function(){$scope.dynamic=0,$scope.chosenEventName=$scope.events.filter(function(e){return e.event_id==$scope.chosenEvent})[0].event_name;for(var pastedHWMs=angular.copy($scope.uploadHWMs),i=pastedHWMs.length;i--;)(void 0===pastedHWMs[i].site_no||null===pastedHWMs[i].site_no||""===pastedHWMs[i].site_no)&&pastedHWMs.splice(i,1);$scope.max=pastedHWMs.length,$scope.showLoading="true",$scope.notValid=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showProgressBar=!0,angular.forEach(pastedHWMs,function(hwm,index){SITE.getSearchedSite({bySiteNo:hwm.site_no}).$promise.then(function(response){SITE.getSitePeaks({id:response.site_id},function(peakResponse){for(var p=0;p<peakResponse.length;p++)peakResponse[p].event_name==$scope.chosenEventName&&$scope.sitePeakarray.push([response.site_id,peakResponse[p].peak_summary_id]);hwm.site_id=response.site_id,hwm.event_id=$scope.chosenEvent,hwm.flag_member_id=$scope.$parent.userID,hwm.flag_date=makeAdate(hwm.flag_date),""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_date=makeAdate(hwm.survey_date)),hwm.hcollect_method_id=horCollMethList.filter(function(hcm){return hcm.hcollect_method==hwm.hcollect_method_id})[0].hcollect_method_id,hwm.hdatum_id=horizDatumList.filter(function(hd){return hd.datum_name==hwm.hdatum_id})[0].datum_id,hwm.hwm_quality_id=hwmQualList.filter(function(hq){return hq.hwm_quality==hwm.hwm_quality_id})[0].hwm_quality_id,hwm.hwm_type_id=hwmTypeList.filter(function(ht){return ht.hwm_type==hwm.hwm_type_id})[0].hwm_type_id,hwm.marker_id=""!==hwm.marker_id&&void 0!==hwm.marker_id?markerList.filter(function(m){return m.marker1==hwm.marker_id})[0].marker_id:void 0,""!==hwm.stillwater&&void 0!==hwm.stillwater&&(hwm.stillwater="No"==hwm.stillwater?"0":"1"),hwm.vcollect_method_id=""!==hwm.vcollect_method_id&&void 0!==hwm.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method==hwm.vcollect_method_id})[0].vcollect_method_id:void 0,hwm.vdatum_id=""!==hwm.vdatum_id&&void 0!==hwm.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_abbreviation==hwm.vdatum_id})[0].datum_id:void 0,""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_member_id=$scope.$parent.userID);var siteNo=hwm.site_no;delete hwm.site_no,HWM.save(hwm).$promise.then(function(hwmResponse){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:hwmResponse.hwm_id}).$promise.then(function(approvalResponse){hwmResponse.approval_id=approvalResponse.approval_id,hwmResponse.site_no=siteNo,hwmResponse.stillwater=void 0!==hwmResponse.stillwater?hwmResponse.stillwater>0?"Yes":"No":"";var sitePeakId=$scope.sitePeakarray.filter(function(sp){return sp[0]==hwmResponse.site_id})[0];void 0!==sitePeakId&&(hwmResponse.PeakSummary=sitePeakId);var theSource={source_name:$scope.approvalSource.FULLname,agency_id:$scope.approvalSource.agency_id};SOURCE.save(theSource).$promise.then(function(sourceResponse){if(8!==$scope.approvalFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.approvalFile.filetype_id,name:$scope.approvalFile.File.name,file_date:$scope.approvalFile.file_date,photo_date:$scope.approvalFile.photo_date,description:$scope.approvalFile.description,site_id:hwmResponse.site_id,source_id:sourceResponse.source_id,photo_direction:$scope.approvalFile.photo_direction,latitude_dd:$scope.approvalFile.latitude_dd,longitude_dd:$scope.approvalFile.longitude_dd,hwm_id:hwmResponse.hwm_id},File:$scope.approvalFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error uploading file: "+errorResponse.headers(["usgswim-messages"]):"Error uploading file: "+errorResponse.statusText)})}else $scope.approvalFile.source_id=sourceResponse.source_id,$scope.approvalFile.site_id=hwmResponse.site_id,$scope.approvalFile.hwm_id=hwmResponse.hwm_id,$scope.approvalFile.path="<link>",FILE.save($scope.approvalFile).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.HWMfileIsUploading=!1,$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(sourceError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==sourceError.headers(["usgswim-messages"])?"Error uploading approval File Source: "+sourceError.headers(["usgswim-messages"]):"Error uploading approval File Source: "+sourceError.statusText)})},function(approveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==approveError.headers(["usgswim-messages"])?"Error approving hwm: "+approveError.headers(["usgswim-messages"]):"Error approving hwm: "+approveError.statusText)})},function(hwmSaveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==hwmSaveError.headers(["usgswim-messages"])?"Error uploading hwm: "+hwmSaveError.headers(["usgswim-messages"]):"Error uploading hwm: "+hwmSaveError.statusText)})},function(getSitePeakError){$scope.showProgressBar=!1,toastr.error(void 0!==getSitePeakError.headers(["usgswim-messages"])?"Error getting site peak: "+getSitePeakError.headers(["usgswim-messages"]):"Error getting site peak: "+getSitePeakError.statusText)})},function(getHwmSiteError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==getHwmSiteError.headers(["usgswim-messages"])?"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.headers(["usgswim-messages"]):"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.statusText)})})},$scope.clearTable=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will remove all hwms from the table.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.uploadHWMs=[],$scope.invalids=[],$scope.notValid=!0})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Bulk HWM Uploader.<br />In doing so, you will no longer be able to see the list of successfully uploaded HWMs.</p><p>Are you sure you want to leave this page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})},$scope.DeleteHWM=function(hwm){$scope.delIndex=$scope.postedHWMs.indexOf(hwm);var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwm},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],toastr.success("HWM Removed"),$scope.postedHWMs.splice($scope.delIndex,1),$scope.delIndex=-1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.OpenHWMEdit=function(HWMclicked){var passAllLists=[hwmTypeList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,markerList,eventList],indexClicked=$scope.postedHWMs.indexOf(HWMclicked),siteNo=HWMclicked.site_no;$rootScope.stateIsLoading.showLoading=!0;var hwmEditInstance=$uibModal.open({templateUrl:"HWM_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return HWMclicked},siteHMWs:function(){return HWM.getEventSiteHWMs({siteId:HWMclicked.site_id,Event:HWMclicked.event_id}).$promise},hwmSite:function(){return SITE.query({id:HWMclicked.site_id}).$promise},agencyList:function(){return agenciesList},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileTypes:function(){return fileTypesList}},controller:"hwmEditModalCtrl"});hwmEditInstance.result.then(function(hwmUpdatedANDFileCnt){var h=hwmUpdatedANDFileCnt[0],files=hwmUpdatedANDFileCnt[1];h.site_no=siteNo,h.HWMFiles=files,h.stillwater=void 0!==h.stillwater?h.stillwater>0?"Yes":"No":"",$scope.postedHWMs[indexClicked]=h})},$scope.OpenPeakEdit=function(peakId,siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakEditInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return PEAK.query({id:peakId}).$promise},thisPeakDFs:function(){return PEAK.getPeakSummaryDFs({id:peakId}).$promise},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakEditInstance.result.then(function(updated){})},$scope.OpenPeakCreate=function(siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakCreateInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return"empty"},thisPeakDFs:function(){return"empty"},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakCreateInstance.result.then(function(createdPk){angular.forEach($scope.postedHWMs,function(pHWM){pHWM.site_id==siteId&&(pHWM.PeakSummary=[siteId,createdPk[0].peak_summary_id])})})},$scope.tableSettings={colHeaders:['<span title="Required">Waterbody *</span>','<span title="Identifying Label. If left blank, defaults to &quot;no_label&quot;">HWM Label</span>','<span title="Required">HWM Type *</span>',"Marker",'<span title="Required">HWM Environment *</span>',"HWM Uncertainty (ft)",'<span title="Required">HWM Quality *</span>',"Bank","Loc. Description",'<span title="Required">HWM Latitude *</span>','<span title="Required">HWM Longitude *</span>','<span title="Required">Horizontal Datum *</span>','<span title="Required">Horizontal Collect Method *</span>','<span title="Height above ground">HAG (ft)</span>','<span title="Required">Flag/Found Date *</span>',"Survey Date","Surveyed Elev (ft)","Vertical Datum","Vertical Collect Method","Survey Uncertainty (ft)","Notes","Tranquil/Stillwater",'<span title="Site Number, Required"> Site No *</span>'],rowHeaders:!0,minSpareRows:10,maxRows:10,afterInit:function(){$scope.hotInstance=this},columnSorting:!1,manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,afterOnCellMouseDown:function(event,coords,td){if(22===coords.col&&"htAutocompleteArrow"==event.realTarget.className){$scope.siteNoArrowClicked=!0;var passHWMvals=[];passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,0)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,9)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,10)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,11)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,12)),getFindSiteModal(coords.row,coords.col,passHWMvals)}},contextMenu:["remove_row"],onAfterValidate:function(isValid,value,row,prop,source){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.notValid===!1&&($scope.notValid=!0)},onAfterRemoveRow:function(index,amount){var selected=$scope.hotInstance.getSelected();if(amount>1){var eachRowIndexArray=[],cnt=selected[2]-selected[0]+1;eachRowIndexArray.push(selected[0]);for(var c=1;cnt>c;c++)eachRowIndexArray.push(selected[0]+1);for(var Mi=$scope.invalids.length;Mi--;)eachRowIndexArray.indexOf($scope.invalids[Mi].row)>-1&&$scope.invalids.splice(Mi,1)}else for(var i=$scope.invalids.length;i--;)$scope.invalids[i].row==index&&$scope.invalids.splice(i,1)}}}}]),STNControllers.controller("hwmSiteModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModalInstance","nearBySites","HWMparts","siteNoAlreadyThere","hdatums","hcolMeths","vdatums","vcolMeths","states","counties","leafletData","leafletMarkerEvents","GEOCODE","SITE",function($scope,$rootScope,$http,$cookies,$uibModalInstance,nearBySites,HWMparts,siteNoAlreadyThere,hdatums,hcolMeths,vdatums,vcolMeths,states,counties,leafletData,leafletMarkerEvents,GEOCODE,SITE){$scope.localSites=nearBySites,$scope.horDatums=hdatums,$scope.horCollMeths=hcolMeths,$scope.vertDatums=vdatums,$scope.vertCollMeths=vcolMeths,$scope.states=states,$scope.counties=counties,$scope.showSiteCreateArea=!1,$scope.disableOK=!1,$scope.createChecked="0",$scope.showMap=!1,$scope.showHideMap="Show",$scope.showHideCreateSiteDiv=function(){$scope.showSiteCreateArea=!$scope.showSiteCreateArea,angular.forEach($scope.localSites,function(s){delete s.selected}),$scope.showSiteCreateArea?($scope.disableOK=!0,$scope.showMap=!1,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.newSite.waterbody=""!==HWMparts[0]&&null!==HWMparts[0]?HWMparts[0]:"",$scope.newSite.latitude_dd=""!==HWMparts[1]&&null!==HWMparts[1]?HWMparts[1]:"",$scope.newSite.longitude_dd=""!==HWMparts[2]&&null!==HWMparts[2]?HWMparts[2]:"",$scope.newSite.hdatum_id=""!==HWMparts[3]&&null!==HWMparts[3]?$scope.horDatums.filter(function(hd){return hd.datum_name==HWMparts[3]})[0].datum_id:"",$scope.newSite.hcollect_method_id=""!==HWMparts[4]&&null!==HWMparts[4]?$scope.horCollMeths.filter(function(hd){return hd.hcollect_method==HWMparts[4]})[0].hcollect_method_id:"",$scope.getAddress()):$scope.disableOK=!1,angular.forEach($scope.markers,function(mm){"stnSites"==mm.layer&&(mm.icon=icons.stn)})},$scope.unchkCreate=function(checkedSite){$scope.createChecked="0",$scope.showSiteCreateArea=!1,angular.forEach($scope.markers,function(m){"stnSites"==m.layer&&(m.lat==checkedSite.latitude_dd&&m.lng==checkedSite.longitude_dd?(delete m.icon,m.icon=icons.selectedStn):m.icon=icons.stn)}),$scope.disableOK=!1},$scope.showSitesOnMap=function(){$scope.showMap=!$scope.showMap,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.showMap&&fitMapBounds()},$scope.markers=[];for(var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selectedStn:{type:"div",iconSize:[14,14],className:"newSiteIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"}},i=0;i<$scope.localSites.length;i++){var a=$scope.localSites[i];$scope.markers.push({layer:"stnSites",message:"<div><b>Site Number:</b> "+a.site_no+"<br /><b>Site Name:</b> "+a.site_name+"<br /><b>Waterbody:</b> "+a.waterbody+"<br /><b>Latitude/Longitude:</b> "+a.latitude_dd+" "+a.longitude_dd+"<br /></div>",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:a.site_no,icon:icons.stn})}$scope.markers.push({layer:"stnHWM",message:"<div><b>HWM</b><br/><b>Latitude:</b> "+HWMparts[1]+"<br/><b>Lontitude:</b> "+HWMparts[2]+"<br/></div>",lat:Number(HWMparts[1]),lng:Number(HWMparts[2]),title:"HWM",icon:icons.hwmIcon});var bounds=[];angular.forEach($scope.localSites,function(s){bounds.push([s.latitude_dd,s.longitude_dd])});var fitMapBounds=function(){leafletData.getMap("associatedSiteMap").then(function(map){map.fitBounds(bounds,{padding:[20,20]})})};fitMapBounds(),angular.extend($scope,{markers:$scope.markers,layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnHWM:{type:"group",name:"HWM",visible:!0}}}}),""!==siteNoAlreadyThere&&null!==siteNoAlreadyThere&&angular.forEach($scope.localSites,function(s){
if(s.site_no==siteNoAlreadyThere){s.selected="true";var selectedMarker=$scope.markers.filter(function(m){return m.lat==s.latitude_dd&&m.lng==s.longitude_dd})[0];selectedMarker.icon=icons.selectedStn}}),$scope.newSite={};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(direction){"lat"==direction&&($scope.newSite.latitude_dd<0||$scope.newSite.latitude_dd>73||isNaN($scope.newSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.newSite.latitude_dd)&&($scope.newSite.latitude_dd=void 0)),"long"==direction&&($scope.newSite.longitude_dd<-175||$scope.newSite.longitude_dd>-60||isNaN($scope.newSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.newSite.longitude_dd)&&($scope.newSite.longitude_dd=void 0))},$scope.updateCountyList=function(s){var thisState=$scope.states.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.counties.filter(function(c){return c.state_id==thisState.state_id})},$scope.getAddress=function(){if(delete $scope.newSite.address,delete $scope.newSite.city,delete $scope.newSite.state,$scope.stateCountyList=[],delete $scope.newSite.zip,void 0===$scope.newSite.latitude_dd||void 0===$scope.newSite.longitude_dd||isNaN($scope.newSite.latitude_dd)||isNaN($scope.newSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.newSite.longitude_dd,Latitude:$scope.newSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.counties.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.states.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.newSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.counties.filter(function(c){return c.state_id==thisState.state_id}),$scope.newSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)})},$scope.createNewSite=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.newSite.member_id=$scope.$parent.userID,SITE.save($scope.newSite,function(response){$uibModalInstance.close(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)}))},$scope.ok=function(){var selectedSite=nearBySites.filter(function(s){return"true"==s.selected})[0];$uibModalInstance.close(selectedSite)},$scope.cancel=function(){$uibModalInstance.dismiss()}}]),STNControllers.controller("hwmEditModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModal","$uibModalInstance","allDropdowns","thisHWM","siteHMWs","agencyList","allMembers","fileTypes","hwmSite","SERVER_URL","HWM","FILE","SOURCE","FILE_STAMP",function($scope,$rootScope,$http,$cookies,$uibModal,$uibModalInstance,allDropdowns,thisHWM,siteHMWs,agencyList,allMembers,fileTypes,hwmSite,SERVER_URL,HWM,FILE,SOURCE,FILE_STAMP){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.thisHWMsite=hwmSite,$scope.fileTypeList=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.hwmImageFiles=[],$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.HWMFiles=[],$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))&&(openLatModal("latlong"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0)),(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))&&(openLongModal("latlong"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=x>.4?5:.05>x?1:$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return void 0!==h.min_range?h.min_range<=x&&h.max_range>=x:void 0})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.aHWM=angular.copy(thisHWM),delete $scope.aHWM.site_no,$scope.aHWM.HWMFiles)for(var f=0;f<$scope.aHWM.HWMFiles.length;f++)$scope.HWMFiles.push($scope.aHWM.HWMFiles[f]);delete $scope.aHWM.HWMFiles,$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.save=function(valid){if(valid){void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&null!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.update({id:$scope.hwmCopy.hwm_id},$scope.hwmCopy).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,void 0!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=[$scope.aHWM,$scope.HWMFiles];$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.adminChanged.event_id=$scope.aHWM.event_id},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.ensurehwmLabelUnique=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;angular.forEach(siteHMWs,function(hwm){if(hwm.hwm_label==h.hwm_label){h.hwm_label=void 0!==h.hwm_id?$scope.aHWM.hwm_label:"hwm-"+(parseFloat(siteHMWs.length)+1);var uniqueModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The hwm label must be unique from all other hwms at this site for this event.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});uniqueModal.result.then(function(){angular.element("[name='hwm_label']").focus()})}})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.fileItemExists=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),8!==file.filetype_id&&FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("Need to choose a file first")},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aFile.source_id=sResponse.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMAdjCtrl",["$scope","$state","$rootScope","$cookies","$http","$filter","$uibModal","SITE","HWM","HWM_Service","eventList","stateList","countyList",function($scope,$state,$rootScope,$cookies,$http,$filter,$uibModal,SITE,HWM,HWM_Service,eventList,stateList,countyList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.querySearch={},$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[84,120,120,120,220,120,120,150,130,160,180],$scope.Changes=[],$scope.invalids=[],$scope.events=eventList,$scope.states=stateList,$scope.HWM_params={},$scope.countyList=countyList,$scope.countyArray=[],$scope.result={searchClicked:!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};if($scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.hwmCount="",$scope.UpdateCounties=function(){if(null!==$scope.HWM_params.state_abbrev){var thisState=$scope.states.filter(function(st){return st.state_abbrev==$scope.HWM_params.state_abbrev})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.getHWMs=function(valid){if(valid){$scope.result={},$scope.result.searchClicked=!0;var countyNames=[];angular.forEach($scope.HWM_params.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.querySearch={},$scope.querySearch.Event=$scope.HWM_params.event_id,$scope.querySearch.State=$scope.HWM_params.state_abbrev,$scope.querySearch.Counties=countiesCommaSep,HWM_Service.setBulkHWMSearch($scope.querySearch),HWM.getFilteredHWMs({Event:$scope.HWM_params.event_id,States:$scope.HWM_params.state_abbrev,County:countiesCommaSep},function(response){$scope.hwmCount=response.length,$scope.result.isResponse=$scope.hwmCount>0?!0:!1;for(var i=0;i<response.length;i++){var one={};one.hwm_id=response[i].hwm_id,one.waterbody=response[i].waterbody,one.hwm_label=response[i].hwm_label,one.site_id=response[i].site_id,one.site_no=response[i].site_no,one.hwm_locationdescription=response[i].hwm_locationdescription,one.latitude_dd=response[i].latitude_dd,one.longitude_dd=response[i].longitude_dd,""!==response[i].survey_date&&(one.survey_date=makeAdate(response[i].survey_date)),one.elev_ft=response[i].elev_ft,one.uncertainty=response[i].uncertainty,one.hwm_notes=response[i].hwm_notes,$scope.adjustHWMs.push(one)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})}},!angular.equals({},HWM_Service.getBulkHWMSearch())){var theSearch=HWM_Service.getBulkHWMSearch();if($scope.HWM_params.event_id=theSearch.Event,$scope.HWM_params.state_abbrev=theSearch.State,$scope.UpdateCounties(),""!==theSearch.Counties){var counties=theSearch.Counties.split(",");$scope.HWM_params.counties=[],angular.forEach($scope.countyArray,function(c){counties.map(function(cA){return cA}).indexOf(c.county_name)>-1&&(c.selected=!0,$scope.HWM_params.counties.push(c))})}$scope.getHWMs(!0)}var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})},colorRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.style.background="#F7F5F5",td},siteNoRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.innerHTML='<a ng-click="goToSite()">'+value+"</a>",td.style.background="#F7F5F5",td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.numberValidator=function(value,callback){callback(!0)},$scope.save=function(){HWM.getEventStateHWMs({eventId:$scope.HWM_params.event_id,state:$scope.HWM_params.state_abbrev}).$promise.then(function(response){$scope.eventStateHWMs=response;for(var updateTheseHWMs=[],evH=0;evH<$scope.eventStateHWMs.length;evH++){var theyHaveItHere=$scope.adjustHWMs.filter(function(a){return a.hwm_id==$scope.eventStateHWMs[evH].hwm_id})[0];void 0!==theyHaveItHere&&($scope.eventStateHWMs[evH].survye_date=theyHaveItHere.survey_date,$scope.eventStateHWMs[evH].elev_ft=theyHaveItHere.elev_ft,$scope.eventStateHWMs[evH].uncertainty=theyHaveItHere.uncertainty,$scope.eventStateHWMs[evH].hwm_notes=theyHaveItHere.hwm_notes,updateTheseHWMs.push($scope.eventStateHWMs[evH]))}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",angular.forEach(updateTheseHWMs,function(u){HWM.update({id:u.hwm_id},u).$promise.then(function(){toastr.success("HWMs updated"),$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.invalids=[],$scope.getHWMs(!0)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm: "+errorResponse.statusText)})})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will revert the hwm data to the last saved version. All unsaved edits will be lost.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.adjustHWMs=[],HWM_Service.setBulkHWMSearch({}),$scope.invalids=[],$scope.getHWMs(!0)})},$scope.tableSettings={rowHeaders:!0,minSpareRows:0,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){var cellprops={};return 6>=col&&(cellprops.renderer=colorRenderer),3==col&&(cellprops.renderer=siteNoRenderer),cellprops},onBeforeChange:function(data){for(var i=data.length-1;i>=0;i--)if(("elev_ft"==data[i][1]||"uncertainty"==data[i][1])&&""!==data[i][3]&&isNaN(data[i][3])){data.splice(i,1),setTimeout(function(){$scope.hotInstance.deselectCell()},100);{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Value must be a number.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},afterOnCellMouseDown:function(event,coords,td){if(3==coords.col){var site_number=$scope.hotInstance.getDataAtCell(coords.row,coords.col),siteId=$scope.adjustHWMs.filter(function(h){return h.site_no==site_number})[0].site_id;$state.go("site.dashboard",{id:siteId})}},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},fillHandle:{autoInsertRow:!1},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("approvalCtrl",["$scope","$state","$cookies","$rootScope","$location","$http","$uibModal","stateList","countyList","instrumentList","allSensorTypes","allDepTypes","hwmQualList","hwmTypeList","HWM","DATA_FILE","INSTRUMENT","SITE","MEMBER",function($scope,$state,$cookies,$rootScope,$location,$http,$uibModal,stateList,countyList,instrumentList,allSensorTypes,allDepTypes,hwmQualList,hwmTypeList,HWM,DATA_FILE,INSTRUMENT,SITE,MEMBER){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Approval",$rootScope.activeMenu="approval",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),
$http.defaults.headers.common.Accept="application/json",MEMBER.getAll(function(response){$scope.allMembers=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting memebers: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}).$promise,$scope.allStates=stateList,$scope.countyList=countyList,$scope.countyArray=[],$scope.allInstruments=instrumentList,$scope.allSensorTypes=allSensorTypes,$scope.allDeploymentTypes=allDepTypes,$scope.hwmQuals=hwmQualList,$scope.hwmTypes=hwmTypeList,$scope.ChosenEvent={},$scope.ChosenState={},$scope.ChosenCounties={},$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1,$scope.search=function(){$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1;var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0,sID=void 0!==$scope.ChosenState.id?$scope.ChosenState.id:0,chosenCounties=void 0!==$scope.ChosenCounties.counties?$scope.ChosenCounties.counties:[];$rootScope.approvalSearch={eventID:evID,stateID:sID,counties:chosenCounties};var countyNames=[];angular.forEach(chosenCounties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)}),SITE.getPeaklessSites({id:evID},function(resp2){$scope.sitesWOpeaks=resp2,$scope.showPeakbox=!0})},$scope.UpdateCounties=function(){if(null!==$scope.ChosenState.id){var thisState=$scope.allStates.filter(function(st){return st.state_abbrev==$scope.ChosenState.id})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},void 0!==$rootScope.approvalSearch){var thisSearch=$rootScope.approvalSearch;$scope.sessionEvent=Number(thisSearch.eventID),$scope.ChosenState.id=thisSearch.stateID,thisSearch.stateID&&$scope.UpdateCounties();for(var caI=0;caI<$scope.countyArray.length;caI++){for(var cI=0;cI<thisSearch.counties.length;cI++)thisSearch.counties[cI].county_id==$scope.countyArray[caI].county_id?($scope.countyArray[caI].selected=!0,cI=thisSearch.counties.length):$scope.countyArray[caI].selected=!1;0===thisSearch.counties.length&&($scope.countyArray[caI].selected=!1)}var countyNames=[];$scope.ChosenCounties.counties=thisSearch.counties,angular.forEach(thisSearch.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm site ("+h.site_id+"): "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm site ("+h.site_id+"): "+errorResponse.statusText)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)})}$scope.approveCheck=function(hArray){return hArray?hArray.some(function(h){return h.selected===!0}):void 0},$scope.approveThese=function(){var approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWMs</h3></div><div class='modal-body'><p>Are you sure you want to approve these HWMs? Doing so will remove them from this list of unapproved HWMs.</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close()}}],size:"sm"});approveModal.result.then(function(){$scope.unApprovedHWMs})},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Approval page and be taken to the Site Dashboard.<br/>Are you sure you want to leave the Approval page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("helpCtrl",["$scope",function($scope){$scope.helpInfo={},$scope.helpInfo.fact="Some really interesting help will be here."}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteFileModalCtrl",["$scope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","fileTypeList","thisFile","fileExists","allMembers","fileSource","dataFile","agencyList","fileSite","FILE","SOURCE","DATA_FILE",function($scope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,fileTypeList,thisFile,fileExists,allMembers,fileSource,dataFile,agencyList,fileSite,FILE,SOURCE,DATA_FILE){$scope.serverURL=SERVER_URL,$scope.userRole=$cookies.get("usersRole"),$scope.view={FILEval:"detail"},$scope.sFileIsUploading=!1,$scope.fileTypes=fileTypeList,$scope.agencies=agencyList,$scope.theSite=fileSite,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.fileItemExists=void 0===fileExists||fileExists.Length>0?!0:!1,$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.updateAgencyForCaption=function(){"create"==$scope.createOReditFile?1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name):1==$scope.fileCopy.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.sourceCopy.agency_id})[0].agency_name)};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate};if(void 0!==thisFile){if($scope.createOReditFile="edit",$scope.whoseFile=thisFile.fileBelongsTo,"Objective Point File"==$scope.whoseFile&&($scope.whoseFile="Datum Location File"),$scope.aFile=thisFile,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}if($scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==fileSource&&($scope.aSource=fileSource,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.agencyNameForCap=$scope.aSource.agencyName),void 0!==dataFile){$scope.ApprovalInfo={},$scope.datafile=dataFile,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),void 0!==$scope.datafile.approval_id&&null!==$scope.datafile.approval_id&&$scope.datafile.approval_id>=1&&DATA_FILE.getDFApproval({id:$scope.datafile.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting approval info: "+errorResponse.statusText)});var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:""}}else $scope.whoseFile="Site File",$scope.createOReditFile="create",$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.cancel=function(){$scope.sFileIsUploading=!1;var sendBack=$scope.aFile;$uibModalInstance.close(sendBack)},$scope.create=function(valid){if(valid){$scope.sFileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.theSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.site_id=$scope.theSite.site_id,$scope.aFile.source_id=response.source_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.changedFileType=function(){},$scope.save=function(valid){if(2==$scope.fileCopy.filetype_id){var s=$scope.dfCopy.good_start,e=$scope.dfCopy.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.sFileIsUploading=!0;var whatkind=$scope.aFile.fileBelongsTo;if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.sourceCopy.source_id){var theSource={source_name:$scope.sourceCopy.FULLname,agency_id:$scope.sourceCopy.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aSource=sResponse,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.fileCopy.source_id=sResponse.source_id,FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.sourceCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}else{if("UTC"!=$scope.dfCopy.time_zone){var utcStartDateTime=new Date($scope.dfCopy.good_start).toUTCString(),utcEndDateTime=new Date($scope.dfCopy.good_end).toUTCString();$scope.dfCopy.good_start=utcStartDateTime,$scope.dfCopy.good_end=utcEndDateTime,$scope.dfCopy.time_zone="UTC"}else{var si=$scope.dfCopy.good_start.toString().indexOf("GMT")+3,ei=$scope.dfCopy.good_end.toString().indexOf("GMT")+3;$scope.dfCopy.good_start=$scope.dfCopy.good_start.toString().substring(0,si),$scope.dfCopy.good_end=$scope.dfCopy.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.dfCopy.data_file_id},$scope.dfCopy).$promise.then(function(dfResponse){$scope.datafile=dfResponse,$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end);var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:"",FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.dfCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}}},$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,$scope.isPhoto=void 0!==$scope.aFile.File1?$scope.aFile.File1.type.indexOf("image")>-1?!0:!1:$scope.aFile.File.type.indexOf("image")>-1?!0:!1,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.wannaEditFILE=function(){$scope.view.FILEval="edit",$scope.fileCopy=angular.copy($scope.aFile),$scope.dfCopy=angular.copy($scope.datafile),$scope.sourceCopy=angular.copy($scope.aSource)},$scope.cancelFILEEdit=function(){$scope.view.FILEval="detail",$scope.fileCopy={},$scope.dfCopy={},$scope.sourceCopy={}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})},function(){})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})},function(){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("fileCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","SERVER_URL","FILE_STAMP","Site_Files","HWM_Service","Instrument_Service","$uibModal","$filter","$timeout","thisSite","thisSiteFiles","allFileTypes","allAgencies","thisSiteSensors","thisSiteOPs","thisSiteHWMs","FILE","DATA_FILE","MEMBER","SOURCE","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,SERVER_URL,FILE_STAMP,Site_Files,HWM_Service,Instrument_Service,$uibModal,$filter,$timeout,thisSite,thisSiteFiles,allFileTypes,allAgencies,thisSiteSensors,thisSiteOPs,thisSiteHWMs,FILE,DATA_FILE,MEMBER,SOURCE,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.serverURL=SERVER_URL,$scope.stamp=FILE_STAMP.getStamp(),$rootScope.$on("fileStampSet",function(event,st){$scope.stamp=st}),$scope.siteHWMs=thisSiteHWMs,$scope.siteSensors=thisSiteSensors;for(var sf=0;sf<thisSiteFiles.length;sf++){var whatKindaFile="";if(thisSiteFiles[sf].hwm_id>0&&null!==thisSiteFiles[sf].hwm_id&&(whatKindaFile="HWM File"),thisSiteFiles[sf].data_file_id>0&&null!==thisSiteFiles[sf].data_file_id&&(whatKindaFile="DataFile File"),thisSiteFiles[sf].instrument_id>0&&null!==thisSiteFiles[sf].instrument_id){whatKindaFile="Sensor File";var thisIns=thisSiteSensors.filter(function(s){return s.instrument_id==thisSiteFiles[sf].instrument_id})[0];thisSiteFiles[sf].typeName=thisIns.serial_number}thisSiteFiles[sf].objective_point_id>0&&null!==thisSiteFiles[sf].objective_point_id&&(whatKindaFile="Objective Point File",thisSiteFiles[sf].typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==thisSiteFiles[sf].objective_point_id})[0].name),""===whatKindaFile&&(whatKindaFile="Site File"),thisSiteFiles[sf].fileBelongsTo=whatKindaFile}Site_Files.setAllSiteFiles(thisSiteFiles),$scope.SiteFiles=Site_Files.getAllSiteFiles(),$scope.siteImageFiles=[];for(var s=0;s<$scope.SiteFiles.length;s++){var extI=$scope.SiteFiles[s].name.indexOf("."),extString=$scope.SiteFiles[s].name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push($scope.SiteFiles[s])}$scope.$on("siteFilesUpdated",function(event,sitefiles){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=sitefiles.filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name)});var hwmFiles=sitefiles.filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=sitefiles.filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id});if(void 0!==$cookies.get("SessionEventID"))for(var Ehf=0;Ehf<hwmFiles.length;Ehf++)for(var Ehwm=0;Ehwm<$scope.siteHWMs.length;Ehwm++)hwmFiles[Ehf].hwm_id==$scope.siteHWMs[Ehwm].hwm_id&&$scope.siteHWMs[Ehwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[Ehf]);else for(var hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.SiteFiles.push(hwmFiles[hf]);if(void 0!==$cookies.get("SessionEventID"))for(var Esf=0;Esf<sensFiles.length;Esf++)for(var Einst=0;Einst<$scope.siteSensors.length;Einst++)sensFiles[Esf].instrument_id==$scope.siteSensors[Einst].instrument_id&&$scope.siteSensors[Einst].event_id==$cookies.get("SessionEventID")&&(sensFiles[Esf].typeName=$scope.siteSensors[Einst].serial_number,$scope.SiteFiles.push(sensFiles[Esf]));else for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]));$scope.siteImageFiles=[],angular.forEach($scope.SiteFiles,function(sf){var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)})},!0),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){if($scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=Site_Files.getAllSiteFiles().filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name),$scope.siteImageFiles=[];var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)});for(var hwmFiles=Site_Files.getAllSiteFiles().filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=Site_Files.getAllSiteFiles().filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id}),hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.siteHWMs[hwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[hf]);for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&$scope.siteSensors[inst].event_id==$cookies.get("SessionEventID")&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]))}else $scope.SiteFiles=Site_Files.getAllSiteFiles()},!0),$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFileModal=function(FileClicked){var SindexClicked=$scope.SiteFiles.indexOf(FileClicked);$scope.siteFileTypes=allFileTypes.filter(function(ft){
return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype}),$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});var modalInstance=$uibModal.open({templateUrl:0!==FileClicked?"FILEmodal.html":"FileCreateModal.html",controller:"siteFileModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileExists:function(){return 0!==FileClicked?FILE.getFileItem({id:FileClicked.file_id}).$promise:void 0},fileTypeList:function(){if(0===FileClicked)return $scope.siteFileTypes;switch(FileClicked.fileBelongsTo){case"HWM File":return $scope.hwmFileTypes;case"DataFile File":return $scope.sensorFileTypes;case"Sensor File":return $scope.sensorFileTypes;case"Objective Point File":return $scope.opFileTypes;case"Site File":return $scope.siteFileTypes}},agencyList:function(){return allAgencies},thisFile:function(){return 0!==FileClicked?FileClicked:void 0},fileSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileSource:function(){return 0!==FileClicked&&void 0!==FileClicked.source_id?SOURCE.query({id:FileClicked.source_id}).$promise:void 0},dataFile:function(){return 0!==FileClicked&&void 0!==FileClicked.data_file_id?DATA_FILE.query({id:FileClicked.data_file_id}).$promise:void 0}}});modalInstance.result.then(function(createdFile){"created"==createdFile[1]&&($scope.SiteFiles.push(createdFile[0]),Site_Files.setAllSiteFiles($scope.SiteFiles)),void 0===createdFile[1]&&($scope.SiteFiles[SindexClicked]=createdFile,Site_Files.setAllSiteFiles($scope.SiteFiles),$scope.stamp=FILE_STAMP.getStamp()),"deleted"==createdFile[1]&&($scope.SiteFiles.splice(SindexClicked,1),Site_Files.setAllSiteFiles($scope.SiteFiles))})}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("eventSessionModalCtrl",["$scope","$rootScope","$cookies","$uibModalInstance","allEvents","allEventTypes","allStates","EVENT",function($scope,$rootScope,$cookies,$uibModalInstance,allEvents,allEventTypes,allStates,EVENT){$scope.EventList=allEvents,$scope.EventTypeList=allEventTypes,$scope.StateList=allStates;var chosenEv=$cookies.get("SessionEventID");$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.filterEvents=function(){var d=null!==$scope.event.DATE&&void 0!==$scope.event.DATE?$scope.event.DATE:null,t=null!==$scope.event.type&&void 0!==$scope.event.type?$scope.event.type:0,s=null!==$scope.event.state&&void 0!==$scope.event.state?$scope.event.state:null;EVENT.getFilteredEvents({Date:d,Type:t,State:s}).$promise.then(function(response){$scope.EventList=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered events: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered events: "+errorResponse.statusText)})},$scope.clearFilters=function(){$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.EventList=allEvents},$scope.setEvent=function(){if($scope.evID=$scope.event.EventChosen,""!==$scope.evID){var eventName=allEvents.filter(function(x){return x.event_id==$scope.evID})[0];$cookies.put("SessionEventID",$scope.evID),$cookies.put("SessionEventName",eventName.event_name),$rootScope.sessionEvent="Session Event: "+eventName.event_name+".",$uibModalInstance.dismiss("cancel")}else toastr.error("You must choose an Event first.")},$scope.clearEvent=function(){$scope.event={},$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.sessionEvent="",$uibModalInstance.dismiss("cancel")},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.close=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("eventSessionCtrl",["$scope","$rootScope","$cookies","$uibModal","$location","$state","EVENT","EVENT_TYPE","STATE",function($scope,$rootScope,$cookies,$uibModal,$location,$state,EVENT,EVENT_TYPE,STATE){$scope.openEventModal=function(){var modalInstance=$uibModal.open({templateUrl:"ChooseEvent.html",controller:"eventSessionModalCtrl",size:"md",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allEvents:function(){return EVENT.getAll().$promise},allEventTypes:function(){return EVENT_TYPE.getAll().$promise},allStates:function(){return STATE.getAll().$promise}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","thisEvent","eventTypeList","eventStatusList","adminList","fileTypes","eventSites","allStates","allCounties","EVENT","FILE","SERVER_URL",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,thisEvent,eventTypeList,eventStatusList,adminList,fileTypes,eventSites,allStates,allCounties,EVENT,FILE,SERVER_URL){$scope.serverURL=SERVER_URL,$scope.downloadZipUrl="",$scope.objectChoices=["HWMs","Sensors"],$scope.anEvent={},$scope.eventTypes=eventTypeList,$scope.eventStatuses=eventStatusList,$scope.adminMembers=adminList,$scope.loggedInRole=$cookies.get("usersRole"),$scope.view={EVval:"detail"},$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.wannaEditEV=function(){$scope.view.EVval="edit",$scope.evCopy=angular.copy($scope.anEvent)},$scope.cancelEVEdit=function(){$scope.view.EVval="detail",$scope.evCopy=[]};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},dateWOtime=function(d){var year=d.getFullYear(),month=d.getMonth(),day=("0"+d.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};"empty"!==thisEvent?($scope.createOReditEV="edit",$scope.evModalHeader="Event Information",$scope.anEvent=angular.copy(thisEvent),$scope.anEvent.event_start_date=void 0!==$scope.anEvent.event_start_date?makeAdate($scope.anEvent.event_start_date):"",$scope.anEvent.event_end_date=void 0!==$scope.anEvent.event_end_date?makeAdate($scope.anEvent.event_end_date):""):($scope.createOReditEV="create",$scope.anEvent.event_start_date=makeAdate());var compareDates=function(v,sd,ed){if(new Date(ed)<new Date(sd)){v=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The event end date must be after the event start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){v=!1})}else(""===ed||""===sd)&&(v=!1);return v};if($scope.create=function(valid){if(void 0!==$scope.anEvent.event_start_date&&null!==$scope.anEvent.event_start_date&&void 0!==$scope.anEvent.event_end_date&&null!==$scope.anEvent.event_end_date&&(valid=compareDates(valid,$scope.anEvent.event_start_date,$scope.anEvent.event_end_date)),valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdEvent={};EVENT.save($scope.anEvent,function(response){toastr.success("Event Created"),createdEvent=response,createdEvent.event_id=response.event_id,createdEvent.Name=response.event_name,createdEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,createdEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];createdEvent.StartDate=response.event_start_date,createdEvent.EndDate=response.event_end_date,createdEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:""},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating new event: "+errorResponse.headers(["usgswim-messages"]):"Error creating new event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdEvent,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(void 0!==$scope.evCopy.event_start_date&&null!==$scope.evCopy.event_start_date&&void 0!==$scope.evCopy.event_end_date&&null!==$scope.evCopy.event_end_date&&(valid=compareDates(valid,$scope.evCopy.event_start_date,$scope.evCopy.event_end_date)),valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedEvent={};EVENT.update({id:$scope.evCopy.event_id},$scope.evCopy,function(response){updatedEvent=response,updatedEvent.event_id=response.event_id,updatedEvent.Name=response.event_name,updatedEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,updatedEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];updatedEvent.StartDate=response.event_start_date,updatedEvent.EndDate=response.event_end_date,updatedEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",toastr.success("Event Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving: "+errorResponse.headers(["usgswim-messages"]):"Error saving event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedEvent,"updated"];$uibModalInstance.close(sendBack)})}},$scope.deleteEV=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(eventToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:eventToRemove.event_id},function(response){toastr.success("Event Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close()},$rootScope.stateIsLoading={showLoading:!1},"empty"!==thisEvent){if($scope.zipFileParams={filesFor:"",stateName:"",countyName:"",fromDate:"",toDate:""},$scope.siteCountyList=[],$scope.countyArray=[],$scope.eventStates=[],void 0!==eventSites)for(var st=0;st<allStates.length;st++)for(var es=0;es<eventSites.length;es++)eventSites[es].state==allStates[st].state_abbrev&&($scope.eventStates.push(allStates[st]),es=eventSites.length);else $scope.eventStates=allStates;for(var ci=0;ci<eventSites.length;ci++)$scope.siteCountyList.map(function(scl){return scl.county_name}).indexOf(eventSites[ci].county)<0&&$scope.siteCountyList.push({state_abbrev:eventSites[ci].state,county_name:eventSites[ci].county,state_id:allStates.filter(function(s){return s.state_abbrev==eventSites[ci].state})[0].state_id});$scope.UpdateCounties=function(){if(void 0!==$scope.zipFileParams.stateName){var thisState=$scope.eventStates.filter(function(st){return st.state_abbrev==$scope.zipFileParams.stateName})[0];$scope.countyArray=$scope.siteCountyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.HWMfileTypes=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorfileTypes=fileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Sketch"===sft.filetype}),$scope.updatefileTypeChecks=function(){$scope.hwmFileTypesWanted=[];$scope.hwmFileTypesString="",$scope.sensorFileTypesString="",angular.forEach($scope.HWMfileTypes,function(hwmFT){hwmFT.selected=!1}),angular.forEach($scope.sensorfileTypes,function(senFT){senFT.selected=!1}),"HWMs"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.HWMfileTypes),"Sensors"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.sensorfileTypes),$scope.filesWantedChosen=!0},$scope.checkedFile=function(f){"HWMs"==$scope.zipFileParams.filesFor&&($scope.hwmFileTypesWanted=[],angular.forEach($scope.HWMfileTypes,function(hf){hf.selected&&$scope.hwmFileTypesWanted.push(hf.filetype_id)}),$scope.hwmFileTypesString=$scope.hwmFileTypesWanted.join(",")),"Sensors"==$scope.zipFileParams.filesFor&&($scope.sensorFileTypesWanted=[],angular.forEach($scope.sensorfileTypes,function(sf){sf.selected&&$scope.sensorFileTypesWanted.push(sf.filetype_id)}),$scope.sensorFileTypesString=$scope.sensorFileTypesWanted.join(","))},$scope.DownloadZip=function(){var formattedFromDate="",formattedToDate="";if(""!==$scope.zipFileParams.fromDate&&(formattedFromDate=dateWOtime($scope.zipFileParams.fromDate)),""!==$scope.zipFileParams.toDate&&(formattedToDate=dateWOtime($scope.zipFileParams.toDate)),""!==$scope.zipFileParams.filesFor){var filepath=$scope.serverURL+"/Events/"+$scope.anEvent.event_id+"/EventFileItems?State="+$scope.zipFileParams.stateName+"&County="+$scope.zipFileParams.countyName+"&FromDate="+formattedFromDate+"&ToDate="+formattedToDate+"&FilesFor="+$scope.zipFileParams.filesFor+"&HWMFileType="+$scope.hwmFileTypesString+"&SensorFileTypes="+$scope.sensorFileTypesString,xhr=new XMLHttpRequest;xhr.open("GET",filepath),toastr.options={closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:"0",extendedTimeOut:"0"},toastr.warning("Zip file is downloading."),xhr.responseType="blob",xhr.setRequestHeader("Content-type","application/*; charset=utf-8"),xhr.setRequestHeader("Authorization","Basic "+$cookies.get("STNCreds")),xhr.onreadystatechange=function(){if(4===xhr.readyState)if("Internal Server Error"!==xhr.statusText){var usgsWiMmessage=xhr.getResponseHeader("usgswim-messages");if("info: FileCount:0,Count: 0"==usgsWiMmessage){toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Files</h3></div><div class="modal-body"><p>There are no files that match your query.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}else{var blob=new Blob([xhr.response],{type:"application/octet-stream"}),a=document.createElement("a"),urlCreator=window.URL||window.webkitURL||window.mozURL||window.msURL,fileURL=urlCreator.createObjectURL(blob);a.style="display: none",a.href=fileURL,a.download="EventFileDownload.zip",a.target="_blank",document.body.appendChild(a),a.click(),toastr.clear()}}else{toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Download was unsuccessful. Possible cause is that the zip file is too large to download.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},xhr.send()}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose either HWM files or Sensor files before a downloaded zip file can be requested.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$filter","EVENT","thisEvent",function($scope,$cookies,$location,$http,$uibModal,$filter,EVENT,thisEvent){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.anEvent={},$scope.DeleteEvent=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:nameToRemove.event_id},function(response){var delEv={};delEv.event_id=nameToRemove.event_id,delEv.Name=nameToRemove.event_name,delEv.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==nameToRemove.event_type_id})[0].type,delEv.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==nameToRemove.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==nameToRemove.event_coordinator})[0];delEv.StartDate=nameToRemove.event_start_date,delEv.EndDate=nameToRemove.event_end_date,delEv.Coord=void 0!==coord?coord.fname+" "+coord.lname:"";for(var index=0,i=0;i<$scope.eventList.length;i++)$scope.eventList[i].event_id==delEv.event_id&&(index=i,i=$scope.eventList.length);$scope.eventList.splice(index,1),toastr.success("Event Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})})};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if(void 0!==thisEvent){$scope.anEvent=thisEvent,$scope.anEvent.event_start_date=makeAdate($scope.anEvent.event_start_date),$scope.anEvent.event_end_date=makeAdate($scope.anEvent.event_end_date),$scope.thisEventType=$scope.eventTypeList.filter(function(a){return a.event_type_id==thisEvent.event_type_id})[0].type,$scope.thisEventStatus=$scope.eventStatList.filter(function(r){return r.event_status_id==thisEvent.event_status_id})[0].status;var EC=$scope.eventCoordList.filter(function(c){return c.member_id==thisEvent.event_coordinator})[0];$scope.thisEventCoord=void 0!==EC?EC.fname+" "+EC.lname:""}else $scope.anEvent.event_start_date=makeAdate(),$scope.anEvent.event_end_date=makeAdate();$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT.update({id:$scope.anEvent.event_id},$scope.anEvent,function(response){toastr.success("Event Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.save=function(valid){valid&&EVENT.save($scope.anEvent,function(response){toastr.success("Event Created");var E={};E.event_id=response.event_id,E.Name=response.event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==response.event_coordinator})[0];E.StartDate=response.event_start_date,E.EndDate=response.event_end_date,E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","FILE_TYPE","EVENT","STATE","COUNTIES","allCoordMembers","allEvents","allEventTypes","allEventStats",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,FILE_TYPE,EVENT,STATE,COUNTIES,allCoordMembers,allEvents,allEventTypes,allEventStats){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Settings/Events",$scope.loggedInRole=$cookies.get("usersRole"),$scope.isAdmin="Admin"==$scope.loggedInRole?!0:!1,$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")};var makeAdate=function(d){var Tindex=d.indexOf("T"),theDate=d.substring(0,Tindex);return theDate};$scope.eventTypeList=allEventTypes,$scope.eventStatList=allEventStats,$scope.eventCoordList=allCoordMembers,$scope.eventList=[];for(var x=0;x<allEvents.length;x++){var E=allEvents[x];E.Name=allEvents[x].event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==allEvents[x].event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==allEvents[x].event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==allEvents[x].event_coordinator})[0];E.StartDate=void 0!==allEvents[x].event_start_date?makeAdate(allEvents[x].event_start_date):"",E.EndDate=void 0!==allEvents[x].event_end_date?makeAdate(allEvents[x].event_end_date):"",E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}$scope.showEventModal=function(eventClicked){var indexClicked=$scope.eventList.indexOf(eventClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"eventModal.html",controller:"eventModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisEvent:function(){return 0!==eventClicked?eventClicked:"empty"},eventTypeList:function(){return allEventTypes},eventStatusList:function(){return allEventStats},adminList:function(){return allCoordMembers},fileTypes:function(){return FILE_TYPE.getAll().$promise},eventSites:function(){return 0!==eventClicked?EVENT.getEventSites({id:eventClicked.event_id}).$promise:void 0},allStates:function(){return STATE.getAll().$promise},allCounties:function(){return COUNTIES.getAll().$promise}}});modalInstance.result.then(function(createdEvent){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdEvent&&("created"==createdEvent[1]&&$scope.eventList.push(createdEvent[0]),"updated"===createdEvent[1]&&($scope.eventList[indexClicked]=createdEvent[0]),"deleted"==createdEvent[1]&&$scope.eventList.splice(indexClicked,1))})}}}])}(),function(){"use strict";var STNResource=angular.module("STNResource",["ngResource"]),rootURL="https://stn.wim.usgs.gov/STNServices";STNResource.factory("GEOCODE",["$resource",function($resource){return $resource(rootURL+"/Geocode/location",{},{getAddressParts:{method:"GET",params:{Latitude:"@Latitude",Longitude:"@Longitude"}}})}]),STNResource.factory("AGENCY",["$resource",function($resource){return $resource(rootURL+"/Agencies/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT_TYPE",["$resource",function($resource){return $resource(rootURL+"/ContactTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT",["$resource",function($resource){return $resource(rootURL+"/Contacts/:id.json",{},{query:{},getContactModel:{method:"GET",isArray:!0},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("COUNTIES",["$resource",function($resource){return $resource(rootURL+"/Counties/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DATA_FILE",["$resource",function($resource){return $resource(rootURL+"/DataFiles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getDFApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/:id/Approval.json"},getUnapprovedDFs:{method:"GET",isArray:!0,cache:!1},getEventDataView:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/DataFileView?EventId=:eventId"},runStormScript:{method:"GET",url:rootURL+"/DataFiles/RunStormScript?SeaDataFileID=:seaDFID&AirDataFileID=:airDFID&Hertz=:hertz&Username=:username"},runAirScript:{method:"GET",url:rootURL+"/DataFiles/RunAirScript?AirDataFileID=:airDFID&Username=:username"},runChopperScript:{method:"POST",url:rootURL+"/Files/RunChopperScript",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},approveDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/Approve.json"},approveNWISDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/NWISApprove.json"},unApproveDF:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/datafiles/:id/Unapprove.json"},stormScript:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/RunScript?SeaDataFileID=:seaDataFileId&AirDataFileID=:airDataFileId&Hertz=:hertz&Username=username"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_PRIORITY",["$resource",function($resource){return $resource(rootURL+"/DeploymentPriorities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/DeploymentTypes/:id.json",{},{query:{},getDepSensType:{method:"GET",isArray:!1,url:rootURL+"/DeploymentTypes/:id/SensorType.json"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT",["$resource",function($resource){return $resource(rootURL+"/Events/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/Sites.json"},getFilteredEvents:{method:"GET",isArray:!0,url:rootURL+"/Events/FilteredEvents.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/EventStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/EventTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE",["$resource",function($resource){return $resource(rootURL+"/Files/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getFileItem:{method:"GET",isArray:!1,url:rootURL+"/Files/:id/Item"},getTESTdata:{method:"GET",url:rootURL+"/Files/testDataFile"},update:{method:"PUT",cache:!1,isArray:!1},uploadFile:{method:"POST",url:rootURL+"/Files/bytes",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},downloadZip:{method:"GET",responseType:"arraybuffer",cache:!1,url:rootURL+"/Events/:eventId/EventFileItems"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE_STAMP",["$rootScope",function($rootScope){return{getStamp:function(){var stamp="?"+(new Date).getTime();return stamp},setStamp:function(){var stamp="?"+(new Date).getTime();$rootScope.$broadcast("fileStampSet",stamp)}}}]),STNResource.factory("FILE_TYPE",["$resource",function($resource){return $resource(rootURL+"/FileTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_COLL_METHODS",["$resource",function($resource){return $resource(rootURL+"/HorizontalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/HorizontalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HOUSING_TYPE",["$resource",function($resource){return $resource(rootURL+"/HousingTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1
},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM",["$resource",function($resource){return $resource(rootURL+"/hwms/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventStateHWMs:{method:"GET",isArray:!0,url:rootURL+"/Events/:eventId/stateHWMs.json?State=:state"},getEventSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:siteId/EventHWMs.json"},getFilteredHWMs:{method:"GET",isArray:!0,url:rootURL+"/HWMs/FilteredHWMs.json"},getUnapprovedHWMs:{method:"GET",isArray:!0,cache:!1},getHWMApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Approval.json"},approveHWM:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/hwms/:id/Approve.json"},unApproveHWM:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Unapprove.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_Service",[function(){var allSiteHWMs=[],bulkSearch={};return{getAllSiteHWMs:function(){return allSiteHWMs},setAllSiteHWMs:function(sh){allSiteHWMs=sh},setBulkHWMSearch:function(searchTerms){bulkSearch=searchTerms},getBulkHWMSearch:function(){return bulkSearch}}}]),STNResource.factory("HWM_QUALITY",["$resource",function($resource){return $resource(rootURL+"/HWMQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_TYPE",["$resource",function($resource){return $resource(rootURL+"/HWMTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INSTRUMENT",["$resource",function($resource){return $resource(rootURL+"/Instruments/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getSensorView:{method:"GET",isArray:!0,url:rootURL+"/SensorViews.json"},getstatusInstruments:{method:"GET",isArray:!0,url:rootURL+"/Instruments.json"},getFullInstrument:{method:"GET",url:rootURL+"/Instruments/:id/FullInstrument.json"},getInstrumentStatus:{method:"GET",url:rootURL+"/Instruments/:id/InstrumentStatus.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Instrument_Service",[function(){var allSiteSensors=[];return{getAllSiteSensors:function(){return allSiteSensors},setAllSiteSensors:function(ss){allSiteSensors=ss}}}]),STNResource.factory("INSTRUMENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/InstrumentStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INST_COLL_CONDITION",["$resource",function($resource){return $resource(rootURL+"/InstrCollectConditions/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("LANDOWNER_CONTACT",["$resource",function($resource){return $resource(rootURL+"/LandOwners/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Map_Site",["SITE","$rootScope","$cookies",function(SITE,$rootScope,$cookies){var MapSiteParts=[];return{getMapSiteParts:function(){return MapSiteParts},setMapSiteParts:function(siteId){MapSiteParts=[],SITE.query({id:siteId}).$promise.then(function(response){MapSiteParts.push(response),SITE.getSitePeaks({id:siteId}).$promise.then(function(pResponse){MapSiteParts.push(pResponse),$rootScope.$broadcast("mapSiteClickResults",MapSiteParts)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site peak: "+errorResponse.headers(["usgswim-messages"]):"Error getting site peak: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}}}]),STNResource.factory("Map_Filter",["$rootScope",function($rootScope){var filteredSites=[];return{setFilteredSites:function(sitesArray){filteredSites=sitesArray,$rootScope.$broadcast("filterSitesClick",filteredSites)}}}]),STNResource.factory("MARKER",["$resource",function($resource){return $resource(rootURL+"/Markers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("MEMBER",["$resource",function($resource){return $resource(rootURL+"/Members/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getRoleMembers:{method:"GET",isArray:!0,url:rootURL+"/Roles/:roleId/Members.json"},getEventPeople:{method:"GET",isArray:!0,url:rootURL+"/Events/:Eventid/Members.json"},changePW:{method:"GET",isArray:!1,url:rootURL+"/Members.json"},addMember:{method:"POST",cache:!1,isArray:!1,url:rootURL+"/Members/:pass/addMember"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},deleteMember:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/Members/:id"}})}]),STNResource.factory("NETWORK_NAME",["$resource",function($resource){return $resource(rootURL+"/NetworkNames/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("NETWORK_TYPE",["$resource",function($resource){return $resource(rootURL+"/NetworkTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OBJECTIVE_POINT",["$resource",function($resource){return $resource(rootURL+"/ObjectivePoints/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},getOPFiles:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:id/Files"},getOPControls:{method:"GET",cache:!1,isArray:!0,url:rootURL+"/ObjectivePoints/:id/OPControls.json"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_CONTROL_IDENTIFIER",["$resource",function($resource){return $resource(rootURL+"/OPControlIdentifiers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_MEASURE",["$resource",function($resource){return $resource(rootURL+"/OPMeasurements/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getInstStatOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/InstrumentStatus/:instrumentStatusId/OPMeasurements"},getDatumLocationOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:objectivePointId/OPMeasurements"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_QUALITY",["$resource",function($resource){return $resource(rootURL+"/ObjectivePointQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_TYPE",["$resource",function($resource){return $resource(rootURL+"/OPTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("PEAK",["$resource",function($resource){return $resource(rootURL+"/PeakSummaries/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getPeakSummaryDFs:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/PeakSummaries/:id/DataFiles.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("REPORT",["$resource",function($resource){return $resource(rootURL+"/ReportingMetrics/:id.json",{},{query:{},getReportByEvSt:{method:"GET",isArray:!0},getDailyReportTots:{method:"GET",url:rootURL+"/ReportingMetrics/DailyReportTotals"},getMemberReports:{method:"GET",isArray:!0,url:rootURL+"/Members/:memberId/Reports.json"},getFilteredReports:{method:"GET",isArray:!0,url:rootURL+"/ReportingMetrics/FilteredReports.json"},getReportwithContacts:{method:"GET",isArray:!0,url:rootURL+"/ReportResource/FilteredReportModel.json"},getReportsCSV:{method:"GET",url:rootURL+"/ReportingMetrics/FilteredReports.csv"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},addReportContact:{method:"POST",cache:!1,isArray:!1,params:{ReportId:"@reportId",ContactTypeId:"@contactTypeId"},url:rootURL+"/ReportingMetrics/:reportId/AddContactType/:contactTypeId"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("ROLE",["$resource",function($resource){return $resource(rootURL+"/Roles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0}})}]),STNResource.factory("SENSOR_BRAND",["$resource",function($resource){return $resource(rootURL+"/SensorBrands/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SENSOR_TYPE",["$resource",function($resource){return $resource(rootURL+"/SensorTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getSensorDeploymentTypes:{method:"GET",isArray:!0,url:rootURL+"/SensorTypes/:id/DeploymentTypes.json"},addSensorDeploymentType:{method:"POST",cache:!1,isArray:!0,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/addDeploymentType"},removeSensorDeploymentType:{method:"POST",isArray:!1,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/removeDeploymentType"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE",["$resource",function($resource){return $resource(rootURL+"/Sites/:id.json",{},{query:{},sensorScriptRunning:{method:"GET",isArray:!1,transformResponse:function(data){return{value:angular.fromJson(data)}},url:rootURL+"/Sites/:id/GetDataFileScript.json"},getProximitySites:{method:"GET",isArray:!0,params:{Latitude:"@latitude",Longitude:"@longitude",Buffer:"@buffer"}},getAll:{method:"GET",isArray:!0},getSearchedSite:{method:"GET",isArray:!1,url:rootURL+"/Sites/Search"},getFilteredSites:{method:"GET",isArray:!0,url:rootURL+"/Sites/FilteredSites.json"},getSiteLandOwner:{method:"GET",url:rootURL+"/Sites/:id/LandOwner.json"},getSiteNetworkTypes:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkTypes.json"},postSiteNetworkType:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkTypeId:"@networkTypeId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkType"},deleteSiteNetworkType:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkType?NetworkTypeId=:networkTypeId"},getSiteNetworkNames:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkNames.json"},postSiteNetworkName:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkNameId:"@networkNameId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkName"},deleteSiteNetworkName:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkName?NetworkNameId=:networkNameId"},getSiteHousings:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/SiteHousings.json"},getSiteOPs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/ObjectivePoints.json"},getSiteSensors:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/SiteFullInstrumentList.json"},getSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/HWMs.json"},getSiteFiles:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/Files.json"},getSitePeaks:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/PeakSummaryView.json"},getPeaklessSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/PeaklessSites.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Site_Script",["$cookies","$rootScope",function($cookies,$rootScope){var isRunning;return{getIsScriptRunning:function(){return isRunning},setIsScriptRunning:function(running){isRunning=running,$rootScope.$broadcast("siteDFScriptRunning",isRunning)}}}]),STNResource.factory("Site_Files",["$cookies","$rootScope",function($cookies,$rootScope){var allSiteFiles=[];return{getAllSiteFiles:function(){return allSiteFiles},setAllSiteFiles:function(sf){allSiteFiles=sf,$rootScope.$broadcast("siteFilesUpdated",allSiteFiles)}}}]),STNResource.factory("STATE",["$resource",function($resource){return $resource(rootURL+"/States/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE_HOUSING",["$resource",function($resource){return $resource(rootURL+"/SiteHousings/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("STATUS_TYPE",["$resource",function($resource){return $resource(rootURL+"/StatusTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SOURCE",["$resource",function($resource){return $resource(rootURL+"/Sources/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_COLL_METHOD",["$resource",function($resource){return $resource(rootURL+"/VerticalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/VerticalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Login",["$resource",function($resource){return $resource(rootURL+"/login",{},{login:{method:"GET",cache:!1,isArray:!1},getNewsFeed:{method:"GET",url:rootURL+"/Confluence/STNNewsFeed"}})}])}(),function(){"use strict";var STNBusinessServices=angular.module("STNBusinessServices",["ngCookies"]);STNBusinessServices.factory("setCreds",["$cookies",function($cookies){return function(un,pw,userName,userRole,userID){var token=un.concat(":",pw);$cookies.STNCreds=token,$cookies.STNUsername=un,$cookies.usersName=userName,$cookies.mID=userID;var roleName;switch(userRole){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.usersRole=roleName}}]),STNBusinessServices.factory("setSessionEvent",["$cookies",function($cookies){return function(evId,evName){$cookies.SessionEventID=evId,$cookies.SessionEventName=evName}}]),STNBusinessServices.factory("setSessionTeam",["$cookies",function($cookies){return function(tId,tName){$cookies.SessionTeaID=tId,$cookies.SessionTeamName=tName}}]),STNBusinessServices.factory("setLoggedIn",["$cookies",function($cookies){var loggedIn=!1;return{isLoggedIn:function(){return loggedIn},changeLoggedIn:function(YesOrNo){loggedIn=YesOrNo}}}]),STNBusinessServices.factory("checkCreds",["$cookies",function($cookies){return function(){var returnVal=!1,STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=!0),returnVal}}]),STNBusinessServices.factory("getCreds",["$cookies",function($cookies){return function(){var returnVal="",STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=btoa(STNCreds)),returnVal}}]),STNBusinessServices.factory("getUsersNAME",["$cookies",function($cookies){return function(){var returnVal="",usesName=$cookies.usersName;return void 0!==usesName&&""!==usesName&&(returnVal=usesName),returnVal}}]),STNBusinessServices.factory("getUserID",["$cookies",function($cookies){return function(){var returnVal="",userID=$cookies.mID;return void 0!==userID&&""!==userID&&(returnVal=userID),returnVal}}]),STNBusinessServices.factory("getUsername",["$cookies",function($cookies){return function(){var returnVal="",STNUsername=$cookies.STNUsername;return void 0!==STNUsername&&""!==STNUsername&&(returnVal=STNUsername),returnVal}}]),STNBusinessServices.factory("getUserRole",["$cookies",function($cookies){return function(){var returnVal="",userRole=$cookies.usersRole;return void 0!==userRole&&""!==userRole&&(returnVal=userRole),returnVal}}]),STNBusinessServices.factory("deleteCreds",["$cookies",function($cookies){return function(){$cookies.STNCreds="",$cookies.STNUsername="",$cookies.usersName="",$cookies.usersRole=""}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ConfirmModalCtrl",["$scope","$uibModalInstance","nameToRemove","what",function($scope,$uibModalInstance,nameToRemove,what){switch(what){case"Member":$scope.nameToRmv=nameToRemove.fname+" "+nameToRemove.lname;break;case"Event":$scope.nameToRmv=nameToRemove.event_name;break;case"Agency":$scope.nameToRmv=nameToRemove.agency_name;break;case"Contact Type":$scope.nameToRmv=nameToRemove.type;break;case"Deployment Priority":$scope.nameToRmv=nameToRemove.priority_name;break;case"Event Status":$scope.nameToRmv=nameToRemove.status;break;case"File Type":$scope.nameToRmv=nameToRemove.filetype;break;case"Horizontal Collection Method":$scope.nameToRmv=nameToRemove.hcollect_method;break;case"Horizontal Datum":$scope.nameToRmv=nameToRemove.datum_name;break;case"Housing Type":$scope.nameToRmv=nameToRemove.type_name;break;case"HWM Quality":$scope.nameToRmv=nameToRemove.hwm_quality;break;case"HWM Type":$scope.nameToRmv=nameToRemove.hwm_type;break;case"Instrument Collection Condition":$scope.nameToRmv=nameToRemove.condition;break;case"Marker":$scope.nameToRmv=nameToRemove.marker1;break;case"Network Name":$scope.nameToRmv=nameToRemove.name;break;case"Objective Point Quality":$scope.nameToRmv=nameToRemove.quality;break;case"Objective Point Type":$scope.nameToRmv=nameToRemove.op_type;break;case"Sensor Brand":$scope.nameToRmv=nameToRemove.brand_name;break;case"Deployment Type":$scope.nameToRmv=nameToRemove.method;break;case"Status Type":$scope.nameToRmv=nameToRemove.status;break;case"Sensor Type":$scope.nameToRmv=nameToRemove.sensor;break;case"Network Type":$scope.nameToRmv=nameToRemove.network_type_name;break;case"Vertical Collection Method":$scope.nameToRmv=nameToRemove.vcollect_method;break;case"Vertical Datum":$scope.nameToRmv=nameToRemove.datum_abbreviation;break;case"Objective Point":$scope.nameToRmv=nameToRemove.name;break;case"HWM":var aDate=new Date(nameToRemove.flag_date),year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=monthNames[month]+" "+day+", "+year;$scope.nameToRmv="Flagged on: "+dateWOtime;break;case"Sensor":$scope.nameToRmv=nameToRemove.deploymentType;break;case"Proposed Sensor":$scope.nameToRmv="Proposed Sensor";break;case"File":var f=void 0!==nameToRemove.name||null!==nameToRemove.name?nameToRemove.name:nameToRemove.file_date;f=null!==f||void 0!==f?f:nameToRemove.file_id,$scope.nameToRmv=f;break;case"Peak":$scope.nameToRmv=nameToRemove.peak_summary_id}$scope.what=what,$scope.ok=function(){$uibModalInstance.close(nameToRemove)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),!function($){function Inputmask(alias,options){return this instanceof Inputmask?("object"==typeof alias?options=alias:(options=options||{},options.alias=alias),this.el=void 0,this.opts=$.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},void resolveAlias(this.opts.alias,options,this.opts)):new Inputmask(alias,options)}function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=evName in el;return isSupported||(el.setAttribute(evName,"return;"),isSupported="function"==typeof el[evName]),el=null,isSupported}function isInputTypeSupported(inputType){var isSupported="text"===inputType||"tel"===inputType||"password"===inputType;if(!isSupported){var el=document.createElement("input");el.setAttribute("type",inputType),isSupported="text"===el.type,el=null}return isSupported}function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),$.extend(!0,opts,aliasDefinition),$.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions){function importOption(option,optionData){optionData=void 0!==optionData?optionData:npt.getAttribute("data-inputmask-"+option),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=window[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),"mask"===option&&0===optionData.indexOf("[")?(userOptions[option]=optionData.replace(/[\s[\]]/g,"").split(","),userOptions[option][0]=userOptions[option][0].replace("'",""),userOptions[option][userOptions[option].length-1]=userOptions[option][userOptions[option].length-1].replace("'","")):userOptions[option]=optionData)}var option,dataoptions,optionData,attrOptions=npt.getAttribute("data-inputmask");attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(new RegExp("'","g"),'"'),dataoptions=JSON.parse("{"+attrOptions+"}"));for(option in opts){if(dataoptions){optionData=void 0;for(var p in dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}}importOption(option,optionData)}if(userOptions.alias){resolveAlias(userOptions.alias,userOptions,opts);for(option in opts)importOption(option)}return $.extend(!0,opts,userOptions),opts}function generateMaskSet(opts,nocache){function analyseMask(mask){function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){var maskdef=opts.definitions[element];position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(maskdef&&!escaped){maskdef.placeholder=$.isFunction(maskdef.placeholder)?maskdef.placeholder(opts):maskdef.placeholder;for(var prevalidators=maskdef.prevalidator,prevalidatorsL=prevalidators?prevalidators.length:0,i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator.validator,cardinality=prevalidator.cardinality;mtoken.matches.splice(position++,0,{fn:validator?"string"==typeof validator?new RegExp(validator):new function(){this.test=validator}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element}),prevMatch=mtoken.matches[position-1]}mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator}:new RegExp("."),cardinality:maskdef.cardinality,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element})}else mtoken.matches.splice(position++,0,{fn:null,cardinality:0,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==element,casing:null,def:element,placeholder:void 0,mask:element}),escaped=!1}function verifyGroupMarker(lastMatch,isOpenGroup){lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),isOpenGroup!==!0&&insertTestDefinition(lastMatch,opts.groupmarker.end))}function maskCurrentToken(m,currentToken,lastMatch,extraCondition){currentToken.matches.length>0&&(void 0===extraCondition||extraCondition)&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch)),insertTestDefinition(currentToken,m)}function defaultCase(){if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],maskCurrentToken(m,currentOpeningToken,lastMatch,!currentOpeningToken.isAlternator),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else maskCurrentToken(m,currentToken,lastMatch)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker.start?st=opts.optionalmarker.end:st===opts.optionalmarker.end?st=opts.optionalmarker.start:st===opts.groupmarker.start?st=opts.groupmarker.end:st===opts.groupmarker.end&&(st=opts.groupmarker.start),st}maskToken.matches=maskToken.matches.reverse();for(var match in maskToken.matches){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}maskToken.matches[match]=void 0!==maskToken.matches[match].matches?reverseTokens(maskToken.matches[match]):reverseStatic(maskToken.matches[match])}return maskToken}for(var match,m,openingToken,currentOpeningToken,alternator,lastMatch,groupToken,tokenizer=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,escaped=!1,currentToken=new MaskToken,openenings=[],maskTokens=[];match=tokenizer.exec(mask);)if(m=match[0],escaped)defaultCase();else switch(m.charAt(0)){case opts.escapeChar:escaped=!0;break;case opts.optionalmarker.end:case opts.groupmarker.end:if(openingToken=openenings.pop(),void 0!==openingToken)if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase();break;case opts.optionalmarker.start:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker.start:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker.start:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(("*"===mq1||"+"===mq1)&&(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1},openenings.length>0){var matches=openenings[openenings.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifier)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifier);break;case opts.alternatormarker:openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],lastMatch=currentOpeningToken.matches.pop()):lastMatch=currentToken.matches.pop(),lastMatch.isAlternator?openenings.push(lastMatch):(alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator));break;default:defaultCase()}for(;openenings.length>0;)openingToken=openenings.pop(),verifyGroupMarker(openingToken,!0),currentToken.matches.push(openingToken);return currentToken.matches.length>0&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch),maskTokens.push(currentToken)),opts.numericInput&&reverseTokens(maskTokens[0]),maskTokens}function generateMask(mask,metadata){if(null===mask||""===mask)return void 0;if(1===mask.length&&opts.greedy===!1&&0!==opts.repeat&&(opts.placeholder=""),opts.repeat>0||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker.start+mask+opts.groupmarker.end+opts.quantifiermarker.start+repeatStart+","+opts.repeat+opts.quantifiermarker.end}var masksetDefinition;return void 0===Inputmask.prototype.masksCache[mask]||nocache===!0?(masksetDefinition={mask:mask,maskToken:analyseMask(mask),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:metadata},nocache!==!0&&(Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]=masksetDefinition,masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]))):masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]),masksetDefinition}function preProcessMask(mask){return mask=mask.toString()}var ms;if($.isFunction(opts.mask)&&(opts.mask=opts.mask(opts)),$.isArray(opts.mask)){if(opts.mask.length>1){opts.keepStatic=null===opts.keepStatic?!0:opts.keepStatic;var altMask="(";return $.each(opts.numericInput?opts.mask.reverse():opts.mask,function(ndx,msk){altMask.length>1&&(altMask+=")|("),altMask+=preProcessMask(void 0===msk.mask||$.isFunction(msk.mask)?msk:msk.mask)}),altMask+=")",generateMask(altMask,opts.mask)}opts.mask=opts.mask.pop()}return opts.mask&&(ms=void 0===opts.mask.mask||$.isFunction(opts.mask.mask)?generateMask(preProcessMask(opts.mask),opts.mask):generateMask(preProcessMask(opts.mask.mask),opts.mask)),ms}function maskScope(actionObj,maskset,opts){function getMaskTemplate(baseOnInput,minimalPos,includeInput){minimalPos=minimalPos||0;var ndxIntlzr,test,testPos,maskTemplate=[],pos=0;do{if(baseOnInput===!0&&getMaskSet().validPositions[pos]){var validPos=getMaskSet().validPositions[pos];test=validPos.match,ndxIntlzr=validPos.locator.slice(),maskTemplate.push(includeInput===!0?validPos.input:getPlaceholder(pos,test))}else testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(getPlaceholder(pos,test));pos++}while((void 0===maxLength||maxLength>pos-1)&&null!==test.fn||null===test.fn&&""!==test.def||minimalPos>=pos);return maskTemplate.pop(),maskTemplate}function getMaskSet(){return maskset;

}function resetMaskSet(soft){var maskset=getMaskSet();maskset.buffer=void 0,maskset.tests={},soft!==!0&&(maskset._buffer=void 0,maskset.validPositions={},maskset.p=0)}function getLastValidPosition(closestTo,strict){var maskset=getMaskSet(),lastValidPosition=-1,valids=maskset.validPositions;void 0===closestTo&&(closestTo=-1);var before=lastValidPosition,after=lastValidPosition;for(var posNdx in valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||null!==valids[psNdx].match.fn)&&(closestTo>=psNdx&&(before=psNdx),psNdx>=closestTo&&(after=psNdx))}return lastValidPosition=-1!==before&&closestTo-before>1||closestTo>after?before:after}function setValidPosition(pos,validTest,fromSetValid){if(opts.insertMode&&void 0!==getMaskSet().validPositions[pos]&&void 0===fromSetValid){var i,positionsClone=$.extend(!0,{},getMaskSet().validPositions),lvp=getLastValidPosition();for(i=pos;lvp>=i;i++)delete getMaskSet().validPositions[i];getMaskSet().validPositions[pos]=validTest;var j,valid=!0,vps=getMaskSet().validPositions;for(i=j=pos;lvp>=i;i++){var t=positionsClone[i];if(void 0!==t)for(var posMatch=j,prevPosMatch=-1;posMatch<getMaskLength()&&(null==t.match.fn&&vps[i]&&(vps[i].match.optionalQuantifier===!0||vps[i].match.optionality===!0)||null!=t.match.fn);){if(null===t.match.fn||!opts.keepStatic&&vps[i]&&(void 0!==vps[i+1]&&getTests(i+1,vps[i].locator.slice(),i).length>1||void 0!==vps[i].alternation)?posMatch++:posMatch=seekNext(j),positionCanMatchDefinition(posMatch,t.match.def)){valid=isValid(posMatch,t.input,!0,!0)!==!1,j=posMatch;break}if(valid=null==t.match.fn,prevPosMatch===posMatch)break;prevPosMatch=posMatch}if(!valid)break}if(!valid)return getMaskSet().validPositions=$.extend(!0,{},positionsClone),resetMaskSet(!0),!1}else getMaskSet().validPositions[pos]=validTest;return resetMaskSet(!0),!0}function stripValidPositions(start,end,nocheck,strict){var i,startPos=start;for(getMaskSet().p=start,i=startPos;end>i;i++)void 0!==getMaskSet().validPositions[i]&&(nocheck===!0||opts.canClearPosition(getMaskSet(),i,getLastValidPosition(),strict,opts)!==!1)&&delete getMaskSet().validPositions[i];for(i=startPos+1;i<=getLastValidPosition();){for(;void 0!==getMaskSet().validPositions[startPos];)startPos++;var s=getMaskSet().validPositions[startPos];if(startPos>i&&(i=startPos+1),void 0===getMaskSet().validPositions[i]&&isMask(i)||void 0!==s)i++;else{var t=getTestTemplate(i);positionCanMatchDefinition(startPos,t.match.def)?isValid(startPos,t.input||getPlaceholder(i),!0)!==!1&&(delete getMaskSet().validPositions[i],i++):isMask(i)||(i++,startPos--),startPos++}}var lvp=getLastValidPosition(),ml=getMaskLength();for(strict!==!0&&nocheck!==!0&&void 0!==getMaskSet().validPositions[lvp]&&getMaskSet().validPositions[lvp].input===opts.radixPoint&&delete getMaskSet().validPositions[lvp],i=lvp+1;ml>=i;i++)getMaskSet().validPositions[i]&&delete getMaskSet().validPositions[i];resetMaskSet(!0)}function getTestTemplate(pos,ndxIntlzr,tstPs){var testPos=getMaskSet().validPositions[pos];if(void 0===testPos)for(var testPositions=getTests(pos,ndxIntlzr,tstPs),lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp]||getTests(0)[0],lvTestAltArr=void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation].toString().split(","):[],ndx=0;ndx<testPositions.length&&(testPos=testPositions[ndx],!(testPos.match&&(opts.greedy&&testPos.match.optionalQuantifier!==!0||(testPos.match.optionality===!1||testPos.match.newBlockMarker===!1)&&testPos.match.optionalQuantifier!==!0)&&(void 0===lvTest.alternation||lvTest.alternation!==testPos.alternation||void 0!==testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAltArr))));ndx++);return testPos}function getTest(pos){return getMaskSet().validPositions[pos]?getMaskSet().validPositions[pos].match:getTests(pos)[0].match}function positionCanMatchDefinition(pos,def){for(var valid=!1,tests=getTests(pos),tndx=0;tndx<tests.length;tndx++)if(tests[tndx].match&&tests[tndx].match.def===def){valid=!0;break}return valid}function getTests(pos,ndxIntlzr,tstPs,cacheable){function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){if(testPos>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse()}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[$.inArray(match,maskToken.matches)+1],loopNdx))return!0}else if(match.isOptional){var optionalToken=match;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse)){if(latestMatch=matches[matches.length-1].match,isFirstMatch=0===$.inArray(latestMatch,optionalToken.matches),!isFirstMatch)return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var maltMatches,alternateToken=match,malternateMatches=[],currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,altIndex=ndxInitializer.length>0?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[];"string"==typeof altIndex&&(altIndexArr=altIndex.split(","));for(var amndx=0;amndx<alternateToken.matches.length;amndx++){if(matches=[],match=handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)||match,match!==!0&&void 0!==match&&altIndexArr[altIndexArr.length-1]<alternateToken.matches.length){var ntndx=maskToken.matches.indexOf(match)+1;maskToken.matches.length>ntndx&&(match=handleMatch(maskToken.matches[ntndx],[ntndx].concat(loopNdx.slice(1,loopNdx.length)),quantifierRecurse),match&&(altIndexArr.push(ntndx.toString()),$.each(matches,function(ndx,lmnt){lmnt.alternation=loopNdx.length-1})))}maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var i=0;i<ndxInitializerClone.length;i++)ndxInitializer[i]=ndxInitializerClone[i];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1];altMatch.alternation=altMatch.alternation||loopNdxCnt;for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if(altMatch.match.mask===altMatch2.match.mask&&("string"!=typeof altIndex||-1!==$.inArray(altMatch.locator[altMatch.alternation].toString(),altIndexArr))){maltMatches.splice(ndx1,1),ndx1--,altMatch2.locator[altMatch.alternation]=altMatch2.locator[altMatch.alternation]+","+altMatch.locator[altMatch.alternation],altMatch2.alternation=altMatch.alternation;break}}}malternateMatches=malternateMatches.concat(maltMatches)}"string"==typeof altIndex&&(malternateMatches=$.map(malternateMatches,function(lmnt,ndx){if(isFinite(ndx)){var mamatch,alternation=lmnt.alternation,altLocArr=lmnt.locator[alternation].toString().split(",");lmnt.locator[alternation]=void 0,lmnt.alternation=void 0;for(var alndx=0;alndx<altLocArr.length;alndx++)mamatch=-1!==$.inArray(altLocArr[alndx],altIndexArr),mamatch&&(void 0!==lmnt.locator[alternation]?(lmnt.locator[alternation]+=",",lmnt.locator[alternation]+=altLocArr[alndx]):lmnt.locator[alternation]=parseInt(altLocArr[alndx]),lmnt.alternation=alternation);if(void 0!==lmnt.locator[alternation])return lmnt}})),matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=matches.length>0}else match=alternateToken.matches[altIndex]?handleMatch(alternateToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse):!1;if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[$.inArray(match,maskToken.matches)-1])for(var qt=match,qndx=ndxInitializer.length>0?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&pos>=testPos;qndx++){var tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup)){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>qt.quantifier.min-1,isFirstMatch=0===$.inArray(latestMatch,tokenGroup.matches)){if(qndx>qt.quantifier.min-1){insertStop=!0,testPos=pos;break}return!0}return!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse))return!0}else testPos++}for(var tndx=ndxInitializer.length>0?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(maskToken.matches[tndx].isQuantifier!==!0){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(testPos>pos)break}}var latestMatch,isFirstMatch,maskTokens=getMaskSet().maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr||[0],matches=[],insertStop=!1;if(cacheable===!0&&getMaskSet().tests[pos])return getMaskSet().tests[pos];if(void 0===ndxIntlzr){for(var test,previousPos=pos-1;void 0===(test=getMaskSet().validPositions[previousPos])&&previousPos>-1&&(!getMaskSet().tests[previousPos]||void 0===(test=getMaskSet().tests[previousPos][0]));)previousPos--;void 0!==test&&previousPos>-1&&(testPos=previousPos,ndxInitializer=test.locator.slice())}for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||testPos>pos)break}return(0===matches.length||insertStop)&&matches.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),getMaskSet().tests[pos]=$.extend(!0,[],matches),getMaskSet().tests[pos]}function getBufferTemplate(){return void 0===getMaskSet()._buffer&&(getMaskSet()._buffer=getMaskTemplate(!1,1)),getMaskSet()._buffer}function getBuffer(noCache){return(void 0===getMaskSet().buffer||noCache===!0)&&(noCache===!0&&(getMaskSet().test={}),getMaskSet().buffer=getMaskTemplate(!0,getLastValidPosition(),!0)),getMaskSet().buffer}function refreshFromBuffer(start,end,buffer){var i;if(buffer=buffer,start===!0)resetMaskSet(),start=0,end=buffer.length;else for(i=start;end>i;i++)delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(i=start;end>i;i++)resetMaskSet(!0),buffer[i]!==opts.skipOptionalPartCharacter&&isValid(i,buffer[i],!0,!0)}function casing(elem,test){switch(test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase()}return elem}function checkAlternationMatch(altArr1,altArr2){for(var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,alndx=0;alndx<altArr1.length;alndx++)if(-1!==$.inArray(altArr1[alndx],altArrC)){isMatch=!0;break}return isMatch}function isValid(pos,c,strict,fromSetValid){function _isValid(position,c,strict,fromSetValid){var rslt=!1;return $.each(getTests(position),function(ndx,tst){for(var test=tst.match,loopend=c?1:0,chrs="",i=test.cardinality;i>loopend;i--)chrs+=getBufferElement(position-(i-1));if(c&&(chrs+=c),getBuffer(!0),rslt=null!=test.fn?test.fn.test(chrs,getMaskSet(),position,strict,opts):c!==test.def&&c!==opts.skipOptionalPartCharacter||""===test.def?!1:{c:test.def,pos:position},rslt!==!1){var elem=void 0!==rslt.c?rslt.c:c;elem=elem===opts.skipOptionalPartCharacter&&null===test.fn?test.def:elem;var validatedPos=position,possibleModifiedBuffer=getBuffer();if(void 0!==rslt.remove&&($.isArray(rslt.remove)||(rslt.remove=[rslt.remove]),$.each(rslt.remove.sort(function(a,b){return b-a}),function(ndx,lmnt){stripValidPositions(lmnt,lmnt+1,!0)})),void 0!==rslt.insert&&($.isArray(rslt.insert)||(rslt.insert=[rslt.insert]),$.each(rslt.insert.sort(function(a,b){return a-b}),function(ndx,lmnt){isValid(lmnt.pos,lmnt.c,!0)})),rslt.refreshFromBuffer){var refresh=rslt.refreshFromBuffer;if(strict=!0,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,possibleModifiedBuffer),void 0===rslt.pos&&void 0===rslt.c)return rslt.pos=getLastValidPosition(),!1;if(validatedPos=void 0!==rslt.pos?rslt.pos:position,validatedPos!==position)return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1}else if(rslt!==!0&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos,refreshFromBuffer(position,validatedPos,getBuffer().slice()),validatedPos!==position))return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1;return rslt!==!0&&void 0===rslt.pos&&void 0===rslt.c?!1:(ndx>0&&resetMaskSet(!0),setValidPosition(validatedPos,$.extend({},tst,{input:casing(elem,test)}),fromSetValid)||(rslt=!1),!1)}}),rslt}function alternate(pos,c,strict,fromSetValid){for(var lastAlt,alternation,isValidRslt,altPos,i,validPos,validPsClone=$.extend(!0,{},getMaskSet().validPositions),lAlt=getLastValidPosition();lAlt>=0&&(altPos=getMaskSet().validPositions[lAlt],!altPos||void 0===altPos.alternation||(lastAlt=lAlt,alternation=getMaskSet().validPositions[lastAlt].alternation,getTestTemplate(lastAlt).locator[altPos.alternation]===altPos.locator[altPos.alternation]));lAlt--);if(void 0!==alternation){lastAlt=parseInt(lastAlt);for(var decisionPos in getMaskSet().validPositions)if(decisionPos=parseInt(decisionPos),altPos=getMaskSet().validPositions[decisionPos],decisionPos>=lastAlt&&void 0!==altPos.alternation){var altNdxs=getMaskSet().validPositions[lastAlt].locator[alternation].toString().split(","),decisionTaker=altPos.locator[alternation]||altNdxs[0];decisionTaker.length>0&&(decisionTaker=decisionTaker.split(",")[0]);for(var mndx=0;mndx<altNdxs.length;mndx++)if(decisionTaker<altNdxs[mndx]){for(var possibilityPos,possibilities,dp=decisionPos;dp>=0;dp--)if(possibilityPos=getMaskSet().validPositions[dp],void 0!==possibilityPos){possibilities=possibilityPos.locator[alternation],possibilityPos.locator[alternation]=parseInt(altNdxs[mndx]);break}if(decisionTaker!==possibilityPos.locator[alternation]){var validInputs=[],staticInputsBeforePos=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&(null!=validPos.match.fn?validInputs.push(validPos.input):pos>i&&staticInputsBeforePos++),delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(resetMaskSet(!0),opts.keepStatic=!opts.keepStatic,isValidRslt=!0;validInputs.length>0;){var input=validInputs.shift();if(input!==opts.skipOptionalPartCharacter&&!(isValidRslt=isValid(getLastValidPosition()+1,input,!1,!0)))break}if(possibilityPos.alternation=alternation,possibilityPos.locator[alternation]=possibilities,isValidRslt){var targetLvp=getLastValidPosition(pos)+1,staticInputsBeforePosAlternate=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&null==validPos.match.fn&&pos>i&&staticInputsBeforePosAlternate++;pos+=staticInputsBeforePosAlternate-staticInputsBeforePos,isValidRslt=isValid(pos>targetLvp?targetLvp:pos,c,strict,fromSetValid)}if(opts.keepStatic=!opts.keepStatic,isValidRslt)return isValidRslt;resetMaskSet(),getMaskSet().validPositions=$.extend(!0,{},validPsClone)}}break}}return!1}function trackbackAlternations(originalPos,newPos){for(var vp=getMaskSet().validPositions[newPos],targetLocator=vp.locator,tll=targetLocator.length,ps=originalPos;newPos>ps;ps++)if(!isMask(ps)){var tests=getTests(ps),bestMatch=tests[0],equality=-1;$.each(tests,function(ndx,tst){for(var i=0;tll>i;i++)tst.locator[i]&&checkAlternationMatch(tst.locator[i].toString().split(","),targetLocator[i].toString().split(","))&&i>equality&&(equality=i,bestMatch=tst)}),setValidPosition(ps,$.extend({},bestMatch,{input:bestMatch.match.def}),!0)}}strict=strict===!0;for(var buffer=getBuffer(),pndx=pos-1;pndx>-1&&!getMaskSet().validPositions[pndx];pndx--);for(pndx++;pos>pndx;pndx++)void 0===getMaskSet().validPositions[pndx]&&((!isMask(pndx)||buffer[pndx]!==getPlaceholder(pndx))&&getTests(pndx).length>1||buffer[pndx]===opts.radixPoint||"0"===buffer[pndx]&&$.inArray(opts.radixPoint,buffer)<pndx)&&_isValid(pndx,buffer[pndx],!0);var maskPos=pos,result=!1,positionsClone=$.extend(!0,{},getMaskSet().validPositions);if(maskPos<getMaskLength()&&(result=_isValid(maskPos,c,strict,fromSetValid),(!strict||fromSetValid)&&result===!1)){var currentPosValid=getMaskSet().validPositions[maskPos];if(!currentPosValid||null!==currentPosValid.match.fn||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if((opts.insertMode||void 0===getMaskSet().validPositions[seekNext(maskPos)])&&!isMask(maskPos))for(var nPos=maskPos+1,snPos=seekNext(maskPos);snPos>=nPos;nPos++)if(result=_isValid(nPos,c,strict,fromSetValid),result!==!1){trackbackAlternations(maskPos,nPos),maskPos=nPos;break}}else result={caret:seekNext(maskPos)}}if(result===!1&&opts.keepStatic&&isComplete(buffer)&&(result=alternate(pos,c,strict,fromSetValid)),result===!0&&(result={pos:maskPos}),$.isFunction(opts.postValidation)&&result!==!1&&!strict){var postValidResult=opts.postValidation(getBuffer(!0),opts);if(postValidResult){if(postValidResult.refreshFromBuffer){var refresh=postValidResult.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,postValidResult.buffer),resetMaskSet(!0),result=postValidResult}}else resetMaskSet(!0),getMaskSet().validPositions=$.extend(!0,{},positionsClone),result=!1}return result}function isMask(pos){var test=getTest(pos);if(null!=test.fn)return test.fn;if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var tests=getTests(pos),staticAlternations=!0,i=0;i<tests.length;i++)if(""!==tests[i].match.def&&(void 0===tests[i].alternation||tests[i].locator[tests[i].alternation].length>1)){staticAlternations=!1;break}return staticAlternations}return!1}function getMaskLength(){var maskLength;maxLength=void 0!==el?el.maxLength:void 0,-1===maxLength&&(maxLength=void 0);var pos,lvp=getLastValidPosition(),testPos=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==testPos?testPos.locator.slice():void 0;for(pos=lvp+1;void 0===testPos||null!==testPos.match.fn||null===testPos.match.fn&&""!==testPos.match.def;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice();var lastTest=getTest(pos-1);return maskLength=""!==lastTest.def?pos:pos-1,void 0===maxLength||maxLength>maskLength?maskLength:maxLength}function seekNext(pos,newBlock){var maskL=getMaskLength();if(pos>=maskL)return maskL;for(var position=pos;++position<maskL&&(newBlock===!0&&(getTest(position).newBlockMarker!==!0||!isMask(position))||newBlock!==!0&&!isMask(position)&&(opts.nojumps!==!0||opts.nojumpsThreshold>position)););return position}function seekPrevious(pos,newBlock){var position=pos;if(0>=position)return 0;for(;--position>0&&(newBlock===!0&&getTest(position).newBlockMarker!==!0||newBlock!==!0&&!isMask(position)););return position}function getBufferElement(position){return void 0===getMaskSet().validPositions[position]?getPlaceholder(position):getMaskSet().validPositions[position].input}function writeBuffer(input,buffer,caretPos,event,triggerInputEvent){if(event&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite.call(input,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=getBuffer(!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||caret(input,caretPos),triggerInputEvent===!0&&(skipInputEvent=!0,$(input).trigger("input"))}function getPlaceholder(pos,test){if(test=test||getTest(pos),void 0!==test.placeholder)return test.placeholder;if(null===test.fn){if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var prevTest,tests=getTests(pos),hasAlternations=!1,i=0;i<tests.length;i++){if(prevTest&&""!==tests[i].match.def&&tests[i].match.def!==prevTest.match.def&&(void 0===tests[i].alternation||tests[i].alternation===prevTest.alternation)){hasAlternations=!0;break}tests[i].match.optionality!==!0&&tests[i].match.optionalQuantifier!==!0&&(prevTest=tests[i])}if(hasAlternations)return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}return opts.placeholder.charAt(pos%opts.placeholder.length)}function checkVal(input,writeOut,strict,nptvl){function isTemplateMatch(){var isMatch=!1,charCodeNdx=getBufferTemplate().slice(initialNdx,seekNext(initialNdx)).join("").indexOf(charCodes);if(-1!==charCodeNdx&&!isMask(initialNdx)){isMatch=!0;for(var bufferTemplateArr=getBufferTemplate().slice(initialNdx,initialNdx+charCodeNdx),i=0;i<bufferTemplateArr.length;i++)if(" "!==bufferTemplateArr[i]){isMatch=!1;break}}return isMatch}var inputValue=nptvl.slice(),charCodes="",initialNdx=0;if(resetMaskSet(),getMaskSet().p=seekNext(-1),!strict)if(opts.autoUnmask!==!0){var staticInput=getBufferTemplate().slice(0,seekNext(-1)).join(""),matches=inputValue.join("").match(new RegExp("^"+Inputmask.escapeRegex(staticInput),"g"));matches&&matches.length>0&&(inputValue.splice(0,matches.length*staticInput.length),initialNdx=seekNext(initialNdx))}else initialNdx=seekNext(initialNdx);$.each(inputValue,function(ndx,charCode){var keypress=$.Event("keypress");keypress.which=charCode.charCodeAt(0),charCodes+=charCode;var lvp=getLastValidPosition(void 0,!0),lvTest=getMaskSet().validPositions[lvp],nextTest=getTestTemplate(lvp+1,lvTest?lvTest.locator.slice():void 0,lvp);if(!isTemplateMatch()||strict||opts.autoUnmask){var pos=strict?ndx:null==nextTest.match.fn&&nextTest.match.optionality&&lvp+1<getMaskSet().p?lvp+1:getMaskSet().p;keypressEvent.call(input,keypress,!0,!1,strict,pos),initialNdx=pos+1,charCodes=""}else keypressEvent.call(input,keypress,!0,!1,!0,lvp+1)}),writeOut&&writeBuffer(input,getBuffer(),document.activeElement===input?seekNext(getLastValidPosition(0)):void 0,$.Event("checkval"))}function unmaskedvalue(input){if(input&&void 0===input.inputmask)return input.value;var umValue=[],vps=getMaskSet().validPositions;for(var pndx in vps)vps[pndx].match&&null!=vps[pndx].match.fn&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?null:(isRTL?umValue.reverse():umValue).join("");if(null!==unmaskedValue){var bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join("");$.isFunction(opts.onUnMask)&&(unmaskedValue=opts.onUnMask.call(input,bufferValue,unmaskedValue,opts)||unmaskedValue)}return unmaskedValue}function caret(input,begin,end){function translatePosition(pos){if(isRTL&&"number"==typeof pos&&(!opts.greedy||""!==opts.placeholder)){var bffrLght=getBuffer().join("").length;pos=bffrLght-pos}return pos}var range;if("number"!=typeof begin)return input.setSelectionRange?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),(range.commonAncestorContainer.parentNode===input||range.commonAncestorContainer===input)&&(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length),{begin:translatePosition(begin),end:translatePosition(end)};begin=translatePosition(begin),end=translatePosition(end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,androidchrome||opts.insertMode!==!1||begin!==end||end++,input.setSelectionRange)input.selectionStart=begin,input.selectionEnd=end;else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}function determineLastRequiredPosition(returnDefinition){var pos,testPos,buffer=getBuffer(),bl=buffer.length,lvp=getLastValidPosition(),positions={},lvTest=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0;for(pos=lvp+1;pos<buffer.length;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;pos>lvp&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&null!=testPos.match.fn||null===testPos.match.fn&&testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==getTests(pos)[0].def))&&buffer[pos]===getPlaceholder(pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function clearOptionalTail(buffer){for(var rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),buffer}function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete.call(el,buffer,opts);if("*"===opts.repeat)return void 0;var complete=!1,lrp=determineLastRequiredPosition(!0),aml=seekPrevious(lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;aml>=i;i++){var test=getTestTemplate(i).match;if(null!==test.fn&&void 0===getMaskSet().validPositions[i]&&test.optionality!==!0&&test.optionalQuantifier!==!0||null===test.fn&&buffer[i]!==getPlaceholder(i,test)){complete=!1;break}}}return complete}function isSelection(begin,end){return isRTL?begin-end>1||begin-end===1&&opts.insertMode:end-begin>1||end-begin===1&&opts.insertMode}function wrapEventRuler(eventHandler){return function(e){var inComposition=!1,keydownPressed=!1;if(void 0===this.inputmask){var imOpts=$.data(this,"_inputmask_opts");imOpts?new Inputmask(imOpts).mask(this):$(this).off(".inputmask")}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||opts.tabThrough===!1&&e.keyCode===Inputmask.keyCode.TAB))){switch(e.type){case"input":if(skipInputEvent===!0||inComposition===!0)return skipInputEvent=!1,e.preventDefault();keydownPressed=!1;break;case"keydown":skipKeyPressEvent=!1,inComposition=!1,keydownPressed=!0;break;case"keypress":if(skipKeyPressEvent===!0)return e.preventDefault();skipKeyPressEvent=!0;break;case"compositionstart":inComposition=!0;break;case"compositionupdate":skipInputEvent=keydownPressed;break;case"compositionend":inComposition=!1,keydownPressed=!1;break;case"cut":skipInputEvent=!0}return eventHandler.apply(this,arguments)}e.preventDefault()}}}function patchValueProperty(npt){function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||$.valHooks[type].inputmaskpatch!==!0)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem),maskset=elem.inputmask.maskset,bufferTemplate=maskset._buffer;return bufferTemplate=bufferTemplate?bufferTemplate.join(""):"",result!==bufferTemplate?result:""}return valhookGet(elem)},set:function(elem,value){var result,$elem=$(elem);return result=valhookSet(elem,value),elem.inputmask&&$elem.trigger("setvalue.inputmask"),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():valueGet.call(this)!==getBufferTemplate().join("")?document.activeElement===this&&opts.clearMaskOnLostFocus?(isRTL?clearOptionalTail(getBuffer()).reverse():clearOptionalTail(getBuffer())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&$(this).trigger("setvalue.inputmask")}function installNativeValueSetFallback(npt){$(npt).on("mouseenter.inputmask",wrapEventRuler(function(event){var $input=$(this),input=this,value=input.inputmask._valueGet();""!==value&&value!==getBuffer().join("")&&$input.trigger("setvalue.inputmask")}))}var valueGet,valueSet;npt.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===npt.value?(valueGet=function(){return this.textContent},valueSet=function(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter})):document.__lookupGetter__&&npt.__lookupGetter__("value")?(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter)):(valueGet=function(){return npt.value},valueSet=function(value){npt.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt)),npt.inputmask.__valueGet=valueGet,npt.inputmask._valueGet=function(overruleRTL){return isRTL&&overruleRTL!==!0?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask.__valueSet=valueSet,npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null===value||void 0===value?"":overruleRTL!==!0&&isRTL?value.split("").reverse().join(""):value)})}function handleRemove(input,k,pos,strict){function generalize(){if(opts.keepStatic){resetMaskSet(!0);var lastAlt,validInputs=[],positionsClone=$.extend(!0,{},getMaskSet().validPositions);for(lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--){var validPos=getMaskSet().validPositions[lastAlt];if(validPos&&(null!=validPos.match.fn&&validInputs.push(validPos.input),delete getMaskSet().validPositions[lastAlt],void 0!==validPos.alternation&&validPos.locator[validPos.alternation]===getTestTemplate(lastAlt).locator[validPos.alternation]))break}if(lastAlt>-1)for(;validInputs.length>0;){getMaskSet().p=seekNext(getLastValidPosition());var keypress=$.Event("keypress");keypress.which=validInputs.pop().charCodeAt(0),keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}else getMaskSet().validPositions=$.extend(!0,{},positionsClone)}}if((opts.numericInput||isRTL)&&(k===Inputmask.keyCode.BACKSPACE?k=Inputmask.keyCode.DELETE:k===Inputmask.keyCode.DELETE&&(k=Inputmask.keyCode.BACKSPACE),isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}k===Inputmask.keyCode.BACKSPACE&&(pos.end-pos.begin<1||opts.insertMode===!1)?(pos.begin=seekPrevious(pos.begin),void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.begin--):k===Inputmask.keyCode.DELETE&&pos.begin===pos.end&&(pos.end=isMask(pos.end)?pos.end+1:seekNext(pos.end)+1,void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.end++),stripValidPositions(pos.begin,pos.end,!1,strict),strict!==!0&&generalize();var lvp=getLastValidPosition(pos.begin);lvp<pos.begin?(-1===lvp&&resetMaskSet(),getMaskSet().p=seekNext(lvp)):strict!==!0&&(getMaskSet().p=pos.begin)}function keydownEvent(e){var input=this,$input=$(input),k=e.keyCode,pos=caret(input);k===Inputmask.keyCode.BACKSPACE||k===Inputmask.keyCode.DELETE||iphone&&127===k||e.ctrlKey&&88===k&&!isInputEventSupported("cut")?(e.preventDefault(),88===k&&(undoValue=getBuffer().join("")),handleRemove(input,k,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")?$input.trigger("cleared"):isComplete(getBuffer())===!0&&$input.trigger("complete"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)):k===Inputmask.keyCode.END||k===Inputmask.keyCode.PAGE_DOWN?setTimeout(function(){
var caretPos=seekNext(getLastValidPosition());opts.insertMode||caretPos!==getMaskLength()||e.shiftKey||caretPos--,caret(input,e.shiftKey?pos.begin:caretPos,caretPos)},0):k===Inputmask.keyCode.HOME&&!e.shiftKey||k===Inputmask.keyCode.PAGE_UP?caret(input,0,e.shiftKey?pos.begin:0):(opts.undoOnEscape&&k===Inputmask.keyCode.ESCAPE||90===k&&e.ctrlKey)&&e.altKey!==!0?(checkVal(input,!0,!1,undoValue.split("")),$input.trigger("click")):k!==Inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?opts.tabThrough===!0&&k===Inputmask.keyCode.TAB?(e.shiftKey===!0?(null===getTest(pos.begin).fn&&(pos.begin=seekNext(pos.begin)),pos.end=seekPrevious(pos.begin,!0),pos.begin=seekPrevious(pos.end,!0)):(pos.begin=seekNext(pos.begin,!0),pos.end=seekNext(pos.begin,!0),pos.end<getMaskLength()&&pos.end--),pos.begin<getMaskLength()&&(e.preventDefault(),caret(input,pos.begin,pos.end))):opts.insertMode!==!1||e.shiftKey||(k===Inputmask.keyCode.RIGHT?setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin)},0):k===Inputmask.keyCode.LEFT&&setTimeout(function(){var caretPos=caret(input);caret(input,isRTL?caretPos.begin+1:caretPos.begin-1)},0)):(opts.insertMode=!opts.insertMode,caret(input,opts.insertMode||pos.begin!==getMaskLength()?pos.begin:pos.begin-1)),opts.onKeyDown(e,getBuffer(),caret(input).begin,opts),ignorable=-1!==$.inArray(k,opts.ignorables)}function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(checkval===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))return k===Inputmask.keyCode.ENTER&&undoValue!==getBuffer().join("")&&(undoValue=getBuffer().join(""),e.preventDefault(),setTimeout(function(){$input.trigger("change")},0)),!0;if(k){46===k&&e.shiftKey===!1&&","===opts.radixPoint&&(k=44);var forwardPosition,pos=checkval?{begin:ndx,end:ndx}:caret(input),c=String.fromCharCode(k),isSlctn=isSelection(pos.begin,pos.end);isSlctn&&(getMaskSet().undoPositions=$.extend(!0,{},getMaskSet().validPositions),handleRemove(input,Inputmask.keyCode.DELETE,pos,!0),pos.begin=getMaskSet().p,opts.insertMode||(opts.insertMode=!opts.insertMode,setValidPosition(pos.begin,strict),opts.insertMode=!opts.insertMode),isSlctn=!opts.multi),getMaskSet().writeOutBuffer=!0;var p=isRTL&&!isSlctn?pos.end:pos.begin,valResult=isValid(p,c,strict);if(valResult!==!1){if(valResult!==!0&&(p=void 0!==valResult.pos?valResult.pos:p,c=void 0!==valResult.c?valResult.c:c),resetMaskSet(!0),void 0!==valResult.caret)forwardPosition=valResult.caret;else{var vps=getMaskSet().validPositions;forwardPosition=!opts.keepStatic&&(void 0!==vps[p+1]&&getTests(p+1,vps[p].locator.slice(),p).length>1||void 0!==vps[p].alternation)?p+1:seekNext(p)}getMaskSet().p=forwardPosition}if(writeOut!==!1){var self=this;if(setTimeout(function(){opts.onKeyValidation.call(self,valResult,opts)},0),getMaskSet().writeOutBuffer&&valResult!==!1){var buffer=getBuffer();writeBuffer(input,buffer,checkval?void 0:opts.numericInput?seekPrevious(forwardPosition):forwardPosition,e,checkval!==!0),checkval!==!0&&setTimeout(function(){isComplete(buffer)===!0&&$input.trigger("complete")},0)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions);if(opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask),checkval&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite(e,getBuffer(),forwardPosition,opts);if(result&&result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer),resetMaskSet(!0),result.caret&&(getMaskSet().p=result.caret)}}if(e.preventDefault(),checkval)return valResult}}function pasteEvent(e){var input=this,ev=e.originalEvent||e,$input=$(input),inputValue=input.inputmask._valueGet(!0),caretPos=caret(input);if("propertychange"===e.type&&input.inputmask._valueGet().length<=getMaskLength())return!0;if("paste"===e.type){var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);valueBeforeCaret===getBufferTemplate().slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret===getBufferTemplate().slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData?inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret:ev.clipboardData&&ev.clipboardData.getData&&(inputValue=valueBeforeCaret+ev.clipboardData.getData("text/plain")+valueAfterCaret)}var pasteValue=inputValue;if($.isFunction(opts.onBeforePaste)){if(pasteValue=opts.onBeforePaste.call(input,inputValue,opts),pasteValue===!1)return e.preventDefault(),!1;pasteValue||(pasteValue=inputValue)}return checkVal(input,!1,!1,isRTL?pasteValue.split("").reverse():pasteValue.toString().split("")),writeBuffer(input,getBuffer(),void 0,e,!0),$input.trigger("click"),isComplete(getBuffer())===!0&&$input.trigger("complete"),!1}function inputFallBackEvent(e){var input=this;checkVal(input,!0,!1,input.inputmask._valueGet().split("")),isComplete(getBuffer())===!0&&$(input).trigger("complete"),e.preventDefault()}function mobileInputEvent(e){var input=this,caretPos=caret(input),currentValue=input._valueGet();currentValue=currentValue.replace(new RegExp("("+Inputmask.escapeRegex(getBufferTemplate().join(""))+")*"),""),caretPos.begin>currentValue.length&&(caret(input,currentValue.length),caretPos=caret(input)),getBuffer().length-currentValue.length!==1||currentValue.charAt(caretPos.begin)===getBuffer()[caretPos.begin]||currentValue.charAt(caretPos.begin+1)===getBuffer()[caretPos.begin]||isMask(caretPos.begin)?inputFallBackEvent.call(this,e):(e.keyCode=opts.keyCode.BACKSPACE,keydownEvent.call(input,e)),e.preventDefault()}function compositionStartEvent(e){var ev=e.originalEvent||e;undoValue=getBuffer().join(""),""===compositionData||0!==ev.data.indexOf(compositionData)}function compositionUpdateEvent(e){var input=this,ev=e.originalEvent||e;0===ev.data.indexOf(compositionData)&&(resetMaskSet(),getMaskSet().p=seekNext(-1),skipInputEvent=!0);for(var newData=ev.data,i=0;i<newData.length;i++){var keypress=$.Event("keypress");keypress.which=newData.charCodeAt(i),skipKeyPressEvent=!1,ignorable=!1,keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}setTimeout(function(){var forwardPosition=getMaskSet().p;writeBuffer(input,getBuffer(),opts.numericInput?seekPrevious(forwardPosition):forwardPosition)},0),compositionData=ev.data}function compositionEndEvent(e){}function setValueEvent(e){var input=this,value=input.inputmask._valueGet();checkVal(input,!0,!1,($.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(input,value,opts)||value:value).split("")),undoValue=getBuffer().join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===getBufferTemplate().join("")&&input.inputmask._valueSet("")}function focusEvent(e){var input=this,nptValue=input.inputmask._valueGet();opts.showMaskOnFocus&&(!opts.showMaskOnHover||opts.showMaskOnHover&&""===nptValue)?input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer(),seekNext(getLastValidPosition())):mouseEnter===!1&&caret(input,seekNext(getLastValidPosition())),opts.positionCaretOnTab===!0&&setTimeout(function(){caret(input,seekNext(getLastValidPosition()))},0),undoValue=getBuffer().join("")}function mouseleaveEvent(e){var input=this;if(mouseEnter=!1,opts.clearMaskOnLostFocus){var buffer=getBuffer().slice(),nptValue=input.inputmask._valueGet();document.activeElement!==input&&nptValue!==input.getAttribute("placeholder")&&""!==nptValue&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer),writeBuffer(input,buffer))}}function clickEvent(e){function doRadixFocus(clickPos){if(opts.radixFocus&&""!==opts.radixPoint){var vps=getMaskSet().validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===getPlaceholder(clickPos)){if(clickPos<seekNext(-1))return!0;var radixPos=$.inArray(opts.radixPoint,getBuffer());if(-1!==radixPos){for(var vp in vps)if(vp>radixPos&&vps[vp].input!==getPlaceholder(vp))return!1;return!0}}}return!1}var input=this;if(document.activeElement===input){var selectedCaret=caret(input);if(selectedCaret.begin===selectedCaret.end)if(doRadixFocus(selectedCaret.begin))caret(input,$.inArray(opts.radixPoint,getBuffer()));else{var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition(clickPosition),lastPosition=seekNext(lvclickPosition);lastPosition>clickPosition?caret(input,isMask(clickPosition)||isMask(clickPosition-1)?clickPosition:seekNext(clickPosition)):caret(input,opts.numericInput?0:lastPosition)}}}function dblclickEvent(e){var input=this;setTimeout(function(){caret(input,0,seekNext(getLastValidPosition()))},0)}function cutEvent(e){var input=this,$input=$(input),pos=caret(input),ev=e.originalEvent||e,clipboardData=window.clipboardData||ev.clipboardData,clipData=isRTL?getBuffer().slice(pos.end,pos.begin):getBuffer().slice(pos.begin,pos.end);clipboardData.setData("text",isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),handleRemove(input,Inputmask.keyCode.DELETE,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")&&$input.trigger("cleared"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)}function blurEvent(e){var $input=$(this),input=this;if(input.inputmask){var nptValue=input.inputmask._valueGet(),buffer=getBuffer().slice();undoValue!==buffer.join("")&&setTimeout(function(){$input.trigger("change"),undoValue=buffer.join("")},0),""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),isComplete(buffer)===!1&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(resetMaskSet(),buffer=opts.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(input,buffer,void 0,e))}}function mouseenterEvent(e){var input=this;mouseEnter=!0,document.activeElement!==input&&opts.showMaskOnHover&&input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer())}function mask(elem){if(el=elem,$el=$(el),opts.showTooltip&&(el.title=opts.tooltip||getMaskSet().mask),("rtl"===el.dir||opts.rightAlign)&&(el.style.textAlign="right"),("rtl"===el.dir||opts.numericInput)&&(el.dir="ltr",el.removeAttribute("dir"),el.inputmask.isRTL=!0,isRTL=!0),$el.off(".inputmask"),patchValueProperty(el),("INPUT"===el.tagName&&isInputTypeSupported(el.getAttribute("type"))||el.isContentEditable)&&($(el.form).on("submit",function(){undoValue!==getBuffer().join("")&&$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===getLastValidPosition()&&el.inputmask._valueGet&&el.inputmask._valueGet()===getBufferTemplate().join("")&&el.inputmask._valueSet(""),opts.removeMaskOnSubmit&&(el.inputmask._valueSet(el.inputmask.unmaskedvalue(),!0),setTimeout(function(){writeBuffer(el,getBuffer())},0))}).on("reset",function(){setTimeout(function(){$el.trigger("setvalue.inputmask")},0)}),$el.on("mouseenter.inputmask",wrapEventRuler(mouseenterEvent)).on("blur.inputmask",wrapEventRuler(blurEvent)).on("focus.inputmask",wrapEventRuler(focusEvent)).on("mouseleave.inputmask",wrapEventRuler(mouseleaveEvent)).on("click.inputmask",wrapEventRuler(clickEvent)).on("dblclick.inputmask",wrapEventRuler(dblclickEvent)).on(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",wrapEventRuler(pasteEvent)).on("cut.inputmask",wrapEventRuler(cutEvent)).on("complete.inputmask",wrapEventRuler(opts.oncomplete)).on("incomplete.inputmask",wrapEventRuler(opts.onincomplete)).on("cleared.inputmask",wrapEventRuler(opts.oncleared)).on("keydown.inputmask",wrapEventRuler(keydownEvent)).on("keypress.inputmask",wrapEventRuler(keypressEvent)),androidfirefox||$el.on("compositionstart.inputmask",wrapEventRuler(compositionStartEvent)).on("compositionupdate.inputmask",wrapEventRuler(compositionUpdateEvent)).on("compositionend.inputmask",wrapEventRuler(compositionEndEvent)),"paste"===PasteEventType&&$el.on("input.inputmask",wrapEventRuler(inputFallBackEvent)),(android||androidfirefox||androidchrome||kindle)&&($el.off("input.inputmask"),$el.on("input.inputmask",wrapEventRuler(mobileInputEvent)))),$el.on("setvalue.inputmask",wrapEventRuler(setValueEvent)),""!==el.inputmask._valueGet()||opts.clearMaskOnLostFocus===!1){var initialValue=$.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,el.inputmask._valueGet(),opts)||el.inputmask._valueGet():el.inputmask._valueGet();checkVal(el,!0,!1,initialValue.split(""));var buffer=getBuffer().slice();undoValue=buffer.join(""),isComplete(buffer)===!1&&opts.clearIncomplete&&resetMaskSet(),opts.clearMaskOnLostFocus&&(buffer.join("")===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),writeBuffer(el,buffer),document.activeElement===el&&caret(el,seekNext(getLastValidPosition()))}}var undoValue,compositionData,el,$el,maxLength,valueBuffer,isRTL=!1,skipKeyPressEvent=!1,skipInputEvent=!1,ignorable=!1,mouseEnter=!0;if(void 0!==actionObj)switch(actionObj.action){case"isComplete":return el=actionObj.el,isComplete(getBuffer());case"unmaskedvalue":return el=actionObj.el,void 0!==el&&void 0!==el.inputmask?(maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,valueBuffer=isRTL?el.inputmask._valueGet().split("").reverse().join(""):el.inputmask._valueGet()):valueBuffer=actionObj.value,opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(valueBuffer,opts)||valueBuffer:valueBuffer).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),unmaskedvalue(el);case"mask":el=actionObj.el,maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,undoValue=getBuffer().join(""),mask(el);break;case"format":return opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(actionObj.value,opts)||actionObj.value:actionObj.value).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),actionObj.metadata?{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope({action:"getmetadata"},maskset,opts)}:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":opts.numericInput&&(isRTL=!0),valueBuffer=actionObj.value.split(""),checkVal(void 0,!1,!0,isRTL?valueBuffer.reverse():valueBuffer);for(var buffer=getBuffer(),rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),isComplete(buffer)&&actionObj.value===buffer.join("");case"getemptymask":return getBufferTemplate();case"remove":el=actionObj.el,$el=$(el),maskset=el.inputmask.maskset,opts=el.inputmask.opts,el.inputmask._valueSet(unmaskedvalue(el)),$el.off(".inputmask");var valueProperty;Object.getOwnPropertyDescriptor&&(valueProperty=Object.getOwnPropertyDescriptor(el,"value")),valueProperty&&valueProperty.get?el.inputmask.__valueGet&&Object.defineProperty(el,"value",{get:el.inputmask.__valueGet,set:el.inputmask.__valueSet}):document.__lookupGetter__&&el.__lookupGetter__("value")&&el.inputmask.__valueGet&&(el.__defineGetter__("value",el.inputmask.__valueGet),el.__defineSetter__("value",el.inputmask.__valueSet)),el.inputmask=void 0;break;case"getmetadata":if($.isArray(maskset.metadata)){for(var alternation,lvp=getLastValidPosition(),firstAlt=lvp;firstAlt>=0;firstAlt--)if(getMaskSet().validPositions[firstAlt]&&void 0!==getMaskSet().validPositions[firstAlt].alternation){alternation=getMaskSet().validPositions[firstAlt].alternation;break}return void 0!==alternation?maskset.metadata[getMaskSet().validPositions[lvp].locator[alternation]]:maskset.metadata[0]}return maskset.metadata}}Inputmask.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:function(pastedValue,opts){return $.isFunction(opts.onBeforeMask)?opts.onBeforeMask(pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:[],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z--]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z--]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:$.noop,postValidation:null},masksCache:{},mask:function(elems){var that=this;return"string"==typeof elems&&(elems=document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){var scopedOpts=$.extend(!0,{},that.opts);importAttributeOptions(el,scopedOpts,$.extend(!0,{},that.userOptions));var maskset=generateMaskSet(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&el.inputmask.remove(),el.inputmask=new Inputmask,el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=$.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.maskset=maskset,el.inputmask.isRTL=!1,$.data(el,"_inputmask_opts",scopedOpts),maskScope({action:"mask",el:el}))}),elems?elems[0].inputmask||this:this},option:function(options){return"string"==typeof options?this.opts[options]:"object"==typeof options?($.extend(this.opts,options),$.extend(this.userOptions,options),this.el&&(void 0!==options.mask||void 0!==options.alias?this.mask(this.el):($.data(this.el,"_inputmask_opts",this.opts),maskScope({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(value){return maskScope({action:"unmaskedvalue",el:this.el,value:value},this.el&&this.el.inputmask?this.el.inputmask.maskset:generateMaskSet(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(maskScope({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return maskScope({action:"getemptymask"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return maskScope({action:"isComplete",el:this.el},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return maskScope({action:"getmetadata"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},isValid:function(value){return maskScope({action:"isValid",value:value},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},format:function(value,metadata){return maskScope({action:"format",value:value,metadata:metadata},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)}},Inputmask.extendDefaults=function(options){$.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){$.extend(!0,Inputmask.prototype.defaults.definitions,definition)},Inputmask.extendAliases=function(alias){$.extend(!0,Inputmask.prototype.defaults.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){$.each(elems,function(ndx,el){el.inputmask&&el.inputmask.remove()})},Inputmask.escapeRegex=function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var ua=navigator.userAgent,iphone=null!==ua.match(new RegExp("iphone","i")),android=null!==ua.match(new RegExp("android.*safari.*","i")),androidchrome=null!==ua.match(new RegExp("android.*chrome.*","i")),androidfirefox=null!==ua.match(new RegExp("android.*firefox.*","i")),kindle=/Kindle/i.test(ua)||/Silk/i.test(ua)||/KFTT/i.test(ua)||/KFOT/i.test(ua)||/KFJWA/i.test(ua)||/KFJWI/i.test(ua)||/KFSOWI/i.test(ua)||/KFTHWA/i.test(ua)||/KFTHWI/i.test(ua)||/KFAPWA/i.test(ua)||/KFAPWI/i.test(ua),PasteEventType=isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange";return window.Inputmask=Inputmask,Inputmask}(jQuery),function($,Inputmask){return void 0===$.fn.inputmask&&($.fn.inputmask=function(fn,options){var nptmask,input;if(options=options||{},"string"==typeof fn)switch(fn){case"mask":return nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)});case"unmaskedvalue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.unmaskedvalue():$(input).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getemptymask():"";case"hasMaskedValue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.hasMaskedValue():!1;case"isComplete":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.isComplete():!0;case"getmetadata":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getmetadata():void 0;case"setvalue":input=this.jquery&&this.length>0?this[0]:this,$(input).val(options),void 0!==input.inputmask&&$(input).triggerHandler("setvalue.inputmask");break;case"option":if("string"!=typeof options)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(options):void 0});if(input=this.jquery&&this.length>0?this[0]:this,void 0!==input.inputmask)return input.inputmask.option(options);break;default:return options.alias=fn,nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)})}else{if("object"==typeof fn)return nptmask=new Inputmask(fn),this.each(void 0===fn.mask&&void 0===fn.alias?function(){return void 0!==this.inputmask?this.inputmask.option(fn):void nptmask.mask(this)}:function(){nptmask.mask(this)});if(void 0===fn)return this.each(function(){nptmask=new Inputmask(options),nptmask.mask(this)})}}),$.fn.inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),Inputmask.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+escapedSeparator+"[01])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9])"+escapedSeparator+"(0[1-9]|1[012]))|(30"+escapedSeparator+"(0[13-9]|1[012]))|(31"+escapedSeparator+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(chrs,minyear,maxyear){if(isNaN(chrs))return!1;var enteredyear=parseInt(chrs.concat(minyear.toString().slice(chrs.length))),enteredyear2=parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));return(isNaN(enteredyear)?!1:enteredyear>=minyear&&maxyear>=enteredyear)||(isNaN(enteredyear2)?!1:enteredyear2>=minyear&&maxyear>=enteredyear2)},determinebaseyear:function(minyear,maxyear,hint){var currentyear=(new Date).getFullYear();if(minyear>currentyear)return minyear;if(currentyear>maxyear){for(var maxYearPrefix=maxyear.toString().slice(0,2),maxYearPostfix=maxyear.toString().slice(2,4);maxYearPrefix+hint>maxyear;)maxYearPrefix--;var maxxYear=maxYearPrefix+maxYearPostfix;return minyear>maxxYear?minyear:maxxYear}return currentyear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getDate().toString()+(today.getMonth()+1).toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}},getFrontValue:function(mask,buffer,opts){for(var start=0,length=0,i=0;i<mask.length&&"2"!==mask.charAt(i);i++){var definition=opts.definitions[mask.charAt(i)];definition?(start+=length,length=definition.cardinality):length++}return buffer.join("").substr(start,length)},definitions:{1:{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.val1.test(chrs);return strict||isValid||chrs.charAt(1)!==opts.separator&&-1==="-./".indexOf(chrs.charAt(1))||!(isValid=opts.regex.val1.test("0"+chrs.charAt(0)))?isValid:(maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)})},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var pchrs=chrs;isNaN(maskset.buffer[pos+1])||(pchrs+=maskset.buffer[pos+1]);var isValid=1===pchrs.length?opts.regex.val1pre.test(pchrs):opts.regex.val1.test(pchrs);if(!strict&&!isValid){if(isValid=opts.regex.val1.test(chrs+"0"))return maskset.buffer[pos]=chrs,maskset.buffer[++pos]="0",{pos:pos,c:"0"};if(isValid=opts.regex.val1.test("0"+chrs))return maskset.buffer[pos]="0",pos++,{pos:pos}}return isValid},cardinality:1}]},2:{validator:function(chrs,maskset,pos,strict,opts){var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=opts.regex.val2(opts.separator).test(frontValue+chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.separator||-1!=="-./".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)};if(opts.mask.indexOf("2")===opts.mask.length-1&&isValid){var dayMonthValue=maskset.buffer.join("").substr(4,4)+chrs;if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(maskset.buffer.join("").substr(0,4),10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){isNaN(maskset.buffer[pos+1])||(chrs+=maskset.buffer[pos+1]);var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=1===chrs.length?opts.regex.val2pre(opts.separator).test(frontValue+chrs):opts.regex.val2(opts.separator).test(frontValue+chrs);return strict||isValid||!(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},y:{validator:function(chrs,maskset,pos,strict,opts){if(opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(chrs,10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,1);if(isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,2),isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos}}return isValid},cardinality:1},{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2);if(isValid=opts.isInYearRange(chrs[0]+yearPrefix[1]+chrs[1],opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2),opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)isValid=!0;else{var year=parseInt(chrs,10);isValid=year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}}else isValid=!1;if(isValid)return maskset.buffer[pos-1]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),maskset.buffer[pos++]=chrs.charAt(0),{refreshFromBuffer:{start:pos-3,end:pos},pos:pos}}return isValid},cardinality:2},{validator:function(chrs,maskset,pos,strict,opts){return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getFullYear().toString()+(today.getMonth()+1).toString()+today.getDate().toString()),$input.trigger("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"
},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(chrs,maskset,pos,strict,opts){if("24"===opts.hourFormat&&24===parseInt(chrs,10))return maskset.buffer[pos-1]="0",maskset.buffer[pos]="0",{refreshFromBuffer:{start:pos-1,end:pos},c:"0"};var isValid=opts.regex.hrs.test(chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.timeseparator||-1!=="-.:".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.hrs.test("0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",maskset.buffer[pos]=chrs.charAt(0),pos++,{refreshFromBuffer:{start:pos-2,end:pos},pos:pos,c:opts.timeseparator};if(isValid&&"24"!==opts.hourFormat&&opts.regex.hrs24.test(chrs)){var tmp=parseInt(chrs,10);return 24===tmp?(maskset.buffer[pos+5]="a",maskset.buffer[pos+6]="m"):(maskset.buffer[pos+5]="p",maskset.buffer[pos+6]="m"),tmp-=12,10>tmp?(maskset.buffer[pos]=tmp.toString(),maskset.buffer[pos-1]="0"):(maskset.buffer[pos]=tmp.toString().charAt(1),maskset.buffer[pos-1]=tmp.toString().charAt(0)),{refreshFromBuffer:{start:pos-1,end:pos+6},c:maskset.buffer[pos]}}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.hrspre.test(chrs);return strict||isValid||!(isValid=opts.regex.hrs.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.mspre.test(chrs);return strict||isValid||!(isValid=opts.regex.ms.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},t:{validator:function(chrs,maskset,pos,strict,opts){return opts.regex.ampm.test(chrs+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"[0-3])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+escapedSeparator+"30)|((0[1-6])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({A:{validator:"[A-Za-z--]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z--]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),Inputmask.extendAliases({url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return!0},cardinality:8,prevalidator:function(){for(var result=[],prefixLimit=8,i=0;prefixLimit>i;i++)result[i]=function(){var j=i;return{validator:function(chrs,maskset,pos,strict,opts){if(opts.regex["urlpre"+(j+1)]){var k,tmp=chrs;j+1-chrs.length>0&&(tmp=maskset.buffer.join("").substring(0,j+1-chrs.length)+""+tmp);var isValid=opts.regex["urlpre"+(j+1)].test(tmp);if(!strict&&!isValid){for(pos-=j,k=0;k<opts.defaultPrefix.length;k++)maskset.buffer[pos]=opts.defaultPrefix[k],pos++;for(k=0;k<tmp.length-1;k++)maskset.buffer[pos]=tmp[k],pos++;return{pos:pos}}return isValid}return!1},cardinality:j}}();return result}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return pos-1>-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,chrs=pos-2>-1&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):chrs="00"+chrs,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs)},cardinality:1}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},mac:{mask:"##:##:##:##:##:##"}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({numeric:{mask:function(opts){function autoEscape(txt){for(var escapedTxt="",i=0;i<txt.length;i++)escapedTxt+=opts.definitions[txt.charAt(i)]?"\\"+txt.charAt(i):txt.charAt(i);return escapedTxt}if(0!==opts.repeat&&isNaN(opts.integerDigits)&&(opts.integerDigits=opts.repeat),opts.repeat=0,opts.groupSeparator===opts.radixPoint&&(opts.groupSeparator="."===opts.radixPoint?",":","===opts.radixPoint?".":"")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),opts.autoGroup=opts.autoGroup&&""!==opts.groupSeparator,opts.autoGroup&&("string"==typeof opts.groupSize&&isFinite(opts.groupSize)&&(opts.groupSize=parseInt(opts.groupSize)),isFinite(opts.integerDigits))){var seps=Math.floor(opts.integerDigits/opts.groupSize),mod=opts.integerDigits%opts.groupSize;opts.integerDigits=parseInt(opts.integerDigits)+(0===mod?seps-1:seps),opts.integerDigits<1&&(opts.integerDigits="*")}opts.placeholder.length>1&&(opts.placeholder=opts.placeholder.charAt(0)),opts.radixFocus=opts.radixFocus&&""!==opts.placeholder&&opts.integerOptional===!0,opts.definitions[";"]=opts.definitions["~"],opts.definitions[";"].definitionSymbol="~",opts.numericInput===!0&&(opts.radixFocus=!1,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts.decimalProtect=!1);var mask=autoEscape(opts.prefix);return mask+="[+]",mask+=opts.integerOptional===!0?"~{1,"+opts.integerDigits+"}":"~{"+opts.integerDigits+"}",void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0)&&(mask+=opts.digitsOptional?"["+(opts.decimalProtect?":":opts.radixPoint)+";{1,"+opts.digits+"}]":(opts.decimalProtect?":":opts.radixPoint)+";{"+opts.digits+"}"),""!==opts.negationSymbol.back&&(mask+="[-]"),mask+=autoEscape(opts.suffix),opts.greedy=!1,mask},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(buffer,pos,reformatOnly,opts){opts.numericInput===!0&&(buffer=buffer.reverse(),isFinite(pos)&&(pos=buffer.join("").length-pos-1));var i,l,suffixStripped=!1;buffer.length>=opts.suffix.length&&buffer.join("").indexOf(opts.suffix)===buffer.length-opts.suffix.length&&(buffer.length=buffer.length-opts.suffix.length,suffixStripped=!0),pos=pos>=buffer.length?buffer.length-1:pos<opts.prefix.length?opts.prefix.length:pos;var needsRefresh=!1,charAtPos=buffer[pos];if(""===opts.groupSeparator||opts.numericInput!==!0&&-1!==$.inArray(opts.radixPoint,buffer)&&pos>$.inArray(opts.radixPoint,buffer)||new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]").test(charAtPos)){if(suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return{pos:pos}}var cbuf=buffer.slice();charAtPos===opts.groupSeparator&&(cbuf.splice(pos--,1),charAtPos=cbuf[pos]),reformatOnly?charAtPos!==opts.radixPoint&&(cbuf[pos]="?"):cbuf.splice(pos,0,"?");var bufVal=cbuf.join(""),bufValOrigin=bufVal;if(bufVal.length>0&&opts.autoGroup||reformatOnly&&-1!==bufVal.indexOf(opts.groupSeparator)){var escapedGroupSeparator=Inputmask.escapeRegex(opts.groupSeparator);needsRefresh=0===bufVal.indexOf(opts.groupSeparator),bufVal=bufVal.replace(new RegExp(escapedGroupSeparator,"g"),"");var radixSplit=bufVal.split(opts.radixPoint);if(bufVal=""===opts.radixPoint?bufVal:radixSplit[0],bufVal!==opts.prefix+"?0"&&bufVal.length>=opts.groupSize+opts.prefix.length)for(var reg=new RegExp("([-+]?[\\d?]+)([\\d?]{"+opts.groupSize+"})");reg.test(bufVal);)bufVal=bufVal.replace(reg,"$1"+opts.groupSeparator+"$2"),bufVal=bufVal.replace(opts.groupSeparator+opts.groupSeparator,opts.groupSeparator);""!==opts.radixPoint&&radixSplit.length>1&&(bufVal+=opts.radixPoint+radixSplit[1])}for(needsRefresh=bufValOrigin!==bufVal,buffer.length=bufVal.length,i=0,l=bufVal.length;l>i;i++)buffer[i]=bufVal.charAt(i);var newPos=$.inArray("?",buffer);if(-1===newPos&&charAtPos===opts.radixPoint&&(newPos=$.inArray(opts.radixPoint,buffer)),reformatOnly?buffer[newPos]=charAtPos:buffer.splice(newPos,1),!needsRefresh&&suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return newPos=opts.numericInput&&isFinite(pos)?buffer.join("").length-newPos-1:newPos,opts.numericInput&&(buffer=buffer.reverse(),$.inArray(opts.radixPoint,buffer)<newPos&&buffer.join("").length-opts.suffix.length!==newPos&&(newPos-=1)),{pos:newPos,refreshFromBuffer:needsRefresh,buffer:buffer}},onBeforeWrite:function(e,buffer,caretPos,opts){if(e&&("blur"===e.type||"checkval"===e.type)){var maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");if(processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)&&isFinite(opts.min)&&parseFloat(processValue)<parseFloat(opts.min))return $.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts));if(opts.numericInput!==!0){var tmpBufSplit=""!==opts.radixPoint?buffer.join("").split(opts.radixPoint):[buffer.join("")],matchRslt=tmpBufSplit[0].match(opts.regex.integerPart(opts)),matchRsltDigits=2===tmpBufSplit.length?tmpBufSplit[1].match(opts.regex.integerNPart(opts)):void 0;if(matchRslt){matchRslt[0]!==opts.negationSymbol.front+"0"&&matchRslt[0]!==opts.negationSymbol.front&&"+"!==matchRslt[0]||void 0!==matchRsltDigits&&!matchRsltDigits[0].match(/^0+$/)||buffer.splice(matchRslt.index,1);var radixPosition=$.inArray(opts.radixPoint,buffer);if(-1!==radixPosition){if(isFinite(opts.digits)&&!opts.digitsOptional){for(var i=1;i<=opts.digits;i++)(void 0===buffer[radixPosition+i]||buffer[radixPosition+i]===opts.placeholder.charAt(0))&&(buffer[radixPosition+i]="0");return{refreshFromBuffer:maskedValue!==buffer.join(""),buffer:buffer}}if(radixPosition===buffer.length-opts.suffix.length-1)return buffer.splice(radixPosition,1),{refreshFromBuffer:!0,buffer:buffer}}}}}if(opts.autoGroup){var rslt=opts.postFormat(buffer,opts.numericInput?caretPos:caretPos-1,!0,opts);return rslt.caret=caretPos<=opts.prefix.length?rslt.pos:rslt.pos+1,rslt}},regex:{integerPart:function(opts){return new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]?\\d+")},integerNPart:function(opts){return new RegExp("[\\d"+Inputmask.escapeRegex(opts.groupSeparator)+"]+")}},signHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs){var matchRslt=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(matchRslt&&matchRslt[0].length>0)return maskset.buffer[matchRslt.index]===("-"===chrs?"+":opts.negationSymbol.front)?"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos,insert:{pos:maskset.buffer.length-opts.suffix.length-1,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos}:""!==opts.negationSymbol.back?{pos:matchRslt.index,c:"+",remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos}:{pos:matchRslt.index,c:"+",remove:matchRslt.index,caret:pos}:maskset.buffer[matchRslt.index]===("-"===chrs?opts.negationSymbol.front:"+")?"-"===chrs&&""!==opts.negationSymbol.back?{remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos-1}:{remove:matchRslt.index,caret:pos-1}:"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1,insert:{pos:maskset.buffer.length-opts.suffix.length,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1}:{pos:matchRslt.index,c:chrs,caret:pos+1}}return!1},radixHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&(-1!==$.inArray(chrs,[",","."])&&(chrs=opts.radixPoint),chrs===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0))){var radixPos=$.inArray(opts.radixPoint,maskset.buffer),integerValue=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(-1!==radixPos&&maskset.validPositions[radixPos])return maskset.validPositions[radixPos-1]?{caret:radixPos+1}:{pos:integerValue.index,c:integerValue[0],caret:radixPos+1};if(!integerValue||"0"===integerValue[0]&&integerValue.index+1!==pos)return maskset.buffer[integerValue?integerValue.index:pos]="0",{pos:(integerValue?integerValue.index:pos)+1,c:opts.radixPoint}}return!1},leadingZeroHandler:function(chrs,maskset,pos,strict,opts){if(opts.numericInput===!0){if("0"===maskset.buffer[maskset.buffer.length-opts.prefix.length-1])return{pos:pos,remove:maskset.buffer.length-opts.prefix.length-1}}else{var matchRslt=maskset.buffer.join("").match(opts.regex.integerNPart(opts)),radixPosition=$.inArray(opts.radixPoint,maskset.buffer);if(matchRslt&&!strict&&(-1===radixPosition||radixPosition>=pos))if(0===matchRslt[0].indexOf("0")){pos<opts.prefix.length&&(pos=matchRslt.index);var _radixPosition=$.inArray(opts.radixPoint,maskset._buffer),digitsMatch=maskset._buffer&&maskset.buffer.slice(radixPosition).join("")===maskset._buffer.slice(_radixPosition).join("")||0===parseInt(maskset.buffer.slice(radixPosition+1).join("")),integerMatch=maskset._buffer&&maskset.buffer.slice(matchRslt.index,radixPosition).join("")===maskset._buffer.slice(opts.prefix.length,_radixPosition).join("")||"0"===maskset.buffer.slice(matchRslt.index,radixPosition).join("");if(-1===radixPosition||digitsMatch&&integerMatch)return maskset.buffer.splice(matchRslt.index,1),pos=pos>matchRslt.index?pos-1:matchRslt.index,{pos:pos,remove:matchRslt.index};if(matchRslt.index+1===pos||"0"===chrs)return maskset.buffer.splice(matchRslt.index,1),pos=matchRslt.index,{pos:pos,remove:matchRslt.index}}else if("0"===chrs&&pos<=matchRslt.index&&matchRslt[0]!==opts.groupSeparator)return!1}return!0},postValidation:function(buffer,opts){var isValid=!0,maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+Inputmask.escapeRegex(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back)+"$"),""),processValue=processValue===opts.negationSymbol.front?processValue+"0":processValue,isFinite(processValue)&&(null!==opts.max&&isFinite(opts.max)&&(isValid=parseFloat(processValue)<=parseFloat(opts.max)),isValid&&null!==opts.min&&isFinite(opts.min)&&(0>=processValue||processValue.toString().length>=opts.min.toString().length)&&(isValid=parseFloat(processValue)>=parseFloat(opts.min),isValid||(isValid=$.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts)),isValid.refreshFromBuffer=!0))),isValid},definitions:{"~":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid&&(isValid=opts.radixHandler(chrs,maskset,pos,strict,opts),!isValid&&(isValid=strict?new RegExp("[0-9"+Inputmask.escapeRegex(opts.groupSeparator)+"]").test(chrs):new RegExp("[0-9]").test(chrs),isValid===!0&&(isValid=opts.leadingZeroHandler(chrs,maskset,pos,strict,opts),isValid===!0)))){var radixPosition=$.inArray(opts.radixPoint,maskset.buffer);isValid=-1!==radixPosition&&opts.digitsOptional===!1&&opts.numericInput!==!0&&pos>radixPosition&&!strict?{pos:pos,remove:pos}:{pos:pos}}return isValid},cardinality:1,prevalidator:null},"+":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&(strict&&opts.allowMinus&&chrs===opts.negationSymbol.front||opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs)&&(isValid="-"===chrs?""!==opts.negationSymbol.back?{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1,insert:{pos:maskset.buffer.length,c:opts.negationSymbol.back}}:{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1}:!0),isValid},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&strict&&opts.allowMinus&&chrs===opts.negationSymbol.back&&(isValid=!0),isValid},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid){var radix="["+Inputmask.escapeRegex(opts.radixPoint)+",\\.]";isValid=new RegExp(radix).test(chrs),isValid&&maskset.validPositions[pos]&&maskset.validPositions[pos].match.placeholder===opts.radixPoint&&(isValid={caret:pos+1})}return isValid?{c:opts.radixPoint}:isValid},cardinality:1,prevalidator:null,placeholder:function(opts){return opts.radixPoint}}},onUnMask:function(maskedValue,unmaskedValue,opts){var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(Inputmask.escapeRegex.call(this,opts.radixPoint),".")),Number(processValue)):processValue},isComplete:function(buffer,opts){var maskedValue=buffer.join(""),bufClone=buffer.slice();if(opts.postFormat(bufClone,0,!0,opts),bufClone.join("")!==maskedValue)return!1;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)},onBeforeMask:function(initialValue,opts){if(""!==opts.radixPoint&&isFinite(initialValue))initialValue=initialValue.toString().replace(".",opts.radixPoint);else{var kommaMatches=initialValue.match(/,/g),dotMatches=initialValue.match(/\./g);dotMatches&&kommaMatches?dotMatches.length>kommaMatches.length?(initialValue=initialValue.replace(/\./g,""),initialValue=initialValue.replace(",",opts.radixPoint)):kommaMatches.length>dotMatches.length?(initialValue=initialValue.replace(/,/g,""),initialValue=initialValue.replace(".",opts.radixPoint)):initialValue=initialValue.indexOf(".")<initialValue.indexOf(",")?initialValue.replace(/\./g,""):initialValue=initialValue.replace(/,/g,""):initialValue=initialValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")}if(0===opts.digits&&(-1!==initialValue.indexOf(".")?initialValue=initialValue.substring(0,initialValue.indexOf(".")):-1!==initialValue.indexOf(",")&&(initialValue=initialValue.substring(0,initialValue.indexOf(",")))),""!==opts.radixPoint&&isFinite(opts.digits)&&-1!==initialValue.indexOf(opts.radixPoint)){var valueParts=initialValue.split(opts.radixPoint),decPart=valueParts[1].match(new RegExp("\\d*"))[0];if(parseInt(opts.digits)<decPart.toString().length){var digitsFactor=Math.pow(10,parseInt(opts.digits));initialValue=initialValue.replace(Inputmask.escapeRegex(opts.radixPoint),"."),initialValue=Math.round(parseFloat(initialValue)*digitsFactor)/digitsFactor,initialValue=initialValue.toString().replace(".",opts.radixPoint)}}return initialValue.toString()},canClearPosition:function(maskset,position,lvp,strict,opts){var positionInput=maskset.validPositions[position].input,canClear=positionInput!==opts.radixPoint||null!==maskset.validPositions[position].match.fn&&opts.decimalProtect===!1||isFinite(positionInput)||position===lvp||positionInput===opts.groupSeparator||positionInput===opts.negationSymbol.front||positionInput===opts.negationSymbol.back;if(canClear&&isFinite(positionInput)){var matchRslt,radixPos=$.inArray(opts.radixPoint,maskset.buffer),radixInjection=!1;if(void 0===maskset.validPositions[radixPos]&&(maskset.validPositions[radixPos]={input:opts.radixPoint},radixInjection=!0),!strict&&maskset.buffer){matchRslt=maskset.buffer.join("").substr(0,position).match(opts.regex.integerNPart(opts));var pos=position+1,isNull=null==matchRslt||0===parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""));if(isNull)for(;maskset.validPositions[pos]&&(maskset.validPositions[pos].input===opts.groupSeparator||"0"===maskset.validPositions[pos].input);)delete maskset.validPositions[pos],pos++}var buffer=[];for(var vp in maskset.validPositions)void 0!==maskset.validPositions[vp].input&&buffer.push(maskset.validPositions[vp].input);if(radixInjection&&delete maskset.validPositions[radixPos],radixPos>0){var bufVal=buffer.join("");if(matchRslt=bufVal.match(opts.regex.integerNPart(opts)))if(radixPos>=position)if(0===matchRslt[0].indexOf("0"))canClear=matchRslt.index!==position||"0"===opts.placeholder;else{var intPart=parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")),radixPart=parseInt(bufVal.split(opts.radixPoint)[1]);10>intPart&&maskset.validPositions[position]&&("0"!==opts.placeholder||radixPart>0)&&(maskset.validPositions[position].input="0",maskset.p=opts.prefix.length+1,canClear=!1)}else 0===matchRslt[0].indexOf("0")&&3===bufVal.length&&(maskset.validPositions={},canClear=!1)}}return canClear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey)switch(e.keyCode){case Inputmask.keyCode.UP:$input.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue.inputmask");break;case Inputmask.keyCode.DOWN:$input.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue.inputmask")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(opts){opts.definitions["#"]=opts.definitions[9];var maskList=[];return $.ajax({url:opts.url,async:!1,dataType:"json",success:function(response){maskList=response},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+" - "+opts.url)}}),maskList=maskList.sort(function(a,b){return(a.mask||a)<(b.mask||b)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(value,opts){var processedValue=value.replace(/^0/g,"");return(processedValue.indexOf(opts.countrycode)>1||-1===processedValue.indexOf(opts.countrycode))&&(processedValue="+"+opts.countrycode+processedValue),processedValue}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(buffer,opts){return new RegExp(opts.regex).test(buffer.join(""))},definitions:{r:{validator:function(chrs,maskset,pos,strict,opts){function RegexToken(isGroup,isQuantifier){this.matches=[],this.isGroup=isGroup||!1,this.isQuantifier=isQuantifier||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function analyseRegex(){var match,m,currentToken=new RegexToken,opengroups=[];for(opts.regexTokens=[];match=opts.tokenizer.exec(opts.regex);)switch(m=match[0],m.charAt(0)){case"(":opengroups.push(new RegexToken(!0));break;case")":groupToken=opengroups.pop(),opengroups.length>0?opengroups[opengroups.length-1].matches.push(groupToken):currentToken.matches.push(groupToken);break;case"{":case"+":case"*":var quantifierToken=new RegexToken(!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(quantifierToken.quantifier={min:mq0,max:mq1},opengroups.length>0){var matches=opengroups[opengroups.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifierToken)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifierToken);break;default:opengroups.length>0?opengroups[opengroups.length-1].matches.push(m):currentToken.matches.push(m)}currentToken.matches.length>0&&opts.regexTokens.push(currentToken)}function validateRegexToken(token,fromGroup){var isvalid=!1;fromGroup&&(regexPart+="(",openGroupCount++);for(var mndx=0;mndx<token.matches.length;mndx++){var matchToken=token.matches[mndx];if(matchToken.isGroup===!0)isvalid=validateRegexToken(matchToken,!0);else if(matchToken.isQuantifier===!0){var crrntndx=$.inArray(matchToken,token.matches),matchGroup=token.matches[crrntndx-1],regexPartBak=regexPart;if(isNaN(matchToken.quantifier.max)){for(;matchToken.repeaterPart&&matchToken.repeaterPart!==regexPart&&matchToken.repeaterPart.length>regexPart.length&&!(isvalid=validateRegexToken(matchGroup,!0)););isvalid=isvalid||validateRegexToken(matchGroup,!0),isvalid&&(matchToken.repeaterPart=regexPart),regexPart=regexPartBak+matchToken.quantifier.max}else{for(var i=0,qm=matchToken.quantifier.max-1;qm>i&&!(isvalid=validateRegexToken(matchGroup,!0));i++);regexPart=regexPartBak+"{"+matchToken.quantifier.min+","+matchToken.quantifier.max+"}"}}else if(void 0!==matchToken.matches)for(var k=0;k<matchToken.length&&!(isvalid=validateRegexToken(matchToken[k],fromGroup));k++);else{var testExp;if("["==matchToken.charAt(0)){testExp=regexPart,testExp+=matchToken;for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr)}else for(var l=0,tl=matchToken.length;tl>l;l++)if("\\"!==matchToken.charAt(l)){testExp=regexPart,testExp+=matchToken.substr(0,l+1),testExp=testExp.replace(/\|$/,"");for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");if(isvalid=exp.test(bufferStr))break}regexPart+=matchToken}if(isvalid)break}return fromGroup&&(regexPart+=")",openGroupCount--),isvalid}var groupToken,cbuffer=maskset.buffer.slice(),regexPart="",isValid=!1,openGroupCount=0;null===opts.regexTokens&&analyseRegex(),cbuffer.splice(pos,0,chrs);for(var bufferStr=cbuffer.join(""),i=0;i<opts.regexTokens.length;i++){var regexToken=opts.regexTokens[i];if(isValid=validateRegexToken(regexToken,regexToken.isGroup))break}return isValid},cardinality:1}}}}),Inputmask}(jQuery,Inputmask),function(){"use strict";var app=angular.module("app",["ngResource","ui.router","ngCookies","ui.mask","ui.bootstrap","isteven-multi-select","ngInputModified","ui.validate","cgBusy","angular.filter","xeditable","checklist-model","ngFileUpload","STNResource","ui.bootstrap.datetimepicker","leaflet-directive","ngHandsontable","STNControllers","LogInOutController","ModalControllers","SettingsControllers","WiM.Services","WiM.Event","wim_angular","angularSpinners"]);app.constant("SERVER_URL","https://stn.wim.usgs.gov/STNServices"),app.constant("ENVIRONMENT","Production"),app.run(["$rootScope","$uibModalStack","$cookies","$state","ENVIRONMENT",function($rootScope,$uibModalStack,$cookies,$state,ENVIRONMENT){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){void 0!==$cookies.get("STNCreds")&&""!==$cookies.get("STNCreds")||!toState.authenticate?($rootScope.stateIsLoading={showLoading:!0},$uibModalStack.dismissAll(),"/"==toState.url&&$("#userNameFocus").focus()):($rootScope.returnToState=toState.name,$rootScope.returnToStateParams=toParams.id,event.preventDefault(),$state.go("entry")),$rootScope.environment=ENVIRONMENT}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1,alert("Error occurred: Status"+error.status+", "+error.statusText+". The following request was unsuccessful: "+error.config.url+" Please refresh and try again.")})}]),app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("entry",{url:"/",templateUrl:"component/main/mainView.html",controller:"mainCtrl"}).state("map",{url:"/Map",views:{"":{controller:"MapController",templateUrl:"component/map/map.html"},"mapFilters@map":{templateUrl:"component/map/mapFilters.html",controller:"MapFiltersController",resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){
return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise}}},"mapSiteInfo@map":{templateUrl:"component/site/mapSiteInfoView.html",controller:"MapSiteInfoController"},"mapPeaksView@map":{templateUrl:"component/peak/mapPeaksView.html",controller:"MapPeaksController"},"mapSensorPropose@map":{templateUrl:"component/sensor/mapSensorPropose.html",resolve:{dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},sd:"SENSOR_TYPE",allSensDeps:function(sd){return sd.getAll().$promise}},controller:"MapSensorProposeController"}}}).state("approval",{url:"/Approval",templateUrl:"component/approval/approval.html",controller:"approvalCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},i:"INSTRUMENT",instrumentList:function(i){return i.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDepTypes:function(dt){return dt.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise}}}).state("siteSearch",{url:"/SiteSearch",templateUrl:"component/siteSearch/siteSearch.html",controller:"siteSearchCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise}}}).state("reporting",{url:"/Reporting","abstract":!0,templateUrl:"component/reporting/reporting.html",controller:"reportingCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},state:"STATE",allStates:function(state){return state.getAll().$promise},r:"REPORT",allReports:function(r){return r.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStatus:function(es){return es.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){return ag.getAll().$promise},memberReports:function(r,$cookies){var mID=$cookies.get("mID");return r.getMemberReports({memberId:mID}).$promise}}}).state("reporting.reportDash",{url:"/Dashboard",templateUrl:"component/reporting/reportingDashboard.html",controller:"reportingDashCtrl",authenticate:!0,resolve:{r:"REPORT",allReportsAgain:function(r){return r.getAll().$promise}}}).state("reporting.submitReport",{url:"/SubmitReport",templateUrl:"component/reporting/submitReport.html",controller:"submitReportCtrl",authenticate:!0}).state("reporting.generateReport",{url:"/GenerateReport",templateUrl:"component/reporting/generateReport.html",authenticate:!0}).state("settings",{url:"/Settings",templateUrl:"component/settings/settings.html",controller:"settingsCtrl",authenticate:!0}).state("members",{url:"/Members",params:{id:null},"abstract":!0,template:"<div ui-view></div>",controller:"memberCtrl",authenticate:!0,resolve:{r:"ROLE",allRoles:function(r){return r.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise},userProfileId:function($stateParams){return void 0!==$stateParams.id?$stateParams.id:void 0}}}).state("members.MembersList",{url:"/MembersList",templateUrl:"component/member/membersList.html",authenticate:!0}).state("events",{url:"/Events","abstract":!0,template:"<div ui-view></div>",controller:"eventCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},m:"MEMBER",allCoordMembers:function(m,$http,$cookies){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",m.getRoleMembers({roleId:1}).$promise}}}).state("events.EventsList",{url:"/EventsList",templateUrl:"component/event/eventsList.html",authenticate:!0}).state("events.EventInfo",{url:"/eventInfo/:id",templateUrl:"component/event/eventInfo.html",controller:"eventInfoCtrl",authenticate:!0,resolve:{e:"EVENT",thisEvent:function(e,$stateParams){var eventId=$stateParams.id;return eventId>0?e.query({id:eventId}).$promise:void 0}}}).state("resources",{url:"/Resources","abstract":!0,template:"<div ui-view></div>",controller:"resourcesCtrl",authenticate:!0,resolve:{state:"STATE",allStates:function(state){return state.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){return ag.getAll().$promise},c:"CONTACT_TYPE",allContactTypes:function(c){return c.getAll().$promise},d:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(d){return d.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},ht:"HOUSING_TYPE",allHouseTypes:function(ht){return ht.getAll().$promise},hq:"HWM_QUALITY",allHWMqualities:function(hq){return hq.getAll().$promise},hwmT:"HWM_TYPE",allHWMtypes:function(hwmT){return hwmT.getAll().$promise},icc:"INST_COLL_CONDITION",allInstCollectConditions:function(icc){return icc.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},opq:"OP_QUALITY",allObjPtQualities:function(opq){return opq.getAll().$promise},opt:"OP_TYPE",allObjPtTypes:function(opt){return opt.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeploymentTypes:function(dt){return dt.getAll().$promise},sstat:"STATUS_TYPE",allStatusTypes:function(sstat){return sstat.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",allVerticalCollMethods:function(vcm){return vcm.getAll().$promise},vd:"VERTICAL_DATUM",allVerticalDatums:function(vd){return vd.getAll().$promise}}}).state("resources.ResourcesList",{url:"/ResourcesList",templateUrl:"component/resources/resourcesList.html",authenticate:!0}).state("resources.ResourcesList.agency",{url:"/Agencies",templateUrl:"component/resources/agency.html",authenticate:!0}).state("resources.ResourcesList.ContactType",{url:"/ContactTypes",templateUrl:"component/resources/contactType.html",authenticate:!0}).state("resources.ResourcesList.DepPriority",{url:"/DeploymentPriorities",templateUrl:"component/resources/deploymentPriority.html",authenticate:!0}).state("resources.ResourcesList.EventStatus",{url:"/EventStatus",templateUrl:"component/resources/eventStatus.html",authenticate:!0}).state("resources.ResourcesList.EventType",{url:"/EventTypes",templateUrl:"component/resources/eventType.html",authenticate:!0}).state("resources.ResourcesList.FileType",{url:"/FileTypes",templateUrl:"component/resources/fileType.html",authenticate:!0}).state("resources.ResourcesList.HorCollMethd",{url:"/HorizontalCollMethods",templateUrl:"component/resources/horizontalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.HorDatum",{url:"/HorizontalDatums",templateUrl:"component/resources/horizontalDatum.html",authenticate:!0}).state("resources.ResourcesList.HousingType",{url:"/HousingTypes",templateUrl:"component/resources/housingType.html",authenticate:!0}).state("resources.ResourcesList.HWMQual",{url:"/HWMQualities",templateUrl:"component/resources/hwmQuality.html",authenticate:!0}).state("resources.ResourcesList.HWMType",{url:"/HWMTypes",templateUrl:"component/resources/hwmType.html",authenticate:!0}).state("resources.ResourcesList.InstrCollCondition",{url:"/InstrCollConditions",templateUrl:"component/resources/instrumentCollectionCondition.html",authenticate:!0}).state("resources.ResourcesList.Marker",{url:"/Markers",templateUrl:"component/resources/marker.html",authenticate:!0}).state("resources.ResourcesList.NetworkNames",{url:"/NetworkNames",templateUrl:"component/resources/networkNames.html",authenticate:!0}).state("resources.ResourcesList.OPquality",{url:"/ObjPointQualities",templateUrl:"component/resources/objectivePointQuality.html",authenticate:!0}).state("resources.ResourcesList.OPType",{url:"/ObjPointType",templateUrl:"component/resources/objectivePointType.html",authenticate:!0}).state("resources.ResourcesList.SensorBrand",{url:"/SensorBrands",templateUrl:"component/resources/sensorBrand.html",authenticate:!0}).state("resources.ResourcesList.SenDepType",{url:"/SensorDeploymentTypes",templateUrl:"component/resources/deploymentType.html",authenticate:!0}).state("resources.ResourcesList.StatusType",{url:"/StatusTypes",templateUrl:"component/resources/statusType.html",authenticate:!0}).state("resources.ResourcesList.SensorType",{url:"/SensorTypes",templateUrl:"component/resources/sensorType.html",authenticate:!0}).state("resources.ResourcesList.NetworkType",{url:"/NetworkTypes",templateUrl:"component/resources/networkType.html",authenticate:!0}).state("resources.ResourcesList.VertCollMethod",{url:"/VerticalCollMethods",templateUrl:"component/resources/verticalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.VertDatum",{url:"/VerticalDatums",templateUrl:"component/resources/verticalDatum.html",authenticate:!0}).state("bulkHWMAdj",{url:"/BulkHWM_adjustments",templateUrl:"component/hwm/bulkHWMAdj.html",authenticate:!0,controller:"bulkHWMAdjCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise}}}).state("bulkHWM",{url:"/HistoricHWM_Upload",templateUrl:"component/hwm/bulkHWM.html",authenticate:!0,controller:"bulkHWMCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise},m:"MARKER",markerList:function(m){return m.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},hd:"HORIZONTAL_DATUM",horizDatumList:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",horCollMethList:function(hcm){return hcm.getAll().$promise},vd:"VERTICAL_DATUM",vertDatumList:function(vd){return vd.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",vertCollMethList:function(vcm){return vcm.getAll().$promise},f:"FILE_TYPE",fileTypesList:function(f){return f.getAll().$promise},a:"AGENCY",agenciesList:function(a){return a.getAll().$promise}}}).state("site",{url:"/Site/:id","abstract":!0,params:{id:null,latitude:{value:null,squash:!0},longitude:{value:null,squash:!0}},templateUrl:"component/site/site.html",authenticate:!0,controller:["$scope","$stateParams","Site_Script","runningScript",function($scope,$stateParams,Site_Script,runningScript){$scope.siteID=$stateParams.id,Site_Script.setIsScriptRunning("0"!=$scope.siteID?runningScript.value:"false")}],resolve:{s:"SITE",runningScript:function(s,$stateParams){return $stateParams.id>0?s.sensorScriptRunning({id:$stateParams.id}).$promise:void 0},thisSite:function(s,$stateParams){return $stateParams.id>0?s.query({id:$stateParams.id}).$promise:void 0},latlong:function($stateParams){if($stateParams.latitude){var latlongarray=[$stateParams.latitude,$stateParams.longitude];return latlongarray}},thisSiteNetworkNames:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkNames({id:$stateParams.id}).$promise:void 0},thisSiteNetworkTypes:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkTypes({id:$stateParams.id}).$promise:void 0},thisSiteHousings:function(s,$stateParams){return $stateParams.id>0?s.getSiteHousings({id:$stateParams.id}).$promise:void 0},thisSiteOPs:function(s,$stateParams){return $stateParams.id>0?s.getSiteOPs({id:$stateParams.id}).$promise:void 0},thisSiteSensors:function(s,$stateParams){return $stateParams.id>0?s.getSiteSensors({id:$stateParams.id}).$promise:void 0},thisSiteHWMs:function(s,$stateParams,$http,$cookies){return $stateParams.id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",s.getSiteHWMs({id:$stateParams.id}).$promise):void 0},thisSiteFiles:function(s,$stateParams){return $stateParams.id>0?s.getSiteFiles({id:$stateParams.id}).$promise:void 0},thisSitePeaks:function(s,$stateParams){return $stateParams.id>0?s.getSitePeaks({id:$stateParams.id}).$promise:void 0},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},dp:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(dp){return dp.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},e:"EVENT",allEvents:function(e){return e.getAll().$promise},sent:"SENSOR_TYPE",allSensorTypes:function(sent){return sent.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt){return hwmt.getAll().$promise},hq:"HWM_QUALITY",allHWMQualities:function(hq){return hq.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise}}}).state("site.dashboard",{url:"/SiteDashboard",authenticate:!0,views:{siteNo:{controller:["$scope","$cookies","thisSite",function($scope,$cookies,thisSite){void 0!==thisSite&&($scope.SiteNo=thisSite.site_no),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"})}],template:'<div><h2 style="margin-top:0">Site {{SiteNo}} - For {{sessionEvent}}</h2></div><hr />'},aMap:{controller:"siteMapCtrl",templateUrl:"component/site/siteMapView.html",resolve:{aSite:function(thisSite){return void 0!==thisSite?thisSite:void 0},dt:"DEPLOYMENT_TYPE",deploymentTypes:function(thisSite,dt){return void 0!==thisSite?dt.getAll().$promise:void 0},s:"SITE",siteHWMs:function(thisSite,s){return void 0!==thisSite?s.getSiteHWMs({id:thisSite.site_id}).$promise:void 0},i:"INSTRUMENT",baroSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"baro_view"}).$promise:void 0},metSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"met_view"}).$promise:void 0},rdgSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"rdg_view"}).$promise:void 0},stormSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"stormtide_view"}).$promise:void 0},waveSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"waveheight_view"}).$promise:void 0},presTempSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"pressuretemp_view"}).$promise:void 0},thermSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"therm_view"}).$promise:void 0},webcamSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"webcam_view"}).$promise:void 0},raingageSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"raingage_view"}).$promise:void 0}}},aSite:{controller:"siteCtrl",templateUrl:"component/site/siteInfoView.html"},op:{controller:"objectivePointCtrl",templateUrl:"component/objectivePoint/objectivePointList.html"},sensor:{controller:"sensorCtrl",templateUrl:"component/sensor/sensorList.html"},hwm:{controller:"hwmCtrl",templateUrl:"component/hwm/hwmList.html"},file:{controller:"fileCtrl",templateUrl:"component/file/fileList.html"},peak:{controller:"peakCtrl",templateUrl:"component/peak/peakList.html"}}}).state("quickCreate",{url:"/QuickCreate/:id",templateUrl:"component/site/quickCreate.html",controller:"quickCreateCtrl",authenticate:!0,resolve:{whichQuick:function($stateParams){return $stateParams.id},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt,$stateParams){return"HWM"==$stateParams.id?hwmt.getAll().$promise:void 0},hq:"HWM_QUALITY",allHWMQualities:function(hq,$stateParams){return"HWM"==$stateParams.id?hq.getAll().$promise:void 0},m:"MARKER",allMarkers:function(m,$stateParams){return"HWM"==$stateParams.id?m.getAll().$promise:void 0},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},e:"EVENT",allEvents:function(e,$stateParams){return"Sensor"==$stateParams.id?e.getAll().$promise:void 0},sent:"SENSOR_TYPE",allSensorTypes:function(sent,$stateParams){return"Sensor"==$stateParams.id?sent.getAll().$promise:void 0},sb:"SENSOR_BRAND",allSensorBrands:function(sb,$stateParams){return"Sensor"==$stateParams.id?sb.getAll().$promise:void 0},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise}}})}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudC9TVE5DdHJsLmpzIiwic2hhcmVkL2RpcmVjdGl2ZXMvU1RORGlyZWN0aXZlcy5qcyIsImNvbXBvbmVudC9zaXRlL3NpdGVNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvc2l0ZS9zaXRlTWFwQ3RybC5qcyIsImNvbXBvbmVudC9zaXRlL3NpdGVDdHJsLmpzIiwiY29tcG9uZW50L3NpdGUvcXVpY2tDcmVhdGVDdHJsLmpzIiwiY29tcG9uZW50L3NpdGVTZWFyY2gvc2l0ZVNlYXJjaEN0cmwuanMiLCJjb21wb25lbnQvc2V0dGluZ3Mvc2V0dGluZ3NDdHJsLmpzIiwiY29tcG9uZW50L3NlbnNvci9zZW5zb3JNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvc2Vuc29yL3NlbnNvckN0cmwuanMiLCJjb21wb25lbnQvcmVzb3VyY2VzL3Jlc291cmNlc0N0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3N1Ym1pdFJlcG9ydEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3JlcG9ydE1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nRGFzaGJvYXJkQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC1jNGI4YzYxMzU0LmpzIiwiY29tcG9uZW50L3JlcG9ydGluZy9wcm9qZWN0QWxlcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL2NvbmZpcm1SZXBvcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvcGVhay9wZWFrTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L3BlYWsvcGVha0N0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvT2JqZWN0aXZlUG9pbnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvb2JqZWN0aXZlUG9pbnRDdHJsLmpzIiwiY29tcG9uZW50L21lbWJlci9tZW1iZXJNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvbWVtYmVyL21lbWJlckluZm9DdHJsLmpzIiwiY29tcG9uZW50L21lbWJlci9tZW1iZXJDdHJsLmpzIiwiY29tcG9uZW50L21hcC9NYXBTaXRlSW5mb0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcFNlbnNvclByb3Bvc2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9NYXBQZWFrc0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcEZpbHRlcnNDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9tYXBDdHJsLmpzIiwiY29tcG9uZW50L21haW4vbWFpbkN0cmwuanMiLCJjb21wb25lbnQvbG9nSW5PdXQvbG9nSW5PdXRDdHJsLmpzIiwiY29tcG9uZW50L2h3bS9xdWlja0hXTUN0cmwuanMiLCJjb21wb25lbnQvaHdtL2h3bU1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9od20vaHdtQ3RybC5qcyIsImNvbXBvbmVudC9od20vaGlzdG9yaWNIV01DdHJsLmpzIiwiY29tcG9uZW50L2h3bS9idWxrSFdNQ3RybC5qcyIsImNvbXBvbmVudC9od20vYnVsa0hXTUFkakN0cmwuanMiLCJjb21wb25lbnQvYXBwcm92YWwvYXBwcm92YWxDdHJsLmpzIiwiY29tcG9uZW50L2hlbHAvaGVscEN0cmwuanMiLCJjb21wb25lbnQvZmlsZS9maWxlTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L2ZpbGUvZmlsZUN0cmwuanMiLCJjb21wb25lbnQvZXZlbnQvZXZlbnRTZXNzaW9uTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L2V2ZW50L2V2ZW50U2Vzc2lvbkN0cmwuanMiLCJjb21wb25lbnQvZXZlbnQvZXZlbnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvZXZlbnQvZXZlbnRJbmZvQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudEN0cmwuanMiLCJzZXJ2aWNlcy9TVE5SZXNvdXJjZS5qcyIsInNlcnZpY2VzL2J1c2luZXNzU2VydmljZXMuanMiLCJjb21wb25lbnQvTW9kYWxzQ3RybC5qcyIsImNvbXBvbmVudC9qcXVlcnkuaW5wdXRtYXNrLmJ1bmRsZS5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJTVE5Db250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIlBBU1NXT1JEIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwiZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZGF0YSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJjaGFydCIsImVsZXZhdGlvbkRhdGEiLCJzcGxpdCIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsInNlbGVjdEFsbCIsImVudGVyIiwidHJhbnNpdGlvbiIsImVhc2UiLCJzdHlsZSIsImQiLCJ0ZXh0IiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm1vZGVsIiwic2VhcmNoQnkiLCJzZWFyY2hUZXJtIiwidGVtcGxhdGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiJGh0dHAiLCJTSVRFIiwiJHVpYk1vZGFsIiwidmFsIiwicGxhY2Vob2xkZXIiLCJJbmRleFNlYXJjaFNpdGVzIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiQWNjZXB0IiwiZ2V0U2VhcmNoZWRTaXRlIiwiYnlTaXRlTm8iLCJyZXNwIiwic2l0ZVNlYXJjaFJlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsImJ5U2l0ZUlkIiwiYnlTaXRlTmFtZSIsInMiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJlcnJvck1vZGFsIiwib3BlbiIsIiR1aWJNb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsInNpemUiLCJyZXN1bHQiLCJ0aGVuIiwiZ28iLCJpZCIsInNpdGVfaWQiLCJiaW5kIiwiZXZlbnQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0IiwicmVxdWlyZSIsIm1vZGVsQ3RybCIsIiRwYXJzZXJzIiwicHVzaCIsImlucHV0VmFsdWUiLCJ0cmFuc2Zvcm1lZElucHV0IiwiJHNldFZpZXdWYWx1ZSIsIiRyZW5kZXIiLCIkZm9ybWF0dGVycyIsInNoaWZ0IiwiYXR0cmlidXRlcyIsImZvY3VzIiwiZ29CYWNrIiwiaGlzdG9yeSIsImJhY2siLCJyZWdleCIsImVsbSIsImN0cmwiLCJ1bmJpbmQiLCJ2aWV3VmFsdWUiLCJ0ZXN0IiwidGFyZ2V0IiwidmFsdWUiLCIkc2V0VmFsaWRpdHkiLCJzYW1lQXMiLCIkbW9kZWxWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIiR0aW1lb3V0IiwiaW5pdGlhbEhlaWdodCIsImhlaWdodCIsInJlc2l6ZSIsInNjcm9sbEhlaWdodCIsIm9uIiwiZWwiLCJpbnB1dG1hc2siLCJteUlucHV0TWFzayIsIm5nTW9kZWwiLCJmaWxlTW9kZWwiLCJtb2RlbFNldHRlciIsImFzc2lnbiIsImZpbGVzIiwibmdNb2RlbEN0cmwiLCJmcm9tVXNlciIsInBhdHRlcm4iLCJlbGVtIiwibGltaXQiLCJwYXJzZUludCIsImxhYmVsTGltaXRMZW5ndGgiLCJlIiwidGhpcyIsImxlbmd0aCIsIm9wdGlvbnMiLCJIaWdoY2hhcnRzIiwiTW9kYWxDb250cm9sbGVycyIsIiRyb290U2NvcGUiLCIkY29va2llcyIsIiRxIiwiJGxvY2F0aW9uIiwiJHNjZSIsIiRmaWx0ZXIiLCJsZWFmbGV0TWFya2VyRXZlbnRzIiwiYWxsRHJvcERvd25QYXJ0cyIsImZpbGVUeXBlcyIsImFnZW5jeUxpc3QiLCJsYXRsb25nIiwidGhpc1NpdGVTdHVmZiIsImFsbE1lbWJlcnMiLCJTSVRFX0hPVVNJTkciLCJTaXRlX0ZpbGVzIiwiTUVNQkVSIiwiSU5TVFJVTUVOVCIsIklOU1RSVU1FTlRfU1RBVFVTIiwiTEFORE9XTkVSX0NPTlRBQ1QiLCJHRU9DT0RFIiwiRklMRV9TVEFNUCIsIkZJTEUiLCJTT1VSQ0UiLCJTRVJWRVJfVVJMIiwiSG9yaXpvbnRhbERhdHVtTGlzdCIsIkhvckNvbGxNZXRob2RMaXN0IiwiU3RhdGVMaXN0IiwiQWxsQ291bnR5TGlzdCIsInN0YXRlQ291bnR5TGlzdCIsIkRNUyIsImFsbEhvdXNpbmdUeXBlTGlzdCIsIkRlcFByaW9yaXR5TGlzdCIsIk5ldE5hbWVMaXN0IiwiTmV0VHlwZUxpc3QiLCJQcm9wb3NlZFNlbnMiLCJTZW5zb3JEZXBsb3ltZW50IiwidXNlclJvbGUiLCJnZXQiLCJjbG9zZVNpdGVzIiwic2hvd01hcCIsInNpdGVMYXQiLCJzaXRlTG9uZyIsImh0bWxEZXNjcmlwdGlvblRpcCIsInRydXN0QXNIdG1sIiwibWFwQ2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsImV2ZW50cyIsIm1hcE1hcmtlcnMiLCJlbmFibGUiLCJnZXRBdmFpbGFibGVFdmVudHMiLCJpY29ucyIsInN0biIsInR5cGUiLCJpY29uU2l6ZSIsImNsYXNzTmFtZSIsIm5ld1NUTiIsImljb25BbmNob3IiLCJhemltdXRoIiwiZGVnIiwibWluIiwic2VjIiwiYXppIiwidG9GaXhlZCIsInVwZGF0ZUFkZHJlc3NPbmx5IiwiTEFEZWciLCJhU2l0ZSIsImxhdGl0dWRlX2RkIiwiTEFNaW4iLCJMQVNlYyIsIkxPRGVnIiwibG9uZ2l0dWRlX2RkIiwiTE9NaW4iLCJMT1NlYyIsIkF1dGhvcml6YXRpb24iLCJnZXRBZGRyZXNzUGFydHMiLCJMb25naXR1ZGUiLCJMYXRpdHVkZSIsInJlc3BvbnNlIiwiZ2VvZ3JhcGhpZXMiLCJDb3VudGllcyIsInN0YXRlRklQUyIsIlNUQVRFIiwiY291bnR5TmFtZSIsIk5BTUUiLCJ0aGlzU3RhdGVJRCIsImZpbHRlciIsImMiLCJzdGF0ZV9maXAiLCJzdGF0ZV9pZCIsInRoaXNTdGF0ZSIsInN0YXRlIiwic3RhdGVfYWJicmV2IiwiY291bnR5Iiwic3RhdGVJc0xvYWRpbmciLCJzaG93TG9hZGluZyIsInRvYXN0ciIsImVycm9yIiwiJG9uIiwiYXJncyIsImRyYWdlbmRMb2NhdGlvbiIsInBhcnNlRmxvYXQiLCJsYXRETVMiLCJkZWdfdG9fZG1zIiwidG9TdHJpbmciLCJsYWRETVNhcnJheSIsImxvbmdETVMiLCJsb25nRE1TYXJyYXkiLCJnZXRBZGRyZXNzIiwiaXNOYU4iLCJnZXRQcm94aW1pdHlTaXRlcyIsIkJ1ZmZlciIsImkiLCJhIiwic2l0ZV9ubyIsImljb24iLCJtZXNzYWdlIiwiZHJhZ2dhYmxlIiwic3RhdHVzVGV4dCIsIiRwcm9taXNlIiwiaG91c2VEaXJ0eSIsIm5ldFR5cGVEaXJ0eSIsInNpdGVIb3VzZVR5cGVzVGFibGUiLCJoZGF0dW1faWQiLCJoY29sbGVjdF9tZXRob2RfaWQiLCJkZWNEZWdPUmRtcyIsIm9yaWdpbmFsU2l0ZUhvdXNpbmdzIiwiY2hlY2tlZCIsImNoZWNrZWROYW1lIiwibGFuZG93bmVyIiwiYWRkTGFuZG93bmVyIiwiZGlzYWJsZVNlbnNvclBhcnRzIiwic2hvd1NpdGVIb3VzZVRhYmxlIiwic2l0ZUhvdXNlc01vZGVsIiwic2l0ZUhvdXNlc1RvUmVtb3ZlIiwiTmV0d29ya05BTUVUb0FkZCIsIk5ldHdvcmtOQU1FVG9SZW1vdmUiLCJOZXR3b3JrVFlQRVRvQWRkIiwiTmV0d29ya1RZUEVUb1JlbW92ZSIsInNpdGVOZXR3b3JrTmFtZXMiLCJzaXRlTmV0d29ya1R5cGVzIiwic2VydmVyVVJMIiwiZmlsZVR5cGVMaXN0IiwiZnQiLCJmaWxldHlwZSIsImFsbFNGaWxlcyIsImdldEFsbFNpdGVGaWxlcyIsIlNJVEVGaWxlcyIsInNmIiwiaHdtX2lkIiwiaW5zdHJ1bWVudF9pZCIsIm9iamVjdGl2ZV9wb2ludF9pZCIsInNpdGVJbWFnZUZpbGVzIiwiaGYiLCJmaWxldHlwZV9pZCIsInNob3dGaWxlRm9ybSIsInN0YW1wIiwiZ2V0U3RhbXAiLCJmaWxlSXRlbUV4aXN0cyIsInNhdmVGaWxlVXBsb2FkIiwic0ZpbGVJc1VwbG9hZGluZyIsImZpbGVQYXJ0cyIsIkZpbGVFbnRpdHkiLCJmaWxlX2lkIiwiYUZpbGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwaG90b19kaXJlY3Rpb24iLCJmaWxlX2RhdGUiLCJzb3VyY2VfaWQiLCJwYXRoIiwicGhvdG9fZGF0ZSIsImlzX253aXMiLCJGaWxlIiwiRmlsZTEiLCJmZCIsIkZvcm1EYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsInVwbG9hZEZpbGUiLCJmcmVzcG9uc2UiLCJzdWNjZXNzIiwic3JjIiwic2V0U3RhbXAiLCJpc1Bob3RvIiwiaW5kZXhPZiIsImZpbGVCZWxvbmdzVG8iLCJzcGxpY2UiLCJleGlzdEZpbGVJbmRleCIsImFsbFNGaWxlSW5kZXgiLCJzZXRBbGxTaXRlRmlsZXMiLCJzaG93SW1hZ2VNb2RhbCIsImltYWdlIiwiaW1hZ2VJZCIsInNldFNSQyIsInNob3dGaWxlIiwiZmlsZSIsImFnZW5jaWVzIiwiZXhpc3RJTUdGaWxlSW5kZXgiLCJhU291cmNlIiwiY29weSIsImdldEZpbGVJdGVtIiwiTGVuZ3RoIiwiZmlsZVR5cGUiLCJmSSIsImxhc3RJbmRleE9mIiwiZmlsZUV4dCIsInN1YnN0cmluZyIsIm1hdGNoIiwiRGF0ZSIsInF1ZXJ5IiwiRlVMTG5hbWUiLCJzb3VyY2VfbmFtZSIsImFnZW5jeU5hbWVGb3JDYXAiLCJhZ2VuY3lfaWQiLCJhZ2VuY3lfbmFtZSIsIm0iLCJtZW1iZXJfaWQiLCJmbmFtZSIsImxuYW1lIiwidXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiIsImNyZWF0ZUZpbGUiLCJ2YWxpZCIsIlNJVEVmaWxlSXNVcGxvYWRpbmciLCJ0aGVTb3VyY2UiLCJzYXZlIiwic2F2ZUZpbGUiLCJ1cGRhdGUiLCJmaWxlUmVzcG9uc2UiLCJkZWxldGVGaWxlIiwiRGVsZXRlTW9kYWxJbnN0YW5jZSIsInRlbXBsYXRlVXJsIiwicmVzb2x2ZSIsIm5hbWVUb1JlbW92ZSIsIndoYXQiLCJmaWxlVG9SZW1vdmUiLCJjYW5jZWxGaWxlIiwib3BlbkxhdE1vZGFsIiwidyIsImxhdE1vZGFsIiwiZmllbGRGb2N1cyIsIiQiLCJvcGVuTG9uZ01vZGFsIiwibG9uZ01vZGFsIiwiY2hlY2tWYWx1ZSIsImRpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsIm1pbmZsb2F0IiwibGF0TG9uZ0NoYW5nZSIsIkRNU01vZGFsIiwibmV0VHlwZUNoZyIsIm50Iiwic2VsZWN0ZWQiLCJtYXAiLCJuZXR3b3JrX3R5cGVfaWQiLCJpbmQiLCJ3aGljaE9uZSIsIm4iLCJuZXR3b3JrX25hbWVfaWQiLCJubiIsImRpbUFjdGlvbiIsInNlbnNvcl9ub3RfYXBwcm9wcmlhdGUiLCJ4IiwiaXNfcGVybWFuZW50X2hvdXNpbmdfaW5zdGFsbGVkIiwidXNlU2l0ZUFkZHJlc3MiLCJ1c2VBZGRyZXNzZm9yTE8iLCJhZGRyZXNzIiwiY2l0eSIsInppcCIsImxhbmRvd25lcmNvbnRhY3RfaWQiLCJwdXRTaXRlQW5kUGFydHMiLCJ0aXRsZSIsInByaW1hcnlwaG9uZSIsImxhbmRvd25lcmNvbnRhY3RpZCIsInVwZGF0ZVNpdGUiLCJDcmVhdG9yIiwiSG9yaXpvbnRhbENvbGxlY3RNZXRob2QiLCJIb3Jpem9udGFsRGF0dW0iLCJQcmlvcml0eU5hbWUiLCJSZW1vdmVQcm9taXNlcyIsImRlZmVyIiwiQWRkUHJvbWlzZXMiLCJmb3JFYWNoIiwic2hJRCIsImRlbFNIUHJvbSIsIm5uTCIsImRlbE5OUHJvbSIsImRlbGV0ZVNpdGVOZXR3b3JrTmFtZSIsInNpdGVJZCIsIm5ldHdvcmtOYW1lSWQiLCJudEwiLCJkZWxOVFByb20iLCJkZWxldGVTaXRlTmV0d29ya1R5cGUiLCJuZXR3b3JrVHlwZUlkIiwiaHQiLCJhZGRIdFByb20iLCJzaXRlX2hvdXNpbmdfaWQiLCJBbm5MIiwiYWRkTk5Qcm9tIiwicG9zdFNpdGVOZXR3b3JrTmFtZSIsIkFuVEwiLCJuZXR3b3JrX3R5cGVfbmFtZSIsImFkZE5UUHJvbSIsInBvc3RTaXRlTmV0d29ya1R5cGUiLCJhbGwiLCJzZW5kQmFjayIsIm1zZyIsImNvbnNvbGUiLCJmaW5pc2hQT1NUIiwic0lEIiwicG9zdFByb21pc2VzIiwiaHR5cGUiLCJ0eXBlX25hbWUiLCJoVFByb21pc2UiLCJuTmFtZSIsIm5OUHJvbWlzZSIsIm5UeXBlIiwiblRQcm9taXNlIiwiZGlzbWlzcyIsImNyZWF0ZSIsInBvc3RTaXRlQW5kUGFydHMiLCJjcmVhdGVkU2l0ZUlEIiwic2VsZWN0ZWRQcm9wb3NlZFNlbnNvcnMiLCJwIiwicHJvcFNlbnMiLCJpbmRleCIsInNkdCIsImRlcGxveW1lbnR0eXBlcyIsImRlcGxveW1lbnRfdHlwZV9pZCIsInNlbnNvcl90eXBlX2lkIiwic2Vuc29yVHlwZUlEIiwiaW5zdCIsImV2ZW50X2lkIiwibG9jYXRpb25fZGVzY3JpcHRpb24iLCJpbnN0cnVtZW50SUQiLCJpbnNSZXNwb25zZSIsImluc3RTdGF0Iiwic3RhdHVzX3R5cGVfaWQiLCJ0aW1lX3N0YW1wIiwidGltZV96b25lIiwieSIsImhvdXNpbmdfdHlwZV9pZCIsInByb2pOTmFtZXMiLCJwcm9qTlR5cGUiLCJuaSIsIm55Iiwic09wZW4iLCJzRmlsZU9wZW4iLCJhY2Nlc3NfZ3JhbnRlZCIsImlzTnVtIiwiZXZ0IiwidGhlRXZlbnQiLCJ3aW5kb3ciLCJrZXkiLCJrZXlDb2RlIiwicmV0dXJuVmFsdWUiLCJIb3VzZVR5cGVDbGljayIsImhvdXNlVCIsIm1hdGVyaWFsIiwibm90ZXMiLCJhbW91bnQiLCJzSF9JRCIsImgiLCJzaG93TGFuZE93bmVyUGFydCIsInVwZGF0ZUNvdW50eUxpc3QiLCJzdCIsImNhbmNlbCIsImRlbGV0ZVNpdGUiLCJ0aGlzU2l0ZSIsImRTaXRlTW9kYWwiLCJzaXRlTm8iLCJkZWxldGVJdCIsInNpdGVIV01zIiwiZGVwbG95bWVudFR5cGVzIiwiYmFyb1NlbnNvcnMiLCJtZXRTZW5zb3JzIiwicmRnU2Vuc29ycyIsInN0b3JtU2Vuc29ycyIsIndhdmVTZW5zb3JzIiwicHJlc1RlbXBTZW5zb3JzIiwidGhlcm1TZW5zb3JzIiwid2ViY2FtU2Vuc29ycyIsInJhaW5nYWdlU2Vuc29ycyIsImxlYWZsZXREYXRhIiwibWFwU3R1ZmYiLCJhbGxTaXRlSFdNcyIsImFsbFNpdGVCYXJvU2Vuc29ycyIsImJzIiwiYWxsU2l0ZU1ldFNlbnNvcnMiLCJhbGxTaXRlUkRHU2Vuc29ycyIsImFsbFNpdGVTdG9ybVNlbnNvcnMiLCJhbGxTaXRlV2F2ZVNlbnNvcnMiLCJhbGxTaXRlUHJlc1RlbXBTZW5zb3JzIiwiYWxsU2l0ZVRoZXJtU2Vuc29ycyIsImFsbFNpdGVXZWJTZW5zb3JzIiwiYWxsU2l0ZVJhaW5TZW5zb3JzIiwiYWxsRGVwbG95bWVudFR5cGVzIiwicGF0aHMiLCJtYXJrZXJzIiwibGF5ZXIiLCJldmVudElEIiwiZWFjaEhXTSIsImh3bV9sYWJlbCIsImh3bUljb24iLCJhZGRTZW5zb3JzIiwibm9FdmVudEgiLCJlYWNobm9FSFdNIiwiYlNlbnNvciIsImJhcm9JY29uIiwibXMiLCJtU2Vuc29yIiwibWV0aG9kIiwibWV0SWNvbiIsInJzIiwiclNlbnNvciIsInJkZ0ljb24iLCJzcyIsInNTZW5zb3IiLCJzdG9ybUljb24iLCJ3cyIsIndTZW5zb3IiLCJ3YXZlSWNvbiIsInBzIiwicFNlbnNvciIsInByZXNzdXJlSWNvbiIsInRzIiwidFNlbnNvciIsInRoZXJtSWNvbiIsIndlYnMiLCJ3ZWJTZW5zb3IiLCJ3ZWJjYW1JY29uIiwicmFpbnMiLCJyYWluU2Vuc29yIiwicmFpbmdhZ2VJY29uIiwibm9FYnMiLCJub0ViU2Vuc29yIiwibm9FbXMiLCJub0VtU2Vuc29yIiwibm9FcnMiLCJub0VyU2Vuc29yIiwibm9Fc3MiLCJub0VzU2Vuc29yIiwibm9Fd3MiLCJub0V3U2Vuc29yIiwibm9FcHMiLCJub0VwU2Vuc29yIiwibm9FdHMiLCJub0V0U2Vuc29yIiwibm9Fd2VicyIsIm5vRXdlYlNlbnNvciIsIm5vRXJhaW5zIiwibm9FcmFpblNlbnNvciIsInBhdGhzT2JqIiwiY2lyY2xlTWFya2VyIiwicmFkaXVzIiwid2VpZ2h0IiwiY29sb3IiLCJsYXRsbmdzIiwiYWRkU2hhcGUiLCJleHRlbmQiLCJtaW5ab29tIiwibWFya2Vyc0xhdExuZ0FycmF5IiwibGF5ZXJzIiwiYmFzZWxheWVycyIsInRvcG8iLCJ2aXNpYmxlIiwib3ZlcmxheXMiLCJzdG5TaXRlcyIsInRoaXNTaXRlTmV0d29ya05hbWVzIiwidGhpc1NpdGVOZXR3b3JrVHlwZXMiLCJ0aGlzU2l0ZUhvdXNpbmdzIiwiRklMRV9UWVBFIiwiQUdFTkNZIiwiU2l0ZV9TY3JpcHQiLCJhbGxIb3JEYXR1bXMiLCJhbGxIb3JDb2xsTWV0aG9kcyIsImFsbFN0YXRlcyIsImFsbENvdW50aWVzIiwiYWxsRGVwbG95UHJpb3JpdGllcyIsImFsbEhvdXNpbmdUeXBlcyIsImFsbE5ldHdvcmtOYW1lcyIsImFsbE5ldHdvcmtUeXBlcyIsImFsbERlcGxveVR5cGVzIiwiYWxsU2Vuc29yVHlwZXMiLCJhdXRoIiwidGhpc1BhZ2UiLCJzaG93U2NyaXB0VG9hc3QiLCJ3YXJuaW5nIiwiY2xvc2VCdXR0b24iLCJwb3NpdGlvbkNsYXNzIiwib25jbGljayIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJnZXRJc1NjcmlwdFJ1bm5pbmciLCJydW5uaW5nU2NyaXB0IiwiY2xlYXIiLCJtYXBPcGVuIiwic2l0ZU9wZW4iLCJvcE9wZW4iLCJzZW5zb3JPcGVuIiwiaHdtT3BlbiIsImZpbGVzT3BlbiIsInBlYWtPcGVuIiwidGhpc1NpdGVIb3VzZVR5cGVNb2RlbCIsIm9wZW5TaXRlQ3JlYXRlIiwiZHJvcGRvd25QYXJ0cyIsInNpdGVOTmFtZXNUb1Bhc3MiLCJhTk4iLCJzaXRlTlR5cGVzVG9QYXNzIiwiYU5UIiwibW9kYWxJbnN0YW5jZSIsImtleWJvYXJkIiwiYmFja2Ryb3AiLCJ3aW5kb3dDbGFzcyIsIm9yaWdTaXRlSG91c2VzIiwic0hvdXNlVHlwZU1vZGVsIiwic05ldE5hbWVzIiwic05ldFR5cGVzIiwibG8iLCJzaXRlUmVsYXRlZFN0dWZmIiwiZ2V0QWxsIiwiciIsImdldExhbmRPd25lckNvbnRhY3QiLCJoZCIsImRhdHVtX2lkIiwiZGF0dW1fbmFtZSIsImhjIiwiaGNvbGxlY3RfbWV0aG9kIiwicHJpb3JpdHlfaWQiLCJkcCIsInByaW9yaXR5X25hbWUiLCJ6IiwiaG91c2VUeXBlTmFtZSIsImIiLCJzZW5zb3JOb3RBcHByIiwiZ2V0U2l0ZUxhbmRPd25lciIsImFwcGx5Iiwid2hpY2hRdWljayIsImFsbE9QVHlwZXMiLCJhbGxWZXJ0RGF0dW1zIiwiYWxsVmVydENvbE1ldGhvZHMiLCJhbGxPUFF1YWxpdGllcyIsImFsbEhXTVR5cGVzIiwiYWxsSFdNUXVhbGl0aWVzIiwiYWxsTWFya2VycyIsImFsbEV2ZW50cyIsImFsbFNlbnNvckJyYW5kcyIsIk9CSkVDVElWRV9QT0lOVCIsIkhXTSIsIk9QX01FQVNVUkUiLCJPUF9DT05UUk9MX0lERU5USUZJRVIiLCJDcmVhdGVXaGF0IiwibG9nZ2VkSW5NZW1iZXIiLCJxdWlja0Zvcm0iLCJtYWtlQWRhdGUiLCJhRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwic2xpY2UiLCJtb250aE5hbWVzIiwiZGF0ZVdPdGltZSIsIkV2ZW50TmFtZSIsImFPUCIsImRhdGVfZXN0YWJsaXNoZWQiLCJyZW1vdmVPUENhcnJheSIsImFkZGVkSWRlbnRpZmllcnMiLCJzaG93Q29udHJvbElEaW5wdXQiLCJob3JEYXR1bUxpc3QiLCJob3JDb2xsTWV0aG9kTGlzdCIsInN0YXRlTGlzdCIsImFsbENvdW50eUxpc3QiLCJvcFR5cGVMaXN0IiwidmVydERhdHVtTGlzdCIsInZlcnRDb2xsTWV0aG9kTGlzdCIsIm9wUXVhbExpc3QiLCJhSFdNIiwiaHdtX2Vudmlyb25tZW50IiwiYmFuayIsImZsYWdfZGF0ZSIsInN0aWxsd2F0ZXIiLCJmbGFnX21lbWJlcl9pZCIsImh3bVR5cGVMaXN0IiwiaHdtUXVhbExpc3QiLCJtYXJrZXJMaXN0IiwiZ2V0VGltZVpvbmVTdGFtcCIsImRzZW50Iiwic2VuZFRoaXMiLCJvZmZzZXQiLCJ6b25lIiwic3Vic3RyIiwiZGVwVHlwZUxpc3QiLCJob3VzZVR5cGVMaXN0IiwidGltZVpvbmVMaXN0IiwiYVNlbnNvciIsImFTZW5zU3RhdHVzIiwiZXZlbnRMaXN0Iiwic2Vuc29yVHlwZUxpc3QiLCJzZW5zb3JCcmFuZExpc3QiLCJJbnRlcnZhbFR5cGUiLCJEZXB0aW1lUGFydHMiLCJnZXREZXBUeXBlcyIsImZpbHRlcmVkRGVwbG95bWVudFR5cGVzIiwibWF0Y2hpbmdTZW5zRGVwbGlzdCIsInNkIiwiRlRvck1FVEVSIiwiRlRvckNNIiwiYWRkTmV3SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJpZGVudGlmaWVyX3R5cGUiLCJkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCIsInV0Y0RhdGVUaW1lIiwidG9VVENTdHJpbmciLCJkYXRlcGlja3JzIiwiJGV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2hvb3NlUXVhbGl0eSIsImh3bV91bmNlcnRhaW50eSIsIk51bWJlciIsImh3bV9xdWFsaXR5X2lkIiwibWluX3JhbmdlIiwibWF4X3JhbmdlIiwiY29tcGFyZVRvVW5jZXJ0YWludHkiLCJtYXRjaGluZ1F1YWxJZCIsImluY29uZ3J1ZW50TW9kYWwiLCJzZXNzaW9uRXZlbnROYW1lIiwic2Vzc2lvbkV2ZW50RXhpc3RzIiwiVW5xdWFudENoZWNrZWQiLCJ1bnF1YW50aWZpZWQiLCJ1bmNlcnRhaW50eSIsInRyaW1PUCIsIm9wIiwiT0JKX1BUIiwiZWxldl9mdCIsIm9wX2lzX2Rlc3Ryb3llZCIsIm9wX25vdGVzIiwidmRhdHVtX2lkIiwidmNvbGxlY3RfbWV0aG9kX2lkIiwib3BfdHlwZV9pZCIsImRhdGVfcmVjb3ZlcmVkIiwib3BfcXVhbGl0eV9pZCIsIlJlbW92ZUlEIiwib3BDb250cm9sIiwib3BfY29udHJvbF9pZGVudGlmaWVyX2lkIiwiZm9ybWF0RGVmYXVsdHMiLCJ0aGVPUCIsInRhcGVkb3duIiwiT3BlbiIsInNob3dOZWVkT1BmaXJzdE1vZGFsIiwibmVlZE9QTW9kYWwiLCJ0YXBlRG93blRhYmxlIiwicmVtb3ZlT1AiLCJyZW1vdmVPUE1lYXMiLCJ5ZXNPck5vIiwiT1BzRm9yVGFwZURvd24iLCJPUE1lYXN1cmUiLCJhZGRUYXBlZG93biIsInNlbnNvcl9lbGV2YXRpb24iLCJ3c19lbGV2YXRpb24iLCJnc19lbGV2YXRpb24iLCJzaG93VGFwZWRvd25QYXJ0Iiwib3BfbmFtZSIsImVsZXZhdGlvbiIsIlZkYXR1bSIsInZkIiwiZGF0dW1fYWJicmV2aWF0aW9uIiwic2l0ZUVycm9ycyIsIm9wRXJyb3JzIiwiaHdtRXJyb3JzIiwidGhlRm9ybSIsInF1aWNrIiwiJHZhbGlkIiwid2F0ZXJib2R5IiwiY3JlYXRlZE9QIiwiT1B0b1BPU1QiLCJvcGMiLCJ0aGlzT1BDb250cm9sSUQiLCJzdXJ2ZXlfZGF0ZSIsInN1cnZleV9tZW1iZXJfaWQiLCJjcmVhdGVkU2Vuc29yIiwiaW50ZXJ2YWwiLCJzdGF0UmVzcG9uc2UiLCJ0aGlzVGFwZSIsImluc3RydW1lbnRfc3RhdHVzX2lkIiwiJG5hbWUiLCJmaW5kIiwic2l0ZV9kZXNjcmlwdGlvbiIsIiRpbnZhbGlkIiwiJGludmFsaWR2IiwiZGUiLCJod21fdHlwZV9pZCIsInNlbnNvclR5cGVzIiwibmV0d29ya05hbWVzIiwiYWN0aXZlTWVudSIsInNlc3Npb25FdmVudCIsInN0YXRlcyIsInNlblR5cGVzIiwibmV0TmFtZXMiLCJDaG9zZW4iLCJjaG9zZW5TdGF0ZXMiLCJzaXRlUmVzcG9uc2UiLCJjaGVja2JveE1vZGVsIiwiaHdtT25seSIsInNlbk9ubHkiLCJyZGdPbmx5Iiwib3BEZWZpbmVkIiwic29ydF9ieSIsIm5ld1NvcnRpbmdPcmRlciIsInNvcnRpbmdPcmRlciIsInJldmVyc2UiLCJlYWNoIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNlYXJjaFBhcmFtcyIsInRoaXNTZWFyY2giLCJzZW5zb3IiLCJTZW5zb3JUeXBlIiwibmV0d29yayIsIk5ldHdvcmtOYW1lIiwic3VydmV5IiwiSFdNU3VydmV5ZWQiLCJIV01Pbmx5IiwiU2Vuc29yT25seSIsIlJER09ubHkiLCJPUERlZmluZWQiLCJnZXRGaWx0ZXJlZFNpdGVzIiwiRXZlbnQiLCJTdGF0ZSIsImpvaW4iLCJzaXRlTGlzdCIsInNlYXJjaFNpdGVzIiwic3RhdGVTdHJpbmciLCJldklEIiwic3RhdGVDbGljayIsImNsZWFyRmlsdGVycyIsIlNldHRpbmdzQ29udHJvbGxlcnMiLCJzZXR0aW5ncyIsImNoYW5nZVZpZXciLCJ2aWV3IiwiYWxsRHJvcGRvd25zIiwiYWxsRGVwVHlwZXMiLCJ0aGlzU2Vuc29yIiwiU2Vuc29yU2l0ZSIsInNpdGVPUHMiLCJEQVRBX0ZJTEUiLCJkZXBTZW5maWxlSXNVcGxvYWRpbmciLCJEZXBTZW5zb3JGaWxlcyIsImRlcFNlbnNJbWFnZUZpbGVzIiwic2hvd05XSVNGaWxlRm9ybSIsIk9Qc1ByZXNlbnQiLCJyZW1vdmVPUExpc3QiLCJzaG93RXZlbnRERCIsImFkbWluQ2hhbmdlZCIsIndoaWNoQnV0dG9uIiwibndpc0hlYWRlclRpcCIsIkRFUHZhbCIsIlJFVHZhbCIsInNlbnNvckRhdGFOV0lTIiwiZGVwT3BlbiIsIk5XSVNGaWxlT3BlbiIsImNob3BwZXJSZXNwb25zZTEiLCJjaG9wcGVyUmVzcG9uc2UxS2V5cyIsImNoYXJ0T3B0aW9uczEiLCJjaGFydERhdGEiLCJBcnJheSIsInByb3RvdHlwZSIsImFyciIsInJ1bkNob3BwZXIiLCJjaGFydE9iaiIsInhBeGlzIiwicmVtb3ZlUGxvdExpbmUiLCJ0aGlzU2Vuc29yU2l0ZSIsInNtbGFsbExvYWRlckdvIiwicnVuQ2hvcHBlclNjcmlwdCIsIk9iamVjdCIsImtleXMiLCJFcnJvciIsImVycm9yTWVzc2FnZSIsInRpbWUiLCJwcmVzc3VyZSIsInNEYXRlIiwidG9JU09TdHJpbmciLCJlRGF0ZSIsImdldERhdGVUaW1lUGFydHMiLCJlZCIsImRhdGFmaWxlIiwiZ29vZF9zdGFydCIsImdvb2RfZW5kIiwibG9hZCIsInpvb21UeXBlIiwicmVzZXRab29tQnV0dG9uIiwicG9zaXRpb24iLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJwYW5uaW5nIiwicGFuS2V5IiwiYm9vc3RUaHJlc2hvbGQiLCJwbG90T3B0aW9ucyIsInNlcmllcyIsImNsaWNrIiwicG9pbnRDbGljayIsImNob3NlbkRhdGUiLCJ4RXZlbnQiLCJ3aGljaERhdGUiLCJhbGVydCIsInBhcnRzIiwidGhpc0RhdGUiLCJwb2ludCIsImNhdGVnb3J5IiwiY2hhcnRYIiwiYWRkUGxvdExpbmUiLCJ0b1ZhbHVlIiwid2lkdGgiLCJ6SW5kZXgiLCJsYWJlbCIsInRoZURhdGUiLCJhbGxvd1BvaW50U2VsZWN0IiwiY3Vyc29yIiwibW91c2VPdmVyIiwiaGFsbyIsImNsYXNzIiwidG9Gcm9udCIsIm1hcmtlciIsImVuYWJsZWQiLCJzdWJ0aXRsZSIsImRhdGVUaW1lTGFiZWxGb3JtYXRzIiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsIndlZWsiLCJ5QXhpcyIsImxhYmVscyIsImZvcm1hdCIsImxvZyIsImlzRGF0ZSIsImNhbGwiLCJkYSIsIm1pIiwiZGF0ZU9wdGlvbnMiLCJzdGFydGluZ0RheSIsInNob3dXZWVrcyIsImRhdGFfZmlsZV9pZCIsImRmIiwicHJvY2Vzc29yIiwicHJvY2Vzc29yX2lkIiwiY29sbGVjdF9kYXRlIiwiZHQiLCJmaXhEYXRlIiwibWlzc2luZ0RhdGUiLCJ1dGNTdGFydERhdGVUaW1lIiwidXRjRW5kRGF0ZVRpbWUiLCJzaSIsImVpIiwiZGF0YWZpbGVJRCIsImRmUmVzcG9uc2UiLCJzaG93TldJU0ZpbGUiLCJmIiwic2Vuc29yTldJU0ZpbGVzIiwiTldJU0ZpbGUiLCJGaWxlVHlwZSIsIk5XSVNERiIsIm53aXNQcm9jZXNzb3IiLCJ1c2dzX3NpZCIsInBvc3RBcHByb3ZhbEZvck5XSVNmaWxlIiwiREZpZCIsImFwcHJvdmVOV0lTREYiLCJhcHByb3ZhbFJlc3BvbnNlIiwiYXBwcm92YWxfaWQiLCJjcmVhdGVOV0lTRmlsZSIsImRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmciLCJOZGZSZXNwb25zZSIsIkZyZXNwb25zZSIsInNhdmVOV0lTRmlsZSIsImRlbGV0ZU5XSVNGaWxlIiwiY2FuY2VsTldJU0ZpbGUiLCJPUGNob3NlbiIsIm9wQ2hvc2VuIiwib3BJIiwibyIsImRlcFRhcGVDb3B5IiwiZGVwU3R1ZmZDb3B5IiwiY3JlYXRlT3JFZGl0IiwidGFwZURvd25Ub1JlbW92ZSIsInRJbmQiLCJvcF9tZWFzdXJlbWVudHNfaWQiLCJzaG93Q2hhbmdlRXZlbnRERCIsIkNoYW5nZUV2ZW50IiwiZXZlbnRfbmFtZSIsIkxvZ2dlZEluTWVtYmVyIiwic2Vuc29yT2JqZWN0VG9TZW5kQmFjayIsInV0Y0RhdGVUaW1lUyIsInV0Y0RhdGVUaW1lRCIsIkRpIiwidXBkYXRlZFNlbnNvciIsInVwZGF0ZWRTZW5TdGF0IiwiZGVwbG95bWVudFR5cGUiLCJob3VzaW5nVHlwZSIsInNlbnNvckJyYW5kIiwic2Vuc29yX2JyYW5kX2lkIiwiYnJhbmRfbmFtZSIsInNlbnNvclR5cGUiLCJ0IiwicnQiLCJpZFRvUmVtb3ZlIiwiYXQiLCJERVB0aGlzVGFwZSIsInRhcGVSZXNwb25zZSIsImluc3RydW1lbnRfc3RhdHVzZXNIb2xkZXIiLCJpbnN0cnVtZW50X3N0YXR1cyIsImRlcGxveSIsIlNlbnNvckZvcm0iLCJzdG9yZVRaIiwiZGVwU2VuU3RhdCIsInByZXZpb3VzU3RhdGVTdGF0dXMiLCJzdGF0RGF0ZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImRlbGV0ZVMiLCJzZW5zb3JUb1JlbW92ZSIsImwiLCJhaSIsInRpbWVQYXJ0cyIsIkRlcGxveWVyIiwiZ2V0SW5zdFN0YXRPUE1lYXN1cmVzIiwiaW5zdHJ1bWVudFN0YXR1c0lkIiwic2Vuc01lYXN1cmVzIiwid2hpY2hPUCIsIm15RGF0YSIsIndhbm5hRWRpdERlcCIsImNhbmNlbERlcEVkaXQiLCJhbGxFdmVudExpc3QiLCJhbGxWRGF0dW1MaXN0IiwiYWxsU3RhdHVzVHlwZXMiLCJhbGxJbnN0Q29sbENvbmQiLCJkZXBTZW5zU3RhdHVzIiwiVkRhdHVtIiwidiIsIkRFUHRhcGVEb3duVGFibGUiLCJzdGF0dXNUeXBlTGlzdCIsImNvbGxlY3RDb25kTGlzdCIsImFSZXRyaWV2YWwiLCJkdHBhcnRzIiwiUmV0cmlldmVyIiwiYW0iLCJkZXBUaW1lU3RhbXBiNFNlbmQiLCJyZXR1cm5UaGlzIiwicmV0cmlldmVTIiwiZGVwU2VuVFMiLCJyZXRTZW5UUyIsInRyaWdnZXIiLCJjcmVhdGVSZXRTZW5zIiwiaW5zdENvbGxlY3Rpb24iLCJpbnN0X2NvbGxlY3Rpb25faWQiLCJjb25kaXRpb24iLCJhbGxEZXBEcm9wZG93bnMiLCJhbGxFdmVudERhdGFGaWxlcyIsImNhbGNEaXN0YW5jZSIsImxhdDEiLCJsb24xIiwicmFkbGF0MSIsIlBJIiwicmFkbGF0MiIsInRoZXRhIiwicmFkdGhldGEiLCJkaXN0Iiwic2luIiwiY29zIiwiYWNvcyIsImZ1bGxTZW5maWxlSXNVcGxvYWRpbmciLCJzaG93UHJvY2Vzc2luZyIsInN0b3JtU2VjdGlvbiIsInNlbnNvckZpbGVzIiwic2Vuc0ltYWdlRmlsZXMiLCJERVBPUHNGb3JUYXBlRG93biIsIlJFVE9Qc0ZvclRhcGVEb3duIiwiZXZlbnREYXRhRmlsZXMiLCJpczRIeiIsIkRlcGxveWVkU2Vuc29yU3RhdCIsIkRFUHJlbW92ZU9QTGlzdCIsIkRFUE9QY2hvc2VuIiwiREVQb3BDaG9zZW4iLCJERVBPUE1lYXN1cmUiLCJERVByZW1vdmVPUE1lYXMiLCJERVBvayIsIkRFUGNhbmNlbCIsIkRFUHRhcGVEb3duVG9SZW1vdmUiLCJERVB0SW5kIiwiREVQcmVzcG9uc2UiLCJERVBzZW5zTWVhc3VyZXMiLCJSZXRyaWV2ZWRTZW5zb3JTdGF0IiwibW9zdFJlY2VudFN0YXR1cyIsInZkYXR1bU5hbWUiLCJSRVRyZW1vdmVPUExpc3QiLCJSRVR0YXBlRG93blRhYmxlIiwiUkVUT1BjaG9zZW4iLCJSRVRvcENob3NlbiIsIlJFVE9QTWVhc3VyZSIsInJldFRhcGVDb3B5IiwicmV0U3R1ZmZDb3B5IiwiUkVUcmVtb3ZlT1BNZWFzIiwiUkVUb2siLCJSRVRjYW5jZWwiLCJSRVR0YXBlRG93blRvUmVtb3ZlIiwiUkVUdEluZCIsIlJFVHJlc3BvbnNlIiwiUkVUc2Vuc01lYXN1cmVzIiwicmV0T3BlbiIsInNlbnNUeXBlIiwic2F2ZURlcGxveWVkIiwiREVQaWRUb1JlbW92ZSIsImFsbFN0YXR1c0hvbGRlciIsIndhbm5hRWRpdFJldCIsInNhdmVSZXRyaWV2ZWQiLCJ1cGRhdGVkUmV0U2Vuc29yIiwic3RhdHNIb2xkZXIiLCJSRVRpZFRvUmVtb3ZlIiwiUkVUdGhpc1RhcGUiLCJjYW5jZWxSZXRFZGl0IiwiQXBwcm92YWxJbmZvIiwiZ2V0REZBcHByb3ZhbCIsImFwcHJvdmFsRGF0ZSIsImFwcHJvdmFsX2RhdGUiLCJNZW1iZXIiLCJhbWVtIiwiYXBwcm92ZURGIiwidGhpc0RGIiwiYXBwcm92ZU1vZGFsIiwiYXBwcm92ZUl0IiwidW5BcHByb3ZlREYiLCJ1bmFwcHJvdmVNb2RhbCIsInVuQXBwcm92ZUl0IiwicnVuQWlyU2NyaXB0Iiwic2NyaXB0X3BhcmVudCIsInJlcnVuTW9kYWwiLCJ0aGVGaWxlIiwibm8iLCJ5ZXMiLCJhZmlsZSIsInByb2Nlc3NlZEZpbGVDb3VudCIsIm1hdGNoQ250IiwiYWlyREZJRCIsInVzZXJuYW1lIiwic2V0SXNTY3JpcHRSdW5uaW5nIiwic2hvd1N0b3JtU2VjdGlvbiIsImRpc3RhbmNlIiwic29ydCIsInBhZ2luYXRpb24iLCJjdXJyZW50UGFnZSIsIm1heFBhZ2luYXRpb25TaXplIiwiaXRlbXNQZXJQYWdlIiwidXBkYXRlUGFnZUluZGV4ZXMiLCJmaXJzdEluZGV4IiwibGFzdEluZGV4IiwidXBkYXRlQ2hvc2VuQWlyUmFkaW8iLCJkZmlsZSIsInJ1blRoZVN0b3JtU2NyaXB0IiwiYWlyREYiLCJnZXRGdWxsSW5zdHJ1bWVudCIsImFpclNlbnNvciIsIndhdGVyREYiLCJib29sVmFsIiwicnVuU3Rvcm1TY3JpcHQiLCJzZWFERklEIiwiaGVydHoiLCJ3YXRlckZpbGUiLCJ3YXRBaXJJRFMiLCJhbHJlYWR5UmFuIiwic2Vuc0ZpbGUiLCJyZXJ1blN0b3JtTW9kYWwiLCJ0aGVBaXJGaWxlIiwidGhlV2F0ZXJGaWxlIiwiZmlsZXNBcnJheSIsImJvdGhGaWxlcyIsImNob3BwZXJSZXNwb25zZTIiLCJjaG9wcGVyUmVzcG9uc2UyS2V5cyIsImNoYXJ0T3B0aW9uczIiLCJJbnN0cnVtZW50X1NlcnZpY2UiLCJ0aGlzU2l0ZVNlbnNvcnMiLCJhbGxBZ2VuY2llcyIsImFsbEZpbGVUeXBlcyIsIkRFUExPWU1FTlRfVFlQRSIsIlNUQVRVU19UWVBFIiwiSU5TVF9DT0xMX0NPTkRJVElPTiIsInNlbnNvckNvdW50IiwidG90YWwiLCJkZXBsb3lUeXBlTGlzdCIsInRlbXBEZXBUeXBlSUQiLCJzZW5zRGVwVHlwZXMiLCJzaG93UHJvcG9zZWQiLCJjb3JyZWN0T3JkZXJTUyIsInNlbnNvclN0YXR1c2VzIiwicHJvcG9zZWRTdGF0IiwiZGVwbG95ZWRTdGF0IiwicmV0TG9zdFN0YXQiLCJTaXRlU2Vuc29ycyIsInNldEFsbFNpdGVTZW5zb3JzIiwiU2Vuc0ZpbGVUeXBlcyIsInNmdCIsInNob3dIaWRlUHJvcG9zZWQiLCJBZGRQcm9wb3NlZCIsIlRpbWVfU1RBTVAiLCJwcm9wb3NlZFRvQWRkIiwicHJvcFN0YXRUb0FkZCIsImNyZWF0ZWRQcm9wU2Vuc29yIiwiZHRsIiwiZGVwIiwic2hvd1JldHJpZXZlTW9kYWwiLCJzZW5zb3JDbGlja2VkIiwiaW5kZXhDbGlja2VkIiwiYWxsaW5kZXgiLCJnZXRTaXRlT1BzIiwicmV0cmlldmVkU2Vuc29yIiwiaW5kZXhDbGlja2VkMSIsInNob3dQcm9wb3NlZFNlbnNvciIsInByb3Bvc2VkU2Vuc29yQ2xpY2tlZCIsInByb3BJbmRleCIsInByb3BNb2RhbEluc3RhbmNlIiwicHJvcG9zZWRTZW5zb3IiLCJ0aGlzUHJvcG9zZWRTZW5zb3IiLCJkZWxldGVQcm9wb3NlZCIsInNob3dTZW5zb3JNb2RhbCIsInBhc3NBbGxMaXN0cyIsInNob3dGdWxsU2Vuc29yTW9kYWwiLCJkZXBsb3llZFN0dWZmIiwiZ2V0RXZlbnREYXRhVmlldyIsImV2ZW50SWQiLCJDT05UQUNUX1RZUEUiLCJERVBMT1lNRU5UX1BSSU9SSVRZIiwiRVZFTlRfU1RBVFVTIiwiRVZFTlRfVFlQRSIsIkhPUklaT05UQUxfQ09MTF9NRVRIT0RTIiwiSE9SSVpPTlRBTF9EQVRVTSIsIkhPVVNJTkdfVFlQRSIsIkhXTV9RVUFMSVRZIiwiSFdNX1RZUEUiLCJNQVJLRVIiLCJORVRXT1JLX05BTUUiLCJPUF9RVUFMSVRZIiwiT1BfVFlQRSIsIlNFTlNPUl9CUkFORCIsIlNFTlNPUl9UWVBFIiwiTkVUV09SS19UWVBFIiwiVkVSVElDQUxfQ09MTF9NRVRIT0QiLCJWRVJUSUNBTF9EQVRVTSIsImFsbENvbnRhY3RUeXBlcyIsImFsbEV2ZW50U3RhdHMiLCJhbGxFdmVudFR5cGVzIiwiYWxsSG91c2VUeXBlcyIsImFsbEhXTXF1YWxpdGllcyIsImFsbEhXTXR5cGVzIiwiYWxsSW5zdENvbGxlY3RDb25kaXRpb25zIiwiYWxsT2JqUHRRdWFsaXRpZXMiLCJhbGxPYmpQdFR5cGVzIiwiYWxsVmVydGljYWxDb2xsTWV0aG9kcyIsImFsbFZlcnRpY2FsRGF0dW1zIiwiYWNjb3VudFJvbGUiLCJsb29rdXBGb3JtIiwic2hvd0FkZEFnRm9ybSIsImFkZEFnQnV0dG9uU2hvd2luZyIsIm5ld0FnIiwic2hvd0FkZEFnQ2xpY2tlZCIsIk5ldmVyTWluZEFnIiwiQWRkQWdlbmN5Iiwic2F2ZUFnZW5jeSIsInJldHVyIiwiZGVsZXRlQWdlbmN5IiwiYWciLCJrZXlUb1JlbW92ZSIsInNob3dTdGF0ZUFiYnJldiIsImNvbnRhY3RUeXBlTGlzdCIsInNob3dBZGRDVEZvcm0iLCJhZGRDVEJ1dHRvblNob3dpbmciLCJuZXdDVCIsInNob3dBZGRDVENsaWNrZWQiLCJOZXZlck1pbmRDVCIsIkFkZENvbnRhY3RUeXBlIiwic2F2ZUNvbnRhY3RUeXBlIiwiZGVsZXRlQ29udGFjdFR5cGUiLCJjdCIsImNvbnRhY3RfdHlwZV9pZCIsImRlcGxveVByaW9yaXR5TGlzdCIsInNob3dBZGREUEZvcm0iLCJhZGREUEJ1dHRvblNob3dpbmciLCJuZXdEUCIsInNob3dBZGREUENsaWNrZWQiLCJOZXZlck1pbmREUCIsIkFkZERlcFByaW9yaXR5Iiwic2F2ZURlcFByaW9yaXR5IiwiZGVsZXRlRGVwUHJpb3JpdHkiLCJldmVudFN0YXRMaXN0Iiwic2hvd0FkZEVTRm9ybSIsImFkZEVTQnV0dG9uU2hvd2luZyIsIm5ld0VTIiwic2hvd0FkZEVTQ2xpY2tlZCIsIk5ldmVyTWluZEVTIiwiQWRkRXZlbnRTdGF0Iiwic2F2ZUV2ZW50U3RhdCIsImRlbGV0ZUV2ZW50U3RhdCIsImVzIiwiZXZlbnRfc3RhdHVzX2lkIiwiZXZlbnRUeXBlTGlzdCIsInNob3dBZGRFVEZvcm0iLCJhZGRFVEJ1dHRvblNob3dpbmciLCJuZXdFVCIsInNob3dBZGRFVENsaWNrZWQiLCJOZXZlck1pbmRFVCIsIkFkZEV2ZW50VHlwZSIsInNhdmVFdmVudFR5cGUiLCJkZWxldGVFdmVudFR5cGUiLCJldCIsImV2ZW50X3R5cGVfaWQiLCJzaG93QWRkRlRGb3JtIiwiYWRkRlRCdXR0b25TaG93aW5nIiwibmV3RlQiLCJzaG93QWRkRlRDbGlja2VkIiwiTmV2ZXJNaW5kRlQiLCJBZGRGaWxlVHlwZSIsInNhdmVGaWxlVHlwZSIsImRlbGV0ZUZpbGVUeXBlIiwiaG9yQ29sTWV0aExpc3QiLCJzaG93QWRkSENNRm9ybSIsImFkZEhDTUJ1dHRvblNob3dpbmciLCJuZXdIQ00iLCJzaG93QWRkSENNQ2xpY2tlZCIsIk5ldmVyTWluZEhDTSIsIkFkZEhvckNvbGxNZXRob2QiLCJzYXZlSG9yQ29sbE1ldGhvZCIsImRlbGV0ZUhvckNvbGxNZXRob2QiLCJoY20iLCJob3JEYXRMaXN0Iiwic2hvd0FkZEhERm9ybSIsImFkZEhEQnV0dG9uU2hvd2luZyIsIm5ld0hEIiwic2hvd0FkZEhEQ2xpY2tlZCIsIk5ldmVyTWluZEhEIiwiQWRkSG9yRGF0dW0iLCJzYXZlSG9yRGF0dW0iLCJkZWxldGVIb3JEYXR1bSIsInNob3dBZGRIVEZvcm0iLCJhZGRIVEJ1dHRvblNob3dpbmciLCJuZXdIVCIsInNob3dBZGRIVENsaWNrZWQiLCJOZXZlck1pbmRIVCIsIkFkZEhvdXNlVHlwZSIsInNhdmVIb3VzZVR5cGUiLCJkZWxldGVIb3VzZVR5cGUiLCJzaG93QWRkSFdNUUZvcm0iLCJhZGRIV01RQnV0dG9uU2hvd2luZyIsIm5ld0hXTVEiLCJzaG93QWRkSFdNUUNsaWNrZWQiLCJOZXZlck1pbmRIV01RIiwiQWRkSHdtUXVhbGl0eSIsInNhdmVId21RdWFsaXR5IiwiZGVsZXRlSHdtUXVhbGl0eSIsImh3bXEiLCJzaG93QWRkSFdNVEZvcm0iLCJhZGRIV01UQnV0dG9uU2hvd2luZyIsIm5ld0hXTVQiLCJzaG93QWRkSFdNVENsaWNrZWQiLCJOZXZlck1pbmRIV01UIiwiQWRkSHdtVHlwZSIsInNhdmVId21UeXBlIiwiZGVsZXRlSHdtVHlwZSIsImh3bXQiLCJpbnN0Q29sQ29uZExpc3QiLCJzaG93QWRkSUNDRm9ybSIsImFkZElDQ0J1dHRvblNob3dpbmciLCJuZXdJQ0MiLCJzaG93QWRkSUNDQ2xpY2tlZCIsIk5ldmVyTWluZElDQyIsIkFkZEluc3RDb2xDb25kIiwic2F2ZUluc3RDb2xDb25kIiwiZGVsZXRlSW5zdENvbENvbmQiLCJpY2MiLCJtYXJrTGlzdCIsInNob3dBZGRNRm9ybSIsImFkZE1CdXR0b25TaG93aW5nIiwibmV3TSIsInNob3dBZGRNQ2xpY2tlZCIsIk5ldmVyTWluZE0iLCJBZGRNYXJrZXIiLCJzYXZlTWFya2VyIiwiZGVsZXRlTWFya2VyIiwibWFya2VyX2lkIiwibmV0TmFtZUxpc3QiLCJzaG93QWRkTk5Gb3JtIiwiYWRkTk5CdXR0b25TaG93aW5nIiwibmV3Tk4iLCJzaG93QWRkTk5DbGlja2VkIiwiTmV2ZXJNaW5kTk4iLCJBZGROZXR3b3JrTmFtZSIsInNhdmVOZXR3b3JrTmFtZSIsImRlbGV0ZU5ldHdvcmtOYW1lIiwic2hvd0FkZE9QUUZvcm0iLCJhZGRPUFFCdXR0b25TaG93aW5nIiwibmV3T1BRIiwic2hvd0FkZE9QUUNsaWNrZWQiLCJOZXZlck1pbmRPUFEiLCJBZGRPUFF1YWxpdHkiLCJzYXZlT1BRdWFsaXR5IiwiZGVsZXRlT1BRdWFsaXR5Iiwib3BxIiwic2hvd0FkZE9QVEZvcm0iLCJhZGRPUFRCdXR0b25TaG93aW5nIiwibmV3T1BUIiwic2hvd0FkZE9QVENsaWNrZWQiLCJOZXZlck1pbmRPUFQiLCJBZGRPUFR5cGUiLCJzYXZlT1BUeXBlIiwiZGVsZXRlT1BUeXBlIiwib3B0Iiwib2JqZWN0aXZlX3BvaW50X3R5cGVfaWQiLCJzZW5zQnJhbmRMaXN0Iiwic2hvd0FkZFNCRm9ybSIsImFkZFNCQnV0dG9uU2hvd2luZyIsIm5ld1NCIiwic2hvd0FkZFNCQ2xpY2tlZCIsIk5ldmVyTWluZFNCIiwiQWRkU2Vuc29yQnJhbmQiLCJzYXZlU2Vuc29yQnJhbmQiLCJkZWxldGVTZW5zb3JCcmFuZCIsInNiIiwic2hvd0FkZERURm9ybSIsImFkZERUQnV0dG9uU2hvd2luZyIsIm5ld0RUIiwic2hvd0FkZERUQ2xpY2tlZCIsIk5ldmVyTWluZERUIiwiQWRkRGVwVHlwZSIsInNhdmVEZXBUeXBlIiwiZGVsZXRlRGVwVHlwZSIsInN0YXRUeXBlTGlzdCIsInNob3dBZGRTdGF0VEZvcm0iLCJhZGRTdGF0VEJ1dHRvblNob3dpbmciLCJuZXdTdGF0VCIsInNob3dBZGRTdGF0VENsaWNrZWQiLCJOZXZlck1pbmRTdGF0VCIsIkFkZFN0YXR1c1R5cGUiLCJuZXdTdGF0VFQiLCJzYXZlU3RhdHVzVHlwZSIsImRlbGV0ZVN0YXR1c1R5cGUiLCJzdGF0VCIsInNlbnNUeXBlTGlzdCIsIm5ld0RlcFR5cGVSZWxhdGluZyIsImNvbW1hU2VwRGVwTUVUSE9EUyIsImZvcm1hdHRlZFNlbnNUeXBlTGlzdCIsImdldFNlbnNvckRlcGxveW1lbnRUeXBlcyIsImRlcHMiLCJEZXBUeXBlcyIsIkRlcE1TdHJpbmdzIiwiRGVwTUVUSE9EU3RyaW5ncyIsInNob3dEZXBUeXBlcyIsIlNlblQiLCJyZW1vdmVUaGVzZURlcFR5cGVzIiwiY2hlY2tMaXN0Q2hlY2siLCJvcmlnaW5hbENoZWNrZWQiLCJub3dDaGVja2VkIiwib2MiLCJkZWxldGVEZXAiLCJzaG93QWRkU2VuVEZvcm0iLCJhZGRTZW5UQnV0dG9uU2hvd2luZyIsIm5ld1NlblQiLCJzaG93QWRkU2VuVENsaWNrZWQiLCJOZXZlck1pbmRTZW5UIiwiYWRkRGVwVHlwZVRvTmV3U2VuVCIsIkFkZFNlbnNvclR5cGUiLCJuZXdTZW5zb3IiLCJyZWxhdGVkRGVwcyIsIm5kdCIsImFkZFNlbnNvckRlcGxveW1lbnRUeXBlIiwic2Vuc29yVHlwZUlkIiwiZGVwbG95bWVudFR5cGVJZCIsInJlc3BvbnNlMSIsInNhdmVTZW5zb3JUeXBlIiwiRFRzIiwidGhpc0RUIiwiZXJyb3JSZXNwb25zZTEiLCJyZHQiLCJyZW1vdmVTZW5zb3JEZXBsb3ltZW50VHlwZSIsIkRlcGxveW1lbnRUeXBlSWQiLCJyZXNwb25zZTIiLCJkZWxldGVTZW5zb3JUeXBlIiwic2VuVCIsIlNUIiwibmV0VHlwZUxpc3QiLCJzaG93QWRkTlRGb3JtIiwiYWRkTlRCdXR0b25TaG93aW5nIiwibmV3TlQiLCJzaG93QWRkTlRDbGlja2VkIiwiTmV2ZXJNaW5kTlQiLCJBZGROZXRUeXBlIiwic2F2ZU5ldFR5cGUiLCJkZWxldGVOZXRUeXBlIiwidmVydENvbE1ldGhMaXN0Iiwic2hvd0FkZFZDTUZvcm0iLCJhZGRWQ01CdXR0b25TaG93aW5nIiwibmV3VkNNIiwic2hvd0FkZFZDTUNsaWNrZWQiLCJOZXZlck1pbmRWQ00iLCJBZGRWZXJ0Q29sTWV0aCIsInNhdmVWZXJ0Q29sTWV0aCIsImRlbGV0ZVZlcnRDb2xNZXRoIiwidmNtIiwidmVydERhdExpc3QiLCJzaG93QWRkVkRGb3JtIiwiYWRkVkRCdXR0b25TaG93aW5nIiwibmV3VkQiLCJzaG93QWRkVkRDbGlja2VkIiwiTmV2ZXJNaW5kVkQiLCJBZGRWZXJ0RGF0dW0iLCJzYXZlVmVydERhdHVtIiwiZGVsZXRlVmVydERhdHVtIiwiQ09OVEFDVCIsIlJFUE9SVCIsIiRwYXJlbnQiLCJuZWVkVG9Db21wbGV0ZSIsIm5ld1JlcG9ydCIsInJlcG9ydF9kYXRlIiwieXIiLCJtbyIsIkRlcGxveVN0YWZmIiwiR2VuU3RhZmYiLCJJbmxhbmRTdGFmZiIsIkNvYXN0U3RhZmYiLCJXYXRlclN0YWZmIiwib3BlbkNvbnRhY3RzIiwib3BlbkNvdW50cyIsIm9wZW5QZXJzb25uZWwiLCJyZXBvcnRpbmdfbWV0cmljc19pZCIsImRpc2FibGVkIiwiZ2V0RXZlbnROYW1lIiwidGhpc0V2ZW50IiwiZ2V0UmVwb3J0Q29udGFjdHMiLCJyZXBvcnRJRCIsImdldENvbnRhY3RNb2RlbCIsIlJlcG9ydE1ldHJpYyIsImNvbnRhY3RUeXBlIiwicG9zdFJlcG9ydENvbnRhY3RzIiwiZXF1YWxzIiwiYWRkUmVwb3J0Q29udGFjdCIsInJlcG9ydElkIiwiY29udGFjdFR5cGVJZCIsImVycm9yUmVzcG9uc2UyIiwicmVzcG9uc2UzIiwiZXJyb3JSZXNwb25zZTMiLCJyZXNwb25zZTQiLCJlcnJvclJlc3BvbnNlNCIsInJlc3BvbnNlNSIsImVycm9yUmVzcG9uc2U1IiwicmVtb3ZlSW5jb21wbGV0ZSIsIm1lbWJlckluY29tcGxldGVzIiwiUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzIiwidG9EYXRlU3RyaW5nIiwiY29tcGxldGUiLCJpc0NvbXBsZXRlZCIsImZ1bGxSZXBvcnRGb3JtIiwic3VibWl0IiwiJHNldFByaXN0aW5lIiwiJHZpZXdWYWx1ZSIsInJlcG9ydHMiLCJwb3B1bGF0ZVllc3RUb3RzIiwiZm9ybWF0RGF0ZSIsInNldEhvdXJzIiwibXlEYXRlIiwidGhlU3RhdGUiLCJlSUQiLCJwcmV2aW91c0RheSIsInllc3RlcmRheVJwdCIsInJlcERhdGUiLCJ5ZXN0X2ZpZWxkcGVycyIsInRvZF9maWVsZHBlcnMiLCJ5ZXN0X29mZmljZXBlcnMiLCJ0b2Rfb2ZmaWNlcGVycyIsImdldERhaWx5UmVwb3J0VG90cyIsInJlc3BvbnNlNiIsImRlcF9yYXBkZXBsX2dhZ2UiLCJyZWNfcmFwZGVwbF9nYWdlIiwibG9zdF9yYXBkZXBsX2dhZ2UiLCJkZXBfd3RybGV2X3NlbnNvciIsInJlY193dHJsZXZfc2Vuc29yIiwibG9zdF93dHJsZXZfc2Vuc29yIiwiZGVwX3d2X3NlbnMiLCJyZWNfd3Zfc2VucyIsImxvc3Rfd3Zfc2VucyIsImRlcF9iYXJvbWV0cmljIiwicmVjX2Jhcm9tZXRyaWMiLCJsb3N0X2Jhcm9tZXRyaWMiLCJkZXBfbWV0ZW9yb2xvZ2ljYWwiLCJyZWNfbWV0ZW9yb2xvZ2ljYWwiLCJsb3N0X21ldGVvcm9sb2dpY2FsIiwiaHdtX2ZsYWdnZWQiLCJod21fY29sbGVjdGVkIiwiZXJyb3JSZXNwb25zZTYiLCJzYXZlUmVwb3J0IiwiTWVtYmVyTG9nZ2VkSW4iLCJwb3B1bGF0ZURlcGxveWVyIiwiZ2V0SW5jb21wbGV0ZVJlcG9ydCIsImlyIiwiJHNldERpcnR5IiwicmVwb3J0Iiwic3VibWl0UGVyc29uIiwiY29udGFjdHMiLCJSZXBvcnRWaWV3IiwiUmVwb3J0Iiwic3VibWl0dGVyIiwiZGVwbG95U3RhZmYiLCJnZW5lcmFsU3RhZmYiLCJpbmxhbmRTdGFmZiIsImNvYXN0U3RhZmYiLCJ3YXRlclN0YWZmIiwicHJpbnQiLCJhbGxSZXBvcnRzQWdhaW4iLCJyZXBvcnRzVG9EYXRlIiwidG9kYXlScHRzIiwieWVzdGVyZGF5UnB0cyIsInBpY2tEYXRlUnB0cyIsInBpY2tBZGF0ZVJlcG9ydHMiLCJ0b2RheSIsInllc3RlcmRheSIsInNldERhdGUiLCJUSElTX0RBVEUiLCJWaWV3UmVwb3J0IiwibWVtYmVyIiwibWVtIiwibWVtYmVyQWdlbmN5IiwiYWdlbmN5X2FkZHJlc3MiLCJmb3JtYXRSZXBvcnQiLCJyZXBMaXN0IiwicmV0dXJuTGlzdCIsInJlcCIsInRvZGF5UmVwb3J0cyIsInRvZGF5cmVwIiwicmVwb3J0RGF0ZSIsInllc3RlcmRheVJlcG9ydHMiLCJ5ZXN0cmVwIiwiZ2V0UmVwb3J0c0J5RGF0ZSIsImRhdGUiLCJ0aGlzRGF0ZVJlcG9ydHMiLCJ0ZGF0ZSIsIkNvbXBsZXRlVGhpc1JlcG9ydCIsImdldFByb2plY3RBbGVydFRleHQiLCJQcm9qZWN0QWxlcnRQYXJ0cyIsInRvdFllc3RGaWVsZFBlcnMiLCJ0b3RZZXN0T2ZmaWNQZXJzIiwibWVhc3VyZUN0cyIsInRvdF9kaXNjaGFyZ2VfbWVhcyIsImV2ZW50UmVwb3J0cyIsInN0YXRlQ291bnQiLCJlciIsIlByb2pBbGVydCIsIm1lbWJlclJlcG9ydHMiLCJhbGxSZXBvcnRzIiwiYWxsRXZlbnRTdGF0dXMiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZm9ybUlzUG9wdWxhdGVkIiwidXJsIiwiJGRpcnR5IiwiY29uZmlybSIsImN1cnJlbnREdCIsIm1tIiwiZGQiLCJ5eXl5IiwibWVtYmVycyIsImV2ZW50VHlwZXMiLCJldmVudFN0YXRzIiwiU3RhdGVtb2RlbCIsImdlblN1bW1hcnkiLCJmaWx0ZXJlZFJlcG9ydHMiLCJnZW5SZXBDaGFuZ2UiLCJuYW1lcyIsImFiYnJldnMiLCJzdGF0ZV9uYW1lIiwiU3RhdGVOYW1lcyIsIlN0YXRlQWJicmV2cyIsIk1ldHJpY0Rpc3BsYXlNb2RlbCIsImRpc3BsYXlNZXRyaWNTdW0iLCJHZW5SZXBFdmVudE1vZGVsIiwidG90YWxSb3ciLCJub3RBY2N0Rm9yRW1wcyIsImN1bVBGaWVsZCIsInllc1BGaWVsZCIsInRvZFBGaWVsZCIsInRvbVBGaWVsZCIsImN1bVBPZmZpY2UiLCJ5ZXNQT2ZmaWNlIiwidG9kUE9mZmljZSIsInRvbVBPZmZpY2UiLCJ0cnVjayIsImJvYXQiLCJvdGhlciIsImdhZ2VWaXNpdHMiLCJnYWdlc0Rvd24iLCJkaXNDdG9EYXRlIiwiZGlzQ1BsYW5uZWQiLCJDaGVja01lYXNUb0RhdGUiLCJDaGVja01lYXNQbGFubmVkIiwiaW5kTWVhcyIsInJhdEV4dCIsInBlYWtzT2ZSZWMiLCJRV0dhZ2VWaXMiLCJjb250UVdHYWdlVmlzIiwiY29udFFXR2FnZURvd24iLCJkaXNRV1NhbXBsZXMiLCJzZWRTYW1wbGVzIiwicmRnUGxhbiIsInJkZ0RlcCIsInJkZ1JlYyIsInJkZ0xvc3QiLCJ3YXRlclBsYW4iLCJ3YXRlckRlcCIsIndhdGVyUmVjIiwid2F0ZXJMb3N0Iiwid2F2ZVBsYW4iLCJ3YXZlRGVwIiwid2F2ZVJlYyIsIndhdmVMb3N0IiwiYmFyb1BsYW4iLCJiYXJvRGVwIiwiYmFyb1JlYyIsImJhcm9Mb3N0IiwibWV0UGxhbiIsIm1ldERlcCIsIm1ldFJlYyIsIm1ldExvc3QiLCJod21GbGFnIiwiaHdtQ29sIiwiYWJicmV2U3RyaW5nIiwic3VtX2RhdGUiLCJnZXRGaWx0ZXJlZFJlcG9ydHMiLCJTdGF0ZXMiLCJ0aGlzUlBNb2RlbCIsInN3X2ZpZWxkcGVyc19ub3RhY2N0Iiwid3FfZmllbGRwZXJzX25vdGFjY3QiLCJ0bXdfZmllbGRwZXJzIiwidG13X29mZmljZXBlcnMiLCJnYWdlX3Zpc2l0IiwiZ2FnZV9kb3duIiwicGxhbl9kaXNjaGFyZ2VfbWVhcyIsInBsYW5faW5kaXJlY3RfbWVhcyIsInJhdGluZ19leHRlbnMiLCJnYWdlX3BlYWtfcmVjb3JkIiwicXdfZGlzY3Jfc2FtcGxlcyIsImNvbGxfc2Vkc2FtcGxlcyIsInBsYW5fcmFwZGVwbF9nYWdlIiwicGxhbl93dHJsZXZfc2Vuc29yIiwicGxhbl93dl9zZW5zIiwicGxhbl9iYXJvbWV0cmljIiwicGxhbl9tZXRlb3JvbG9naWNhbCIsIkV2ZW50VHlwZSIsIkV2ZW50U3RhdCIsIkNvb3JkaW5hdG9yIiwiZXZlbnRfY29vcmRpbmF0b3IiLCJDb29yZEFnZW5jeSIsInRoaXNSZXBvcnQiLCJ0aGVUb3RhbFJvdyIsInRvdGFscyIsImRpc3BsYXlDb250YWN0c1N1bSIsInJlcG9ydE1vZGVsIiwiZ2V0UmVwb3J0d2l0aENvbnRhY3RzIiwicmVwSUQiLCJzdWJtaXR0ZXJBZ2VuY3kiLCJzdWIiLCJlbWFpbCIsInBob25lIiwiYWdlbmN5bmFtZSIsImFnZW5jeWFkZCIsImRlcEMiLCJSZXBvcnRDb250YWN0cyIsImdlbkMiLCJpbmxDIiwiY29hc3RDIiwid2F0ZXJDIiwic2V0VGltZW91dCIsInNob3dNb2RhbCIsInRoZXNlUmVwb3J0cyIsIlJlcG9ydHMiLCJnZXRDU1ZmaWxlIiwiZ2V0UmVwb3J0c0NTViIsImFuY2hvciIsImpvaW5lZFJlc3BvbnNlIiwiQmxvYiIsImZpbGVVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJQcm9qQWxlcnRQYXJ0cyIsImFsbENvbGxlY3RDb25kaXRpb25zIiwidGhpc1BlYWsiLCJwZWFrU2l0ZSIsImFsbEV2ZW50SFdNcyIsImFsbFNpdGVTZW5zb3JzIiwiYWxsU2l0ZUZpbGVzIiwidGhpc1BlYWtERnMiLCJQRUFLIiwiVkRhdHVtc0xpc3QiLCJtZW1iZXJMaXN0IiwibG9nZ2VkSW5Sb2xlIiwiZGV0ZXJtaW5lREZQcmVzZW50IiwiZXZlbnRTaXRlSFdNcyIsImVzaCIsImV2ZW50U2l0ZVNlbnNvcnMiLCJldlNpdGVTZW4iLCJDb2xsZWN0Q29uZGl0aW9uIiwiY2MiLCJpc1JldHJpZXZlZCIsIk5lZWRERiIsImNob3NlbkhXTUxpc3QiLCJyZW1vdmVkQ2hvc2VuSFdNTGlzdCIsImNob3NlbkRGTGlzdCIsInJlbW92ZWRDaG9zZW5ERkxpc3QiLCJod21EZXRhaWwiLCJIV01Cb3giLCJzZW5zb3JEZXRhaWwiLCJTZW5zb3JCb3giLCJkYXRhRmlsZURldGFpbCIsIkRGQm94IiwiYVBlYWsiLCJwZWFrX2RhdGUiLCJQZWFrQ3JlYXRvciIsInBlYWtfc3VtbWFyeV9pZCIsImVzcyIsImVzc0kiLCJpc1RoZXJlIiwicGRmIiwiZm9ybWF0U2VsZWN0ZWRIV00iLCJmaHdtIiwiaGVpZ2h0X2Fib3ZlX2duZCIsImh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uIiwiaHdtX25vdGVzIiwiYWRkSFdNIiwiZGF0YUZpbGUiLCJod20iLCJzaG93SFdNRGV0YWlscyIsInByaW1hcnlIV00iLCJzZXRQcmltSFdNIiwiU2V0SXQiLCJzZXRJdCIsInBlYWtfc3RhZ2UiLCJoSW5kZXgiLCJjbG9zZURldGFpbCIsImFkZERhdGFGaWxlIiwic2hvd1NlbnNvckRldGFpbHMiLCJzaG93RGF0YUZpbGVEZXRhaWxzIiwiZmlsZVBhdGgiLCJmaWxlSUQiLCJmaWxlRGVzYyIsInByb2Nlc3NlZEJ5Iiwibndpc0ZpbGUiLCJwcmltYXJ5RGF0YUZpbGUiLCJzZXRQcmltZURGIiwic2VucyIsInNJbmRleCIsImZJbmRleCIsInNhdmVQZWFrIiwidXBkYXRlZFBlYWsiLCJkYXRldGltZSIsImdldFNlY29uZHMiLCJyZW1kIiwicmVtaCIsImFkZGgiLCJhZGRkIiwidXBkYXRlREZ3b1BlYWtJRCIsImRmX2lkIiwicmVzIiwiZGVsZXRlUGVhayIsImRlbGV0ZVBlYWtNZGwiLCJPayIsInRoaXNTIiwidGhpc0YiLCJ0aGlzSCIsInVwZGF0ZVRoaXNIV00iLCJjcmVhdGVQZWFrIiwiaXNId21DaGVja2VkIiwiaXNERkNoZWNrZWQiLCJzaHdtIiwic3NlbiIsImNyZWF0ZWRQZWFrIiwic2hvd0luY29tcGxldGVERkluZm8iLCJzaG93SW5jb21wbGV0ZUhXTUluZm8iLCJzaG93UmV0cmlldmVJbmZvIiwidGhpc1NpdGVQZWFrcyIsInBlYWtDb3VudCIsIlNpdGVQZWFrcyIsInNob3dQZWFrTW9kYWwiLCJwZWFrQ2xpY2tlZCIsImdldFBlYWtTdW1tYXJ5REZzIiwiZ2V0RmlsdGVyZWRIV01zIiwiRXZlbnRTdGF0dXMiLCJnZXRTaXRlU2Vuc29ycyIsInRoaXNPUCIsInRoaXNPUENvbnRyb2xzIiwib3BTaXRlIiwiT1B2YWwiLCJmaWxlSXNVcGxvYWRpbmciLCJkbCIsImRsT3BlbiIsImRsRmlsZU9wZW4iLCJPUFR5cGVMaXN0IiwiSERMaXN0IiwiSENvbGxlY3RNZXRob2RMaXN0IiwiVkRhdHVtTGlzdCIsIlZDb2xsZWN0TWV0aG9kTGlzdCIsIk9QUXVhbGl0eUxpc3QiLCJIV01maWxlSXNVcGxvYWRpbmciLCJPUCIsInRoaXNPUHNpdGUiLCJPUEZpbGVzIiwib3BJbWFnZUZpbGVzIiwib3BmIiwib3BDb3B5Iiwib3BNb2RhbEhlYWRlciIsImNyZWF0ZU9SZWRpdE9QIiwib3BUeXBlIiwib3BfdHlwZSIsInF1YWxpdHkiLCJxIiwiaGRhdHVtIiwiaENvbGxlY3RNZXRob2QiLCJ2RGF0dW0iLCJ2Q29sbGVjdE1ldGhvZCIsInZjIiwidmNvbGxlY3RfbWV0aG9kIiwiYWRkZWRJZGVudGlmaWVyc0NvcHkiLCJETVNkZE1vZGFsIiwiY3JlYXRlX2xhdERNUyIsImNyZWF0ZV9sYWRETVNhcnJheSIsImNyZWF0ZV9sb25nRE1TIiwiY3JlYXRlX2xvbmdETVNhcnJheSIsImZyb21XaGVyZSIsIk9QRm9ybSIsInRoaXNPbmUiLCJjaSIsImV4aXN0SW5kZXgiLCJkZUluZGV4IiwicmkiLCJkZWxldGVPUCIsImdldERhdHVtTG9jYXRpb25PUE1lYXN1cmVzIiwib2JqZWN0aXZlUG9pbnRJZCIsIm9wVG9SZW1vdmUiLCJ3YW5uYUVkaXRPUCIsImNhbmNlbE9QRWRpdCIsInRoaXNTaXRlT1BzIiwib3BDb3VudCIsIlNpdGVPYmplY3RpdmVQb2ludHMiLCJzaG93T1BNb2RhbCIsIk9QY2xpY2tlZCIsIm9wRmlsZVR5cGVzIiwib2Z0IiwiZ2V0T1BDb250cm9scyIsImlDbGlja2VkIiwicm9sZUxpc3QiLCJ0aGlzTWVtYmVyIiwiYU1lbWJlciIsIm1hdGNoaW5nVXNlcnMiLCJ1c2VybmFtZVRvb2x0aXAiLCJwYXNzIiwibmV3UCIsImNvbmZpcm1QIiwibmV3UGFzcyIsImxvZ2dlZEluVXNlciIsIk5hbWUiLCJJRCIsIlJvbGUiLCJyb2xlX2lkIiwicm9sZV9uYW1lIiwiY2hhbmdlUGFzcyIsImNoYW5nZU15UGFzc0J0biIsIkRvbnRDaGFuZ2VQYXNzIiwicGFzc3dvcmQiLCJidG9hIiwiY3JlYXRlZE1lbWJlciIsInJvIiwiQWdlbmN5IiwiZm9ybWF0dGVkTWVtYmVyIiwic2FsdCIsInVwZGF0ZWRNZW1iZXIiLCJhZGRIb3VycyIsImVuYyIsImNvbmNhdCIsImV4cGlyZURhdGUiLCJwdXQiLCJleHBpcmVzIiwidXNlcnNOQU1FIiwiRGVsZXRlTWVtYmVyIiwibWVtVG9SZW1vdmUiLCJkZWxldGVNZW1iZXIiLCIkc3RhdGVQYXJhbXMiLCJhbGxSb2xlcyIsImRlbE1lbSIsIlNhdmVPbkJsdXIiLCJDaGFuZ2VQYXNzd29yZCIsImNoYW5nZVBXIiwicm9sZU5hbWUiLCJhZGRNZW1iZXIiLCJubSIsInVzZXJQcm9maWxlSWQiLCJzaG93TWVtYmVyTW9kYWwiLCJtZW1iZXJDbGlja2VkIiwiZWFjaE0iLCJsZWFmbGV0Qm91bmRzSGVscGVycyIsInNwaW5uZXJTZXJ2aWNlIiwic2l0ZVBhcnRzIiwiaGlkZSIsImdvVG9TaXRlRGFzaGJvYXJkIiwiYWxsU2Vuc0RlcHMiLCJQcm9wb3NlZFNlbnNvcnM0U2l0ZSIsImdldFByb3Bvc2VkU2Vuc29ycyIsInNSZXNwb25zZSIsImNhbmNlbFByb3Bvc2luZyIsInNpdGVQZWFrcyIsImFsbFNpdGVQZWFrcyIsInNob3dQZWFrcyIsIkVWRU5UIiwiTWFwX0ZpbHRlciIsInN1cnZleU9wdGlvbnMiLCJldmVudFNpdGVzT25seSIsInNob3ciLCJzZXRGaWx0ZXJlZFNpdGVzIiwic3AiLCJzaXRlc1Byb21pc2UiLCJnZXRFdmVudFNpdGVzIiwiTWFwX1NpdGUiLCJmaWx0ZXJlZFNpdGVzQXJyYXkiLCJzZWxlY3RlZE1hcmtlck51bSIsInNob3dFdmVudFNpdGVzIiwic3RuR3JheSIsIm5ld1NpdGUiLCJud2lzIiwiTCIsImRpdkljb24iLCJhY3Rpb24iLCJpY29uVXJsIiwicG9wdXBBbmNob3IiLCJsb3dfdGhyZXNob2xkIiwibWFqb3IiLCJtaW5vciIsIm1vZGVyYXRlIiwibm9fZmxvb2RpbmciLCJub3RfZGVmaW5lZCIsIm9ic19ub3RfY3VycmVudCIsIm91dF9vZl9zZXJ2aWNlIiwic2l0ZXNBcnJheSIsInNpdGVzIiwiZ2V0RGlyZWN0aXZlQ29udHJvbHMiLCJjb250cm9scyIsInNpdGVJRCIsInNldE1hcFNpdGVQYXJ0cyIsIm1vZGVsTmFtZSIsIm5vSGlkZSIsImNyZWF0ZVNpdGVNb2RlQWN0aXZlIiwicmVtb3ZlVXNlckNyZWF0ZWRTaXRlIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwidXNlckNyZWF0ZWRTaXRlIiwibGF0aXR1ZGUiLCJsYXRsbmciLCJsb25naXR1ZGUiLCJjcmVhdGVkU2l0ZUluZGV4Iiwib2JqIiwiY3JlYXRlU2l0ZUJ1dHRvblRleHQiLCJtYXBTdHlsZSIsImNyZWF0ZVNpdGVGcm9tTWFwIiwiZ2V0TWFwIiwiZ2VvU2VhcmNoQ29udHJvbCIsIkNvbnRyb2wiLCJHZW9TZWFyY2giLCJwcm92aWRlciIsIlByb3ZpZGVyIiwiRXNyaSIsInpvb21MZXZlbCIsImFkZFRvIiwibWFya2Vyc1dhdGNoT3B0aW9ucyIsImRvV2F0Y2giLCJpc0RlZXAiLCJpbmRpdmlkdWFsIiwiZ3JheSIsInN0cmVldHMiLCJuYXRpb25hbCIsIm9jZWFucyIsImRhcmtncmF5IiwiaW1hZ2VyeSIsInNoYWRlZHJlbGllZiIsInRlcnJhaW4iLCJzdG5TaXRlc0FsbCIsImxheWVyUGFyYW1zIiwic2hvd09uU2VsZWN0b3IiLCJhaHBzIiwibGF5ZXJPcHRpb25zIiwib3BhY2l0eSIsInBvaW50VG9MYXllciIsImdlb2pzb24iLCJwcm9wZXJ0aWVzIiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJncmFwaFVSTCIsImdhdWdlbGlkIiwidG9Mb3dlckNhc2UiLCJiaW5kUG9wdXAiLCJyYWRhciIsIndhdGNoV2FybiIsIiRkb2N1bWVudCIsImlzQXV0aCIsImRvY3VtZW50TW9kZSIsInVzZXJzTmFtZSIsInVzZXJJRCIsIkxvZ0luT3V0Q29udHJvbGxlciIsIkVOVklST05NRU5UIiwiTG9naW4iLCJuZXdzVGl0bGUiLCJuZXdzRmVlZCIsImdldE5ld3NGZWVkIiwicGFyYWdyYXBoVGFncyIsImJvZHkiLCJzdG9yYWdlIiwia2V5cHJlc3MiLCIkcGFzc3dvcmQiLCJ0b29sdGlwVmlzaWJsZSIsImlzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidG9VcHBlckNhc2UiLCJzaGlmdEtleSIsInRvb2x0aXAiLCJibHVyIiwiZW52aXJvbm1lbnQiLCJ1cCIsImxvZ2luIiwidXNlciIsInJldHVyblRvU3RhdGUiLCJyZXR1cm5Ub1N0YXRlUGFyYW1zIiwibG9nb3V0IiwicmVtb3ZlIiwiYXBwcm92YWxTZWFyY2giLCJxaHdtRm9ybSIsIk1FTUJFUl9JRCIsIkRBVEVfRVNUQUJMSVNIRUQiLCJIV01fRU5WSVJPTk1FTlQiLCJCQU5LIiwiRkxBR19EQVRFIiwiU1RJTExXQVRFUiIsIk9CSkVDVElWRV9QT0lOVF9JRCIsIklERU5USUZJRVIiLCJJREVOVElGSUVSX1RZUEUiLCJMQVRJVFVERV9ERCIsIkxPTkdJVFVERV9ERCIsIkFERFJFU1MiLCJDSVRZIiwiWklQIiwiZ2VvY29kZXIiLCJnb29nbGUiLCJtYXBzIiwiR2VvY29kZXIiLCJMYXRMbmciLCJnZW9jb2RlIiwibGF0TG5nIiwicmVzdWx0cyIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJhZGRyZXNzX2NvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiayIsInYxIiwidHlwZXMiLCJrMiIsInYyIiwibG9uZ19uYW1lIiwic3RyZWV0X251bWJlciIsInJvdXRlIiwibG9jYWxpdHkiLCJTVEFURV9OQU1FIiwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xIiwiU1RBVEVfQUJCUkVWIiwiU1RBVEVfSUQiLCJDT1VOVFkiLCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzIiLCJwb3N0YWxfY29kZSIsIlVOUVVBTlRJRklFRCIsIlVOQ0VSVEFJTlRZIiwiREVTQ1JJUFRJT04iLCJFTEVWX0ZUIiwiT1BfSVNfREVTVFJPWUVEIiwiT1BfTk9URVMiLCJTSVRFX0lEIiwiVkRBVFVNX0lEIiwiSERBVFVNX0lEIiwiSENPTExFQ1RfTUVUSE9EX0lEIiwiVkNPTExFQ1RfTUVUSE9EX0lEIiwiT1BfVFlQRV9JRCIsIkRBVEVfUkVDT1ZFUkVEIiwiT1BfUVVBTElUWV9JRCIsInF1aWNrSFdNIiwiV0FURVJCT0RZIiwiRkxBR19URUFNX0lEIiwiRVZFTlRfSUQiLCJjcmVhdGVPUENvbnRyb2xJRCIsIlNVUlZFWV9EQVRFIiwiU1VSVkVZX1RFQU1fSUQiLCJTSVRFX0RFU0NSSVBUSU9OIiwiSFdNX1RZUEVfSUQiLCJIV01fUVVBTElUWV9JRCIsInRoaXNIV00iLCJod21BcHByb3ZhbCIsImh3bVNpdGUiLCJIV012YWwiLCJoT3BlbiIsImhGaWxlT3BlbiIsIkhEYXR1bXNMaXN0IiwiaENvbGxNTGlzdCIsInZDb2xsTUxpc3QiLCJIV01GaWxlcyIsImh3bUltYWdlRmlsZXMiLCJGbGFnTWVtYmVyIiwiU3VydmV5TWVtYmVyIiwidGhpc0hXTXNpdGUiLCJjcmVhdGVPUmVkaXRIV00iLCJod21Db3B5IiwibGF0RGlzIiwiYWJzIiwibG9EaXMiLCJsYXREaXN0YW5jZSIsImxvbmdEaXN0YW5jZSIsImh3bV90eXBlIiwiVHJhbnF1aWwiLCJNYXJrZXIiLCJtYXJrZXIxIiwiUXVhbGl0eSIsImhxIiwiaHdtX3F1YWxpdHkiLCJnZXRIV01BcHByb3ZhbCIsImh3bU1vZGFsSGVhZGVyIiwiY3JlYXRlZEhXTSIsImFwcHJvdmVIV00iLCJ1bkFwcHJvdmVIV00iLCJmb3JtYXRIV00iLCJmb3JtYXR0ZWRIV00iLCJjbGVhbkhXTSIsImRlbGV0ZUhXTSIsImh3bVRvUmVtb3ZlIiwid2FubmFFZGl0SFdNIiwiY2FuY2VsSFdNRWRpdCIsInRoaXNTaXRlSFdNcyIsIkhXTV9TZXJ2aWNlIiwiaHdtQ291bnQiLCJTaXRlSFdNcyIsInNldEFsbFNpdGVIV01zIiwic2hvd0hXTU1vZGFsIiwiSFdNY2xpY2tlZCIsImh3bUZpbGVUeXBlcyIsImhmdCIsIkhEYXR1bXMiLCJIQ29sbGVjdE1ldGhzIiwiT1BUeXBlcyIsIlZEYXR1bXMiLCJIVHlwZXMiLCJIV01RdWFscyIsImR5bmFtaWMiLCJtYXgiLCJob3RJbnN0YW5jZSIsImNvbHVtbldpZHRocyIsIkNoYW5nZXMiLCJpbnZhbGlkcyIsImhEYXR1bUxpc3QiLCJoRGF0dW1BcnJheSIsImhDb2xsZWN0TGlzdCIsImhjb2xsZWN0QXJyYXkiLCJzdGF0ZUFycmF5IiwiY291bnR5TGlzdCIsImNvdW50eUFycmF5Iiwib3BUeXBlQXJyYXkiLCJ2RGF0dW1MaXN0IiwidkRhdHVtQXJyYXkiLCJod21UeXBlQXJyYXkiLCJod21FbnZpckxpc3QiLCJod21RdWFsaXR5TGlzdCIsImh3bVF1YWxpdHlBcnJheSIsImhpc3RvcmljSFdNcyIsImNvdW50eV9uYW1lIiwiZ2V0U3RhdGVDbyIsInJvd1ZhbHVlcyIsImdldERhdGFBdFJvdyIsInNldERhdGFBdENlbGwiLCJzZXRDZWxsTWV0YSIsIlVwZGF0ZUNvdW50aWVzIiwidGhlQ2hhbmdlIiwicmVxdWlyZWRNb2RhbCIsImxhdFZhbGlkYXRvciIsImNhbGxiYWNrIiwibG9uZ1ZhbGlkYXRvciIsImNvbG9yUmVuZGVyZXIiLCJpbnN0YW5jZSIsInRkIiwicm93IiwiY29sIiwicHJvcCIsImNlbGxQcm9wZXJ0aWVzIiwiJGJ1dHRvbiIsImh0bWwiLCJlbXB0eSIsInJlcXVpcmVkVmFsaWRhdG9yIiwicmVzZXQiLCJyZXNldE1vZGFsIiwidGFibGVTZXR0aW5ncyIsImNvbEhlYWRlcnMiLCJyb3dIZWFkZXJzIiwiY29udGV4dE1lbnUiLCJtaW5TcGFyZVJvd3MiLCJhZnRlckluaXQiLCJtYW51YWxDb2x1bW5SZXNpemUiLCJtYW51YWxSb3dSZXNpemUiLCJ3b3JkV3JhcCIsInZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyIiwiY29sV2lkdGhzIiwiY2VsbHMiLCJjZWxscHJvcHMiLCJyZW5kZXJlciIsIm9uQmVmb3JlQ2hhbmdlIiwib25BZnRlckNoYW5nZSIsImNoYW5nZSIsInNvdXJjZSIsImFmdGVyT25DZWxsTW91c2VEb3duIiwiY29vcmRzIiwib25BZnRlclZhbGlkYXRlIiwiaXNWYWxpZCIsInNvdWNlIiwidkluZGV4IiwidkkiLCJyb3dIZWlnaHRzIiwiaG9yaXpEYXR1bUxpc3QiLCJob3JDb2xsTWV0aExpc3QiLCJ2ZXJ0Q29sbE1ldGhMaXN0IiwiZmlsZVR5cGVzTGlzdCIsImFnZW5jaWVzTGlzdCIsInNob3dUaXBzIiwiaHdtVHlwZXMiLCJod21RdWFscyIsImhvckRhdHVtcyIsImhvckNvbGxNZXRocyIsInZlcnREYXR1bXMiLCJ2ZXJ0Q29sbE1ldGhzIiwiY291bnRpZXMiLCJzaG93UHJvZ3Jlc3NCYXIiLCJzaXRlTm9BcnJvd0NsaWNrZWQiLCJ1cGxvYWRIV01zIiwicG9zdGVkSFdNcyIsIm5vdFZhbGlkIiwiZW52aXJBcnJheSIsIm1hcmtlckFycmF5IiwicXVhbEFycmF5IiwiYmFua0FycmF5IiwiaGRhdHVtQXJyYXkiLCJoY29sbE1ldGhBcnJheSIsInZkYXR1bUFycmF5IiwidmNvbGxNZXRoQXJyYXkiLCJ0cmFucUFycmF5IiwiY2hvc2VuRXZlbnQiLCJjaG9zZW5FdmVudE5hbWUiLCJkZWxJbmRleCIsInNpdGVQZWFrYXJyYXkiLCJhZGRBcHByb3ZhbEZpbGUiLCJhcHByb3ZlZEZJTEVtb2RhbCIsImFwcHJvdmFsX3R5cGUiLCJ1cGRhdGVGaWxlVHlwZSIsImFkZEZpbGUiLCJjcmVhdGVkRmlsZSIsImFwcHJvdmFsRmlsZSIsImFwcHJvdmFsU291cmNlIiwiZ2V0RmluZFNpdGVNb2RhbCIsImh3bVBhcnRzIiwiZGF0YUF0Um93IiwiZGVzZWxlY3RDZWxsIiwic2l0ZU1vZGFsIiwibmVhckJ5U2l0ZXMiLCJIV01wYXJ0cyIsInNpdGVOb0FscmVhZHlUaGVyZSIsImhkYXR1bXMiLCJoY29sTWV0aHMiLCJ2ZGF0dW1zIiwidmNvbE1ldGhzIiwib3RoZXJEYXRhSW5Sb3ciLCJnZXRDb2xIZWFkZXIiLCJudW1lcmljVmFsaWRhdG9yIiwiaHdtUXVhbFZhbHVlIiwiZ2V0RGF0YUF0Q2VsbCIsImFwcHJvcHJpYXRlSFdNUXVhbCIsIm1hdGNoaW5nRERWYWx1ZSIsImhhc0Vycm9yIiwiaHdUIiwiaHdNIiwiaHdFIiwiaHdRIiwiaHdCIiwiaEQiLCJoQyIsInVuY2VydFZhbHVlIiwiYXBwcm9wcmlhdGVxdWFsIiwicmVtb3ZlVGhpc1VwbG9hZEhXTSIsInN1Y2Nlc3NmdWxIV00iLCJzcGxpY2VJbmRleCIsImhjbU5hbWUiLCJoZE5hbWUiLCJod21RTmFtZSIsImh3bVROYW1lIiwibWFyayIsInZjbU5hbWUiLCJ2ZE5hbWUiLCJoYWciLCJlbEZ0IiwidW5jIiwiaHdtVW5jIiwiaHdtSSIsInVwbG9hZF9od21VbmMiLCJ1cGxvYWRfbWFyayIsInVwbG9hZF91bmMiLCJ1cGxvYWRfaGFnIiwidXBsb2FkX2VsRnQiLCJ1cGxvYWRfdmNvbGxNZXRoIiwidXBsb2FkX3ZkYXQiLCJ2YWxpZGF0ZVRhYmxlIiwiaGF2ZURhdGEiLCJ2YWxpZGF0ZUNlbGxzIiwicGFzdGVkSFdNcyIsImdldFNpdGVQZWFrcyIsInBlYWtSZXNwb25zZSIsImh3bVJlc3BvbnNlIiwic2l0ZVBlYWtJZCIsIlBlYWtTdW1tYXJ5Iiwic291cmNlUmVzcG9uc2UiLCJzb3VyY2VFcnJvciIsImFwcHJvdmVFcnJvciIsImh3bVNhdmVFcnJvciIsImdldFNpdGVQZWFrRXJyb3IiLCJnZXRId21TaXRlRXJyb3IiLCJjbGVhclRhYmxlIiwiZ29Ub1NpdGVEYXNoIiwid2FybmluZ01vZGFsIiwiRGVsZXRlSFdNIiwiT3BlbkhXTUVkaXQiLCJod21FZGl0SW5zdGFuY2UiLCJzaXRlSE1XcyIsImdldEV2ZW50U2l0ZUhXTXMiLCJod21VcGRhdGVkQU5ERmlsZUNudCIsIk9wZW5QZWFrRWRpdCIsInBlYWtJZCIsInBlYWtFZGl0SW5zdGFuY2UiLCJnZXRTaXRlRmlsZXMiLCJ1cGRhdGVkIiwiT3BlblBlYWtDcmVhdGUiLCJwZWFrQ3JlYXRlSW5zdGFuY2UiLCJjcmVhdGVkUGsiLCJwSFdNIiwibWF4Um93cyIsImNvbHVtblNvcnRpbmciLCJwcmV2ZW50T3ZlcmZsb3ciLCJyZWFsVGFyZ2V0IiwicGFzc0hXTXZhbHMiLCJvbkFmdGVyUmVtb3ZlUm93IiwiZ2V0U2VsZWN0ZWQiLCJlYWNoUm93SW5kZXhBcnJheSIsImNudCIsIk1pIiwibG9jYWxTaXRlcyIsInNob3dTaXRlQ3JlYXRlQXJlYSIsImRpc2FibGVPSyIsImNyZWF0ZUNoZWNrZWQiLCJzaG93SGlkZU1hcCIsInNob3dIaWRlQ3JlYXRlU2l0ZURpdiIsInVuY2hrQ3JlYXRlIiwiY2hlY2tlZFNpdGUiLCJzZWxlY3RlZFN0biIsInNob3dTaXRlc09uTWFwIiwiZml0TWFwQm91bmRzIiwic2l0ZV9uYW1lIiwiYm91bmRzIiwiZml0Qm91bmRzIiwicGFkZGluZyIsInN0bkhXTSIsInNlbGVjdGVkTWFya2VyIiwiY3JlYXRlTmV3U2l0ZSIsInNlbGVjdGVkU2l0ZSIsImVuc3VyZWh3bUxhYmVsVW5pcXVlIiwidW5pcXVlTW9kYWwiLCJxdWVyeVNlYXJjaCIsIkhXTV9wYXJhbXMiLCJzZWFyY2hDbGlja2VkIiwiYWRqdXN0SFdNcyIsImV2ZW50U3RhdGVIV01zIiwiZ2V0SFdNcyIsImNvdW50eU5hbWVzIiwiY291bnRpZXNDb21tYVNlcCIsInNldEJ1bGtIV01TZWFyY2giLCJDb3VudHkiLCJpc1Jlc3BvbnNlIiwib25lIiwiZ2V0QnVsa0hXTVNlYXJjaCIsInRoZVNlYXJjaCIsImNBIiwiSGFuZHNvbnRhYmxlIiwicmVuZGVyZXJzIiwiVGV4dFJlbmRlcmVyIiwiYXJndW1lbnRzIiwiYmFja2dyb3VuZCIsInNpdGVOb1JlbmRlcmVyIiwiaW5uZXJIVE1MIiwibnVtYmVyVmFsaWRhdG9yIiwiZ2V0RXZlbnRTdGF0ZUhXTXMiLCJ1cGRhdGVUaGVzZUhXTXMiLCJldkgiLCJ0aGV5SGF2ZUl0SGVyZSIsInN1cnZ5ZV9kYXRlIiwidSIsInNpdGVfbnVtYmVyIiwiZmlsbEhhbmRsZSIsImF1dG9JbnNlcnRSb3ciLCJpbnN0cnVtZW50TGlzdCIsImFsbEluc3RydW1lbnRzIiwiQ2hvc2VuRXZlbnQiLCJDaG9zZW5TdGF0ZSIsIkNob3NlbkNvdW50aWVzIiwidW5BcHByb3ZlZEhXTXMiLCJzaG93SFdNYm94IiwidW5BcHByb3ZlZERGcyIsInNob3dERmJveCIsInNpdGVzV09wZWFrcyIsInNob3dQZWFrYm94Iiwic2VhcmNoIiwiY2hvc2VuQ291bnRpZXMiLCJzdGF0ZUlEIiwiZ2V0VW5hcHByb3ZlZEhXTXMiLCJJc0FwcHJvdmVkIiwic3Jlc3BvbnNlIiwiZ2V0VW5hcHByb3ZlZERGcyIsIkRGcyIsInRoaXNkZkluc3QiLCJmb3JtYXR0ZWRERiIsIlNpdGVJZCIsInNlblR5cGUiLCJkZXBUeXBlIiwiSW5zdHJJRCIsIlNpdGVObyIsImdldFBlYWtsZXNzU2l0ZXMiLCJyZXNwMiIsImNhSSIsImNJIiwiY291bnR5X2lkIiwiYXBwcm92ZUNoZWNrIiwiaEFycmF5Iiwic29tZSIsImFwcHJvdmVUaGVzZSIsImhlbHBJbmZvIiwiZmFjdCIsInRoaXNGaWxlIiwiZmlsZUV4aXN0cyIsImZpbGVTb3VyY2UiLCJmaWxlU2l0ZSIsIkZJTEV2YWwiLCJ0aGVTaXRlIiwiY3JlYXRlT1JlZGl0RmlsZSIsImZpbGVDb3B5Iiwic291cmNlQ29weSIsIndob3NlRmlsZSIsImFnZW5jeU5hbWUiLCJhUHJvY2Vzc29yIiwiY2hhbmdlZEZpbGVUeXBlIiwiZGZDb3B5Iiwid2hhdGtpbmQiLCJ3YW5uYUVkaXRGSUxFIiwiY2FuY2VsRklMRUVkaXQiLCJ0aGlzU2l0ZUZpbGVzIiwic2l0ZVNlbnNvcnMiLCJ3aGF0S2luZGFGaWxlIiwidGhpc0lucyIsInR5cGVOYW1lIiwic2VyaWFsX251bWJlciIsIlNpdGVGaWxlcyIsImV4dEkiLCJleHRTdHJpbmciLCJzaXRlZmlsZXMiLCJnZXRBbGxTaXRlSFdNcyIsImdldEFsbFNpdGVTZW5zb3JzIiwiaHdtRmlsZXMiLCJzZmlsZXMiLCJzZW5zRmlsZXMiLCJzZmkiLCJFaGYiLCJFaHdtIiwiRXNmIiwiRWluc3QiLCJzaG93RmlsZU1vZGFsIiwiRmlsZUNsaWNrZWQiLCJTaW5kZXhDbGlja2VkIiwic2l0ZUZpbGVUeXBlcyIsInNlbnNvckZpbGVUeXBlcyIsIkV2ZW50TGlzdCIsIkV2ZW50VHlwZUxpc3QiLCJjaG9zZW5FdiIsIkV2ZW50Q2hvc2VuIiwiZmlsdGVyRXZlbnRzIiwiREFURSIsImdldEZpbHRlcmVkRXZlbnRzIiwiVHlwZSIsInNldEV2ZW50IiwiZXZlbnROYW1lIiwiY2xlYXJFdmVudCIsIm9wZW5FdmVudE1vZGFsIiwiZXZlbnRTdGF0dXNMaXN0IiwiYWRtaW5MaXN0IiwiZXZlbnRTaXRlcyIsImRvd25sb2FkWmlwVXJsIiwib2JqZWN0Q2hvaWNlcyIsImFuRXZlbnQiLCJldmVudFN0YXR1c2VzIiwiYWRtaW5NZW1iZXJzIiwiRVZ2YWwiLCJ3YW5uYUVkaXRFViIsImV2Q29weSIsImNhbmNlbEVWRWRpdCIsImNyZWF0ZU9SZWRpdEVWIiwiZXZNb2RhbEhlYWRlciIsImV2ZW50X3N0YXJ0X2RhdGUiLCJldmVudF9lbmRfZGF0ZSIsImNvbXBhcmVEYXRlcyIsImNyZWF0ZWRFdmVudCIsIlN0YXR1cyIsImNvb3JkIiwiU3RhcnREYXRlIiwiRW5kRGF0ZSIsIkNvb3JkIiwidXBkYXRlZEV2ZW50IiwiZGVsZXRlRVYiLCJldiIsImV2ZW50VG9SZW1vdmUiLCJ6aXBGaWxlUGFyYW1zIiwiZmlsZXNGb3IiLCJzdGF0ZU5hbWUiLCJmcm9tRGF0ZSIsInRvRGF0ZSIsInNpdGVDb3VudHlMaXN0IiwiZXZlbnRTdGF0ZXMiLCJzY2wiLCJIV01maWxlVHlwZXMiLCJzZW5zb3JmaWxlVHlwZXMiLCJ1cGRhdGVmaWxlVHlwZUNoZWNrcyIsImh3bUZpbGVUeXBlc1dhbnRlZCIsImh3bUZpbGVUeXBlc1N0cmluZyIsInNlbnNvckZpbGVUeXBlc1N0cmluZyIsImh3bUZUIiwic2VuRlQiLCJmaWxlVHlwZUNoZWNrTGlzdCIsImZpbGVzV2FudGVkQ2hvc2VuIiwiY2hlY2tlZEZpbGUiLCJzZW5zb3JGaWxlVHlwZXNXYW50ZWQiLCJEb3dubG9hZFppcCIsImZvcm1hdHRlZEZyb21EYXRlIiwiZm9ybWF0dGVkVG9EYXRlIiwiZmlsZXBhdGgiLCJ4aHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZWFkeVN0YXRlIiwidXNnc1dpTW1lc3NhZ2UiLCJnZXRSZXNwb25zZUhlYWRlciIsImJsb2IiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJ1cmxDcmVhdG9yIiwid2Via2l0VVJMIiwibW96VVJMIiwibXNVUkwiLCJhcHBlbmRDaGlsZCIsInNlbmQiLCJEZWxldGVFdmVudCIsImRlbEV2IiwiZXZlbnRDb29yZExpc3QiLCJ0aGlzRXZlbnRUeXBlIiwidGhpc0V2ZW50U3RhdHVzIiwiRUMiLCJ0aGlzRXZlbnRDb29yZCIsIkUiLCJDT1VOVElFUyIsImFsbENvb3JkTWVtYmVycyIsImlzQWRtaW4iLCJUaW5kZXgiLCJzaG93RXZlbnRNb2RhbCIsImV2ZW50Q2xpY2tlZCIsIlNUTlJlc291cmNlIiwicm9vdFVSTCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJwYXJhbXMiLCJpc0FycmF5IiwiY2FjaGUiLCJkZWxldGUiLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJzdG9ybVNjcmlwdCIsImdldERlcFNlbnNUeXBlIiwiZ2V0VEVTVGRhdGEiLCJkb3dubG9hZFppcCIsImdldFRpbWUiLCIkYnJvYWRjYXN0IiwiYnVsa1NlYXJjaCIsInNoIiwic2VhcmNoVGVybXMiLCJnZXRTZW5zb3JWaWV3IiwiZ2V0c3RhdHVzSW5zdHJ1bWVudHMiLCJnZXRJbnN0cnVtZW50U3RhdHVzIiwiTWFwU2l0ZVBhcnRzIiwiZ2V0TWFwU2l0ZVBhcnRzIiwicFJlc3BvbnNlIiwiZmlsdGVyZWRTaXRlcyIsImdldFJvbGVNZW1iZXJzIiwiZ2V0RXZlbnRQZW9wbGUiLCJnZXRPUEZpbGVzIiwiZ2V0UmVwb3J0QnlFdlN0IiwiZ2V0TWVtYmVyUmVwb3J0cyIsIlJlcG9ydElkIiwiQ29udGFjdFR5cGVJZCIsInNlbnNvclNjcmlwdFJ1bm5pbmciLCJ0cmFuc2Zvcm1SZXNwb25zZSIsImZyb21Kc29uIiwiZ2V0U2l0ZU5ldHdvcmtUeXBlcyIsIk5ldHdvcmtUeXBlSWQiLCJnZXRTaXRlTmV0d29ya05hbWVzIiwiTmV0d29ya05hbWVJZCIsImdldFNpdGVIb3VzaW5ncyIsImdldFNpdGVIV01zIiwiaXNSdW5uaW5nIiwicnVubmluZyIsIlNUTkJ1c2luZXNzU2VydmljZXMiLCJ1biIsInB3IiwidXNlck5hbWUiLCJ0b2tlbiIsIlNUTkNyZWRzIiwiU1ROVXNlcm5hbWUiLCJtSUQiLCJ1c2Vyc1JvbGUiLCJldklkIiwiZXZOYW1lIiwiU2Vzc2lvbkV2ZW50SUQiLCJTZXNzaW9uRXZlbnROYW1lIiwidElkIiwidE5hbWUiLCJTZXNzaW9uVGVhSUQiLCJTZXNzaW9uVGVhbU5hbWUiLCJsb2dnZWRJbiIsImlzTG9nZ2VkSW4iLCJjaGFuZ2VMb2dnZWRJbiIsIlllc09yTm8iLCJyZXR1cm5WYWwiLCJ1c2VzTmFtZSIsIm5hbWVUb1JtdiIsIklucHV0bWFzayIsImFsaWFzIiwib3B0cyIsIm5vTWFza3NDYWNoZSIsImRlZmluaXRpb25zIiwidXNlck9wdGlvbnMiLCJyZXNvbHZlQWxpYXMiLCJpc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJpc1N1cHBvcnRlZCIsInNldEF0dHJpYnV0ZSIsImlzSW5wdXRUeXBlU3VwcG9ydGVkIiwiaW5wdXRUeXBlIiwiYWxpYXNTdHIiLCJhbGlhc0RlZmluaXRpb24iLCJhbGlhc2VzIiwibWFzayIsImltcG9ydEF0dHJpYnV0ZU9wdGlvbnMiLCJucHQiLCJpbXBvcnRPcHRpb24iLCJvcHRpb24iLCJvcHRpb25EYXRhIiwiZ2V0QXR0cmlidXRlIiwiZGF0YW9wdGlvbnMiLCJhdHRyT3B0aW9ucyIsIlJlZ0V4cCIsInBhcnNlIiwiZ2VuZXJhdGVNYXNrU2V0Iiwibm9jYWNoZSIsImFuYWx5c2VNYXNrIiwiTWFza1Rva2VuIiwiaXNHcm91cCIsImlzT3B0aW9uYWwiLCJpc1F1YW50aWZpZXIiLCJpc0FsdGVybmF0b3IiLCJtYXRjaGVzIiwicXVhbnRpZmllciIsImluc2VydFRlc3REZWZpbml0aW9uIiwibXRva2VuIiwibWFza2RlZiIsInByZXZNYXRjaCIsImVzY2FwZWQiLCJpc0Z1bmN0aW9uIiwicHJldmFsaWRhdG9ycyIsInByZXZhbGlkYXRvciIsInByZXZhbGlkYXRvcnNMIiwiY2FyZGluYWxpdHkiLCJ2YWxpZGF0b3IiLCJmbiIsIm9wdGlvbmFsaXR5IiwibmV3QmxvY2tNYXJrZXIiLCJkZWYiLCJkZWZpbml0aW9uU3ltYm9sIiwiY2FzaW5nIiwidmVyaWZ5R3JvdXBNYXJrZXIiLCJsYXN0TWF0Y2giLCJpc09wZW5Hcm91cCIsImdyb3VwbWFya2VyIiwic3RhcnQiLCJlbmQiLCJtYXNrQ3VycmVudFRva2VuIiwiY3VycmVudFRva2VuIiwiZXh0cmFDb25kaXRpb24iLCJkZWZhdWx0Q2FzZSIsIm9wZW5lbmluZ3MiLCJjdXJyZW50T3BlbmluZ1Rva2VuIiwiYWx0ZXJuYXRvciIsInBvcCIsIm1uZHgiLCJyZXZlcnNlVG9rZW5zIiwibWFza1Rva2VuIiwicmV2ZXJzZVN0YXRpYyIsIm9wdGlvbmFsbWFya2VyIiwiaW50TWF0Y2giLCJxdCIsIm9wZW5pbmdUb2tlbiIsImdyb3VwVG9rZW4iLCJ0b2tlbml6ZXIiLCJtYXNrVG9rZW5zIiwiZXhlYyIsImNoYXJBdCIsImVzY2FwZUNoYXIiLCJxdWFudGlmaWVybWFya2VyIiwibXEiLCJtcTAiLCJtcTEiLCJhbHRlcm5hdG9ybWFya2VyIiwibnVtZXJpY0lucHV0IiwiZ2VuZXJhdGVNYXNrIiwibWV0YWRhdGEiLCJncmVlZHkiLCJyZXBlYXQiLCJyZXBlYXRTdGFydCIsIm1hc2tzZXREZWZpbml0aW9uIiwibWFza3NDYWNoZSIsInZhbGlkUG9zaXRpb25zIiwiX2J1ZmZlciIsImJ1ZmZlciIsInRlc3RzIiwicHJlUHJvY2Vzc01hc2siLCJrZWVwU3RhdGljIiwiYWx0TWFzayIsIm5keCIsIm1zayIsIm1hc2tTY29wZSIsImFjdGlvbk9iaiIsIm1hc2tzZXQiLCJnZXRNYXNrVGVtcGxhdGUiLCJiYXNlT25JbnB1dCIsIm1pbmltYWxQb3MiLCJpbmNsdWRlSW5wdXQiLCJuZHhJbnRsenIiLCJ0ZXN0UG9zIiwibWFza1RlbXBsYXRlIiwicG9zIiwiZ2V0TWFza1NldCIsInZhbGlkUG9zIiwibG9jYXRvciIsImlucHV0IiwiZ2V0UGxhY2Vob2xkZXIiLCJnZXRUZXN0VGVtcGxhdGUiLCJtYXhMZW5ndGgiLCJyZXNldE1hc2tTZXQiLCJzb2Z0IiwiZ2V0TGFzdFZhbGlkUG9zaXRpb24iLCJjbG9zZXN0VG8iLCJzdHJpY3QiLCJsYXN0VmFsaWRQb3NpdGlvbiIsInZhbGlkcyIsImJlZm9yZSIsImFmdGVyIiwicG9zTmR4IiwicHNOZHgiLCJzZXRWYWxpZFBvc2l0aW9uIiwidmFsaWRUZXN0IiwiZnJvbVNldFZhbGlkIiwiaW5zZXJ0TW9kZSIsInBvc2l0aW9uc0Nsb25lIiwibHZwIiwiaiIsInZwcyIsInBvc01hdGNoIiwicHJldlBvc01hdGNoIiwiZ2V0TWFza0xlbmd0aCIsIm9wdGlvbmFsUXVhbnRpZmllciIsImdldFRlc3RzIiwiYWx0ZXJuYXRpb24iLCJzZWVrTmV4dCIsInBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uIiwic3RyaXBWYWxpZFBvc2l0aW9ucyIsIm5vY2hlY2siLCJzdGFydFBvcyIsImNhbkNsZWFyUG9zaXRpb24iLCJpc01hc2siLCJtbCIsInJhZGl4UG9pbnQiLCJ0c3RQcyIsInRlc3RQb3NpdGlvbnMiLCJsdlRlc3QiLCJsdlRlc3RBbHRBcnIiLCJjaGVja0FsdGVybmF0aW9uTWF0Y2giLCJnZXRUZXN0IiwidG5keCIsImNhY2hlYWJsZSIsInJlc29sdmVUZXN0RnJvbVRva2VuIiwibmR4SW5pdGlhbGl6ZXIiLCJsb29wTmR4IiwicXVhbnRpZmllclJlY3Vyc2UiLCJoYW5kbGVNYXRjaCIsImluQXJyYXkiLCJvcHRpb25hbFRva2VuIiwibGF0ZXN0TWF0Y2giLCJpc0ZpcnN0TWF0Y2giLCJpbnNlcnRTdG9wIiwibWFsdE1hdGNoZXMiLCJhbHRlcm5hdGVUb2tlbiIsIm1hbHRlcm5hdGVNYXRjaGVzIiwiY3VycmVudE1hdGNoZXMiLCJsb29wTmR4Q250IiwiYWx0SW5kZXgiLCJjdXJyZW50UG9zIiwibmR4SW5pdGlhbGl6ZXJDbG9uZSIsImFsdEluZGV4QXJyIiwiYW1uZHgiLCJudG5keCIsImxtbnQiLCJuZHgxIiwiYWx0TWF0Y2giLCJuZHgyIiwiYWx0TWF0Y2gyIiwiaXNGaW5pdGUiLCJtYW1hdGNoIiwiYWx0TG9jQXJyIiwiYWxuZHgiLCJxbmR4IiwidG9rZW5Hcm91cCIsInByZXZpb3VzUG9zIiwibXRuZHgiLCJnZXRCdWZmZXJUZW1wbGF0ZSIsImdldEJ1ZmZlciIsIm5vQ2FjaGUiLCJyZWZyZXNoRnJvbUJ1ZmZlciIsInNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIiLCJhbHRBcnIxIiwiYWx0QXJyMiIsImFsdEFyckMiLCJpc01hdGNoIiwiX2lzVmFsaWQiLCJyc2x0IiwidHN0IiwibG9vcGVuZCIsImNocnMiLCJnZXRCdWZmZXJFbGVtZW50IiwidmFsaWRhdGVkUG9zIiwicG9zc2libGVNb2RpZmllZEJ1ZmZlciIsImluc2VydCIsInJlZnJlc2giLCJhbHRlcm5hdGUiLCJsYXN0QWx0IiwiaXNWYWxpZFJzbHQiLCJhbHRQb3MiLCJ2YWxpZFBzQ2xvbmUiLCJsQWx0IiwiZGVjaXNpb25Qb3MiLCJhbHROZHhzIiwiZGVjaXNpb25UYWtlciIsInBvc3NpYmlsaXR5UG9zIiwicG9zc2liaWxpdGllcyIsInZhbGlkSW5wdXRzIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zIiwidGFyZ2V0THZwIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIiwidHJhY2tiYWNrQWx0ZXJuYXRpb25zIiwib3JpZ2luYWxQb3MiLCJuZXdQb3MiLCJ2cCIsInRhcmdldExvY2F0b3IiLCJ0bGwiLCJiZXN0TWF0Y2giLCJlcXVhbGl0eSIsInBuZHgiLCJtYXNrUG9zIiwiY3VycmVudFBvc1ZhbGlkIiwiblBvcyIsInNuUG9zIiwiY2FyZXQiLCJpc0NvbXBsZXRlIiwicG9zdFZhbGlkYXRpb24iLCJwb3N0VmFsaWRSZXN1bHQiLCJzdGF0aWNBbHRlcm5hdGlvbnMiLCJtYXNrTGVuZ3RoIiwibGFzdFRlc3QiLCJuZXdCbG9jayIsIm1hc2tMIiwibm9qdW1wcyIsIm5vanVtcHNUaHJlc2hvbGQiLCJzZWVrUHJldmlvdXMiLCJ3cml0ZUJ1ZmZlciIsImNhcmV0UG9zIiwidHJpZ2dlcklucHV0RXZlbnQiLCJvbkJlZm9yZVdyaXRlIiwiX3ZhbHVlU2V0Iiwic2tpcElucHV0RXZlbnQiLCJwcmV2VGVzdCIsImhhc0FsdGVybmF0aW9ucyIsImNoZWNrVmFsIiwid3JpdGVPdXQiLCJucHR2bCIsImlzVGVtcGxhdGVNYXRjaCIsImNoYXJDb2RlTmR4IiwiaW5pdGlhbE5keCIsImNoYXJDb2RlcyIsImJ1ZmZlclRlbXBsYXRlQXJyIiwiYXV0b1VubWFzayIsInN0YXRpY0lucHV0IiwiZXNjYXBlUmVnZXgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJuZXh0VGVzdCIsImtleXByZXNzRXZlbnQiLCJhY3RpdmVFbGVtZW50IiwidW5tYXNrZWR2YWx1ZSIsInVtVmFsdWUiLCJ1bm1hc2tlZFZhbHVlIiwiaXNSVEwiLCJidWZmZXJWYWx1ZSIsIm9uVW5NYXNrIiwiYmVnaW4iLCJ0cmFuc2xhdGVQb3NpdGlvbiIsImJmZnJMZ2h0IiwicmFuZ2UiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U2VsZWN0aW9uIiwiZ2V0UmFuZ2VBdCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJtb3ZlU3RhcnQiLCJzY3JvbGxDYWxjIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImZvbnRTaXplIiwic2Nyb2xsTGVmdCIsInNjcm9sbFdpZHRoIiwiYW5kcm9pZGNocm9tZSIsImZpcnN0Q2hpbGQiLCJ0ZXh0Tm9kZSIsImNyZWF0ZVRleHROb2RlIiwic2V0U3RhcnQiLCJfdmFsdWVHZXQiLCJzZXRFbmQiLCJjb2xsYXBzZSIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwibW92ZUVuZCIsImRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uIiwicmV0dXJuRGVmaW5pdGlvbiIsImJsIiwicG9zaXRpb25zIiwibHZUZXN0QWx0IiwiY2xlYXJPcHRpb25hbFRhaWwiLCJybCIsImxtaWIiLCJscnAiLCJhbWwiLCJpc1NlbGVjdGlvbiIsIndyYXBFdmVudFJ1bGVyIiwiZXZlbnRIYW5kbGVyIiwiaW5Db21wb3NpdGlvbiIsImtleWRvd25QcmVzc2VkIiwiaW1PcHRzIiwib2ZmIiwicmVhZE9ubHkiLCJjdHJsS2V5IiwidGFiVGhyb3VnaCIsIlRBQiIsInNraXBLZXlQcmVzc0V2ZW50IiwicGF0Y2hWYWx1ZVByb3BlcnR5IiwicGF0Y2hWYWxob29rIiwidmFsSG9va3MiLCJpbnB1dG1hc2twYXRjaCIsInZhbGhvb2tHZXQiLCJ2YWxob29rU2V0Iiwic2V0IiwiYnVmZmVyVGVtcGxhdGUiLCIkZWxlbSIsImdldHRlciIsInZhbHVlR2V0IiwiY2xlYXJNYXNrT25Mb3N0Rm9jdXMiLCJzZXR0ZXIiLCJ2YWx1ZVNldCIsImluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrIiwiJGlucHV0IiwiX192YWx1ZUdldCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInRleHRDb250ZW50IiwiZGVmaW5lUHJvcGVydHkiLCJfX2xvb2t1cEdldHRlcl9fIiwiX19sb29rdXBTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJfX2RlZmluZVNldHRlcl9fIiwib3ZlcnJ1bGVSVEwiLCJfX3ZhbHVlU2V0IiwiaGFuZGxlUmVtb3ZlIiwiZ2VuZXJhbGl6ZSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsInBlbmQiLCJncm91cFNlcGFyYXRvciIsImtleWRvd25FdmVudCIsImlwaG9uZSIsInVuZG9WYWx1ZSIsInNob3dUb29sdGlwIiwiRU5EIiwiUEFHRV9ET1dOIiwiSE9NRSIsIlBBR0VfVVAiLCJ1bmRvT25Fc2NhcGUiLCJFU0NBUEUiLCJhbHRLZXkiLCJJTlNFUlQiLCJSSUdIVCIsIkxFRlQiLCJvbktleURvd24iLCJpZ25vcmFibGUiLCJpZ25vcmFibGVzIiwiY2hlY2t2YWwiLCJtZXRhS2V5IiwiRU5URVIiLCJmb3J3YXJkUG9zaXRpb24iLCJpc1NsY3RuIiwidW5kb1Bvc2l0aW9ucyIsIm11bHRpIiwid3JpdGVPdXRCdWZmZXIiLCJ2YWxSZXN1bHQiLCJzZWxmIiwib25LZXlWYWxpZGF0aW9uIiwicGFzdGVFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJ2YWx1ZUJlZm9yZUNhcmV0IiwidmFsdWVBZnRlckNhcmV0IiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJwYXN0ZVZhbHVlIiwib25CZWZvcmVQYXN0ZSIsImlucHV0RmFsbEJhY2tFdmVudCIsIm1vYmlsZUlucHV0RXZlbnQiLCJjb21wb3NpdGlvblN0YXJ0RXZlbnQiLCJjb21wb3NpdGlvbkRhdGEiLCJjb21wb3NpdGlvblVwZGF0ZUV2ZW50IiwibmV3RGF0YSIsImNvbXBvc2l0aW9uRW5kRXZlbnQiLCJzZXRWYWx1ZUV2ZW50Iiwib25CZWZvcmVNYXNrIiwiY2xlYXJJbmNvbXBsZXRlIiwiZm9jdXNFdmVudCIsIm5wdFZhbHVlIiwic2hvd01hc2tPbkZvY3VzIiwic2hvd01hc2tPbkhvdmVyIiwibW91c2VFbnRlciIsInBvc2l0aW9uQ2FyZXRPblRhYiIsIm1vdXNlbGVhdmVFdmVudCIsImNsaWNrRXZlbnQiLCJkb1JhZGl4Rm9jdXMiLCJjbGlja1BvcyIsInJhZGl4Rm9jdXMiLCJyYWRpeFBvcyIsInNlbGVjdGVkQ2FyZXQiLCJjbGlja1Bvc2l0aW9uIiwibHZjbGlja1Bvc2l0aW9uIiwibGFzdFBvc2l0aW9uIiwiZGJsY2xpY2tFdmVudCIsImN1dEV2ZW50IiwiY2xpcERhdGEiLCJzZXREYXRhIiwiZXhlY0NvbW1hbmQiLCJibHVyRXZlbnQiLCJtb3VzZWVudGVyRXZlbnQiLCIkZWwiLCJkaXIiLCJyaWdodEFsaWduIiwidGV4dEFsaWduIiwicmVtb3ZlQXR0cmlidXRlIiwidGFnTmFtZSIsImlzQ29udGVudEVkaXRhYmxlIiwiZm9ybSIsInJlbW92ZU1hc2tPblN1Ym1pdCIsIlBhc3RlRXZlbnRUeXBlIiwib25jb21wbGV0ZSIsIm9uaW5jb21wbGV0ZSIsIm9uY2xlYXJlZCIsImFuZHJvaWRmaXJlZm94IiwiYW5kcm9pZCIsImtpbmRsZSIsImluaXRpYWxWYWx1ZSIsInZhbHVlQnVmZmVyIiwidmFsdWVQcm9wZXJ0eSIsImZpcnN0QWx0Iiwibm9vcCIsInBhc3RlZFZhbHVlIiwic3VwcG9ydHNJbnB1dFR5cGUiLCI5IiwiKiIsImVsZW1zIiwidGhhdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlTmFtZSIsInNjb3BlZE9wdHMiLCJnZXRlbXB0eW1hc2siLCJoYXNNYXNrZWRWYWx1ZSIsImdldG1ldGFkYXRhIiwiZXh0ZW5kRGVmYXVsdHMiLCJleHRlbmREZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJleHRlbmRBbGlhc2VzIiwidW5tYXNrIiwic3RyIiwic3BlY2lhbHMiLCJBTFQiLCJDQVBTX0xPQ0siLCJDT01NQSIsIkNPTU1BTkQiLCJDT01NQU5EX0xFRlQiLCJDT01NQU5EX1JJR0hUIiwiQ09OVFJPTCIsIkRPV04iLCJNRU5VIiwiTlVNUEFEX0FERCIsIk5VTVBBRF9ERUNJTUFMIiwiTlVNUEFEX0RJVklERSIsIk5VTVBBRF9FTlRFUiIsIk5VTVBBRF9NVUxUSVBMWSIsIk5VTVBBRF9TVUJUUkFDVCIsIlBFUklPRCIsIlNISUZUIiwiU1BBQ0UiLCJVUCIsIldJTkRPV1MiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImpRdWVyeSIsIm5wdG1hc2siLCJqcXVlcnkiLCJ0cmlnZ2VySGFuZGxlciIsImRkL21tL3l5eXkiLCJ2YWwxcHJlIiwidmFsMSIsInZhbDJwcmUiLCJzZXBhcmF0b3IiLCJlc2NhcGVkU2VwYXJhdG9yIiwidmFsMiIsImxlYXBkYXkiLCJ5ZWFycmFuZ2UiLCJtaW55ZWFyIiwibWF4eWVhciIsImlzSW5ZZWFyUmFuZ2UiLCJlbnRlcmVkeWVhciIsImVudGVyZWR5ZWFyMiIsImRldGVybWluZWJhc2V5ZWFyIiwiaGludCIsImN1cnJlbnR5ZWFyIiwibWF4WWVhclByZWZpeCIsIm1heFllYXJQb3N0Zml4IiwibWF4eFllYXIiLCJnZXRGcm9udFZhbHVlIiwiMSIsInBjaHJzIiwiMiIsImZyb250VmFsdWUiLCJkYXlNb250aFZhbHVlIiwieWVhclByZWZpeCIsIm1tL2RkL3l5eXkiLCJ5eXl5L21tL2RkIiwiZGQubW0ueXl5eSIsImRkLW1tLXl5eXkiLCJtbS5kZC55eXl5IiwibW0tZGQteXl5eSIsInl5eXkubW0uZGQiLCJ5eXl5LW1tLWRkIiwiaHJzcHJlIiwiaHJzMjQiLCJocnMiLCJhbXBtIiwibXNwcmUiLCJ0aW1lc2VwYXJhdG9yIiwiaG91ckZvcm1hdCIsInRtcCIsImRhdGV0aW1lMTIiLCJtbS9kZC95eXl5IGhoOm1tIHhtIiwiaGg6bW0gdCIsImg6cyB0IiwiaGg6bW06c3MiLCJoaDptbSIsIm1tL3l5eXkiLCJzaGFtc2kiLCJBIiwiJiIsIiMiLCJkZWZhdWx0UHJlZml4IiwidXJscHJlMSIsInVybHByZTIiLCJ1cmxwcmUzIiwidXJscHJlNCIsInVybHByZTUiLCJ1cmxwcmU2IiwidXJscHJlNyIsInVybHByZTgiLCJwcmVmaXhMaW1pdCIsImlwIiwibWFza2VkVmFsdWUiLCJtYWMiLCJudW1lcmljIiwiYXV0b0VzY2FwZSIsInR4dCIsImVzY2FwZWRUeHQiLCJpbnRlZ2VyRGlnaXRzIiwiYXV0b0dyb3VwIiwiZ3JvdXBTaXplIiwic2VwcyIsIm1vZCIsImludGVnZXJPcHRpb25hbCIsImRpZ2l0c09wdGlvbmFsIiwiZGlnaXRzIiwiZGVjaW1hbFByb3RlY3QiLCJwcmVmaXgiLCJuZWdhdGlvblN5bWJvbCIsInN1ZmZpeCIsImFsbG93UGx1cyIsImFsbG93TWludXMiLCJmcm9udCIsInN0ZXAiLCJ1bm1hc2tBc051bWJlciIsInBvc3RGb3JtYXQiLCJyZWZvcm1hdE9ubHkiLCJzdWZmaXhTdHJpcHBlZCIsIm5lZWRzUmVmcmVzaCIsImNoYXJBdFBvcyIsImNidWYiLCJidWZWYWwiLCJidWZWYWxPcmlnaW4iLCJlc2NhcGVkR3JvdXBTZXBhcmF0b3IiLCJyYWRpeFNwbGl0IiwicmVnIiwicHJvY2Vzc1ZhbHVlIiwidG1wQnVmU3BsaXQiLCJtYXRjaFJzbHQiLCJpbnRlZ2VyUGFydCIsIm1hdGNoUnNsdERpZ2l0cyIsImludGVnZXJOUGFydCIsInJhZGl4UG9zaXRpb24iLCJzaWduSGFuZGxlciIsInJhZGl4SGFuZGxlciIsImludGVnZXJWYWx1ZSIsImxlYWRpbmdaZXJvSGFuZGxlciIsIl9yYWRpeFBvc2l0aW9uIiwiZGlnaXRzTWF0Y2giLCJpbnRlZ2VyTWF0Y2giLCJ+IiwiKyIsIi0iLCI6IiwicmFkaXgiLCJidWZDbG9uZSIsImtvbW1hTWF0Y2hlcyIsImRvdE1hdGNoZXMiLCJ2YWx1ZVBhcnRzIiwiZGVjUGFydCIsImRpZ2l0c0ZhY3RvciIsInBvdyIsInJvdW5kIiwicG9zaXRpb25JbnB1dCIsImNhbkNsZWFyIiwicmFkaXhJbmplY3Rpb24iLCJpc051bGwiLCJpbnRQYXJ0IiwicmFkaXhQYXJ0IiwiY3VycmVuY3kiLCJkZWNpbWFsIiwiaW50ZWdlciIsInBlcmNlbnRhZ2UiLCJjb3VudHJ5Y29kZSIsIm1hc2tMaXN0IiwiYWpheCIsImFzeW5jIiwiZGF0YVR5cGUiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwicHJvY2Vzc2VkVmFsdWUiLCJwaG9uZWJlIiwiUmVnZXgiLCJyZWdleFRva2VucyIsInF1YW50aWZpZXJGaWx0ZXIiLCJSZWdleFRva2VuIiwicmVwZWF0ZXJQYXJ0IiwiYW5hbHlzZVJlZ2V4Iiwib3Blbmdyb3VwcyIsInF1YW50aWZpZXJUb2tlbiIsInZhbGlkYXRlUmVnZXhUb2tlbiIsImZyb21Hcm91cCIsImlzdmFsaWQiLCJyZWdleFBhcnQiLCJvcGVuR3JvdXBDb3VudCIsIm1hdGNoVG9rZW4iLCJjcnJudG5keCIsIm1hdGNoR3JvdXAiLCJyZWdleFBhcnRCYWsiLCJxbSIsInRlc3RFeHAiLCJleHAiLCJidWZmZXJTdHIiLCJ0bCIsImNidWZmZXIiLCJyZWdleFRva2VuIiwiYXBwIiwicnVuIiwiJHVpYk1vZGFsU3RhY2siLCJhdXRoZW50aWNhdGUiLCJkaXNtaXNzQWxsIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJ2aWV3cyIsIm1hcEZpbHRlcnNAbWFwIiwic2Vuc1QiLCJuZXR3TiIsIm1hcFNpdGVJbmZvQG1hcCIsIm1hcFBlYWtzVmlld0BtYXAiLCJtYXBTZW5zb3JQcm9wb3NlQG1hcCIsImFic3RyYWN0IiwibWVtYmVySWQiLCJyb2xlSWQiLCJod21UIiwic3N0YXQiLCJzcXVhc2giLCJsYXRsb25nYXJyYXkiLCJ2ZXJ0RGF0cyIsInZlcnRDb2xNZXQiLCJvcFF1YWwiLCJzZW50IiwiYU1hcCIsIlZpZXdUeXBlIiwicGVhayJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQUVBLEVBQUEsR0FHQUEsaUJBSEFDLFFBQUFDLE9BQUEsdUJBQ0Esa0JBQUEsY0FBQSxpQkFBQSxZQUFBLGtCQUFBLGlCQUVBRCxRQUFBQyxPQUFBLHFCQUNBRCxTQUFBQyxPQUFBLHVCQVVBRixlQUFBRyxTQUFBLFVBQ0FDLFNBQUEsOExDbkJBLFdBRUEsWUFDQSxJQUFBSixnQkFBQUMsUUFBQUMsT0FBQSxpQkFJQUYsZ0JBQUFLLFVBQUEsYUFBQSxTQUFBLFNBQUFDLFFBQ0EsR0FBQUMsNEJBRUFDLFNBQUEsSUFFQUMsU0FBQSxFQUNBQyxPQUNBQyxLQUFBLGtCQUVBQyxLQUFBLFNBQUFGLE1BQUFHLFFBQUFDLE9BRUEsR0FFQUMsUUFGQUQsTUFBQUUsY0FBQUMsTUFBQSxLQUVBQyxHQUFBQyxPQUFBTixRQUFBLElBRUFFLE9BQUFLLE9BQUEsT0FBQUMsS0FBQSxRQUFBLFNBQ0FDLFVBQUEsT0FDQVgsS0FBQUQsTUFBQUMsTUFBQVksUUFBQUgsT0FBQSxPQUNBSSxhQUFBQyxLQUFBLFdBQ0FDLE1BQUEsUUFBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUEsTUFDQUMsS0FBQSxTQUFBRCxHQUFBLE1BQUFBLEdBQUEsTUFFQWpCLE1BQUFtQixPQUFBLE9BQUEsU0FBQUMsU0FBQUMsVUFDQXJCLE1BQUFDLEtBQUFtQixZQUlBLE9BQUF2Qiw4QkFFQVAsZUFBQUssVUFBQSxhQUFBLFdBQ0EsT0FDQUcsU0FBQSxJQUNBRSxPQUNBc0IsTUFBQSxXQUNBQyxTQUFB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cHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnLFxyXG4gICAgICBbJ25nSW5wdXRNb2RpZmllZCcsICd1aS52YWxpZGF0ZScsICdhbmd1bGFyLmZpbHRlcicsICd4ZWRpdGFibGUnLCAnY2hlY2tsaXN0LW1vZGVsJywgJ25nRmlsZVVwbG9hZCddKTtcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnLCBbXSk7XHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJywgW10pO1xyXG5cclxuICAgIC8vI3JlZ2lvbiAkY2Nva2llcyB2YXJpYWJsZXNcclxuICAgIC8qXHJcbiAgICAqIFNUTkNyZWRzLCBTVE5Vc2VybmFtZSwgdXNlcnNOYW1lLCBtSUQsIHVzZXJzUm9sZSwgU2Vzc2lvbkV2ZW50SUQsIFNlc3Npb25FdmVudE5hbWVcclxuICAgICovXHJcbiAgICAvLyNlbmRyZWdpb24gJGNvb2tpZXMgdmFyaWFibGVzXHJcblxyXG4gICAgLy8jcmVnaW9uIENPTlNUQU5UUyAgICBcclxuICAgIC8vcmVndWxhciBleHByZXNzaW9uIGZvciBhIHBhc3N3b3JkIHJlcXVpcmVtZW50IG9mIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nIGFuZCBhdCBsZWFzdCAzIG9mIDQgY2hhcmFjdGVyIGNhdGVnb3JpZXMgdXNlZCAodXBwZXIsIGxvd2VyLCBkaWdpdCwgc3BlY2lhbFxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29uc3RhbnQoJ1JlZ0V4cCcsIHtcclxuICAgICAgICBQQVNTV09SRDogL14oKCg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSl8KCg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlshQEA/IyQlXiZfOjstXSkpfCgoPz0uKlthLXpdKSg/PS4qWzAtOV0pKD89LipbIUBAPyMkJV4mXzo7LV0pKXwoKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAQD8jJCVeJl86Oy1dKSkpLns4LH0kL1xyXG4gICAgfSk7XHJcbiAgICAvLyNlbmRyZWdpb24gQ09OU1RBTlRTXHJcblxyXG4gICAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgLy90cnkgdGhpcyBvbmUgTW9uZGF5Ojo6XHJcbiAgICAvL2h0dHA6Ly93d3cubmctbmV3c2xldHRlci5jb20vcG9zdHMvZDMtb24tYW5ndWxhci5odG1sXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2JhcnNDaGFydCcsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAvL1dlIHJlc3RyaWN0IGl0cyB1c2UgdG8gYW4gZWxlbWVudCBhcyB1c3VhbGx5ICA8YmFycy1jaGFydD4gaXMgc2VtYW50aWNhbGx5IG1vcmUgdW5kZXJzdGFuZGFibGVcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgLy90aGlzIGlzIGltcG9ydGFudCwgd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGUgb3VyIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpbiB0aGUgSFRNTCBtYXJrLXVwXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogJz1lbGV2YXRpb25EYXRhJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnRpbmcgYWxsIGRhdGEgcGFzc2VkIHRocnUgaW50byBhbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBhdHRycy5lbGV2YXRpb25EYXRhLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAvL2luIEQzLCBhbnkgc2VsZWN0aW9uWzBdIGNvbnRhaW5zIHRoZSBncm91cCBzZWxlY3Rpb25bMF1bMF0gaXMgdGhlIERPTSBub2RlIGJ1dCB3ZSB3b24ndCBuZWVkIHRoYXQgdGhpcyB0aW1lXHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSBkMy5zZWxlY3QoZWxlbWVudFswXSk7XHJcbiAgICAgICAgICAgICAgICAvL3RvIG91ciBvcmlnaW5hbCBkaXJlY3RpdmUgbWFya3VwIGJhcnMtY2hhcnQgd2UgYWRkIGEgZGl2IHdpdGggb3V0IGNoYXJ0IHN0bGluZyBhbmQgYmluZCBlYWNoIGRhdGEgZW50cnkgdG8gdGhlIGNoYXJ0XHJcbiAgICAgICAgICAgICAgICBjaGFydC5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsIFwiY2hhcnRcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHNjb3BlLmRhdGEpLmVudGVyKCkuYXBwZW5kKFwiZGl2XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKS5lYXNlKFwiZWxhc3RpY1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkICsgXCIlXCI7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQgKyBcIiVcIjsgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2EgbGl0dGxlIG9mIG1hZ2ljOiBzZXR0aW5nIGl0J3Mgd2lkdGggYmFzZWQgb24gdGhlIGRhdGEgdmFsdWUgKGQpIGFuZCB0ZXh0IGFsbCB3aXRoIGEgc21vb3RoIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnZGF0YScsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XHJcbiAgICB9XSk7XHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ3NpdGVTZWFyY2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsOiAnPW5nTW9kZWwnLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoQnk6ICc9JywgLy9yZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoVGVybTogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInNlYXJjaG5hdlwiPicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaGJ5XCI+PGI+U2VhcmNoIEJ5OjwvYj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2hieW9wdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiU2VhcmNoQnlcIiBuZy1tb2RlbD1cInNlYXJjaEJ5LnZhbFwiIHZhbHVlPVwiYnlTaXRlSWRcIiAvPklEPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2VhcmNoYnlvcHRpb25cIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIlNlYXJjaEJ5XCIgbmctbW9kZWw9XCJzZWFyY2hCeS52YWxcIiB2YWx1ZT1cImJ5U2l0ZU5vXCIgLz5OdW1iZXI8L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2hieW9wdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiU2VhcmNoQnlcIiBuZy1tb2RlbD1cInNlYXJjaEJ5LnZhbFwiIHZhbHVlPVwiYnlTaXRlTmFtZVwiIC8+TmFtZTwvZGl2PjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaC1pbnB1dFwiPjxpbnB1dCBuZy1mb2N1cz1cImdvU2VhcmNoXCIgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNlYXJjaFRlcm1cIiBuZy1lbnRlcj1cIkluZGV4U2VhcmNoU2l0ZXMoKVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIFNpdGVzLi4uXCIgLz4nICtcclxuICAgICAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYm9yZGVyTGVzc1wiIG5nLWNsaWNrPVwiSW5kZXhTZWFyY2hTaXRlcygpXCI+U2VhcmNoIDxpIGNsYXNzPVwiaW9uLXNlYXJjaFwiPjwvaT48L2J1dHRvbj48L2Rpdj48L2Rpdj4nLFxyXG5cclxuICAgICAgICAgICAgY29udHJvbGxlcjogW1xyXG4gICAgICAgICAgICAgICAgJyRzY29wZScsICckc3RhdGUnLCAnJGh0dHAnLCAnU0lURScsICckdWliTW9kYWwnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgU0lURSwgJHVpYk1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFRlcm0gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoQnkgPSB7IHZhbDogJ2J5U2l0ZU5vJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5JbmRleFNlYXJjaFNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlYXJjaFRlcm0gIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLnNlYXJjaEJ5LnZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZU5vJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVObzogJHNjb3BlLnNlYXJjaFRlcm0gfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShlcnJvclJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZUlkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVJZDogJHNjb3BlLnNlYXJjaFRlcm0gfSwgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShyZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShlcnJvclJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZU5hbWUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFNlYXJjaGVkU2l0ZSh7IGJ5U2l0ZU5hbWU6ICRzY29wZS5zZWFyY2hUZXJtIH0sIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UoZXJyb3JSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVTZWFyY2hSZXNwb25zZSA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Vycm9yc3RhdHVzIHNob3cgbW9kYWwgd2l0aCBlcnJvciBtZXNzYWdlICdubyBzaXRlIGZvdW5kJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+Tm8gc2l0ZSBmb3VuZC4gRm9yIG1vcmUgc2l0ZSBzZWFyY2ggb3B0aW9ucywgZ28gdG8gdGhlIFNpdGVzIG5hdmlnYXRpb24gdGFiIHRvIHNlYXJjaCBmb3Igc2l0ZXMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hUZXJtID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEJ5ID0geyB2YWw6ICdieVNpdGVObycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgc2VhcmNoIGFuZCBnbyB0byB0aGUgc2l0ZSBkYXNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoVGVybSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEJ5ID0geyB2YWw6ICdieVNpdGVObycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiBzLnNpdGVfaWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vVGhpcyBkaXJlY3RpdmUgYWxsb3dzIHVzIHRvIHBhc3MgYSBmdW5jdGlvbiBpbiBvbiBhbiBlbnRlciBrZXkgdG8gZG8gd2hhdCB3ZSB3YW50LlxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImtleWRvd24ga2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdFbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vZm9jdXMgb24gdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHBhZ2VcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnbnVtZXJpY09ubHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtb2RlbEN0cmwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBtb2RlbEN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZElucHV0ID0gaW5wdXRWYWx1ZSA/IGlucHV0VmFsdWUucmVwbGFjZSgvW15cXGQuLV0vZywgJycpIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybWVkSW5wdXQgIT0gaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh0cmFuc2Zvcm1lZElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZElucHV0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZm9ybWF0IHRoZSBuZy1tb2RlbCBkYXRlIGFzIGRhdGUgb24gaW5pdGlhbCBsb2FkXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBQycsXHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZSB0aGUgZGVmYXVsdCBmb3JtYXR0ZXIgZnJvbSB0aGUgaW5wdXQgZGlyZWN0aXZlIHRvIHByZXZlbnQgY29uZmxpY3RcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGZvcm1hdHRlcnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2JhY2tCdXR0b24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIGdvQmFjayk7XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vdmFsaWRhdGUgcGFzc3dvcmRcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgncGFzc3dvcmRWYWxpZGF0ZScsIFsnUmVnRXhwJywgZnVuY3Rpb24gKHJlZ2V4KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgICAgIGVsbS51bmJpbmQoJ2tleWRvd24nKS51bmJpbmQoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgZWxtLmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAodmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZWdleC5QQVNTV09SRCkudGVzdCh2aWV3VmFsdWUudGFyZ2V0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCBpcyB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJwYXNzd29yZFZhbGlkYXRlXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQgaXMgaW52YWxpZCwgcmV0dXJuIHVuZGVmaW5lZCAtIG5vIG1vZGVsIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJwYXNzd29yZFZhbGlkYXRlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ3NhbWVBcycsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0udW5iaW5kKCdrZXlkb3duJykudW5iaW5kKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIGVsbS5iaW5kKCdibHVyJywgZnVuY3Rpb24gKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcGFyc2UoYXR0cnMuc2FtZUFzKShzY29wZSkgPT09IGN0cmwuJG1vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eSgncGFzc3dvcmRNaXNtYXRjaCcsIGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9tYWtlIHRleHRhcmVhIGhlaWdodCBlcXVhbCB0byBjb250ZW50IGluc2lkZSBpdCAobm8gc2Nyb2xsYmFycykgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzc3MjI2MC90ZXh0YXJlYS1hdXRvLWhlaWdodFxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdlbGFzdGljJywgWyckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsSGVpZ2h0ID0gJHNjb3BlLmluaXRpYWxIZWlnaHQgfHwgZWxlbWVudFswXS5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0ID0gJHNjb3BlLmluaXRpYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5zdHlsZS5oZWlnaHQgPSBcIlwiICsgZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbihcImlucHV0IGNoYW5nZVwiLCByZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQocmVzaXplLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdteUlucHV0TWFzaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0FDJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzayhzY29wZS4kZXZhbChhdHRycy5teUlucHV0TWFzaykpO1xyXG4gICAgICAgICAgICAgICAgZWwub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ01vZGVsICsgXCI9J1wiICsgZWwudmFsKCkgKyBcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3Igc2NvcGVbYXR0cnMubmdNb2RlbF0gPSBlbC52YWwoKSBpZiB5b3VyIGV4cHJlc3Npb24gZG9lc24ndCBjb250YWluIGRvdC5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vYmluZCBmaWxlIHVwbG9hZCBmaWxlIHRvIGEgbW9kZWwgc2NvcGUgdmFyXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsU2V0dGVyID0gbW9kZWwuYXNzaWduO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3VzZWQgb24gZXZlbnQgbmFtZSB0byBtYWtlIHN1cmUgbm8gc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2lucHV0UmVzdHJpY3RvcicsIFtcclxuICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsQ3RybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1teYS16QS1aMC05LSBfXS9nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmcm9tVXNlcih0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVkSW5wdXQgPSB0ZXh0LnJlcGxhY2UocGF0dGVybiwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtZWRJbnB1dCAhPT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh0cmFuc2Zvcm1lZElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHBhcnNlcnMucHVzaChmcm9tVXNlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdsYWJlbExpbWl0TGVuZ3RoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiBcIkFcIixcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gcGFyc2VJbnQoYXR0cnMubGFiZWxMaW1pdExlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbSkub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PSBsaW1pdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRGlyZWN0aXZlIGZvciBnZW5lcmljIGNoYXJ0LCBwYXNzIGluIGNoYXJ0IG9wdGlvbnNcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnaGNDaGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6ICc9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnQoZWxlbWVudFswXSwgc2NvcGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgLyogU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdoY0NoYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdj48L2Rpdj4nLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnQoZWxlbWVudFswXSwgc2NvcGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBhdHRycy5jaGFydCA9IG5ldyBIaWdoY2hhcnRzKGVsZW1lbnRbMF0sIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UeXBlOiAneCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbktleTogJ3NoaWZ0J1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9vc3RUaHJlc2hvbGQ6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0Nob3BwZXIgUmVzdWx0cydcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGljayBhbmQgZHJhZyB0byB6b29tIGluLiBIb2xkIGRvd24gc2hpZnQga2V5IHRvIHBhbi4nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdoY2hhcnRzLmNoYXJ0KGVsZW1lbnRbMF0sIHNjb3BlLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMuc2VyaWVzO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzLmNoYXJ0LnNlcmllcy5zZXREYXRhKCRwYXJzZShhdHRycy5zZXJpZXMpKHNjb3BlKS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pOyovXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG5cclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJHEnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckc2NlJywgJyR0aW1lb3V0JywgJyR1aWJNb2RhbCcsICckdWliTW9kYWxJbnN0YW5jZScsICckZmlsdGVyJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnYWxsRHJvcERvd25QYXJ0cycsXHJcbiAgICAgICAgJ2ZpbGVUeXBlcycsICdhZ2VuY3lMaXN0JywgJ2xhdGxvbmcnLCAndGhpc1NpdGVTdHVmZicsICdhbGxNZW1iZXJzJywgJ1NJVEUnLCAnU0lURV9IT1VTSU5HJywgJ1NpdGVfRmlsZXMnLCAnTUVNQkVSJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnTEFORE9XTkVSX0NPTlRBQ1QnLCAnR0VPQ09ERScsICdGSUxFX1NUQU1QJywgJ0ZJTEUnLCAnU09VUkNFJywgJ1NFUlZFUl9VUkwnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkcSwgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkc2NlLCAkdGltZW91dCwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJGZpbHRlciwgbGVhZmxldE1hcmtlckV2ZW50cywgYWxsRHJvcERvd25QYXJ0cywgZmlsZVR5cGVzLCBhZ2VuY3lMaXN0LCBsYXRsb25nLCB0aGlzU2l0ZVN0dWZmLCBhbGxNZW1iZXJzLCBTSVRFLFxyXG4gICAgICAgICAgICBTSVRFX0hPVVNJTkcsIFNpdGVfRmlsZXMsIE1FTUJFUiwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIExBTkRPV05FUl9DT05UQUNULCBHRU9DT0RFLCBGSUxFX1NUQU1QLCBGSUxFLCBTT1VSQ0UsIFNFUlZFUl9VUkwpIHtcclxuICAgICAgICAgICAgLy9kcm9wZG93bnMgXHJcbiAgICAgICAgICAgICRzY29wZS5Ib3Jpem9udGFsRGF0dW1MaXN0ID0gYWxsRHJvcERvd25QYXJ0c1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhvckNvbGxNZXRob2RMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLlN0YXRlTGlzdCA9IGFsbERyb3BEb3duUGFydHNbMl07XHJcbiAgICAgICAgICAgICRzY29wZS5BbGxDb3VudHlMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1szXTtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuRE1TID0ge307IC8vaG9sZGVyIG9mIGRlZyBtaW4gc2VjIHZhbHVlc1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxsSG91c2luZ1R5cGVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s0XTtcclxuICAgICAgICAgICAgJHNjb3BlLkRlcFByaW9yaXR5TGlzdCA9IGFsbERyb3BEb3duUGFydHNbNV07XHJcbiAgICAgICAgICAgICRzY29wZS5OZXROYW1lTGlzdCA9IGFsbERyb3BEb3duUGFydHNbNl07XHJcbiAgICAgICAgICAgICRzY29wZS5OZXRUeXBlTGlzdCA9IGFsbERyb3BEb3duUGFydHNbN107XHJcbiAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnMgPSBhbGxEcm9wRG93blBhcnRzWzhdO1xyXG4gICAgICAgICAgICAkc2NvcGUuU2Vuc29yRGVwbG95bWVudCA9IGFsbERyb3BEb3duUGFydHNbOV07XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5jbG9zZVNpdGVzID0gMDtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dNYXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVMYXQgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUxvbmcgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuaHRtbERlc2NyaXB0aW9uVGlwID0gJHNjZS50cnVzdEFzSHRtbCgnUmVxdWlyZWQgYnkgTldJUy4gQ2FuIGJlIGxpc3RlZCBhcyA8ZW0+XFwndW5rbm93blxcJzwvZW0+IG9yIDxlbT5cXCdBdGxhbnRpYyBPY2VhblxcJzwvZW0+Jyk7XHJcbiAgICAgICAgICAgICRzY29wZS5tYXBDZW50ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBsYXQ6ICRzY29wZS5zaXRlTGF0LFxyXG4gICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUuc2l0ZUxvbmcsXHJcbiAgICAgICAgICAgICAgICB6b29tOiAxN1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50cyA9IHtcclxuICAgICAgICAgICAgICAgIG1hcE1hcmtlcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBlbmFibGU6IGxlYWZsZXRNYXJrZXJFdmVudHMuZ2V0QXZhaWxhYmxlRXZlbnRzKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBpY29ucyA9IHtcclxuICAgICAgICAgICAgICAgIHN0bjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TaXRlSWNvbidcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBuZXdTVE46IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmV3U2l0ZUljb24nLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25BbmNob3I6IFs1LCA1XVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgdmFyIGF6aW11dGggPSBmdW5jdGlvbiAoZGVnLCBtaW4sIHNlYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF6aSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IC0xLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTEuMCAqIGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IDEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlQWRkcmVzc09ubHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIEdFT0NPREUuZ2V0QWRkcmVzc1BhcnRzKHsgTG9uZ2l0dWRlOiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlRklQUyA9IHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllc1swXS5TVEFURTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZUlEID0gJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2ZpcCA9PSBzdGF0ZUZJUFM7IH0pWzBdLnN0YXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1N0YXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5zdGF0ZSA9IHRoaXNTdGF0ZS5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuY291bnR5ID0gY291bnR5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIk5vIGxvY2F0aW9uIGluZm9ybWF0aW9uIGNhbWUgYmFjayBmcm9tIHRoYXQgbGF0L2xvbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbG9jYXRpb24gaW5mb3JtYXRpb24uXCIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vL3VwZGF0ZSBuZXdTaXRlIGxhdC9sbmcgYWZ0ZXIgZHJhZ2VuZFxyXG4gICAgICAgICAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcmtlci5kcmFnZW5kXCIsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRyYWdlbmRMb2NhdGlvbiA9IGFyZ3MubW9kZWw7XHJcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gcGFyc2VGbG9hdChkcmFnZW5kTG9jYXRpb24ubGF0LnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHBhcnNlRmxvYXQoZHJhZ2VuZExvY2F0aW9uLmxuZy50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGRtcyBhbHNvIGluIGNhc2UgdGhleSBoYXZlIHRoYXQgc2hvd2luZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGxvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFkZHJlc3NPbmx5KCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9nZXQgYWRkcmVzcyBwYXJ0cyBhbmQgZXhpc3Rpbmcgc2l0ZXMgXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSAmJiAhaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwQ2VudGVyID0geyBsYXQ6IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSwgbG5nOiBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpLCB6b29tOiAxOCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBNYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBHRU9DT0RFLmdldEFkZHJlc3NQYXJ0cyh7IExvbmdpdHVkZTogJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCwgTGF0aXR1ZGU6ICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlRklQUyA9IHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllc1swXS5TVEFURTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLk5BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSBzdGF0ZUZJUFMgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2ZpcCA9PSBzdGF0ZUZJUFM7IH0pWzBdLnN0YXRlX2lkIDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5TdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX2lkID09IHRoaXNTdGF0ZUlEOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1N0YXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuc3RhdGUgPSB0aGlzU3RhdGUuc3RhdGVfYWJicmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuY291bnR5ID0gY291bnR5TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NlZSBpZiB0aGVyZSBhcmUgYW55IHNpdGVzIHdpdGhpbiBhIDAuMDAwNSBidWZmZXIgb2YgaGVyZSBmb3IgdGhlbSB0byB1c2UgaW5zdGVhZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0UHJveGltaXR5U2l0ZXMoeyBMYXRpdHVkZTogJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkLCBMb25naXR1ZGU6ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQsIEJ1ZmZlcjogMC4wMDA1IH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNsb3NlU2l0ZXMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbG9zZVNpdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9ICRzY29wZS5jbG9zZVNpdGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBNYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IGEuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9ubzogYS5zaXRlX25vLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG4sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGEuc2l0ZV9ubyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm5ld1NUTixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOZXcgZHJhZ2dhYmxlIFNUTiBzaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNYXAgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBwcm94aW1pdHkgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlIExhdGl0dWRlL0xvbmdpdHVkZSBkaWQgbm90IHJldHVybiBhIHJlY29nbml6ZWQgc3RhdGUuIFBsZWFzZSBjaG9vc2Ugb25lIGZyb20gdGhlIGRyb3Bkb3duLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzcyBsb2NhdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZGlkIG5vdCB0eXBlIGEgbGF0L2xvbmcgZmlyc3QuLi5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcHJvdmlkZSBhIExhdGl0dWRlIGFuZCBMb25naXR1ZGUgYmVmb3JlIGNsaWNraW5nIFZlcmlmeSBMb2NhdGlvbjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9nbG9iYWxzIFxyXG4gICAgICAgICAgICAkc2NvcGUuaG91c2VEaXJ0eSA9IGZhbHNlOyAkc2NvcGUubmV0VHlwZURpcnR5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgLy9pZiBsYXRsb25nLCB0aGVuIGl0J3MgY29taW5nIGZyb20gdGhlIG1hcCB0YWIuIHBvcHVsYXRlIGxhdCxsb25nLGhkYXR1bSBhbmQgZG8gZ2Vvc2VhcmNoXHJcbiAgICAgICAgICAgIGlmIChsYXRsb25nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHBhcnNlRmxvYXQobGF0bG9uZ1swXS50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBwYXJzZUZsb2F0KGxhdGxvbmdbMV0udG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuaGRhdHVtX2lkID0gNDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgPSA0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MoKTsgLy9nZXQgdGhlIGFkZHJlc3MgdXNpbmcgcGFzc2VkIGluIGxhdC9sb25nIGFuZCBjaGVjayBmb3IgbmVhcmJ5IHNpdGVzXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hU2l0ZS5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrZWQgPSBcIlwiOyAkc2NvcGUuY2hlY2tlZE5hbWUgPSBcIk5vdCBEZWZpbmVkXCI7IC8vY29tcGFyZXJzIGZvciBkaXNhYmxpbmcgbmV0d29yayBuYW1lcyBpZiAnTm90IERlZmluZWQnIGNoZWNrZWRcclxuICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lciA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkTGFuZG93bmVyID0gZmFsc2U7IC8vaGlkZSBsYW5kb3duZXIgZmllbGRzXHJcbiAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSBmYWxzZTsgLy90b2dnbGUgdG8gZGlzYWJsZS9lbmFibGUgc2Vuc29yIGhvdXNpbmcgaW5zdGFsbGVkIGFuZCBhZGQgcHJvcG9zZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUgPSBbXTsgLy9ob2xkZXIgZm9yIHdoZW4gYWRkaW5nIGhvdXNpbmcgdHlwZSB0byBwYWdlIGZyb20gbXVsdGlzZWxlY3RcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZXNNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlc1RvUmVtb3ZlID0gW107IC8vaG9sZGVyIGZvciBlZGl0aW5nIHNpdGUgdG8gYWRkIHJlbW92aW5nIGhvdXNlIHR5cGVzIHRvIGZvciBQVVRcclxuICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtOQU1FVG9BZGQgPSBbXTsgLy9ob2xkZXIgZm9yIG9iamVjdGl2ZSB0eXBlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuTmV0d29ya05BTUVUb1JlbW92ZSA9IFtdOyAvL2hvbGRlciBmb3Igb2JqZWN0aXZlIHR5cGVzIHJlbW92ZWQgb24gZXhpc3RpbmcgcHJvamVjdHMgKGVkaXQpXHJcbiAgICAgICAgICAgICRzY29wZS5OZXR3b3JrVFlQRVRvQWRkID0gW107IC8vaG9sZGVyIGZvciBvYmplY3RpdmUgdHlwZXMgYWRkZWRcclxuICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9SZW1vdmUgPSBbXTsgLy9ob2xkZXIgZm9yIG9iamVjdGl2ZSB0eXBlcyByZW1vdmVkIG9uIGV4aXN0aW5nIHByb2plY3RzIChlZGl0KVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgPSBbXTsgLy9ob2xkcyB0aGUgTmV0d29ya05hbWUgKGxpc3Qgb2Ygc3RyaW5ncykgdG8gcGFzcyBiYWNrO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcyA9IFtdOyAvL2hvbGRzIHRoZSBOZXR3b3JrVHlwZSAobGlzdCBvZiBzdHJpbmdzKSB0byBwYXNzIGJhY2s7XHJcblxyXG4gICAgICAgICAgICAvL1NJVEUgRklMRSBQQVJUIC8vLy8vICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMOyAvL2NvbnN0YW50IHdpdGggc3RudGVzdC53aW0udXNncy5nb3YvU1ROU2VydmljZXMyIFxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gZmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHxcclxuICAgICAgICAgICAgICAgICAgICBmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fCBmdC5maWxldHlwZSA9PT0gJ1NpdGUgU2tldGNoJyB8fCBmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGZ0LmZpbGV0eXBlID09PSAnTGFuZG93bmVyIFBlcm1pc3Npb24gRm9ybSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgLy9pZiB0aGlzU2l0ZVN0dWZmIGlzIG5vdCB1bmRlZmluZWQsIGZpbHRlciB0aGUgYWxsU0ZpbGVzIGFuZCBnaXZlIG1lIGp1c3QgdGhvc2UgZm9yIHRoZSBzaXRlIE9OTFlcclxuICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcyA9IHRoaXNTaXRlU3R1ZmYgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2YpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Yuc2l0ZV9pZCA9PSB0aGlzU2l0ZVN0dWZmWzBdLnNpdGVfaWQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNmLmh3bV9pZCA9PT0gdW5kZWZpbmVkIHx8IHNmLmh3bV9pZCA9PT0gMCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKHNmLmluc3RydW1lbnRfaWQgPT09IHVuZGVmaW5lZCB8fCBzZi5pbnN0cnVtZW50X2lkID09PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2Yub2JqZWN0aXZlX3BvaW50X2lkID09PSB1bmRlZmluZWQgfHwgc2Yub2JqZWN0aXZlX3BvaW50X2lkID09PSAwKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICA6IFtdOy8vIGhvbGRlciBmb3Igc2l0ZSBmaWxlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMgPSAkc2NvcGUuU0lURUZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaGYpIHsgcmV0dXJuIGhmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIHNpdGVcclxuXHJcbiAgICAgICAgICAgIC8vIEZJTEUgU1RVRkZcclxuICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpOyAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL25lZWQgdG8gcmV1cGxvYWQgZmlsZUl0ZW0gdG8gdGhpcyBleGlzdGluZyBmaWxlIE9SIENoYW5nZSBvdXQgZXhpc3RpbmcgZmlsZUl0ZW0gZm9yIG5ldyBvbmVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVXBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAkc2NvcGUuYUZpbGUuaXNfbndpc1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7ICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9IC0xOyAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9IC0xOyAvL2luZGV4ZXMgZm9yIHNwbGljZS9jaGFuZ2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAvL1NJVEUgd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSBcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IHNpdGUgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5TSVRFRmlsZXMuaW5kZXhPZihmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9ICRzY29wZS5hbGxTRmlsZXMuaW5kZXhPZihmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAkc2NvcGUuc2l0ZUltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSAkc2NvcGUuZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc291cmNlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7ICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBmaXJzdCB0byBnZXQgc291cmNlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuc2l0ZUltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDsgJHNjb3BlLmFGaWxlLnNpdGVfaWQgPSAkc2NvcGUuYVNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTGluayBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKCkgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBwaG90byBvciBvdGhlciBmaWxlIHR5cGUgKG5vIGRhdGEgZmlsZSBoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdGtpbmQgPSAkc2NvcGUuYUZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNvdXJjZS5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0IGFnYWluIChpZiBubyBjaGFuZ2UsIHdpbGwgcmV0dXJuIGV4aXN0aW5nIG9uZS4gaWYgZWRpdGVkLCB3aWxsIGNyZWF0ZSBhIG5ldyBvbmUgLS1pbnN0ZWFkIG9mIGVkaXRpbmcgYWxsIGZpbGVzIHRoYXQgdXNlIHRoaXMgc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuZGF0YWZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9lbmQgRklMRSBTVFVGRlxyXG5cclxuICAgICAgICAgICAgLy9sYXQgbW9kYWwgXHJcbiAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNzMuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxhdE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbG9uZ2l0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoZCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZG1zJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGRlZ3JlZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xhdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgPCAwIHx8ICRzY29wZS5ETVMuTEFEZWcgPiA3MyB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykgJiYgJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSkgJHNjb3BlLkRNUy5MQURlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBTWluKSkgJHNjb3BlLkRNUy5MQU1pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSkgJHNjb3BlLkRNUy5MQVNlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsb25nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyA8IC0xNzUgfHwgJHNjb3BlLkRNUy5MT0RlZyA+IC02MCB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykgJiYgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnZG1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykpICRzY29wZS5ETVMuTE9EZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikpICRzY29wZS5ETVMuTE9NaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykpICRzY29wZS5ETVMuTE9TZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGxhdGl0dWRlL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xhdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsb25nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWMgZGVncmVlcyB0byBkbXNcclxuICAgICAgICAgICAgdmFyIGRlZ190b19kbXMgPSBmdW5jdGlvbiAoZGVnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZSwgcmVtb3ZlIHRoZSAtIHNpZ25cclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBNYXRoLmZsb29yKGRlZyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihtaW5mbG9hdCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICgobWluZmxvYXQgLSBtKSAqIDYwKS50b0ZpeGVkKDMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90aGV5IGNoYW5nZWQgcmFkaW8gYnV0dG9uIGZvciBkbXMgZGVjIGRlZ1xyXG4gICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgd2hhdCdzIGhlcmUgZm9yIGVhY2ggbGF0IGFuZCBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERNU01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHRocmVlIGlucHV0cyBmb3IgY29udmVyc2lvbiBmcm9tIERNUyB0byBEZWNpbWFsIERlZ3JlZXMgdG8gd29yay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBETVNNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWRETVNhcnJheSA9IGxhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGxhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9uZXR3b3JrVHlwZSBjaGVjayBldmVudCAtLXRyaWdnZXIgZGlydHlcclxuICAgICAgICAgICAgJHNjb3BlLm5ldFR5cGVDaGcgPSBmdW5jdGlvbiAobnQpIHtcclxuICAgICAgICAgICAgICAgIC8vc3RvcmUgdGhpcyB0byBoYW5kbGUgaW4gUFVUIG9yIFBPU1RcclxuICAgICAgICAgICAgICAgIGlmIChudC5zZWxlY3RlZCkgeyAvL3NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQucHVzaChudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHsgLy9pZiB0aGlzIGlzIGVkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lZGl0aW5nIChyZW1vdmUgZnJvbSByZW1vdmUgbGlzdCBpZiB0aGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuTmV0d29ya1RZUEVUb1JlbW92ZS5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUubmV0d29ya190eXBlX2lkOyB9KS5pbmRleE9mKG50Lm5ldHdvcmtfdHlwZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID49IDApICRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLnNwbGljZShpLCAxKTsgLy9yZW1vdmUgZnJvbSByZW1vdmVMaXN0IC4uaW4gY2FzZSB0aGV5IHJlbW92ZWQgYW5kIHRoZW4gYWRkZWQgaXQgYmFja1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uLnNlbGVjdGVkID09IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9ICRzY29wZS5OZXR3b3JrVFlQRVRvQWRkLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXR3b3JrX3R5cGVfaWQ7IH0pLmluZGV4T2YobnQubmV0d29ya190eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kID49IDApICRzY29wZS5OZXR3b3JrVFlQRVRvQWRkLnNwbGljZShpbmQsIDEpOyAvL3JlbW92ZSBpdCBmcm9tIGFkZExpc3QgaWYgdGhleSBhZGRlZCB0aGVuIHJlbW92ZWRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHsgLy9lZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLnB1c2gobnQpOyAvL2FkZCBpdCB0byByZW1vdmVMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9uZXR3b3JrTmFtZSBjaGVjayBldmVudC4uIGlmIFwiTm90IERlZmluZWRcIiBjaG9zZW4sIGRpc2FibGUgdGhlIG90aGVyIDIgY2hlY2tib3hlc1xyXG4gICAgICAgICAgICAkc2NvcGUud2hpY2hPbmUgPSBmdW5jdGlvbiAobikge1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSB0aGlzIHRvIGhhbmRsZSBpbiBQVVQgb3IgUE9TVFxyXG4gICAgICAgICAgICAgICAgaWYgKG4uc2VsZWN0ZWQpIHsgLy9zZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvQWRkLnB1c2gobik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHsgLy9pZiB0aGlzIGlzIGVkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lZGl0aW5nIChyZW1vdmUgZnJvbSByZW1vdmUgbGlzdCBpZiB0aGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuTmV0d29ya05BTUVUb1JlbW92ZS5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUubmV0d29ya19uYW1lX2lkOyB9KS5pbmRleE9mKG4ubmV0d29ya19uYW1lX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCkgJHNjb3BlLk5ldHdvcmtOQU1FVG9SZW1vdmUuc3BsaWNlKGksIDEpOyAvL3JlbW92ZSBmcm9tIHJlbW92ZUxpc3QgLi5pbiBjYXNlIHRoZXkgcmVtb3ZlZCBhbmQgdGhlbiBhZGRlZCBpdCBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL24uc2VsZWN0ZWQgPT0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLk5ldHdvcmtOQU1FVG9BZGQubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLm5ldHdvcmtfbmFtZV9pZDsgfSkuaW5kZXhPZihuLm5ldHdvcmtfbmFtZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA+PSAwKSAkc2NvcGUuTmV0d29ya05BTUVUb0FkZC5zcGxpY2UoaW5kLCAxKTsgLy9yZW1vdmUgaXQgZnJvbSBhZGRMaXN0IGlmIHRoZXkgYWRkZWQgdGhlbiByZW1vdmVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2l0ZV9pZCAhPT0gdW5kZWZpbmVkKSB7IC8vZWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0d29ya05BTUVUb1JlbW92ZS5wdXNoKG4pOyAvL2FkZCBpdCB0byByZW1vdmVMaXN0XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAobi5uYW1lID09IFwiTm90IERlZmluZWRcIiAmJiBuLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNoZWNrZWQgXCJub3QgZGVmaW5lZFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm4gPSAwOyBubiA8ICRzY29wZS5OZXROYW1lTGlzdC5sZW5ndGg7IG5uKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91bnNlbGVjdCBhbGwgYnV0IG5vdCBkZWZpbmVkIFRPRE86Ojo6IElmIGFueSwgcHV0IHRoZW0gaW4gTmV0d29ya05BTUVUb1JlbW92ZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTmV0TmFtZUxpc3Rbbm5dLm5hbWUgIT0gXCJOb3QgRGVmaW5lZFwiICYmICRzY29wZS5OZXROYW1lTGlzdFtubl0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLnB1c2goJHNjb3BlLk5ldE5hbWVMaXN0W25uXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0TmFtZUxpc3Rbbm5dLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHRoZXNlIG1hdGNoIHNvIHJlc3QgZ2V0IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrZWQgPSBcIk5vdCBEZWZpbmVkXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3RoZXkgdGhleSB1bmNoZWNrZWQgbm90IGRlZmluZSwgdW5tYXRjaCB2YXJzIHNvIHRoZSBvdGhlciBiZWNvbWUgZW5hYmxlZFxyXG4gICAgICAgICAgICAgICAgaWYgKG4ubmFtZSA9PSBcIk5vdCBEZWZpbmVkXCIgJiYgbi5zZWxlY3RlZCA9PT0gZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrZWQgPSBcIlwiO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90b2dnbGUgZGltIG9uIGRpdiBmb3Igc2Vuc29yIG5vdCBhcHByb3ByaWF0ZSBjbGlja1xyXG4gICAgICAgICAgICAkc2NvcGUuZGltQWN0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zZW5zb3Jfbm90X2FwcHJvcHJpYXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZVNlbnNvclBhcnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHJhZGlvIGFuZCBjaGVja2JveGVzIGlmIGRpc2FibGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgJHNjb3BlLlByb3Bvc2VkU2Vucy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUHJvcG9zZWRTZW5zW3hdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5pc19wZXJtYW5lbnRfaG91c2luZ19pbnN0YWxsZWQgPSBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS51c2VTaXRlQWRkcmVzcztcclxuICAgICAgICAgICAgJHNjb3BlLnVzZUFkZHJlc3Nmb3JMTyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXNlU2l0ZUFkZHJlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgPSAkc2NvcGUuYVNpdGUuYWRkcmVzcztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmNpdHkgPSAkc2NvcGUuYVNpdGUuY2l0eTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLnN0YXRlID0gJHNjb3BlLmFTaXRlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuemlwID0gJHNjb3BlLmFTaXRlLnppcDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5hZGRyZXNzID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmNpdHkgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuc3RhdGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuemlwID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9zaXRlIFBVVFxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RpZCB0aGV5IGFkZCBvciBlZGl0IHRoZSBsYW5kb3duZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRMYW5kb3duZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlcmUncyBhIGxhbmRvd25lci4uIGVkaXQgb3IgYWRkP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkICE9PSBudWxsICYmICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kaWQgdGhleSBjaGFuZ2UgYW55dGhpbmcgdG8gd2FycmVudCBhIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExBTkRPV05FUl9DT05UQUNULnVwZGF0ZSh7IGlkOiAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCB9LCAkc2NvcGUubGFuZG93bmVyKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5sYW5kb3duZXIuZm5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmxuYW1lICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci50aXRsZSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5hZGRyZXNzICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5jaXR5ICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5wcmltYXJ5cGhvbmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBhZGRlZCBzb21ldGhpbmcuLiBQT1NUIChyYXRoZXIgdGhhbiBqdXN0IGNsaWNraW5nIGJ1dHRvbiBhbmQgbm90KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExBTkRPV05FUl9DT05UQUNULnNhdmUoJHNjb3BlLmxhbmRvd25lciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA9IHJlc3BvbnNlLmxhbmRvd25lcmNvbnRhY3RpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHV0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBwdXRTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHB1dFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmVcclxuICAgICAgICAgICAgdmFyIHB1dFNpdGVBbmRQYXJ0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgIHZhciB1cGRhdGVTaXRlID0gYW5ndWxhci5jb3B5KCRzY29wZS5hU2l0ZSk7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlU2l0ZS5DcmVhdG9yOyBkZWxldGUgdXBkYXRlU2l0ZS5Ib3Jpem9udGFsQ29sbGVjdE1ldGhvZDsgZGVsZXRlIHVwZGF0ZVNpdGUuSG9yaXpvbnRhbERhdHVtOyBkZWxldGUgdXBkYXRlU2l0ZS5Qcmlvcml0eU5hbWU7XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgdXBkYXRlU2l0ZS5kZWNEZWdPUmRtcztcclxuICAgICAgICAgICAgICAgIFNJVEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hU2l0ZS5zaXRlX2lkIH0sIHVwZGF0ZVNpdGUsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBzaXRlIGhvdXNpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgUmVtb3ZlUHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgQWRkUHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBzaXRlSG91c2luZ3MgKHRoZXNlIGFyZSBqdXN0IHNpdGVfaG91c2luZ19pZCAnc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2l0ZUhvdXNlc1RvUmVtb3ZlLCBmdW5jdGlvbiAoc2hJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsU0hQcm9tID0gU0lURV9IT1VTSU5HLmRlbGV0ZSh7IGlkOiBzaElEIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmVQcm9taXNlcy5wdXNoKGRlbFNIUHJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9SZW1vdmUgTmV0TmFtZXMgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLCBmdW5jdGlvbiAobm5MKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxOTlByb20gPSBTSVRFLmRlbGV0ZVNpdGVOZXR3b3JrTmFtZSh7IHNpdGVJZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQsIG5ldHdvcmtOYW1lSWQ6IG5uTC5uZXR3b3JrX25hbWVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVByb21pc2VzLnB1c2goZGVsTk5Qcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBOZXRUeXBlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0d29ya1RZUEVUb1JlbW92ZSwgZnVuY3Rpb24gKG50TCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsTlRQcm9tID0gU0lURS5kZWxldGVTaXRlTmV0d29ya1R5cGUoeyBzaXRlSWQ6ICRzY29wZS5hU2l0ZS5zaXRlX2lkLCBuZXR3b3JrVHlwZUlkOiBudEwubmV0d29ya190eXBlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSZW1vdmVQcm9taXNlcy5wdXNoKGRlbE5UUHJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9BZGQgc2l0ZUhvdXNpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ob3VzZURpcnR5ID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSwgZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkSHRQcm9tO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh0LnNpdGVfaG91c2luZ19pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QVVQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRIdFByb20gPSBTSVRFX0hPVVNJTkcudXBkYXRlKHsgaWQ6IGh0LnNpdGVfaG91c2luZ19pZCB9LCBodCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUE9TVCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0LnNpdGVfaWQgPSAkc2NvcGUuYVNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRIdFByb20gPSBTSVRFX0hPVVNJTkcuc2F2ZShodCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBZGRQcm9taXNlcy5wdXNoKGFkZEh0UHJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCBOZXROYW1lc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0d29ya05BTUVUb0FkZCwgZnVuY3Rpb24gKEFubkwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMucHVzaChBbm5MLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkTk5Qcm9tID0gU0lURS5wb3N0U2l0ZU5ldHdvcmtOYW1lKHsgc2l0ZUlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCwgbmV0d29ya05hbWVJZDogQW5uTC5uZXR3b3JrX25hbWVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFByb21pc2VzLnB1c2goYWRkTk5Qcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCBOZXRUeXBlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0d29ya1RZUEVUb0FkZCwgZnVuY3Rpb24gKEFuVEwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrVHlwZXMucHVzaChBblRMLm5ldHdvcmtfdHlwZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZE5UUHJvbSA9IFNJVEUucG9zdFNpdGVOZXR3b3JrVHlwZSh7IHNpdGVJZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQsIG5ldHdvcmtUeXBlSWQ6IEFuVEwubmV0d29ya190eXBlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBZGRQcm9taXNlcy5wdXNoKGFkZE5UUHJvbSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vb2sgbm93IHJ1biB0aGUgcmVtb3ZlcywgdGhlbiB0aGUgYWRkcyBhbmQgdGhlbiBwYXNzIHRoZSBzdHVmZiBiYWNrIG91dCBvZiBoZXJlLlxyXG4gICAgICAgICAgICAgICAgICAgICRxLmFsbChSZW1vdmVQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRxLmFsbChBZGRQcm9taXNlcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzID0gW107ICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLk5ldE5hbWVMaXN0LCBmdW5jdGlvbiAobm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm4uc2VsZWN0ZWQgPT09IHRydWUpICRzY29wZS5zaXRlTmV0d29ya05hbWVzLnB1c2gobm4ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0VHlwZUxpc3QsIGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudC5zZWxlY3RlZCA9PT0gdHJ1ZSkgJHNjb3BlLnNpdGVOZXR3b3JrVHlwZXMucHVzaChudC5uZXR3b3JrX3R5cGVfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFskc2NvcGUuYVNpdGUsICRzY29wZS5zaXRlTmV0d29ya05hbWVzLCAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTaXRlIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgJHNjb3BlLmFTaXRlLnNpdGVfaWQgKyAnL1NpdGVEYXNoYm9hcmQnKS5yZXBsYWNlKCk7Ly8ubm90aWZ5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFwcGx5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihtc2cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gZXJyb3IobXNnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsgLy9hbGwgYWRkZWRcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIFNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBTaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBTSVRFLnNhdmUoLi4uXHJcbiAgICAgICAgICAgIH07IC8vIGVuZCBQVVRzaXRlKClcclxuXHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgc2l0ZSBjbGlja2VkICgzIHNlcGFyYXRlIGZ1bmN0aW9ucy4uIDE6IGxhbmRvd25lciwgMjogdGhlIHNpdGUgYW5kIHByb3Bvc2VkIGluc3RydW1lbnRzLCAzOiBuZXR3b3JrIG5hbWVzICYgdHlwZXMsIGhvdXNpbmcgdHlwZXNcclxuICAgICAgICAgICAgdmFyIGZpbmlzaFBPU1QgPSBmdW5jdGlvbiAoc0lEKSB7XHJcbiAgICAgICAgICAgICAgICAvL2RvIGFsbCB0aGUgcmVzdC4uLi5cclxuICAgICAgICAgICAgICAgIHZhciBkZWZlciA9ICRxLmRlZmVyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zdFByb21pc2VzID0gW107XHJcbiAgICAgICAgICAgICAgICAvL3NpdGVfaG91c2luZ1R5cGVzIChpZiBhbnkpXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUsIGZ1bmN0aW9uIChodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0eXBlLnNpdGVfaWQgPSBzSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGh0eXBlLnR5cGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaFRQcm9taXNlID0gU0lURV9IT1VTSU5HLnNhdmUoaHR5cGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc3RQcm9taXNlcy5wdXNoKGhUUHJvbWlzZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vc2l0ZV9OZXR3b3JrTmFtZXNcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0TmFtZUxpc3QsIGZ1bmN0aW9uIChuTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuTmFtZS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbk5Qcm9taXNlID0gU0lURS5wb3N0U2l0ZU5ldHdvcmtOYW1lKHsgc2l0ZUlkOiBzSUQsIG5ldHdvcmtOYW1lSWQ6IG5OYW1lLm5ldHdvcmtfbmFtZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFByb21pc2VzLnB1c2gobk5Qcm9taXNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vc2l0ZV9OZXR3b3JrVHlwZXNcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0VHlwZUxpc3QsIGZ1bmN0aW9uIChuVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuVHlwZS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgblRQcm9taXNlID0gU0lURS5wb3N0U2l0ZU5ldHdvcmtUeXBlKHsgc2l0ZUlkOiBzSUQsIG5ldHdvcmtUeXBlSWQ6IG5UeXBlLm5ldHdvcmtfdHlwZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFByb21pc2VzLnB1c2goblRQcm9taXNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vd2hlbiBhbGwgdGhlIHByb21pc2VzIGFyZSBkb25lXHJcbiAgICAgICAgICAgICAgICAkcS5hbGwocG9zdFByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiBzSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCAkcVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIGxhbmRvd25lciwgaWYgdGhleSBhZGRlZCBvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYVNpdGUuQ3JlYXRvcjsgZGVsZXRlICRzY29wZS5hU2l0ZS5kZWNEZWdPUmRtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRMYW5kb3duZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubGFuZG93bmVyLmZuYW1lICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5sbmFtZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIudGl0bGUgIT09IHVuZGVmaW5lZCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuYWRkcmVzcyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIuY2l0eSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIucHJpbWFyeXBob25lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBMQU5ET1dORVJfQ09OVEFDVC5zYXZlKCRzY29wZS5sYW5kb3duZXIsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgPSByZXNwb25zZS5sYW5kb3duZXJjb250YWN0aWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHBvc3QgdGhlIHNpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIGxhdC9sb25nIGFyZSBnb29kXHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kICB2YWxpZFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgcG9zdFNpdGVBbmRQYXJ0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxvbmdpdHVkZSBpcyA8IDAsIG90aGVyd2lzZSAqICgtMSksXHJcbiAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNpdGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAvL1BPU1Qgc2l0ZVxyXG4gICAgICAgICAgICAgICAgU0lURS5zYXZlKCRzY29wZS5hU2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTaXRlSUQgPSByZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZG8gcHJvcG9zZWQgc2Vuc29ycyBmaXJzdCBzaW5jZSBpdCdzIDIgcGFydHMgdG8gaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IGRpc2FibGVkLi5jb3VsZCBiZSBzZWxlY3RlZCBwcm9wb3NlZCBzZW5zb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFByb3Bvc2VkU2Vuc29ycyA9ICRzY29wZS5Qcm9wb3NlZFNlbnMuZmlsdGVyKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLnNlbGVjdGVkID09PSB0cnVlOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzZWxlY3RlZFByb3Bvc2VkU2Vuc29ycywgZnVuY3Rpb24gKHByb3BTZW5zLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vUE9TVCBlYWNoIHNlbnNvciBhbmQgc3RhdHVzIHR5cGUgKGFmdGVyIGdvaW5nIHRocnUgdGhlIHNlbnNEZXBzIHRvIGdldCB0aGUgbWF0Y2hpbmcgZGVwbG95bWVudHR5cGVpZCBmcm9tIGVhY2ggc2Vuc29yJ3MgaW5uZXIgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU2Vuc29yRGVwbG95bWVudCwgZnVuY3Rpb24gKHNkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHNkdC5kZXBsb3ltZW50dHlwZXMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZHQuZGVwbG95bWVudHR5cGVzW3hdLmRlcGxveW1lbnRfdHlwZV9pZCA9PSBwcm9wU2Vucy5kZXBsb3ltZW50X3R5cGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0lEID0gc2R0LnNlbnNvcl90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zb3JUeXBlSUQgPSBzSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3QgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6IHByb3BTZW5zLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogY3JlYXRlZFNpdGVJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6IHNlbnNvclR5cGVJRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RydW1lbnRJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKGluc3QpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGluc1Jlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IGluc1Jlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0U3RhdCA9IHsgaW5zdHJ1bWVudF9pZDogaW5zUmVzcG9uc2UuaW5zdHJ1bWVudF9pZCwgc3RhdHVzX3R5cGVfaWQ6IDQsIG1lbWJlcl9pZDogJHNjb3BlLmFTaXRlLm1lbWJlcl9pZCwgdGltZV9zdGFtcDogbmV3IERhdGUoKSwgdGltZV96b25lOiAnVVRDJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKGluc3RTdGF0KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vd2hlbiBkb25lIGxvb3BpbmcsIGdvIHRvIGxhc3Qgc3RlcCBpbiB0aGlzIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PSBzZWxlY3RlZFByb3Bvc2VkU2Vuc29ycy5sZW5ndGggLSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFBPU1QoY3JlYXRlZFNpdGVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHN0YXR1cyBmYWlscywgZGVsZXRlIGluc3RydW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZGVsZXRlKHsgaWQ6IGluc3RydW1lbnRJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzdGF0dXMgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNlbnNvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBhbmd1bGFyLmZvcmVhY2ggb24gcHJvcG9zZWQgc2Vuc29yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZmluaXNoUE9TVChjcmVhdGVkU2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5pc2hQT1NUKGNyZWF0ZWRTaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTsvL2VuZCBwb3N0U2l0ZWFuZCBQYXJ0c1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNTaXRlU3R1ZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIHNpdGUgXHJcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5hU2l0ZVswXSwgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzWzFdLCAkc2NvcGUuZXhpc3RpbmdTaXRlSG91c2VUeXBlc1RhYmxlWzJdLCB0aGlzU2l0ZU5ldHdvcmtOYW1lc1szXSwgc2l0ZU5ldHdvcmtUeXBlc1s0XSwgJHNjb3BlLmxhbmRvd25lcls1XVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0gYW5ndWxhci5jb3B5KHRoaXNTaXRlU3R1ZmZbMF0pO1xyXG4gICAgICAgICAgICAgICAgLy9mb3Igc29tZSByZWFzb24gdGhlcmUgYXJlIHRvbnMgb2Ygc2l0ZXMgd2l0aCBoY29sbGVjdF9tZXRob2RfaWQgc2V0IHRvIDAgd2hlbiBpdCdzIHJlcXVpcmVkLi5tYWtlIGl0IG51bGwgc28gdmFsaWRhdGlvbiBwaWNrcyB1cCBvbiByZXF1aXJlZCBmaWVsZFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgPD0gMCkgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoaXMgc2l0ZSBpcyBub3QgYXBwcm9wcmlhdGUgZm9yIHNlbnNvciwgZGltIG5leHQgMiBmaWVsZHNcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2Vuc29yX25vdF9hcHByb3ByaWF0ZSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZVNlbnNvclBhcnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHJhZGlvIGFuZCBjaGVja2JveGVzIGlmIGRpc2FibGluZ1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgJHNjb3BlLlByb3Bvc2VkU2Vucy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUHJvcG9zZWRTZW5zW3hdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5pc19wZXJtYW5lbnRfaG91c2luZ19pbnN0YWxsZWQgPSBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgY291bnRpZXNMaXN0IHdpdGggdGhpcyBzdGF0ZSdzIGNvdW50aWVzXHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfYWJicmV2ID09ICRzY29wZS5hU2l0ZS5zdGF0ZTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9hcHBseSBhbnkgc2l0ZSBob3VzaW5ncyBmb3IgRURJVFxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlU3R1ZmZbMV0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA9IHRoaXNTaXRlU3R1ZmZbMV07IC8vZm9yIG11bHRpc2VsZWN0IC5zZWxlY3RlZCA9IHRydWUvZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1NpdGVIb3VzZVRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSA9IHRoaXNTaXRlU3R1ZmZbMl07IC8vZm9yIHRhYmxlIHRvIHNob3cgYWxsIGluZm8gb24gaG91c2UgdHlwZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggYWxsSG91c2luZ1R5cGVMaXN0IGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaHQgPSAwOyBodCA8ICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3QubGVuZ3RoOyBodCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiB0aGlzU2l0ZUhvdXNpbmdzIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3NbeV0uaG91c2luZ190eXBlX2lkID09ICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3RbaHRdLmhvdXNpbmdfdHlwZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3RbaHRdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3RbaHRdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGlzU2l0ZUhvdXNpbmdzICE9IHVuZGVmaW5lZFxyXG5cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy9hcHBseSBhbnkgc2l0ZSBuZXR3b3JrIG5hbWVzIG9yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZlszXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2pOTmFtZXMgPSBhbmd1bGFyLmNvcHkodGhpc1NpdGVTdHVmZlszXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCAkc2NvcGUuTmV0TmFtZUxpc3QgLi4gYWRkIC5zZWxlY3RlZCBwcm9wZXJ0eSA9IHRydWUvZmFsc2UgaWYgdGhpc3NpdGVuZXR3b3JrbmFtZXMgPT1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8ICRzY29wZS5OZXROYW1lTGlzdC5sZW5ndGg7IGErKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlID0gMDsgZSA8IHByb2pOTmFtZXMubGVuZ3RoOyBlKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qTk5hbWVzW2VdLm5ldHdvcmtfbmFtZV9pZCA9PSAkc2NvcGUuTmV0TmFtZUxpc3RbYV0ubmV0d29ya19uYW1lX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0W2FdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gcHJvak5OYW1lcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXROYW1lTGlzdFthXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9qTk5hbWVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXROYW1lTGlzdFthXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5ldE5hbWVMaXN0WzBdLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSB0aGVzZSBtYXRjaCBzbyByZXN0IGdldCBkaXNhYmxlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiTm90IERlZmluZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhpc1NpdGVOZXR3b3JrTmFtZXMgIT0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlU3R1ZmZbNF0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9qTlR5cGUgPSBhbmd1bGFyLmNvcHkodGhpc1NpdGVTdHVmZls0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCAkc2NvcGUuTmV0VHlwZUxpc3QgLi4gYWRkIC5zZWxlY3RlZCBwcm9wZXJ0eSA9IHRydWUvZmFsc2UgaWYgdGhpc3NpdGVuZXR3b3JrdHlwZXMgPT1cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuaSA9IDA7IG5pIDwgJHNjb3BlLk5ldFR5cGVMaXN0Lmxlbmd0aDsgbmkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBueSA9IDA7IG55IDwgcHJvak5UeXBlLmxlbmd0aDsgbnkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOVHlwZVtueV0ubmV0d29ya190eXBlX2lkID09ICRzY29wZS5OZXRUeXBlTGlzdFtuaV0ubmV0d29ya190eXBlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldFR5cGVMaXN0W25pXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbnkgPSBwcm9qTlR5cGUubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0VHlwZUxpc3RbbmldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOVHlwZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0VHlwZUxpc3RbbmldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNTaXRlTmV0d29ya05hbWVzICE9IHVuZGVmaW5lZCAgIFxyXG5cclxuICAgICAgICAgICAgICAgIC8vbGFuZG93bmVyIHN0dWZmXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZls1XSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lciA9IHRoaXNTaXRlU3R1ZmZbNV07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZExhbmRvd25lciA9ICRzY29wZS5sYW5kb3duZXIuZm5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmxuYW1lICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5hZGRyZXNzICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5wcmltYXJ5cGhvbmUgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucyA9IHsgc09wZW46IGZhbHNlLCBzRmlsZU9wZW46IGZhbHNlIH07IC8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV4aXN0aW5nIHNpdGUgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gdGhpcyBpcyBhIE5FVyBTSVRFIENSRUFURSAoc2l0ZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAvL2dldCBsb2dnZWQgaW4gbWVtYmVyIHRvIG1ha2UgdGhlbSBjcmVhdG9yXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIucXVlcnkoeyBpZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkNyZWF0b3IgPSByZXNwb25zZS5mbmFtZSArIFwiIFwiICsgcmVzcG9uc2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLm1lbWJlcl9pZCA9IHJlc3BvbnNlLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuaXNfcGVybWFuZW50X2hvdXNpbmdfaW5zdGFsbGVkID0gXCJOb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5hY2Nlc3NfZ3JhbnRlZCA9IFwiTm90IE5lZWRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vVE9ETzogZ2V0IG1lbWJlcidzIGlkIGluIHRoZXJlIHRvb1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsb2dnZWQgaW4gbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnMgPSB7IHNPcGVuOiB0cnVlIH07IC8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHRoaXMgaXMgYSBORVcgU0lURSBDUkVBVEUgKHNpdGUgPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICB9Ly9lbmQgbmV3IHNpdGVcclxuXHJcbiAgICAgICAgICAgIC8vICBsYXQvbG9uZyA9aXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbXVsdGlzZWxlY3Qgb25lIGNoZWNrZWQuLlxyXG4gICAgICAgICAgICAkc2NvcGUuSG91c2VUeXBlQ2xpY2sgPSBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZURpcnR5ID0gdHJ1ZTsgLy90aGV5IGNsaWNrZWQgaXQuLnVzZWQgd2hlbiBwb3N0L3B1dFxyXG4gICAgICAgICAgICAgICAgLy9hZGQvcmVtb3ZlIGhvdXNlIHR5cGUgYW5kIGlucHV0cyB0byB0YWJsZSByb3cgLS0gZm9yZWFjaCBvbiBwb3N0IG9yIHB1dCB3aWxsIGhhbmRsZSB0aGUgcmVzdFxyXG5cclxuICAgICAgICAgICAgICAgIC8vbmV3IHNpdGUgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgaWYgKGh0LnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXNlVCA9IHsgdHlwZV9uYW1lOiBodC50eXBlX25hbWUsIGhvdXNpbmdfdHlwZV9pZDogaHQuaG91c2luZ190eXBlX2lkLCBsZW5ndGg6IGh0Lmxlbmd0aCwgbWF0ZXJpYWw6IGh0Lm1hdGVyaWFsLCBub3RlczogaHQubm90ZXMsIGFtb3VudDogMSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLnB1c2goaG91c2VUKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1NpdGVIb3VzZVRhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChodC5zZWxlY3RlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0hfSUQgPSAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgudHlwZV9uYW1lID09IGh0LnR5cGVfbmFtZTsgfSlbMF0uc2l0ZV9ob3VzaW5nX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlc1RvUmVtb3ZlLnB1c2goc0hfSUQpOyAvL2VkaXQgcGFnZSwgYWRkIHNpdGVfaG91c2luZ19pZCB0byByZW1vdmUgbGlzdCBmb3IgUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUuaW5kZXhPZigkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgudHlwZV9uYW1lID09IGh0LnR5cGVfbmFtZTsgfSlbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gd2FudCB0byBhZGQgYSBsYW5kb3duZXIgY29udGFjdFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0xhbmRPd25lclBhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTGFuZG93bmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2hlbiBzdGF0ZSBjaGFuZ2VzLCB1cGRhdGUgY291bnR5IGxpc3RcclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUNvdW50eUxpc3QgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5TdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3Quc3RhdGVfYWJicmV2ID09IHM7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5BbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWwgbW9kYWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgU2l0ZVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlU2l0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzU2l0ZSA9ICRzY29wZS5hU2l0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBkU2l0ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RGVsZXRlIFNpdGU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2l0ZSB7e3NpdGVOb319PzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1kYW5nZXJcIiBuZy1jbGljaz1cImRlbGV0ZUl0KClcIj5EZWxldGU8L2J1dHRvbj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5vID0gdGhpc1NpdGUuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc1NpdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZFNpdGVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmRlbGV0ZSh7IGlkOiBzLnNpdGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2l0ZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBcIkRlbGV0ZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+e3ttZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IGVycm9yUmVzcG9uc2UuaGVhZGVycyhcInVzZ3N3aW0tbWVzc2FnZXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZU1hcEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnU0lURScsICdzaXRlSFdNcycsICdkZXBsb3ltZW50VHlwZXMnLFxyXG4gICAgICAgICdiYXJvU2Vuc29ycycsICdtZXRTZW5zb3JzJywgJ3JkZ1NlbnNvcnMnLCAnc3Rvcm1TZW5zb3JzJywgJ3dhdmVTZW5zb3JzJywgJ3ByZXNUZW1wU2Vuc29ycycsICd0aGVybVNlbnNvcnMnLCAnd2ViY2FtU2Vuc29ycycsICdyYWluZ2FnZVNlbnNvcnMnLCAnbGVhZmxldERhdGEnLCAnYVNpdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgU0lURSwgc2l0ZUhXTXMsIGRlcGxveW1lbnRUeXBlcyxcclxuICAgICAgICAgICAgYmFyb1NlbnNvcnMsIG1ldFNlbnNvcnMsIHJkZ1NlbnNvcnMsIHN0b3JtU2Vuc29ycywgd2F2ZVNlbnNvcnMsIHByZXNUZW1wU2Vuc29ycywgdGhlcm1TZW5zb3JzLCB3ZWJjYW1TZW5zb3JzLCByYWluZ2FnZVNlbnNvcnMsIGxlYWZsZXREYXRhLCBhU2l0ZSkge1xyXG4gICAgICAgICAgICBpZiAoYVNpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcFN0dWZmID0gXCJoZXJlJ3MgdGhlIG1hcCBhY2NvcmRpb24gY29udGVudFwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNTaXRlID0gYVNpdGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZUhXTXMgPSBzaXRlSFdNcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlQmFyb1NlbnNvcnMgPSBiYXJvU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzID0gbWV0U2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzID0gcmRnU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnMgPSBzdG9ybVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlV2F2ZVNlbnNvcnMgPSB3YXZlU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVQcmVzVGVtcFNlbnNvcnMgPSBwcmVzVGVtcFNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzID0gdGhlcm1TZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnMgPSB3ZWJjYW1TZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVJhaW5TZW5zb3JzID0gcmFpbmdhZ2VTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzID0gZGVwbG95bWVudFR5cGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vL25lZWQgdG8gd2F0Y2ggZm9yIHNlc3Npb24gZXZlbnQgaWQsIGRvIG5ldyBjYWxsIHRvIHNlcnZlciB3aGVuIHRoYXQgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UHJveGltaXR5U2l0ZXMoKTsgLy9nZXQgYWxsIHRob3NlIG5lYXJieVxyXG4gICAgICAgICAgICAgICAgICAgIC8vcHVzaCB0aGlzIHNpdGUgaW5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlRoaXMgU2l0ZSBOYW1lOjwvYj4gJyArICRzY29wZS50aGlzU2l0ZS5zaXRlX25vICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnRoaXNTaXRlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS50aGlzU2l0ZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnNlbGVjdGVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1NpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiAwXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgZmlsdGVyIGh3bXMgYW5kIHNlbnNvcnMgYnkgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VtcHR5IG1hcmtlcnMgYW5kIHN0YXJ0IGFnYWluIGZyb20gc2l0ZUhXTXMgdG8gbWFrZSBzdXJlIGVhY2ggdGltZSB3ZSBhcmUgZmlsdGVyaW5nIGJhc2VkIG9uIGFsbCAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgJHNjb3BlLmFsbFNpdGVIV01zLmxlbmd0aDsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaEhXTSA9ICRzY29wZS5hbGxTaXRlSFdNc1toXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYWNoSFdNLmV2ZW50X2lkID09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIGh3bXMgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPkhXTTo8L2I+ICcgKyBlYWNoSFdNLmh3bV9sYWJlbCArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGVhY2hIV00ubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogZWFjaEhXTS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLmh3bUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSFdNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogZWFjaEhXTS5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIGV2ZW50X2lkID09IG5ld1ZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlsdGVyIGFsbCBzZW5zb3IgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU2Vuc29ycyhuZXdWYWx1ZSk7ICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V2ZW50SCA9IDA7IG5vRXZlbnRIIDwgJHNjb3BlLmFsbFNpdGVIV01zLmxlbmd0aDsgbm9FdmVudEgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVhY2hub0VIV00gPSAkc2NvcGUuYWxsU2l0ZUhXTXNbbm9FdmVudEhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+SFdNOjwvYj4gJyArIGVhY2hub0VIV00uaHdtX2xhYmVsICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBlYWNobm9FSFdNLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogZWFjaG5vRUhXTS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuaHdtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0hXTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogZWFjaG5vRUhXTS5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maWx0ZXIgYWxsIHNlbnNvciB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZW5zb3JzKDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgZnJvbSAkd2F0Y2ggb24gZXZlbnQgY2hhbmdlIHRvIHVwZGF0ZSBhbGwgdGhlIHNlbnNvciB0eXBlcyB2aWV3ZWQgZnJvbSBzaXRlbWFwXHJcbiAgICAgICAgICAgICAgICB2YXIgYWRkU2Vuc29ycyA9IGZ1bmN0aW9uIChldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SUQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmFyb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBicyA9IDA7IGJzIDwgJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29ycy5sZW5ndGg7IGJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29yc1tic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYlNlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+QmFyb21ldHJpYyBQcmVzc3VyZSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIGJTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYlNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBiU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuYmFyb0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnQmFybyBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBiU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgZXZlbnRfaWQgPT0gbmV3VmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbXMgPSAwOyBtcyA8ICRzY29wZS5hbGxTaXRlTWV0U2Vuc29ycy5sZW5ndGg7IG1zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzW21zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IG1TZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbVNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBtU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG1TZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5tZXRJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ01ldCBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBtU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZGdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcnMgPSAwOyBycyA8ICRzY29wZS5hbGxTaXRlUkRHU2Vuc29ycy5sZW5ndGg7IHJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzW3JzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5SYXBpZCBEZXBsb3ltZW50IFNlbnNvciBTdGF0dXM6PC9iPiAnICsgclNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiByU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5yZGdJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JERyBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiByU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdG9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzcyA9IDA7IHNzIDwgJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnMubGVuZ3RoOyBzcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc1NlbnNvciA9ICRzY29wZS5hbGxTaXRlU3Rvcm1TZW5zb3JzW3NzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IHNTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgc1NlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBzU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHNTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG9ybUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU3Rvcm10aWRlIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHNTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgd3MgPSAwOyB3cyA8ICRzY29wZS5hbGxTaXRlV2F2ZVNlbnNvcnMubGVuZ3RoOyB3cysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd1NlbnNvciA9ICRzY29wZS5hbGxTaXRlV2F2ZVNlbnNvcnNbd3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPldhdmUgSGVpZ2h0IFNlbnNvciBTdGF0dXM6PC9iPiAnICsgd1NlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiB3U2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHdTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy53YXZlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdXYXZlaGVpZ2h0IFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHdTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ByZXNzdXJlVGVtcFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcyA9IDA7IHBzIDwgJHNjb3BlLmFsbFNpdGVQcmVzVGVtcFNlbnNvcnMubGVuZ3RoOyBwcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcFNlbnNvciA9ICRzY29wZS5hbGxTaXRlUHJlc1RlbXBTZW5zb3JzW3BzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IHBTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgcFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBwU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHBTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5wcmVzc3VyZUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUHJlc3N1cmVUZW1wIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHBTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXJtb21ldGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRzID0gMDsgdHMgPCAkc2NvcGUuYWxsU2l0ZVRoZXJtU2Vuc29ycy5sZW5ndGg7IHRzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0U2Vuc29yID0gJHNjb3BlLmFsbFNpdGVUaGVybVNlbnNvcnNbdHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlRlbXBlcmF0dXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgdFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiB0U2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHRTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy50aGVybUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVGhlcm1vbWV0ZXIgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogdFNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2ViY2FtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHdlYnMgPSAwOyB3ZWJzIDwgJHNjb3BlLmFsbFNpdGVXZWJTZW5zb3JzLmxlbmd0aDsgd2VicysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2ViU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVXZWJTZW5zb3JzW3dlYnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdlYlNlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+V2ViY2FtIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgd2ViU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHdlYlNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiB3ZWJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy53ZWJjYW1JY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dlYmNhbSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiB3ZWJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JhaW5nYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJhaW5zID0gMDsgcmFpbnMgPCAkc2NvcGUuYWxsU2l0ZVJhaW5TZW5zb3JzLmxlbmd0aDsgcmFpbnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhaW5TZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVJhaW5TZW5zb3JzW3JhaW5zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYWluU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5SYWluIGdhZ2UgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyByYWluU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHJhaW5TZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcmFpblNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJhaW5nYWdlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdSYWluZ2FnZSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiByYWluU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Jhcm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FYnMgPSAwOyBub0VicyA8ICRzY29wZS5hbGxTaXRlQmFyb1NlbnNvcnMubGVuZ3RoOyBub0VicysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FYlNlbnNvciA9ICRzY29wZS5hbGxTaXRlQmFyb1NlbnNvcnNbbm9FYnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+QmFyb21ldHJpYyBQcmVzc3VyZSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRWJTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0ViU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9FYlNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuYmFyb0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdCYXJvIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9FYlNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRW1zID0gMDsgbm9FbXMgPCAkc2NvcGUuYWxsU2l0ZU1ldFNlbnNvcnMubGVuZ3RoOyBub0VtcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FbVNlbnNvciA9ICRzY29wZS5hbGxTaXRlTWV0U2Vuc29yc1tub0Vtc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IG5vRW1TZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FbVNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRW1TZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0VtU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5tZXRJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWV0IFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9FbVNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmRnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXJzID0gMDsgbm9FcnMgPCAkc2NvcGUuYWxsU2l0ZVJER1NlbnNvcnMubGVuZ3RoOyBub0VycysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FclNlbnNvciA9ICRzY29wZS5hbGxTaXRlUkRHU2Vuc29yc1tub0Vyc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5SYXBpZCBEZXBsb3ltZW50IFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FclNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0VyU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5yZGdJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUkRHIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9FclNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3Rvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9Fc3MgPSAwOyBub0VzcyA8ICRzY29wZS5hbGxTaXRlU3Rvcm1TZW5zb3JzLmxlbmd0aDsgbm9Fc3MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXNTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVN0b3JtU2Vuc29yc1tub0Vzc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IG5vRXNTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9Fc1NlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXNTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0VzU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG9ybUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9ybXRpZGUgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VzU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V3cyA9IDA7IG5vRXdzIDwgJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29ycy5sZW5ndGg7IG5vRXdzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0V3U2Vuc29yID0gJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29yc1tub0V3c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5XYXZlIEhlaWdodCBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXdTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0V3U2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9Fd1NlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMud2F2ZUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdXYXZlaGVpZ2h0IFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9Fd1NlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJlc3N1cmVUZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXBzID0gMDsgbm9FcHMgPCAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29ycy5sZW5ndGg7IG5vRXBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0VwU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVQcmVzVGVtcFNlbnNvcnNbbm9FcHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+JyArICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRlcGxveW1lbnRfdHlwZV9pZCA9PSBub0VwU2Vuc29yLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kICsgJyBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXBTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0VwU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9FcFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMucHJlc3N1cmVJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUHJlc3N1cmVUZW1wIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9FcFNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlcm1vbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FdHMgPSAwOyBub0V0cyA8ICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzLmxlbmd0aDsgbm9FdHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXRTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVRoZXJtU2Vuc29yc1tub0V0c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5UZW1wZXJhdHVyZSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXRTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0V0U2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9FdFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMudGhlcm1JY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVGhlcm1vbWV0ZXIgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0V0U2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93ZWJjYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9Fd2VicyA9IDA7IG5vRXdlYnMgPCAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnMubGVuZ3RoOyBub0V3ZWJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0V3ZWJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnNbbm9Fd2Vic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5XZWJjYW0gU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0V3ZWJTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0V3ZWJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0V3ZWJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLndlYmNhbUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdXZWJjYW0gU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0V3ZWJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JhaW5nYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXJhaW5zID0gMDsgbm9FcmFpbnMgPCAkc2NvcGUuYWxsU2l0ZVJhaW5TZW5zb3JzLmxlbmd0aDsgbm9FcmFpbnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXJhaW5TZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVJhaW5TZW5zb3JzW25vRXJhaW5zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPj5XZWJjYW0gU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VyYWluU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9FcmFpblNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXJhaW5TZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJhaW5nYWdlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JhaW5nYWdlIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogbm9FcmFpblNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBhZGRTZW5zb3JzIHdoZW4gZXZlbnQgY2hhbmdlc1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBpY29ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBzdG46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuU2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMiwgMTJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzZWxlY3RlZEljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBod21JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE2LCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bkhXTUljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBiYXJvSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxNiwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5CYXJvU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldEljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuTWV0U2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJkZ0ljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjIsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuUkRHU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0b3JtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TdG9ybVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB3YXZlSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5XYXZlU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXNzdXJlSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5QcmVzc3VyZVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB0aGVybUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTYsIDIyXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuVGhlcm1TZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgd2ViY2FtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5XZWJjYW1TZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmFpbmdhZ2VJY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blJhaW5nYWdlU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZU1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNpcmNsZU1hcmtlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDA5OScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGxuZ3M6IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBhZGRTaGFwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNPYmouY2lyY2xlTWFya2VyLmxhdGxuZ3MgPSB7IGxhdDogJHNjb3BlLnRoaXNTaXRlLmxhdGl0dWRlX2RkLCBsbmc6ICRzY29wZS50aGlzU2l0ZS5sb25naXR1ZGVfZGQgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHMuY2lyY2xlTWFya2VyID0gJHNjb3BlLnBhdGhzT2JqLmNpcmNsZU1hcmtlcjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBhZGRTaGFwZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcENlbnRlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6ICRzY29wZS50aGlzU2l0ZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUudGhpc1NpdGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tOiAxNixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWluWm9vbTogMTZcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6ICRzY29wZS5tYXJrZXJzLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNMYXRMbmdBcnJheTogW10sICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFzZWxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiV29ybGQgVG9wb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJsYXlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG5TaXRlczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtYXJrZXJjbHVzdGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU1ROIFNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBhbmd1bGFyICRzY29wZS5leHRlbmQgc3RhdGVtZW50XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGdldFByb3hpbWl0eVNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0UHJveGltaXR5U2l0ZXMoeyBMYXRpdHVkZTogJHNjb3BlLnRoaXNTaXRlLmxhdGl0dWRlX2RkLCBMb25naXR1ZGU6ICRzY29wZS50aGlzU2l0ZS5sb25naXR1ZGVfZGQsIEJ1ZmZlcjogMC4wNSB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VTaXRlcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jbG9zZVNpdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jbG9zZVNpdGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gJHNjb3BlLmNsb3NlU2l0ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhLnNpdGVfaWQgIT09ICRzY29wZS50aGlzU2l0ZS5zaXRlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5OZWFyYnkgU2l0ZSBOYW1lOjwvYj4gJyArIGEuc2l0ZV9ubyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGEubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBwcm94aW1pdHkgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBwcm94aW1pdHkgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgLy8gZ2V0UHJveGltaXR5U2l0ZXMoKTtcclxuICAgICAgICAgICAgfS8vZW5kIGlmIGFTaXRlICE9PSB1bmRlZmluZWRcclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlclxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NpdGVDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJ3RoaXNTaXRlJywgJ2xhdGxvbmcnLCAndGhpc1NpdGVOZXR3b3JrTmFtZXMnLCAndGhpc1NpdGVOZXR3b3JrVHlwZXMnLCAndGhpc1NpdGVIb3VzaW5ncycsXHJcbiAgICAgICAgJ1NJVEUnLCAnTUVNQkVSJywgJ0ZJTEVfVFlQRScsICdBR0VOQ1knLCAnU2l0ZV9TY3JpcHQnLCAnYWxsSG9yRGF0dW1zJywgJ2FsbEhvckNvbGxNZXRob2RzJywgJ2FsbFN0YXRlcycsICdhbGxDb3VudGllcycsICdhbGxEZXBsb3lQcmlvcml0aWVzJywgJ2FsbEhvdXNpbmdUeXBlcycsICdhbGxOZXR3b3JrTmFtZXMnLCAnYWxsTmV0d29ya1R5cGVzJywgJ2FsbERlcGxveVR5cGVzJywgJ2FsbFNlbnNvclR5cGVzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsIHRoaXNTaXRlLCBsYXRsb25nLCB0aGlzU2l0ZU5ldHdvcmtOYW1lcywgdGhpc1NpdGVOZXR3b3JrVHlwZXMsIHRoaXNTaXRlSG91c2luZ3MsIFNJVEUsIE1FTUJFUiwgRklMRV9UWVBFLCBBR0VOQ1ksIFNpdGVfU2NyaXB0LCBhbGxIb3JEYXR1bXMsXHJcbiAgICAgICAgICAgIGFsbEhvckNvbGxNZXRob2RzLCBhbGxTdGF0ZXMsIGFsbENvdW50aWVzLCBhbGxEZXBsb3lQcmlvcml0aWVzLCBhbGxIb3VzaW5nVHlwZXMsIGFsbE5ldHdvcmtOYW1lcywgYWxsTmV0d29ya1R5cGVzLCBhbGxEZXBsb3lUeXBlcywgYWxsU2Vuc29yVHlwZXMpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIlNpdGUgRGFzaGJvYXJkXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vIGFyZSB0aGVyZSBhbnkgc2NyaXB0cyBydW5uaW5nIGFnYWluc3QgdGhpcyBzaXRlIHJpZ2h0IG5vdyBmb3IgYWlyL3dhdGVyXHJcbiAgICAgICAgICAgICAgICB2YXIgc2hvd1NjcmlwdFRvYXN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkRhdGEgRmlsZSBTY3JpcHRzIGFyZSBwcm9jZXNzaW5nIGZvciB0aGlzIHNpdGUgYW5kIGNhbiB0YWtlIHNldmVyYWwgbWludXRlcy4gQ2hlY2sgYmFjayB0byB0aGUgc2l0ZSBkYXNoYm9hcmQgbGF0ZXIgb3IgcmVmcmVzaCB0byBzZWUgaWYgc2NyaXB0IGlzIGNvbXBsZXRlIGFuZCBuZXcgZmlsZXMgYXJlIHJlYWR5LiBUaGUgb3V0cHV0IGNzdiBmaWxlIGNvbnRhaW5zIHN1Y2Nlc3MvZXJyb3IgaW5mb3JtYXRpb24uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHsgY2xvc2VCdXR0b246IHRydWUsIHBvc2l0aW9uQ2xhc3M6IFwidG9hc3QtYm90dG9tLXJpZ2h0XCIsIG9uY2xpY2s6IG51bGwsIHRpbWVPdXQ6IDAsIGV4dGVuZGVkVGltZU91dDogMCB9XHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBpZiAoU2l0ZV9TY3JpcHQuZ2V0SXNTY3JpcHRSdW5uaW5nKCkgPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzaG93U2NyaXB0VG9hc3QoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NpdGVERlNjcmlwdFJ1bm5pbmcnLCBmdW5jdGlvbiAoZSwgcnVubmluZ1NjcmlwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChydW5uaW5nU2NyaXB0ID09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTY3JpcHRUb2FzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBtYXBPcGVuOiBmYWxzZSwgc2l0ZU9wZW46IHRydWUsIG9wT3BlbjogZmFsc2UsIHNlbnNvck9wZW46IGZhbHNlLCBod21PcGVuOiBmYWxzZSwgZmlsZXNPcGVuOiBmYWxzZSwgcGVha09wZW46IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNTaXRlSG91c2VUeXBlTW9kZWwgPSBbXTsgLy9ob2xkZXIgZm9yIHdoZW4gYWRkaW5nIGhvdXNpbmcgdHlwZSB0byBwYWdlIGZyb20gbXVsdGlzZWxlY3RcclxuXHJcbiAgICAgICAgICAgICAgICAvL29wZW4gbW9kYWwgdG8gZWRpdCBvciBjcmVhdGUgYSBzaXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlblNpdGVDcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93blBhcnRzID0gW2FsbEhvckRhdHVtcywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFN0YXRlcywgYWxsQ291bnRpZXMsIGFsbEhvdXNpbmdUeXBlcywgYWxsRGVwbG95UHJpb3JpdGllcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTmV0d29ya05hbWVzLCBhbGxOZXR3b3JrVHlwZXMsIGFsbERlcGxveVR5cGVzLCBhbGxTZW5zb3JUeXBlc107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVOTmFtZXNUb1Bhc3MgPSBbXTsgLy9tYWtlIHN1cmUgb25seSBwYXNzaW5nIHRvIGVkaXQgdGhvc2UgdGhhdCBhcmUgb24gdGhpcyBzaXRlIChpbiBjYXNlIHRoZXkgZWRpdCwgc2F2ZSwgZWRpdCBhZ2FpbilcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhTk4gPSAwOyBhTk4gPCBhbGxOZXR3b3JrTmFtZXMubGVuZ3RoOyBhTk4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBuYW1lIG1hdGNoZXMgYW55IG9mIHRoZSBuYW1lcyBpbiAkc2NvcGUuU2l0ZU5ldHdvcmtOYW1lcywgZ2V0IHRoZSBmdWxsIG5ldHdvcmtfbmFtZSB0byBwYXNzIHRvIHRoZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcy5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGU7IH0pLmluZGV4T2YoYWxsTmV0d29ya05hbWVzW2FOTl0ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOTmFtZXNUb1Bhc3MucHVzaChhbGxOZXR3b3JrTmFtZXNbYU5OXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVOVHlwZXNUb1Bhc3MgPSBbXTsgLy9tYWtlIHN1cmUgb25seSBwYXNzaW5nIHRvIGVkaXQgdGhvc2UgdGhhdCBhcmUgb24gdGhpcyBzaXRlIChpbiBjYXNlIHRoZXkgZWRpdCwgc2F2ZSwgZWRpdCBhZ2FpbilcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVOZXR3b3JrVHlwZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhTlQgPSAwOyBhTlQgPCBhbGxOZXR3b3JrVHlwZXMubGVuZ3RoOyBhTlQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBuYW1lIG1hdGNoZXMgYW55IG9mIHRoZSBuYW1lcyBpbiAkc2NvcGUuU2l0ZU5ldHdvcmtOYW1lcywgZ2V0IHRoZSBmdWxsIG5ldHdvcmtfbmFtZSB0byBwYXNzIHRvIHRoZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGU7IH0pLmluZGV4T2YoYWxsTmV0d29ya1R5cGVzW2FOVF0ubmV0d29ya190eXBlX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlTlR5cGVzVG9QYXNzLnB1c2goYWxsTmV0d29ya1R5cGVzW2FOVF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdTSVRFbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERyb3BEb3duUGFydHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHJvcGRvd25QYXJ0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVN0dWZmOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdTaXRlSG91c2VzID0gJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzICE9PSB1bmRlZmluZWQgPyAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MgOiBbXTsgLy9uZWVkZWQgZm9yIG11bHRpIHNlbGVjdCB0byBzZXQgcHJvcCBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0hvdXNlVHlwZU1vZGVsID0gJHNjb3BlLnRoaXNTaXRlSG91c2VUeXBlTW9kZWwubGVuZ3RoID4gMCA/ICRzY29wZS50aGlzU2l0ZUhvdXNlVHlwZU1vZGVsIDogW107IC8vaGVyZSdzIHdoYXQgdGhlIHNpdGUgYWxyZWFkeSBoYXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNOZXROYW1lcyA9IHNpdGVOTmFtZXNUb1Bhc3MubGVuZ3RoID4gMCA/IHNpdGVOTmFtZXNUb1Bhc3MgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNOZXRUeXBlcyA9IHNpdGVOVHlwZXNUb1Bhc3MubGVuZ3RoID4gMCA/IHNpdGVOVHlwZXNUb1Bhc3MgOiBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvID0gJHNjb3BlLmxhbmRvd25lciAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmxhbmRvd25lciA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZVJlbGF0ZWRTdHVmZiA9IFskc2NvcGUuYVNpdGUsIG9yaWdTaXRlSG91c2VzLCBzSG91c2VUeXBlTW9kZWwsIHNOZXROYW1lcywgc05ldFR5cGVzLCBsb107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaXRlUmVsYXRlZFN0dWZmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRklMRV9UWVBFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBBR0VOQ1kuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG9uZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRsb25nICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhdGxvbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociAhPT0gJ0RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSByWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0TGFuZE93bmVyQ29udGFjdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkhvcml6b250YWxEYXR1bSA9ICRzY29wZS5hU2l0ZS5oZGF0dW1faWQgPiAwID8gYWxsSG9yRGF0dW1zLmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX2lkID09ICRzY29wZS5hU2l0ZS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiBcIi0tLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkhvcml6b250YWxDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgPiAwID8gYWxsSG9yQ29sbE1ldGhvZHMuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6IFwiLS0tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuUHJpb3JpdHlOYW1lID0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkID4gMCA/IGFsbERlcGxveVByaW9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChkcCkgeyByZXR1cm4gZHAucHJpb3JpdHlfaWQgPT0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkOyB9KVswXS5wcmlvcml0eV9uYW1lIDogXCItLS1cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcyA9IHJbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcyA9IHJbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbWFwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaXMgdGhpcyBjcmVhdGUgbmV3IHNpdGUgb3IgdmlldyBleGlzdGluZz8/ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBleGlzdGluZ1NpdGVcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUuc2l0ZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHRoaXNTaXRlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zID0gJ2RkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkhvcml6b250YWxEYXR1bSA9ICRzY29wZS5hU2l0ZS5oZGF0dW1faWQgPiAwID8gYWxsSG9yRGF0dW1zLmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX2lkID09ICRzY29wZS5hU2l0ZS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiBcIi0tLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbENvbGxlY3RNZXRob2QgPSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyBhbGxIb3JDb2xsTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKGhjKSB7IHJldHVybiBoYy5oY29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogXCItLS1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLlByaW9yaXR5TmFtZSA9ICRzY29wZS5hU2l0ZS5wcmlvcml0eV9pZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hU2l0ZS5wcmlvcml0eV9pZCA+IDAgPyBhbGxEZXBsb3lQcmlvcml0aWVzLmZpbHRlcihmdW5jdGlvbiAoZHApIHsgcmV0dXJuIGRwLnByaW9yaXR5X2lkID09ICRzY29wZS5hU2l0ZS5wcmlvcml0eV9pZDsgfSlbMF0ucHJpb3JpdHlfbmFtZSA6IFwiLS0tXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIGhvdXNpbmdzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZUhvdXNpbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA9IGFuZ3VsYXIuY29weSh0aGlzU2l0ZUhvdXNpbmdzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3JtYXQgZm9yIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gMDsgeiA8ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncy5sZW5ndGg7IHorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggaG91c2luZ3R5cGVsaXN0Li5tYWtlIHNlbGVjdGVkID0gdHJ1ZSBmb3IgdGhlc2UgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob3VzZVR5cGVOYW1lID0gYWxsSG91c2luZ1R5cGVzLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ob3VzaW5nX3R5cGVfaWQgPT0gJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBob3VzZVQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVfbmFtZTogaG91c2VUeXBlTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91c2luZ190eXBlX2lkOiAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0uaG91c2luZ190eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2hvdXNpbmdfaWQ6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5zaXRlX2hvdXNpbmdfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlbmd0aDogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0ZXJpYWw6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5tYXRlcmlhbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZXM6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5ub3RlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW1vdW50OiAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0uYW1vdW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGVIb3VzZVR5cGVNb2RlbC5wdXNoKGhvdXNlVCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGlzU2l0ZUhvdXNpbmdzICE9IHVuZGVmaW5lZFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHBseSBhbnkgc2l0ZSBuZXR3b3JrIG5hbWVzIG9yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZU5ldHdvcmtOYW1lcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHRoaXNTaXRlTmV0d29ya05hbWVzLmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5uID0gYWxsTmV0d29ya05hbWVzLmZpbHRlcihmdW5jdGlvbiAobikgeyByZXR1cm4gbi5uZXR3b3JrX25hbWVfaWQgPT0gdGhpc1NpdGVOZXR3b3JrTmFtZXNbYV0ubmV0d29ya19uYW1lX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcy5wdXNoKG5uLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYXBwbHkgYW55IHNpdGUgbmV0d29yayBuYW1lcyBvciB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVOZXR3b3JrVHlwZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYiA9IDA7IGIgPCB0aGlzU2l0ZU5ldHdvcmtUeXBlcy5sZW5ndGg7IGIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudCA9IGFsbE5ldHdvcmtUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKG50KSB7IHJldHVybiBudC5uZXR3b3JrX3R5cGVfaWQgPT0gdGhpc1NpdGVOZXR3b3JrVHlwZXNbYl0ubmV0d29ya190eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5wdXNoKG50Lm5ldHdvcmtfdHlwZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNlbnNvcl9ub3RfYXBwcm9wcmlhdGUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuYVNpdGUuc2Vuc29yX25vdF9hcHByb3ByaWF0ZSA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTm90QXBwciA9IFwiWWVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOb3RBcHByID0gXCJOb1wiO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IG1lbWJlciBuYW1lIGZvciBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubWVtYmVyX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLm1lbWJlcl9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkc2NvcGUuYVNpdGUubWVtYmVyX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkNyZWF0b3IgPSByZXNwb25zZS5mbmFtZSArIFwiIFwiICsgcmVzcG9uc2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ3JlYXRvciA9IFwiTm90IHJlY29yZGVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5hU2l0ZS5DcmVhdG9yID0gXCJOb3QgcmVjb3JkZWRcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IHRoZSBsYW5kb3duZXJDT250YWN0IHdpdGggZ2V0Q3JlZHMgKGNhbGxlZCB3aGVuIGNvbWluZyBiYWNrIGZyb20gbW9kYWwgdG9vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBnZXRMYW5kT3duZXJDb250YWN0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkICE9PSBudWxsICYmICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFNpdGVMYW5kT3duZXIoeyBpZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRMYW5kb3duZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxhbmRvd25lcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbGFuZG93bmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc2l0ZSBoYXMgbGFuZG93bmVyY29udGFjdCBpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRMYW5kT3duZXJDb250YWN0KCk7IC8vY2FsbCBpdCBmcm9tIGhlcmUgYW5kIGZyb20gbW9kYWxyZXNwb25zZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaXRlICE9IHVuZGVmaW5lZCBidXQgdGhlIHNpdGUuc2l0ZV9pZCBpcyA9PSB0aGlzIHNpdGUgZG9lc24ndCBleGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGlzIHNpdGUgZG9lcyBub3QgZXhpc3RcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvSG9tZScpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcGx5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3RpbmdTaXRlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb3BlbiBtb2RhbCBpZiBuZXcgc2l0ZSBmb3IgY3JlYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wZW5TaXRlQ3JlYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0vL2VuZCBlbHNlIGNoZWNrQ3JlZHMgaXMgZ29vZFxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcigncXVpY2tDcmVhdGVDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyRzY2UnLCAnd2hpY2hRdWljaycsICdhbGxIb3JEYXR1bXMnLFxyXG4gICAgICAgICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxTdGF0ZXMnLCAnYWxsQ291bnRpZXMnLCAnYWxsT1BUeXBlcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgJ2FsbE9QUXVhbGl0aWVzJywgJ2FsbEhXTVR5cGVzJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxNYXJrZXJzJyxcclxuICAgICAgICAnYWxsRXZlbnRzJywgJ2FsbFNlbnNvclR5cGVzJywgJ2FsbFNlbnNvckJyYW5kcycsICdhbGxEZXBsb3lUeXBlcycsICdhbGxIb3VzaW5nVHlwZXMnLCAnU0lURScsICdPQkpFQ1RJVkVfUE9JTlQnLCAnSFdNJywgJ01FTUJFUicsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ09QX01FQVNVUkUnLCAnT1BfQ09OVFJPTF9JREVOVElGSUVSJywgJ0dFT0NPREUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgJHNjZSwgd2hpY2hRdWljaywgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsU3RhdGVzLCBhbGxDb3VudGllcywgYWxsT1BUeXBlcyxcclxuICAgICAgICAgICAgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCBhbGxIV01UeXBlcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxNYXJrZXJzLCBhbGxFdmVudHMsIGFsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbERlcGxveVR5cGVzLCBhbGxIb3VzaW5nVHlwZXMsXHJcbiAgICAgICAgICAgIFNJVEUsIE9CSkVDVElWRV9QT0lOVCwgSFdNLCBNRU1CRVIsIElOU1RSVU1FTlQsIElOU1RSVU1FTlRfU1RBVFVTLCBPUF9NRUFTVVJFLCBPUF9DT05UUk9MX0lERU5USUZJRVIsIEdFT0NPREUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5DcmVhdGVXaGF0ID0gd2hpY2hRdWljaztcclxuICAgICAgICAgICAgICAgICRzY29wZS5odG1sRGVzY3JpcHRpb25UaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdSZXF1aXJlZCBieSBOV0lTLiBDYW4gYmUgbGlzdGVkIGFzIDxlbT5cXCd1bmtub3duXFwnPC9lbT4gb3IgPGVtPlxcJ0F0bGFudGljIE9jZWFuXFwnPC9lbT4nKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkY29va2llcy5nZXQoJ21JRCcpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluTWVtYmVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsb2dnZWQgaW4gbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiUXVpY2tcIiArIHdoaWNoUXVpY2s7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVpY2tGb3JtID0ge307IC8vZm9ybXMgd2l0aGluIHRoZSBhY2NvcmRpb24gLlNpdGUsIC5PUCwgLkhXTVxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgYSBmZXcgdGltZXMgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBcIlwiICYmIGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBuZXcgRGF0ZShtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVjRGVnT1JkbXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHsgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYU9QID0geyBkYXRlX2VzdGFibGlzaGVkOiBtYWtlQWRhdGUoXCJcIikgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBzaXRlT3BlbjogdHJ1ZSwgb3BPcGVuOiBmYWxzZSwgaHdtT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb24gZm9yIHBhcnRzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkgPSBbXTsgLy9ob2xkZXIgaWYgdGhleSByZW1vdmUgYW55IE9QIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycyA9IFtdOyAvL2hvbGRlciBmb3IgYWRkZWQgSWRlbnRpZmllcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSBmYWxzZTsgLy9pbml0aWFsbHkgaGlkZSB0aGUgYXJlYSBjb250YWluaW5nIGFkZGVkIGNvbnRyb2wgSWRlbnRpZmllcnNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdHVtTGlzdCA9IGFsbEhvckRhdHVtczsgJHNjb3BlLmhvckNvbGxNZXRob2RMaXN0ID0gYWxsSG9yQ29sbE1ldGhvZHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVMaXN0ID0gYWxsU3RhdGVzOyAkc2NvcGUuYWxsQ291bnR5TGlzdCA9IGFsbENvdW50aWVzOyAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BUeXBlTGlzdCA9IGFsbE9QVHlwZXM7ICRzY29wZS52ZXJ0RGF0dW1MaXN0ID0gYWxsVmVydERhdHVtcztcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sbE1ldGhvZExpc3QgPSBhbGxWZXJ0Q29sTWV0aG9kczsgJHNjb3BlLm9wUXVhbExpc3QgPSBhbGxPUFF1YWxpdGllcztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2h3bSBkcm9wZG93bnNcclxuICAgICAgICAgICAgICAgIGlmICh3aGljaFF1aWNrID09ICdIV00nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7IGh3bV9sYWJlbDogJ2h3bS0xJywgaHdtX2Vudmlyb25tZW50OiAnUml2ZXJpbmUnLCBldmVudF9pZDogJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpLCBiYW5rOiAnTi9BJywgZmxhZ19kYXRlOiBtYWtlQWRhdGUoXCJcIiksIHN0aWxsd2F0ZXI6IDAsIGZsYWdfbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsSFdNVHlwZXM7ICRzY29wZS5od21RdWFsTGlzdCA9IGFsbEhXTVF1YWxpdGllczsgJHNjb3BlLm1hcmtlckxpc3QgPSBhbGxNYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9zZW5zb3IgZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICBpZiAod2hpY2hRdWljayA9PSAnU2Vuc29yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZXRUaW1lWm9uZVN0YW1wID0gZnVuY3Rpb24gKGRzZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kVGhpcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkc2VudCAhPT0gdW5kZWZpbmVkKSBkID0gbmV3IERhdGUoZHNlbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6b25lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChvZmZzZXQuc3Vic3RyKDAsIDMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdDU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnRVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ01TVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdQU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbmRUaGlzID0gW2QsIHpvbmVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3QgPSBhbGxEZXBsb3lUeXBlczsgLy9nZXQgZnJlc2ggdmVyc2lvbiBzbyBub3QgbWVzc2VkIHVwIHdpdGggdGhlIFRlbXBlcmF0dXJlIHR3aWNlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdXNlVHlwZUxpc3QgPSBhbGxIb3VzaW5nVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yID0geyBldmVudF9pZDogJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpLCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cyA9IHsgc3RhdHVzX3R5cGVfaWQ6IDEsIG1lbWJlcl9pZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QgPSBhbGxFdmVudHM7ICRzY29wZS5zZW5zb3JUeXBlTGlzdCA9IGFsbFNlbnNvclR5cGVzOyAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0ID0gYWxsU2Vuc29yQnJhbmRzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUgPSB7IHR5cGU6ICdTZWNvbmRzJyB9OyAvL2RlZmF1bHRcclxuICAgICAgICAgICAgICAgICAgICAvL2Rpc3BsYXlpbmcgZGF0ZSAvIHRpbWUgaXQgdXNlcidzIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERlcHRpbWVQYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IERlcHRpbWVQYXJ0c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gRGVwdGltZVBhcnRzWzFdOyAvL3dpbGwgYmUgY29udmVydGVkIHRvIHV0YyBvbiBwb3N0L3B1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLkRlcGxveWVyID0gJHNjb3BlLmxvZ2dlZEluTWVtYmVyO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2dldCBkZXBsb3ltZW50IHR5cGVzIGZvciBzZW5zb3IgdHlwZSBjaG9zZW5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0RGVwVHlwZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdTZW5zRGVwbGlzdCA9IGFsbFNlbnNvclR5cGVzLmZpbHRlcihmdW5jdGlvbiAoc2QpIHsgcmV0dXJuIHNkLnNlbnNvcl90eXBlX2lkID09ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIDEgc2Vuc29yVHlwZSB3aXRoIGlubmVyIGxpc3Qgb2YgIC5kZXBsb3ltZW50dHlwZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzID0gbWF0Y2hpbmdTZW5zRGVwbGlzdC5kZXBsb3ltZW50dHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMubGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQgPSAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXNbMF0uZGVwbG95bWVudF90eXBlX2lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vZGVmYXVsdCByYWRpb3NcclxuICAgICAgICAgICAgICAgICRzY29wZS5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkZUb3JDTSA9ICdmdCc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGFkZCBPUCBpZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTmV3SWRlbnRpZmllciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5wdXNoKHsgaWRlbnRpZmllcjogXCJcIiwgaWRlbnRpZmllcl90eXBlOiBcIlwiIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBhZGROZXdJZGVudGlmaWVyIGZvciBPUFxyXG5cclxuICAgICAgICAgICAgICAgIC8vaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVENcclxuICAgICAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IHV0Y0RhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbGF0L2xvbmcgc3R1ZmZcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVjRGVnT1JkbXMudmFsID0gJ2RkJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTsgLy9ob2xkZXIgb2YgZGVnIG1pbiBzZWMgdmFsdWVzXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb252ZXJ0IGRlZyBtaW4gc2VjIHRvIGRlYyBkZWdyZWVzXHJcbiAgICAgICAgICAgICAgICB2YXIgYXppbXV0aCA9IGZ1bmN0aW9uIChkZWcsIG1pbiwgc2VjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGF6aSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXppID0gLTEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTEuMCAqIGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF6aSA9IDEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jb252ZXJ0IGRlYyBkZWdyZWVzIHRvIGRtc1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlZ190b19kbXMgPSBmdW5jdGlvbiAoZGVnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZSwgcmVtb3ZlIHRoZSAtIHNpZ25cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBNYXRoLmZsb29yKGRlZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pbmZsb2F0ID0gKGRlZyAtIGQpICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKG1pbmZsb2F0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICgobWluZmxvYXQgLSBtKSAqIDYwKS50b0ZpeGVkKDMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFwiXCIgKyBkICsgXCI6XCIgKyBtICsgXCI6XCIgKyBzKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGV5IGNoYW5nZWQgcmFkaW8gYnV0dG9uIGZvciBkbXMgZGVjIGRlZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxhdExvbmdDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZWNEZWdPUmRtcy52YWwgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcy52YWwgPSBcImRtc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gbGFkRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVNhcnJheSA9IGxvbmdETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gbG9uZ0RNU2FycmF5WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNzMuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI1NJVEVfbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG9wZW5Mb25nTW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTc1LjAgYW5kIC02MC4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI1NJVEVfbG9uZ2l0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgcmlnaHQgbnVtYmVyIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uIChkLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZG1zJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBkZWdyZWUgdmFsdWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgPCAwIHx8ICRzY29wZS5ETVMuTEFEZWcgPiA3MyB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykgJiYgJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnZG1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSkgJHNjb3BlLkRNUy5MQURlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikpICRzY29wZS5ETVMuTEFNaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpKSAkc2NvcGUuRE1TLkxBU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyA8IC0xNzUgfHwgJHNjb3BlLkRNUy5MT0RlZyA+IC02MCB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykgJiYgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2RtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykpICRzY29wZS5ETVMuTE9EZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9NaW4pKSAkc2NvcGUuRE1TLkxPTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSkgJHNjb3BlLkRNUy5MT1NlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGxhdGl0dWRlL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICBsYXQvbG9uZyA9aXMgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZ2V0IGFkZHJlc3MgcGFydHMgYW5kIGV4aXN0aW5nIHNpdGVzIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jbGVhciB0aGVtIGFsbCBmaXJzdFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYVNpdGUuYWRkcmVzczsgZGVsZXRlICRzY29wZS5hU2l0ZS5jaXR5OyBkZWxldGUgJHNjb3BlLmFTaXRlLnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTsgZGVsZXRlICRzY29wZS5hU2l0ZS56aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCAhPT0gdW5kZWZpbmVkICYmICFpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpICYmICFpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEdFT0NPREUuZ2V0QWRkcmVzc1BhcnRzKHsgTG9uZ2l0dWRlOiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnR5TmFtZSA9IHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllc1swXS5OQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSBzdGF0ZUZJUFMgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX2lkID09IHRoaXNTdGF0ZUlEOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLnN0YXRlID0gdGhpc1N0YXRlLnN0YXRlX2FiYnJldjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuYWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGUgTGF0aXR1ZGUvTG9uZ2l0dWRlIGRpZCBub3QgcmV0dXJuIGEgcmVjb2duaXplZCBzdGF0ZS4gUGxlYXNlIGNob29zZSBvbmUgZnJvbSB0aGUgZHJvcGRvd24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJObyBsb2NhdGlvbiBpbmZvcm1hdGlvbiBjYW1lIGJhY2sgZnJvbSB0aGF0IGxhdC9sb25nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzcy4gQ2hvb3NlIFN0YXRlIGFuZCBDb3VudHkgZnJvbSBkcm9wZG93bnMuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGRpZCBub3QgdHlwZSBhIGxhdC9sb25nIGZpcnN0Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtcHR5TGF0TG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcHJvdmlkZSBhIExhdGl0dWRlIGFuZCBMb25naXR1ZGUgYmVmb3JlIGNsaWNraW5nIFZlcmlmeSBMb2NhdGlvbjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGdldEFkZHJlc3MoKVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBsYXQvbG9uZyBzdHVmZlxyXG5cclxuICAgICAgICAgICAgICAgIC8vaHdtX3VuY2VydGFpbnR5IHR5cGVkIGluLCBjaG9vc2UgY29vcmVzcG9uZGluZyBod21fZW52aXJvbm1lbnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9vc2VRdWFsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5od21fdW5jZXJ0YWludHkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIEV4Y2VsbGVudCAgICArLTAuMDUgICAgICAgMCAgICAgIC0gIDAuMDUwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBHb29kICAgICAgICAgKy0wLjEwICAgICAgIDAuMDUxICAtICAwLjEwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgRmFpciAgICAgICAgICstMC4yMCAgICAgICAwLjEwMSAgLSAgMC4yMDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIFBvb3IgICAgICAgICArLTAuNDAgICAgICAgMC4yMDEgIC0gIDAuNDAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBWIFBvb3IgICAgICAgPiAwLjQwICAgICAgIDAuNDAxICAtICBpbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5od21fcXVhbGl0eV9pZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vaHdtIHF1YWxpdHkgY2hvc2VuIChvciBpdCBjaGFuZ2VkIGZyb20gYWJvdmUpLCBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgY29uZ3J1ZW50IHdpdGggaW5wdXQgYWJvdmVcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb21wYXJlVG9VbmNlcnRhaW50eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiICYmICRzY29wZS5hSFdNLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4ID0gTnVtYmVyKCRzY29wZS5hSFdNLmh3bV91bmNlcnRhaW50eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1F1YWxJZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5od21fcXVhbGl0eV9pZCAhPT0gbWF0Y2hpbmdRdWFsSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsIGFuZCBmb2N1cyBpbiB1bmNlcnRhaW50eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluY29uZ3J1ZW50TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5XYXJuaW5nPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBpcyBhIG1pc21hdGNoIGJldHdlZW4gdGhlIGh3bSBxdWFsaXR5IGNob3NlbiBhbmQgdGhlIGh3bSB1bmNlcnRhaW50eSBhYm92ZS4gUGxlYXNlIGNvcnJlY3QgeW91ciBod20gdW5jZXJ0YWludHkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNvbmdydWVudE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCJbbmFtZT0naHdtX3VuY2VydGFpbnR5J11cIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy93aGVuIFNJVEUuc3RhdGUgY2hhbmdlcywgdXBkYXRlIGNvdW50eSBsaXN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3Quc3RhdGVfYWJicmV2ID09IHM7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuYWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdXBkYXRlQ291bnR5TGlzdCgpIGZvciBTaXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHVuY2VydGFpbnR5IGNsZWFyZWQgYW5kIGRpc2FibGVkIHdoZW4gJ3VucXVhbnRpZmllZCcgaXMgY2hlY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlVucXVhbnRDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYU9QLnVucXVhbnRpZmllZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLnVuY2VydGFpbnR5ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdW5xdWFudENoZWNrZWQoKSBmb3Igb3BcclxuXHJcbiAgICAgICAgICAgICAgICAvL2p1c3QgbmVlZCBhbiBPQkpFQ1RJVkVfUE9JTlQgb2JqZWN0IHRvIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJpbU9QID0gZnVuY3Rpb24gKG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE9CSl9QVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgIT09IHVuZGVmaW5lZCA/IG9wLm9iamVjdGl2ZV9wb2ludF9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG9wLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvcC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxldl9mdDogb3AuZWxldl9mdCAhPT0gdW5kZWZpbmVkID8gb3AuZWxldl9mdCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVfZXN0YWJsaXNoZWQ6IG9wLmRhdGVfZXN0YWJsaXNoZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wX2lzX2Rlc3Ryb3llZDogb3Aub3BfaXNfZGVzdHJveWVkICE9PSB1bmRlZmluZWQgPyBvcC5vcF9pc19kZXN0cm95ZWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcF9ub3Rlczogb3Aub3Bfbm90ZXMgIT09IHVuZGVmaW5lZCA/IG9wLm9wX25vdGVzIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogb3Auc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmRhdHVtX2lkOiBvcC52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IG9wLnZkYXR1bV9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiBvcC5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiBvcC5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkYXR1bV9pZDogb3AuaGRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyBvcC5oZGF0dW1faWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoY29sbGVjdF9tZXRob2RfaWQ6IG9wLmhjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AuaGNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmNvbGxlY3RfbWV0aG9kX2lkOiBvcC52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/IG9wLnZjb2xsZWN0X21ldGhvZF9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wX3R5cGVfaWQ6IG9wLm9wX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVfcmVjb3ZlcmVkOiBvcC5kYXRlX3JlY292ZXJlZCAhPT0gdW5kZWZpbmVkID8gb3AuZGF0ZV9yZWNvdmVyZWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmNlcnRhaW50eTogb3AudW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCA/IG9wLnVuY2VydGFpbnR5IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5xdWFudGlmaWVkOiBvcC51bnF1YW50aWZpZWQgIT09IHVuZGVmaW5lZCA/IG9wLnVucXVhbnRpZmllZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wX3F1YWxpdHlfaWQ6IG9wLm9wX3F1YWxpdHlfaWQgIT09IHVuZGVmaW5lZCA/IG9wLm9wX3F1YWxpdHlfaWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9CSl9QVDtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9YIHdhcyBjbGlja2VkIG5leHQgdG8gZXhpc3RpbmcgQ29udHJvbCBJZGVudGlmaWVyIHRvIGhhdmUgaXQgcmVtb3ZlZCwgc3RvcmUgaW4gcmVtb3ZlIGFycmF5IGZvciBTYXZlKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5SZW1vdmVJRCA9IGZ1bmN0aW9uIChvcENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgYWRkIHRvIHJlbW92ZSBsaXN0IGlmIGl0J3MgYW4gZXhpc3Rpbmcgb25lIHRvIERFTEVURVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuaW5kZXhPZihvcENvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcENvbnRyb2wub3BfY29udHJvbF9pZGVudGlmaWVyX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZU9QQ2FycmF5LnB1c2gob3BDb250cm9sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZml4IGRlZmF1bHQgcmFkaW9zIGFuZCBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdERlZmF1bHRzID0gZnVuY3Rpb24gKHRoZU9QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvck1FVEVSIG5lZWRzIHRvIGJlICdmdCcuIGlmICdtZXRlcicgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yTUVURVIgPT0gXCJtZXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5lbGV2X2Z0ID0gJHNjb3BlLmFPUC5lbGV2X2Z0ICogMy4yODA4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yQ00gbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ2NtJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JDTSA9PSBcImNtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLnVuY2VydGFpbnR5ID0gJHNjb3BlLmFPUC51bmNlcnRhaW50eSAvIDMwLjQ4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFwZWRvd24gPSB7IE9wZW46IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICAvL3NlbnNvciBzZWN0aW9uLCBjbGlja2VkIFNob3cvSGlkZSBUYXBlIGRvd24gaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgIHZhciBzaG93TmVlZE9QZmlyc3RNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmVlZE9QTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+Tm8gRGF0dW0gTG9jYXRpb248L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5JbiBvcmRlciB0byBhZGQgdGFwZSBkb3duIGluZm9ybWF0aW9uLCBwbGVhc2UgcG9wdWxhdGUgdGhlIERhdHVtIExvY2F0aW9uIHNlY3Rpb24gYWJvdmUgZmlyc3QuPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHA+VGhlIGZvbGxvd2luZyBmaWVsZHMgYXJlIHJlcXVpcmVkIGZvciB0aGUgdGFwZSBkb3duIHNlY3Rpb246IDxiPk5hbWU8L2I+LCA8Yj5FbGV2YXRpb248L2I+IGFuZCA8Yj5WZXJ0aWNhbCBEYXR1bTwvYj4uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBuZWVkT1BNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlZG93bi5PcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkZXIgZm9yIHRoZSBvcCBpZiB0aGV5IGNob29zZSBpdCBmcm9tIHRoZSBkcm9wZG93biBmb3IgdGFwZSBkb3duXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHVuY2hlY2tlZCB0aGUgb3AgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IGRvblxcJ3Qgd2FudCB0byBhZGQgdGhpcyBPUCBNZWFzdXJlbWVudCB0byB0aGlzIHF1aWNrIHNlbnNvcj88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPlllczwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZWRvd24uT3BlbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnNwbGljZSgwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93biA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZSA9IHt9OyAkc2NvcGUuYWRkVGFwZWRvd24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5zZW5zb3JfZWxldmF0aW9uID0gJyc7ICRzY29wZS5hU2Vuc1N0YXR1cy53c19lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFTZW5zU3RhdHVzLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMudmRhdHVtX2lkID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVGFwZWRvd24gPSBmYWxzZTsgLy90b2dnbGUgdGFwZWRvd24gc2VjdGlvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93biA9IFtdOyAvL3dpbGwgaG9sZCBPUCB0aGV5IGFkZCBpbiBvcCBhY2NvcmRpb24uLiBnZXQgdGhpcyB3aGVuIHRoZXkgY2xpY2sgdGhlIGJ1dHRvbiBhbmQgc2hvdyBtb2RhbCBpZiB0aGV5IGhhdmVuJ3QgcG9wdWxhdGVkIGl0IHlldC5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93VGFwZWRvd25QYXJ0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBhcmUgb3BlbmluZyB0byBhZGQgdGFwZSBkb3duIGluZm9ybWF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYU9QLm5hbWUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYU9QLmVsZXZfZnQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYU9QLnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLm9wX25hbWUgPSAkc2NvcGUuYU9QLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLmVsZXZhdGlvbiA9ICRzY29wZS5hT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLmFPUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnB1c2goJHNjb3BlLk9QTWVhc3VyZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duLnB1c2goJHNjb3BlLmFPUCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVGFwZWRvd24gPSB0cnVlOyAkc2NvcGUudGFwZWRvd24uT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudmRhdHVtX2lkID0gJHNjb3BlLmFPUC52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93TmVlZE9QZmlyc3RNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFRhcGVkb3duID0gdHJ1ZTsgJHNjb3BlLnRhcGVkb3duLk9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLm9wRXJyb3JzID0gZmFsc2U7ICRzY29wZS5od21FcnJvcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZUZvcm0gPSAkc2NvcGUucXVpY2tGb3JtLnF1aWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRXJyb3JzID0gZmFsc2U7ICRzY29wZS5vcEVycm9ycyA9IGZhbHNlOyAkc2NvcGUuaHdtRXJyb3JzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2l0ZSBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID09PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID09PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHdpdGhpbiBwcm9wZXIgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRTaXRlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIHNpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuc2F2ZSgkc2NvcGUuYVNpdGUsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2l0ZUlEID0gcmVzcG9uc2Uuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLnNpdGVfaWQgPSBjcmVhdGVkU2l0ZUlEOyAkc2NvcGUuYU9QLmxhdGl0dWRlX2RkID0gcmVzcG9uc2UubGF0aXR1ZGVfZGQ7ICRzY29wZS5hT1AubG9uZ2l0dWRlX2RkID0gcmVzcG9uc2UubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuaGRhdHVtX2lkID0gcmVzcG9uc2UuaGRhdHVtX2lkOyAkc2NvcGUuYU9QLmhjb2xsZWN0X21ldGhvZF9pZCA9IHJlc3BvbnNlLmhjb2xsZWN0X21ldGhvZF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkNyZWF0ZVdoYXQgPT0gJ0hXTScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc2l0ZV9pZCA9IGNyZWF0ZWRTaXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLndhdGVyYm9keSA9IHJlc3BvbnNlLndhdGVyYm9keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQgPSByZXNwb25zZS5sYXRpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID0gcmVzcG9uc2UubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQgPSByZXNwb25zZS5oY29sbGVjdF9tZXRob2RfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhkYXR1bV9pZCA9IHJlc3BvbnNlLmhkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQgPSByZXNwb25zZS5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmV2ZW50X2lkID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL09QIHN0dWZmIFBPU1RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGVmYXVsdHMoJHNjb3BlLmFPUCk7IC8vJHNjb3BlLk9QLkZUb3JNRVRFUiwgRlRvckNNLCBkZWNEZWdPUmRtcyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgT1B0b1BPU1QgPSB0cmltT1AoJHNjb3BlLmFPUCk7IC8vbWFrZSBpdCBhbiBPQkpFQ1RJVkVfUE9JTlQgZm9yIHNhdmluZ1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuc2F2ZShPUHRvUE9TVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkT1AgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBlYWNoIG9uZSBUSElTIFdJTEwgQ0hBTkdFIFNPT04gVE8gSEFWRSBvYmplY3RpdmVfcG9pbnRfaWQgYWxyZWFkeSBhZGRlZCBhbmQgbm90IHNlbnQgYWxvbmcgd2l0aCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgb3BjID0gMDsgb3BjIDwgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubGVuZ3RoOyBvcGMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzT1BDb250cm9sSUQgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc1tvcGNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNPUENvbnRyb2xJRC5vYmplY3RpdmVfcG9pbnRfaWQgPSByZXNwb25zZS5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLnNhdmUodGhpc09QQ29udHJvbElEKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hXTSBzdHVmZiBQT1NUIGlmIEhXTVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkNyZWF0ZVdoYXQgPT0gJ0hXTScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgZW50ZXJlZCBhIHN1cnZleSBkYXRlIG9yIGVsZXZhdGlvbiwgdGhlbiBzZXQgc3VydmV5IG1lbWJlciBhcyB0aGUgZmxhZyBtZW1iZXIgKGZsYWdnaW5nIGFuZCBzdXJ2ZXlpbmcgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfbWVtYmVyX2lkID0gJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmVsZXZfZnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZXkgYWRkZWQgdGhlIHN1cnZleSBkYXRlIGlmIHRoZXkgYWRkZWQgYW4gZWxldmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfbWVtYmVyX2lkID0gJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV00uc2F2ZSgkc2NvcGUuYUhXTSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlF1aWNrIEhXTSBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL1NpdGUvJyArIGNyZWF0ZWRTaXRlSUQgKyAnL1NpdGVEYXNoYm9hcmQnKS5yZXBsYWNlKCk7Ly8ubm90aWZ5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgSFdNLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgSFdNIGNyZWF0aW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ3JlYXRlV2hhdCA9PSAnU2Vuc29yJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRTZW5zb3IgPSB7fTsgdmFyIGRlcFNlblN0YXQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPSAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCAqIDYwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLnNpdGVfaWQgPSBjcmVhdGVkU2l0ZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoKTsgLy9VVEMgb3IgbG9jYWw/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuc2F2ZSgkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SUQgPSByZXNwb25zZS5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIGluc3RydW1lbnRzdGF0dXMgdG9vIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMuaW5zdHJ1bWVudF9pZCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZSgkc2NvcGUuYVNlbnNTdGF0dXMpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZGVkIHRhcGUgZG93bnM/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1RhcGUgPSAkc2NvcGUudGFwZURvd25UYWJsZVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUub2JqZWN0aXZlX3BvaW50X2lkID0gY3JlYXRlZE9QLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1BPU1QgSVQvLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZSh0aGlzVGFwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJRdWljayBTZW5zb3IgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL1NpdGUvJyArIGNyZWF0ZWRTaXRlSUQgKyAnL1NpdGVEYXNoYm9hcmQnKS5yZXBsYWNlKCk7Ly8ubm90aWZ5KGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcGx5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZGVsZXRlKHsgaWQ6IGluc3RydW1lbnRJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBJbnN0cnVtZW50IFN0YXR1cyBzYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGluc3RydW1lbnRTYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIE9QLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgU0lURS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5zaXRlT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMub3BPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5od21PcGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdcIiArIHRoZUZvcm0uJG5hbWUgKyBcIiddXCIpLmZpbmQoJy5uZy1pbnZhbGlkOnZpc2libGU6Zmlyc3QnKS5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uc2l0ZV9kZXNjcmlwdGlvbi4kaW52YWxpZCB8fCB0aGVGb3JtLmxhdGl0dWRlX2RkLiRpbnZhbGlkIHx8IHRoZUZvcm0ubG9uZ2l0dWRlX2RkLiRpbnZhbGlkIHx8IHRoZUZvcm0uaGRhdHVtX2lkLiRpbnZhbGlkIHx8IHRoZUZvcm0uaGNvbGxlY3RfbWV0aG9kX2lkLiRpbnZhbGlkIHx8IHRoZUZvcm0ud2F0ZXJib2R5LiRpbnZhbGlkIHx8IHRoZUZvcm0uc3RhdGUuJGludmFsaWR2IHx8IHRoZUZvcm0uY291bnR5LiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0ub3BfdHlwZV9pZC4kaW52YWxpZCB8fCB0aGVGb3JtLm5hbWUuJGludmFsaWQgfHwgdGhlRm9ybS5kZXNjcmlwdGlvbi4kaW52YWxpZCB8fCB0aGVGb3JtLmRlLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BFcnJvcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGVGb3JtLmh3bV90eXBlX2lkLiRpbnZhbGlkIHx8IHRoZUZvcm0uaHdtX2Vudmlyb25tZW50LiRpbnZhbGlkIHx8IHRoZUZvcm0uaHdtX3F1YWxpdHlfaWQuJGludmFsaWQgfHwgdGhlRm9ybS5mZC4kaW52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiUXVpY2sgSFdNIG5vdCBjcmVhdGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9Ly9lbmQgZWxzZSAobG9nZ2VkIGluKVxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlU2VhcmNoQ3RybCcsIFsnJHNjb3BlJywgJyRjb29raWVzJywgJyRyb290U2NvcGUnLCAnJGxvY2F0aW9uJywgJ3N0YXRlTGlzdCcsICdzZW5zb3JUeXBlcycsICduZXR3b3JrTmFtZXMnLCAnU0lURScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsICRyb290U2NvcGUsICRsb2NhdGlvbiwgc3RhdGVMaXN0LCBzZW5zb3JUeXBlcywgbmV0d29ya05hbWVzLCBTSVRFKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTaXRlIFNlYXJjaFwiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJzaXRlc1wiOyAvLyByZXBvcnQsIHNldHRpbmdzXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VuVHlwZXMgPSBzZW5zb3JUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXROYW1lcyA9IG5ldHdvcmtOYW1lcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW4gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMgPSBbXTsgLy91c2VkIHRvIGpvaW4gZWFjaCBhYmJyZXYgdG8gcGFzcyB0byBjYWxsXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBod21Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbk9ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmRnT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcERlZmluZWQ6IDBcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaWYgdGhleSBhcmUgY29taW5nIGJhY2sgaGVyZSwgc2VlIGlmIGEgc2VhcmNoIGhhcyBiZWVuIHN0b3JlZCBsYXN0IHRpbWUuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU2VhcmNoID0gJHJvb3RTY29wZS5zZWFyY2hQYXJhbXM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9IE51bWJlcih0aGlzU2VhcmNoLmV2ZW50KTtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIHN0YXRlLCBzZWxlY3RlZD10cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIHN0YXRlcyBhbmQgYWRkIHNlbGVjdGVkIFByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLnN0YXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHRoaXNTZWFyY2guc3RhdGUubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLnN0YXRlW3ldID09ICRzY29wZS5zdGF0ZXNbaV0uc3RhdGVfYWJicmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlc1tpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRoaXNTZWFyY2guc3RhdGUubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTZWFyY2guc3RhdGUubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlc1tpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gdGhpc1NlYXJjaC5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuLnNlbnNvciA9IHRoaXNTZWFyY2guU2Vuc29yVHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuLm5ldHdvcmsgPSB0aGlzU2VhcmNoLk5ldHdvcmtOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW4uc3VydmV5ID0gdGhpc1NlYXJjaC5IV01TdXJ2ZXllZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5ID0gdGhpc1NlYXJjaC5IV01Pbmx5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHkgPSB0aGlzU2VhcmNoLlNlbnNvck9ubHk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSA9IHRoaXNTZWFyY2guUkRHT25seTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWQgPSB0aGlzU2VhcmNoLk9QRGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmdldEZpbHRlcmVkU2l0ZXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogJHNjb3BlLnNlc3Npb25FdmVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGU6ICRzY29wZS5jaG9zZW5TdGF0ZXMuam9pbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTGlzdCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2ZpbHRlciBvcHRpb25zIGNob3NlbiwgZ28gZ2V0IHRoZXNlIHNpdGVzIHRvIHNob3cgaW4gYSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL3N0b3JlIHNlYXJjaCBpbiBjYXNlIHRoZXkgbGVhdmUgYW5kIGNsaWNrIGJhY2tcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlU3RyaW5nID0gJHNjb3BlLmNob3NlblN0YXRlcy5qb2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldklEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlYXJjaFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAkc2NvcGUuY2hvc2VuU3RhdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRGaWx0ZXJlZFNpdGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6IGV2SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlOiBzdGF0ZVN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgc2VhcmNoU2l0ZXMgY2xpY2sgYWN0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9hZGQgZWFjaCBzdGF0ZSB0byBhbiBhcnJheSB0byBiZSBqb2luZWQgaW4gdGhlIEdFVFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ2xpY2sgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMucHVzaChkYXRhLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLmNob3NlblN0YXRlcy5pbmRleE9mKGRhdGEuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzLnNwbGljZShpbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZSBmaWx0ZXIgY2hvaWNlcyAoc3RhcnQgb3ZlcilcclxuICAgICAgICAgICAgICAgICRzY29wZS5jbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bU9ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbk9ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJkZ09ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wRGVmaW5lZDogMFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlbiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zdGF0ZXMsIGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NldHRpbmdzQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJzZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzID0gXCJXZWxjb21lIHRvIHRoZSBuZXcgU1ROIFNldHRpbmdzIFBhZ2UhIVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVZpZXcgPSBmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyh2aWV3KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG5cclxuICAgIC8vZGVwbG95IG5ldyBvciBwcm9wb3NlZCBzZW5zb3IsIGVkaXQgZGVwbG95ZWQgbW9kYWxcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignc2Vuc29yTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckdGltZW91dCcsICckY29va2llcycsICckaHR0cCcsICckc2NlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnYWxsRHJvcGRvd25zJywgJ2FnZW5jeUxpc3QnLCAnU2l0ZV9GaWxlcycsICdhbGxEZXBUeXBlcycsICd0aGlzU2Vuc29yJywgJ1NlbnNvclNpdGUnLCAnc2l0ZU9QcycsICdhbGxNZW1iZXJzJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnREFUQV9GSUxFJywgJ0ZJTEUnLCAnU09VUkNFJywgJ09QX01FQVNVUkUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR0aW1lb3V0LCAkY29va2llcywgJGh0dHAsICRzY2UsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIEZJTEVfU1RBTVAsIGFsbERyb3Bkb3ducywgYWdlbmN5TGlzdCwgU2l0ZV9GaWxlcywgYWxsRGVwVHlwZXMsIHRoaXNTZW5zb3IsIFNlbnNvclNpdGUsIHNpdGVPUHMsIGFsbE1lbWJlcnMsIElOU1RSVU1FTlQsIElOU1RSVU1FTlRfU1RBVFVTLCBEQVRBX0ZJTEUsIEZJTEUsIFNPVVJDRSwgT1BfTUVBU1VSRSkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3ducyBbMF1hbGxTZW5zb3JUeXBlcywgWzFdYWxsU2Vuc29yQnJhbmRzLCBbMl1hbGxIb3VzaW5nVHlwZXMsIFszXWFsbFNlbnNEZXBzLCBbNF1hbGxFdmVudHMgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvclR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0ID0gYWxsRHJvcGRvd25zWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1syXTtcclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNlbnNvckRlcGxveUxpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBhbGxEcm9wZG93bnNbNF07IC8vdXNlZCBpZiBjcmVhdGluZy9lZGl0aW5nIGRlcFNlbnMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUudmVydERhdHVtTGlzdCA9IGFsbERyb3Bkb3duc1s1XTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcyA9IHRoaXNTZW5zb3IgIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaW5zdHJ1bWVudF9pZCA9PSB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWQ7IH0pIDogW107Ly8gaG9sZGVyIGZvciBod20gZmlsZXMgYWRkZWRcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzID0gJHNjb3BlLkRlcFNlbnNvckZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaGYpIHsgcmV0dXJuIGhmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBud2lzIGZpbGUgdG8gc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5PUHNQcmVzZW50ID0gc2l0ZU9Qcy5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd24gPSBzaXRlT1BzO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlID0gW107IC8vaG9sZGVyIG9mIHRhcGVkb3duIE9QX01FQVNVUkVNRU5UU1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3QgPSBhbGxEZXBUeXBlczsgLy9nZXQgZnJlc2ggdmVyc2lvbiBzbyBub3QgbWVzc2VkIHVwIHdpdGggdGhlIFRlbXBlcmF0dXJlIHR3aWNlXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGltZVpvbmVMaXN0ID0gWydVVEMnLCAnUFNUJywgJ01TVCcsICdDU1QnLCAnRVNUJ107XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RXZlbnRERCA9IGZhbHNlOyAvL3RvZ2dsZSB0byBzaG93L2hpZGUgZXZlbnQgZGQgKGFkbWluIG9ubHkpXHJcbiAgICAgICAgICAgICRzY29wZS5hZG1pbkNoYW5nZWQgPSB7fTsgLy93aWxsIGhvbGQgZXZlbnRfaWQgaWYgYWRtaW4gY2hhbmdlcyBpdC4gYXBwbHkgd2hlbiBQVVR0aW5nXHJcbiAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUgPSB7fTsgLy9ob2xkZXIgZm9yIG1pbnV0ZS9zZWNvbmQgcmFkaW8gYnV0dG9uc1xyXG4gICAgICAgICAgICAkc2NvcGUud2hpY2hCdXR0b24gPSBcIlwiOyAvL2hvbGRlciBmb3Igc2F2ZS9kZXBsb3kgYnV0dG9uIGF0IGVuZCAuLiAnZGVwbG95JyBpZiBwcm9wb3NlZC0+ZGVwbG95ZWQsIGFuZCBmb3IgZGVwbG95aW5nIG5ldyBvciBzYXZlIGlmIGVkaXRpbmcgZXhpc3RpbmdcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRzY29wZS5ud2lzSGVhZGVyVGlwID0gJHNjZS50cnVzdEFzSHRtbCgnQ29ubmVjdCB5b3VyIHRyYW5zbWl0dGluZyBzZW5zb3Igd2l0aCBOV0lTIHZpYSA8ZW0+U3RhdGlvbiBJRCBmb3IgVVNHUyBnYWdlPC9lbT4gZnJvbSB0aGUgU2l0ZSBkZXRhaWxzLicpO1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgREVQdmFsOiAnZGV0YWlsJywgUkVUdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGF0YU5XSVMgPSBmYWxzZTsgLy9pcyB0aGlzIGEgcmFpbiBnYWdlLCBtZXQgc3RhdGlvbiwgb3IgcmRnIHNlbnNvciAtLSBpZiBzbywgZGF0YSBmaWxlIG11c3QgYmUgY3JlYXRlZCBwb2ludGluZyB0byBud2lzICh3ZSBkb24ndCBzdG9yZSBhY3R1YWwgZmlsZSwganVzdCBtZXRhZGF0YSB3aXRoIGxpbmspXHJcbiAgICAgICAgICAgICRzY29wZS5zID0geyBkZXBPcGVuOiB0cnVlLCBzRmlsZU9wZW46IGZhbHNlLCBOV0lTRmlsZU9wZW46IGZhbHNlIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxID0gZmFsc2U7IC8vc2V0IHRvIHRydWUgYW5kIHNob3cgaGlnaGNoYXJ0IHdpdGggY2hvcHBlciByZXN1bHRzXHJcbiAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hhcnRPcHRpb25zMSA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gW107XHJcbiAgICAgICAgICAgIEFycmF5LnByb3RvdHlwZS56aXAgPSBmdW5jdGlvbiAoYXJyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2UsIGFycltpXV07XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8kc2NvcGUucmVuZGVyZXIgPSBuZXcgSGlnaGNoYXJ0cy5SZW5kZXJlcihcclxuICAgICAgICAgICAgJHNjb3BlLnJ1bkNob3BwZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPcHRpb25zMSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaGFydE9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iai54QXhpc1swXS5yZW1vdmVQbG90TGluZShcInN0YXJ0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iai54QXhpc1swXS5yZW1vdmVQbG90TGluZShcImVuZFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHNlbmRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNtbGFsbExvYWRlckdvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQ2hvcHBlclNjcmlwdChmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNtbGFsbExvYWRlckdvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxS2V5cyA9IE9iamVjdC5rZXlzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlID0gcmVzcG9uc2UuRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmFpbGVkQ2hvcHBlciA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSB3YXMgYW4gZXJyb3IgcnVubmluZyB0aGUgY2hvcHBlci48L3A+PHA+RXJyb3I6IHt7ZXJyb3JNZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ21lc3NhZ2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3JNZXNzYWdlID0gbWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yTWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnREYXRhID0gcmVzcG9uc2UudGltZS56aXAocmVzcG9uc2UucHJlc3N1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmVzZXQgdGhlIHN0YXJ0L2VuZCBkYXRlcyB0byB0aGUgMXN0IGFuZCBsYXN0IGFzIHRoZSBjaGFydERhdGEudGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNEYXRlID0gbmV3IERhdGUocmVzcG9uc2UudGltZVswXSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlRGF0ZSA9IG5ldyBEYXRlKHJlc3BvbnNlLnRpbWVbcmVzcG9uc2UudGltZS5sZW5ndGggLSAxXSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZCA9IGdldERhdGVUaW1lUGFydHMoc0RhdGUpOyB2YXIgZWQgPSBnZXREYXRlVGltZVBhcnRzKGVEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gc2Q7ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMxID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iaiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UeXBlOiAneCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Wm9vbUJ1dHRvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogJ2xlZnQnLCAvLyBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ2JvdHRvbScsIC8vIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB4OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IDcwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbktleTogJ3NoaWZ0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vc3RUaHJlc2hvbGQ6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludENsaWNrID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+V291bGQgeW91IGxpa2UgdG8gc2V0IHRoaXMgKHt7dGhpc0RhdGV9fSkgYXM6PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj48c3BhbiBjbGFzcz1cInJhZGlvLWlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwid2hpY2hEYXRlXCIgbmctbW9kZWw9XCJ3aGljaERhdGVcIiB2YWx1ZT1cInN0YXJ0XCIgLz5Hb29kIFN0YXJ0IERhdGU8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyYWRpby1pbmxpbmVcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIndoaWNoRGF0ZVwiIG5nLW1vZGVsPVwid2hpY2hEYXRlXCIgdmFsdWU9XCJlbmRcIiAvPkdvb2QgRW5kIERhdGU8L3NwYW4+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cImNhbmNlbCgpXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdjaG9zZW5EYXRlJywgJ3hFdmVudCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBjaG9zZW5EYXRlLCB4RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUud2hpY2hEYXRlID09IFwiXCIpIGFsZXJ0KFwiTm8gRGF0ZSBjaG9zZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gWyRzY29wZS53aGljaERhdGUsIGNob3NlbkRhdGUsIHhFdmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShwYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS53aGljaERhdGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRGF0ZSA9IG5ldyBEYXRlKGNob3NlbkRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuRGF0ZTogZXZlbnQucG9pbnQuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeEV2ZW50OiBldmVudC5jaGFydFhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludENsaWNrLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChwYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0ID0gJHNjb3BlLmNoYXJ0T2JqLnhBeGlzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGEgcGxvdGxpbmUgd2l0aCB0aGlzIGlkIGFuZCByZW1vdmUgaXQgaWYgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnJlbW92ZVBsb3RMaW5lKHBhcnRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgcGxvdCBsaW5lIHRvIHZpc3VhbGx5IHNlZSB3aGVyZSB0aGV5IGFkZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5hZGRQbG90TGluZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoYXJ0LnRvVmFsdWUocGFydHNbMl0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwYXJ0c1swXSA9PSBcInN0YXJ0XCIgPyAnIzAwZmYwMCcgOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcnRzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTk5OTksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsgdGV4dDogcGFydHNbMF0gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHBhcnRzWzFdKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBnZXREYXRlVGltZVBhcnRzKHRoZURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09IFwic3RhcnRcIikgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VPdmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXJpZXMuaGFsbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzLmhhbG8uYXR0cih7ICdjbGFzcyc6ICdoaWdoY2hhcnRzLXRyYWNrZXInIH0pLnRvRnJvbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSAvLyB0dXJuIGRvdHMgb2ZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQcmV2aWV3IG9mIFByZXNzdXJlIERhdGEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpY2sgYW5kIGRyYWcgdG8gem9vbSBpbi4gSG9sZCBkb3duIHNoaWZ0IGtleSB0byBwYW4uIFRvIHNlbGVjdCBHb29kIFN0YXJ0L0VuZCBEYXRlLCBjbGljayBwb2ludCBvbiBsaW5lLidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMUtleXNbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogJyVZLSVtLSVkPGJyLz4lSDolTTolUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICclWS0lbS0lZDxici8+JUg6JU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJyVZLSVtLSVkPGJyLz4lSDolTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICclWTxici8+JW0tJWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VlazogJyVZPGJyLz4lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJyVZLSVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICclWSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeUF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxS2V5c1swXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ3t2YWx1ZX0gcHNpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICRzY29wZS5jaGFydERhdGEsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgZmlsZSB3YXNuJ3QgdGhlcmUuLlxyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IG5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGluZyBkYXRlIGFuZCB0aW1lIHByb3Blcmx5IGZvciBjaHJvbWUgYW5kIGZmXHJcbiAgICAgICAgICAgIHZhciBnZXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzRGF0ZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRGF0ZSA9PT0gZmFsc2UpIHsgLy8gXCIyMDE3LTA5LTI4VDA5OjMzOjA5XCJcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeSA9IGQuc3Vic3RyKDAsIDQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gZC5zdWJzdHIoNSwgMikgLSAxOyAvL3N1YnRyYWN0IDEgZm9yIGluZGV4IHZhbHVlIChKYW51YXJ5IGlzIDApXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhID0gZC5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSBkLnN1YnN0cigxMSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pID0gZC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWMgPSBkLnN1YnN0cigxNywgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGRhLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRGF0ZSA9IGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhlRGF0ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbmV3IGRhdGV0aW1lcGlja2VyIGh0dHBzOi8vZ2l0aHViLmNvbS96aGFiZXIvYW5ndWxhci1qcy1ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXHJcbiAgICAgICAgICAgICAgICBzaG93V2Vla3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gZmlsZSBVcGxvYWRcclxuICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpOyAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL25lZWQgdG8gcmV1cGxvYWQgZmlsZUl0ZW0gdG8gdGhpcyBleGlzdGluZyBmaWxlIE9SIENoYW5nZSBvdXQgZXhpc3RpbmcgZmlsZUl0ZW0gZm9yIG5ldyBvbmVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVXBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSA9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFGaWxlLkZpbGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hRmlsZS5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6ICRzY29wZS5hRmlsZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogJHNjb3BlLmFGaWxlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5hRmlsZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAkc2NvcGUuYUZpbGUuaXNfbndpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZV9wb2ludF9pZDogJHNjb3BlLmFGaWxlLm9iamVjdGl2ZV9wb2ludF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZSA9ICRzY29wZS5hRmlsZS5GaWxlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIgPyBcIkRhdGFGaWxlIEZpbGVcIiA6IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgb3BcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBvcCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLkRlcFNlbnNvckZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLmxlbmd0aCA+IDAgPyAkc2NvcGUuZGVwU2Vuc0ltYWdlRmlsZXMuaW5kZXhPZihmaWxlKSA6IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IGFuZ3VsYXIuY29weShmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmdldEZpbGVJdGVtKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHJlc3BvbnNlLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gJHNjb3BlLmZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0UucXVlcnkoeyBpZDogZmlsZS5zb3VyY2VfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5zb3VyY2VfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIGFnZW5jeSBuYW1lIHRvIHBob3RvIGNhcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5kYXRhX2ZpbGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZmlsZS5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0aW5nIGEgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpOyAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHQgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IGR0WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSBcIlVUQ1wiOy8vIGR0WzFdOyAvL3dpbGwgYmUgY29udmVydGVkIHRvIHV0YyBvbiBwb3N0L3B1dCBcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IG51bGw7Ly9uZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IG51bGw7Ly9uZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBuZXcgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkIHx8IGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGRhdGEgc3RhcnQgZGF0ZSBvciBnb29kIGRhdGEgZW5kIGRhdGUgaXMgbWlzc2luZy4gRWl0aGVyIGNob29zZSBhIGRhdGUsIG9yIGNsaWNrIFByZXZpZXcgRGF0YSB0byBnZXQgYSBjaGFydCBvZiB0aGUgZGF0YSwgd2hlcmUgeW91IGNhbiBjaG9vc2UgdGhlIGRhdGVzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlzc2luZ0RhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IHRydWU7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBvciBkYXRhZmlsZSBmaXJzdCB0byBnZXQgc291cmNlX2lkIG9yIGRhdGFfZmlsZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5pbnN0cnVtZW50X2lkID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YWZpbGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuc2F2ZSgkc2NvcGUuZGF0YWZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZUlEID0gZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiBkZlJlc3BvbnNlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgJHNjb3BlLmFTb3VyY2UgPSB7fTsgJHNjb3BlLmRhdGFmaWxlID0ge307ICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsZSBkaWQgbm90IGdldCBjcmVhdGVkLCBkZWxldGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmRlbGV0ZSh7IGlkOiBkYXRhZmlsZUlEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGRhdGFmaWxlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCdzIG5vdCBhIGRhdGEgZmlsZSwgc28gZG8gdGhlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9Oy8vLCBTT1VSQ0VfREFURTogJHNjb3BlLmFTb3VyY2UuU09VUkNFX0RBVEUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbGluayBmaWxlLCBubyBmaWxlSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkOyAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGVsc2UgKGl0J3MgYSBMaW5rIGZpbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWQgICAgICBcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFzIERBVEFfRklMRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRpbWV6b25lIGFuZCBtYWtlIHN1cmUgZGF0ZSBzdGF5cyB1dGNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkIH0sICRzY29wZS5kYXRhZmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hhcyBTT1VSQ0VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJzogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2VuZCBmaWxlIFVwbG9hZFxyXG5cclxuICAgICAgICAgICAgLy8gTldJUyBDb25uZWN0aW9uXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBpZiAoZiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBOV0lTIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0gYW5ndWxhci5jb3B5KGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0ZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5GaWxlVHlwZSA9IFwiRGF0YVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5OV0lTREYucHJvY2Vzc29yX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmNvbGxlY3RfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0aW5nIGEgbndpcyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaHR0cHM6Ly93YXRlcmRhdGEudXNncy5nb3Yvbndpcy91dj9zaXRlX25vPScgKyAkc2NvcGUudGhpc1NlbnNvclNpdGUudXNnc19zaWQsICAvLyBpZiBbZmlsbCBpbiBpZiBub3QgaGVyZS4uIFRPRE8uLi4mYmVnaW5fZGF0ZT0yMDE2MDQxMyZlbmRfZGF0ZT0yMDE2MDQxOSAoZXZlbnQgc3RhcnQvZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnPGxpbms+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVR5cGU6ICdEYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFTZW5zb3Iuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3JfaWQ6ICRjb29raWVzLmdldChcIm1JRFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdF9kYXRlOiBkdFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZV96b25lOiBkdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9zdGFydDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9lbmQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBuZXcgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUgPSBmdW5jdGlvbiAoREZpZCkge1xyXG4gICAgICAgICAgICAgICAgREFUQV9GSUxFLmFwcHJvdmVOV0lTREYoeyBpZDogREZpZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5hcHByb3ZhbF9pZCA9IGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlTldJU0ZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBkYXRhZmlsZSBmaXJzdCB0byBnZXQgb3IgZGF0YV9maWxlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5zYXZlKCRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKE5kZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFmaWxlSUQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IGNyZWF0ZSBhbiBhcHByb3ZhbCB3aXRoIHRoZSBldmVudCdzIGNvb3JkaW5hdG9yIGFuZCBhZGQgdGhlIGFwcHJvdmFsX2lkLCBwdXQgaXQsIHRoZW4gcG9zdCB0aGUgZmlsZSBUT0RPIDo6OiBORVcgRU5EUE9JTlQgRk9SIFRISVNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmRhdGFfZmlsZV9pZCA9IE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUoTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkKTsgLy9wcm9jZXNzIGFwcHJvdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuZGF0YV9maWxlX2lkID0gTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUucGF0aCA9ICc8bGluaz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLk5XSVNGaWxlLkZpbGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLk5XSVNGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChGcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMucHVzaChGcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIGRpZCBub3QgZ2V0IGNyZWF0ZWQsIGRlbGV0ZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmRlbGV0ZSh7IGlkOiBkYXRhZmlsZUlEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge307ICRzY29wZS5OV0lTREYgPSB7fTsgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBOV0lTU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvLyBlbmQgY3JlYXRlIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZU5XSVNGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTldJU0RGLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5OV0lTREYuZGF0YV9maWxlX2lkIH0sICRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuTldJU0ZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuTldJU0ZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIERhdGEgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVOV0lTRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5OV0lTRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsTldJU0ZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLk9QY2hvc2VuID0gZnVuY3Rpb24gKG9wQ2hvc2VuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BJID0gJHNjb3BlLk9Qc0ZvclRhcGVEb3duLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2Yob3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcENob3Nlbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBwaWNrZWQgYW4gT1AgdG8gdXNlIGZvciB0YXBlZG93blxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLm9wX25hbWUgPSBvcENob3Nlbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuZWxldmF0aW9uID0gb3BDaG9zZW4uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IG9wQ2hvc2VuLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub2JqZWN0aXZlX3BvaW50X2lkID0gb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYXJlIHdlIGxvb2tpbmcgYXQgY3JlYXRlIGRlcGxveW1lbnQgb3IgZWRpdCBkZXBsb3ltZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTZW5zU3RhdHVzLnN0YXR1c190eXBlX2lkICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weS5wdXNoKCRzY29wZS5PUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnZkYXR1bV9pZCA9IG9wQ2hvc2VuLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKCRzY29wZS5PUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudmRhdHVtX2lkID0gb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHVuY2hlY2tlZCB0aGUgb3AgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hc2sgdGhlbSBhcmUgdGhleSBzdXJlP1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVPUE1lYXMgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlJlbW92ZSBPUCBNZWFzdXJlPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIE9QIE1lYXN1cmVtZW50IGZyb20gdGhpcyBzZW5zb3I/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byByZW1vdmUgaXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9yRWRpdCA9ICRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNlbnNTdGF0dXMuc3RhdHVzX3R5cGVfaWQgIT09IDQgPyBcImVkaXRcIiA6IFwiY3JlYXRlXCI7IC8vIGVkaXQgZGVwbG95bWVudCBvciBjcmVhdGluZyBhIGRlcGxveW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXBlRG93blRvUmVtb3ZlID0gY3JlYXRlT3JFZGl0ID09ICdlZGl0JyA/ICRzY29wZS5kZXBUYXBlQ29weS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEluZCA9IGNyZWF0ZU9yRWRpdCA9PSAnZWRpdCcgPyAkc2NvcGUuZGVwVGFwZUNvcHkubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZih0YXBlRG93blRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YodGFwZURvd25Ub1JlbW92ZS5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUucmVtb3ZlT1BMaXN0LnB1c2godGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlT3JFZGl0ID09ICdlZGl0JyA/ICRzY29wZS5kZXBUYXBlQ29weS5zcGxpY2UodEluZCwgMSkgOiAkc2NvcGUudGFwZURvd25UYWJsZS5zcGxpY2UodEluZCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGVtcHRpZXMgdGhlIHRhYmxlLCBjbGVhciB0aGUgc2Vuc1N0YXR1cyBmaWVsZHMgcmVsYXRlZCB0byB0YXBlZG93bnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVPckVkaXQgPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5hU2Vuc1N0YXR1cy5nc19lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFTZW5zU3RhdHVzLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMuc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiB0YXBlIGRvd24gc2VjdGlvbiBcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IHRpbWV6b25lIGFuZCB0aW1lc3RhbXAgZm9yIHRoZWlyIHRpbWV6b25lIGZvciBzaG93aW5nLi4gcG9zdC9wdXQgd2lsbCBjb252ZXJ0IGl0IHRvIHV0Y1xyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYnV0dG9uIGNsaWNrIHRvIHNob3cgZXZlbnQgZHJvcGRvd24gdG8gY2hhbmdlIGl0IG9uIGV4aXN0aW5nIGh3bSAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dDaGFuZ2VFdmVudEREID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gISRzY29wZS5zaG93RXZlbnRERDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2hhbmdlIGV2ZW50ID0gYXBwbHkgaXQgdG8gdGhlICRzY29wZS5FdmVudE5hbWVcclxuICAgICAgICAgICAgJHNjb3BlLkNoYW5nZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuZXZlbnRfaWQgPT0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IGRlcGxveW1lbnQgdHlwZXMgZm9yIHNlbnNvciB0eXBlIGNob3NlblxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0RGVwVHlwZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc2QpIHsgcmV0dXJuIHNkLnNlbnNvcl90eXBlX2lkID09ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyAxIHNlbnNvclR5cGUgd2l0aCBpbm5lciBsaXN0IG9mICAuZGVwbG95bWVudHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzLmxlbmd0aCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmRlcGxveW1lbnRfdHlwZV9pZCA9ICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlc1swXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuTG9nZ2VkSW5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYVNlbnNvciA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS50aGlzU2Vuc29yU2l0ZSA9IFNlbnNvclNpdGU7XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICB2YXIgc2Vuc29yT2JqZWN0VG9TZW5kQmFjayA9IHRoaXNTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtzZW5zb3JPYmplY3RUb1NlbmRCYWNrXTtcclxuICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlzIGludGVydmFsIGlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2lzIGl0IFVUQyBvciBsb2NhbCB0aW1lLi5tYWtlIHN1cmUgaXQgc3RheXMgVVRDXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPT0gJ3NhdmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lUyA9IG5ldyBEYXRlKCRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWVTO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWVEID0gbmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWVEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERpID0gJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgRGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2F2ZSBhU2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFNlbnNvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRtaW4gY2hhbmdlZCB0aGUgZXZlbnQgZm9yIHRoaXMgc2Vuc29yLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWUgaWYgdGhleSB1c2VkIE1pbnV0ZXMgb3Igc2Vjb25kcyBmb3IgaW50ZXJ2YWwuIG5lZWQgdG8gc3RvcmUgaW4gc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmludGVydmFsICogNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCdzYXZpbmcnKTsgLy9VVEMgb3IgbG9jYWw/XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLmRlcFN0dWZmQ29weVswXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQgPiAwID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5ob3VzaW5nX3R5cGVfaWQgPiAwID8gJHNjb3BlLmhvdXNlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLmRlcFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVhbCB3aXRoIHRhcGVkb3ducy4gcmVtb3ZlL2FkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcnQgPSAwOyBydCA8ICRzY29wZS5yZW1vdmVPUExpc3QubGVuZ3RoOyBydCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkVG9SZW1vdmUgPSAkc2NvcGUucmVtb3ZlT1BMaXN0W3J0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLmRlbGV0ZSh7IGlkOiBpZFRvUmVtb3ZlIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUgPSAkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoID4gMCA/IFtdIDogJHNjb3BlLnRhcGVEb3duVGFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdCA9IDA7IGF0IDwgJHNjb3BlLmRlcFRhcGVDb3B5Lmxlbmd0aDsgYXQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVB0aGlzVGFwZSA9ICRzY29wZS5kZXBUYXBlQ29weVthdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXhpc3RpbmcsIHB1dCBpbiBjYXNlIHRoZXkgY2hhbmdlZCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnVwZGF0ZSh7IGlkOiBERVB0aGlzVGFwZS5vcF9tZWFzdXJlbWVudHNfaWQgfSwgREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXcgb25lIGFkZGVkLCBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERFUHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUoREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgYWRkIGluc3RydW1lbnQgYW5kIGluc3RydW1lbnQgc3RhdHVzIHRvIHNlbmQgYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2VuU3RhdC5zdGF0dXMgPSAnRGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RydW1lbnRfc3RhdHVzZXNIb2xkZXIgPSAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X3N0YXR1czsgLy9wdXQgdGhlbSBoZXJlIHNvIHRoZXkgY2FuIGJlIHVwZGF0ZWQgYW5kIHJlYWRkZWQgKGFsbCB2ZXJzaW9ucylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yID0gdXBkYXRlZFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IgPSB1cGRhdGVkU2Vuc29yOyB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gaW5zdHJ1bWVudF9zdGF0dXNlc0hvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cyA9IHVwZGF0ZWRTZW5TdGF0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKTsvL3RoaXMga2VlcHMgaXQgYXMgdXRjIGluIGRpc3BsYXlcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuc3RhdHVzX3R5cGVfaWQ7IH0pLmluZGV4T2YoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzW2luZF0gPSAkc2NvcGUuYVNlbnNTdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5ID0gW107ICRzY29wZS5JbnRlcnZhbFR5cGUgPSB7IHR5cGU6ICdTZWNvbmRzJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgKFBPU1QpIGEgZGVwbG95ZWQgc2Vuc29yIGNsaWNrXHJcbiAgICAgICAgICAgICRzY29wZS5kZXBsb3kgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TZW5zb3JGb3JtLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNlbnNvci5sb2NhdGlvbl9kZXNjcmlwdGlvbiAhPT0gXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VlIGlmIHRoZXkgdXNlZCBNaW51dGVzIG9yIHNlY29uZHMgZm9yIGludGVydmFsLiBuZWVkIHRvIHN0b3JlIGluIHNlY29uZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9PSBcIk1pbnV0ZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmludGVydmFsID0gJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXQgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuZXZlbnRfaWQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLnNpdGVfaWQgPSBTZW5zb3JTaXRlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdG9yZVRaID0gYW5ndWxhci5jb3B5KCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUpOy8vIGluIGNhc2Ugc29tZXRoaW5nIGdvZXMgd3JvbmcgYW5kIG5lZWQgdG8gcmVzZXQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoJ2RlcGxveScpOyAvL1VUQyBvciBsb2NhbD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnN0YXR1c190eXBlX2lkID0gMTsgLy9kZXBsb3llZCBzdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLm1lbWJlcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7IC8vdXNlciB0aGF0IGxvZ2dlZCBpbiBpcyBkZXBsb3llclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNlbnNvciA9IHt9OyB2YXIgZGVwU2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVQTE9ZIFBST1BPU0VEIG9yIENSRUFURSBORVcgZGVwbG95bWVudD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXQgaW5zdHJ1bWVudCwgcG9zdCBzdGF0dXMgZm9yIGRlcGxveWluZyBQUk9QT1NFRCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQudXBkYXRlKHsgaWQ6ICRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLmFTZW5zb3IpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW5zdHJ1bWVudHN0YXR1cyB0b28gbmVlZDogc3RhdHVzX3R5cGVfaWQgYW5kIGluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5kZXBsb3ltZW50VHlwZSA9ICRzY29wZS5hU2Vuc29yLmRlcGxveW1lbnRUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaG91c2luZ1R5cGUgPSByZXNwb25zZS5ob3VzaW5nX3R5cGVfaWQgPiAwID8gJHNjb3BlLmhvdXNlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSByZXNwb25zZS5ob3VzaW5nX3R5cGVfaWQ7IH0pWzBdLnR5cGVfbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX2JyYW5kX2lkOyB9KVswXS5icmFuZF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMuaW5zdHJ1bWVudF9pZCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZSgkc2NvcGUuYVNlbnNTdGF0dXMpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSB0YXBlIGRvd25zP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1BPU1QgSVQvLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUodGhpc1RhcGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnVpbGQgdGhlIGNyZWF0ZWRTZW5zb3IgdG8gc2VuZCBiYWNrIGFuZCBhZGQgdG8gdGhlIGxpc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0ID0gc3RhdFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBTdGF0dXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwU2VuU3RhdC5zdGF0dXMgPSAnRGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gW2RlcFNlblN0YXQsICRzY29wZS5wcmV2aW91c1N0YXRlU3RhdHVzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBkZXBsb3llZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICRzY29wZS53aGljaEJ1dHRvbiA9PSAnZGVwbG95UCcgPyAncHJvcG9zZWREZXBsb3llZCcgOiAnbmV3RGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRTZW5zb3IsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcidzIHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGluc3RydW1lbnQgYW5kIHN0YXR1cyBmb3IgZGVwbG95aW5nIE5FVyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50SUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKCRzY29wZS5hU2Vuc29yKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW5zdHJ1bWVudHN0YXR1cyB0b28gbmVlZDogc3RhdHVzX3R5cGVfaWQgYW5kIGluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5kZXBsb3ltZW50VHlwZSA9IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCAhPT0gbnVsbCAmJiByZXNwb25zZS5kZXBsb3ltZW50X3R5cGVfaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5kZXBUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gcmVzcG9uc2UuaG91c2luZ190eXBlX2lkICE9PSBudWxsICYmIHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmhvdXNlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSByZXNwb25zZS5ob3VzaW5nX3R5cGVfaWQ7IH0pWzBdLnR5cGVfbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX2JyYW5kX2lkOyB9KVswXS5icmFuZF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMuaW5zdHJ1bWVudF9pZCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGlzIGluIGNhc2UgaXQgbmVlZHMgdG8gYmUgcmVzZXQgYmVjYXVzZSBpbnN0cnVtZW50X3N0YXR1cyBwb3N0IGZhaWxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXREYXRlID0gYW5ndWxhci5jb3B5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCkuZ2V0RnVsbFllYXIoKSArIFwiLVwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKChcIjBcIiArIChuZXcgRGF0ZSgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCkuZ2V0TW9udGgoKSArIDEpKS5zbGljZSgtMikpICsgXCItXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXcgRGF0ZSgkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCkuZ2V0RGF0ZSgpICsgXCJUXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKFwiMFwiICsgKG5ldyBEYXRlKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKS5nZXRIb3VycygpKSkuc2xpY2UoLTIpKSArIFwiOlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLmdldE1pbnV0ZXMoKSk7IC8vIFwiMjAxNy0wOS0yOFQwOTozMzowOVwiIG5lZWRzIHRvIGJlIHRoaXMuLi4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZSgkc2NvcGUuYVNlbnNTdGF0dXMpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSB0YXBlIGRvd25zP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1BPU1QgSVQvLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUodGhpc1RhcGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnVpbGQgdGhlIGNyZWF0ZWRTZW5zb3IgdG8gc2VuZCBiYWNrIGFuZCBhZGQgdG8gdGhlIGxpc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0ID0gc3RhdFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0LnN0YXR1cyA9ICdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbZGVwU2VuU3RhdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIGRlcGxveWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAkc2NvcGUud2hpY2hCdXR0b24gPT0gJ2RlcGxveVAnID8gJ3Byb3Bvc2VkRGVwbG95ZWQnIDogJ25ld0RlcGxveWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRTZW5zb3IsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cyhzdGF0RGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSBzdG9yZVRaO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBpbnN0cnVtZW50SUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmc6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdG8gdGVsbCB0aGVtIHRvIHVwZGF0ZSB0aGUgbG9jYXRpb25fZGVzY3JpcHRpb24gYmVmb3JlIGRlcGxveWluZyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZURlc2NyTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPllvdSBtdXN0IHVwZGF0ZSB0aGUgTG9jYXRpb24gRGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgYSBwcm9wb3NlZCBzZW5zb3IuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIGVsc2UgbG9jYXRpb25fZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgJHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVwbG95KClcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIGFTZW5zb3IgYW5kIHNlbnNvciBzdGF0dXNlc1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlUyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzo6IERlbGV0ZSB0aGUgZmlsZXMgZm9yIHRoaXMgc2Vuc29yIHRvbyBvciByZWFzc2lnbiB0byB0aGUgU2l0ZT8/IFNlcnZpY2VzIG9yIGNsaWVudCBoYW5kbGluZz9cclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbnNvclRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyB3aWxsIGRlbGV0ZSB0aGUgaW5zdHJ1bWVudCBhbmQgYWxsIGl0J3Mgc3RhdHVzZXNcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBzZW5zb3JUb1JlbW92ZS5pbnN0cnVtZW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgc2Vuc29yRmlsZXMgZm9yIHRoaXMgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBpbWFnZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5pbnN0cnVtZW50X2lkID09IHNlbnNvclRvUmVtb3ZlLmluc3RydW1lbnRfaWQpICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKGwsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbXCJkZVwiLCAnZGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1NlbnNvciAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vYWN0aW9uczogJ2RlcFByb3AnLCAnZWRpdERlcCcsICdyZXRyaWV2ZScsICdlZGl0UmV0J1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIGRlcGxveWVkIFNlbnNvciAuLiBicmVhayBhcGFydCB0aGUgJ3RoaXNTZW5zb3InIGludG8gJ2FTZW5zb3InIGFuZCAnYVNlbnNTdGF0dXMnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvciA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cyA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JEYXRhTldJUyA9ICgoJHNjb3BlLmFTZW5zb3Iuc2Vuc29yX3R5cGVfaWQgPT0gMiB8fCAkc2NvcGUuYVNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSA1KSB8fCAkc2NvcGUuYVNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSA2KSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcygpOy8vcG9wdWxhdGUgJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzIGZvciBkcm9wZG93biBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPSAnU2Vjb25kcyc7IC8vZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zZW5zb3JEYXRhTldJUykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRklMRS5WQUxJREFURUQgYmVpbmcgdXNlZCB0byBzdG9yZSAxIGlmIHRoaXMgaXMgYW4gbndpcyBmaWxlIG1ldGFkYXRhIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWkgPSAkc2NvcGUuRGVwU2Vuc29yRmlsZXMubGVuZ3RoIC0gMTsgYWkgPj0gMDsgYWktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRlcFNlbnNvckZpbGVzW2FpXS5pc19ud2lzID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMucHVzaCgkc2NvcGUuRGVwU2Vuc29yRmlsZXNbYWldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5zcGxpY2UoYWksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkdCA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0ge307XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9hcmUgd2UgZGVwbG95aW5nIGEgcHJvcG9zZWQgc2Vuc29yIG9yIGVkaXRpbmcgYSBkZXBsb3llZCBzZW5zb3I/P1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzID09IFwiUHJvcG9zZWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZGVwbG95aW5nIHByb3Bvc2VkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByZXZpb3VzU3RhdGVTdGF0dXMgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXSk7IC8vaG9sZCB0aGUgcHJvcG9zZWQgc3RhdGUgKHByb3Bvc2VkIHRvIGRlcGxveWVkKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS53aGljaEJ1dHRvbiA9ICdkZXBsb3lQJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9ICRzY29wZS5hU2Vuc29yLmludGVydmFsID09PSAwID8gbnVsbCA6ICRzY29wZS5hU2Vuc29yLmludGVydmFsOyAvL2NsZWFyIG91dCB0aGUgJzAnIHZhbHVlIGhlcmUgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAvL2Rpc3BsYXlpbmcgZGF0ZSAvIHRpbWUgaXQgdXNlcidzIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVQYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IHRpbWVQYXJ0c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gdGltZVBhcnRzWzFdOyAvL3dpbGwgYmUgY29udmVydGVkIHRvIHV0YyBvbiBwb3N0L3B1dFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpOyAvLyBtZW1iZXIgbG9nZ2VkIGluIGlzIGRlcGxveWluZyBpdFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95ZXIgPSAkc2NvcGUuTG9nZ2VkSW5NZW1iZXI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdGluZyBkZXBsb3llZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS53aGljaEJ1dHRvbiA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9ICRzY29wZS5hU2Vuc29yLmludGVydmFsID09PSAwID8gbnVsbCA6ICRzY29wZS5hU2Vuc29yLmludGVydmFsOyAvL2NsZWFyIG91dCB0aGUgJzAnIHZhbHVlIGhlcmUgICBcclxuICAgICAgICAgICAgICAgICAgICAvL2dldCB0aGlzIGRlcGxveWVkIHNlbnNvcidzIGV2ZW50IG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmFTZW5zb3IuZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kYXRlIGZvcm1hdHRpbmcuIHRoaXMga2VlcHMgaXQgaW4gdXRjIGZvciBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2dldCBjb2xsZWN0aW9uIG1lbWJlcidzIG5hbWUgXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVyID0gJHNjb3BlLmFTZW5zU3RhdHVzLm1lbWJlcl9pZCAhPT0gbnVsbCB8fCAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkICE9PSB1bmRlZmluZWQgPyBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFTZW5zU3RhdHVzLm1lbWJlcl9pZDsgfSlbMF0gOiB7fTtcclxuICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLmdldEluc3RTdGF0T1BNZWFzdXJlcyh7IGluc3RydW1lbnRTdGF0dXNJZDogJHNjb3BlLmFTZW5zU3RhdHVzLmluc3RydW1lbnRfc3RhdHVzX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgcmVzcG9uc2UubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zTWVhc3VyZXMgPSByZXNwb25zZVtyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9QID0gc2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNNZWFzdXJlcy5lbGV2YXRpb24gPSB3aGljaE9QLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zTWVhc3VyZXMuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gd2hpY2hPUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNNZWFzdXJlcy5vcF9uYW1lID0gd2hpY2hPUC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaChzZW5zTWVhc3VyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBPUHNGb3JUYXBlRG93biBhbmQgYWRkIHNlbGVjdGVkIFByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5PUHNGb3JUYXBlRG93bi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgcmVzcG9uc2UubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbeV0ub2JqZWN0aXZlX3BvaW50X2lkID09ICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5vYmplY3RpdmVfcG9pbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHJlc3BvbnNlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VuZCBpZiB0aGlzU2l0ZUhvdXNpbmdzICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3RpbmcgU2Vuc29yXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGVwbG95aW5nIG5ldyBTZW5zb3JcclxuICAgICAgICAgICAgICAgICRzY29wZS53aGljaEJ1dHRvbiA9ICdkZXBsb3knO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkludGVydmFsVHlwZS50eXBlID0gJ1NlY29uZHMnOyAvL2RlZmF1bHRcclxuICAgICAgICAgICAgICAgIC8vZGlzcGxheWluZyBkYXRlIC8gdGltZSBpdCB1c2VyJ3MgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgIHZhciBEZXB0aW1lUGFydHMgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9IERlcHRpbWVQYXJ0c1swXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSBcIlVUQ1wiOy8vIERlcHRpbWVQYXJ0c1sxXTsgLy93aWxsIGJlIGNvbnZlcnRlZCB0byB1dGMgb24gcG9zdC9wdXQgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgLy8gbWVtYmVyIGxvZ2dlZCBpbiBpcyBkZXBsb3lpbmcgaXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3llciA9ICRzY29wZS5Mb2dnZWRJbk1lbWJlcjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBuZXcgU2Vuc29yXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5teURhdGEgPSBbJHNjb3BlLmFTZW5zU3RhdHVzLnNlbnNvcl9lbGV2YXRpb24sICRzY29wZS5hU2Vuc1N0YXR1cy53c19lbGV2YXRpb24sICRzY29wZS5hU2Vuc1N0YXR1cy5nc19lbGV2YXRpb25dO1xyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBkZXBsb3llZCBpbmZvIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFthbmd1bGFyLmNvcHkoJHNjb3BlLmFTZW5zb3IpLCBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTZW5zU3RhdHVzKV07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnRhcGVEb3duVGFibGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRGVwRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAvL01BS0UgU1VSRSBBTEwgU0VMRUNURUQgT1AnUyBTVEFZIFNFTEVDVEVEXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5PUHNGb3JUYXBlRG93bi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGVbeV0ub2JqZWN0aXZlX3BvaW50X2lkID09ICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5vYmplY3RpdmVfcG9pbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfV0pOyAvL2VuZCBTRU5TT1JcclxuXHJcbiAgICAvLyBSZXRyaWV2ZSBhIFNlbnNvciBtb2RhbFxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzZW5zb3JSZXRyaWV2YWxNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRjb29raWVzJywgJyRodHRwJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICd0aGlzU2Vuc29yJywgJ1NlbnNvclNpdGUnLCAnc2l0ZU9QcycsICdhbGxFdmVudExpc3QnLCAnYWxsVkRhdHVtTGlzdCcsICdhbGxNZW1iZXJzJywgJ2FsbFN0YXR1c1R5cGVzJywgJ2FsbEluc3RDb2xsQ29uZCcsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ09QX01FQVNVUkUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR0aW1lb3V0LCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIHRoaXNTZW5zb3IsIFNlbnNvclNpdGUsIHNpdGVPUHMsIGFsbEV2ZW50TGlzdCwgYWxsVkRhdHVtTGlzdCwgYWxsTWVtYmVycywgYWxsU3RhdHVzVHlwZXMsIGFsbEluc3RDb2xsQ29uZCwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIE9QX01FQVNVUkUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IgPSB0aGlzU2Vuc29yO1xyXG4gICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gYWxsRXZlbnRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9pZCA9PSAkc2NvcGUuYVNlbnNvci5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNTdGF0dXMgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXSk7XHJcbiAgICAgICAgICAgIHZhciBpc0RhdGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgICAgICAgICAgaWYgKGlzRGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlYyA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAuc3Vic3RyKDE3LCAyKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmRlcFNlbnNTdGF0dXMudmRhdHVtX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmRlcFNlbnNTdGF0dXMudmRhdHVtX2lkID4gMClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zU3RhdHVzLlZEYXR1bSA9IGFsbFZEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LmRhdHVtX2lkID09ICRzY29wZS5kZXBTZW5zU3RhdHVzLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gc2l0ZU9QcztcclxuICAgICAgICAgICAgJHNjb3BlLk9Qc1ByZXNlbnQgPSBzaXRlT1BzLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1MaXN0ID0gYWxsVkRhdHVtTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZU9QTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBvZiB0YXBlZG93biBPUF9NRUFTVVJFTUVOVFNcclxuICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkcyBhbnkgZGVwbG95ZWQgdGFwZWRvd25zXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuRGVwbG95ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRlcFNlbnNTdGF0dXMubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gJ1JldHJpZXZlJztcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1c1R5cGVMaXN0ID0gYWxsU3RhdHVzVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXR1cyA9PSBcIlJldHJpZXZlZFwiIHx8IHMuc3RhdHVzID09IFwiTG9zdFwiOyB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbGxlY3RDb25kTGlzdCA9IGFsbEluc3RDb2xsQ29uZDtcclxuICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAvL2Zvcm1hdHRlciBmb3IgZGF0ZS90aW1lIGFuZCBjaG9zZW4gem9uZSBiYXNlZCBvbiB0aGVpciBsb2NhdGlvblxyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiB0YXBlIGRvd24gc2VjdGlvbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuT1BjaG9zZW4gPSBmdW5jdGlvbiAob3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9IG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5lbGV2YXRpb24gPSBvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1BNZWFzdXJlLm9wX25hbWUgPSBvcE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCgkc2NvcGUuT1BNZWFzdXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC52ZGF0dW1faWQgPSBvcENob3Nlbi52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSB1bmNoZWNrZWQgdGhlIG9wIHRvIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vYXNrIHRoZW0gYXJlIHRoZXkgc3VyZT9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBPUCBNZWFzdXJlbWVudCBmcm9tIHRoaXMgc2Vuc29yPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgncmVtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU9QTWVhcy5yZXN1bHQudGhlbihmdW5jdGlvbiAoeWVzT3JObykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVzT3JObyA9PSAncmVtb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gcmVtb3ZlIGl0IGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXBlRG93blRvUmVtb3ZlID0gJHNjb3BlLnRhcGVEb3duVGFibGUuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRJbmQgPSAkc2NvcGUudGFwZURvd25UYWJsZS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUucmVtb3ZlT1BMaXN0LnB1c2godGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUuc3BsaWNlKHRJbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5hUmV0cmlldmFsLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVJldHJpZXZhbC53c19lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFSZXRyaWV2YWwuc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlciBtaW5kLCBtYWtlIGl0IHNlbGVjdGVkIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25bb3BJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9nZXQgZGVwbG95IHN0YXR1cyB0YXBlZG93bnMgdG8gYWRkIHRvIHRvcCBmb3IgZGlzcGxheVxyXG4gICAgICAgICAgICBPUF9NRUFTVVJFLmdldEluc3RTdGF0T1BNZWFzdXJlcyh7IGluc3RydW1lbnRTdGF0dXNJZDogJHNjb3BlLmRlcFNlbnNTdGF0dXMuaW5zdHJ1bWVudF9zdGF0dXNfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgcmVzcG9uc2UubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc01lYXN1cmVzID0gcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT1AgPSBzaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbnNNZWFzdXJlcy5lbGV2YXRpb24gPSB3aGljaE9QLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLm9wX25hbWUgPSB3aGljaE9QLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUucHVzaChzZW5zTWVhc3VyZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uIFxyXG5cclxuICAgICAgICAgICAgLy9kZWZhdWx0IGZvcm1hdHRpbmcgZm9yIHJldHJpZXZhbFxyXG4gICAgICAgICAgICB2YXIgZHRwYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwgPSB7IHRpbWVfc3RhbXA6IGR0cGFydHNbMF0sIHRpbWVfem9uZTogZHRwYXJ0c1sxXSwgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW0pIHsgcmV0dXJuIGFtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVENcclxuICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVJldHJpZXZhbC50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5hUmV0cmlldmFsLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9IHV0Y0RhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wID0gJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGRlcFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVGhpcztcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5UaGlzID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5UaGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9yZXRyaWV2ZSB0aGUgc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5yZXRyaWV2ZVMgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCk7IC8vZm9yIHJldHJpZXZhbCBmb3IgcG9zdCBhbmQgZm9yIGNvbXBhcmlzb24gdG8gZGVwbG95ZWQgKGVuc3VyZSBpdCdzIGFmdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBTZW5UUyA9IGRlcFRpbWVTdGFtcGI0U2VuZCgpOy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldFNlblRTID0gYW5ndWxhci5jb3B5KCRzY29wZS5hUmV0cmlldmFsLnRpbWVfc3RhbXAucmVwbGFjZSgvXFwsL2csIFwiXCIpKTsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShyZXRTZW5UUykgPCBuZXcgRGF0ZShkZXBTZW5UUykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSByZXRyaWV2YWwgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBkZXBsb3llZCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IHRvIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9IGdldFRpbWVab25lU3RhbXAoKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnRpbWVfem9uZSA9IGdldFRpbWVab25lU3RhbXAoKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3JldHJpZXZhbERhdGUnKS50cmlnZ2VyKCdmb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5zb3IgPSB7fTsgdmFyIGNyZWF0ZVJldFNlbnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIGluc3RydW1lbnRzdGF0dXMgdG9vIG5lZWQ6IHN0YXR1c190eXBlX2lkIGFuZCBpbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmFTZW5zb3IuZGVwbG95bWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gJHNjb3BlLmFTZW5zb3IuaG91c2luZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLnNlbnNvckJyYW5kID0gJHNjb3BlLmFTZW5zb3Iuc2Vuc29yQnJhbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLnNlbnNvclR5cGUgPSAkc2NvcGUuYVNlbnNvci5zZW5zb3JUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5pbnN0Q29sbGVjdGlvbiA9ICRzY29wZS5jb2xsZWN0Q29uZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmlkID09PSAkc2NvcGUuYVNlbnNvci5pbnN0X2NvbGxlY3Rpb25faWQ7IH0pWzBdLmNvbmRpdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hUmV0cmlldmFsKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSB0YXBlIGRvd25zP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy9QT1NUIElULy8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUodGhpc1RhcGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnVpbGQgdGhlIGNyZWF0ZWRTZW5zb3IgdG8gc2VuZCBiYWNrIGFuZCBhZGQgdG8gdGhlIGxpc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJldFNlbnMgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV0U2Vucy5zdGF0dXMgPSBzdGF0UmVzcG9uc2Uuc3RhdHVzX3R5cGVfaWQgPT0gMiA/ICdSZXRyaWV2ZWQnIDogJ0xvc3QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbY3JlYXRlUmV0U2VucywgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIHJldHJpZXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJ3JldHJpZXZlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFt1cGRhdGVkU2Vuc29yLCBzdGF0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCByZXRyIGRhdGUgaXMgY29ycmVjdFxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgcmV0cmlldmVTXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XSk7Ly9lbmQgc2Vuc29yUmV0cmlldmFsTW9kYWxDdHJsXHJcblxyXG4gICAgLy8gdmlldy9lZGl0IHJldHJpZXZlZCBzZW5zb3IgKGRlcGxveWVkIGluY2x1ZGVkIGhlcmUpIG1vZGFsXHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2Z1bGxTZW5zb3JNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdhbGxEZXBEcm9wZG93bnMnLFxyXG4gICAgICAgICdhZ2VuY3lMaXN0JywgJ1NpdGVfRmlsZXMnLCAnYWxsU3RhdHVzVHlwZXMnLCAnYWxsSW5zdENvbGxDb25kJywgJ2FsbEV2ZW50cycsICdhbGxEZXBUeXBlcycsICd0aGlzU2Vuc29yJywgJ1NlbnNvclNpdGUnLCAnc2l0ZU9QcycsICdhbGxNZW1iZXJzJywgJ2FsbEV2ZW50RGF0YUZpbGVzJyxcclxuICAgICAgICAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdEQVRBX0ZJTEUnLCAnRklMRScsICdTT1VSQ0UnLCAnT1BfTUVBU1VSRScsICdTaXRlX1NjcmlwdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGZpbHRlciwgJHRpbWVvdXQsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgYWxsRGVwRHJvcGRvd25zLCBhZ2VuY3lMaXN0LCBTaXRlX0ZpbGVzLCBhbGxTdGF0dXNUeXBlcywgYWxsSW5zdENvbGxDb25kLCBhbGxFdmVudHMsXHJcbiAgICAgICAgICAgIGFsbERlcFR5cGVzLCB0aGlzU2Vuc29yLCBTZW5zb3JTaXRlLCBzaXRlT1BzLCBhbGxNZW1iZXJzLCBhbGxFdmVudERhdGFGaWxlcywgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIERBVEFfRklMRSwgRklMRSwgU09VUkNFLCBPUF9NRUFTVVJFLCBTaXRlX1NjcmlwdCkge1xyXG4gICAgICAgICAgICAvKmFsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEhvdXNpbmdUeXBlcywgYWxsU2Vuc0RlcHMqL1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlOyAvLyBwcm9jZXNzaW5nIHNjcmlwdC4uLlxyXG4gICAgICAgICAgICAkc2NvcGUuc3Rvcm1TZWN0aW9uID0gZmFsc2U7IC8vIHNlY3Rpb24gaG9sZGluZyBhbGwgYmFybyBwcmVzc3VyZSBzZW5zb3JzIGZvciB0aGlzIGV2ZW50LlxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yVHlwZUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JCcmFuZExpc3QgPSBhbGxEZXBEcm9wZG93bnNbMV07XHJcbiAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0ID0gYWxsRGVwRHJvcGRvd25zWzJdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRGVwRHJvcGRvd25zWzNdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBkZXBTZW5zIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMgPSB0aGlzU2Vuc29yICE9PSBcImVtcHR5XCIgPyAkc2NvcGUuYWxsU0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2YpIHsgcmV0dXJuIHNmLmluc3RydW1lbnRfaWQgPT0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkOyB9KSA6IFtdOy8vIGhvbGRlciBmb3IgaHdtIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zSW1hZ2VGaWxlcyA9ICRzY29wZS5zZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGhmKSB7IHJldHVybiBoZi5maWxldHlwZV9pZCA9PT0gMTsgfSk7IC8vaW1hZ2UgZmlsZXMgZm9yIGNhcm91c2VsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgZmlsZSB0byBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgbndpcyBmaWxlIHRvIHNlbnNvclxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGF0YU5XSVMgPSBmYWxzZTsgLy9pcyB0aGlzIGEgcmFpbiBnYWdlLCBtZXQgc3RhdGlvbiwgb3IgcmRnIHNlbnNvciAtLSBpZiBzbywgZGF0YSBmaWxlIG11c3QgYmUgY3JlYXRlZCBwb2ludGluZyB0byBud2lzICh3ZSBkb24ndCBzdG9yZSBhY3R1YWwgZmlsZSwganVzdCBtZXRhZGF0YSB3aXRoIGxpbmspXHJcbiAgICAgICAgICAgICRzY29wZS5jb2xsZWN0Q29uZExpc3QgPSBhbGxJbnN0Q29sbENvbmQ7XHJcbiAgICAgICAgICAgICRzY29wZS5PUHNQcmVzZW50ID0gc2l0ZU9Qcy5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24gPSBhbmd1bGFyLmNvcHkoc2l0ZU9Qcyk7XHJcbiAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93biA9IGFuZ3VsYXIuY29weShzaXRlT1BzKTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0ID0gYWxsRGVwVHlwZXM7IC8vZ2V0IGZyZXNoIHZlcnNpb24gc28gbm90IG1lc3NlZCB1cCB3aXRoIHRoZSBUZW1wZXJhdHVyZSB0d2ljZVxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTsgLy93aWxsIGJlIHBvcHVsYXRlZCBiYXNlZCBvbiB0aGUgc2Vuc29yIHR5cGUgY2hvc2VuXHJcbiAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1c1R5cGVMaXN0ID0gYWxsU3RhdHVzVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXR1cyA9PSAnUmV0cmlldmVkJyB8fCBzLnN0YXR1cyA9PSAnTG9zdCc7IH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnREYXRhRmlsZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5pczRIeiA9IHsgc2VsZWN0ZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdCBzZXR0aW5nIGZvciBpbnRlcnZhbFxyXG4gICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlID0geyB0eXBlOiAnU2Vjb25kcycgfTtcclxuICAgICAgICAgICAgLy9uZy1zaG93IGRldGVybWluZXMgd2hldGhlciB0aGV5IGFyZSBlZGl0aW5nIG9yIHZpZXdpbmcgZGV0YWlsc1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgREVQdmFsOiAnZGV0YWlsJywgUkVUdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAvL2dldCB0aW1lem9uZSBhbmQgdGltZXN0YW1wIGZvciB0aGVpciB0aW1lem9uZSBmb3Igc2hvd2luZy4uIHBvc3QvcHV0IHdpbGwgY29udmVydCBpdCB0byB1dGNcclxuICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kVGhpcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoZC50b1N0cmluZygpKS5zdWJzdHJpbmcoMzUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvZmZzZXQuc3Vic3RyKDAsIDMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFYXNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW91XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBhY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2Zvcm1hdHRpbmcgZGF0ZSBhbmQgdGltZSBwcm9wZXJseSBmb3IgY2hyb21lIGFuZCBmZlxyXG4gICAgICAgICAgICB2YXIgZ2V0RGF0ZVRpbWVQYXJ0cyA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBpc0RhdGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBkLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IGQuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoID0gZC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VjID0gZC5zdWJzdHIoMTcsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZURhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkYSwgaCwgbWksIHNlYyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhbHJlYWR5IGEgZGF0ZSwgcmV0dXJuIGl0IGJhY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGVEYXRlID0gZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNTZW5zb3JTaXRlID0gU2Vuc29yU2l0ZTsgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3IgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvcik7XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JEYXRhTldJUyA9ICgoJHNjb3BlLnNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSAyIHx8ICRzY29wZS5zZW5zb3Iuc2Vuc29yX3R5cGVfaWQgPT0gNSkgfHwgJHNjb3BlLnNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSA2KSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vZGVwbG95IHBhcnQgLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cy5maWx0ZXIoZnVuY3Rpb24gKGluc3QpIHsgcmV0dXJuIGluc3Quc3RhdHVzID09PSBcIkRlcGxveWVkXCI7IH0pWzBdKTtcclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXApOyAvL3RoaXMga2VlcHMgaXQgYXMgdXRjIGluIGRpc3BsYXlcclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09PSAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0Lm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5ERVByZW1vdmVPUExpc3QgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkZXIgb2YgdGFwZWRvd24gT1BfTUVBU1VSRU1FTlRTXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuREVQT1BjaG9zZW4gPSBmdW5jdGlvbiAoREVQb3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihERVBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKERFUG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUE1lYXN1cmUub3BfbmFtZSA9IERFUG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5lbGV2YXRpb24gPSBERVBvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gREVQb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBERVBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuREVQdGFwZURvd25UYWJsZS5wdXNoKCRzY29wZS5ERVBPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weS5wdXNoKCRzY29wZS5ERVBPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udmRhdHVtX2lkID0gREVQb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FzayB0aGVtIGFyZSB0aGV5IHN1cmU/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERFUHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgT1AgTWVhc3VyZW1lbnQgZnJvbSB0aGlzIGRlcGxveWVkIHNlbnNvcj88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiREVQb2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiREVQY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQb2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBjYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBERVByZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHJlbW92ZSBpdCBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQdGFwZURvd25Ub1JlbW92ZSA9ICRzY29wZS5kZXBUYXBlQ29weS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IERFUG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQdEluZCA9ICRzY29wZS5kZXBUYXBlQ29weS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKERFUHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERVB0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuREVQcmVtb3ZlT1BMaXN0LnB1c2goREVQdGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5LnNwbGljZShERVB0SW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vb25seSBjaGVjayBmb3IgaW5zdHJ1bWVudCBvcE1lYXN1cmVzIGlmIHRoZXJlIGFyZSBhbnkgb3BzIG9uIHRoaXMgc2l0ZSB0byBiZWdpbiB3aXRoLlxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLk9Qc1ByZXNlbnQpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0Lmluc3RydW1lbnRfc3RhdHVzX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKERFUHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBERVByZXNwb25zZS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQc2Vuc01lYXN1cmVzID0gREVQcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9QID0gc2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gREVQcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQc2Vuc01lYXN1cmVzLmVsZXZhdGlvbiA9IHdoaWNoT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUHNlbnNNZWFzdXJlcy5vcF9uYW1lID0gJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBERVByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2goREVQc2Vuc01lYXN1cmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIE9Qc0ZvclRhcGVEb3duIGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBERVByZXNwb25zZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHJlc3BvbnNlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gREVQcmVzcG9uc2UubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVQcmVzcG9uc2UubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vcmV0cmlldmUgcGFydCAvLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cy5maWx0ZXIoZnVuY3Rpb24gKGluc3QpIHsgcmV0dXJuIGluc3Quc3RhdHVzID09PSBcIlJldHJpZXZlZFwiOyB9KVswXSk7XHJcbiAgICAgICAgICAgIC8vaWYgdGhlcmUgaXNuJ3Qgb25lIC4uIHRoZW4gdGhpcyBpcyBhIGxvc3Qgc3RhdHVzXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoaW5zdCkgeyByZXR1cm4gaW5zdC5zdGF0dXMgPT09IFwiTG9zdFwiOyB9KVswXSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9zdFJlY2VudFN0YXR1cyA9IFwiTG9zdFwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vc3RSZWNlbnRTdGF0dXMgPSBcIlJldHJpZXZlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1faWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1OYW1lID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCk7IC8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG4gICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09PSAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUkVUcmVtb3ZlT1BMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5SRVR0YXBlRG93blRhYmxlID0gW107IC8vaG9sZGVyIG9mIHRhcGVkb3duIE9QX01FQVNVUkVNRU5UU1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLlJFVE9QY2hvc2VuID0gZnVuY3Rpb24gKFJFVG9wQ2hvc2VuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BJID0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YoUkVUb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChSRVRvcENob3Nlbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBwaWNrZWQgYW4gT1AgdG8gdXNlIGZvciB0YXBlZG93blxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BNZWFzdXJlLm9wX25hbWUgPSBSRVRvcENob3Nlbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUuZWxldmF0aW9uID0gUkVUb3BDaG9zZW4uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BNZWFzdXJlLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IFJFVG9wQ2hvc2VuLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUub2JqZWN0aXZlX3BvaW50X2lkID0gUkVUb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRUYXBlQ29weS5wdXNoKCRzY29wZS5SRVRPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udmRhdHVtX2lkID0gUkVUb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FzayB0aGVtIGFyZSB0aGV5IHN1cmU/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgT1AgTWVhc3VyZW1lbnQgZnJvbSB0aGlzIHJldHJpZXZlZCBzZW5zb3I/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlJFVG9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlJFVGNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVG9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVUcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byByZW1vdmUgaXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRhcGVEb3duVG9SZW1vdmUgPSAkc2NvcGUucmV0VGFwZUNvcHkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBSRVRvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRJbmQgPSAkc2NvcGUucmV0VGFwZUNvcHkubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihSRVR0YXBlRG93blRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUcmVtb3ZlT1BMaXN0LnB1c2goUkVUdGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFRhcGVDb3B5LnNwbGljZShSRVR0SW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV0VGFwZUNvcHkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcCBNZWFzdXJlcyBpZiB0aGVyZSBhcmUgb3BzIG9uIHRoaXMgc2l0ZVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLk9Qc1ByZXNlbnQpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5pbnN0cnVtZW50X3N0YXR1c19pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChSRVRyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgUkVUcmVzcG9uc2UubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHNlbnNNZWFzdXJlcyA9IFJFVHJlc3BvbnNlW3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPUCA9IHNpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IFJFVHJlc3BvbnNlW3JdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFVHNlbnNNZWFzdXJlcy5lbGV2YXRpb24gPSB3aGljaE9QLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFVHNlbnNNZWFzdXJlcy5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSB3aGljaE9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVRzZW5zTWVhc3VyZXMub3BfbmFtZSA9ICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bi5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gUkVUcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5wdXNoKFJFVHNlbnNNZWFzdXJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBPUHNGb3JUYXBlRG93biBhbmQgYWRkIHNlbGVjdGVkIFByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgUkVUcmVzcG9uc2UubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRVRyZXNwb25zZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFJFVHJlc3BvbnNlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJFVHJlc3BvbnNlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSBhbGxFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09PSAkc2NvcGUuc2Vuc29yLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG5cclxuICAgICAgICAgICAgLy9hY2NvcmRpb24gb3Blbi9jbG9zZSBnbHlwaHNcclxuICAgICAgICAgICAgJHNjb3BlLnMgPSB7IGRlcE9wZW46IGZhbHNlLCByZXRPcGVuOiB0cnVlLCBzRmlsZU9wZW46IGZhbHNlLCBOV0lTRmlsZU9wZW46IGZhbHNlIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkYXRldGltZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgIC8vIGlzIGludGVydmFsIGlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2dldCBkZXBsb3ltZW50IHR5cGVzIGZvciBzZW5zb3IgdHlwZSBjaG9zZW5cclxuICAgICAgICAgICAgJHNjb3BlLmdldERlcFR5cGVzID0gZnVuY3Rpb24gKHNlbnNUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc2QpIHsgcmV0dXJuIHNkLnNlbnNvcl90eXBlX2lkID09IHNlbnNUeXBlLnNlbnNvcl90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyAxIHNlbnNvclR5cGUgd2l0aCBpbm5lciBsaXN0IG9mICAuZGVwbG95bWVudHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcygkc2NvcGUuc2Vuc29yKTsgLy9jYWxsIGl0IGZpcnN0IHRpbWUgdGhyb3VnaFxyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3RoaXNTZW5zb3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9Eb25lIGR1cmluZyBlZGl0IFBVVCB0byBlbnN1cmUgdGltZXpvbmUgZG9lc24ndCBhZmZlY3QgZGIgdGltZSB2YWx1ZSAoaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVEMpXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAvL2RlcGxveWVkIG9yIHJldHJpZXZlZD8/ICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWU7IHZhciBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPT09ICdkZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9IHV0Y0RhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkZXBsb3kgZWRpdFxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBkZXBsb3llZCBpbmZvIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFthbmd1bGFyLmNvcHkoJHNjb3BlLnNlbnNvciksIGFuZ3VsYXIuY29weSgkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0KV07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLkRFUHRhcGVEb3duVGFibGUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIERlcGxveWVkIHNlbnNvciBpbmZvXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRGVwbG95ZWQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5TdGF0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWUgaWYgdGhleSB1c2VkIE1pbnV0ZXMgb3Igc2Vjb25kcyBmb3IgaW50ZXJ2YWwuIG5lZWQgdG8gc3RvcmUgaW4gc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmludGVydmFsICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoJ2RlcGxveWVkJyk7IC8vVVRDIG9yIGxvY2FsPyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLmRlcFN0dWZmQ29weVswXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQgPiAwID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5ob3VzaW5nVHlwZSA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkID4gMCA/ICRzY29wZS5ob3VzZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ob3VzaW5nX3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5pbnN0Q29sbGVjdGlvbiA9ICRzY29wZS5jb2xsZWN0Q29uZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmlkID09PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RfY29sbGVjdGlvbl9pZDsgfSlbMF0uY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLmRlcFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVhbCB3aXRoIHRhcGVkb3ducy4gcmVtb3ZlL2FkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcnQgPSAwOyBydCA8ICRzY29wZS5ERVByZW1vdmVPUExpc3QubGVuZ3RoOyBydCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERFUGlkVG9SZW1vdmUgPSAkc2NvcGUuREVQcmVtb3ZlT1BMaXN0W3J0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLmRlbGV0ZSh7IGlkOiBERVBpZFRvUmVtb3ZlIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSAkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoID4gMCA/IFtdIDogJHNjb3BlLkRFUHRhcGVEb3duVGFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdCA9IDA7IGF0IDwgJHNjb3BlLmRlcFRhcGVDb3B5Lmxlbmd0aDsgYXQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVB0aGlzVGFwZSA9ICRzY29wZS5kZXBUYXBlQ29weVthdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXhpc3RpbmcsIHB1dCBpbiBjYXNlIHRoZXkgY2hhbmdlZCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnVwZGF0ZSh7IGlkOiBERVB0aGlzVGFwZS5vcF9tZWFzdXJlbWVudHNfaWQgfSwgREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXcgb25lIGFkZGVkLCBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERFUHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUoREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2VuU3RhdC5zdGF0dXMgPSBcIkRlcGxveWVkXCI7IC8vY2FuJ3QgY2hhbmdlIHN0YXR1cyBvbiBhIGRlcGxveWVkIGVkaXQuLnN0aWxsIGRlcGxveWVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yID0gdXBkYXRlZFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxTdGF0dXNIb2xkZXIgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvciA9IHVwZGF0ZWRTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0ID0gdXBkYXRlZFNlblN0YXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXApOy8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IGFsbFN0YXR1c0hvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5zdGF0dXNfdHlwZV9pZDsgfSkuaW5kZXhPZigxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbaW5kXSA9ICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHkgPSBbXTsgJHNjb3BlLmRlcFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlID0geyB0eXBlOiAnU2Vjb25kcycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcidzIHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmVEZXBsb3llZCgpXHJcblxyXG4gICAgICAgICAgICAvL25ldmVyIG1pbmQsIGRvbid0IHdhbnQgdG8gZWRpdCBkZXBsb3llZCBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbERlcEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5ERVB2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9NQUtFIFNVUkUgQUxMIFNFTEVDVEVEIE9QJ1MgU1RBWSBTRUxFQ1RFRFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ERVB0YXBlRG93blRhYmxlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICRzY29wZS5ERVB0YXBlRG93blRhYmxlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ERVB0YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBkZXBsb3kgZWRpdFxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIFJldHJpZXZlIGVkaXRcclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgZGVwbG95ZWQgaW5mbyBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdFJldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LlJFVHZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHkgPSBbYW5ndWxhci5jb3B5KCRzY29wZS5zZW5zb3IpLCBhbmd1bGFyLmNvcHkoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRUYXBlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuUkVUdGFwZURvd25UYWJsZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3NhdmUgUmV0cmlldmVkIHNlbnNvciBpbmZvXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlUmV0cmlldmVkID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFJldFNlbnNvciA9IHt9OyB2YXIgdXBkYXRlZFJldFNlblN0YXQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgncmV0cmlldmVkJyk7IC8vVVRDIG9yIGxvY2FsP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9IG5ldyBEYXRlKCRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCk7Ly9kYXRldGltZSBpcyBhbm5veWluZ1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLnJldFN0dWZmQ29weVswXS5pbnN0cnVtZW50X2lkIH0sICRzY29wZS5yZXRTdHVmZkNvcHlbMF0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvci5kZXBsb3ltZW50VHlwZSA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uZGVwbG95bWVudF90eXBlX2lkID4gMCA/ICRzY29wZS5kZXBUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IuaG91c2luZ1R5cGUgPSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZCA+IDAgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT09ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uc2Vuc29yX2JyYW5kX2lkOyB9KVswXS5icmFuZF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUmV0U2Vuc29yLnNlbnNvclR5cGUgPSAkc2NvcGUuc2Vuc29yVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LnNlbnNvcl90eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IuaW5zdENvbGxlY3Rpb24gPSAkc2NvcGUuY29sbGVjdENvbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5pZCA9PT0gJHNjb3BlLnJldFN0dWZmQ29weVswXS5pbnN0X2NvbGxlY3Rpb25faWQ7IH0pWzBdLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgY29waWVkIHJlZmVyZW5jZXMgZm9yIHBhc3NpbmcgYmFjayB0byBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3IgPSB1cGRhdGVkUmV0U2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHNIb2xkZXIgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yID0gdXBkYXRlZFJldFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IHN0YXRzSG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLnJldFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tb3N0UmVjZW50U3RhdHVzID0gc3RhdFJlc3BvbnNlLnN0YXR1c190eXBlX2lkID09IDIgPyBcIlJldHJpZXZlZFwiIDogXCJMb3N0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9IHN0YXRSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnN0YXR1cyA9IHN0YXRSZXNwb25zZS5zdGF0dXNfdHlwZV9pZCA9PSAyID8gXCJSZXRyaWV2ZWRcIiA6IFwiTG9zdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCk7Ly90aGlzIGtlZXBzIGl0IGFzIHV0YyBpbiBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdID0gJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWFsIHdpdGggdGFwZWRvd25zLiByZW1vdmUvYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBydCA9IDA7IHJ0IDwgJHNjb3BlLlJFVHJlbW92ZU9QTGlzdC5sZW5ndGg7IHJ0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUaWRUb1JlbW92ZSA9ICRzY29wZS5SRVRyZW1vdmVPUExpc3RbcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZGVsZXRlKHsgaWQ6IFJFVGlkVG9SZW1vdmUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZSA9ICRzY29wZS5yZXRUYXBlQ29weS5sZW5ndGggPiAwID8gW10gOiAkc2NvcGUuUkVUdGFwZURvd25UYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGF0ID0gMDsgYXQgPCAkc2NvcGUucmV0VGFwZUNvcHkubGVuZ3RoOyBhdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRoaXNUYXBlID0gJHNjb3BlLnJldFRhcGVDb3B5W2F0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUkVUdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZywgcHV0IGluIGNhc2UgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUudXBkYXRlKHsgaWQ6IFJFVHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCB9LCBSRVR0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IFJFVHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gUkVUdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25ldyBvbmUgYWRkZWQsIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVUdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZShSRVR0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IFJFVHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gUkVUdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5ID0gW107ICRzY29wZS5yZXRUYXBlQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuUkVUdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciB1cGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZVJldHJpZXZlZCgpICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvL25ldmVyIG1pbmQsIGRvbid0IHdhbnQgdG8gZWRpdCByZXRyaWV2ZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxSZXRFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuUkVUdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmV0VGFwZUNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vTUFLRSBTVVJFIEFMTCBTRUxFQ1RFRCBPUCdTIFNUQVkgU0VMRUNURURcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8ICRzY29wZS5SRVR0YXBlRG93blRhYmxlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuUkVUdGFwZURvd25UYWJsZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gUmV0cmlldmUgZWRpdFxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgYVNlbnNvciBhbmQgc2Vuc29yIHN0YXR1c2VzXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3IgdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU2Vuc29yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZW5zb3JUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgd2lsbCBkZWxldGUgdGhlIGluc3RydW1lbnQgYW5kIGFsbCBpdCdzIHN0YXR1c2VzXHJcbiAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogc2Vuc29yVG9SZW1vdmUuaW5zdHJ1bWVudF9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzID0gW107IC8vY2xlYXIgb3V0IHNlbnNvckZpbGVzIGZvciB0aGlzIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgaW1hZ2UgZmlsZXMgZm9yIHRoaXMgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHJlbW92ZSBhbGwgdGhlc2UgZmlsZXMgZnJvbSBTaXRlRmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSAkc2NvcGUuYWxsU0ZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hbGxTRmlsZXNbbF0uaW5zdHJ1bWVudF9pZCA9PSBzZW5zb3JUb1JlbW92ZS5pbnN0cnVtZW50X2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgPT0gdW5kZWZpbmVkICYmICRzY29wZS5hRmlsZS5GaWxlMSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lOyAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMiA/IFwiRGF0YUZpbGUgRmlsZVwiIDogXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIG9wXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgb3AgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5zZW5zb3JGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLnNlbnNJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0UucXVlcnkoeyBpZDogZmlsZS5zb3VyY2VfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5zb3VyY2VfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIGFnZW5jeSBuYW1lIHRvIHBob3RvIGNhcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5kYXRhX2ZpbGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmaWxlLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZi5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkICYmIGRmLmFwcHJvdmFsX2lkICE9PSBudWxsICYmIGRmLmFwcHJvdmFsX2lkID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZ2V0REZBcHByb3ZhbCh7IGlkOiBkZi5kYXRhX2ZpbGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGUgYXBwcm92YWw6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZSBhcHByb3ZhbDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBkdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gZHRbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0IFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBuZXcgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09IHVuZGVmaW5lZCB8fCBlID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaXNzaW5nRGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBkYXRhIHN0YXJ0IGRhdGUgb3IgZ29vZCBkYXRhIGVuZCBkYXRlIGlzIG1pc3NpbmcuIEVpdGhlciBjaG9vc2UgYSBkYXRlLCBvciBjbGljayBQcmV2aWV3IERhdGEgdG8gZ2V0IGEgY2hhcnQgb2YgdGhlIGRhdGEsIHdoZXJlIHlvdSBjYW4gY2hvb3NlIHRoZSBkYXRlcy48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmdEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2Ugb3IgZGF0YWZpbGUgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZCBvciBkYXRhX2ZpbGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSB0aW1lem9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuaW5zdHJ1bWVudF9pZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnNhdmUoJHNjb3BlLmRhdGFmaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWZpbGVJRCA9IGRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIGRpZCBub3QgZ2V0IGNyZWF0ZWQsIGRlbGV0ZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAkc2NvcGUuYVNvdXJjZSA9IHt9OyAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBkYXRhZmlsZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQncyBub3QgYSBkYXRhIGZpbGUsIHNvIGRvIHRoZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdGtpbmQgPSAkc2NvcGUuYUZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9oYXMgREFUQV9GSUxFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLmRhdGFmaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFzIFNPVVJDRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0IGFnYWluIChpZiBubyBjaGFuZ2UsIHdpbGwgcmV0dXJuIGV4aXN0aW5nIG9uZS4gaWYgZWRpdGVkLCB3aWxsIGNyZWF0ZSBhIG5ldyBvbmUgLS1pbnN0ZWFkIG9mIGVkaXRpbmcgYWxsIGZpbGVzIHRoYXQgdXNlIHRoaXMgc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9ybVNlY3Rpb24gPSBmYWxzZTsgLy8gaW4gY2FzZSB0aGV5IGNsaWNrZWQgcnVuIHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXM0SHogPSB7IHNlbGVjdGVkOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgZGF0YWZpbGUgKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlREYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNERiA9ICRzY29wZS5kYXRhZmlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIERhdGEgRmlsZTwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSByZWFkeSB0byBhcHByb3ZlIHRoaXMgRGF0YSBGaWxlPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuYXBwcm92ZURGKHsgaWQ6IGRmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0YSBGaWxlIEFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBhcHByb3ZhbFJlc3BvbnNlLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGh3bSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZURGID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzREYgPSAkc2NvcGUuZGF0YWZpbGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5hcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5SZW1vdmUgQXBwcm92YWw8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FuIHRvIHVuYXBwcm92ZSB0aGlzIERhdGEgRmlsZT88L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSd1bkFwcHJvdmVJdCgpJz5VbmFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0RGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudW5BcHByb3ZlREYoeyBpZDogZGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5hcHByb3ZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdGEgRmlsZSBVbmFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgcHJlc3N1cmUgdHJhbnNkdWNlciBzZW5zb3IncyBkYXRhIGZpbGUsIHJ1biBhaXIgc2NyaXB0IHVzaW5nIHRoZSBkYXRhIGZpbGUgaWRcclxuICAgICAgICAgICAgJHNjb3BlLnJ1bkFpclNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGUgYWlyIHNlbnNvciBoYXMgYSB0YXBlZG93biB3aXRoIHRoZSBzZW5zb3JfZWxldmF0aW9uIG9uIGJvdGggZGVwIGFuZCByZXRyaWV2ZWRcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnNlbnNvcl9lbGV2YXRpb24gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5zZW5zb3JfZWxldmF0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnNjcmlwdF9wYXJlbnQgPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgbW9kYWwgYXNraW5nIGlmIHRoZXkgd2FudCB0byBkZWxldGUgYWxsIHRoZSBwcm9jZXNzZWQgZmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcnVuTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIEFpciBTY3JpcHQgaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQgZm9yIHRoaXMgc2Vuc29yIGRhdGEgZmlsZS4gV291bGQgeW91IGxpa2UgdG8gZGVsZXRlIHRoZSBvdXRwdXQgZmlsZXMgYW5kIHJlcnVuIHRoZSBzY3JpcHQ/PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJubygpXCIgbmctY2xpY2s9XCJubygpXCI+Q2FuY2VsPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwieWVzKClcIiBuZy1jbGljaz1cInllcygpXCI+UmVydW4gU2NyaXB0PC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoZUZpbGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ubyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhlRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVydW5Nb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoYWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSBhbGwgdGhlIG91dHB1dCBmaWxlcyB0aGF0IGhhdmUgdGhpcyBmaWxlX2lkIGFzIHRoZWlyICdzY3JpcHRfcGFyZW50JyB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZEZpbGVDb3VudCA9ICRzY29wZS5zZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuc2NyaXB0X3BhcmVudCA9PSBhZmlsZS5maWxlX2lkLnRvU3RyaW5nKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoQ250ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzZWRGaWxlQ291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGRvbmUsIHJ1biBpdCBhZ2FpbiBub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQWlyU2NyaXB0KHsgYWlyREZJRDogYWZpbGUuZGF0YV9maWxlX2lkLCB1c2VybmFtZTogJGNvb2tpZXMuZ2V0KCdTVE5Vc2VybmFtZScpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9TY3JpcHQuc2V0SXNTY3JpcHRSdW5uaW5nKFwidHJ1ZVwiKTsgLy90ZWxsIHNpdGUuY3RybCB0byBzaG93IHRvYXN0ciBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5zY3JpcHRfcGFyZW50ID09IGFmaWxlLmZpbGVfaWQudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaENudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDbnQgPT0gcHJvY2Vzc2VkRmlsZUNvdW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGRvbmUsIHJ1biBpdCBhZ2FpbiBub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQWlyU2NyaXB0KHsgYWlyREZJRDogYWZpbGUuZGF0YV9maWxlX2lkLCB1c2VybmFtZTogJGNvb2tpZXMuZ2V0KCdTVE5Vc2VybmFtZScpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9TY3JpcHQuc2V0SXNTY3JpcHRSdW5uaW5nKFwidHJ1ZVwiKTsgLy90ZWxsIHNpdGUuY3RybCB0byBzaG93IHRvYXN0ciBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBvdXRwdXQgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgZm9yZWFjaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHJlcnVuTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY3JpcHRfcGFyZW50IGlzIG5vdCB0cnVlLCBuZXZlciBiZWVuIHJ1biBiZWZvcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1bkFpclNjcmlwdCh7IGFpckRGSUQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQsIHVzZXJuYW1lOiAkY29va2llcy5nZXQoJ1NUTlVzZXJuYW1lJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdTZWFFbGV2ID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBQcmVzc3VyZSBUcmFuc2R1Y2VyIFNlbnNvciBkb2VzIG5vdCBoYXZlIGEgc2Vuc29yIGVsZXZhdGlvbi48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgdXBkYXRlIHRoZSBzZW5zb3IsIHByb3ZpZGluZyBhIHNlbnNvciBlbGV2YXRpb24gZm9yIGJvdGggdGhlIGRlcGxveWVkIHNlY3Rpb24gYW5kIHJldHJpZXZlZCBzZWN0aW9uLiBUaGlzIGlzIHJlcXVpcmVkIGZvciB0aGUgc2NyaXB0LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxjRGlzdGFuY2UobGF0MSwgbG9uMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5nZW9kYXRhc291cmNlLmNvbS9kZXZlbG9wZXJzL2phdmFzY3JpcHRcclxuICAgICAgICAgICAgICAgIHZhciByYWRsYXQxID0gTWF0aC5QSSAqIGxhdDEgLyAxODA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkbGF0MiA9IE1hdGguUEkgKiAkc2NvcGUudGhpc1NlbnNvclNpdGUubGF0aXR1ZGVfZGQgLyAxODA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhldGEgPSBsb24xIC0gJHNjb3BlLnRoaXNTZW5zb3JTaXRlLmxvbmdpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgIHZhciByYWR0aGV0YSA9IE1hdGguUEkgKiB0aGV0YSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gTWF0aC5zaW4ocmFkbGF0MSkgKiBNYXRoLnNpbihyYWRsYXQyKSArIE1hdGguY29zKHJhZGxhdDEpICogTWF0aC5jb3MocmFkbGF0MikgKiBNYXRoLmNvcyhyYWR0aGV0YSk7XHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5hY29zKGRpc3QpO1xyXG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiA2MCAqIDEuMTUxNTsgLy8gbWlsZXNcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXN0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1N0b3JtU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9ybVNlY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEZpbGVOYW1lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxFdmVudERhdGFGaWxlcywgZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGYuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBkZi5kaXN0YW5jZSA9IGNhbGNEaXN0YW5jZShkZi5sYXRpdHVkZV9kZCwgZGYubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGYuc2NyaXB0X3BhcmVudCA9PT0gdW5kZWZpbmVkIHx8IGRmLnNjcmlwdF9wYXJlbnQgPT0gXCJ0cnVlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudERhdGFGaWxlcy5wdXNoKGRmKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gbm93IHNvcnQgYnkgZGlzdGFuY2UgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhLmRpc3RhbmNlKSAtIHBhcnNlRmxvYXQoYi5kaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBQQUdJTkFUSU9OIHN0dWZmIFxyXG4gICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICBtYXhQYWdpbmF0aW9uU2l6ZTogMjAwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNQZXJQYWdlID0gMTA7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgcG9pbnRzIGZvciBzaG93biBwZW9wbGVcclxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgcGFnZSBpbiB0aGUgcGFnaW5hdGlvbiBiYXJcclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVBhZ2VJbmRleGVzID0gZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYWdlIGNoYW5nZWQgdG86ICcgKyAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlyc3RJbmRleCA9ICgkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLml0ZW1zUGVyUGFnZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sYXN0SW5kZXggPSAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5pdGVtc1BlclBhZ2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVQYWdlSW5kZXhlcygpO1xyXG5cclxuICAgICAgICAgICAgLy9lbmQgUEFHSU5BVElPTiBzdHVmZiBcclxuXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVDaG9zZW5BaXJSYWRpbyA9IGZ1bmN0aW9uIChkZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuZXZlbnREYXRhRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGZpbGUuZGF0YV9maWxlX2lkICE9ICRzY29wZS5ldmVudERhdGFGaWxlc1tpXS5kYXRhX2ZpbGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudERhdGFGaWxlc1tpXS5zZWxlY3RlZCA9ICdmYWxzZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcnVuVGhlU3Rvcm1TY3JpcHQgPSBmdW5jdGlvbiAoYWlyREYpIHtcclxuICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZ2V0RnVsbEluc3RydW1lbnQoeyBpZDogYWlyREYuaW5zdHJ1bWVudF9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhaXJTZW5zb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudFN0YXRzID0gYWlyU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXRlckRGID0gJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9vbFZhbCA9ICRzY29wZS5pczRIei5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBydW4gdGhlIHNjcmlwdCBpZiBhaXJERiBhbmQgd2F0ZXJERiBhcmUgcHJlc2VudCAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1blN0b3JtU2NyaXB0KHsgc2VhREZJRDogd2F0ZXJERiwgYWlyREZJRDogYWlyREYuZGF0YV9maWxlX2lkLCBoZXJ0ejogYm9vbFZhbCwgdXNlcm5hbWU6ICRjb29raWVzLmdldCgnU1ROVXNlcm5hbWUnKSB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIEFpciBTZW5zb3I6IFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTsvLyBlbmQgZ2V0RnVsbEluc3RydW1lbnRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYSB3YXRlciBzZW5zb3IncyBkYXRhIGZpbGUsIHJ1biBzdG9ybSBzY3JpcHQgdXNpbmcgYWlyIGFuZCB3YXRlciBkYXRhIGZpbGUgaWRzICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnJ1blN0b3JtU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFpckRGID0gJHNjb3BlLmV2ZW50RGF0YUZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5zZWxlY3RlZCA9PSBcInRydWVcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoYWlyREYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGV5IGFkZGVkIGEgdGFwZWRvd24gd2l0aCB0aGUgcmVxdWlyZWQgZmllbGRzIGZvciB0aGUgc2NyaXB0IHRvIHJ1blxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkID0+IHNlYSBkZXAgYW5kIHJldHIgc3RhdHVzOiBzZW5zb3JfZWxldmF0aW9uICYmIHNlYSBkZXAgYW5kIHJldHIgc3RhdHVzOiBnc19lbGV2YXRpb24gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXRlckZpbGUgPSAkc2NvcGUuc2Vuc29yRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmRhdGFfZmlsZV9pZCA9PSAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2F0QWlySURTID0gd2F0ZXJGaWxlLmZpbGVfaWQgKyBcIl9cIiArIGFpckRGLmZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFscmVhZHlSYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2hhcyBzY3JpcHQgYmVlbiByYW4gYWxyZWFkeSB3aXRoIHRoaXMgd2F0ZXIvYWlyIGZpbGUgY29tYm8/XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLmZvckVhY2goZnVuY3Rpb24gKHNlbnNGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zRmlsZS5zY3JpcHRfcGFyZW50ID09IHdhdEFpcklEUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHlSYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxyZWFkeSByYW4uIHNob3cgbW9kYWwgc3RhdGluZyB0aGUgc2NyaXB0IGhhcyBhbHJlYWR5IGJlZW4gcnVuIHdpdGggdGhpcyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcnVuU3Rvcm1Nb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgU3Rvcm0gU2NyaXB0IGhhcyBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkIGZvciB0aGlzIHNlbnNvciBkYXRhIGZpbGUgd2l0aCB0aGlzIGFpciBkYXRhIGZpbGUuIFdvdWxkIHlvdSBsaWtlIHRvIGRlbGV0ZSB0aGUgb3V0cHV0IGZpbGVzIGFuZCByZXJ1biB0aGUgc2NyaXB0PzwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWVudGVyPVwibm8oKVwiIG5nLWNsaWNrPVwibm8oKVwiPkNhbmNlbDwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cInllcygpXCIgbmctY2xpY2s9XCJ5ZXMoKVwiPlJlcnVuIFNjcmlwdDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGVBaXJGaWxlJywgJ3RoZVdhdGVyRmlsZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0aGVBaXJGaWxlLCB0aGVXYXRlckZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS55ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlc0FycmF5ID0gW3RoZUFpckZpbGUsIHRoZVdhdGVyRmlsZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGZpbGVzQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlQWlyRmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWlyREY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVXYXRlckZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdhdGVyRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXJ1blN0b3JtTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGJvdGhGaWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIGFsbCB0aGUgb3V0cHV0IGZpbGVzIHRoYXQgaGF2ZSB0aGlzIGZpbGVfaWQgYXMgdGhlaXIgJ3NjcmlwdF9wYXJlbnQnIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkRmlsZUNvdW50ID0gJHNjb3BlLnNlbnNvckZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zY3JpcHRfcGFyZW50ID09IGJvdGhGaWxlc1sxXS5maWxlX2lkLnRvU3RyaW5nKCkgKyBcIl9cIiArIGJvdGhGaWxlc1swXS5maWxlX2lkLnRvU3RyaW5nKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoQ250ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYuc2NyaXB0X3BhcmVudCA9PSBib3RoRmlsZXNbMV0uZmlsZV9pZC50b1N0cmluZygpICsgXCJfXCIgKyBib3RoRmlsZXNbMF0uZmlsZV9pZC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVUaGlzID0gZi5maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaENudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDbnQgPT0gcHJvY2Vzc2VkRmlsZUNvdW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1blRoZVN0b3JtU2NyaXB0KGFpckRGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgb3V0cHV0IGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIGZvcmVhY2ggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCByZXJ1bk1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5UaGVTdG9ybVNjcmlwdChhaXJERik7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vIGVuZCBpZiBzZWEgZGVwL3JldHIgaGFzIHNlbnNvcl9lbGV2YXRpb24gJiYgZ3NfZWxldmF0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgfSAvLyBlbmQgaWYgYWlyREYgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZ0luZm8gPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgY2hvb3NlIGFuIGFpciBkYXRhIGZpbGUgdG8gdXNlIGZvciB0aGUgc3Rvcm0gc2NyaXB0LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBlbHNlIChhaXJERiBpcyB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIH07IC8vIGVuZCBydW5TdG9ybVNjcmlwdCgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMiA9IGZhbHNlOyAvL3NldCB0byB0cnVlIGFuZCBzaG93IGhpZ2hjaGFydCB3aXRoIGNob3BwZXIgcmVzdWx0c1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczIgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuemlwID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlLCBhcnJbaV1dO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vJHNjb3BlLnJlbmRlcmVyID0gbmV3IEhpZ2hjaGFydHMuUmVuZGVyZXIoXHJcbiAgICAgICAgICAgICRzY29wZS5ydW5DaG9wcGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczIgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hhcnRPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJlbmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBzZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1bkNob3BwZXJTY3JpcHQoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBPYmplY3Qua2V5cyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLkVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWxlZENob3BwZXIgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgd2FzIGFuIGVycm9yIHJ1bm5pbmcgdGhlIGNob3BwZXIuPC9wPjxwPkVycm9yOiB7e2Vycm9yTWVzc2FnZX19PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdtZXNzYWdlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IHJlc3BvbnNlLnRpbWUuemlwKHJlc3BvbnNlLnByZXNzdXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iaiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UeXBlOiAneCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbktleTogJ3NoaWZ0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vc3RUaHJlc2hvbGQ6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludENsaWNrID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+V291bGQgeW91IGxpa2UgdG8gc2V0IHRoaXMgKHt7dGhpc0RhdGV9fSkgYXM6PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj48c3BhbiBjbGFzcz1cInJhZGlvLWlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwid2hpY2hEYXRlXCIgbmctbW9kZWw9XCJ3aGljaERhdGVcIiB2YWx1ZT1cInN0YXJ0XCIgLz5Hb29kIFN0YXJ0IERhdGU8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyYWRpby1pbmxpbmVcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIndoaWNoRGF0ZVwiIG5nLW1vZGVsPVwid2hpY2hEYXRlXCIgdmFsdWU9XCJlbmRcIiAvPkdvb2QgRW5kIERhdGU8L3NwYW4+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cImNhbmNlbCgpXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdjaG9zZW5EYXRlJywgJ3hFdmVudCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBjaG9zZW5EYXRlLCB4RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUud2hpY2hEYXRlID09IFwiXCIpIGFsZXJ0KFwiTm8gRGF0ZSBjaG9zZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gWyRzY29wZS53aGljaERhdGUsIGNob3NlbkRhdGUsIHhFdmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShwYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS53aGljaERhdGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRGF0ZSA9IG5ldyBEYXRlKGNob3NlbkRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuRGF0ZTogZXZlbnQucG9pbnQuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeEV2ZW50OiBldmVudC5jaGFydFhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludENsaWNrLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChwYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0ID0gJHNjb3BlLmNoYXJ0T2JqLnhBeGlzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGEgcGxvdGxpbmUgd2l0aCB0aGlzIGlkIGFuZCByZW1vdmUgaXQgaWYgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnJlbW92ZVBsb3RMaW5lKHBhcnRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgcGxvdCBsaW5lIHRvIHZpc3VhbGx5IHNlZSB3aGVyZSB0aGV5IGFkZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5hZGRQbG90TGluZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoYXJ0LnRvVmFsdWUocGFydHNbMl0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwYXJ0c1swXSA9PSBcInN0YXJ0XCIgPyAnIzAwZmYwMCcgOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcnRzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTk5OTksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsgdGV4dDogcGFydHNbMF0gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHBhcnRzWzFdKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBnZXREYXRlVGltZVBhcnRzKHRoZURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09IFwic3RhcnRcIikgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VPdmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXJpZXMuaGFsbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzLmhhbG8uYXR0cih7ICdjbGFzcyc6ICdoaWdoY2hhcnRzLXRyYWNrZXInIH0pLnRvRnJvbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSAvLyB0dXJuIGRvdHMgb2ZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQcmV2aWV3IG9mIFByZXNzdXJlIERhdGEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpY2sgYW5kIGRyYWcgdG8gem9vbSBpbi4gSG9sZCBkb3duIHNoaWZ0IGtleSB0byBwYW4uIFRvIHNlbGVjdCBHb29kIFN0YXJ0L0VuZCBEYXRlLCBjbGljayBwb2ludCBvbiBsaW5lLidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXNbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogJyVZLSVtLSVkPGJyLz4lSDolTTolUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICclWS0lbS0lZDxici8+JUg6JU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJyVZLSVtLSVkPGJyLz4lSDolTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICclWTxici8+JW0tJWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VlazogJyVZPGJyLz4lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJyVZLSVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICclWSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeUF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5c1swXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ3t2YWx1ZX0gcHNpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICRzY29wZS5jaGFydERhdGEsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgZmlsZSB3YXNuJ3QgdGhlcmUuLlxyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IG5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIC8vIE5XSVMgREFUQV9GSUxFXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2Vuc29yRGF0YU5XSVMpIHtcclxuICAgICAgICAgICAgICAgIC8vRklMRS5WQUxJREFURUQgYmVpbmcgdXNlZCB0byBzdG9yZSAxIGlmIHRoaXMgaXMgYW4gbndpcyBmaWxlIG1ldGFkYXRhIGxpbmtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFpID0gJHNjb3BlLnNlbnNvckZpbGVzLmxlbmd0aCAtIDE7IGFpID49IDA7IGFpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbnNvckZpbGVzW2FpXS5pc19ud2lzID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5wdXNoKCRzY29wZS5zZW5zb3JGaWxlc1thaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKGFpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgaWYgKGYgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgTldJUyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5pbmRleE9mKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IGFuZ3VsYXIuY29weShmKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLk5XSVNGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuRmlsZVR5cGUgPSBcIkRhdGFcIjtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZi5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubndpc1Byb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuTldJU0RGLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5jb2xsZWN0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIGV4aXN0aW5nIGZpbGVcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIG53aXMgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2h0dHBzOi8vd2F0ZXJkYXRhLnVzZ3MuZ292L253aXMvdXY/c2l0ZV9ubz0nICsgJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnVzZ3Nfc2lkLCAgLy8gaWYgW2ZpbGwgaW4gaWYgbm90IGhlcmUuLiBUT0RPLi4uJmJlZ2luX2RhdGU9MjAxNjA0MTMmZW5kX2RhdGU9MjAxNjA0MTkgKGV2ZW50IHN0YXJ0L2VuZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJzxsaW5rPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVUeXBlOiAnRGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5zZW5zb3Iuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nvcl9pZDogJGNvb2tpZXMuZ2V0KFwibUlEXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RfZGF0ZTogZHRbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfem9uZTogZHRbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2Rfc3RhcnQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RfZW5kOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubndpc1Byb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHBvc3RBcHByb3ZhbEZvck5XSVNmaWxlID0gZnVuY3Rpb24gKERGaWQpIHtcclxuICAgICAgICAgICAgICAgIERBVEFfRklMRS5hcHByb3ZlTldJU0RGKHsgaWQ6IERGaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5hcHByb3ZhbF9pZCA9IGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlTldJU0ZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZGF0YWZpbGUgZmlyc3QgdG8gZ2V0IG9yIGRhdGFfZmlsZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5OV0lTREYudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhZmlsZUlEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuc2F2ZSgkc2NvcGUuTldJU0RGKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChOZGZSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZUlEID0gTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5kYXRhX2ZpbGVfaWQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RBcHByb3ZhbEZvck5XSVNmaWxlKE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZCk7IC8vcHJvY2VzcyBhcHByb3ZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIEZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5OV0lTRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoRnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgRGF0YSBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5zZW5zb3JGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnB1c2goRnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChGcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgZGlkIG5vdCBnZXQgY3JlYXRlZCwgZGVsZXRlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTsgJHNjb3BlLk5XSVNERiA9IHt9OyAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGRhdGFmaWxlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly8gZW5kIGNyZWF0ZSBOV0lTIGZpbGVcclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBOV0lTIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVOV0lTRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRpbWV6b25lIGFuZCBtYWtlIHN1cmUgZGF0ZSBzdGF5cyB1dGNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuTldJU0RGLmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuTldJU0RGKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLk5XSVNGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLk5XSVNGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBEYXRhIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG53aXMgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU5XSVNGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk5XSVNGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxOV0lTRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XSk7Ly9lbmQgZnVsbFNlbnNvck1vZGFsQ3RybFxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2Vuc29yQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICckdGltZW91dCcsICd0aGlzU2l0ZScsICdJbnN0cnVtZW50X1NlcnZpY2UnLCAndGhpc1NpdGVTZW5zb3JzJyxcclxuICAgICAgICAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbEFnZW5jaWVzJywgJ2FsbFZlcnREYXR1bXMnLCAnYWxsRGVwbG95VHlwZXMnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsSG91c2luZ1R5cGVzJywgJ2FsbEV2ZW50cycsICdhbGxGaWxlVHlwZXMnLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdTSVRFJywgJ01FTUJFUicsICdERVBMT1lNRU5UX1RZUEUnLCAnU1RBVFVTX1RZUEUnLFxyXG4gICAgICAgICdJTlNUX0NPTExfQ09ORElUSU9OJywgJ0RBVEFfRklMRScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHEsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgJHRpbWVvdXQsIHRoaXNTaXRlLCBJbnN0cnVtZW50X1NlcnZpY2UsIHRoaXNTaXRlU2Vuc29ycywgYWxsU2Vuc29yQnJhbmRzLCBhbGxBZ2VuY2llcywgYWxsVmVydERhdHVtcywgYWxsRGVwbG95VHlwZXMsXHJcbiAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzLCBhbGxIb3VzaW5nVHlwZXMsIGFsbEV2ZW50cywgYWxsRmlsZVR5cGVzLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgU0lURSwgTUVNQkVSLCBERVBMT1lNRU5UX1RZUEUsIFNUQVRVU19UWVBFLCBJTlNUX0NPTExfQ09ORElUSU9OLCBEQVRBX0ZJTEUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlU2Vuc29ycy5sZW5ndGggfTsgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3QgPSBhbmd1bGFyLmNvcHkoYWxsRGVwbG95VHlwZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBEZXBUeXBlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy9maXggZGVwbG95bWVudCB0eXBlcyBzbyB0aGF0IFwiVGVtcGVyYXR1cmVcIiBiZWNvbWVzIDIgOiBUZW1wZXJhdHVyZSAoTWV0IHNlbnNvciktU2Vuc29yVHlwZToyIGFuZCBUZW1wZXJhdHVyZSAocHJlc3N1cmUgdHJhbnNkdWNlciktU2Vuc29yVHlwZToxIC0tIGp1c3QgZm9yIHByb3Bvc2VkXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZF0ubWV0aG9kID09PSBcIlRlbXBlcmF0dXJlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcERlcFR5cGVJRCA9ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5tZXRob2QgPSBcIlRlbXBlcmF0dXJlIChNZXQgc2Vuc29yKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdC5wdXNoKHsgZGVwbG95bWVudF90eXBlX2lkOiB0ZW1wRGVwVHlwZUlELCBtZXRob2Q6IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNEZXBUeXBlcyA9IGFsbFNlbnNvclR5cGVzOy8vIGFsbFNlbnNEZXBzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlOyAvL3RoZXkgd2FudCB0byBhZGQgYSBwcm9wb3NlZCBzZW5zb3IsIG9wZW4gb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIG1ha2Ugc3VyZSB0aGUgaW5zdHJ1bWVudF9zdGF0dXNlcyBhcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgKFswXVJldHJpZXZlZCwgWzFdRGVwbG95ZWQsIFsyXVByb3Bvc2VkICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0aGlzU2l0ZVNlbnNvcnMubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29ycmVjdE9yZGVyU1MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc29yU3RhdHVzZXMgPSB0aGlzU2l0ZVNlbnNvcnNbc10uaW5zdHJ1bWVudF9zdGF0dXM7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc29yU3RhdHVzZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcmRlciBpZiB0aGVyZSdzIG1vcmUgdGhhbiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcGxveWVkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIkRlcGxveWVkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0TG9zdFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJSZXRyaWV2ZWRcIiB8fCBwcy5zdGF0dXMgPT0gXCJMb3N0XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgdGhlbSBiYWNrIGluIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0TG9zdFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocmV0TG9zdFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwbG95ZWRTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKGRlcGxveWVkU3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NlZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocHJvcG9zZWRTdGF0KTsgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0T3JkZXJTUy5wdXNoKHNlbnNvclN0YXR1c2VzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgcHV0IGl0IGJhY2sgaW4gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IGNvcnJlY3RPcmRlclNTO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgICAgICBJbnN0cnVtZW50X1NlcnZpY2Uuc2V0QWxsU2l0ZVNlbnNvcnMoJHNjb3BlLlNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgIC8vdG8gcGFzcyB0byB0aGUgc2Vuc29yIG1vZGFscyBmb3Igc2Vuc29yIGZpbGVzXHJcbiAgICAgICAgICAgICAgICB2YXIgU2Vuc0ZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHNmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUGhvdG8gKDEpLCBEYXRhICgyKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdEYXRhJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgc2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICBzZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgc2Z0LmZpbGV0eXBlID09PSAnTGluaycgfHwgc2Z0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaG93L2hpZGUgcHJvcG9zZWQgc2Vuc29ycyB0byBhZGRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93SGlkZVByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSAhJHNjb3BlLnNob3dQcm9wb3NlZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2FkZCB0aGVzZSBjaGVja2VkIFByb3Bvc2VkIHNlbnNvcnMgdG8gdGhpcyBzaXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgVGltZV9TVEFNUCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZHQgPSAwOyBkdCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGR0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFRvQWRkID0ge307IHZhciBwcm9wU3RhdFRvQWRkID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5tZXRob2Quc3Vic3RyaW5nKDAsIDQpID09IFwiVGVtcFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90ZW1wZXJhdHVyZSBwcm9wb3NlZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFRvQWRkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fZGVzY3JpcHRpb246IFwiUHJvcG9zZWQgc2Vuc29yIGF0IHRoaXMgc2l0ZS4gQ2hhbmdlIGRlc2NyaXB0aW9uIHdoZW4gZGVwbG95aW5nIHNlbnNvci5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudF90eXBlX2lkOiAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogdGhpc1NpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0ubWV0aG9kID09IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgPyAxIDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggdGhlIG5ldyBmdWxsSW5zdHJ1bWVudCBhbmQgc2VlIGlmIGFueSBvZiB0aGUgc2Vuc29yJ3MgZGVwbG95bWVudHR5cGVzIGFyZSB0aGlzIGRlcGxveW1lbnQgdHlwZSB0byBzZXQgdGhlIHNlbnNvcl90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZW5zRGVwVHlwZXMsIGZ1bmN0aW9uIChzZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzZHQuZGVwbG95bWVudHR5cGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2R0LmRlcGxveW1lbnR0eXBlc1t4XS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0lEID0gc2R0LnNlbnNvcl90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbnkgb3RoZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkVG9BZGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiB0aGlzU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogc0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBwb3N0IGl0IChJbnN0cnVtZW50IGZpcnN0LCB0aGVuIEluc3RydW1lbnQgU3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuc2F2ZShwcm9wb3NlZFRvQWRkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRQcm9wU2Vuc29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogcmVzcG9uc2Uuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IHJlc3BvbnNlLmV2ZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogcmVzcG9uc2UubG9jYXRpb25fZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiByZXNwb25zZS5zZW5zb3JfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogcmVzcG9uc2UuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudFR5cGU6ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGR0bCkgeyByZXR1cm4gZHRsLmRlcGxveW1lbnRfdHlwZV9pZCA9PSByZXNwb25zZS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yVHlwZTogJHNjb3BlLnNlbnNEZXBUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX3R5cGVfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQ7fSlbMF0uc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkID0geyBpbnN0cnVtZW50X2lkOiByZXNwb25zZS5pbnN0cnVtZW50X2lkLCBzdGF0dXNfdHlwZV9pZDogNCwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpLCB0aW1lX3N0YW1wOiBUaW1lX1NUQU1QLCB0aW1lX3pvbmU6ICdVVEMnLCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKHByb3BTdGF0VG9BZGQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkLnN0YXR1cyA9ICdQcm9wb3NlZCc7IHByb3BTdGF0VG9BZGQuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRQcm9wU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gW3Byb3BTdGF0VG9BZGRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzLnB1c2goY3JlYXRlZFByb3BTZW5zb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYW4gdXAgLi4uYWxsIHVuY2hlY2tlZCBhbmQgdGhlbiBoaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRlcCA9IDA7IGRlcCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGRlcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZGVwXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQcm9wb3NlZCBzZW5zb3IgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHN0YXR1cyBmYWlscywgbmVlZCB0byBkZWxldGUgdGhlIHNlbnNvciB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIElOU1RSVU1FTlRfU1RBVFVTLnNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIElOU1RSVU1FTlQuc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc2VsZWN0ZWQgPT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIGRlcGxveVR5cGVMaXN0XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIEFkZFByb3Bvc2VkKClcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gcmV0cmlldmUgdGhpcyBkZXBsb3llZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UmV0cmlldmVNb2RhbCA9IGZ1bmN0aW9uIChzZW5zb3JDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHN0YXR1c1R5cGVzLCBDb2xsZWN0Q29uZGl0aW9ucyAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTsgdmFyIGFsbGluZGV4ID0gdGhpc1NpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8kKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1NlbnNvclJldHJpZXZhbE1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2Vuc29yUmV0cmlldmFsTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNvckNsaWNrZWQgIT09IDAgPyBzZW5zb3JDbGlja2VkIDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU9QczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVPUHMoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXR1c1R5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRVU19UWVBFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEluc3RDb2xsQ29uZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZEYXR1bUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsVmVydERhdHVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJldHJpZXZlZFNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmlldmVkU2Vuc29yWzFdID09ICdyZXRyaWV2ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnNbaW5kZXhDbGlja2VkXSA9IHJldHJpZXZlZFNlbnNvclswXTsgdGhpc1NpdGVTZW5zb3JzW2FsbGluZGV4XSA9IHJldHJpZXZlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmlldmVkU2Vuc29yWzFdID09ICdkZWxldGVkUicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLlNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBzaG93UmV0cmlldmVNb2RhbFxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWRTZW5zb3IgPSBmdW5jdGlvbiAocHJvcG9zZWRTZW5zb3JDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BJbmRleCA9ICRzY29wZS5TaXRlU2Vuc29ycy5pbmRleE9mKHByb3Bvc2VkU2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1Byb3Bvc2VkU2Vuc29yLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdwcm9wb3NlZFNlbnNvcicsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBwcm9wb3NlZFNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNQcm9wb3NlZFNlbnNvciA9IHByb3Bvc2VkU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJvcG9zZWQgU2Vuc29yJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJvcG9zZWQgU2Vuc29yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2RlbGV0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFNlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wb3NlZFNlbnNvckNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZGVsZXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogcHJvcG9zZWRTZW5zb3JDbGlja2VkLmluc3RydW1lbnRfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVTZW5zb3JzLnNwbGljZShwcm9wSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUHJvcG9zZWQgc2Vuc29yIGRlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGRlcGxveSBhIHByb3Bvc2VkIHNlbnNvciwgZWRpdCBhIGRlcGxveWVkIHNlbnNvciBvciBjcmVhdGUgYSBuZXcgZGVwbG95ZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1NlbnNvck1vZGFsID0gZnVuY3Rpb24gKHNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2FsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEhvdXNpbmdUeXBlcywgYWxsRXZlbnRzLCBTZW5zRmlsZVR5cGVzLCBhbGxWZXJ0RGF0dW1zXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLlNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8gJChcIi5wYWdlLWxvYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBhIGNyZWF0ZSwgc2hvdyB0aGUgc2Vuc29ybW9kYWwuaHRtbCwgaWYgbG9va2luZyBhdCBkZXBsb3llZCBzZW5zb3IsIGdvIHRvIHRoZSBkZXBzZW5zb3Jtb2RhbC5odG1sXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBzZW5zb3JDbGlja2VkID09PSAwIHx8IHNlbnNvckNsaWNrZWQuaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzX3R5cGVfaWQgPT09IDQgPyAnU2Vuc29ybW9kYWwuaHRtbCcgOiAnRGVwU2Vuc29ybW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW5zb3JNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhc3NBbGxMaXN0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBERVBMT1lNRU5UX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zb3JDbGlja2VkICE9PSAwID8gc2Vuc29yQ2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlT1BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZU9Qcyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRTZW5zb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTsgdmFyIHNpID0gdGhpc1NpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJ2RlcGxveVAnIC0+IGNyZWF0ZWRTZW5zb3JbMV0gd2lsbCBiZTogJ3Byb3Bvc2VkRGVwbG95ZWQnIGRlcGxveSBuZXcgLT4gY3JlYXRlZFNlbnNvclsxXSB3aWxsIGJlOiAnbmV3RGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNlbnNvclsxXSA9PSAncHJvcG9zZWREZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpXSA9IGNyZWF0ZWRTZW5zb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVNlbnNvcnNbc2ldID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09ICduZXdEZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycy5wdXNoKGNyZWF0ZWRTZW5zb3JbMF0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnN0cnVtZW50X1NlcnZpY2Uuc2V0QWxsU2l0ZVNlbnNvcnMoJHNjb3BlLlNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNlbnNvclsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgZnJvbSBlZGl0IC0tIHJlZnJlc2ggcGFnZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnNbaW5kZXhDbGlja2VkXSA9IGNyZWF0ZWRTZW5zb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRTZW5zb3JbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIHNlZSB0aGUgcmV0cmlldmVkIHNlbnNvciAoY2FuIGVkaXQgZGVwbG95ZWQgcGFydCBhbmQgcmV0cmlldmVkIHBhcnQgb24gaGVyZSlcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RnVsbFNlbnNvck1vZGFsID0gZnVuY3Rpb24gKHNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3NlbmQgYWxsIGRlcGxveWVkIHN0dWZmIGFuZCByZXRyaWV2ZWQgc3R1ZmYgdG8gbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdHVmZiA9IFthbGxTZW5zb3JUeXBlcywgYWxsU2Vuc29yQnJhbmRzLCBhbGxIb3VzaW5nVHlwZXMsIFNlbnNGaWxlVHlwZXMsIGFsbFZlcnREYXR1bXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXRyaWV2ZWRTdHVmZiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi4vLyAkKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Z1bGxTZW5zb3Jtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Z1bGxTZW5zb3JNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGxveWVkU3R1ZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdHVzVHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVFVTX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW5zdENvbGxDb25kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOU1RfQ09MTF9DT05ESVRJT04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEV2ZW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBERVBMT1lNRU5UX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zb3JDbGlja2VkICE9PSAwID8gc2Vuc29yQ2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlT1BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZU9Qcyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudERhdGFGaWxlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQVRBX0ZJTEUuZ2V0RXZlbnREYXRhVmlldyh7IGV2ZW50SWQ6IHNlbnNvckNsaWNrZWQuZXZlbnRfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkU2Vuc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzLnNwbGljZShpbmRleENsaWNrZWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiAoaC5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpIHx8IGguaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzX3R5cGVfaWQgPT0gNDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSAvL2VuZCBlbHNlIG5vdCBhdXRoXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVzb3VyY2VzQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdBR0VOQ1knLCAnQ09OVEFDVF9UWVBFJywgJ0RFUExPWU1FTlRfUFJJT1JJVFknLCAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAnRVZFTlRfVFlQRScsICdGSUxFX1RZUEUnLCAnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLCAnSE9SSVpPTlRBTF9EQVRVTScsICdIT1VTSU5HX1RZUEUnLCAnSFdNX1FVQUxJVFknLCAnSFdNX1RZUEUnLCAnSU5TVF9DT0xMX0NPTkRJVElPTicsICdNQVJLRVInLCAnTkVUV09SS19OQU1FJywgJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICdPUF9UWVBFJywgJ1NFTlNPUl9CUkFORCcsICdERVBMT1lNRU5UX1RZUEUnLCAnU0VOU09SX1RZUEUnLCAnTkVUV09SS19UWVBFJywgJ1NUQVRVU19UWVBFJywgJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJywgJ1ZFUlRJQ0FMX0RBVFVNJywgJ2FsbFN0YXRlcycsICdhbGxBZ2VuY2llcycsICdhbGxDb250YWN0VHlwZXMnLCAnYWxsRGVwbG95UHJpb3JpdGllcycsICdhbGxFdmVudFN0YXRzJywgJ2FsbEV2ZW50VHlwZXMnLFxyXG4gICAgICAgICdhbGxGaWxlVHlwZXMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsSG9yRGF0dW1zJywgJ2FsbEhvdXNlVHlwZXMnLCAnYWxsSFdNcXVhbGl0aWVzJywgJ2FsbEhXTXR5cGVzJywgJ2FsbEluc3RDb2xsZWN0Q29uZGl0aW9ucycsICdhbGxNYXJrZXJzJywgJ2FsbE5ldHdvcmtOYW1lcycsICdhbGxPYmpQdFF1YWxpdGllcycsXHJcbiAgICAgICAgJ2FsbE9ialB0VHlwZXMnLCAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbERlcGxveW1lbnRUeXBlcycsICdhbGxTdGF0dXNUeXBlcycsICdhbGxTZW5zb3JUeXBlcycsICdhbGxOZXR3b3JrVHlwZXMnLCAnYWxsVmVydGljYWxDb2xsTWV0aG9kcycsICdhbGxWZXJ0aWNhbERhdHVtcycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBBR0VOQ1ksIENPTlRBQ1RfVFlQRSwgREVQTE9ZTUVOVF9QUklPUklUWSwgRVZFTlRfU1RBVFVTLCBFVkVOVF9UWVBFLCBGSUxFX1RZUEUsXHJcbiAgICAgICAgICAgIEhPUklaT05UQUxfQ09MTF9NRVRIT0RTLCBIT1JJWk9OVEFMX0RBVFVNLCBIT1VTSU5HX1RZUEUsIEhXTV9RVUFMSVRZLCBIV01fVFlQRSwgSU5TVF9DT0xMX0NPTkRJVElPTiwgTUFSS0VSLCBORVRXT1JLX05BTUUsIE9QX1FVQUxJVFksIE9QX1RZUEUsIFNFTlNPUl9CUkFORCwgREVQTE9ZTUVOVF9UWVBFLFxyXG4gICAgICAgICAgICBTRU5TT1JfVFlQRSwgTkVUV09SS19UWVBFLCBTVEFUVVNfVFlQRSwgVkVSVElDQUxfQ09MTF9NRVRIT0QsIFZFUlRJQ0FMX0RBVFVNLCBhbGxTdGF0ZXMsIGFsbEFnZW5jaWVzLCBhbGxDb250YWN0VHlwZXMsIGFsbERlcGxveVByaW9yaXRpZXMsIGFsbEV2ZW50U3RhdHMsIGFsbEV2ZW50VHlwZXMsIGFsbEZpbGVUeXBlcyxcclxuICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbEhvckRhdHVtcywgYWxsSG91c2VUeXBlcywgYWxsSFdNcXVhbGl0aWVzLCBhbGxIV010eXBlcywgYWxsSW5zdENvbGxlY3RDb25kaXRpb25zLCBhbGxNYXJrZXJzLCBhbGxOZXR3b3JrTmFtZXMsIGFsbE9ialB0UXVhbGl0aWVzLCBhbGxPYmpQdFR5cGVzLFxyXG4gICAgICAgICAgICBhbGxTZW5zb3JCcmFuZHMsIGFsbERlcGxveW1lbnRUeXBlcywgYWxsU3RhdHVzVHlwZXMsIGFsbFNlbnNvclR5cGVzLCBhbGxOZXR3b3JrVHlwZXMsIGFsbFZlcnRpY2FsQ29sbE1ldGhvZHMsIGFsbFZlcnRpY2FsRGF0dW1zKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5ncy9SZXNvdXJjZXNcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hY2NvdW50Um9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvb2t1cEZvcm0gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQWdCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5hY3RpdmVNZW51ID0gJyc7IC8vc2NvcGUgZm9yIGFjdGl2ZSBzaWRlYmFyIGl0ZW0gY2xpY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEFMTCBMT09LVVBTIChhZGQvdXBkYXRlL2RlbGV0ZSlcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBBZ2VuY3kgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lMaXN0ID0gYWxsQWdlbmNpZXM7IC8vQWdcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQWdCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdBZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRBZ0J1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kQWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0FnID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRBZ0Zvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRBZ2VuY3kgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFHRU5DWS5zYXZlKCRzY29wZS5uZXdBZywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3QWcgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkFnZW5jeSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUFnZW5jeSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgQUdFTkNZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQWdlbmN5IFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVBZ2VuY3kgPSBmdW5jdGlvbiAoYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBZ2VuY3lcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5hZ2VuY3lMaXN0LmluZGV4T2YoYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFHRU5DWS5kZWxldGUoeyBpZDogYWcuYWdlbmN5X2lkIH0sIGFnLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJBZ2VuY3kgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1N0YXRlQWJicmV2ID0gZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYS5zdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5zdGF0ZUxpc3QsIHsgc3RhdGVfYWJicmV2OiBhLnN0YXRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWRbMF0uc3RhdGVfYWJicmV2IDogJyc7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEFnZW5jeSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBDb250YWN0VHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRhY3RUeXBlTGlzdCA9IGFsbENvbnRhY3RUeXBlczsgLy9jdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRDVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRDVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0NUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRDVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Q1QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZENURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ1RCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZENvbnRhY3RUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDT05UQUNUX1RZUEUuc2F2ZSgkc2NvcGUubmV3Q1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250YWN0VHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Q1QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvbnRhY3QgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udGFjdCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDb250YWN0VHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgQ09OVEFDVF9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQ29udGFjdCBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUNvbnRhY3RUeXBlID0gZnVuY3Rpb24gKGN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ29udGFjdCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY29udGFjdFR5cGVMaXN0LmluZGV4T2YoY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENPTlRBQ1RfVFlQRS5kZWxldGUoeyBpZDogY3QuY29udGFjdF90eXBlX2lkIH0sIGN0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGFjdFR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvbnRhY3QgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gQ29udGFjdFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZGVwbG95bWVudFByaW9yaXR5IEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95UHJpb3JpdHlMaXN0ID0gYWxsRGVwbG95UHJpb3JpdGllczsgLy9kcFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREUEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGREUEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RQID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERQQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmREUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERQRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFBCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRGVwUHJpb3JpdHkgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUExPWU1FTlRfUFJJT1JJVFkuc2F2ZSgkc2NvcGUubmV3RFAsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lQcmlvcml0eUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERQQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgUHJpb3JpdHkgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZURlcFByaW9yaXR5ID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1BSSU9SSVRZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBQcmlvcml0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVEZXBQcmlvcml0eSA9IGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRGVwbG95bWVudCBQcmlvcml0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmRlcGxveVByaW9yaXR5TGlzdC5pbmRleE9mKGRwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1BSSU9SSVRZLmRlbGV0ZSh7IGlkOiBkcC5wcmlvcml0eV9pZCB9LCBkcCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVByaW9yaXR5TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFByaW9yaXR5IFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGRlcGxveW1lbnRQcmlvcml0eSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBldmVudFN0YXR1cyBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdExpc3QgPSBhbGxFdmVudFN0YXRzOyAvL2VzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVTRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVTQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFU0NsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFU0Zvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVNCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEVTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdFUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFU0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRFdmVudFN0YXQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5uZXdFUywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVTQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFN0YXR1cyBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUV2ZW50U3RhdCA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlRfU1RBVFVTLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgU3RhdHVzIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVFdmVudFN0YXQgPSBmdW5jdGlvbiAoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV2ZW50IFN0YXR1c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuaW5kZXhPZihlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlRfU1RBVFVTLmRlbGV0ZSh7IGlkOiBlcy5ldmVudF9zdGF0dXNfaWQgfSwgZXMsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFN0YXR1cyBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50IHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXZlbnRTdGF0dXMgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRXZlbnRUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlTGlzdCA9IGFsbEV2ZW50VHlwZXM7IC8vZXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdFVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kRVQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRFdmVudFR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1RZUEUuc2F2ZSgkc2NvcGUubmV3RVQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlRXZlbnRUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBFVkVOVF9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBldmVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRXZlbnRUeXBlID0gZnVuY3Rpb24gKGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRXZlbnQgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuaW5kZXhPZihldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlRfVFlQRS5kZWxldGUoeyBpZDogZXQuZXZlbnRfdHlwZV9pZCB9LCBldCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBFdmVudFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZmlsZVR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBhbGxGaWxlVHlwZXM7IC8vZnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRlRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRlRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdGVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRGVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kRlQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0ZUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRGVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEZpbGVUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFX1RZUEUuc2F2ZSgkc2NvcGUubmV3RlQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RlQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGVUeXBlID0gZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5maWxlVHlwZUxpc3QuaW5kZXhPZihmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRV9UWVBFLmRlbGV0ZSh7IGlkOiBmdC5maWxldHlwZV9pZCB9LCBmdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGZpbGVUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhvckNvbGxNZXRob2RzIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yQ29sTWV0aExpc3QgPSBhbGxIb3JDb2xsTWV0aG9kczsgLy9oY21cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSENNRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hDTSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIQ01Gb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSENNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIQ00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRIb3JDb2xsTWV0aG9kID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0NPTExfTUVUSE9EUy5zYXZlKCRzY29wZS5uZXdIQ00sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3JDb2xNZXRoTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIQ00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSENNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIQ01CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZCBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvcml6b250YWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSG9yQ29sbE1ldGhvZCA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3Jpem9udGFsIENvbGxlY3Rpb24gTWV0aG9kIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvcml6b250YWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUhvckNvbGxNZXRob2QgPSBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhjbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmhvckNvbE1ldGhMaXN0LmluZGV4T2YoaGNtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0NPTExfTUVUSE9EUy5kZWxldGUoeyBpZDogaGNtLmhjb2xsZWN0X21ldGhvZF9pZCB9LCBoY20sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3JDb2xNZXRoTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3Jpem9udGFsIENvbGxlY3Rpb24gTWV0aG9kIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG9yaXpvbnRhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEhvckNvbGxNZXRob2RzIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhvckRhdHVtIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0TGlzdCA9IGFsbEhvckRhdHVtczsgLy9oZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIREZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIREJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hEID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhEQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIRCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SEQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhERm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSERCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEhvckRhdHVtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLnNhdmUoJHNjb3BlLm5ld0hELCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0TGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIRCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSERCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUhvckRhdHVtID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlSG9yRGF0dW0gPSBmdW5jdGlvbiAoaGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIb3Jpem9udGFsIERhdHVtXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaG9yRGF0TGlzdC5pbmRleE9mKGhkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLmRlbGV0ZSh7IGlkOiBoZC5kYXR1bV9pZCB9LCBoZCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBIb3JEYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBob3VzZVR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0ID0gYWxsSG91c2VUeXBlczsgLy9odFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFRGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkSG91c2VUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1VTSU5HX1RZUEUuc2F2ZSgkc2NvcGUubmV3SFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3VzaW5nIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVIb3VzZVR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhPVVNJTkdfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvdXNpbmcgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlSG91c2VUeXBlID0gZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIb3VzaW5nIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5ob3VzZVR5cGVMaXN0LmluZGV4T2YoaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhPVVNJTkdfVFlQRS5kZWxldGUoeyBpZDogaHQuaG91c2luZ190eXBlX2lkIH0sIGh0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3VzaW5nIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBob3VzaW5nIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGhvdXNpbmdUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGh3bVF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdCA9IGFsbEhXTXF1YWxpdGllczsgLy9od21xXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNUUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVFCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEhXTVEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01RQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEh3bVF1YWxpdHkgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9RVUFMSVRZLnNhdmUoJHNjb3BlLm5ld0hXTVEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01RID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFF1YWxpdHkgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSHdtUXVhbGl0eSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNX1FVQUxJVFkudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gUXVhbGl0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUh3bVF1YWxpdHkgPSBmdW5jdGlvbiAoaHdtcSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod21xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIV00gUXVhbGl0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmh3bVF1YWxMaXN0LmluZGV4T2YoaHdtcSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNX1FVQUxJVFkuZGVsZXRlKHsgaWQ6IGh3bXEuaHdtX3F1YWxpdHlfaWQgfSwgaHdtcSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBRdWFsaXR5IFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXZlbnRTdGF0dXMgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gSHdtVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsSFdNdHlwZXM7IC8vaHdtdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01UID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01UQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIV01UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkSHdtVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNX1RZUEUuc2F2ZSgkc2NvcGUubmV3SFdNVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSHdtVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVId21UeXBlID0gZnVuY3Rpb24gKGh3bXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh3bXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkhXTSBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaHdtVHlwZUxpc3QuaW5kZXhPZihod210KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01fVFlQRS5kZWxldGUoeyBpZDogaHdtdC5od21fdHlwZV9pZCB9LCBod210LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBId21UeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEluc3RDb2xDb25kIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5zdENvbENvbmRMaXN0ID0gYWxsSW5zdENvbGxlY3RDb25kaXRpb25zOyAvL2ljY1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRJQ0NGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3SUNDID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZElDQ0Zvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRJQ0MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0lDQyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEluc3RDb2xDb25kID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUX0NPTExfQ09ORElUSU9OLnNhdmUoJHNjb3BlLm5ld0lDQywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluc3RDb2xDb25kTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdJQ0MgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRJQ0NCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvbiBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSW5zdENvbENvbmQgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIElOU1RfQ09MTF9DT05ESVRJT04udXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJJbnN0cnVtZW50IENvbGxlY3Rpb24gQ29uZGl0aW9uIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUluc3RDb2xDb25kID0gZnVuY3Rpb24gKGljYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkluc3RydW1lbnQgQ29sbGVjdGlvbiBDb25kaXRpb25cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5pbnN0Q29sQ29uZExpc3QuaW5kZXhPZihpY2MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RfQ09MTF9DT05ESVRJT04uZGVsZXRlKHsgaWQ6IGljYy5pZCB9LCBpY2MsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnN0Q29sQ29uZExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvbiBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaW5zdHJ1bWVudCBjb2xsZWN0aW9uIGNvbmRpdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBJbnN0Q29sQ29uZCBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBNYXJrZXIgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrTGlzdCA9IGFsbE1hcmtlcnM7IC8vbVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE1CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdNID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRNQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRNYXJrZXIgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BUktFUi5zYXZlKCRzY29wZS5uZXdNLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya0xpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1hcmtlciBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU1hcmtlciA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgTUFSS0VSLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWFya2VyIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVNYXJrZXIgPSBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJNYXJrZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5tYXJrTGlzdC5pbmRleE9mKG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BUktFUi5kZWxldGUoeyBpZDogbS5tYXJrZXJfaWQgfSwgbSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1hcmtlciBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1hcmtlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gTWFya2VyIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIE5ldHdvcmtOYW1lIEFkZC9VcGRhdGUvRGVsZXRlIG5uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZUxpc3QgPSBhbGxOZXR3b3JrTmFtZXM7IC8vbm5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTk5Gb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTk5CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdOTiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5OQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5ORm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROTkJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kTk4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld05OID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5OQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE5ldHdvcmtOYW1lID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBORVRXT1JLX05BTUUuc2F2ZSgkc2NvcGUubmV3Tk4sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXROYW1lTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdOTiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTk5CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBOYW1lIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXR3b3JrIG5hbWU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlTmV0d29ya05hbWUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIE5FVFdPUktfTkFNRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgTmFtZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbmV0d29yayBuYW1lOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlTmV0d29ya05hbWUgPSBmdW5jdGlvbiAobm4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldHdvcmsgTmFtZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm5ldE5hbWVMaXN0LmluZGV4T2Yobm4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5FVFdPUktfTkFNRS5kZWxldGUoeyBpZDogbm4ubmV0d29ya19uYW1lX2lkIH0sIG5uLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBOYW1lIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbmV0d29yayBuYW1lOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBOZXR3b3JrTmFtZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBPUFF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFF1YWxMaXN0ID0gYWxsT2JqUHRRdWFsaXRpZXM7IC8vb3BxXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QUUZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdPUFEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BRRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE9QUSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BRID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE9QUXVhbGl0eSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfUVVBTElUWS5zYXZlKCRzY29wZS5uZXdPUFEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcFF1YWxMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld09QUSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE9QUUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBRdWFsaXR5IEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlT1BRdWFsaXR5ID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBPUF9RVUFMSVRZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gUXVhbGl0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkYXR1bSBsb2NhdGlvbiBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlT1BRdWFsaXR5ID0gZnVuY3Rpb24gKG9wcSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3BxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJPYmplY3RpdmUgUG9pbnQgUXVhbGl0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm9wUXVhbExpc3QuaW5kZXhPZihvcHEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1FVQUxJVFkuZGVsZXRlKHsgaWQ6IG9wcS5vcF9xdWFsaXR5X2lkIH0sIG9wcSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wUXVhbExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gUXVhbGl0eSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBPUFF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gT1BUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BUeXBlTGlzdCA9IGFsbE9ialB0VHlwZXM7IC8vb3B0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdPUFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE9QVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkT1BUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9UWVBFLnNhdmUoJHNjb3BlLm5ld09QVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbiB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU9QVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgT1BfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlT1BUeXBlID0gZnVuY3Rpb24gKG9wdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk9iamVjdGl2ZSBQb2ludCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUub3BUeXBlTGlzdC5pbmRleE9mKG9wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfVFlQRS5kZWxldGUoeyBpZDogb3B0Lm9iamVjdGl2ZV9wb2ludF90eXBlX2lkIH0sIG9wdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBPUFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU2Vuc29yQnJhbmQgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zQnJhbmRMaXN0ID0gYWxsU2Vuc29yQnJhbmRzOyAvL3NiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFNCRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNCQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3U0IgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU0JCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZFNCID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTQiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU0JGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTQkJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRTZW5zb3JCcmFuZCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX0JSQU5ELnNhdmUoJHNjb3BlLm5ld1NCLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0JyYW5kTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTQiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU0JCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIEJyYW5kIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlU2Vuc29yQnJhbmQgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFNFTlNPUl9CUkFORC51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBCcmFuZCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yIGJyYW5kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlU2Vuc29yQnJhbmQgPSBmdW5jdGlvbiAoc2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlNlbnNvciBCcmFuZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnNlbnNCcmFuZExpc3QuaW5kZXhPZihzYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX0JSQU5ELmRlbGV0ZSh7IGlkOiBzYi5zZW5zb3JfYnJhbmRfaWQgfSwgc2IsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zQnJhbmRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBCcmFuZCBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gU2Vuc29yQnJhbmQgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGVwVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0ID0gYWxsRGVwbG95bWVudFR5cGVzOyAvL2R0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZERUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZERUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGREVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRGVwVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9UWVBFLnNhdmUoJHNjb3BlLm5ld0RULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVEZXBUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVEZXBUeXBlID0gZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRGVwbG95bWVudCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZGVwVHlwZUxpc3QuaW5kZXhPZihkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9UWVBFLmRlbGV0ZSh7IGlkOiBkdC5kZXBsb3ltZW50X3R5cGVfaWQgfSwgZHQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERlcFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU3RhdHVzVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRUeXBlTGlzdCA9IGFsbFN0YXR1c1R5cGVzOyAvL3N0YXRUXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFN0YXRURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXRUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3U3RhdFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTdGF0VENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTdGF0VEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU3RhdFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZFN0YXRUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTdGF0VCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTdGF0VEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRTdGF0dXNUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTVEFUVVNfVFlQRS5zYXZlKCRzY29wZS5uZXdTdGF0VCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRUeXBlTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTdGF0VFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXRUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlN0YXR1cyBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVN0YXR1c1R5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFNUQVRVU19UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU3RhdHVzIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVTdGF0dXNUeXBlID0gZnVuY3Rpb24gKHN0YXRUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTdGF0dXMgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnN0YXRUeXBlTGlzdC5pbmRleE9mKHN0YXRUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTVEFUVVNfVFlQRS5kZWxldGUoeyBpZDogc3RhdFQuc3RhdHVzX3R5cGVfaWQgfSwgc3RhdFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0VHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU3RhdHVzIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBTdGF0dXNUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFNlbnNvclR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zVHlwZUxpc3QgPSBhbGxTZW5zb3JUeXBlczsvLyBhbGxTZW5zb3JUeXBlczsgLy9zZW5UXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWFTZXBEZXBNRVRIT0RTID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy9hZGQgdGhlIGRlcGxveW1lbnQgdHlwZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXR0ZWRTZW5zVHlwZUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zVHlwZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoc2Vuc1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS5nZXRTZW5zb3JEZXBsb3ltZW50VHlwZXMoeyBpZDogc2Vuc1R5cGUuc2Vuc29yX3R5cGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5zVHlwZS5EZXBUeXBlcyA9IFtdOyB2YXIgRGVwTVN0cmluZ3MgPSBbXTsgc2Vuc1R5cGUuRGVwTUVUSE9EU3RyaW5ncyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNUeXBlLkRlcFR5cGVzLnB1c2goZC5kZXBsb3ltZW50X3R5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlcE1TdHJpbmdzLnB1c2goZC5tZXRob2QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNUeXBlLkRlcE1FVEhPRFN0cmluZ3MgPSBEZXBNU3RyaW5ncy5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5wdXNoKHNlbnNUeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIGRlcGxveW1lbnQgdHlwZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2hlY2tsaXN0IGZvciBkZXBsb3ltZW50IHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0RlcFR5cGVzID0gZnVuY3Rpb24gKFNlblQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2VuVC5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKHMubWV0aG9kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZC5sZW5ndGggPyBzZWxlY3RlZC5qb2luKCcsICcpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcyA9IFtdOyAvL3RoZXNlIGFyZSB0aGUgb25lcyB0byByZW1vdmUgd2hlbiB0aGV5IGNsaWNrIHNhdmVcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja0xpc3RDaGVjayA9IGZ1bmN0aW9uIChvcmlnaW5hbENoZWNrZWQsIG5vd0NoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL29yaWdpbmFsQ2hlY2tlZCAtLSB3aGF0IHRoZSBtb2RlbCBoYWQgYmVmb3JlIHRoaXMgY2xpY2sgZXZlbnQgd2FzIHRyaWdnZXJlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93Q2hlY2tlZCAtLSB3aGF0IGRlcGxveW1lbnQgdHlwZXMgYXJlIG5vdyBjaGVja2VkLi4gbG9vayBmb3IgZGlmZmVyZW5jZXMgYW5kIHJlbW92ZSBpZiBsZXNzIHRoYW4sIG90aGVyIHdpc2UgZG8gbm90aGluZywgdGhlIHNhdmUgd2lsbCBoYW5kbGUgYWRkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd0NoZWNrZWQubGVuZ3RoIDwgb3JpZ2luYWxDaGVja2VkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VuY2hlY2tlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gob3JpZ2luYWxDaGVja2VkLCBmdW5jdGlvbiAob2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3dDaGVja2VkLmluZGV4T2Yob2MpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IHRoZXJlIGFueW1vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlRGVwID0gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZHQpIHsgcmV0dXJuIGR0LmRlcGxveW1lbnRfdHlwZV9pZCA9PSBvYzsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgeW91IGRvbid0IGFkZCBpdCB0d2ljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlc1tkXS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gZGVsZXRlRGVwLmRlcGxveW1lbnRfdHlwZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yZ2V0dGFib3V0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9ICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5wdXNoKGRlbGV0ZURlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5wdXNoKGRlbGV0ZURlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNlblRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdTZW5UID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTZW5UQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRTZW5UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTZW5UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZGVwVHlwZUxpc3QsIGZ1bmN0aW9uIChkKSB7IGQuc2VsZWN0ZWQgPSBmYWxzZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU2VuVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmV3IHNlbnNvciB0eXBlIGJlaW5nIGFkZGVkLCB0aGV5IGNoZWNrZWQgdG8gcmVsYXRlIGEgZGVwbG95bWVudCB0eXBlLiBzdG9yZSBmb3IgdXNlIGR1cmluZyBzYXZlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRGVwVHlwZVRvTmV3U2VuVCA9IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdC5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RvbnQgYWRkIGl0IG1vcmUgdGhhbiBvbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZy5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nW2RdLmRlcGxveW1lbnRfdHlwZV9pZCA9PSBkdC5kZXBsb3ltZW50X3R5cGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3JnZXR0YWJvdXQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9ICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcucHVzaChkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcucHVzaChkdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkU2Vuc29yVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhdGVkRGVwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUuc2F2ZSgkc2NvcGUubmV3U2VuVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2VuVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTZW5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBzZWUgaWYgdGhleSByZWxhdGVkIGFueSBkZXBsb3kgc2Vuc29yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLCBmdW5jdGlvbiAobmR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZHQuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWREZXBzLnB1c2gobmR0LmRlcGxveW1lbnRfdHlwZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmFkZFNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBuZXdTZW5zb3Iuc2Vuc29yX3R5cGVfaWQsIGRlcGxveW1lbnRUeXBlSWQ6IG5kdC5kZXBsb3ltZW50X3R5cGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Vuc29yLkRlcFR5cGVzID0gcmVsYXRlZERlcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybWF0dGVkU2Vuc1R5cGVMaXN0LnB1c2gobmV3U2Vuc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlU2Vuc29yVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdWxsIG91dCBqdXN0IHRoZSBzZW5zb3IgYW5kIHRoZW4gdGhlIGRlcGxveW1lbnQgdHlwZSB0byBwb3N0IHNlcGFyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICB2YXIgU1QgPSB7IHNlbnNvcl90eXBlX2lkOiBkYXRhLnNlbnNvcl90eXBlX2lkLCBzZW5zb3I6IGRhdGEuc2Vuc29yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERUcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IHRoZSBEZXBsb3ltZW50IFR5cGVzIGZyb20gdGhlIGxpc3Qgb2YgaWRzIGluIGRhdGEuRGVwVHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RUID0geyBkZXBsb3ltZW50X3R5cGVfaWQ6IHMuZGVwbG95bWVudF90eXBlX2lkLCBtZXRob2Q6IHMubWV0aG9kIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEVHMucHVzaCh0aGlzRFQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgdXBkYXRlIHRoZSBzZW5zb3IgYW5kIHRoZW4gYW55IERlcCBUeXBlcyB0aGV5IGFkZGVkIG9yIHJlbW92ZWRcclxuICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goRFRzLCBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmFkZFNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBpZCwgZGVwbG95bWVudFR5cGVJZDogbmR0LmRlcGxveW1lbnRfdHlwZV9pZCB9LCBkdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgVHlwZSBpcyBub3cgcmVsYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UxLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UxLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UxLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHRob3NlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcywgZnVuY3Rpb24gKHJkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUucmVtb3ZlU2Vuc29yRGVwbG95bWVudFR5cGUoeyBzZW5zb3JUeXBlSWQ6IGlkLCBEZXBsb3ltZW50VHlwZUlkOiByZHQuZGVwbG95bWVudF90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgaXMgbm8gbG9uZ2VyIHJlbGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bnJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5yZWxhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IG1ha2Ugc3VyZSAkc2NvcGUgbW9kZWwgaXMgdXBkYXRlZD9cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVNlbnNvclR5cGUgPSBmdW5jdGlvbiAoc2VuVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3IgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5pbmRleE9mKHNlblQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU1QgPSB7IHNlbnNvcl90eXBlX2lkOiBzZW5ULnNlbnNvcl90eXBlX2lkLCBzZW5zb3I6IHNlblQuc2Vuc29yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBkZWxldGUgdGhlIHJlbGF0aW9uc2hpcCBiZWZvcmUgSSBjYW4gZGVsZXRlIHRoZSBzZW5zb3IgdHlwZSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZGVwVHlwZUxpc3QsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VuVC5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgaXQgYW5kIHRoZW4gZGVsZXRlIHRoZSByZWxhdGlvbnNoaXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RUID0geyBkZXBsb3ltZW50X3R5cGVfaWQ6IHMuZGVwbG95bWVudF90eXBlX2lkLCBtZXRob2Q6IHMubWV0aG9kIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUucmVtb3ZlU2Vuc29yRGVwbG95bWVudFR5cGUoeyBzZW5zb3JUeXBlSWQ6IFNULnNlbnNvcl90eXBlX2lkLCBEZXBsb3ltZW50VHlwZUlkOiB0aGlzRFQuZGVwbG95bWVudF90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bnJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVucmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBkZWxldGUgdGhlIHNlbnNvciAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmRlbGV0ZSh7IGlkOiBTVC5zZW5zb3JfdHlwZV9pZCB9LCBTVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhlIERlcGxveW1lbnQgVHlwZXMgZnJvbSB0aGUgbGlzdCBvZiBpZHMgaW4gZGF0YS5EZXBUeXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFNlbnNvclR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gTmV0VHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ldFR5cGVMaXN0ID0gYWxsTmV0d29ya1R5cGVzOyAvL250XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3TlQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTlRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE5UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdOVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkTmV0VHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkVUV09SS19UWVBFLnNhdmUoJHNjb3BlLm5ld05ULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0VHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TlQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVOZXRUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBORVRXT1JLX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG5ldHdvcmsgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVOZXRUeXBlID0gZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV0d29yayBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUubmV0VHlwZUxpc3QuaW5kZXhPZihudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkVUV09SS19UWVBFLmRlbGV0ZSh7IGlkOiBudC5uZXR3b3JrX3R5cGVfaWQgfSwgbnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXRUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIE5ldFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gVmVydENvbE1ldGggQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sTWV0aExpc3QgPSBhbGxWZXJ0aWNhbENvbGxNZXRob2RzOyAvL3ZjbVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWQ01Gb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkNNID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkNNQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRWQ00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZDTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkNNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZFZlcnRDb2xNZXRoID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9DT0xMX01FVEhPRC5zYXZlKCRzY29wZS5uZXdWQ00sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sTWV0aExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkNNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVZlcnRDb2xNZXRoID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9DT0xMX01FVEhPRC51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlVmVydENvbE1ldGggPSBmdW5jdGlvbiAodmNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZjbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVmVydGljYWwgQ29sbGVjdGlvbiBNZXRob2RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS52ZXJ0Q29sTWV0aExpc3QuaW5kZXhPZih2Y20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZFUlRJQ0FMX0NPTExfTUVUSE9ELmRlbGV0ZSh7IGlkOiB2Y20udmNvbGxlY3RfbWV0aG9kX2lkIH0sIHZjbSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xNZXRoTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBDb2xsZWN0aW9uIE1ldGhvZCBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFZlcnRDb2xNZXRoIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFZlcnREYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlcnREYXRMaXN0ID0gYWxsVmVydGljYWxEYXR1bXM7IC8vdmRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdWRCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZEQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZERm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRWREJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kVkQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZEID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZFZlcnREYXR1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkVSVElDQUxfREFUVU0uc2F2ZSgkc2NvcGUubmV3VkQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0TGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdWRCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiVmVydGljYWwgRGF0dW0gQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlVmVydERhdHVtID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9EQVRVTS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIERhdHVtIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlVmVydERhdHVtID0gZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJWZXJ0aWNhbCBEYXR1bVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnZlcnREYXRMaXN0LmluZGV4T2YodmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZFUlRJQ0FMX0RBVFVNLmRlbGV0ZSh7IGlkOiB2ZC5kYXR1bV9pZCB9LCB2ZCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZlcnREYXRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIERhdHVtIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gVmVydERhdHVtIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gQUxMIExPT0tVUFMgKGFkZC91cGRhdGUvZGVsZXRlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc3VibWl0UmVwb3J0Q3RybCcsIFsnJHNjb3BlJywgJyRodHRwJywgJyRjb29raWVzJywgJyR1aWJNb2RhbCcsICckc3RhdGUnLCAnQ09OVEFDVCcsICdSRVBPUlQnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkY29va2llcywgJHVpYk1vZGFsLCAkc3RhdGUsIENPTlRBQ1QsIFJFUE9SVCkge1xyXG4gICAgICAgICAgICAvLyNtYWtlIHN1cmUgdGhpcyBjbGVhcnMgZXhjZXB0IGZvciBpZiB0aGV5IGFyZSBuZWVkaW5nIHRvIGNvbXBsZXRlIGEgcmVwb3J0XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuJHBhcmVudC5uZWVkVG9Db21wbGV0ZSAhPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQubmV3UmVwb3J0ID0geyByZXBvcnRfZGF0ZTogbmV3IERhdGUoKSB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9rZWVwcyBpdCB2YWxpZCBhbmQgdGVsbHMgaXQgaXQncyB1dGMgc28gaXQgd2lsbCBjb252ZXJ0IHByb3BlciBsb2NhbFxyXG4gICAgICAgICAgICAgICAgdmFyIHlyID0gJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZS5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW8gPSAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlLnN1YnN0cig1LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSBuZXcgRGF0ZShtbyArIFwiL1wiICsgZGF5ICsgXCIvXCIgKyB5cik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLkdlblN0YWZmID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5JbmxhbmRTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuQ29hc3RTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuV2F0ZXJTdGFmZiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgb3BlbkNvbnRhY3RzOiBmYWxzZSwgb3BlbkNvdW50czogZmFsc2UsIG9wZW5QZXJzb25uZWw6IGZhbHNlIH07IC8vaWYgc3VibWl0IGZvcm0gaW52YWxpZCwgb3BlbiBjb250YWN0cyB0byBzaG93IHJlcXVpcmVkIGZpZWxkXHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgLy9yZXNldCBpdCBoZXJlIHNvIGZvcm0gd2lsbCBjbGVhciB3aGVuIHRoZXkgbGVhdmUgYW5kIGNvbWUgYmFjay5cclxuICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQubmVlZFRvQ29tcGxldGUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgLy9nZXQgdGhpcyBldmVudCBuYW1lIGZyb20gdGhlIGV2ZW50aWRcclxuICAgICAgICAgICAgJHNjb3BlLmdldEV2ZW50TmFtZSA9IGZ1bmN0aW9uIChldklEKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmFtZTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzRXZlbnQgPSAkc2NvcGUuZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSBldklEOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIG5hbWUgPSB0aGlzRXZlbnQuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIEdFVCBSZXBvcnQgQ29udGFjdHNcclxuICAgICAgICAgICAgdmFyIGdldFJlcG9ydENvbnRhY3RzID0gZnVuY3Rpb24gKHJlcG9ydElEKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBDT05UQUNULmdldENvbnRhY3RNb2RlbCh7IFJlcG9ydE1ldHJpYzogcmVwb3J0SUQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkRlcGxveWVkIFN0YWZmXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5TdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkdlbmVyYWxcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLklubGFuZFN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiSW5sYW5kIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Db2FzdFN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiQ29hc3RhbCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuV2F0ZXJTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIldhdGVyIFF1YWxpdHlcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBHRVQgUmVwb3J0IENvbnRhY3RzXHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gUE9TVCBSZXBvcnQgQ29udGFjdHNcclxuICAgICAgICAgICAgdmFyIHBvc3RSZXBvcnRDb250YWN0cyA9IGZ1bmN0aW9uIChyZXBvcnRJRCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh7fSwgJHNjb3BlLkRlcGxveVN0YWZmKSAmJiAkc2NvcGUuRGVwbG95U3RhZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5hZGRSZXBvcnRDb250YWN0KHsgcmVwb3J0SWQ6IHJlcG9ydElELCBjb250YWN0VHlwZUlkOiAxIH0sICRzY29wZS5EZXBsb3lTdGFmZiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3kgU3RhZmYgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCAkc2NvcGUuR2VuU3RhZmYpICYmICRzY29wZS5HZW5TdGFmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmFkZFJlcG9ydENvbnRhY3QoeyByZXBvcnRJZDogcmVwb3J0SUQsIGNvbnRhY3RUeXBlSWQ6IDIgfSwgJHNjb3BlLkdlblN0YWZmLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkdlbmVyYWwgU3RhZmYgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZTIuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTIuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UyLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh7fSwgJHNjb3BlLklubGFuZFN0YWZmKSAmJiAkc2NvcGUuSW5sYW5kU3RhZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5hZGRSZXBvcnRDb250YWN0KHsgcmVwb3J0SWQ6IHJlcG9ydElELCBjb250YWN0VHlwZUlkOiAzIH0sICRzY29wZS5JbmxhbmRTdGFmZiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJJbmxhbmQgU3RhZmYgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZTMuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTMuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UzLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh7fSwgJHNjb3BlLkNvYXN0U3RhZmYpICYmICRzY29wZS5Db2FzdFN0YWZmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuYWRkUmVwb3J0Q29udGFjdCh7IHJlcG9ydElkOiByZXBvcnRJRCwgY29udGFjdFR5cGVJZDogNCB9LCAkc2NvcGUuQ29hc3RTdGFmZiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJDb2FzdGFsIFN0YWZmIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZTQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2U0LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2U0LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlNC5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sICRzY29wZS5XYXRlclN0YWZmKSAmJiAkc2NvcGUuV2F0ZXJTdGFmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmFkZFJlcG9ydENvbnRhY3QoeyByZXBvcnRJZDogcmVwb3J0SUQsIGNvbnRhY3RUeXBlSWQ6IDUgfSwgJHNjb3BlLldhdGVyU3RhZmYsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2U1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiV2F0ZXIgU3RhZmYgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZTUuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTUuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2U1LnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gUE9TVCBSZXBvcnQgQ29udGFjdHNcclxuXHJcbiAgICAgICAgICAgIHZhciByZW1vdmVJbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUgaXQgZnJvbSB0aGUgbGlzdCBvZiBpbmNvbXBsZXRlc1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLm1lbWJlckluY29tcGxldGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tZW1iZXJJbmNvbXBsZXRlc1tpXS5yZXBvcnRpbmdfbWV0cmljc19pZCA9PSAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckluY29tcGxldGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL1Bvc3QvUHV0IHRoZSBSZXBvcnQgYW5kIFJlcG9ydCBDb250YWN0cy4gQ2FsbGVkIHR3aWNlIChmcm9tIHdpdGhpbiBNb2RhbCAoaW5jb21wbGV0ZSkgYW5kIG91dHNpZGUgKGNvbXBsZXRlKSlcclxuICAgICAgICAgICAgdmFyIFBvc3RQdXRSZXBvcnRBbmRSZXBvcnRDb250YWN0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vUE9TVCBvciBQVVQgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUudG9EYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QVVRcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQudXBkYXRlKHsgaWQ6ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQgfSwgJHNjb3BlLm5ld1JlcG9ydCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlJlcG9ydCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X25hbWUgPSAkc2NvcGUuZ2V0RXZlbnROYW1lKCRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5jb21wbGV0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNDb21wbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIHRoZSBSZXBvcnRDb250YWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UmVwb3J0Q29udGFjdHMoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRzZXRQcmlzdGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LmV2ZW50X2lkLiR2aWV3VmFsdWUgPSB1bmRlZmluZWQ7Ly9uZWVkZWQgZm9yIHRoZSBjaGFuZ2VTdGF0ZSB0byBub3QgdGhyb3cgdXAgbGVhdmluZyB0YWIgbWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3JlcG9ydGluZy5yZXBvcnREYXNoJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5zYXZlKCRzY29wZS5uZXdSZXBvcnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJSZXBvcnQgQ3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydHMucHVzaChyZXNwb25zZSk7IC8vYWRkIHRvIHRoZSBsaXN0IG9mIGFsbCByZXBvcnRzIGZvciBmaWx0ZXJpbmcgb24gdGhlIGdlbmVyYXRlIHRhYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5jb21wbGV0ZSA9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVJbmNvbXBsZXRlKCk7ICRzY29wZS5pc0NvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X25hbWUgPSAkc2NvcGUuZ2V0RXZlbnROYW1lKCRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckluY29tcGxldGVzLnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIHRoZSBSZXBvcnRDb250YWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkID0gcmVzcG9uc2UucmVwb3J0aW5nX21ldHJpY3NfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RSZXBvcnRDb250YWN0cygkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC5ldmVudF9pZC4kdmlld1ZhbHVlID0gdW5kZWZpbmVkOyAvL25lZWRlZCBmb3IgdGhlIGNoYW5nZVN0YXRlIHRvIG5vdCB0aHJvdyB1cCBsZWF2aW5nIHRhYiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVwb3J0aW5nLnJlcG9ydERhc2gnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBwb3N0XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2dldCB2YWx1ZXMgZm9yIFBlcnNvbm5lbCBZZXN0ZXJkYXlzLCBhbmQgQ29udGFjdHMgKGlmIHJlcG9ydCB3YXMgZG9uZSB5ZXN0ZXJkYXkpLCBhbmQgYWxsIGNvdW50cyBmb3IgaW5zdHJ1bWVudHMgJiBod21zXHJcbiAgICAgICAgICAgICRzY29wZS5wb3B1bGF0ZVllc3RUb3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUubmV3UmVwb3J0LnN0YXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdERhdGUgPSBuZXcgRGF0ZSgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGUgPSBmb3JtYXREYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbXlEYXRlID0gZm9ybWF0RGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU3RhdGUgPSAkc2NvcGUubmV3UmVwb3J0LnN0YXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlSUQgPSAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0ID0geyByZXBvcnRfZGF0ZTogJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSwgc3RhdGU6IHRoZVN0YXRlLCBldmVudF9pZDogZUlEIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0ge307ICRzY29wZS5HZW5TdGFmZiA9IHt9OyAkc2NvcGUuSW5sYW5kU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ29hc3RTdGFmZiA9IHt9OyAkc2NvcGUuV2F0ZXJTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c0RheSA9IG5ldyBEYXRlKG15RGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNEYXkuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNEYXkgPSBwcmV2aW91c0RheS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZXN0ZXJkYXlScHQgPSAkc2NvcGUucmVwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcERhdGUgPSByLnJlcG9ydF9kYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyLmV2ZW50X2lkID09ICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQgJiYgci5zdGF0ZSA9PSAkc2NvcGUubmV3UmVwb3J0LnN0YXRlKSAmJiAocmVwRGF0ZSA9PSBwcmV2aW91c0RheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeWVzdGVyZGF5UnB0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUEVSU09OTkVMIHBvcHVsYXRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC55ZXN0X2ZpZWxkcGVycyA9IHllc3RlcmRheVJwdC50b2RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lnllc3Rfb2ZmaWNlcGVycyA9IHllc3RlcmRheVJwdC50b2Rfb2ZmaWNlcGVycztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENPTlRBQ1RTIHBvcHVsYXRpbmcgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldFJlcG9ydENvbnRhY3RzKHllc3RlcmRheVJwdC5yZXBvcnRpbmdfbWV0cmljc19pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHllc3RlcmRheVJwdCAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC55ZXN0X2ZpZWxkcGVycyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQueWVzdF9vZmZpY2VwZXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgZ2V0IHRvdGFscyBmb3IgYWxsIHNlbnNvcnMgYW5kIGh3bXMgdG8gcG9wdWxhdGUgaW4gdGhpcyBuZXdSZXBvcnRcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0RGFpbHlSZXBvcnRUb3RzKHsgRGF0ZTogbXlEYXRlLCBFdmVudDogJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZCwgU3RhdGU6ICRzY29wZS5uZXdSZXBvcnQuc3RhdGUgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgYWJvdXQgdGhlIGNvdW50c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmRlcF9yYXBkZXBsX2dhZ2UgPSByZXNwb25zZTYuZGVwX3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZWNfcmFwZGVwbF9nYWdlID0gcmVzcG9uc2U2LnJlY19yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubG9zdF9yYXBkZXBsX2dhZ2UgPSByZXNwb25zZTYubG9zdF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZGVwX3d0cmxldl9zZW5zb3IgPSByZXNwb25zZTYuZGVwX3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVjX3d0cmxldl9zZW5zb3IgPSByZXNwb25zZTYucmVjX3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubG9zdF93dHJsZXZfc2Vuc29yID0gcmVzcG9uc2U2Lmxvc3Rfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5kZXBfd3Zfc2VucyA9IHJlc3BvbnNlNi5kZXBfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZWNfd3Zfc2VucyA9IHJlc3BvbnNlNi5yZWNfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5sb3N0X3d2X3NlbnMgPSByZXNwb25zZTYubG9zdF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmRlcF9iYXJvbWV0cmljID0gcmVzcG9uc2U2LmRlcF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlY19iYXJvbWV0cmljID0gcmVzcG9uc2U2LnJlY19iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmxvc3RfYmFyb21ldHJpYyA9IHJlc3BvbnNlNi5sb3N0X2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZGVwX21ldGVvcm9sb2dpY2FsID0gcmVzcG9uc2U2LmRlcF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZWNfbWV0ZW9yb2xvZ2ljYWwgPSByZXNwb25zZTYucmVjX21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmxvc3RfbWV0ZW9yb2xvZ2ljYWwgPSByZXNwb25zZTYubG9zdF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5od21fZmxhZ2dlZCA9IHJlc3BvbnNlNi5od21fZmxhZ2dlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5od21fY29sbGVjdGVkID0gcmVzcG9uc2U2Lmh3bV9jb2xsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZTYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2U2LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQgdG90YWxzOiBcIiArIGVycm9yUmVzcG9uc2U2LmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0IHRvdGFsczogXCIgKyBlcnJvclJlc3BvbnNlNi5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGNob29zZSBhIGRhdGUsIGV2ZW50IGFuZCBzdGF0ZSBmaXJzdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07IC8vIGVuZCBwb3B1bGF0ZVllc3RUb3RzXHJcblxyXG4gICAgICAgICAgICAvL3NhdmUgdGhpcyByZXBvcnQgYW5kIGl0J3MgY29udGFjdHNcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVSZXBvcnQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LmNvbXBsZXRlID09PSB1bmRlZmluZWQgfHwgJHNjb3BlLm5ld1JlcG9ydC5jb21wbGV0ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZG9uJ3Qgd29ycnkgaWYgdmFsaWQsIGp1c3QgcG9zdHB1dCBtb2RhbCBjb25maXJtaW5nIHRoZXkgd2FudCB0byBzYXZlIHRoaXMgd2l0aG91dCBtYXJraW5nIGl0IGNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnc2F2ZVJlcG9ydE1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnY29uZmlybVJlcG9ydE1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHBvc3QgdGhpcyBhcyBpbmNvbXBsZXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuY29tcGxldGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lm1lbWJlcl9pZCA9ICRzY29wZS5NZW1iZXJMb2dnZWRJbi5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvc3RQdXRSZXBvcnRBbmRSZXBvcnRDb250YWN0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8uLmNvbXBsZXRlIGlzIDEgLi4gY2hlY2sgaWYgdmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGUgcmVwb3J0IGlzIGNvbXBsZXRlIGFuZCB2YWxpZCwganVzdCBwb3N0L3B1dCBpdCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lm1lbWJlcl9pZCA9ICRzY29wZS5NZW1iZXJMb2dnZWRJbi5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvc3RQdXRSZXBvcnRBbmRSZXBvcnRDb250YWN0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxlcnQoXCJBbGwgZmllbGRzIGFyZSByZXF1aXJlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5vcGVuQ29udGFjdHMgPSB0cnVlOyAkc2NvcGUuc3RhdHVzLm9wZW5Db3VudHMgPSB0cnVlOyAkc2NvcGUuc3RhdHVzLm9wZW5QZXJzb25uZWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCJbbmFtZT0nXCIgKyAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRuYW1lICsgXCInXVwiKS5maW5kKCcubmctaW52YWxpZDp2aXNpYmxlOmZpcnN0JykuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUucG9wdWxhdGVEZXBsb3llciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9ICRzY29wZS5NZW1iZXJMb2dnZWRJbjtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9pbmNvbXBsZXRlIHJlcG9ydCB3YXMgY2xpY2tlZCwgZ28gZ2V0IGl0IGFuZCB0aGUgY29udGFjdHMgZm9yIGl0XHJcbiAgICAgICAgICAgICRzY29wZS5nZXRJbmNvbXBsZXRlUmVwb3J0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcG9ydElkID0gdGhpcy5pci5yZXBvcnRpbmdfbWV0cmljc19pZDtcclxuICAgICAgICAgICAgICAgIFJFUE9SVC5xdWVyeSh7IGlkOiByZXBvcnRJZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgQ2hyb21lLCBmb3JtYXQgZGF0ZTpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeXIgPSByZXNwb25zZS5yZXBvcnRfZGF0ZS5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vID0gcmVzcG9uc2UucmVwb3J0X2RhdGUuc3Vic3RyKDUsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSByZXNwb25zZS5yZXBvcnRfZGF0ZS5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9IG5ldyBEYXRlKG1vICsgXCIvXCIgKyBkYXkgKyBcIi9cIiArIHlyKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRzZXREaXJ0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IGNvbnRhY3RzIFxyXG4gICAgICAgICAgICAgICAgICAgIGdldFJlcG9ydENvbnRhY3RzKHJlcG9ydElkKTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgZ2V0UmVwb3J0Q29udGFjdHMoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCk7XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdyZXBvcnRNb2RhbEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdyZXBvcnQnLCAnc3VibWl0UGVyc29uJywgJ2NvbnRhY3RzJywgXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHJlcG9ydCwgc3VibWl0UGVyc29uLCBjb250YWN0cykge1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0VmlldyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5SZXBvcnQgPSByZXBvcnQ7XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LnN1Ym1pdHRlciA9IHN1Ym1pdFBlcnNvbjtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuZGVwbG95U3RhZmYgPSBjb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJEZXBsb3llZCBTdGFmZlwiOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuZ2VuZXJhbFN0YWZmID0gY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiR2VuZXJhbFwiOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuaW5sYW5kU3RhZmYgPSBjb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJJbmxhbmQgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LmNvYXN0U3RhZmYgPSBjb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJDb2FzdGFsIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy53YXRlclN0YWZmID0gY29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiV2F0ZXIgUXVhbGl0eVwiOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVwb3J0aW5nRGFzaEN0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICckc3RhdGUnLCAnJGh0dHAnLCAnQ09OVEFDVCcsICdNRU1CRVInLCAnYWxsUmVwb3J0c0FnYWluJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJGZpbHRlciwgJHVpYk1vZGFsLCAkc3RhdGUsICRodHRwLCBDT05UQUNULCBNRU1CRVIsIGFsbFJlcG9ydHNBZ2Fpbikge1xyXG4gICAgICAgICAgICAkc2NvcGUucmVwb3J0c1RvRGF0ZSA9IGFsbFJlcG9ydHNBZ2FpbjtcclxuICAgICAgICAgICAgJHNjb3BlLnRvZGF5UnB0cyA9IFtdOyAkc2NvcGUueWVzdGVyZGF5UnB0cyA9IFtdOyAkc2NvcGUucGlja0RhdGVScHRzID0gW107ICRzY29wZS5waWNrQWRhdGVSZXBvcnRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS50b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICRzY29wZS50b2RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgJHNjb3BlLnllc3RlcmRheSA9IG5ldyBEYXRlKCRzY29wZS50b2RheSk7XHJcbiAgICAgICAgICAgICRzY29wZS55ZXN0ZXJkYXkuc2V0RGF0ZSgkc2NvcGUudG9kYXkuZ2V0RGF0ZSgpIC0gMSk7XHJcbiAgICAgICAgICAgICRzY29wZS50b2RheSA9ICRzY29wZS50b2RheS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7XHJcbiAgICAgICAgICAgICRzY29wZS55ZXN0ZXJkYXkgPSAkc2NvcGUueWVzdGVyZGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5USElTX0RBVEUgPSB7fTtcclxuICAgICAgICAgICAgLy9WaWV3IFJlcG9ydCBidXR0b24gY2xpY2tlZCwgZ2V0IHN0dWZmIGFuZCBtYWtlIGEgcGRmIFxyXG4gICAgICAgICAgICAkc2NvcGUuVmlld1JlcG9ydCA9IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1ZpZXdSZXBvcnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3JlcG9ydE1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHsgIC8vVE9ETyA6OiBDaGFuZ2UgdGhpcyB0byBnZXQgUmVwb3J0TW9kZWwgLS1pbmNsdWRlcyBjb250YWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRQZXJzb246IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiByLm1lbWJlcl9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyLm1lbSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXJBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSBtZW1iZXIubWVtLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyLmFnZW5jeV9uYW1lID0gbWVtYmVyQWdlbmN5LmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlci5hZ2VuY3lfYWRkcmVzcyA9IG1lbWJlckFnZW5jeS5hZGRyZXNzICsgXCIsIFwiICsgbWVtYmVyQWdlbmN5LmNpdHkgKyBcIiBcIiArIG1lbWJlckFnZW5jeS5zdGF0ZSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnppcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDT05UQUNULmdldENvbnRhY3RNb2RlbCh7IFJlcG9ydE1ldHJpYzogci5yZXBvcnRpbmdfbWV0cmljc19pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm90aGluZyB0byBkbyBoZXJlXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07Ly9lbmQgVmlld1JlcG9ydCBjbGlja1xyXG5cclxuICAgICAgICAgICAgLy9mdW5jdGlvbiBjYWxsIHRvIGFkZCBldmVudF9uYW1lIHRvIGxpc3Qgb2YgcmVwb3J0c1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0UmVwb3J0ID0gZnVuY3Rpb24gKHJlcExpc3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5MaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwID0gcmVwTGlzdFtpXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQgPSAkc2NvcGUuZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSByZXAuZXZlbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcC5ldmVudF9uYW1lID0gZXZlbnQuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5MaXN0LnB1c2gocmVwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5MaXN0O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIHRvZGF5UmVwb3J0cyA9ICRzY29wZS5yZXBvcnRzVG9EYXRlLmZpbHRlcihmdW5jdGlvbiAodG9kYXlyZXApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXBvcnREYXRlID0gdG9kYXlyZXAucmVwb3J0X2RhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydERhdGUgPT0gJHNjb3BlLnRvZGF5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLnRvZGF5UnB0cyA9IGZvcm1hdFJlcG9ydCh0b2RheVJlcG9ydHMpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHllc3RlcmRheVJlcG9ydHMgPSAkc2NvcGUucmVwb3J0c1RvRGF0ZS5maWx0ZXIoZnVuY3Rpb24gKHllc3RyZXApIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXBvcnREYXRlID0geWVzdHJlcC5yZXBvcnRfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0RGF0ZSA9PSAkc2NvcGUueWVzdGVyZGF5O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLnllc3RlcmRheVJwdHMgPSBmb3JtYXRSZXBvcnQoeWVzdGVyZGF5UmVwb3J0cyk7XHJcblxyXG4gICAgICAgICAgICAvL2dpdmUgbWUgdGhlIHJlcG9ydHMgZG9uZSBvbiB0aGlzIGRhdGVcclxuICAgICAgICAgICAgJHNjb3BlLmdldFJlcG9ydHNCeURhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLlRISVNfREFURS5kYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5USElTX0RBVEUuZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlID0gZm9ybWF0RGF0ZS50b0lTT1N0cmluZygpLnN1YnN0cigwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEYXRlUmVwb3J0cyA9ICRzY29wZS5yZXBvcnRzVG9EYXRlLmZpbHRlcihmdW5jdGlvbiAodGRhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcG9ydERhdGUgPSB0ZGF0ZS5yZXBvcnRfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXBvcnREYXRlID09IGZvcm1hdERhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBpY2tEYXRlUnB0cyA9IGZvcm1hdFJlcG9ydCh0aGlzRGF0ZVJlcG9ydHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5waWNrQWRhdGVSZXBvcnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQaWNrIGEgZGF0ZSBmaXJzdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb21wbGV0ZSB0aGUgcmVwb3J0IGJ1dHRvbiBjbGlja2VkIC0tIHNlbmQgYmFjayB0byBzdWJtaXQgd2l0aCByZXBvcnQgcG9wdWxhdGVkXHJcbiAgICAgICAgICAgICRzY29wZS5Db21wbGV0ZVRoaXNSZXBvcnQgPSBmdW5jdGlvbiAocmVwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5uZXdSZXBvcnQgPSByZXA7XHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuJHBhcmVudC5uZXdSZXBvcnQucmVwb3J0X2RhdGUgPSBuZXcgRGF0ZShyZXAucmVwb3J0X2RhdGUpOyAvL2tlZXBzIGl0IHZhbGlkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQubmVlZFRvQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgQ09OVEFDVC5nZXRDb250YWN0TW9kZWwoeyBSZXBvcnRNZXRyaWM6IHJlcC5yZXBvcnRpbmdfbWV0cmljc19pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LkRlcGxveVN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiRGVwbG95ZWQgU3RhZmZcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LkdlblN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiR2VuZXJhbFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuSW5sYW5kU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJJbmxhbmQgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LkNvYXN0U3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJDb2FzdGFsIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5XYXRlclN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiV2F0ZXIgUXVhbGl0eVwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5EZXBsb3lTdGFmZiA9IHt9OyAkc2NvcGUuJHBhcmVudC5HZW5TdGFmZiA9IHt9OyAkc2NvcGUuJHBhcmVudC5JbmxhbmRTdGFmZiA9IHt9OyAkc2NvcGUuJHBhcmVudC5Db2FzdFN0YWZmID0ge307ICRzY29wZS4kcGFyZW50LldhdGVyU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVwb3J0aW5nLnN1Ym1pdFJlcG9ydCcpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3Byb2plY3QgYWxlcnQgdGV4dCBpbiBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0UHJvamVjdEFsZXJ0VGV4dCA9IGZ1bmN0aW9uIChyZXApIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvL25lZWQ6IFxyXG4gICAgICAgICAgICAgICAgLy8xLiB0aGlzUmVwb3J0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5SZXBvcnQgPSByZXA7XHJcbiAgICAgICAgICAgICAgICAvLzIuIHRvdGFsIG9mIFlFU1QgRklFTERQRVJTXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMudG90WWVzdEZpZWxkUGVycyA9IHJlcC55ZXN0X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgIC8vMy4gdG90YWwgb2YgT0ZGSUNFUEVSU1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLnRvdFllc3RPZmZpY1BlcnMgPSByZXAueWVzdF9vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgLy80LiB0b3RhbCB0b3RfZGlzY2hhcmdlX21lYXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5tZWFzdXJlQ3RzID0gcmVwLnRvdF9kaXNjaGFyZ2VfbWVhcztcclxuICAgICAgICAgICAgICAgIC8vNS4gdG90YWwgc3RhdGVzIHJlc3BvbmRpbmcgKGFsbCByZXBvcnRzIHdpdGggdGhpcyBldmVudF9pZCwgY291bnQgb2YgZWFjaCBzdGF0ZSlcclxuICAgICAgICAgICAgICAgIHZhciBldmVudFJlcG9ydHMgPSAkc2NvcGUucmVwb3J0c1RvRGF0ZS5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfaWQgPT0gcmVwLmV2ZW50X2lkOyB9KTtcclxuICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gJGZpbHRlcignY291bnRCeScpKGV2ZW50UmVwb3J0cywgJ3N0YXRlJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMuc3RhdGVDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGVzdCwgZnVuY3Rpb24gKGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLnN0YXRlQ291bnQrKztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy82LiB0aGlzIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMuRXZlbnQgPSAkc2NvcGUuZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSByZXAuZXZlbnRfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMuRXZlbnQuZXZlbnRfdHlwZV9pZCA9PSAxID8gJ0Zsb29kUEEuaHRtbCcgOiAnSHVycmljYW5lUEEuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ1Byb2pBbGVydE1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJyxcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUHJvakFsZXJ0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLlByb2plY3RBbGVydFBhcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3RoaW5nIHRvIGRvIGhlcmVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuICAgIC8vI3JlZ2lvbiBSZXBvcnRpbmcgQ29udHJvbGxlclxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVwb3J0aW5nQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICdtZW1iZXJSZXBvcnRzJywgJ2FsbEV2ZW50cycsICdhbGxTdGF0ZXMnLCAnYWxsUmVwb3J0cycsICdhbGxFdmVudFR5cGVzJywgJ2FsbEV2ZW50U3RhdHVzJywgJ2FsbEFnZW5jaWVzJywgJ1NFUlZFUl9VUkwnLCAnUkVQT1JUJywgJ01FTUJFUicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgbWVtYmVyUmVwb3J0cywgYWxsRXZlbnRzLCBhbGxTdGF0ZXMsIGFsbFJlcG9ydHMsIGFsbEV2ZW50VHlwZXMsIGFsbEV2ZW50U3RhdHVzLCBhbGxBZ2VuY2llcywgU0VSVkVSX1VSTCwgUkVQT1JULCBNRU1CRVIpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIlJlcG9ydGluZ1wiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJyZXBvcnRcIjtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBjaGFuZ2luZyB0YWJzIGhhbmRsZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybUlzUG9wdWxhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmcm9tU3RhdGUudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJy9TdWJtaXRSZXBvcnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Jc1BvcHVsYXRlZCA9ICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJGRpcnR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Jc1BvcHVsYXRlZCA9ICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuZXZlbnRfaWQuJHZpZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZvcm1Jc1BvcHVsYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlzUG9wdWxhdGVkKSB7IC8vaXMgZGlydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RvU3RhdGUubmFtZTogJyArIHRvU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmcm9tU3RhdGUubmFtZTogJyArIGZyb21TdGF0ZS5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoZSBTdWJtaXQgUmVwb3J0IFRhYj8gQW55IHVuc2F2ZWQgaW5mb3JtYXRpb24gd2lsbCBiZSBsb3N0LlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvIHRvOiAnICsgdG9TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGF5IGF0IHN0YXRlOiAnICsgZnJvbVN0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuJGFwcGx5KCk7Ly8gbG9hZGluZy4uLy8kKFwiLnBhZ2UtbG9hZGluZ1wiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2V2ZW50LnN0b3BQcm9wYWdhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGNoYW5naW5nIHRhYnMgaGFuZGxlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICAgICAvL2Zvcm1hdCB0aGUgZGF0ZSBtbS9kZC95eXl5XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREdCA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbSA9IGN1cnJlbnREdC5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBtbSA9IChtbSA8IDEwKSA/ICcwJyArIG1tIDogbW07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRkID0gY3VycmVudER0LmdldERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeXl5eSA9IGN1cnJlbnREdC5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbW0gKyAnLycgKyBkZCArICcvJyArIHl5eXk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBnbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9IHt9OyAkc2NvcGUuR2VuU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5JbmxhbmRTdGFmZiA9IHt9OyAkc2NvcGUuQ29hc3RTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLldhdGVyU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmVlZFRvQ29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcyA9IG1lbWJlclJlcG9ydHMuZmlsdGVyKGZ1bmN0aW9uIChpcikgeyByZXR1cm4gaXIuY29tcGxldGUgPT09IDA7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50cyA9IGFsbEV2ZW50cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBhbGxTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0cyA9IGFsbFJlcG9ydHM7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbiA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXJBZ2VuY3kgPSBhbGxBZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfbmFtZSA9IG1lbWJlckFnZW5jeS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X2FkZHJlc3MgPSBtZW1iZXJBZ2VuY3kuYWRkcmVzcyArIFwiLCBcIiArIG1lbWJlckFnZW5jeS5jaXR5ICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuc3RhdGUgKyBcIiBcIiArIG1lbWJlckFnZW5jeS56aXA7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlcnMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlcyA9IGFsbEV2ZW50VHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0cyA9IGFsbEV2ZW50U3RhdHVzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBnbG9iYWwgdmFyc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBHZW5lcmF0ZSBSZXBvcnQgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU3RhdGVtb2RlbCA9IHt9Oy8vYmluZGluZyB0byB0aGUgc3RhdGUgbXVsdGktc2VsZWN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2VuU3VtbWFyeSA9IHt9Oy8vYmluZGluZyBmb3IgdGhlIGV2ZW50IGNob3NlbiwgYW5kIGRhdGUgY2hvc2VuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWRSZXBvcnRzID0gW107IC8vcmVzdWx0IG9mIGZpbHRlciBvcHRpb25zXHJcblxyXG4gICAgICAgICAgICAgICAgLy9lYWNoIG9wdGlvbiB0aGUgcG9wdWxhdGUsIG5lZWQgdG8gc2hvdyBzZWxlY3Rpb24gaW4gJ0NvbmZpcm0gU2VsZWN0aW9ucycgc2VjdGlvbiAoZGF0ZSB3b3JrcylcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZW5SZXBDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5nZW5TdW1tYXJ5LmV2ZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVzLnB1c2goc3RhdGUuc3RhdGVfbmFtZSk7IGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU3RhdGVOYW1lcyA9IG5hbWVzLmpvaW4oJywnKTsgJHNjb3BlLlN0YXRlQWJicmV2cyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsID0gW107IC8vaG9sZCBhbGwgcmVwb3J0TW9kZWxzIGZvciAnRGlzcGxheSBNZXRyaWNzIFN1bW1hcnknXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgRGlzcGxheSBNZXRyaWNzIFN1bW1hcnksIHNob3cgY29udGVudCBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzcGxheU1ldHJpY1N1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyNyZWdpb24gc2NvcGVzIG5lZWRlZCBmb3IgdGhpcyBhY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cgPSB7fTsgLy9tb2RlbCB0byBob2xkIHRvdGFscyBmb3IgdGFibGVzIGxhc3Qgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5ub3RBY2N0Rm9yRW1wcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jdW1QRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cueWVzUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93LnRvZFBGaWVsZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cuY3VtUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy55ZXNQT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93LnRvZFBPZmZpY2UgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy50cnVjayA9IDA7ICRzY29wZS50b3RhbFJvdy5ib2F0ID0gMDsgJHNjb3BlLnRvdGFsUm93Lm90aGVyID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5nYWdlVmlzaXRzID0gMDsgJHNjb3BlLnRvdGFsUm93LmdhZ2VzRG93biA9IDA7ICRzY29wZS50b3RhbFJvdy5kaXNDdG9EYXRlID0gMDsgJHNjb3BlLnRvdGFsUm93LmRpc0NQbGFubmVkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LkNoZWNrTWVhc1RvRGF0ZSA9IDA7ICRzY29wZS50b3RhbFJvdy5DaGVja01lYXNQbGFubmVkID0gMDsgJHNjb3BlLnRvdGFsUm93LmluZE1lYXMgPSAwOyAkc2NvcGUudG90YWxSb3cucmF0RXh0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnBlYWtzT2ZSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cuUVdHYWdlVmlzID0gMDsgJHNjb3BlLnRvdGFsUm93LmNvbnRRV0dhZ2VWaXMgPSAwOyAkc2NvcGUudG90YWxSb3cuY29udFFXR2FnZURvd24gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzUVdTYW1wbGVzID0gMDsgJHNjb3BlLnRvdGFsUm93LnNlZFNhbXBsZXMgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1BsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cucmRnRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ1JlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlckRlcCA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlclJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy53YXRlckxvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZURlcCA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9QbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9EZXAgPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb1JlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldERlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXRSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cubWV0TG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5od21GbGFnID0gMDsgJHNjb3BlLnRvdGFsUm93Lmh3bUNvbCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBzY29wZXMgbmVlZGVkIGZvciB0aGlzIGFjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWV0cmljcyBzdW1tYXJ5IHRvIHNob3cgaW4gbmV3IHRhYiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZTdHJpbmcgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEYXRlID0gJHNjb3BlLmZvcm1hdERhdGUoJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQ6IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLzEuIGFsbCByZXBvcnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRGaWx0ZXJlZFJlcG9ydHMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfaWQsIFN0YXRlczogYWJicmV2U3RyaW5nLCBEYXRlOiB0aGlzRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggcmVwb3J0LCBnZXQgYWxsIHJlcG9ydHMgd2l0aCB0aGF0IGV2ZW50IGFuZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZXN1bHQubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1JQTW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUlBNb2RlbC5yZXBvcnQgPSByZXN1bHRbeF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHRvdGFscyBmb3IgdG90YWwgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm5vdEFjY3RGb3JFbXBzICs9ICh0aGlzUlBNb2RlbC5yZXBvcnQuc3dfZmllbGRwZXJzX25vdGFjY3QgKyB0aGlzUlBNb2RlbC5yZXBvcnQud3FfZmllbGRwZXJzX25vdGFjY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5jdW1QRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3RfZmllbGRwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9maWVsZHBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG13X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cueWVzUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9kUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b2RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRtd19maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmN1bVBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3Rfb2ZmaWNlcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50b2Rfb2ZmaWNlcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cueWVzUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b2RQT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50b2Rfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG13X29mZmljZXBlcnM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5nYWdlVmlzaXRzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX3Zpc2l0OyAkc2NvcGUudG90YWxSb3cuZ2FnZXNEb3duICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX2Rvd247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc0N0b0RhdGUgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvdF9kaXNjaGFyZ2VfbWVhczsgJHNjb3BlLnRvdGFsUm93LmRpc0NQbGFubmVkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2Rpc2NoYXJnZV9tZWFzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5pbmRNZWFzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2luZGlyZWN0X21lYXM7ICRzY29wZS50b3RhbFJvdy5yYXRFeHQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJhdGluZ19leHRlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnBlYWtzT2ZSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfcGVha19yZWNvcmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc1FXU2FtcGxlcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucXdfZGlzY3Jfc2FtcGxlczsgJHNjb3BlLnRvdGFsUm93LnNlZFNhbXBsZXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmNvbGxfc2Vkc2FtcGxlcztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1BsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fcmFwZGVwbF9nYWdlOyAkc2NvcGUudG90YWxSb3cucmRnRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19yYXBkZXBsX2dhZ2U7ICRzY29wZS50b3RhbFJvdy5yZGdMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3d0cmxldl9zZW5zb3I7ICRzY29wZS50b3RhbFJvdy53YXRlckRlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfd3RybGV2X3NlbnNvcjsgJHNjb3BlLnRvdGFsUm93LndhdGVyTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl93dl9zZW5zOyAkc2NvcGUudG90YWxSb3cud2F2ZURlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY193dl9zZW5zOyAkc2NvcGUudG90YWxSb3cud2F2ZUxvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3Rfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1BsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fYmFyb21ldHJpYzsgJHNjb3BlLnRvdGFsUm93LmJhcm9EZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfYmFyb21ldHJpYzsgJHNjb3BlLnRvdGFsUm93LmJhcm9Mb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fbWV0ZW9yb2xvZ2ljYWw7ICRzY29wZS50b3RhbFJvdy5tZXREZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfbWV0ZW9yb2xvZ2ljYWw7ICRzY29wZS50b3RhbFJvdy5tZXRMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5od21GbGFnICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5od21fZmxhZ2dlZDsgJHNjb3BlLnRvdGFsUm93Lmh3bUNvbCA9IHRoaXNSUE1vZGVsLnJlcG9ydC5od21fY29sbGVjdGVkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsLnB1c2godGhpc1JQTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGZvcmxvb3AgZm9yIFJlcG9ydE1vZGVsTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8yLiB0aGlzIEV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQgPSAkc2NvcGUuRXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRUeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChldCkgeyByZXR1cm4gZXQuZXZlbnRfdHlwZV9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRTdGF0ID0gJHNjb3BlLmV2ZW50U3RhdHMuZmlsdGVyKGZ1bmN0aW9uIChlcykgeyByZXR1cm4gZXMuZXZlbnRfc3RhdHVzX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfc3RhdHVzX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMy4gZXZlbnQgQ29vcmRpbmF0b3IgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50LmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IuYWdlbmN5X2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ01ldHJpY3NTdW1tYXJ5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNSZXBvcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlVG90YWxSb3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUudG90YWxSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoaXNSZXBvcnQnLCAndGhpc0V2ZW50JywgJ3RoZVRvdGFsUm93JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHRoaXNSZXBvcnQsIHRoaXNFdmVudCwgdGhlVG90YWxSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJlcG9ydCA9IHRoaXNSZXBvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFscyA9IHRoZVRvdGFsUm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdmFsaWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBEaXNwbGF5IENvbnRhY3RzIFN1bW1hcnksIHNob3cgY29udGVudCBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzcGxheUNvbnRhY3RzU3VtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IG1ldHJpY3Mgc3VtbWFyeSB0byBzaG93IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb250YWlucyB0aGUgc3RhdGVzIGNob3NlbiAgICAgJHNjb3BlLlN0YXRlbW9kZWwudmFsdWU7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2V2ZW50IGNob3NlbiAgICAkc2NvcGUuRXZlbnROYW1lWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2U3RyaW5nID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRGF0ZSA9ICRzY29wZS5mb3JtYXREYXRlKCRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydE1vZGVsID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGZpbHRlcmVkIHJlcG9ydHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0UmVwb3J0d2l0aENvbnRhY3RzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2lkLCBTdGF0ZXM6IGFiYnJldlN0cmluZywgRGF0ZTogdGhpc0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCByZXBvcnRzIGFuZCBnZXQgZWFjaCdzIGNvbnRhY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlc3VsdC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAucmVwSUQgPSByZXN1bHRbeF0ucmVwb3J0aW5nX21ldHJpY3NfaWQ7IHJlcC5TdGF0ZSA9IHJlc3VsdFt4XS5zdGF0ZTsgcmVwLnJlcG9ydF9kYXRlID0gcmVzdWx0W3hdLnJlcG9ydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXR0ZXIgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09IHJlc3VsdFt4XS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXR0ZXJBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSBzdWJtaXR0ZXIuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmZuYW1lID0gc3VibWl0dGVyLmZuYW1lOyBzdWIubG5hbWUgPSBzdWJtaXR0ZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmVtYWlsID0gc3VibWl0dGVyLmVtYWlsOyBzdWIucGhvbmUgPSBzdWJtaXR0ZXIucGhvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmFnZW5jeW5hbWUgPSBzdWJtaXR0ZXJBZ2VuY3kuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmFnZW5jeWFkZCA9IHN1Ym1pdHRlckFnZW5jeS5jaXR5ICsgXCIgXCIgKyBzdWJtaXR0ZXJBZ2VuY3kuc3RhdGUgKyBcIiBcIiArIHN1Ym1pdHRlckFnZW5jeS56aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLnN1Ym1pdHRlciA9IHN1YjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuZGVwQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkRlcGxveWVkIFN0YWZmXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5nZW5DID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiR2VuZXJhbFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuaW5sQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIklubGFuZCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuY29hc3RDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiQ29hc3RhbCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAud2F0ZXJDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiV2F0ZXIgUXVhbGl0eVwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0TW9kZWwucHVzaChyZXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3IgbG9vcCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgc2hvd01vZGFsKCk7IH0sIDMwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHNlbmQgaXQgYWxsIHRvIHRoZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdDb250YWN0TWV0cmljc1N1bW1hcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZXNlUmVwb3J0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUucmVwb3J0TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudCA9ICRzY29wZS5FdmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRUeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChldCkgeyByZXR1cm4gZXQuZXZlbnRfdHlwZV9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50U3RhdCA9ICRzY29wZS5ldmVudFN0YXRzLmZpbHRlcihmdW5jdGlvbiAoZXMpIHsgcmV0dXJuIGVzLmV2ZW50X3N0YXR1c19pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3N0YXR1c19pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8zLiBldmVudCBDb29yZGluYXRvciBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRodHRwJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoZXNlUmVwb3J0cycsICd0aGlzRXZlbnQnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsIHRoZXNlUmVwb3J0cywgdGhpc0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmVwb3J0cyA9IHRoZXNlUmVwb3J0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBpZiB2YWxpZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgZ2VuZXJhdGUgY3N2XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0Q1NWZmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCByZXBvcnRzIGFuZCBnaXZlIGEgY3N2IGZpbGUgYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAndGV4dC9jc3YnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0UmVwb3J0c0NTVih7IEV2ZW50OiAkc2NvcGUuZ2VuU3VtbWFyeS5ldmVudF9pZCwgU3RhdGVzOiAkc2NvcGUuU3RhdGVBYmJyZXZzLCBEYXRlOiAkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3IgPSBhbmd1bGFyLmVsZW1lbnQoJzxhLz4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqb2luZWRSZXNwb25zZSA9IHJlc3VsdC5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbam9pbmVkUmVzcG9uc2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9jc3YnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSBmaWxlVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmRvd25sb2FkID0gJ3JlcG9ydC5jc3YnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRmlsZS5zYXZlQXMoYmxvYiwgXCJyZXBvcnQuY3N2XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNzdjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGNzdjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Oy8vI2VuZHJlZ2lvbiBHZW5lcmF0ZSBSZXBvcnQgdGFiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuLy8jcmVnaW9uIFJlcG9ydGluZyBDb250cm9sbGVyXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdyZXBvcnRpbmdDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJ21lbWJlclJlcG9ydHMnLCAnYWxsRXZlbnRzJywgJ2FsbFN0YXRlcycsICdhbGxSZXBvcnRzJywgJ2FsbEV2ZW50VHlwZXMnLCAnYWxsRXZlbnRTdGF0dXMnLCAnYWxsQWdlbmNpZXMnLCAnU0VSVkVSX1VSTCcsICdSRVBPUlQnLCAnTUVNQkVSJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCBtZW1iZXJSZXBvcnRzLCBhbGxFdmVudHMsIGFsbFN0YXRlcywgYWxsUmVwb3J0cywgYWxsRXZlbnRUeXBlcywgYWxsRXZlbnRTdGF0dXMsIGFsbEFnZW5jaWVzLCBTRVJWRVJfVVJMLCBSRVBPUlQsIE1FTUJFUikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiUmVwb3J0aW5nXCI7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSBcInJlcG9ydFwiOyBcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBjaGFuZ2luZyB0YWJzIGhhbmRsZXIgLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybUlzUG9wdWxhdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChmcm9tU3RhdGUudXJsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJy9TdWJtaXRSZXBvcnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Jc1BvcHVsYXRlZCA9ICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJGRpcnR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1Jc1BvcHVsYXRlZCA9ICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuZXZlbnRfaWQuJHZpZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZvcm1Jc1BvcHVsYXRlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUlzUG9wdWxhdGVkKSB7IC8vaXMgZGlydHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3RvU3RhdGUubmFtZTogJyArIHRvU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdmcm9tU3RhdGUubmFtZTogJyArIGZyb21TdGF0ZS5uYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoZSBTdWJtaXQgUmVwb3J0IFRhYj8gQW55IHVuc2F2ZWQgaW5mb3JtYXRpb24gd2lsbCBiZSBsb3N0LlwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2dvIHRvOiAnICsgdG9TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzdGF5IGF0IHN0YXRlOiAnICsgZnJvbVN0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuJGFwcGx5KCk7Ly8gbG9hZGluZy4uLy8kKFwiLnBhZ2UtbG9hZGluZ1wiKS5hZGRDbGFzcyhcImhpZGRlblwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2V2ZW50LnN0b3BQcm9wYWdhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGNoYW5naW5nIHRhYnMgaGFuZGxlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICAgICAvL2Zvcm1hdCB0aGUgZGF0ZSBtbS9kZC95eXl5XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREdCA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtbSA9IGN1cnJlbnREdC5nZXRNb250aCgpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICBtbSA9IChtbSA8IDEwKSA/ICcwJyArIG1tIDogbW07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRkID0gY3VycmVudER0LmdldERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeXl5eSA9IGN1cnJlbnREdC5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlID0gbW0gKyAnLycgKyBkZCArICcvJyArIHl5eXk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBnbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9IHt9OyAkc2NvcGUuR2VuU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5JbmxhbmRTdGFmZiA9IHt9OyAkc2NvcGUuQ29hc3RTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLldhdGVyU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmVlZFRvQ29tcGxldGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJJbmNvbXBsZXRlcyA9IG1lbWJlclJlcG9ydHMuZmlsdGVyKGZ1bmN0aW9uIChpcikgeyByZXR1cm4gaXIuY29tcGxldGUgPT09IDA7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50cyA9IGFsbEV2ZW50cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBhbGxTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0cyA9IGFsbFJlcG9ydHM7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbiA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW1iZXJBZ2VuY3kgPSBhbGxBZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfbmFtZSA9IG1lbWJlckFnZW5jeS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWVtYmVyTG9nZ2VkSW4uYWdlbmN5X2FkZHJlc3MgPSBtZW1iZXJBZ2VuY3kuYWRkcmVzcyArIFwiLCBcIiArIG1lbWJlckFnZW5jeS5jaXR5ICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuc3RhdGUgKyBcIiBcIiArIG1lbWJlckFnZW5jeS56aXA7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVzID0gYWxsRXZlbnRUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRzID0gYWxsRXZlbnRTdGF0dXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGdsb2JhbCB2YXJzXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEdlbmVyYXRlIFJlcG9ydCB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5TdGF0ZW1vZGVsID0ge307Ly9iaW5kaW5nIHRvIHRoZSBzdGF0ZSBtdWx0aS1zZWxlY3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZW5TdW1tYXJ5ID0ge307Ly9iaW5kaW5nIGZvciB0aGUgZXZlbnQgY2hvc2VuLCBhbmQgZGF0ZSBjaG9zZW5cclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZFJlcG9ydHMgPSBbXTsgLy9yZXN1bHQgb2YgZmlsdGVyIG9wdGlvbnNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2VhY2ggb3B0aW9uIHRoZSBwb3B1bGF0ZSwgbmVlZCB0byBzaG93IHNlbGVjdGlvbiBpbiAnQ29uZmlybSBTZWxlY3Rpb25zJyBzZWN0aW9uIChkYXRlIHdvcmtzKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdlblJlcENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmdlblN1bW1hcnkuZXZlbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXMucHVzaChzdGF0ZS5zdGF0ZV9uYW1lKTsgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TdGF0ZU5hbWVzID0gbmFtZXMuam9pbignLCcpOyAkc2NvcGUuU3RhdGVBYmJyZXZzID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwgPSBbXTsgLy9ob2xkIGFsbCByZXBvcnRNb2RlbHMgZm9yICdEaXNwbGF5IE1ldHJpY3MgU3VtbWFyeSdcclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBEaXNwbGF5IE1ldHJpY3MgU3VtbWFyeSwgc2hvdyBjb250ZW50IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5TWV0cmljU3VtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBzY29wZXMgbmVlZGVkIGZvciB0aGlzIGFjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdyA9IHt9OyAvL21vZGVsIHRvIGhvbGQgdG90YWxzIGZvciB0YWJsZXMgbGFzdCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm5vdEFjY3RGb3JFbXBzID0gMDsgJHNjb3BlLnRvdGFsUm93LmN1bVBGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy55ZXNQRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cudG9kUEZpZWxkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy5jdW1QT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93Lnllc1BPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cudG9kUE9mZmljZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93LnRydWNrID0gMDsgJHNjb3BlLnRvdGFsUm93LmJvYXQgPSAwOyAkc2NvcGUudG90YWxSb3cub3RoZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmdhZ2VWaXNpdHMgPSAwOyAkc2NvcGUudG90YWxSb3cuZ2FnZXNEb3duID0gMDsgJHNjb3BlLnRvdGFsUm93LmRpc0N0b0RhdGUgPSAwOyAkc2NvcGUudG90YWxSb3cuZGlzQ1BsYW5uZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuQ2hlY2tNZWFzVG9EYXRlID0gMDsgJHNjb3BlLnRvdGFsUm93LkNoZWNrTWVhc1BsYW5uZWQgPSAwOyAkc2NvcGUudG90YWxSb3cuaW5kTWVhcyA9IDA7ICRzY29wZS50b3RhbFJvdy5yYXRFeHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucGVha3NPZlJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5RV0dhZ2VWaXMgPSAwOyAkc2NvcGUudG90YWxSb3cuY29udFFXR2FnZVZpcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jb250UVdHYWdlRG93biA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNRV1NhbXBsZXMgPSAwOyAkc2NvcGUudG90YWxSb3cuc2VkU2FtcGxlcyA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cucmRnUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ0xvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZUxvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1BsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb0RlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9Mb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cubWV0RGVwID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldFJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXRMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lmh3bUZsYWcgPSAwOyAkc2NvcGUudG90YWxSb3cuaHdtQ29sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHNjb3BlcyBuZWVkZWQgZm9yIHRoaXMgYWN0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBtZXRyaWNzIHN1bW1hcnkgdG8gc2hvdyBpbiBuZXcgdGFiICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldlN0cmluZyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RhdGUgPSAkc2NvcGUuZm9ybWF0RGF0ZSgkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vMS4gYWxsIHJlcG9ydHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldEZpbHRlcmVkUmVwb3J0cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9pZCwgU3RhdGVzOiBhYmJyZXZTdHJpbmcsIERhdGU6IHRoaXNEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCByZXBvcnQsIGdldCBhbGwgcmVwb3J0cyB3aXRoIHRoYXQgZXZlbnQgYW5kIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlc3VsdC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzUlBNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNSUE1vZGVsLnJlcG9ydCA9IHJlc3VsdFt4XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gdG90YWxzIGZvciB0b3RhbCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubm90QWNjdEZvckVtcHMgKz0gKHRoaXNSUE1vZGVsLnJlcG9ydC5zd19maWVsZHBlcnNfbm90YWNjdCArIHRoaXNSUE1vZGVsLnJlcG9ydC53cV9maWVsZHBlcnNfbm90YWNjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmN1bVBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9maWVsZHBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX2ZpZWxkcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy55ZXNQRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b2RQRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG13X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuY3VtUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9vZmZpY2VwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9vZmZpY2VwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRtd19vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy55ZXNQT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvZFBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5nYWdlVmlzaXRzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX3Zpc2l0OyAkc2NvcGUudG90YWxSb3cuZ2FnZXNEb3duICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX2Rvd247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc0N0b0RhdGUgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvdF9kaXNjaGFyZ2VfbWVhczsgJHNjb3BlLnRvdGFsUm93LmRpc0NQbGFubmVkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2Rpc2NoYXJnZV9tZWFzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaW5kTWVhcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9pbmRpcmVjdF9tZWFzOyAkc2NvcGUudG90YWxSb3cucmF0RXh0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yYXRpbmdfZXh0ZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5wZWFrc09mUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5nYWdlX3BlYWtfcmVjb3JkOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzUVdTYW1wbGVzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5xd19kaXNjcl9zYW1wbGVzOyAkc2NvcGUudG90YWxSb3cuc2VkU2FtcGxlcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuY29sbF9zZWRzYW1wbGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9yYXBkZXBsX2dhZ2U7ICRzY29wZS50b3RhbFJvdy5yZGdEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1JlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3JhcGRlcGxfZ2FnZTsgJHNjb3BlLnRvdGFsUm93LnJkZ0xvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fd3RybGV2X3NlbnNvcjsgJHNjb3BlLnRvdGFsUm93LndhdGVyRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY193dHJsZXZfc2Vuc29yOyAkc2NvcGUudG90YWxSb3cud2F0ZXJMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3d2X3NlbnM7ICRzY29wZS50b3RhbFJvdy53YXZlRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3d2X3NlbnM7ICRzY29wZS50b3RhbFJvdy53YXZlTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9iYXJvbWV0cmljOyAkc2NvcGUudG90YWxSb3cuYmFyb0RlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9SZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19iYXJvbWV0cmljOyAkc2NvcGUudG90YWxSb3cuYmFyb0xvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9tZXRlb3JvbG9naWNhbDsgJHNjb3BlLnRvdGFsUm93Lm1ldERlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19tZXRlb3JvbG9naWNhbDsgJHNjb3BlLnRvdGFsUm93Lm1ldExvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lmh3bUZsYWcgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmh3bV9mbGFnZ2VkOyAkc2NvcGUudG90YWxSb3cuaHdtQ29sID0gdGhpc1JQTW9kZWwucmVwb3J0Lmh3bV9jb2xsZWN0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwucHVzaCh0aGlzUlBNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9ybG9vcCBmb3IgUmVwb3J0TW9kZWxMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzIuIHRoaXMgRXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudCA9ICRzY29wZS5FdmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGV0KSB7IHJldHVybiBldC5ldmVudF90eXBlX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFN0YXQgPSAkc2NvcGUuZXZlbnRTdGF0cy5maWx0ZXIoZnVuY3Rpb24gKGVzKSB7IHJldHVybiBlcy5ldmVudF9zdGF0dXNfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8zLiBldmVudCBDb29yZGluYXRvciBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnTWV0cmljc1N1bW1hcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1JlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNFdmVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5HZW5SZXBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVUb3RhbFJvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS50b3RhbFJvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAndGhpc1JlcG9ydCcsICd0aGlzRXZlbnQnLCAndGhlVG90YWxSb3cnLCAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHRoaXNSZXBvcnQsIHRoaXNFdmVudCwgdGhlVG90YWxSb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJlcG9ydCA9IHRoaXNSZXBvcnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFscyA9IHRoZVRvdGFsUm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3RoaW5nICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NsaWNrZWQgRGlzcGxheSBDb250YWN0cyBTdW1tYXJ5LCBzaG93IGNvbnRlbnQgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc3BsYXlDb250YWN0c1N1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBtZXRyaWNzIHN1bW1hcnkgdG8gc2hvdyBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udGFpbnMgdGhlIHN0YXRlcyBjaG9zZW4gICAgICRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ldmVudCBjaG9zZW4gICAgJHNjb3BlLkV2ZW50TmFtZVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldlN0cmluZyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RhdGUgPSAkc2NvcGUuZm9ybWF0RGF0ZSgkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRNb2RlbCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FsbCBmaWx0ZXJlZCByZXBvcnRzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldFJlcG9ydHdpdGhDb250YWN0cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9pZCwgU3RhdGVzOiBhYmJyZXZTdHJpbmcsIERhdGU6IHRoaXNEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sb29wIHRocm91Z2ggcmVwb3J0cyBhbmQgZ2V0IGVhY2gncyBjb250YWN0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZXN1bHQubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLnJlcElEID0gcmVzdWx0W3hdLnJlcG9ydGluZ19tZXRyaWNzX2lkOyByZXAuU3RhdGUgPSByZXN1bHRbeF0uc3RhdGU7IHJlcC5yZXBvcnRfZGF0ZSA9IHJlc3VsdFt4XS5yZXBvcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWl0dGVyID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSByZXN1bHRbeF0ubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VibWl0dGVyQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gc3VibWl0dGVyLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5mbmFtZSA9IHN1Ym1pdHRlci5mbmFtZTsgc3ViLmxuYW1lID0gc3VibWl0dGVyLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5lbWFpbCA9IHN1Ym1pdHRlci5lbWFpbDsgc3ViLnBob25lID0gc3VibWl0dGVyLnBob25lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5hZ2VuY3luYW1lID0gc3VibWl0dGVyQWdlbmN5LmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Yi5hZ2VuY3lhZGQgPSBzdWJtaXR0ZXJBZ2VuY3kuY2l0eSArIFwiIFwiICsgc3VibWl0dGVyQWdlbmN5LnN0YXRlICsgXCIgXCIgKyBzdWJtaXR0ZXJBZ2VuY3kuemlwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5zdWJtaXR0ZXIgPSBzdWI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmRlcEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJEZXBsb3llZCBTdGFmZlwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuZ2VuQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkdlbmVyYWxcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmlubEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJJbmxhbmQgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmNvYXN0QyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkNvYXN0YWwgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLndhdGVyQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIldhdGVyIFF1YWxpdHlcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydE1vZGVsLnB1c2gocmVwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yIGxvb3AgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHNob3dNb2RhbCgpOyB9LCAzMDAwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBzZW5kIGl0IGFsbCB0byB0aGUgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaG93TW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQ29udGFjdE1ldHJpY3NTdW1tYXJ5Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVzZVJlcG9ydHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnJlcG9ydE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNFdmVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQgPSAkc2NvcGUuRXZlbnROYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50VHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZXQpIHsgcmV0dXJuIGV0LmV2ZW50X3R5cGVfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFN0YXQgPSAkc2NvcGUuZXZlbnRTdGF0cy5maWx0ZXIoZnVuY3Rpb24gKGVzKSB7IHJldHVybiBlcy5ldmVudF9zdGF0dXNfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMy4gZXZlbnQgQ29vcmRpbmF0b3IgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZEFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5HZW5SZXBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckaHR0cCcsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGVzZVJlcG9ydHMnLCAndGhpc0V2ZW50JywgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCB0aGVzZVJlcG9ydHMsIHRoaXNFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJlcG9ydHMgPSB0aGVzZVJlcG9ydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnQgPSB0aGlzRXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByaW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3RoaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBnZW5lcmF0ZSBjc3ZcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRDU1ZmaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IHJlcG9ydHMgYW5kIGdpdmUgYSBjc3YgZmlsZSBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICd0ZXh0L2Nzdic7XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0UmVwb3J0c0NTVih7IEV2ZW50OiAkc2NvcGUuZ2VuU3VtbWFyeS5ldmVudF9pZCwgU3RhdGVzOiAkc2NvcGUuU3RhdGVBYmJyZXZzLCBEYXRlOiAkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbmNob3IgPSBhbmd1bGFyLmVsZW1lbnQoJzxhLz4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBqb2luZWRSZXNwb25zZSA9IHJlc3VsdC5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGUgPSBuZXcgQmxvYihbam9pbmVkUmVzcG9uc2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9jc3YnIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVVUkwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmhyZWYgPSBmaWxlVVJMO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmRvd25sb2FkID0gJ3JlcG9ydC5jc3YnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5jaG9yLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vRmlsZS5zYXZlQXMoYmxvYiwgXCJyZXBvcnQuY3N2XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTsvLyNlbmRyZWdpb24gR2VuZXJhdGUgUmVwb3J0IHRhYlxyXG4gICAgICAgICAgICB9XHJcbiAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ1Byb2pBbGVydE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ1Byb2pBbGVydCcsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBQcm9qQWxlcnQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLlByb2pBbGVydFBhcnRzID0gUHJvakFsZXJ0O1xyXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG4vL3BvcHVwIGNvbmZpcm0gYm94XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2NvbmZpcm1SZXBvcnRNb2RhbEN0cmwnLCBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcigncGVha01vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnYWxsVmVydERhdHVtcycsICdhbGxDb2xsZWN0Q29uZGl0aW9ucycsICd0aGlzUGVhaycsICdwZWFrU2l0ZScsICdhbGxNZW1iZXJzJywgJ2FsbEV2ZW50SFdNcycsICdhbGxTaXRlU2Vuc29ycycsICdhbGxTaXRlRmlsZXMnLCAndGhpc1BlYWtERnMnLCAnREFUQV9GSUxFJywgJ1BFQUsnLCAnSFdNJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIGFsbFZlcnREYXR1bXMsIGFsbENvbGxlY3RDb25kaXRpb25zLCB0aGlzUGVhaywgcGVha1NpdGUsIGFsbE1lbWJlcnMsIGFsbEV2ZW50SFdNcywgYWxsU2l0ZVNlbnNvcnMsIGFsbFNpdGVGaWxlcywgdGhpc1BlYWtERnMsIERBVEFfRklMRSwgUEVBSywgSFdNKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtc0xpc3QgPSBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAkc2NvcGUudGhpc1NpdGUgPSBwZWFrU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QgPSBhbGxNZW1iZXJzO1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Sb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgLy9uZWVkIGEgZGF0YWZpbGUgZm9yIHRoaXMga2luZCBvZiBzZW5zb3IsIGNoZWNrIGZpbGVzIGZvciBwcmVzZW5jZSBvZiBkZiB0byBzZXQgZmxhZyBvbiBzZW5zb3JcclxuICAgICAgICAgICAgdmFyIGRldGVybWluZURGUHJlc2VudCA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGYubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZlt4XS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hZGQgc2VsZWN0ZWQgcHJvcCBub3cgZm9yIGRhdGEgZmlsZXMvc2Vuc29yIGZpbGVzIGZvciBsYXRlciB1c2VcclxuICAgICAgICAgICAgZm9yICh2YXIgc2YgPSAwOyBzZiA8IGFsbFNpdGVGaWxlcy5sZW5ndGg7IHNmKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChhbGxTaXRlRmlsZXNbc2ZdLmZpbGVCZWxvbmdzVG8gPT0gJ0RhdGFGaWxlIEZpbGUnIHx8IGFsbFNpdGVGaWxlc1tzZl0uZmlsZUJlbG9uZ3NUbyA9PSAnU2Vuc29yIEZpbGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzW3NmXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byBtYWtlIHN1cmUgdGhlIGluc3RydW1lbnRfc3RhdHVzZXMgYXJlIGluIHRoZSBjb3JyZWN0IG9yZGVyIChbMF1SZXRyaWV2ZWQsIFsxXURlcGxveWVkLCBbMl1Qcm9wb3NlZCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBhbGxTaXRlU2Vuc29ycy5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvcnJlY3RPcmRlclNTID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgc2Vuc29yU3RhdHVzZXMgPSBhbGxTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cztcclxuICAgICAgICAgICAgICAgIGlmIChzZW5zb3JTdGF0dXNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgYWJvdXQgb3JkZXIgaWYgdGhlcmUncyBtb3JlIHRoYW4gMVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiRGVwbG95ZWRcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldExvc3RTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiUmV0cmlldmVkXCIgfHwgcHMuc3RhdHVzID09IFwiTG9zdFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgdGhlbSBiYWNrIGluIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRMb3N0U3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChyZXRMb3N0U3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGxveWVkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChkZXBsb3llZFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NlZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocHJvcG9zZWRTdGF0KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29ycmVjdE9yZGVyU1MucHVzaChzZW5zb3JTdGF0dXNlc1swXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL25vdyBwdXQgaXQgYmFjayBpbiB0aGUgb2JqZWN0XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnNbc10uaW5zdHJ1bWVudF9zdGF0dXMgPSBjb3JyZWN0T3JkZXJTUztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZUhXTXMgPSBhbGxFdmVudEhXTXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLnNpdGVfaWQgPT0gcGVha1NpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlSFdNcywgZnVuY3Rpb24gKGVzaCkge1xyXG4gICAgICAgICAgICAgICAgZXNoLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBlc2guZmlsZXMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaHdtX2lkID09IGVzaC5od21faWQgJiYgc2YuZmlsZUJlbG9uZ3NUbyA9PSBcIkhXTSBGaWxlXCI7IH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzID0gYWxsU2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgfSk7IC8vbWF5YmUgZ28gZnJvbSBoZXJlIHRvIGdldCBhbGwgZGF0YWZpbGVzIGZvciBlYWNoIHNlbnNvclxyXG4gICAgICAgICAgICBmb3IgKHZhciBldlNpdGVTZW4gPSAwOyBldlNpdGVTZW4gPCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycy5sZW5ndGg7IGV2U2l0ZVNlbisrKSB7XHJcbiAgICAgICAgICAgICAgICAvL2FuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycywgZnVuY3Rpb24gKGVzcykge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgZXNzLlNlbnNvcl90eXBlID09IDIsIDUsIG9yIDYgLi4gYW5kIHRoZXJlIGFyZSBubyBmaWxlcy4uIHNob3cgcmVkICEgd2l0aCB0ZXh0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLkNvbGxlY3RDb25kaXRpb24gPSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RfY29sbGVjdGlvbl9pZCAhPT0gbnVsbCAmJiAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RfY29sbGVjdGlvbl9pZCA+IDAgP1xyXG4gICAgICAgICAgICAgICAgICAgIGFsbENvbGxlY3RDb25kaXRpb25zLmZpbHRlcihmdW5jdGlvbiAoY2MpIHsgcmV0dXJuIGNjLmlkID09ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdF9jb2xsZWN0aW9uX2lkOyB9KVswXS5jb25kaXRpb24gOlxyXG4gICAgICAgICAgICAgICAgICAgICcnO1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSBpZiB0aGlzIGlzIHJldHJpZXZlZCAoaWYgbm90LCBzaG93ICEgZm9yIHRoZW0gdG8gcmV0cmlldmUgaXQgaW4gb3JkZXIgdG8gY29tcGxldGUgdGhlIHBlYWtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaXNSZXRyaWV2ZWQgPSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RydW1lbnRfc3RhdHVzWzBdLnN0YXR1cyA9PSAnUmV0cmlldmVkJyA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaW5zdHJ1bWVudF9pZCA9PSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLmluc3RydW1lbnRfaWQgJiYgKHNmLmZpbGVCZWxvbmdzVG8gPT0gXCJEYXRhRmlsZSBGaWxlXCIgfHwgc2YuZmlsZUJlbG9uZ3NUbyA9PSBcIlNlbnNvciBGaWxlXCIpOyB9KTtcclxuICAgICAgICAgICAgICAgIC8vdmFyIGhhc0RGID0ge3ZhbHVlOnRydWV9OyAoMjogTWV0IFN0YXRpb24sIDU6IFJhcGlkIERlcGxveW1lbnQgR2FnZSwgNjogUmFpbiBHYWdlKVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uc2Vuc29yX3R5cGVfaWQgPT0gMiB8fCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLnNlbnNvcl90eXBlX2lkID09IDUgfHwgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5zZW5zb3JfdHlwZV9pZCA9PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMubGVuZ3RoID09PSAwKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLk5lZWRERiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZGV0ZXJtaW5lREZQcmVzZW50KCRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uZmlsZXMpKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLk5lZWRERiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXMgaXMgYSBkYXRhZmlsZSByZXF1aXJpbmcgc2Vuc29yXHJcbiAgICAgICAgICAgIH0vLyk7XHJcblxyXG5cclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNpdGVGaWxlc0ZvclNlbnNvcnMgPSBhbGxTaXRlRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmluc3RydW1lbnRfaWQgIT09IG51bGwgJiYgZi5pbnN0cnVtZW50X2lkID4gMDsgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgJHNjb3BlLkxvZ2dlZEluTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvc2VuSFdNTGlzdCA9IFtdOy8vaG9sZGVyIG9mIGNob3NlbiBod21zIGZvciB0aGlzIHBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0ID0gW107IC8vaG9sZGVyIGZvciByZW1vdmVkIG9uZXMgZm9yIFBVVCAoaWYgdGhpcyBpcyBlZGl0KVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvc2VuREZMaXN0ID0gW107IC8vaG9sZGVyIGZvciBjaG9zZW4gZGF0YWZpbGUgZm9yIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdCA9IFtdOyAvL2hvbGRlciBmb3IgcmVtb3ZlZCBvbmVzIGZvciBQVVQgKGlmIHRoaXMgaXMgZWRpdClcclxuICAgICAgICAgICAgJHNjb3BlLmh3bURldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBod20gYm94IG9mIGh3bSBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS5IV01Cb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gaHdtIGRldGFpbCBib3hcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBzZW5zb3IgYm94IG9mIHNlbnNvciBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS5TZW5zb3JCb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gdGhlIHNlbnNvciBkZXRhaWwgYm94XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhRmlsZURldGFpbCA9IGZhbHNlOyAvL3Nob3cvaGlkZSBkYXRhZmlsZSBib3ggb2YgZGF0YWZpbGUgZGV0YWlsc1xyXG4gICAgICAgICAgICAkc2NvcGUuREZCb3ggPSB7fTsgLy9ob2xkcyBiaW5kaW5nIGZvciB3aGF0IHRvIHNob3cgaW4gdGhlIGRhdGFmaWxlIGRldGFpbCBib3hcclxuICAgICAgICAgICAgJHNjb3BlLmFQZWFrID0ge307XHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGluZyBkYXRlIGFuZCB0aW1lIHByb3Blcmx5IGZvciBjaHJvbWUgYW5kIGZmXHJcbiAgICAgICAgICAgIHZhciBnZXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhID0gZC5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9IGQuc3Vic3RyKDExLCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWMgPSBkLnN1YnN0cigxNywgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGRhLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2dldCB0aW1lem9uZSBhbmQgdGltZXN0YW1wIGZvciB0aGVpciB0aW1lem9uZSBmb3Igc2hvd2luZy4uIHBvc3QvcHV0IHdpbGwgY29udmVydCBpdCB0byB1dGNcclxuICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kVGhpcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoZC50b1N0cmluZygpKS5zdWJzdHJpbmcoMzUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvZmZzZXQuc3Vic3RyKDAsIDMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFYXNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW91XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBhY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXHJcbiAgICAgICAgICAgICAgICBzaG93V2Vla3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2lzIGl0IFVUQyBvciBsb2NhbCB0aW1lLi5tYWtlIHN1cmUgaXQgc3RheXMgVVRDXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFQZWFrLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZSkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNQZWFrICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIFBFQUtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hUGVhayA9IGFuZ3VsYXIuY29weSh0aGlzUGVhayk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0geyBkYXRlOiBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hUGVhay5wZWFrX2RhdGUpLCB0aW1lOiBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5hUGVhay5wZWFrX2RhdGUpIH07XHJcbiAgICAgICAgICAgICAgICAvL2dldCBwZWFrIGNyZWF0b3IgbmFtZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlBlYWtDcmVhdG9yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5hUGVhay5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBvZmYgdGhvc2UgaHdtcyB1c2VkIGZvciB0aGlzIHBlYWtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgJHNjb3BlLmV2ZW50U2l0ZUhXTXMubGVuZ3RoOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2ZW50U2l0ZUhXTXNbaF0ucGVha19zdW1tYXJ5X2lkID09ICRzY29wZS5hUGVhay5wZWFrX3N1bW1hcnlfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVIV01zW2hdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgb2ZmIHRob3NlIGh3bXMgdXNlZCBmb3IgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIGV2ZW50U2l0ZVNlbnNvci4uIGZvciBlYWNoIGZpbGUgd2l0aGluIGVhY2ggc2Vuc29yLi4uIGlmIGRhdGFGaWxlSUQgPT0gYW55IG9mIHRoZSBwZWFrREZzIGRhdGFmaWxlSUQgPT09PT4gbWFrZSB0aGF0IGZpbGUuc2VsZWN0ZWQgPXRydWVcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGVzcyA9IDA7IGVzcyA8ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzLmxlbmd0aDsgZXNzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIGV2ZW50U2l0ZVNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc3NJID0gZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRmID0gMDsgZGYgPCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tlc3NJXS5maWxlcy5sZW5ndGg7IGRmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBmaWxlIHdpdGhpbiB0aGlzIGV2ZW50U2l0ZVNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNUaGVyZSA9IHRoaXNQZWFrREZzLmZpbHRlcihmdW5jdGlvbiAocGRmKSB7IHJldHVybiBwZGYuZGF0YV9maWxlX2lkID09ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2Vzc0ldLmZpbGVzW2RmXS5kYXRhX2ZpbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNUaGVyZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tlc3NJXS5maWxlc1tkZl0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBleGlzdGluZyBQRUFLXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbmV3IFBFQUtcclxuICAgICAgICAgICAgICAgIHZhciB0aW1lUGFydHMgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsgPSB7IHBlYWtfZGF0ZTogeyBkYXRlOiB0aW1lUGFydHNbMF0sIHRpbWU6IHRpbWVQYXJ0c1swXSB9LCB0aW1lX3pvbmU6IHRpbWVQYXJ0c1sxXSwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUGVha0NyZWF0b3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG5ldyBQRUFLXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBmaWxlIGltYWdlIGFzIGEgcHJldmlld1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIGh3bSBsaXN0IHN0dWZmXHJcbiAgICAgICAgICAgIHZhciBmb3JtYXRTZWxlY3RlZEhXTSA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmh3bSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5hcHByb3ZhbF9pZCA9IGguYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9sYWJlbCA9IGguaHdtX2xhYmVsO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5iYW5rID0gaC5iYW5rO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5lbGV2X2Z0ID0gaC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5ldmVudF9pZCA9IGguZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmZsYWdfZGF0ZSA9IGguZmxhZ19kYXRlO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5mbGFnX21lbWJlcl9pZCA9IGguZmxhZ19tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmhjb2xsZWN0X21ldGhvZF9pZCA9IGguaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5oZGF0dW1faWQgPSBoLmhkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uaGVpZ2h0X2Fib3ZlX2duZCA9IGguaGVpZ2h0X2Fib3ZlX2duZDtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX2Vudmlyb25tZW50ID0gaC5od21fZW52aXJvbm1lbnQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9pZCA9IGguaHdtX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9IGguaHdtX2xvY2F0aW9uZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9ub3RlcyA9IGguaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fdW5jZXJ0YWludHkgPSBoLmh3bV91bmNlcnRhaW50eTtcclxuICAgICAgICAgICAgICAgIGZod20udW5jZXJ0YWludHkgPSBoLnVuY2VydGFpbnR5O1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fcXVhbGl0eV9pZCA9IGguaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV90eXBlX2lkID0gaC5od21fdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20ubGF0aXR1ZGVfZGQgPSBoLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5sb25naXR1ZGVfZGQgPSBoLmxvbmdpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgIGZod20ubWFya2VyX2lkID0gaC5tYXJrZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnBlYWtfc3VtbWFyeV9pZCA9IGgucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zaXRlX2lkID0gaC5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zdGlsbHdhdGVyID0gaC5zdGlsbHdhdGVyID09IFwiTm9cIiA/IDAgOiAxO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5zdXJ2ZXlfZGF0ZSA9IGguc3VydmV5X2RhdGU7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnN1cnZleV9tZW1iZXJfaWQgPSBoLnN1cnZleV9tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnZjb2xsZWN0X21ldGhvZF9pZCA9IGgudmNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS52ZGF0dW1faWQgPSBoLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20ud2F0ZXJib2R5ID0gaC53YXRlcmJvZHk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmh3bTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hZGQgb3IgcmVtb3ZlIGEgaHdtIGZyb20gdGhlIGxpc3Qgb2YgY2hvc2VuIGh3bXMgZm9yIGRldGVybWluaW5nIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRkSFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhSFdNID0gZm9ybWF0U2VsZWN0ZWRIV00oaCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0LnB1c2goYUhXTSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVBlYWsucGVha19zdW1tYXJ5X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lZGl0Li4gbmVlZCB0byBzdG9yZSByZW1vdmVkIG9uZXMgZm9yIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3QucHVzaChkYXRhRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hvc2VuSFdNTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuY2hvc2VuSFdNTGlzdC5tYXAoZnVuY3Rpb24gKGh3bSkgeyByZXR1cm4gaHdtLmh3bV9pZDsgfSkuaW5kZXhPZihhSFdNLmh3bV9pZCk7IC8vbm90IHdvcmtpbmc6OiAkc2NvcGUuY2hvc2VuSFdNTGlzdC5pbmRleE9mKGFIV00pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuSFdNTGlzdC5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgd2FudCB0byBzZWUgdGhlIGRldGFpbHMgb2YgdGhlIGh3bSwgb3Igbm90IHNlZSBpdCBhbnltb3JlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SFdNRGV0YWlscyA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRGV0YWlsID0gdHJ1ZTsgJHNjb3BlLnNlbnNvckRldGFpbCA9IGZhbHNlOyAkc2NvcGUuZGF0YUZpbGVEZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5IV01Cb3ggPSBoO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy91c2UgdGhpcyBod20gdG8gcG9wdWxhdGUgcGVhayBwYXJ0cyAocHJpbWFyeSBod20gZm9yIGRldGVybWluaW5nIHBlYWspXHJcbiAgICAgICAgICAgICRzY29wZS5wcmltYXJ5SFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXRQcmltSFdNID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2V0IGFzIFByaW1hcnk8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzZXQgdGhpcyBhcyB0aGUgUHJpbWFyeSBIV00/IERvaW5nIHNvIHdpbGwgcG9wdWxhdGUgdGhlIFBlYWsgRGF0ZSAobm90IGluY2x1ZGluZyB0aW1lKSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgQWJvdmUgR3JvdW5kLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlNldEl0KClcIj5TZXQgYXMgUHJpbWFyeTwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TZXRJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdZZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFByaW1IV00ucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNldEl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldEl0ID09ICdZZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZSA9IG5ldyBEYXRlKGguZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfc3RhZ2UgPSBoLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay52ZGF0dW1faWQgPSBoLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLmhlaWdodF9hYm92ZV9nbmQgPSBoLmhlaWdodF9hYm92ZV9nbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoSW5kZXggPSAkc2NvcGUuZXZlbnRTaXRlSFdNcy5pbmRleE9mKGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTaXRlSFdNc1toSW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2xvc2VEZXRhaWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7ICRzY29wZS5od21EZXRhaWwgPSBmYWxzZTsgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gc2Vuc29yIGxpc3Qgc3R1ZmZcclxuICAgICAgICAgICAgLy9hZGQgb3IgcmVtb3ZlIGEgc2Vuc29yIGZyb20gdGhlIGxpc3Qgb2YgY2hvc2VuIHNlbnNvciBmb3IgZGV0ZXJtaW5pbmcgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5hZGREYXRhRmlsZSA9IGZ1bmN0aW9uIChkYXRhZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZGF0YWZpbGUuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YUZpbGUgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YWZpbGUuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdC5wdXNoKGRhdGFGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXQuLiBuZWVkIHRvIHN0b3JlIHJlbW92ZWQgb25lcyBmb3IgUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdC5wdXNoKGRhdGFGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNob3NlbkRGTGlzdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLmNob3NlbkRGTGlzdC5tYXAoZnVuY3Rpb24gKGRmKSB7IHJldHVybiBkZi5kYXRhX2ZpbGVfaWQ7IH0pLmluZGV4T2YoZGF0YWZpbGUuZGF0YV9maWxlX2lkKTsgLy9ub3Qgd29ya2luZzo6ICRzY29wZS5jaG9zZW5ERkxpc3QuaW5kZXhPZihzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5ERkxpc3Quc3BsaWNlKGluZCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIHNlZSB0aGUgZGV0YWlscyBvZiB0aGUgc2Vuc29yLCBvciBub3Qgc2VlIGl0IGFueW1vcmVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTZW5zb3JEZXRhaWxzID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JEZXRhaWwgPSB0cnVlOyAkc2NvcGUuaHdtRGV0YWlsID0gZmFsc2U7ICRzY29wZS5kYXRhRmlsZURldGFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNlbnNvckJveCA9IHM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIHNlZSB0aGUgZGV0YWlscyBvZiB0aGUgZGF0YWZpbGUsIG9yIG5vdCBzZWUgaXQgYW55bW9yZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0RhdGFGaWxlRGV0YWlscyA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZi5kYXRhX2ZpbGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveC5maWxlUGF0aCA9IGYucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREZCb3guZmlsZUlEID0gZi5maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveC5maWxlRGVzYyA9IGYuZGVzY3JpcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LnByb2Nlc3NlZEJ5ID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09IHJlc3BvbnNlLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94Lm53aXNGaWxlID0gZi5pc19ud2lzID09IDEgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LmZpbGVVUkwgPSBmLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gdHJ1ZTsgJHNjb3BlLmh3bURldGFpbCA9IGZhbHNlOyAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3VzZSB0aGlzIGh3bSB0byBwb3B1bGF0ZSBwZWFrIHBhcnRzIChwcmltYXJ5IHNlbnNvciBmb3IgZGV0ZXJtaW5pbmcgcGVhaylcclxuICAgICAgICAgICAgLyonPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2V0IHRoaXMgYXMgdGhlIFByaW1hcnkgRGF0YSBmaWxlPyBEb2luZyBzbyB3aWxsIHBvcHVsYXRlIHRoZSBQZWFrIERhdGUsIFRpbWUgYW5kIHRpbWUgem9uZSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgQWJvdmUgR3JvdW5kLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJTZXRJdCgpXCI+U2V0IGFzIFByaW1hcnk8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsKi9cclxuICAgICAgICAgICAgJHNjb3BlLnByaW1hcnlEYXRhRmlsZSA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2V0UHJpbWVERiA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlNldCBhcyBQcmltYXJ5PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gc2V0IHRoaXMgYXMgdGhlIFByaW1hcnkgRGF0YSBmaWxlPzwvcD48cD4oQ29taW5nIHNvb246IFNjcmlwdCBwcm9jZXNzaW5nIHRvIHBvcHVsYXRlIHRoZSBQZWFrIGRhdGUsIHRpbWUgYW5kIHRpbWUgem9uZSwgU3RhZ2UsIFZlcnRpY2FsIERhdHVtIGFuZCBIZWlnaHQgYWJvdmUgZ3JvdW5kKTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlNldEl0KClcIj5TZXQgYXMgUHJpbWFyeTwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TZXRJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdZZXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFByaW1lREYucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNldEl0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldEl0ID09ICdZZXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlID0gaC5mbGFnX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnBlYWtfc3RhZ2UgPSBoLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLnZkYXR1bV9pZCA9IGgudmRhdHVtX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFQZWFrLmhlaWdodF9hYm92ZV9nbmQgPSBoLmhlaWdodF9hYm92ZV9nbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zID0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLmluc3RydW1lbnRfaWQgPT0gZi5pbnN0cnVtZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJbmRleCA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSW5kZXggPSBzZW5zLmZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW3NJbmRleF0uZmlsZXNbZkluZGV4XS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgLy9zYXZlIFBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVQZWFrID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFBlYWsgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RnVsbFllYXIoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldE1vbnRoKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRIb3VycygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0TWludXRlcygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0U2Vjb25kcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoKTsgLy9VVEMgb3IgbG9jYWw/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgUEVBSy51cGRhdGUoeyBpZDogJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZCB9LCAkc2NvcGUuYVBlYWspLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGh3bXMvZGF0YWZpbGVzIHVzZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZW1vdmUgdGhvc2UgdW5jaG9zZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlbWQgPSAwOyByZW1kIDwgJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3QubGVuZ3RoOyByZW1kKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdFtyZW1kXS5wZWFrX3N1bW1hcnlfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3RbcmVtZF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0W3JlbWRdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlbWggPSAwOyByZW1oIDwgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0Lmxlbmd0aDsgcmVtaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0W3JlbWhdLnBlYWtfc3VtbWFyeV9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3RbcmVtaF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5yZW1vdmVkQ2hvc2VuSFdNTGlzdFtyZW1oXSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhvc2UgY2hvc2VuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFkZGggPSAwOyBhZGRoIDwgJHNjb3BlLmNob3NlbkhXTUxpc3QubGVuZ3RoOyBhZGRoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0W2FkZGhdLnBlYWtfc3VtbWFyeV9pZCA9IHJlc3BvbnNlLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogJHNjb3BlLmNob3NlbkhXTUxpc3RbYWRkaF0uaHdtX2lkIH0sICRzY29wZS5jaG9zZW5IV01MaXN0W2FkZGhdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3JlYWNoIGh3bSBzYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFkZGQgPSAwOyBhZGRkIDwgJHNjb3BlLmNob3NlbkRGTGlzdC5sZW5ndGg7IGFkZGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdFthZGRkXS5wZWFrX3N1bW1hcnlfaWQgPSByZXNwb25zZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5jaG9zZW5ERkxpc3RbYWRkZF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5jaG9zZW5ERkxpc3RbYWRkZF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGZvcmVhY2ggaHdtIHNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQZWFrIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRQZWFrID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFt1cGRhdGVkUGVhaywgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kYXRhIGZpbGUgSUQgdG8gZ2V0IGRmIGFuZCByZW1vdmUgcGVha2lkIGZvciBwZWFrRGVsZXRlXHJcbiAgICAgICAgICAgIHZhciB1cGRhdGVERndvUGVha0lEID0gZnVuY3Rpb24gKGRmX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBpdCwgY2hhbmdlIHBlYWsgaWQsIHB1dCBpdCBiYWNrXHJcbiAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZGZfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICByZXMucGVha19zdW1tYXJ5X2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6IHJlcy5kYXRhX2ZpbGVfaWQgfSwgcmVzKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2RlbGV0ZSBQZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVQZWFrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlbGV0ZVBlYWtNZGwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgUGVhazwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIFBlYWs/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiT2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGVQZWFrTWRsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVha0lEID0gJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RnVsbFllYXIoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldE1vbnRoKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRIb3VycygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0TWludXRlcygpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0U2Vjb25kcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHBlYWsgYW5kIHRoZW4gUFVUIGFsbCBod20gYW5kIGRmIHRoYXQgaGF2ZSBwZWFrSURcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFBFQUsuZGVsZXRlKHsgaWQ6ICRzY29wZS5hUGVhay5wZWFrX3N1bW1hcnlfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMgZm9yIGVhY2ggZmlsZXMgaWYgZmlsZS5zZWxlY3RlZCA9PSB0cnVlLi4gUFVUIGFuZCByZW1vdmUgUEVBS0lEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzUyA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZiA9IDA7IGYgPCB0aGlzUy5maWxlcy5sZW5ndGg7IGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRiA9IHRoaXNTLmZpbGVzW2ZdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzRi5zZWxlY3RlZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlREZ3b1BlYWtJRCh0aGlzRi5kYXRhX2ZpbGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggJHNjb3BlLmV2ZW50U2l0ZUhXTXMgaWYgaC5zZWxlY3RlZCA9PSB0cnVlLi4gUFVUIGFuZCByZW1vdmUgUEVBS0lEIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAkc2NvcGUuZXZlbnRTaXRlSFdNcy5sZW5ndGg7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNIID0gJHNjb3BlLmV2ZW50U2l0ZUhXTXNbaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc0guc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBwZWFrSUQgYW5kIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNILnBlYWtfc3VtbWFyeV9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVRoaXNIV00gPSBmb3JtYXRTZWxlY3RlZEhXTSh0aGlzSCk7IC8vbmVlZCB0byBmb3JtYXQgaXQgdG8gcmVtb3ZlIGFsbCB0aGUgc2l0ZSBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogdGhpc0guaHdtX2lkIH0sIHVwZGF0ZVRoaXNIV00pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlBlYWsgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NyZWF0ZSBQZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVQZWFrID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2ZpcnN0IGRldGVybWluZSB0aGF0IHRoZXkgZGlkIGNob29vc2UgYSBod20gb3IgZGF0YSBmaWxlIGZvciBpbnRlcnByZXRhdG9pblxyXG4gICAgICAgICAgICAgICAgdmFyIGlzSHdtQ2hlY2tlZCA9IGZhbHNlOyB2YXIgaXNERkNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZXZlbnRTaXRlSFdNcywgZnVuY3Rpb24gKHNod20pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2h3bS5zZWxlY3RlZCkgaXNId21DaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzLCBmdW5jdGlvbiAoc3Nlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGZJID0gMDsgZkkgPCBzc2VuLmZpbGVzLmxlbmd0aDsgZkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3Nlbi5maWxlc1tmSV0uc2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzREZDaGVja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZJID0gc3Nlbi5maWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0h3bUNoZWNrZWQgfHwgaXNERkNoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2hvc2Ugb25lLCBidXQgaXMgaXQgdmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRQZWFrID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0IHRvIGNvbWJpbmUgdGhlIGRhdGUgYW5kIHRpbWUgYmFjayB0b2dldGhlciBpbnRvIDEgZGF0ZSBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGV0aW1lID0gbmV3IERhdGUoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldEZ1bGxZZWFyKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXRNb250aCgpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldEhvdXJzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRNaW51dGVzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRTZWNvbmRzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlID0gZGF0ZXRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCk7IC8vVVRDIG9yIGxvY2FsP1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFBFQUsuc2F2ZSgkc2NvcGUuYVBlYWspLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkUGVhayA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGNob3NlbiBod21zL2RhdGEgZmlsZXMgd2l0aCBwZWFrIGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8ICRzY29wZS5jaG9zZW5IV01MaXN0Lmxlbmd0aDsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkhXTUxpc3RbaF0ucGVha19zdW1tYXJ5X2lkID0gcmVzcG9uc2UucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogJHNjb3BlLmNob3NlbkhXTUxpc3RbaF0uaHdtX2lkIH0sICRzY29wZS5jaG9zZW5IV01MaXN0W2hdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yZWFjaCBod20gc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZCA9IDA7IGQgPCAkc2NvcGUuY2hvc2VuREZMaXN0Lmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdFtkXS5wZWFrX3N1bW1hcnlfaWQgPSByZXNwb25zZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuY2hvc2VuREZMaXN0W2RdLmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuY2hvc2VuREZMaXN0W2RdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yZWFjaCBod20gc2F2ZVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUGVhayBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRQZWFrLCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25vIGRhdGEgZmlsZSBvciBod20gY2hlY2tlZCBhcyB1c2VkLCBzaG93IG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldE9uZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgY2hvb3NlIGF0IGxlYXN0IG9uZSBIV00gb3IgRGF0YSBGaWxlIHRvIHVzZSBmb3IgaW50ZXJwcmV0YXRpb24gZm9yIHRoaXMgUGVhayBTdW1tYXJ5LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbmNvbXBsZXRlREZJbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY29tcGxldGVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkluY29tcGxldGUgRGF0YSBGaWxlPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BbGwgUkRHcywgTWV0IFN0YXRpb24sIGFuZCBSYWluIEdhZ2Ugc2Vuc29ycyByZXF1aXJlIGRhdGEgZmlsZSBpbmZvcm1hdGlvbiBpbiBvcmRlciB0byB1c2UgYXMgcHJpbWFyeSBpbiB0aGUgUGVhayBzdW1tYXJ5LjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIHJldmlzaXQgdGhlIFJldHJpZXZlZCBTZW5zb3IgYW5kIGNsaWNrIG9uIE5XSVMgRGF0YSBDb25uZWN0aW9uIHRvIGFkZCBhIGxpbmsgdG8gdGhlIE5XSVMgZGF0YSBpZiB5b3Ugd2FudCB0byB1c2UgYXMgcHJpbWFyeS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0luY29tcGxldGVIV01JbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluY29tcGxldGVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkluY29tcGxldGUgSFdNPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5TdXJ2ZXkgZGF0ZSBhbmQgZWxldmF0aW9uIGFyZSByZXF1aXJlZCBpbiBvcmRlciB0byB1c2UgYXMgcHJpbWFyeSBpbiB0aGUgUGVhayBzdW1tYXJ5LjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIHJldmlzaXQgdGhlIEhXTSBhbmQgYWRkIFN1cnZleSBkYXRlIGFuZCBlbGV2YXRpb24gaWYgeW91IHdhbnQgdG8gdXNlIGFzIHByaW1hcnkuPC9wPjxwPlRoZSBIV00gY2FuIGJlIHVzZWQgZm9yIGludGVycHJlYXRpb24gd2l0aG91dGggYSBmaW5hbCBlbGV2YXRpb24uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiT2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dSZXRyaWV2ZUluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZ29SZXRyaWV2ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RGVwbG95ZWQgU2Vuc29yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIHNlbm9zciBuZWVkcyB0byBiZSByZXRyaWV2ZWQgYmVmb3JlIGEgUGVhayBjYW4gYmUgY3JlYXRlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICB9XSk7IC8vZW5kIEhXTVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdwZWFrQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICckdGltZW91dCcsICd0aGlzU2l0ZScsICdTaXRlX0ZpbGVzJywgJ3RoaXNTaXRlUGVha3MnLCAnYWxsVmVydERhdHVtcycsICdhbGxIV01RdWFsaXRpZXMnLCAnYWxsSFdNVHlwZXMnLCAnUEVBSycsICdIV00nLCAnTUVNQkVSJywgJ1NJVEUnLCdJTlNUX0NPTExfQ09ORElUSU9OJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCB0aGlzU2l0ZSwgU2l0ZV9GaWxlcywgdGhpc1NpdGVQZWFrcywgYWxsVmVydERhdHVtcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxIV01UeXBlcywgUEVBSywgSFdNLCBNRU1CRVIsIFNJVEUsSU5TVF9DT0xMX0NPTkRJVElPTikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlUGVha3MubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzID0gdGhpc1NpdGVQZWFrcztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2ZvciB0aGlzIHRvIHdvcmssIEknZCBuZWVkIHRvIGJyaW5nIGluIEhXTXMgYW5kIERhdGEgRmlsZXModGhyb3VnaCBzZW5zb3JzIHNpbmNlIHRoYXQgaG9sZHMgZXZlbnQpIGZvciB0aGlzIGV2ZW50IGFuZCBmaWx0ZXIgYmFzZWQgb24gdGhvc2UgLi4gb3IganVzdCBhZGQgZXZlbnRpZCB0byBwZWFrXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzID0gdGhpc1NpdGVQZWFrcy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuZXZlbnRfbmFtZSA9PSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZWFrQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZVBlYWtzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlUGVha3MgPSB0aGlzU2l0ZVBlYWtzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVha0NvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVQZWFrcy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS9lZGl0IGEgcGVhayBcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UGVha01vZGFsID0gZnVuY3Rpb24gKHBlYWtDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8gJChcIi5wYWdlLWxvYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVBlYWtzLmluZGV4T2YocGVha0NsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdQRUFLbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwZWFrTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvbGxlY3RDb25kaXRpb25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOU1RfQ09MTF9DT05ESVRJT04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydERhdHVtczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNQZWFrOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlYWtDbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLnF1ZXJ5KHsgaWQ6IHBlYWtDbGlja2VkLnBlYWtfc3VtbWFyeV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgeyByZXR1cm4gXCJlbXB0eVwiOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWtERnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVha0NsaWNrZWQgIT09IDApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUEVBSy5nZXRQZWFrU3VtbWFyeURGcyh7aWQ6IHBlYWtDbGlja2VkLnBlYWtfc3VtbWFyeV9pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWFrU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudEhXTXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNLmdldEZpbHRlcmVkSFdNcyh7IEV2ZW50OiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIEV2ZW50U3RhdHVzOiAwIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVGaWxlczogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlU2Vuc29ycyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRQZWFrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgUGVhayxlZGl0ZWQgcGVhayBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFBlYWtbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzLnB1c2goY3JlYXRlZFBlYWtbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlUGVha3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkUGVha1sxXSA9PSAndXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVQZWFrc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZFBlYWtbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRQZWFrWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVQZWFrcy5zcGxpY2UoaW5kZXhDbGlja2VkLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZWFrQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVBlYWtzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBzaG93SFdNTW9kYWwgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ09QbW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckc2NlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnU2l0ZV9GaWxlcycsICdhbGxEcm9wZG93bnMnLCAndGhpc09QJywgJ3RoaXNPUENvbnRyb2xzJywgJ29wU2l0ZScsICdhZ2VuY3lMaXN0JywgJ2FsbE1lbWJlcnMnLCAnT0JKRUNUSVZFX1BPSU5UJywgJ09QX0NPTlRST0xfSURFTlRJRklFUicsICdPUF9NRUFTVVJFJywgJ1NPVVJDRScsICdGSUxFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICRzY2UsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIEZJTEVfU1RBTVAsIFNpdGVfRmlsZXMsIGFsbERyb3Bkb3ducywgdGhpc09QLCB0aGlzT1BDb250cm9scywgb3BTaXRlLCBhZ2VuY3lMaXN0LCBhbGxNZW1iZXJzLCBPQkpFQ1RJVkVfUE9JTlQsIE9QX0NPTlRST0xfSURFTlRJRklFUiwgT1BfTUVBU1VSRSwgU09VUkNFLCBGSUxFKSB7XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdHMgZm9yIHJhZGlvIGJ1dHRvbnNcclxuICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBPUHZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICAgXHJcbiAgICAgICAgICAgICRzY29wZS5kbCA9IHsgZGxPcGVuOiB0cnVlLCBkbEZpbGVPcGVuOiBmYWxzZSB9Oy8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAkc2NvcGUuT1BUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhETGlzdCA9IGFsbERyb3Bkb3duc1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhDb2xsZWN0TWV0aG9kTGlzdCA9IGFsbERyb3Bkb3duc1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLlZEYXR1bUxpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5WQ29sbGVjdE1ldGhvZExpc3QgPSBhbGxEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS5PUFF1YWxpdHlMaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzZdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBPUCBmaWxlICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5odG1sRGVzY3JpcHRpb25UaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdQbGVhc2UgZGVzY3JpYmUgbG9jYXRpb24gYW5kIHR5cGUgb2YgbWFyayA8ZW0+aWUuIFxcJ2NoaXNlbGVkIHNxdWFyZSBvbiB0aGlyZCBzaWRld2FsayBibG9jayBvbiB0aGUgc291dGggc2lkZSBvZiB0aGUgc3RyZWV0XFwnPC9lbT4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICAgXHJcbiAgICAgICAgICAgICRzY29wZS5PUCA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkgPSBbXTsgLy9ob2xkZXIgaWYgdGhleSByZW1vdmUgYW55IE9QIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICRzY29wZS50aGlzT1BzaXRlID0gb3BTaXRlOyAvL3RoaXMgT1AncyBTSVRFXHJcbiAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gZmFsc2U7IC8vaW5pdGlhbGx5IGhpZGUgdGhlIGFyZWEgY29udGFpbmluZyBhZGRlZCBjb250cm9sIElkZW50aWZpZXJzXHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTsgLy9vYmplY3QgZm9yIERlZyBNaW4gU2VjIHZhbHVlc1xyXG4gICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMgPSB0aGlzT1AgIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2Yub2JqZWN0aXZlX3BvaW50X2lkID09IHRoaXNPUC5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pIDogW107Ly8gb3BGaWxlczsgLy9ob2xkZXIgZm9yIG9wIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5vcEltYWdlRmlsZXMgPSAkc2NvcGUuT1BGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKG9wZikgeyByZXR1cm4gb3BmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIG9wXHJcbiAgICAgICAgICAgIC8vbWFrZSB1bmNlcnRhaW50eSBjbGVhcmVkIGFuZCBkaXNhYmxlZCB3aGVuICd1bnF1YW50aWZpZWQnIGlzIGNoZWNrZWRcclxuICAgICAgICAgICAgJHNjb3BlLlVucXVhbnRDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5vcENvcHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3BDb3B5LnVucXVhbnRpZmllZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LnVuY2VydGFpbnR5ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hRmlsZS5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6ICRzY29wZS5hRmlsZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6ICRzY29wZS5hRmlsZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6ICRzY29wZS5hRmlsZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogJHNjb3BlLmFGaWxlLmlzX253aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdGl2ZV9wb2ludF9pZDogJHNjb3BlLmFGaWxlLm9iamVjdGl2ZV9wb2ludF9pZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgb3BcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7ICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vT1Agd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBvcCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLk9QRmlsZXMuaW5kZXhPZihmaWxlKTsgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLm9wSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLm9wSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmdldEZpbGVJdGVtKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHJlc3BvbnNlLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgYWdlbmN5IG5hbWUgdG8gcGhvdG8gY2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGV4aXN0aW5nIGZpbGVcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpOyAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBmaXJzdCB0byBnZXQgc291cmNlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLmFnZW5jeV9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgU09VUkNFLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzT1BzaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuT1Aub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTsgLy9ob3BlZnVsbHkgdXBkYXRlIHRoZSBmaWxlcyBpbiB0aGUgY2Fyb3VzZWwgPz8/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLm9wSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuZGF0YWZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEZJTEUgU1RVRkZcclxuXHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXNPUCAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcE1vZGFsSGVhZGVyID0gXCJEYXR1bSBMb2NhdGlvbiBJbmZvcm1hdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdE9QID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIE9QXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AgPSBhbmd1bGFyLmNvcHkodGhpc09QKTsgLy9zZXQgYSBjb3B5IHNvIGxpc3QgdmlldyBkb2VzbnQgY2hhbmdlIGlmIHRoZXkgY2FuY2VsIGZyb20gaGVyZSBhZnRlciBtYWtpbmcgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgLy9mb3JtYXR0ZWQgYXMgZGF0ZSBmb3IgZGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQgPSBtYWtlQWRhdGUoJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQpO1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBpZiB2ZGF0dW1faWQgPT0gMCwgaWYgc28gbWFrZSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AudmRhdHVtX2lkID09PSAwKSBkZWxldGUgJHNjb3BlLk9QLnZkYXR1bV9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzT1BDb250cm9scy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMgPSB0aGlzT1BDb250cm9scztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5vcFR5cGUgPSAkc2NvcGUuT1Aub3BfdHlwZV9pZCA+IDAgPyAkc2NvcGUuT1BUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQub2JqZWN0aXZlX3BvaW50X3R5cGVfaWQgPT0gJHNjb3BlLk9QLm9wX3R5cGVfaWQ7IH0pWzBdLm9wX3R5cGUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5xdWFsaXR5ID0gJHNjb3BlLk9QLm9wX3F1YWxpdHlfaWQgPiAwID8gJHNjb3BlLk9QUXVhbGl0eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChxKSB7IHJldHVybiBxLm9wX3F1YWxpdHlfaWQgPT0gJHNjb3BlLk9QLm9wX3F1YWxpdHlfaWQ7IH0pWzBdLnF1YWxpdHkgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5oZGF0dW0gPSAkc2NvcGUuT1AuaGRhdHVtX2lkID4gMCA/ICRzY29wZS5IRExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLk9QLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhDb2xsZWN0TWV0aG9kID0gJHNjb3BlLk9QLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuSENvbGxlY3RNZXRob2RMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuT1AuaGNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS5oY29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC52RGF0dW0gPSAkc2NvcGUuT1AudmRhdHVtX2lkID4gMCA/ICRzY29wZS5WRGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09ICRzY29wZS5PUC52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC52Q29sbGVjdE1ldGhvZCA9ICRzY29wZS5PUC52Y29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLlZDb2xsZWN0TWV0aG9kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZjKSB7IHJldHVybiB2Yy52Y29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLk9QLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogJyc7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wTW9kYWxIZWFkZXIgPSBcIkNyZWF0ZSBuZXcgRGF0dW0gTG9jYXRpb25cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRPUCA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIG5ldyBPUCBcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IG9wU2l0ZS5sYXRpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSBvcFNpdGUubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhkYXR1bV9pZCA9IG9wU2l0ZS5oZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICAvL2RlZmF1bHQgdG9kYXkgZm9yIGVzdGFibGlzZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfZXN0YWJsaXNoZWQgPSBtYWtlQWRhdGUoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9kZWZhdWx0IHJhZGlvcyAoaGFzIHRvIGNvbWUgYWZ0ZXIgT1AgaXMgc2V0IG9uZSB3YXkgb3IgYW5vdGhlcilcclxuICAgICAgICAgICAgJHNjb3BlLk9QLmRlY0RlZ09SZG1zID0gJ2RkJztcclxuICAgICAgICAgICAgJHNjb3BlLk9QLkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICRzY29wZS5PUC5GVG9yQ00gPSAnZnQnO1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBpZGVudGlmaWVyXHJcbiAgICAgICAgICAgICRzY29wZS5hZGROZXdJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVPUmVkaXRPUCA9PSAnZWRpdCcpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5LnB1c2goeyBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWQsIGlkZW50aWZpZXI6IFwiXCIsIGlkZW50aWZpZXJfdHlwZTogXCJcIiB9KTtcclxuICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5wdXNoKHsgaWRlbnRpZmllcjogXCJcIiwgaWRlbnRpZmllcl90eXBlOiBcIlwiIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAvL2xhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlZyBtaW4gc2VjIHRvIGRlYyBkZWdyZWVzXHJcbiAgICAgICAgICAgIHZhciBhemltdXRoID0gZnVuY3Rpb24gKGRlZywgbWluLCBzZWMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhemkgPSAwO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBhemkgPSAtMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0xLjAgKiBhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhemkgPSAxLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlYyBkZWdyZWVzIHRvIGRtc1xyXG4gICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKG1pbmZsb2F0KTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jcmVhdGVPUmVkaXRPUCA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuZGVjRGVnT1JkbXMgPSBcImRtc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVNhcnJheSA9IGxvbmdETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gbG9uZ0RNU2FycmF5WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDsgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AuZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNkZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNU2RkTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYWRETVNhcnJheSA9IGNyZWF0ZV9sYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBjcmVhdGVfbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gY3JlYXRlX2xhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGNyZWF0ZV9sYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5PUC5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sb25nRE1TYXJyYXkgPSBjcmVhdGVfbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBjcmVhdGVfbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7ICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2p1c3QgbmVlZCBhbiBPQkpFQ1RJVkVfUE9JTlQgb2JqZWN0IHRvIHBvc3QvcHV0XHJcbiAgICAgICAgICAgIHZhciB0cmltT1AgPSBmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICAgICAgICAgIHZhciBPQkpfUFQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogb3AubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogb3AuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgZWxldl9mdDogb3AuZWxldl9mdCAhPT0gdW5kZWZpbmVkID8gb3AuZWxldl9mdCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZV9lc3RhYmxpc2hlZDogb3AuZGF0ZV9lc3RhYmxpc2hlZCxcclxuICAgICAgICAgICAgICAgICAgICBvcF9pc19kZXN0cm95ZWQ6IG9wLm9wX2lzX2Rlc3Ryb3llZCAhPT0gdW5kZWZpbmVkID8gb3Aub3BfaXNfZGVzdHJveWVkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcF9ub3Rlczogb3Aub3Bfbm90ZXMgIT09IHVuZGVmaW5lZCA/IG9wLm9wX25vdGVzIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc09Qc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZkYXR1bV9pZDogb3AudmRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyBvcC52ZGF0dW1faWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiBvcC5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IG9wLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBoZGF0dW1faWQ6IG9wLmhkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gb3AuaGRhdHVtX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBoY29sbGVjdF9tZXRob2RfaWQ6IG9wLmhjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AuaGNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICB2Y29sbGVjdF9tZXRob2RfaWQ6IG9wLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcF90eXBlX2lkOiBvcC5vcF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGVfcmVjb3ZlcmVkOiBvcC5kYXRlX3JlY292ZXJlZCAhPT0gdW5kZWZpbmVkID8gb3AuZGF0ZV9yZWNvdmVyZWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuY2VydGFpbnR5OiBvcC51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkICYmIG9wLnVuY2VydGFpbnR5ICE9PSBcIlwiID8gb3AudW5jZXJ0YWludHkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHVucXVhbnRpZmllZDogb3AudW5xdWFudGlmaWVkICE9PSB1bmRlZmluZWQgPyBvcC51bnF1YW50aWZpZWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wX3F1YWxpdHlfaWQ6IG9wLm9wX3F1YWxpdHlfaWQgIT09IHVuZGVmaW5lZCA/IG9wLm9wX3F1YWxpdHlfaWQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBPQkpfUFQ7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8vICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2ZpeCBkZWZhdWx0IHJhZGlvcyBhbmQgbGF0L2xvbmdcclxuICAgICAgICAgICAgdmFyIGZvcm1hdERlZmF1bHRzID0gZnVuY3Rpb24gKHRoZU9QLCBmcm9tV2hlcmUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmcm9tV2hlcmUgPT0gXCJjcmVhdGVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JNRVRFUiBuZWVkcyB0byBiZSAnZnQnLiBpZiAnbWV0ZXInID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvck1FVEVSID09IFwibWV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmVsZXZfZnQgPSAkc2NvcGUuT1AuZWxldl9mdCAqIDMuMjgwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvckNNIG5lZWRzIHRvIGJlICdmdCcuIGlmICdjbScgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AudW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5PUC51bmNlcnRhaW50eSAvIDMwLjQ4KS50b0ZpeGVkKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5kZWNEZWdPUmRtcyBuZWVkcyB0byBiZSAnZGQnLiBpZiAnZG1zJyA9PWNvbnZlcnQgJHNjb3BlLkRNUyB2YWx1ZXMgdG8gZGRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuZGVjRGVnT1JkbXMgPT0gXCJkbXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1Auc2l0ZV9pZCA9ICRzY29wZS50aGlzT1BzaXRlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmVsZXZfZnQgPSAkc2NvcGUub3BDb3B5LmVsZXZfZnQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkudW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5vcENvcHkudW5jZXJ0YWludHkgLyAzMC40OCkudG9GaXhlZCg2KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuZGVjRGVnT1JkbXMgbmVlZHMgdG8gYmUgJ2RkJy4gaWYgJ2RtcycgPT1jb252ZXJ0ICRzY29wZS5ETVMgdmFsdWVzIHRvIGRkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLmRlY0RlZ09SZG1zID09IFwiZG1zXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5zaXRlX2lkID0gJHNjb3BlLnRoaXNPUHNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL0NyZWF0ZSB0aGlzIE9QXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5PUEZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGVmYXVsdHMoJHNjb3BlLk9QLCAnY3JlYXRlJyk7IC8vJHNjb3BlLk9QLkZUb3JNRVRFUiwgRlRvckNNLCBkZWNEZWdPUmRtcyAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuT1AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5PUC5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuT1AubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPUHRvUE9TVCA9IHRyaW1PUCgkc2NvcGUuT1ApOyAvL21ha2UgaXQgYW4gT0JKRUNUSVZFX1BPSU5UIGZvciBzYXZpbmcgICAgICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULnNhdmUoT1B0b1BPU1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPUCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZWFjaCBvbmUgVEhJUyBXSUxMIENIQU5HRSBTT09OIFRPIEhBVkUgb2JqZWN0aXZlX3BvaW50X2lkIGFscmVhZHkgYWRkZWQgYW5kIG5vdCBzZW50IGFsb25nIHdpdGggaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvcGMgPSAwOyBvcGMgPCAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGg7IG9wYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzT25lID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNbb3BjXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09uZS5vYmplY3RpdmVfcG9pbnRfaWQgPSByZXNwb25zZS5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5zYXZlKHRoaXNPbmUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkT1AsICdjcmVhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgbGF0L2xvbmcgaXMgZ29vZFxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9OyAvL2VuZCBDcmVhdGVcclxuXHJcbiAgICAgICAgICAgIC8vWCB3YXMgY2xpY2tlZCBuZXh0IHRvIGV4aXN0aW5nIENvbnRyb2wgSWRlbnRpZmllciB0byBoYXZlIGl0IHJlbW92ZWQsIHN0b3JlIGluIHJlbW92ZSBhcnJheSBmb3IgU2F2ZSgpXHJcbiAgICAgICAgICAgICRzY29wZS5SZW1vdmVJRCA9IGZ1bmN0aW9uIChvcENvbnRyb2wpIHtcclxuICAgICAgICAgICAgICAgIC8vb25seSBhZGQgdG8gcmVtb3ZlIGxpc3QgaWYgaXQncyBhbiBleGlzdGluZyBvbmUgdG8gREVMRVRFXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29udHJvbC5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkucHVzaChvcENvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHkuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBjcmVhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2kgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGNpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vU2F2ZSB0aGlzIE9QXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUncyBhbiBvcF9jb250cm9sX2lkZW50aWZpZXJfaWQsIFBVVCAuLiBlbHNlIFBPU1RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZzogUFVUdmFyIGluZCA9ICRzY29wZS5jaG9zZW5IV01MaXN0Lm1hcChmdW5jdGlvbiAoaHdtKSB7IHJldHVybiBod20uaHdtX2lkOyB9KS5pbmRleE9mKGFIV00uaHdtX2lkKTsgLy9ub3Qgd29ya2luZzo6ICRzY29wZS5jaG9zZW5IV01MaXN0LmluZGV4T2YoYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGlzdEluZGV4ID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZDsgfSkuaW5kZXhPZigkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHlbaV0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkIH0sICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzW2V4aXN0SW5kZXhdID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNvbnRyb2wgaWRlbnRpZmllcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZWFjaCBvbmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNPUENvbnRyb2xJRCA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbElELm9iamVjdGl2ZV9wb2ludF9pZCA9ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5zYXZlKHRoaXNPUENvbnRyb2xJRCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIGFkZGVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyBhZGRlZGlkZW50aWZpZXJzXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXJlJ3MgYW55IGluIHJlbW92ZU9QQ2FycmF5LCBERUxFVEUgdGhvc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZW1vdmVPUENhcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8ICRzY29wZS5yZW1vdmVPUENhcnJheS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZUluZGV4ID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubWFwKGZ1bmN0aW9uIChyaSkgeyByZXR1cm4gcmkub3BfY29udHJvbF9pZGVudGlmaWVyX2lkOyB9KS5pbmRleE9mKCRzY29wZS5yZW1vdmVPUENhcnJheVtyXS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX0NPTlRST0xfSURFTlRJRklFUi5kZWxldGUoeyBpZDogJHNjb3BlLnJlbW92ZU9QQ2FycmF5W3JdLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGRlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9yZWFjaCByZW1vdmVPUENhcnJheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyByZW1vdmVPUENzXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvb2sgYXQgT1AuRlRvck1FVEVSIChcImZ0XCIpLCBPUC5GVG9yQ00gKFwiZnRcIiksIGFuZCBPUC5kZWNEZWdPUmRtcyAoXCJkZFwiKSwgbWFrZSBzdXJlIHNpdGVfSUQgaXMgb24gdGhlcmUgYW5kIHNlbmQgaXQgdG8gdHJpbSBiZWZvcmUgUFVUICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUub3BDb3B5LCAnZWRpdCcpOyAvLyRzY29wZS5PUC5GVG9yTUVURVIsIEZUb3JDTSwgZGVjRGVnT1JkbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE9QdG9QT1NUID0gdHJpbU9QKCRzY29wZS5vcENvcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUHRvUE9TVC5vYmplY3RpdmVfcG9pbnRfaWQgPSAkc2NvcGUub3BDb3B5Lm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1IVFRQLU1ldGhvZC1PdmVycmlkZSddID0gJ1BVVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC51cGRhdGUoeyBpZDogT1B0b1BPU1Qub2JqZWN0aXZlX3BvaW50X2lkIH0sIE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AgPSByZXNwb25zZTsgdGhpc09QID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLm9wVHlwZSA9ICRzY29wZS5PUC5vcF90eXBlX2lkID4gMCA/ICRzY29wZS5PUFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5vYmplY3RpdmVfcG9pbnRfdHlwZV9pZCA9PSAkc2NvcGUuT1Aub3BfdHlwZV9pZDsgfSlbMF0ub3BfdHlwZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnF1YWxpdHkgPSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZCA+IDAgPyAkc2NvcGUuT1BRdWFsaXR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHEpIHsgcmV0dXJuIHEub3BfcXVhbGl0eV9pZCA9PSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZDsgfSlbMF0ucXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhkYXR1bSA9ICRzY29wZS5PUC5oZGF0dW1faWQgPiAwID8gJHNjb3BlLkhETGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuT1AuaGRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuaENvbGxlY3RNZXRob2QgPSAkc2NvcGUuT1AuaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5IQ29sbGVjdE1ldGhvZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5PUC5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZEYXR1bSA9ICRzY29wZS5PUC52ZGF0dW1faWQgPiAwID8gJHNjb3BlLlZEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLk9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLk9QLnZjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuVkNvbGxlY3RNZXRob2RMaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuT1AudmNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS52Y29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weSA9IFtdOyAkc2NvcGUudmlldy5PUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgbGF0L2xvbmcgYXJlIGdvb2RcclxuICAgICAgICAgICAgICAgIH0vLyBlbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsgLy9lbmQgU2F2ZVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBPUCBmcm9tIHRoZSBTSVRFXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVPUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0RGF0dW1Mb2NhdGlvbk9QTWVhc3VyZXMoeyBvYmplY3RpdmVQb2ludElkOiAkc2NvcGUuT1Aub2JqZWN0aXZlX3BvaW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3BPblRhcGVkb3duTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkNhbm5vdCBEZWxldGU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBEYXR1bSBMb2NhdGlvbiBpcyBiZWluZyB1c2VkIGZvciBvbmUgb3IgbW9yZSBzZW5zb3IgdGFwZSBkb3ducy4gUGxlYXNlIGRlbGV0ZSB0aGUgdGFwZSBkb3duIGJlZm9yZSBkZWxldGluZyB0aGUgZGF0dW0gbG9jYXRpb24uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ubyB0YXBlZG93bnMsIHByb2NlZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5PUDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiT2JqZWN0aXZlIFBvaW50XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAob3BUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULmRlbGV0ZSh7IGlkOiBvcFRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCB9LCBvcFRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBod21GaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BJbWFnZUZpbGVzID0gW107IC8vY2xlYXIgb3V0IGltYWdlIGZpbGVzIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHJlbW92ZSBhbGwgdGhlc2UgZmlsZXMgZnJvbSBTaXRlRmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hbGxTRmlsZXNbbF0ub2JqZWN0aXZlX3BvaW50X2lkID09IG9wVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtcImRlXCIsICdkZWxldGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGVsc2UgKHByb2NlZWQgd2l0aCBkZWxldGUpXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXR1bSBsb2NhdGlvbiBtZWFzdXJlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXR1bSBsb2NhdGlvbiBtZWFzdXJlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7IC8vZW5kIGdldCBvcG1lYXN1cmVtZW50c1xyXG4gICAgICAgICAgICB9OyAvL2VuZCBkZWxldGVcclxuXHJcbiAgICAgICAgICAgIC8vbGF0IG1vZGFsIFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxhdE1vZGFsID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgTGF0aXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDczLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxhdE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZG1zJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGRlZ3JlZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnIDwgMCB8fCAkc2NvcGUuRE1TLkxBRGVnID4gNzMgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpICYmICRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCkgfHwgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpICYmICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykpICRzY29wZS5ETVMuTEFEZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBTWluKSkgJHNjb3BlLkRNUy5MQU1pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpKSAkc2NvcGUuRE1TLkxBU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyA8IC0xNzUgfHwgJHNjb3BlLkRNUy5MT0RlZyA+IC02MCB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykgJiYgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykpICRzY29wZS5ETVMuTE9EZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPTWluKSkgJHNjb3BlLkRNUy5MT01pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9TZWMpKSAkc2NvcGUuRE1TLkxPU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wID0gJHNjb3BlLnZpZXcuT1B2YWwgPT0gJ2VkaXQnID8gJHNjb3BlLm9wQ29weSA6ICRzY29wZS5PUDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3AubGF0aXR1ZGVfZGQgPCAwIHx8IG9wLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4ob3AubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihvcC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcC5sb25naXR1ZGVfZGQgPCAtMTc1IHx8IG9wLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTihvcC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4ob3AubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgaHdtIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0T1AgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5PUHZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLk9QKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuZGVjRGVnT1JkbXMgPSAnZGQnOyAkc2NvcGUub3BDb3B5LkZUb3JNRVRFUiA9ICdmdCc7ICRzY29wZS5vcENvcHkuRlRvckNNID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYWRkZWRJZGVudGlmaWVycyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxPUEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5PUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weSA9IFtdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcblxyXG4gICAgICAgIH1dKTsvL2VuZCBPUG1vZGFsQ3RybFxyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignb2JqZWN0aXZlUG9pbnRDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ09CSkVDVElWRV9QT0lOVCcsICdNRU1CRVInLCAnU0lURScsICd0aGlzU2l0ZScsICd0aGlzU2l0ZU9QcycsICdhbGxPUFR5cGVzJywgJ2FsbEhvckRhdHVtcycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgJ2FsbE9QUXVhbGl0aWVzJywgJ2FsbEZpbGVUeXBlcycsICdhbGxBZ2VuY2llcycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkdGltZW91dCwgT0JKRUNUSVZFX1BPSU5ULCBNRU1CRVIsIFNJVEUsIHRoaXNTaXRlLCB0aGlzU2l0ZU9QcywgYWxsT1BUeXBlcywgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCBhbGxGaWxlVHlwZXMsIGFsbEFnZW5jaWVzKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlT1BzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMgPSB0aGlzU2l0ZU9QcztcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd09QTW9kYWwgPSBmdW5jdGlvbiAoT1BjbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAob2Z0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgb2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdOR1MgRGF0YXNoZWV0JyB8fCBvZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXNzQWxsTGlzdHMgPSBbYWxsT1BUeXBlcywgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCAkc2NvcGUub3BGaWxlVHlwZXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybCA6ICdPUG1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnT1Btb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhc3NBbGxMaXN0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT1A6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT1BjbGlja2VkICE9PSAwID8gT1BjbGlja2VkOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoT1BjbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPQkpFQ1RJVkVfUE9JTlQuZ2V0T1BDb250cm9scyh7aWQ6IE9QY2xpY2tlZC5vYmplY3RpdmVfcG9pbnRfaWR9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZE9QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgb3Agb3IganVzdCBjbG9zZWQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IGZhbHNlIH07IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZE9QICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkT1BbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMucHVzaChjcmVhdGVkT1BbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRPUFsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGZyb20gZWRpdCAtLSByZWZyZXNoIHBhZ2U/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaUNsaWNrZWQgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHNbaUNsaWNrZWRdID0gY3JlYXRlZE9QO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkT1BbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZDEgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5pbmRleE9mKE9QY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVPYmplY3RpdmVQb2ludHMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignbWVtYmVyTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWwnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJGZpbHRlcicsICckc2NlJywgJ3JvbGVMaXN0JywgJ2FnZW5jeUxpc3QnLCAndGhpc01lbWJlcicsICdNRU1CRVInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJGZpbHRlciwgJHNjZSwgcm9sZUxpc3QsIGFnZW5jeUxpc3QsIHRoaXNNZW1iZXIsIE1FTUJFUikge1xyXG4gICAgICAgICAgICAvL2FsbCB0aGluZ3MgYm90aCBuZXcgYW5kIGV4aXN0aW5nIG1lbWJlciBwYWdlIHdpbGwgbmVlZFxyXG4gICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHt9OyAvL2hvbGRlciBmb3IgbWVtYmVyIChlaXRoZXIgY29taW5nIGluIGZvciBlZGl0LCBvciBiZWluZyBjcmVhdGVkIGZvciBwb3N0XHJcbiAgICAgICAgICAgICRzY29wZS5tYXRjaGluZ1VzZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJuYW1lVG9vbHRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ0FjdGl2ZSBEaXJlY3RvcnkgdXNlciBJRC4gaWU6IFxcJ21wZXBwbGVyXFwnIG5vdCBcXCdtcGVwcGxlckB1c2dzLmdvdlxcJy4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3QgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUucGFzcyA9IHtcclxuICAgICAgICAgICAgICAgIG5ld1A6ICcnLFxyXG4gICAgICAgICAgICAgICAgY29uZmlybVA6ICcnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5uZXdQYXNzID0gXCJcIjtcclxuICAgICAgICAgICAgLy9wb3B1bGF0ZSByb2xlcyBiYXNlZCBvbiB3aG8ncyBsb2dnZWQgaW5cclxuICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluVXNlciA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Vc2VyLk5hbWUgPSAkY29va2llcy5nZXQoJ3VzZXJzTmFtZScpOyAvL1VzZXIncyBOQU1FXHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblVzZXIuSUQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Vc2VyLlJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG5cclxuICAgICAgICAgICAgLy9wb3B1bGF0ZSByb2xlIGxpc3QgYmFzZWQgb24gd2hvJ3MgbG9nZ2VkIGluIChhZG1pbiBjYW4gYXNzaWduIG1hbmFnZXIgb3IgZmllbGQsIG1hbmFnZXIgY2FuIG9ubHkgYXNzaWduIGZpZWxkXHJcbiAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLmxvZ2dlZEluVXNlci5Sb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBZG1pbic6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJvbGVMaXN0ID0gcm9sZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPD0gMzsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNYW5hZ2VyJzpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucm9sZUxpc3QgPSByb2xlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIucm9sZV9pZCA9PSAzOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2lzIHRoaXMgY3JlYXRpbmcgbmV3IG1lbWJlciBvciBlZGl0aW5nIGV4aXN0aW5nP1xyXG4gICAgICAgICAgICBpZiAodGhpc01lbWJlciAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgdG8gc2VlIGlmIHRoZSBhY2N0IFVzZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHVzZXIgdGhleSBhcmUgbG9va2luZyBhdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoaW5nVXNlcnMgPSB0aGlzTWVtYmVyLm1lbWJlcl9pZCA9PSAkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0gYW5ndWxhci5jb3B5KHRoaXNNZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIuUm9sZSA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09ICRzY29wZS5hTWVtYmVyLnJvbGVfaWQ7IH0pWzBdLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL3Bhc3N3b3JkIHVwZGF0ZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlTXlQYXNzQnRuID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID09PSBmYWxzZSA/ICRzY29wZS5jaGFuZ2VQYXNzID0gdHJ1ZSA6ICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRG9udENoYW5nZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZXZlcm1pbmQsICBjbGVhciBpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IC8vZW5kIGV4aXN0aW5nIG1tZWJlciBlZGl0XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9uZXcgbWVtYmVyIGJlaW5nIGNyZWF0ZWQuLiBcclxuICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0ge307XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG9ubHkgMSBpbiB0aGUgcm9sZUxpc3QsIHRoZW4gdGhpcyBtZW1iZXIgaXMgYSBmaWVsZCBwZXJzb25cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucm9sZUxpc3QubGVuZ3RoID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIucm9sZV9pZCA9ICRzY29wZS5yb2xlTGlzdFswXS5yb2xlX2lkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyLnBhc3N3b3JkID0gYnRvYSgkc2NvcGUucGFzcy5jb25maXJtUCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRNZW1iZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBNRU1CRVIuc2F2ZSgkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1lbWJlciBDcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggdGhpcyBuZXcgbWVtYmVyIGludG8gdGhlIG1lbWJlckxpc3QgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE1lbWJlciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHJlc3BvbnNlLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkTWVtYmVyLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkTWVtYmVyLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLm1lbWJlckxpc3QucHVzaChubSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZE1lbWJlciwgJ2NyZWF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9OyAvLyBlbmQgY3JlYXRlKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRNZW1iZXIgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFNZW1iZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgcGFzcyBhbG9uZyB0aGUgcGFzc3dvcmQgaWYgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXNzLm5ld1AgIT09IFwiXCIpIGZvcm1hdHRlZE1lbWJlci5wYXNzd29yZCA9IGJ0b2EoJHNjb3BlLnBhc3MubmV3UCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLnBhc3N3b3JkOyBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLnNhbHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkTWVtYmVyID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIERhdGUucHJvdG90eXBlLmFkZEhvdXJzID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRIb3Vycyh0aGlzLmdldEhvdXJzKCkgKyBoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZm9ybWF0dGVkTWVtYmVyLlJvbGU7IGRlbGV0ZSBmb3JtYXR0ZWRNZW1iZXIuQWdlbmN5O1xyXG4gICAgICAgICAgICAgICAgICAgIE1FTUJFUi51cGRhdGUoeyBpZDogZm9ybWF0dGVkTWVtYmVyLm1lbWJlcl9pZCB9LCBmb3JtYXR0ZWRNZW1iZXIsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZE1lbWJlciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHJlc3BvbnNlLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkTWVtYmVyLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkTWVtYmVyLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIHRoaXMgaXMgdGhlIG1lbWJlciBsb2dnZWQgaW4gYW5kIHRoZXkgY2hhbmdlZCB0aGVpciBwYXNzd29yZCBhbmQgdXBkYXRlIHRoZSBjb29raWVzIGlmIHNvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID09IHJlc3BvbnNlLm1lbWJlcl9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXNzLm5ld1AgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGV5IGNoYW5nZWQgdGhlaXIgcGFzc3dvcmQgLy8gbm8gd2F5IHRvIGRvIHRoaXMgaWYgdGhleSBvbmx5IGNoYW5nZSB0aGVpciB1c2VybmFtZSBhbmQgbm90IHRoZWlyIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVuYyA9IGJ0b2EodXBkYXRlZE1lbWJlci51c2VybmFtZS5jb25jYXQoXCI6XCIsICRzY29wZS5wYXNzLm5ld1ApKTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZURhdGUgPSBuZXcgRGF0ZSgpLmFkZEhvdXJzKDgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU1ROQ3JlZHMnLCBlbmMsIHsgZXhwaXJlczogZXhwaXJlRGF0ZSB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsIHVwZGF0ZWRNZW1iZXIudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzTkFNRSA9IHVwZGF0ZWRNZW1iZXIuZm5hbWUgKyBcIiBcIiArIHVwZGF0ZWRNZW1iZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ3VzZXJzTmFtZScsIHVzZXJzTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNZW1iZXIgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRNZW1iZXIsICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCByZXF1aXJlZCBmaWVsZHMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgU2F2ZVxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgJHNjb3BlLkRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uIChtZW0pIHtcclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk1lbWJlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChtZW1Ub1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBNRU1CRVIuZGVsZXRlTWVtYmVyKHsgaWQ6IG1lbVRvUmVtb3ZlLm1lbWJlcl9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIERlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkgeyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShbXCJkZVwiLCAnZGVsZXRlZCddKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgLy9jYW5jZWwgbW9kYWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcignbWVtYmVySW5mb0N0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRzdGF0ZVBhcmFtcycsICckZmlsdGVyJywgJyRzY2UnLCAnYWxsUm9sZXMnLCAnTUVNQkVSJywgJ3RoaXNNZW1iZXInLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCAkc3RhdGVQYXJhbXMsICRmaWx0ZXIsICRzY2UsIGFsbFJvbGVzLCBNRU1CRVIsIHRoaXNNZW1iZXIpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vYWxsIHRoaW5ncyBib3RoIG5ldyBhbmQgZXhpc3RpbmcgbWVtYmVyIHBhZ2Ugd2lsbCBuZWVkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHt9OyAvL2hvbGRlciBmb3IgbWVtYmVyIChlaXRoZXIgY29taW5nIGluIGZvciBlZGl0LCBvciBiZWluZyBjcmVhdGVkIGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hpbmdVc2VycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXNlcm5hbWVUb29sdGlwID0gJHNjZS50cnVzdEFzSHRtbCgnQWN0aXZlIERpcmVjdG9yeSB1c2VyIElELiBpZTogXFwnbXBlcHBsZXJcXCcgbm90IFxcJ21wZXBwbGVyQHVzZ3MuZ292XFwnLicpO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERFTEVURSBNZW1iZXIgY2xpY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZWxldGVNZW1iZXIgPSBmdW5jdGlvbiAobWVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk1lbWJlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAobmFtZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIuZGVsZXRlTWVtYmVyKHsgaWQ6IG5hbWVUb1JlbW92ZS5tZW1iZXJfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbE1lbSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTWVtLm1lbWJlcl9pZCA9IG5hbWVUb1JlbW92ZS5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxNZW0uTmFtZSA9IG5hbWVUb1JlbW92ZS5mbmFtZSArIFwiIFwiICsgbmFtZVRvUmVtb3ZlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFnID0gJHNjb3BlLmFnZW5jeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSBuYW1lVG9SZW1vdmUuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IG5hbWVUb1JlbW92ZS5yb2xlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbE1lbS5BZ2VuY3kgPSBhZy5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbE1lbS5Sb2xlID0gcm8ucm9sZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3Quc3BsaWNlKCRzY29wZS5tZW1iZXJMaXN0LmluZGV4T2YoZGVsTWVtKSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1lbWJlciBEZWxldGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvTWVtYmVycy9NZW1iZXJzTGlzdCcpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gREVMRVRFIE1lbWJlciBjbGlja1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5wYXNzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld1A6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpcm1QOiAnJ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdQYXNzID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lzIHRoaXMgY3JlYXRpbmcgbmV3IG1lbWJlciBvciBlZGl0aW5nIGV4aXN0aW5nP1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNNZW1iZXIgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRvIHNlZSBpZiB0aGUgYWNjdCBVc2VyIGlzIHRoZSBzYW1lIGFzIHRoZSB1c2VyIHRoZXkgYXJlIGxvb2tpbmcgYXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hpbmdVc2VycyA9ICRzdGF0ZVBhcmFtcy5pZCA9PSAkc2NvcGUubG9nZ2VkSW5Vc2VyLklEID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlciA9IHRoaXNNZW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIuUm9sZSA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09ICRzY29wZS5hTWVtYmVyLnJvbGVfaWQ7IH0pWzBdLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFzcyA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSB0byB0aGUgdXNlciBtYWRlLCBwdXQgaXQgLi4gZmlyZWQgb24gZWFjaCBibHVyIGFmdGVyIGNoYW5nZSBtYWRlIHRvIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNhdmVPbkJsdXIgPSBmdW5jdGlvbiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgdGhleSBkb24ndCBkZWxldGUgcmVxdWlyZWQgZmllbGQgdmFsdWVzICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIudXBkYXRlKHsgaWQ6ICRzY29wZS5hTWVtYmVyLm1lbWJlcl9pZCB9LCAkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgcmVxdWlyZWQgZmllbGRzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6Wyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTsvL2VuZCBTYXZlT25CbHVyXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vcGFzc3dvcmQgdXBkYXRlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlTXlQYXNzQnRuID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFzcyA9PT0gZmFsc2UgPyAkc2NvcGUuY2hhbmdlUGFzcyA9IHRydWUgOiAkc2NvcGUuY2hhbmdlUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGFuZ2UgVXNlcidzIHBhc3N3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucGFzcy5uZXdQID09PSBcIlwiIHx8ICRzY29wZS5wYXNzLmNvbmZpcm1QID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgZmlyc3QgZW50ZXIgYSBuZXcgcGFzc3dvcmQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjpbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNRU1CRVIuY2hhbmdlUFcoeyB1c2VybmFtZTogJHNjb3BlLmFNZW1iZXIudXNlcm5hbWUsIG5ld1Bhc3M6ICRzY29wZS5wYXNzLm5ld1AgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUGFzc3dvcmQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgY3JlZHMgT05MWSBJRiB1c2VyIGxvZ2dlZCBpbiBpcyA9PSB0aGlzIHVwZGF0aW5nIG1lbWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFNZW1iZXIubWVtYmVyX2lkID09ICRzY29wZS5sb2dnZWRJblVzZXIubWVtYmVyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gYnRvYSgkc2NvcGUuYU1lbWJlci51c2VybmFtZS5jb25jYXQoXCI6XCIsICRzY29wZS5wYXNzLm5ld1ApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU1ROQ3JlZHMnLCBlbmMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsICRzY29wZS5hTWVtYmVyLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNOYW1lJywgJHNjb3BlLmxvZ2dlZEluVXNlci5OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnbUlEJywgJHNjb3BlLmFNZW1iZXIubWVtYmVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLmFNZW1iZXIucm9sZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkFkbWluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIk1hbmFnZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiRmllbGRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiUHVibGljXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJDaXRpemVuTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNSb2xlJywgcm9sZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXNzLm5ld1AgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhc3MuY29uZmlybVAgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfTsgLy9lbmQgQ2hhbmdlUGFzc3dvcmQoKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRG9udENoYW5nZVBhc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXJtaW5kLCAgY2xlYXIgaW5wdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBvZiAkc3RhdGVQYXJhbXMgPiAwIChleGlzdGluZylcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIG5ldyBtZW1iZXIgYmVpbmcgY3JlYXRlZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5hZGRNZW1iZXIoeyBwYXNzOiAkc2NvcGUucGFzcy5jb25maXJtUCB9LCAkc2NvcGUuYU1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgbmV3IG1lbWJlciBpbnRvIHRoZSBtZW1iZXJMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5tID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm0ubWVtYmVyX2lkID0gcmVzcG9uc2UubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLk5hbWUgPSByZXNwb25zZS5mbmFtZSArIFwiIFwiICsgcmVzcG9uc2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFnID0gJHNjb3BlLmFnZW5jeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSByZXNwb25zZS5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBybyA9IGFsbFJvbGVzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IHJlc3BvbnNlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5tLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QucHVzaChubSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL01lbWJlcnMvTWVtYmVyc0xpc3QnKS5yZXBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9OyAvLyBlbmQgc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdtZW1iZXJDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnTUVNQkVSJywgJ2FsbFJvbGVzJywgJ2FsbEFnZW5jaWVzJywgJ3VzZXJQcm9maWxlSWQnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkZmlsdGVyLCAkdWliTW9kYWwsIE1FTUJFUiwgYWxsUm9sZXMsIGFsbEFnZW5jaWVzLCB1c2VyUHJvZmlsZUlkKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2FsbCB0aGluZ3MgYm90aCBuZXcgYW5kIGV4aXN0aW5nIG1lbWJlciBwYWdlIHdpbGwgbmVlZFxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2V0dGluZ3MvTWVtYmVyc1wiO1xyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS92aWV3IG1lbWJlciB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNZW1iZXJNb2RhbCA9IGZ1bmN0aW9uIChtZW1iZXJDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5tZW1iZXJMaXN0LmluZGV4T2YobWVtYmVyQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ21lbWJlck1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnbWVtYmVyTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNZW1iZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyQ2xpY2tlZCAhPT0gMCA/IG1lbWJlckNsaWNrZWQgOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxSb2xlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRNZW1iZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBvcCBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyWzFdID09ICdjcmVhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJMaXN0LnB1c2goY3JlYXRlZE1lbWJlclswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZE1lbWJlclsxXSA9PT0gJ3VwZGF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdFtpbmRleENsaWNrZWRdID0gY3JlYXRlZE1lbWJlclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLm1lbWJlckxpc3QuaW5kZXhPZihjcmVhdGVkTWVtYmVyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdC5zcGxpY2UoaW5kZXhDbGlja2VkLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lMaXN0ID0gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzcG9uc2UubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVhY2hNID0gcmVzcG9uc2VbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZyA9ICRzY29wZS5hZ2VuY3lMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gcmVzcG9uc2VbeF0uYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gYWxsUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gcmVzcG9uc2VbeF0ucm9sZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hNLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlYWNoTS5Sb2xlID0gcm8ucm9sZV9uYW1lO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QucHVzaChlYWNoTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgc29tZW9uZSBjbGlja2VkIG9uIHRoZWlyIG5hbWUgaW4gdGhlIHVwcGVyIHJpZ2h0IGNvcm5lciwgY29tZSBpbiBhbmQgc3RyYWlnaHQgYXdheSBvcGVuIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXJQcm9maWxlSWQgIT09IHVuZGVmaW5lZCAmJiB1c2VyUHJvZmlsZUlkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiB1c2VyUHJvZmlsZUlkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TWVtYmVyTW9kYWwocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYmRyYXBlciBvbiAzLzkvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdNYXBTaXRlSW5mb0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICdTSVRFJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnbGVhZmxldEJvdW5kc0hlbHBlcnMnLCAnJHN0YXRlJywgJ3NwaW5uZXJTZXJ2aWNlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgU0lURSwgIGxlYWZsZXRNYXJrZXJFdmVudHMsIGxlYWZsZXRCb3VuZHNIZWxwZXJzLCAkc3RhdGUsIHNwaW5uZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlIH07IC8vYWNjb3JkaW9uIGZvciBzaXRlSW5mb1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignbWFwU2l0ZUNsaWNrUmVzdWx0cycsIGZ1bmN0aW9uIChldmVudCwgc2l0ZVBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSBzaXRlUGFydHNbMF07XHJcbiAgICAgICAgICAgICAgICAvL29ubHkgNiBkZWNpbWFsIHBsYWNlcyBmb3IgbGF0L2xvbmdcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZC50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwic2l0ZUluZm9TcGlubmVyXCIpO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5nb1RvU2l0ZURhc2hib2FyZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlciBmdW5jdGlvblxyXG59KSgpO1xyXG4iLCIvKipcclxuICogQ3JlYXRlZCBieSBiZHJhcGVyIG9uIDMvOS8yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcFNlbnNvclByb3Bvc2VDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHRpbWVvdXQnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnU0lURScsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ2FsbERlcGxveVR5cGVzJywgJ2FsbFNlbnNEZXBzJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnbGVhZmxldEJvdW5kc0hlbHBlcnMnLCAnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHRpbWVvdXQsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sIFNJVEUsIElOU1RSVU1FTlQsIElOU1RSVU1FTlRfU1RBVFVTLCBhbGxEZXBsb3lUeXBlcywgYWxsU2Vuc0RlcHMsIGxlYWZsZXRNYXJrZXJFdmVudHMsIGxlYWZsZXRCb3VuZHNIZWxwZXJzLCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgLy93aGVuIGEgc2l0ZSBpcyAgY2xpY2tlZCwgdGhpcyB3aWxsIGJlIHRyaWdnZXJlZCBmcm9tIHNlcnZpY2UgdG8gbGV0IHRoaXMgY29udHJvbGxlciBrbm93IGFib3V0IGl0XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdtYXBTaXRlQ2xpY2tSZXN1bHRzJywgZnVuY3Rpb24gKGV2ZW50LCBzaXRlUGFydHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS50aGlzU2l0ZSA9IHNpdGVQYXJ0c1swXTsgLy9oZXJlJ3MgdGhlIHNpdGUgdGhleSBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLnNlbnNvck9wZW4gPSBmYWxzZTsgLy9tYWtlIHN1cmUgdGhlIHByb3Bvc2VkIHNlbnNvciBhY2NvcmRpb24gaXMgY2xvc2VkIHNvIHRoZXkgaGF2ZSB0byBvcGVuIGFuZCB0cmlnZ2VyIHRoZSBnZXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNvcnM0U2l0ZSA9IFtdOyAvL21ha2Ugc3VyZSB0aGlzIGlzIGNsZWFyIGluIGNhc2UgdGhleSBhcmUgY2xpY2tpbmcgb24gb25lIHNpdGUgYWZ0ZXIgYW5vdGhlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlOyAvL2hpZGUgdGhlIHByb3Bvc2VkIHNlbnNvciB0eXBlIGxpc3QgaW5pdGlhbGx5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2FsbCBkZXBsb3ltZW50IHR5cGVzXHJcbiAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdCA9IGFuZ3VsYXIuY29weShhbGxEZXBsb3lUeXBlcyk7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wRGVwVHlwZUlEID0gMDtcclxuXHJcbiAgICAgICAgICAgIC8vZml4IGRlcGxveW1lbnQgdHlwZXMgc28gdGhhdCBcIlRlbXBlcmF0dXJlXCIgYmVjb21lcyAyIDogVGVtcGVyYXR1cmUgKE1ldCBzZW5zb3IpLVNlbnNvclR5cGU6MiBhbmQgVGVtcGVyYXR1cmUgKHByZXNzdXJlIHRyYW5zZHVjZXIpLVNlbnNvclR5cGU6MSAtLSBqdXN0IGZvciBwcm9wb3NlZFxyXG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5tZXRob2QgPT09IFwiVGVtcGVyYXR1cmVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBEZXBUeXBlSUQgPSAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZF0uZGVwbG95bWVudF90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5tZXRob2QgPSBcIlRlbXBlcmF0dXJlIChNZXQgc2Vuc29yKVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdC5wdXNoKHsgZGVwbG95bWVudF90eXBlX2lkOiB0ZW1wRGVwVHlwZUlELCBtZXRob2Q6IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3Byb3Bvc2VkIHNlbnNvcnMgYWNjb3JkaW9uIHdhcyBvcGVuZWQsIGdvIGdldCB0aGVtXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRQcm9wb3NlZFNlbnNvcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBTSVRFLmdldFNpdGVTZW5zb3JzKHsgaWQ6ICRzY29wZS50aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBtYWtlIHN1cmUgdGhlIGluc3RydW1lbnRfc3RhdHVzZXMgYXJlIGluIHRoZSBjb3JyZWN0IG9yZGVyIChbMF1SZXRyaWV2ZWQsIFsxXURlcGxveWVkLCBbMl1Qcm9wb3NlZCAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IHNSZXNwb25zZS5sZW5ndGg7IHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29ycmVjdE9yZGVyU1MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNvclN0YXR1c2VzID0gc1Jlc3BvbnNlW3NdLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc29yU3RhdHVzZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgYWJvdXQgb3JkZXIgaWYgdGhlcmUncyBtb3JlIHRoYW4gMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2VkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIlByb3Bvc2VkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcGxveWVkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIkRlcGxveWVkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldExvc3RTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiUmV0cmlldmVkXCIgfHwgcHMuc3RhdHVzID09IFwiTG9zdFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IGFkZCB0aGVtIGJhY2sgaW4gY29ycmVjdGx5ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJldExvc3RTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKHJldExvc3RTdGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBsb3llZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2goZGVwbG95ZWRTdGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NlZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocHJvcG9zZWRTdGF0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlY3RPcmRlclNTLnB1c2goc2Vuc29yU3RhdHVzZXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHB1dCBpdCBiYWNrIGluIHRoZSBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgc1Jlc3BvbnNlW3NdLmluc3RydW1lbnRfc3RhdHVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNSZXNwb25zZVtzXS5pbnN0cnVtZW50X3N0YXR1cyA9IGNvcnJlY3RPcmRlclNTO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUHJvcG9zZWRTZW5zb3JzNFNpdGUgPSBzUmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChzcykgeyByZXR1cm4gc3MuaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzX3R5cGVfaWQgPT0gNDsgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHNlbnNvcnM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBzZW5zb3JzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYWxsIHNlbnNvciBkZXBsb3ltZW50cyAocmVsYXRpb25zaGlwIHRhYmxlKVxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc0RlcFR5cGVzID0gYWxsU2Vuc0RlcHM7XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSBmYWxzZTsgLy90aGV5IHdhbnQgdG8gYWRkIGEgcHJvcG9zZWQgc2Vuc29yLCBvcGVuIG9wdGlvbnMgKGJvb2xlYW4gdG9nZ2xlKVxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBzZW5zb3JPcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbiBvcGVuIG9yIGNsb3NlZFxyXG4gICAgICAgICAgICAvL3Nob3cvaGlkZSBwcm9wb3NlZCBzZW5zb3JzIHRvIGFkZFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVQcm9wb3NlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSAhJHNjb3BlLnNob3dQcm9wb3NlZDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsIHByb3Bvc2luZyBhIHNlbnNvciwgY2xvc2UgdGhlIGxpc3RcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbFByb3Bvc2luZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hZGQgdGhlc2UgY2hlY2tlZCBQcm9wb3NlZCBzZW5zb3JzIHRvIHRoaXMgc2l0ZVxyXG4gICAgICAgICAgICAkc2NvcGUuQWRkUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgVGltZV9TVEFNUCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkdCA9IDA7IGR0IDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFRvQWRkID0ge307IHZhciBwcm9wU3RhdFRvQWRkID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5tZXRob2Quc3Vic3RyaW5nKDAsIDQpID09IFwiVGVtcFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RlbXBlcmF0dXJlIHByb3Bvc2VkIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRUb0FkZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0ubWV0aG9kID09IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgPyAxIDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggdGhlIG5ldyBmdWxsSW5zdHJ1bWVudCBhbmQgc2VlIGlmIGFueSBvZiB0aGUgc2Vuc29yJ3MgZGVwbG95bWVudHR5cGVzIGFyZSB0aGlzIGRlcGxveW1lbnQgdHlwZSB0byBzZXQgdGhlIHNlbnNvcl90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0lEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2Vuc0RlcFR5cGVzLCBmdW5jdGlvbiAoc2R0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzZHQuZGVwbG95bWVudHR5cGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZHQuZGVwbG95bWVudHR5cGVzW3hdLmRlcGxveW1lbnRfdHlwZV9pZCA9PSAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNJRCA9IHNkdC5zZW5zb3JfdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW55IG90aGVyIHR5cGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkVG9BZGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fZGVzY3JpcHRpb246IFwiUHJvcG9zZWQgc2Vuc29yIGF0IHRoaXMgc2l0ZS4gQ2hhbmdlIGRlc2NyaXB0aW9uIHdoZW4gZGVwbG95aW5nIHNlbnNvci5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiBzSURcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcG9zdCBpdCAoSW5zdHJ1bWVudCBmaXJzdCwgdGhlbiBJbnN0cnVtZW50IFN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RydW1lbnRJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuc2F2ZShwcm9wb3NlZFRvQWRkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElEID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkUHJvcFNlbnNvciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiByZXNwb25zZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiByZXNwb25zZS5zZW5zb3JfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiByZXNwb25zZS5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRUeXBlOiAkc2NvcGUuZGVwbG95VHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChkdGwpIHsgcmV0dXJuIGR0bC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yVHlwZTogJHNjb3BlLnNlbnNEZXBUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX3R5cGVfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdGF0VG9BZGQgPSB7IGluc3RydW1lbnRfaWQ6IHJlc3BvbnNlLmluc3RydW1lbnRfaWQsIHN0YXR1c190eXBlX2lkOiA0LCBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJyksIHRpbWVfc3RhbXA6IFRpbWVfU1RBTVAsIHRpbWVfem9uZTogJ1VUQycsIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZShwcm9wU3RhdFRvQWRkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkLnN0YXR1cyA9ICdQcm9wb3NlZCc7IHByb3BTdGF0VG9BZGQuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFByb3BTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbcHJvcFN0YXRUb0FkZF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlByb3Bvc2VkU2Vuc29yczRTaXRlLnB1c2goY3JlYXRlZFByb3BTZW5zb3IpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFuIHVwIC4uLmFsbCB1bmNoZWNrZWQgYW5kIHRoZW4gaGlkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRlcCA9IDA7IGRlcCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGRlcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkZXBdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQcm9wb3NlZCBzZW5zb3IgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHN0YXR1cyBmYWlscywgZGVsZXRlIHRoZSBpbnN0cnVtZW50IHRvb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZGVsZXRlKHsgaWQ6IGluc3RydW1lbnRJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcGxveVR5cGVMaXN0LCBmdW5jdGlvbiAoZHQpIHsgZHQuc2VsZWN0ZWQgPSBmYWxzZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAvL2VuZCBJTlNUUlVNRU5ULnNhdmVcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc2VsZWN0ZWQgPT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGZvcmVhY2ggZGVwbG95VHlwZUxpc3RcclxuICAgICAgICAgICAgfTsvL2VuZCBBZGRQcm9wb3NlZCgpXHJcblxyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyIGZ1bmN0aW9uXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYmRyYXBlciBvbiAzLzkvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdNYXBQZWFrc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICdsZWFmbGV0TWFya2VyRXZlbnRzJywgJ2xlYWZsZXRCb3VuZHNIZWxwZXJzJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGh0dHAsICRjb29raWVzLCAkbG9jYXRpb24sIGxlYWZsZXRNYXJrZXJFdmVudHMsIGxlYWZsZXRCb3VuZHNIZWxwZXJzLCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ21hcFNpdGVDbGlja1Jlc3VsdHMnLCBmdW5jdGlvbiAoZXZlbnQsIHNpdGVQYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVQZWFrcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFsbFNpdGVQZWFrcyA9IHNpdGVQYXJ0c1sxXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgYWxsU2l0ZVBlYWtzLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFsbFNpdGVQZWFrc1twXS5ldmVudF9uYW1lID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVBlYWtzLnB1c2goYWxsU2l0ZVBlYWtzW3BdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UGVha3MgPSB0cnVlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UGVha3MgPSBmYWxzZTtcclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlciBmdW5jdGlvblxyXG59KSgpOyIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJkcmFwZXIgb24gNC83LzIwMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignTWFwRmlsdGVyc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICdTSVRFJywgJ0VWRU5UJywgJ01hcF9GaWx0ZXInLCAnJHN0YXRlJywgJ3N0YXRlTGlzdCcsICdzZW5zb3JUeXBlcycsICduZXR3b3JrTmFtZXMnLCAnc3Bpbm5lclNlcnZpY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCBTSVRFLCBFVkVOVCwgTWFwX0ZpbHRlciwgJHN0YXRlLCBzdGF0ZUxpc3QsIHNlbnNvclR5cGVzLCBuZXR3b3JrTmFtZXMsIHNwaW5uZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlIH07IC8vYWNjb3JkaW9uIGZvciBzaXRlSW5mb1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnN0YXRlcyA9IHN0YXRlTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLnNlblR5cGVzID0gc2Vuc29yVHlwZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5uZXROYW1lcyA9IG5ldHdvcmtOYW1lcztcclxuICAgICAgICAgICAgJHNjb3BlLnN1cnZleU9wdGlvbnMgPSBbeyBpZDogdHJ1ZSwgdmFsdWU6IFwiU3VydmV5ZWQgSFdNc1wiIH0sIHsgaWQ6IGZhbHNlLCB2YWx1ZTogXCJVbnN1cnZleWVkIEhXTXNcIiB9XTtcclxuICAgICAgICAgICAgJHNjb3BlLkNob3NlbiA9IHtcclxuICAgICAgICAgICAgICAgIG5ldHdvcms6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzZW5zb3I6IG51bGwsXHJcbiAgICAgICAgICAgICAgICBzdXJ2ZXk6IG51bGxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMgPSBbXTsgLy91c2VkIHRvIGpvaW4gZWFjaCBhYmJyZXYgdG8gcGFzcyB0byBjYWxsXHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICBldmVudFNpdGVzT25seTogJzEnLFxyXG4gICAgICAgICAgICAgICAgaHdtT25seTogJzAnLFxyXG4gICAgICAgICAgICAgICAgc2VuT25seTogJzAnLFxyXG4gICAgICAgICAgICAgICAgcmRnT25seTogJzAnLFxyXG4gICAgICAgICAgICAgICAgb3BEZWZpbmVkOiAnMCdcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zZWFyY2hTaXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSBzZWFyY2ggaW4gY2FzZSB0aGV5IGxlYXZlIGFuZCBjbGljayBiYWNrXHJcbiAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5zaG93KFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hlY2tib3hNb2RlbC5ldmVudFNpdGVzT25seSA9PT0gXCIxXCIgJiYgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZVN0cmluZyA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuam9pbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJHNjb3BlLmNob3NlblN0YXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0RmlsdGVyZWRTaXRlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZTogc3RhdGVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNpdGVMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFwX0ZpbHRlci5zZXRGaWx0ZXJlZFNpdGVzKHJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmNoZWNrYm94TW9kZWwuZXZlbnRTaXRlc09ubHkgPT09IFwiMFwiIHx8ICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPT09IGZhbHNlKSB7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVTdHJpbmcgPSAkc2NvcGUuY2hvc2VuU3RhdGVzLmpvaW4oKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVMaXN0ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2VhcmNoUGFyYW1zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJHNjb3BlLmNob3NlblN0YXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3AgPSAkcm9vdFNjb3BlLnNlYXJjaFBhcmFtcztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3AuSFdNT25seSA9PT0gXCIwXCIgJiYgc3AuSFdNU3VydmV5ZWQgPT09IG51bGwgJiYgc3AuTmV0d29ya05hbWUgPT09IG51bGwgJiYgc3AuT1BEZWZpbmVkID09PSBcIjBcIiAmJiBzcC5SREdPbmx5ID09PSBcIjBcIiAmJiBzcC5TZW5zb3JPbmx5ID09PSBcIjBcIiAmJiBzcC5TZW5zb3JUeXBlID09PSBudWxsICYmIHNwLnN0YXRlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5oaWRlKFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9IFwidG9hc3QtYm90dG9tLXJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKFwiUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgc2VhcmNoIHBhcmFtZXRlci5cIiwgXCJNYXAgRmlsdGVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRGaWx0ZXJlZFNpdGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU3RhdGU6IHN0YXRlU3RyaW5nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTWFwX0ZpbHRlci5zZXRGaWx0ZXJlZFNpdGVzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNlYXJjaFNpdGVzIGNsaWNrIGFjdGlvblxyXG5cclxuICAgICAgICAgICAgLy9hZGQgZWFjaCBzdGF0ZSB0byBhbiBhcnJheSB0byBiZSBqb2luZWQgaW4gdGhlIEdFVFxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdGVDbGljayA9IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5TdGF0ZXMucHVzaChkYXRhLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLmNob3NlblN0YXRlcy5pbmRleE9mKGRhdGEuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcy5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NsZWFyIHRoZSBmaWx0ZXIgY2hvaWNlcyAoc3RhcnQgb3ZlcilcclxuICAgICAgICAgICAgJHNjb3BlLmNsZWFyRmlsdGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRTaXRlc09ubHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICBzZW5Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJkZ09ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BEZWZpbmVkOiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlbiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zdGF0ZXMsIGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0LnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHZhciBldklEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpIDogMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlc1Byb21pc2UgPSBFVkVOVC5nZXRFdmVudFNpdGVzKHsgaWQ6IGV2SUQgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1hcF9GaWx0ZXIuc2V0RmlsdGVyZWRTaXRlcyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gJHJvb3RTY29wZS4kb24oJ21hcFNpdGVDbGljaycsIGZ1bmN0aW9uIChldmVudCwgc2l0ZVBhcnRzKSB7XHJcbiAgICAgICAgICAgIC8vICAgICAkc2NvcGUuYVNpdGUgPSBzaXRlUGFydHNbMF07XHJcbiAgICAgICAgICAgIC8vICAgICAvL29ubHkgNiBkZWNpbWFsIHBsYWNlcyBmb3IgbGF0L2xvbmdcclxuICAgICAgICAgICAgLy8gICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZC50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyIGZ1bmN0aW9uXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdNYXBDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnU0lURScsICdFVkVOVCcsICdNYXBfU2l0ZScsICdsZWFmbGV0TWFya2VyRXZlbnRzJywgJ2xlYWZsZXRCb3VuZHNIZWxwZXJzJywgJ2xlYWZsZXREYXRhJywgJyRzdGF0ZScsICdzcGlubmVyU2VydmljZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sIFNJVEUsIEVWRU5ULCBNYXBfU2l0ZSwgbGVhZmxldE1hcmtlckV2ZW50cywgbGVhZmxldEJvdW5kc0hlbHBlcnMsIGxlYWZsZXREYXRhLCAkc3RhdGUsIHNwaW5uZXJTZXJ2aWNlKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJNYXBcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwibWFwXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9IFwiTWFueSBvZiB0aGUgc3VwcGxlbWVudGFsIEdJUyBkYXRhIGxheWVycyBmb3VuZCBpbiB0aGUgbWFwIGFyZSBmcm9tIGEgcmFuZ2Ugb2Ygc291cmNlcyBhbmQgYXJlIG5vdCBtYWludGFpbmVkIGJ5IFdpTS4gV2Ugb2ZmZXIgdGhlc2UgbWFwIGxheWVycyBhcyBhIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcImRlY2lzaW9uIHN1cHBvcnQgc3VwcGxlbWVudCB0byB0aGUgU1ROIHNpdGVzIGxheWVyLCBidXQgd2UgY2Fubm90IGd1YXJhbnRlZSB0aGVpciBwZXJmb3JtYW5jZSBhbmQgYXZhaWxhYmlsaXR5LiBNYW55IG9mIHRoZXNlIGV4dGVybmFsbHkgbWFpbnRhaW5lZCBsYXllcnMgYXJlIFwiICtcclxuICAgICAgICAgICAgICAgICAgICBcImxhcmdlIGRhdGFzZXRzIGFuZCBtYXkgbG9hZCBzbG93bHkgZGVwZW5kaW5nIG9uIG5ldHdvcmsgbGF0ZW5jeS4gSW4gc29tZSBjYXNlcyB0aGV5IG1heSBmYWlsIHRvIGxvYWQgZW50aXJlbHkgd2hlbiBuZXR3b3JrIGxhdGVuY3kgaXMgaGlnaC5cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignZmlsdGVyU2l0ZXNDbGljaycsIGZ1bmN0aW9uIChldmVudCwgZmlsdGVyZWRTaXRlc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkU2l0ZXNBcnJheS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93RXZlbnRTaXRlcyhmaWx0ZXJlZFNpdGVzQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdG9hc3RyLm9wdGlvbnMoe1wicG9zaXRpb25DbGFzc1wiOiBcInRvYXN0LWJvdHRvbS1yaWdodFwifSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSBcInRvYXN0LWJvdHRvbS1yaWdodFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZyhcIllvdXIgZmlsdGVyIHJldHVybmVkIG5vIHJlc3VsdHMuXCIsIFwiTWFwIEZpbHRlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0bjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TaXRlSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0bkdyYXk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuU2l0ZUdyYXknXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBuZXdTaXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25ld1NpdGVJY29uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzUsIDVdXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMiwgMTJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzZWxlY3RlZEljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBud2lzOiBMLmRpdkljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Fycm93LXVwJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uQW5jaG9yOiBbMTMuNSwgMTcuNV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvcHVwQW5jaG9yOiBbMCwgLTExXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9hY3Rpb24ucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbG93X3RocmVzaG9sZDogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9sb3dfdGhyZXNob2xkLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ham9yOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL21ham9yLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pbm9yOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL21pbm9yLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG1vZGVyYXRlOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL21vZGVyYXRlLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vX2Zsb29kaW5nOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL25vX2Zsb29kaW5nLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG5vdF9kZWZpbmVkOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL25vdF9kZWZpbmVkLnBuZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVwQW5jaG9yOiBbMTAsIDEwXVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIG9ic19ub3RfY3VycmVudDogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9vYnNfbm90X2N1cnJlbnQucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgb3V0X29mX3NlcnZpY2U6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvb3V0X29mX3NlcnZpY2UucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZXMgdGhlIG1hcmtlcnMgb24gdGhlIG1hcCBhZnRlciBnZXR0aW5nIEpTT04gZnJvbSBTVE4gd2ViIHNlcnZpY2VzIGNhbGxcclxuICAgICAgICAgICAgICAgIHZhciBzaG93RXZlbnRTaXRlcyA9IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXRlc0FycmF5ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzID0gc2l0ZXNBcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLy9jb250cm9scyBtZXRob2QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0RGlyZWN0aXZlQ29udHJvbHMoKS50aGVuKGZ1bmN0aW9uIChjb250cm9scykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHMubWFya2Vycy5jcmVhdGUoe30sICRzY29wZS5tYXJrZXJzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2l0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBzaXRlc0FycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiU1ROIFNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRoaXMgJ21hcmtlcnNMYXRMbmdBcnJheScgZm9yIHRoZSB6b29tIHRvIGJvdW5kcyAtIHJlcXVpcmVzIHNpbXBsZSBsYXQvbG5nIGFycmF5IHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkucHVzaChbYS5sYXRpdHVkZV9kZCwgYS5sb25naXR1ZGVfZGRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbHMubWFya2Vycy5jcmVhdGUobWFya2VycywgJHNjb3BlLm1hcmtlcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IG1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUudGFibGUoJHNjb3BlLm1hcmtlcnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgTExCb3VuZHMgPSAgbmV3IEwuTGF0TG5nQm91bmRzKCRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5ib3VuZHMgPSBsZWFmbGV0Qm91bmRzSGVscGVycy5jcmVhdGVCb3VuZHNGcm9tQXJyYXkoW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBbTExCb3VuZHMuX25vcnRoRWFzdC5sYXQsIExMQm91bmRzLl9ub3J0aEVhc3QubG5nXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgW0xMQm91bmRzLl9zb3V0aFdlc3QubGF0LCBMTEJvdW5kcy5fc291dGhXZXN0LmxuZ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9dKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vZW5kIGNvbnRyb2xzIG1ldGhvZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vL3JhbmRvIGtleXMgbWV0aG9kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yICh2YXIgaSA9IDA7IGkgPCBzaXRlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBhID0gc2l0ZXNBcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIG1hcmtlcklEID0gJHNjb3BlLm1ha2VJRCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIGxheWVyOidzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICBsYXQ6IGEubGF0aXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICBsbmc6IGEubG9uZ2l0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgdGl0bGU6IFwiU1ROIFNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIGljb246IGljb25zLnN0blxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLm1hcmtlcnNbbWFya2VySURdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXI6J3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxhdDogYS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxuZzogYS5sb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0aXRsZTogXCJTVE4gU2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkucHVzaChbYS5sYXRpdHVkZSwgYS5sb25naXR1ZGVdKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vL2VuZCByYW5kbyBrZXlzIG1ldGhvZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzT2JqID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNpcmNsZU1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNpcmNsZU1hcmtlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDIwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3ZWlnaHQ6IDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAnIzAwMDA5OScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGxuZ3M6IHt9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vc3RvcmVzIHRoZSBsYXN0IHNlbGVjdGVkIG1hcmtlciBpbmRleCwgc28gaXRzIGljb24gYW5kIGxhYmVsIGNhbiBiZSByZXNldCBhcyB0aGUgZmlyc3QgdGhpbmcgdG8gaGFwcGVuIGFmdGVyIGNsaWNrXHJcbiAgICAgICAgICAgICAgICAvL3ZhciBzZWxlY3RlZE1hcmtlck51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgLy8vL3RoaXMgc2hvd3MgaG93IHRvIGdyYWIgdGhlIFNpdGUgSUQgaW4gYXJncy5tb2RlbC5zaXRlX2lkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKCdsZWFmbGV0RGlyZWN0aXZlTWFya2VyLmNsaWNrJywgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubW9kZWwuc2l0ZV9pZCAhPSAnbmV3U2l0ZScpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coXCJzaXRlSW5mb1NwaW5uZXJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc1skc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW1dLmljb24gPSBpY29ucy5zdG47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUubWFya2Vyc1skc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW1dLmxhYmVsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVJRCA9IGFyZ3MubW9kZWwuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgTWFwX1NpdGUuc2V0TWFwU2l0ZVBhcnRzKHNpdGVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0cyBhcnJheSBudW1iZXIgb2YgbWFya2VyIGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtID0gcGFyc2VJbnQoYXJncy5tb2RlbE5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NldHMgdGhlIGljb24gdG8gdGhlIHNlbGVjdGVkIGljb24gY2xhc3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNbJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtXS5pY29uID0gaWNvbnMuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzWyRzY29wZS5zZWxlY3RlZE1hcmtlck51bV0ubGFiZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnU2l0ZSAnICsgc2l0ZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vSGlkZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IFsyNSwgLTE1XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzaXRlTGFiZWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubWFwQ2VudGVyLnpvb20gPD0gOSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcENlbnRlciA9IHsgbGF0OiBhcmdzLm1vZGVsLmxhdCwgbG5nOiBhcmdzLm1vZGVsLmxuZywgem9vbTogMTAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUubWFwQ2VudGVyLnpvb20gPj0gMTApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBDZW50ZXIgPSB7IGxhdDogYXJncy5tb2RlbC5sYXQsIGxuZzogYXJncy5tb2RlbC5sbmcsIHpvb206ICRzY29wZS5tYXBDZW50ZXIuem9vbSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRTaGFwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzT2JqLmNpcmNsZU1hcmtlci5sYXRsbmdzID0geyBsYXQ6IGFyZ3MubW9kZWwubGF0LCBsbmc6IGFyZ3MubW9kZWwubG5nIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNbJ2NpcmNsZU1hcmtlciddID0gJHNjb3BlLnBhdGhzT2JqWydjaXJjbGVNYXJrZXInXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU2hhcGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vL3RoaXMgbmVlZHMgdG8gYmUgaW5zdGFudGlhdGVkIGJlZm9yZSBpdCBjYW4gYmUgZmlsbGVkIHByb2dyYW1tYXRpY2FsbHkgYmVsb3cuIG1heSBuZWVkIHRvIG1vdmUgc2NvcGUuZXh0ZW5kIGJsb2NrIHRvIHRvcFxyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLmNvbnRyb2xzID0ge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGN1c3RvbTogW11cclxuICAgICAgICAgICAgICAgIC8vIH07XHJcbiAgICAgICAgICAgICAgICAvL2NvbW1lbnRlZCBibG9jayBiZWxvdyBpcyBmb3IgbWFraW5nIGN1c3RvbSBsZWFmbGV0IGNvbnRyb2wgZm9yIGNyZWF0ZSBzaXRlIG1vZGUgaW5kaWNhdG9yXHJcbiAgICAgICAgICAgICAgICAvL3ZhciBjcmVhdGVTaXRlTW9kZUNvbnRyb2wgPSBMLmNvbnRyb2woKTtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlU2l0ZU1vZGVDb250cm9sLnNldFBvc2l0aW9uKCdib3R0b21sZWZ0Jyk7XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZVNpdGVNb2RlQ29udHJvbC5vbkFkZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgIHZhciBjbGFzc05hbWUgPSAnY3JlYXRlU2l0ZU1vZGVJbmRpY2F0b3InLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgIGNvbnRhaW5lciA9IEwuRG9tVXRpbC5jcmVhdGUoJ2RpdicsIGNsYXNzTmFtZSArICcgbGVhZmxldC1iYXInKTtcclxuICAgICAgICAgICAgICAgIC8vICAgIHJldHVybiBjb250YWluZXI7XHJcbiAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5jb250cm9scy5jdXN0b20ucHVzaChjcmVhdGVTaXRlTW9kZUNvbnRyb2wpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vL25lZWQgdG8gd2F0Y2ggZm9yIHNlc3Npb24gZXZlbnQgaWQsIGRvIG5ldyBjYWxsIHRvIHNlcnZlciB3aGVuIHRoYXQgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2SUQgPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9iZWxvdyBnZXRzIHNpdGVzIHVzaW5nICRodHRwLmdldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzcGlubmVyU2VydmljZS5zaG93KFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmVsb3cgZ2V0cyBzaXRlcyB1c2luZyBzaW1wbGUgYW5ndWxhciAkaHR0cCBzZXJ2aWNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5zaXRlc1Byb21pc2UgPSAkaHR0cC5nZXQoJ2h0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlcy9FdmVudHMvJyArIGV2SUQgKyAnL1NpdGVzLmpzb24nKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIC50aGVuKHNob3dFdmVudFNpdGVzLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9iZWxvdyBnZXRzIHNpdGVzIHVzaW5nIHRoZSBTSVRFICdmYWN0b3J5J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXNQcm9taXNlID0gRVZFTlQuZ2V0RXZlbnRTaXRlcyh7IGlkOiBldklEIH0sLy8gU0lURS5nZXRBbGwoeyAgRXZlbnQ6IGV2SUR9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFdmVudFNpdGVzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkNvdWxkIG5vdCBmZXRjaCBzaXRlc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5wb3NpdGlvbkNsYXNzID0gXCJ0b2FzdC1ib3R0b20tcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiODAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKFwiTm8gc2l0ZXMgYXJlIHNob3dpbmcgYmVjYXVzZSB5b3UgaGF2ZSBubyBmaWx0ZXJzIGFwcGxpZWQuIFBsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIHNlYXJjaCBwYXJhbWV0ZXIuXCIsIFwiTWFwIEZpbHRlcnNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy93YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9uRXJyb3IgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJDb3VsZCBub3QgZmV0Y2ggc2l0ZXNcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcC5jbGlja1wiLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNyZWF0ZVNpdGVNb2RlQWN0aXZlID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlyc3QsIHJlbW92ZSBwcmV2aW91c2x5IGNsaWNrLWNyZWF0ZWQgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVVc2VyQ3JlYXRlZFNpdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlYWZFdmVudCA9IGFyZ3MubGVhZmxldEV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlckNyZWF0ZWRTaXRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGU6IGxlYWZFdmVudC5sYXRsbmcubGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBsZWFmRXZlbnQubGF0bG5nLmxuZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybnMgdGhlIGNyZWF0ZWQgc2l0ZSBvYmplY3QsIGJ1dCBub3QgdGhhdCB1c2VmdWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgY3JlYXRlZFNpdGUgPSAkc2NvcGUubWFya2Vycy5maWx0ZXIoZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIG9iai5zaXRlX2lkID09PSAnbmV3U2l0ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICduZXdTaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAnbmV3U2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5uZXdTaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJOZXcgZHJhZ2dhYmxlIFNUTiBzaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdOZXcgU2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0hpZGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25ld1NpdGVMYWJlbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL3VzZSBuZXcgY2xpY2tlZCBzaXRlIGxhdC9sbmcgYW5kIGNyZWF0ZSBuZXcgc2l0ZSBmcm9tIHRoYXRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZVVzZXJDcmVhdGVkU2l0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3JldHVybnMgY3JlYXRlZCBzaXRlIGluZGV4IHNvIGl0IGNhbiBiZSByZW1vdmVkIHRvIG1ha2Ugd2F5IGZvciBpdHMgcmVwbGFjZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNpdGVJbmRleCA9ICRzY29wZS5tYXJrZXJzLm1hcChmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmouc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9KS5pbmRleE9mKCduZXdTaXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zcGxpY2UgY3JlYXRlZCBzaXRlIGZyb20gdGhlIG1hcmtlcnMgYXJyYXkgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRTaXRlSW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5zcGxpY2UoY3JlYXRlZFNpdGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyQ3JlYXRlZFNpdGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vL3VwZGF0ZSBuZXdTaXRlIGxhdC9sbmcgYWZ0ZXIgZHJhZ2VuZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbihcImxlYWZsZXREaXJlY3RpdmVNYXJrZXIuZHJhZ2VuZFwiLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJhZ2VuZExvY2F0aW9uID0gYXJncy5tb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXNlckNyZWF0ZWRTaXRlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogZHJhZ2VuZExvY2F0aW9uLmxhdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiBkcmFnZW5kTG9jYXRpb24ubG5nXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8vbGlzdGVucyAod2F0Y2hlcykgZm9yIGNoYW5nZSBvZiB0aGUgY3JlYXRlU2l0ZU1vZGVBY3RpdmUgYXR0cmlidXRlIC0gY3VlZCBieSBjbGljayBvZiB0aGUgQ3JlYXRlIFNpdGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKCdjcmVhdGVTaXRlTW9kZUFjdGl2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlU2l0ZUJ1dHRvblRleHQgPSAkc2NvcGUuY3JlYXRlU2l0ZU1vZGVBY3RpdmUgPyAnQ2FuY2VsIENyZWF0ZSBTaXRlIE1vZGUnIDogJ0NyZWF0ZSBOZXcgU2l0ZSBvbiBNYXAnO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBTdHlsZSA9ICRzY29wZS5jcmVhdGVTaXRlTW9kZUFjdGl2ZSA/IHsgXCJjdXJzb3JcIjogXCJjcm9zc2hhaXJcIiB9IDogeyBcImN1cnNvclwiOiBcImdyYWJcIiB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLmNyZWF0ZVNpdGVNb2RlQWN0aXZlKSB7IHJlbW92ZVVzZXJDcmVhdGVkU2l0ZSgpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy90d28gbGluZXMgYmVsb3cgcmVmZXJlbmNlZCBjcmVhdGVTaXRlTW9kZUluZGljYXRvciBsZWFmbGV0IGNvbnRyb2wuIGNhbiBiZSByZW1vdmVkIGV2ZW50dWFsbHkuXHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgY3JlYXRlU2l0ZU1vZGVJbmRpY2F0b3IgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY3JlYXRlU2l0ZU1vZGVJbmRpY2F0b3JcIilbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGVTaXRlTW9kZUluZGljYXRvci5zdHlsZS52aXNpYmlsaXR5ID0gJHNjb3BlLmNyZWF0ZVNpdGVNb2RlQWN0aXZlID8gJ3Zpc2libGUnIDonaGlkZGVuJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVTaXRlRnJvbU1hcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sYXRpdHVkZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS51c2VyQ3JlYXRlZFNpdGUubG9uZ2l0dWRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6IDAsIGxhdGl0dWRlOiAkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxhdGl0dWRlLCBsb25naXR1ZGU6ICRzY29wZS51c2VyQ3JlYXRlZFNpdGUubG9uZ2l0dWRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiUGxlYXNlIGNsaWNrIGEgbG9jYXRpb24gb24gdGhlIG1hcCB0byBjcmVhdGUgYSBzaXRlIHRoaXMgd2F5LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vICRzY29wZS5zaG93QWxsU2l0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdyhcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL3Rlc3RpbmcgZnVsbCBzaXRlcyBwZXJmb3JtYW5jZS8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgU0lURS5nZXRBbGwoXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB2YXIgYWxsU2l0ZXNBcnJheSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVzID0gYWxsU2l0ZXNBcnJheTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vJHNjb3BlLm1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIC8vLy8vY29udHJvbHMgbWV0aG9kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0RGlyZWN0aXZlQ29udHJvbHMoKS50aGVuKGZ1bmN0aW9uIChjb250cm9scykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIC8vY29udHJvbHMubWFya2Vycy5jcmVhdGUoe30sICRzY29wZS5tYXJrZXJzKTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFsbFNpdGVzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBhbGxTaXRlc0FycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlc0FsbCcsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGEubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFwiU1ROIFNpdGVcIixcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0blxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5LnB1c2goW2EubGF0aXR1ZGVfZGQsIGEubG9uZ2l0dWRlX2RkXSk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICBjb250cm9scy5tYXJrZXJzLmNyZWF0ZShtYXJrZXJzLCAkc2NvcGUubWFya2Vycyk7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBtYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkNvdWxkIG5vdCBmZXRjaCBzaXRlc1wiO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZ2V0IGFsbCBTVE4gc2l0ZXNcclxuICAgICAgICAgICAgICAgIC8vJGh0dHAuZ2V0KCdodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXMvU2l0ZXMvcG9pbnRzLmpzb24nKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgLnRoZW4ob25TaXRlQ29tcGxldGUsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgU1ROIHNpdGVzIGZvciBzZXNzaW9uIGV2ZW50IGNob3NlbiBieSB1c2VyXHJcbiAgICAgICAgICAgICAgICAvLyRodHRwLmdldCgnaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzL1NpdGVzLmpzb24/RXZlbnQ9JyArIGV2SUQpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAudGhlbihvblNpdGVDb21wbGV0ZSwgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLy9yZXRyaWV2ZXMgZXZlbnQgc2Vzc2lvbiBJRFxyXG4gICAgICAgICAgICAgICAgLy92YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBTVE4gc2l0ZXMgZm9yIHNlc3Npb24gZXZlbnRcclxuICAgICAgICAgICAgICAgIC8vJGh0dHAuZ2V0KCdodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXMvRXZlbnRzLycgKyBldklEICsgJy9TaXRlcy5qc29uJylcclxuICAgICAgICAgICAgICAgIC8vICAgIC50aGVuKG9uU2l0ZUNvbXBsZXRlLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vY29waWVzIHNjb3BlIG9iamVjdC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKCkudGhlbihmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb1NlYXJjaENvbnRyb2wgPSBuZXcgTC5Db250cm9sLkdlb1NlYXJjaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb3ZpZGVyOiBuZXcgTC5HZW9TZWFyY2guUHJvdmlkZXIuRXNyaSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3RvcGxlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IDE1XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VvU2VhcmNoQ29udHJvbC5hZGRUbyhtYXApO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb247XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCgkc2NvcGUsIHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2Vyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlOiBsZWFmbGV0TWFya2VyRXZlbnRzLmdldEF2YWlsYWJsZUV2ZW50cygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcENlbnRlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IDQxLjI3OCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAtOTIuMzM2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b29tOiA0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ab29tOiA0XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sczoge30sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vyc1dhdGNoT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkb1dhdGNoOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0RlZXA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGl2aWR1YWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvV2F0Y2g6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0RlZXA6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHBhdGhzOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiBbXSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzTGF0TG5nQXJyYXk6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNpdGVNb2RlQWN0aXZlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyQ3JlYXRlZFNpdGU6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2VJRDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciB0ZXh0ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHBvc3NpYmxlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvciggdmFyIGk9MDsgaSA8IDU7IGkrKyApXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB0ZXh0ICs9IHBvc3NpYmxlLmNoYXJBdChNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwb3NzaWJsZS5sZW5ndGgpKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXR1cm4gdGV4dDtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2VuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmw6IFwiaHR0cDovL2dpcy5zcmgubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvYWhwc19nYXVnZXMvTWFwU2VydmVyL2xlZ2VuZC8/Zj1qc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxlZ2VuZENsYXNzOiBcImluZm8gbGVnZW5kLWVzcmlcIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcG9zaXRpb246IFwiYm90dG9tbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZWdlbmRVUkwxOiBcImh0dHA6Ly9zZXJ2aWNlcy5hcmNnaXNvbmxpbmUuY29tL2FyY2dpcy9yZXN0L3NlcnZpY2VzL0RlbW9ncmFwaGljcy9VU0FfMTk5MC0yMDAwX1BvcHVsYXRpb25fQ2hhbmdlL01hcFNlcnZlci9sZWdlbmQ/Zj1qc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVnZW5kVVJMMjogXCJodHRwczovL2hhemFyZHMuZmVtYS5nb3YvZ2lzL25maGwvcmVzdC9zZXJ2aWNlcy9wdWJsaWMvTkZITC9NYXBTZXJ2ZXIvbGVnZW5kP2Y9anNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHN3aXRjaExlZ2VuZDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5sYXllcnMub3ZlcmxheXMudXNhX3NvY2lhbC52aXNpYmxlID0gISRzY29wZS5sYXllcnMub3ZlcmxheXMudXNhX3NvY2lhbC52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUubGVnZW5kLnVybCA9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAkc2NvcGUubGVnZW5kLnVybCA9PSAkc2NvcGUubGVnZW5kVVJMMT8gJHNjb3BlLmxlZ2VuZFVSTDI6JHNjb3BlLmxlZ2VuZFVSTDE7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vISEhbmVlZCB0byBhZGQgbGVnZW5kPVwibGVnZW5kXCIgYmFjayB0byBtYXAgZGlyZWN0aXZlIGlmIHVzaW5nIHRoaXMhISEhISEhIVxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBncmF5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJHcmF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiR3JheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyZWV0czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU3RyZWV0c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlN0cmVldHNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcG86IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIldvcmxkIFRvcG9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiVG9wb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hdGlvbmFsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJOYXRpb25hbCBHZW9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiTmF0aW9uYWxHZW9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvY2VhbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk9jZWFuc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIk9jZWFuc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGFya2dyYXk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkRhcmtHcmF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiRGFya0dyYXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlcnk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkltYWdlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJJbWFnZXJ5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFkZWRyZWxpZWY6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlNoYWRlZCBSZWxpZWZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJTaGFkZWRSZWxpZWZcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlcnJhaW46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIlRlcnJhaW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJUZXJyYWluXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0blNpdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dyb3VwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU1ROIFNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RuU2l0ZXNBbGw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTVE4gU2l0ZXMgQWxsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2l0ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ25ld1NpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJQYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd09uU2VsZWN0b3I6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG53aXMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJVU0dTIHJlYWwtdGltZSBzdHJlYW1nYWdlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiYWdzRmVhdHVyZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybCA6IFwiaHR0cHM6Ly9zdG5tYXBzZXJ2aWNlcy53aW0udXNncy5nb3Y6NjQ0My9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9TVE4vU1ROX253aXNfcnQvTWFwU2VydmVyLzBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYXllck9wdGlvbnMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGdlb2pzb24sIGxhdGxuZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGljb246IGljb25zLm53aXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvbkVhY2hGZWF0dXJlOiBmdW5jdGlvbihmZWF0dXJlLCBsYXllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy9sYXllci5iaW5kUG9wdXAoXCJVU0dTIElEOiBcIiArIGZlYXR1cmUucHJvcGVydGllcy5OYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGxheWVyLmJpbmRQb3B1cChmZWF0dXJlLnByb3BlcnRpZXMuUG9wdXBJbmZvICsgJzxicj48aW1nIHN0eWxlPVwid2lkdGg6IDM1MHB4XCIgc3JjPVwiaHR0cDovL3dhdGVyZGF0YS51c2dzLmdvdi9ud2lzd2ViL2dyYXBoP2FnZW5jeV9jZD1VU0dTJnNpdGVfbm89JyArIGZlYXR1cmUucHJvcGVydGllcy5OYW1lICsgJyZwYXJtX2NkPTAwMDY1JnBlcmlvZD03XCI+Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWhwczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiQUhQUyBHYWdlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzRmVhdHVyZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lkcGdpcy5uY2VwLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL05XU19PYnNlcnZhdGlvbnMvYWhwc19yaXZfZ2F1Z2VzL01hcFNlcnZlci8wXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGF5ZXJzOiBbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50VG9MYXllcjogZnVuY3Rpb24gKGdlb2pzb24sIGxhdGxuZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEwubWFya2VyKGxhdGxuZywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zW2dlb2pzb24ucHJvcGVydGllcy5zdGF0dXNdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25FYWNoRmVhdHVyZTogZnVuY3Rpb24gKGZlYXR1cmUsIGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xheWVyLmJpbmRQb3B1cChcIlVTR1MgSUQ6IFwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyYXBoVVJMID0gXCJodHRwczovL3dhdGVyLndlYXRoZXIuZ292L3Jlc291cmNlcy9oeWRyb2dyYXBocy9cIiArIGZlYXR1cmUucHJvcGVydGllcy5nYXVnZWxpZC50b0xvd2VyQ2FzZSgpICsgXCJfaGcucG5nXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xheWVyLmJpbmRQb3B1cChcIjxiPkdhZ2UgSUQ6IDwvYj5cIiArIGZlYXR1cmUucHJvcGVydGllcy5nYXVnZWxpZCArIFwiPC9icj48Yj5Mb2NhdGlvbjogPC9iPlwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLmxvY2F0aW9uICsgXCI8L2JyPjxiPldhdGVyYm9keTogPC9iPlwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLndhdGVyYm9keSArIFwiPC9icj48YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIrIGZlYXR1cmUucHJvcGVydGllcy51cmwgKyBcIic+PGltZyB0aXRsZT0nQ2xpY2sgZm9yIGRldGFpbHMgcGFnZScgd2lkdGg9MzAwIHNyYz0nXCIgKyBncmFwaFVSTCArXCInLz48L2E+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKFwiPGI+R2FnZSBJRDogPC9iPlwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLmdhdWdlbGlkICsgXCI8L2JyPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGZlYXR1cmUucHJvcGVydGllcy51cmwgKyBcIic+PGltZyB0aXRsZT0nQ2xpY2sgZm9yIGRldGFpbHMgcGFnZScgd2lkdGg9MzAwIHNyYz0nXCIgKyBncmFwaFVSTCArIFwiJy8+PC9hPlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFkYXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIldlYXRoZXIgUmFkYXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9pZHBnaXMubmNlcC5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9OV1NfT2JzZXJ2YXRpb25zL3JhZGFyX2Jhc2VfcmVmbGVjdGl2aXR5L01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaFdhcm46IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk5XUyBXYXRjaGVzICYgV2FybmluZ3NcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IFwiaHR0cHM6Ly9pZHBnaXMubmNlcC5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9OV1NfRm9yZWNhc3RzX0d1aWRhbmNlX1dhcm5pbmdzL3dhdGNoX3dhcm5fYWR2L01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcnM6IFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmbG9vZFRocmVzaG9sZHMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJOV1MgV0ZPIENvYXN0YWwgRmxvb2QgVGhyZXNob2xkc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybCA6IFwiaHR0cHM6Ly93d3cuY3NjLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL2RjX3Nsci9GbG9vZF9GcmVxdWVuY3kvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXJPcHRpb25zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXllcnM6IFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgb3BhY2l0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBsbXdhIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiTGltaXQgTW9kZXJhdGUgV2F2ZSBBY3Rpb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmwgOiBcImh0dHBzOi8vaGF6YXJkcy5mZW1hLmdvdi9naXMvbmZobC9yZXN0L3NlcnZpY2VzL3B1YmxpYy9ORkhML01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxheWVyT3B0aW9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXJzOiBbMTldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZsb29kQm91bmRzIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWU6IFwiRmxvb2QgSGF6YXJkIEJvdW5kYXJpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmwgOiBcImh0dHBzOi8vaGF6YXJkcy5mZW1hLmdvdi9naXMvbmZobC9yZXN0L3NlcnZpY2VzL3B1YmxpYy9ORkhML01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxheWVyT3B0aW9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXJzOiBbMjddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZsb29kWm9uZXMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJGbG9vZCBIYXphcmQgWm9uZXNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB0eXBlOiBcImFnc0R5bmFtaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB1cmwgOiBcImh0dHBzOi8vaGF6YXJkcy5mZW1hLmdvdi9naXMvbmZobC9yZXN0L3NlcnZpY2VzL3B1YmxpYy9ORkhML01hcFNlcnZlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxheWVyT3B0aW9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF5ZXJzOiBbMjhdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvcGFjaXR5OiAwLjdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sZWdlbmQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgdXJsOiBcImh0dHA6Ly9naXMuc3JoLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL2FocHNfZ2F1Z2VzL01hcFNlcnZlci9sZWdlbmQ/Zj1qc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGxlZ2VuZENsYXNzOiBcImluZm8gbGVnZW5kLWVzcmlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgcG9zaXRpb246IFwiYm90dG9tbGVmdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIgJHNjb3BlLmV4dGVuZCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgICAgICB9IC8vZW5kIC1pZiBjcmVkZW50aWFscyBwYXNzLSBzdGF0ZW1lbnRcclxuICAgICAgICB9XSk7Ly9lbmQgY29udHJvbGxlciBmdW5jdGlvblxyXG59KSgpO1xyXG4iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpOyBcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ21haW5DdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckZG9jdW1lbnQnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyRsb2NhdGlvbicsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRkb2N1bWVudCwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJGxvY2F0aW9uLCAkc3RhdGUpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGggPSB7fTsgICAgICAgIFxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSAnaG9tZSc7IC8vc2NvcGUgdmFyIGZvciBzZXR0aW5nIGFjdGl2ZSBjbGFzc1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiIHx8ICRjb29raWVzLmdldCgnU1ROVXNlcm5hbWUnKSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmlzQXV0aC52YWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICgkZG9jdW1lbnRbMF0uZG9jdW1lbnRNb2RlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYnJvd3Nlckluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgYXBwbGljYXRpb24gdXNlcyBmdW5jdGlvbmFsaXR5IHRoYXQgaXMgbm90IGNvbXBsZXRlbHkgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyLiBUaGUgcHJlZmVycmVkIGJyb3dzZXIgaXMgQ2hyb21lIChiaXNvbiBjb25uZWN0KS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmlzQXV0aC52YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2Vyc05hbWUgPSAkY29va2llcy5nZXQoJ3VzZXJzTmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgRXZlbnROYW1lID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoRXZlbnROYW1lICE9PSBudWxsICYmIEV2ZW50TmFtZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2Vzc2lvbkV2ZW50ID0gXCJTZXNzaW9uIEV2ZW50OiBcIiArIEV2ZW50TmFtZSArIFwiLlwiOyAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtYXAnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBMb2dJbk91dENvbnRyb2xsZXIgPSBhbmd1bGFyLm1vZHVsZSgnTG9nSW5PdXRDb250cm9sbGVyJywgW10pO1xyXG5cclxuICAgIExvZ0luT3V0Q29udHJvbGxlci5jb250cm9sbGVyKCdsb2dpbkN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGxvY2F0aW9uJywgJyR1aWJNb2RhbCcsICckc2NlJywgJyRodHRwJywgJyRjb29raWVzJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJ1NFUlZFUl9VUkwnLCAnRU5WSVJPTk1FTlQnLCAnTG9naW4nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJGxvY2F0aW9uLCAkdWliTW9kYWwsICRzY2UsICRodHRwLCAkY29va2llcywgJHJvb3RTY29wZSwgJGRvY3VtZW50LCBTRVJWRVJfVVJMLCBFTlZJUk9OTUVOVCwgTG9naW4pIHtcclxuICAgICAgICAgICAgLy9sb2dpbiAvL1xyXG4gICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gXCJcIjtcclxuICAgICAgICAgICAgJHNjb3BlLm5ld3NGZWVkID0gW107XHJcblxyXG4gICAgICAgICAgICBMb2dpbi5nZXROZXdzRmVlZCh7fSxcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gcmVzcG9uc2UudGl0bGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFRhZ3MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhZ3JhcGhUYWdzID0gcmVzcG9uc2UuYm9keS5zdG9yYWdlLnZhbHVlLnNwbGl0KFwiPHA+XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFRhZ3MuZm9yRWFjaChmdW5jdGlvbiAocCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c0ZlZWQucHVzaCgkc2NlLnRydXN0QXNIdG1sKHApKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3c1RpdGxlID0gXCJTVE4gTm90aWNlc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzRmVlZC5wdXNoKFwiQ3VycmVudGx5IG5vdCBhdmFpbGFibGUuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAvLyNyZWdpb24gQ0FQIGxvY2sgQ2hlY2tcclxuICAgICAgICAgICAgJCgnW3R5cGU9cGFzc3dvcmRdJykua2V5cHJlc3MoZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkcGFzc3dvcmQgPSAkKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRvb2x0aXBWaXNpYmxlID0gJCgnLnRvb2x0aXAnKS5pcygnOnZpc2libGUnKSxcclxuICAgICAgICAgICAgICAgICAgICBzID0gU3RyaW5nLmZyb21DaGFyQ29kZShlLndoaWNoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocy50b1VwcGVyQ2FzZSgpID09PSBzICYmIHMudG9Mb3dlckNhc2UoKSAhPT0gcyAmJiAhZS5zaGlmdEtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdG9vbHRpcFZpc2libGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRwYXNzd29yZC50b29sdGlwKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sdGlwVmlzaWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhc3N3b3JkLnRvb2x0aXAoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2hpZGUgdGhlIHRvb2x0aXAgd2hlbiBtb3ZpbmcgYXdheSBmcm9tIHBhc3N3b3JkIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAkcGFzc3dvcmQuYmx1cihmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRwYXNzd29yZC50b29sdGlwKCdoaWRlJyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBDQVAgbG9jayBDaGVja1xyXG5cclxuICAgICAgICAgICAgaWYgKCRkb2N1bWVudFswXS5kb2N1bWVudE1vZGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJyb3dzZXJJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgYXBwbGljYXRpb24gdXNlcyBmdW5jdGlvbmFsaXR5IHRoYXQgaXMgbm90IGNvbXBsZXRlbHkgc3VwcG9ydGVkIGJ5IEludGVybmV0IEV4cGxvcmVyLiBUaGUgcHJlZmVycmVkIGJyb3dzZXIgaXMgQ2hyb21lIChiaXNvbiBjb25uZWN0KS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBEYXRlLnByb3RvdHlwZS5hZGRIb3VycyA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEhvdXJzKHRoaXMuZ2V0SG91cnMoKSArIGgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gRU5WSVJPTk1FTlQ7XHJcbiAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5zdWIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zdERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJ1c2VybmFtZVwiOiAkc2NvcGUudXNlcm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJwYXNzd29yZFwiOiAkc2NvcGUucGFzc3dvcmRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB2YXIgdXAgPSAkc2NvcGUudXNlcm5hbWUgKyBcIjpcIiArICRzY29wZS5wYXNzd29yZDtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXApO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgIExvZ2luLmxvZ2luKHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXQgdXNlciBjb29raWVzIChjcmVkLCB1c2VybmFtZSwgbmFtZSwgcm9sZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJzTkFNRSA9IHVzZXIuZm5hbWUgKyBcIiBcIiArIHVzZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gYnRvYSgkc2NvcGUudXNlcm5hbWUuY29uY2F0KFwiOlwiLCAkc2NvcGUucGFzc3dvcmQpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0IGV4cGlyYXRpb24gb24gY29va2llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cGlyZURhdGUgPSBuZXcgRGF0ZSgpLmFkZEhvdXJzKDgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5DcmVkcycsIGVuYywgeyBleHBpcmVzOiBleHBpcmVEYXRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5Vc2VybmFtZScsICRzY29wZS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ3VzZXJzTmFtZScsIHVzZXJzTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ21JRCcsIHVzZXIubWVtYmVyX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAodXNlci5yb2xlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQWRtaW5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJGaWVsZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJQdWJsaWNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkNpdGl6ZW5NYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCd1c2Vyc1JvbGUnLCByb2xlTmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGgudmFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlcnNOYW1lID0gdXNlcnNOQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSB1c2VyLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSwgeyBpZDogJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlUGFyYW1zIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ21hcCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yID0gXCJMb2dpbiBGYWlsZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9kYWwgZm9yIGVycm9yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSB3YXMgYW4gZXJyb3IuPC9wPjxwPkVycm9yOiB7e3N0YXR1c319IC0ge3tzdGF0dXNUZXh0fX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IGVycm9yUmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXNUZXh0ID0gZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgIC8vbG9nT3V0XHJcbiAgICBMb2dJbk91dENvbnRyb2xsZXIuY29udHJvbGxlcignbG9nb3V0Q3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NsZWFyICRjb29raWVzXHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1NUTlVzZXJuYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ3VzZXJzTmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZXMucmVtb3ZlKCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgIC8vY2xlYXIgJHJvb3RTY29wZVxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUucmV0dXJuVG9TdGF0ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUucmV0dXJuVG9TdGF0ZVBhcmFtcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlc3Npb25FdmVudCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuaXNBdXRoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hUZXJtID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFwcHJvdmFsU2VhcmNoID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VySUQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJSb2xlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2Vyc05hbWUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdxdWlja0hXTUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLFxyXG4gICAgICAgICdhbGxIb3JEYXR1bXMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsU3RhdGVzJywgJ2FsbENvdW50aWVzJywgJ2FsbE9QVHlwZXMnLCAnYWxsVmVydERhdHVtcycsICdhbGxWZXJ0Q29sTWV0aG9kcycsIFxyXG4gICAgICAgICdhbGxPUFF1YWxpdGllcycsICdhbGxIV01UeXBlcycsICdhbGxIV01RdWFsaXRpZXMnLCAnYWxsTWFya2VycycsICdTSVRFJywgJ09CSkVDVElWRV9QT0lOVCcsICdIV00nLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsIGFsbEhvckRhdHVtcywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFN0YXRlcyxcclxuICAgICAgICBhbGxDb3VudGllcywgYWxsT1BUeXBlcywgYWxsVmVydERhdHVtcywgYWxsVmVydENvbE1ldGhvZHMsIGFsbE9QUXVhbGl0aWVzLCBhbGxIV01UeXBlcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxNYXJrZXJzLCBTSVRFLCBPQkpFQ1RJVkVfUE9JTlQsIEhXTSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiUXVpY2sgSFdNXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucWh3bUZvcm0gPSB7fTsgLy9mb3JtcyB3aXRoaW4gdGhlIGFjY29yZGlvbiAuU2l0ZSwgLk9QLCAuSFdNXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0geyBNRU1CRVJfSUQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hT1AgPSB7REFURV9FU1RBQkxJU0hFRDogbWFrZUFkYXRlKFwiXCIpfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0geyBIV01fRU5WSVJPTk1FTlQ6ICdSaXZlcmluZScsIEJBTks6ICdOL0EnLCBGTEFHX0RBVEU6IG1ha2VBZGF0ZShcIlwiKSwgU1RJTExXQVRFUjowIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBzaXRlT3BlbjogdHJ1ZSwgb3BPcGVuOiBmYWxzZSwgaHdtT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb24gZm9yIHBhcnRzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkgPSBbXTsgLy9ob2xkZXIgaWYgdGhleSByZW1vdmUgYW55IE9QIGNvbnRyb2xzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycyA9IFtdOyAvL2hvbGRlciBmb3IgYWRkZWQgSWRlbnRpZmllcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSBmYWxzZTsgLy9pbml0aWFsbHkgaGlkZSB0aGUgYXJlYSBjb250YWluaW5nIGFkZGVkIGNvbnRyb2wgSWRlbnRpZmllcnNcclxuICAgICAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0dW1MaXN0ID0gYWxsSG9yRGF0dW1zOyAkc2NvcGUuaG9yQ29sbE1ldGhvZExpc3QgPSBhbGxIb3JDb2xsTWV0aG9kcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7ICRzY29wZS5hbGxDb3VudHlMaXN0ID0gYWxsQ291bnRpZXM7ICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0ID0gYWxsT1BUeXBlczsgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xsTWV0aG9kTGlzdCA9IGFsbFZlcnRDb2xNZXRob2RzOyAkc2NvcGUub3BRdWFsTGlzdCA9IGFsbE9QUXVhbGl0aWVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsSFdNVHlwZXM7ICRzY29wZS5od21RdWFsTGlzdCA9IGFsbEhXTVF1YWxpdGllczsgJHNjb3BlLm1hcmtlckxpc3QgPSBhbGxNYXJrZXJzO1xyXG4gICAgICAgICAgICAgICAgLy9kZWZhdWx0IHJhZGlvc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRlRvckNNID0gJ2Z0JztcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gYWRkIGlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGROZXdJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2goeyBPQkpFQ1RJVkVfUE9JTlRfSUQ6ICRzY29wZS5hT1AuT0JKRUNUSVZFX1BPSU5UX0lELCBJREVOVElGSUVSOiBcIlwiLCBJREVOVElGSUVSX1RZUEU6IFwiXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGFkZE5ld0lkZW50aWZpZXIgZm9yIE9QXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBsYXQvbG9uZyBzdHVmZlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcy52YWwgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9OyAvL2hvbGRlciBvZiBkZWcgbWluIHNlYyB2YWx1ZXNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgICAgIHZhciBhemltdXRoID0gZnVuY3Rpb24gKGRlZywgbWluLCBzZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhemkgPSAtMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVjIGRlZ3JlZXMgdG8gZG1zXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IobWluZmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5MQVRJVFVERV9ERCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuTE9OR0lUVURFX0REID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5MQVRJVFVERV9ERCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLkxBVElUVURFX0REKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWRETVNhcnJheSA9IGxhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQURlZyA9IGxhZERNU2FycmF5WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGxhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TID0gZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUuTE9OR0lUVURFX0REKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPTWluID0gbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWRkcmVzcyBwYXJ0cyBhbmQgZXhpc3Rpbmcgc2l0ZXMgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZW0gYWxsIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hU2l0ZS5BRERSRVNTOyBkZWxldGUgJHNjb3BlLmFTaXRlLkNJVFk7IGRlbGV0ZSAkc2NvcGUuYVNpdGUuU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdOyBkZWxldGUgJHNjb3BlLmFTaXRlLlpJUDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW9jb2RlciA9IG5ldyBnb29nbGUubWFwcy5HZW9jb2RlcigpOyAvL3JldmVyc2UgYWRkcmVzcyBsb29rdXBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGF0bG5nID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZygkc2NvcGUuYVNpdGUuTEFUSVRVREVfREQsICRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGdlb2NvZGVyLmdlb2NvZGUoeyAnbGF0TG5nJzogbGF0bG5nIH0sIGZ1bmN0aW9uIChyZXN1bHRzLCBzdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PSBnb29nbGUubWFwcy5HZW9jb2RlclN0YXR1cy5PSykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wYXJzZSB0aGUgcmVzdWx0cyBvdXQgaW50byBjb21wb25lbnRzICgnc3RyZWV0X251bWJlcicsICdyb3V0ZScsICdsb2NhbGl0eScsICdhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzInLCAnYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xJywgJ3Bvc3RhbF9jb2RlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZHJlc3NfY29tcG9uZW50cyA9IHJlc3VsdHNbMF0uYWRkcmVzc19jb21wb25lbnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChhZGRyZXNzX2NvbXBvbmVudHMsIGZ1bmN0aW9uIChrLCB2MSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaCh2MS50eXBlcywgZnVuY3Rpb24gKGsyLCB2Mikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzW3YyXSA9IHYxLmxvbmdfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5BRERSRVNTID0gY29tcG9uZW50cy5zdHJlZXRfbnVtYmVyICE9PSB1bmRlZmluZWQgPyBjb21wb25lbnRzLnN0cmVldF9udW1iZXIgKyBcIiBcIiArIGNvbXBvbmVudHMucm91dGUgOiBjb21wb25lbnRzLnJvdXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkNJVFkgPSBjb21wb25lbnRzLmxvY2FsaXR5O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5TVEFURV9OQU1FID09IGNvbXBvbmVudHMuYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5TVEFURSA9IHRoaXNTdGF0ZS5TVEFURV9BQkJSRVY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5TVEFURV9JRCA9PSB0aGlzU3RhdGUuU1RBVEVfSUQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5DT1VOVFkgPSBjb21wb25lbnRzLmFkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuWklQID0gY29tcG9uZW50cy5wb3N0YWxfY29kZTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGUgTGF0aXR1ZGUvTG9uZ2l0dWRlIGRpZCBub3QgcmV0dXJuIGEgbG9jYXRpb24gd2l0aGluIHRoZSBVLlMuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlcmUgd2FzIGFuIGVycm9yIGdldHRpbmcgYWRkcmVzcy4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgZ2V0QWRkcmVzcygpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGxhdC9sb25nIHN0dWZmXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2hlbiBTSVRFLnN0YXRlIGNoYW5nZXMsIHVwZGF0ZSBjb3VudHkgbGlzdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUNvdW50eUxpc3QgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LlNUQVRFX0FCQlJFViA9PSBzOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLlNUQVRFX0lEID09IHRoaXNTdGF0ZS5TVEFURV9JRDsgfSk7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIHVwZGF0ZUNvdW50eUxpc3QoKSBmb3IgU2l0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSB1bmNlcnRhaW50eSBjbGVhcmVkIGFuZCBkaXNhYmxlZCB3aGVuICd1bnF1YW50aWZpZWQnIGlzIGNoZWNrZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5VbnF1YW50Q2hlY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFPUC5VTlFVQU5USUZJRUQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5VTkNFUlRBSU5UWSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIHVucXVhbnRDaGVja2VkKCkgZm9yIG9wXHJcblxyXG4gICAgICAgICAgICAgICAgLy9qdXN0IG5lZWQgYW4gT0JKRUNUSVZFX1BPSU5UIG9iamVjdCB0byBwb3N0L3B1dFxyXG4gICAgICAgICAgICAgICAgdmFyIHRyaW1PUCA9IGZ1bmN0aW9uIChvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBPQkpfUFQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVF9JRDogb3AuT0JKRUNUSVZFX1BPSU5UX0lEICE9PSB1bmRlZmluZWQgPyBvcC5PQkpFQ1RJVkVfUE9JTlRfSUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOQU1FOiBvcC5OQU1FLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVNDUklQVElPTjogb3AuREVTQ1JJUFRJT04sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVMRVZfRlQ6IG9wLkVMRVZfRlQgIT09IHVuZGVmaW5lZCA/IG9wLkVMRVZfRlQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRFX0VTVEFCTElTSEVEOiBvcC5EQVRFX0VTVEFCTElTSEVELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9JU19ERVNUUk9ZRUQ6IG9wLk9QX0lTX0RFU1RST1lFRCAhPT0gdW5kZWZpbmVkID8gb3AuT1BfSVNfREVTVFJPWUVEIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfTk9URVM6IG9wLk9QX05PVEVTICE9PSB1bmRlZmluZWQgPyBvcC5PUF9OT1RFUyA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNJVEVfSUQ6IG9wLlNJVEVfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZEQVRVTV9JRDogb3AuVkRBVFVNX0lEICE9PSB1bmRlZmluZWQgPyBvcC5WREFUVU1fSUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBMQVRJVFVERV9ERDogb3AuTEFUSVRVREVfREQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExPTkdJVFVERV9ERDogb3AuTE9OR0lUVURFX0RELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIREFUVU1fSUQ6IG9wLkhEQVRVTV9JRCAhPT0gdW5kZWZpbmVkID8gb3AuSERBVFVNX0lEIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSENPTExFQ1RfTUVUSE9EX0lEOiBvcC5IQ09MTEVDVF9NRVRIT0RfSUQgIT09IHVuZGVmaW5lZCA/IG9wLkhDT0xMRUNUX01FVEhPRF9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZDT0xMRUNUX01FVEhPRF9JRDogb3AuVkNPTExFQ1RfTUVUSE9EX0lEICE9PSB1bmRlZmluZWQgPyBvcC5WQ09MTEVDVF9NRVRIT0RfSUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9UWVBFX0lEOiBvcC5PUF9UWVBFX0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRFX1JFQ09WRVJFRDogb3AuREFURV9SRUNPVkVSRUQgIT09IHVuZGVmaW5lZCA/IG9wLkRBVEVfUkVDT1ZFUkVEIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVU5DRVJUQUlOVFk6IG9wLlVOQ0VSVEFJTlRZICE9PSB1bmRlZmluZWQgPyBvcC5VTkNFUlRBSU5UWSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFVOUVVBTlRJRklFRDogb3AuVU5RVUFOVElGSUVEICE9PSB1bmRlZmluZWQgPyBvcC5VTlFVQU5USUZJRUQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9RVUFMSVRZX0lEOiBvcC5PUF9RVUFMSVRZX0lEICE9PSB1bmRlZmluZWQgPyBvcC5PUF9RVUFMSVRZX0lEIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBPQkpfUFQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZml4IGRlZmF1bHQgcmFkaW9zIGFuZCBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcm1hdERlZmF1bHRzID0gZnVuY3Rpb24gKHRoZU9QKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvck1FVEVSIG5lZWRzIHRvIGJlICdmdCcuIGlmICdtZXRlcicgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yTUVURVIgPT0gXCJtZXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5FTEVWX0ZUID0gJHNjb3BlLmFPUC5FTEVWX0ZUICogMy4yODA4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yQ00gbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ2NtJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JDTSA9PSBcImNtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLlVOQ0VSVEFJTlRZID0gJHNjb3BlLmFPUC5VTkNFUlRBSU5UWSAvIDMwLjQ4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLm9wRXJyb3JzID0gZmFsc2U7ICRzY29wZS5od21FcnJvcnMgPSBmYWxzZTsgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVGb3JtID0gJHNjb3BlLnFod21Gb3JtLnF1aWNrSFdNOyAkc2NvcGUuc2l0ZUVycm9ycyA9IGZhbHNlOyAkc2NvcGUub3BFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLmh3bUVycm9ycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVGb3JtLiR2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NpdGUgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2l0ZUlEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQgPiAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCA9ICRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQgKiAoLTEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BPU1Qgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTSVRFLnNhdmUoJHNjb3BlLmFTaXRlLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2l0ZUlEID0gcmVzcG9uc2UuU0lURV9JRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuU0lURV9JRCA9IGNyZWF0ZWRTaXRlSUQ7ICRzY29wZS5hT1AuTEFUSVRVREVfREQgPSByZXNwb25zZS5MQVRJVFVERV9ERDsgJHNjb3BlLmFPUC5MT05HSVRVREVfREQgPSByZXNwb25zZS5MT05HSVRVREVfREQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkhEQVRVTV9JRCA9IHJlc3BvbnNlLkhEQVRVTV9JRDsgJHNjb3BlLmFPUC5IQ09MTEVDVF9NRVRIT0RfSUQgPSByZXNwb25zZS5IQ09MTEVDVF9NRVRIT0RfSUQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uU0lURV9JRCA9IGNyZWF0ZWRTaXRlSUQ7ICRzY29wZS5hSFdNLldBVEVSQk9EWSA9IHJlc3BvbnNlLldBVEVSQk9EWTsgJHNjb3BlLmFIV00uTEFUSVRVREVfREQgPSByZXNwb25zZS5MQVRJVFVERV9ERDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLkxPTkdJVFVERV9ERCA9IHJlc3BvbnNlLkxPTkdJVFVERV9ERDsgJHNjb3BlLmFIV00uSENPTExFQ1RfTUVUSE9EX0lEID0gcmVzcG9uc2UuSENPTExFQ1RfTUVUSE9EX0lEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uSERBVFVNX0lEID0gcmVzcG9uc2UuSERBVFVNX0lEOyAkc2NvcGUuYUhXTS5GTEFHX1RFQU1fSUQgPSByZXNwb25zZS5NRU1CRVJfSUQ7ICRzY29wZS5hSFdNLkVWRU5UX0lEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vT1Agc3R1ZmYgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRPUCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUuYU9QKTsgLy8kc2NvcGUuT1AuRlRvck1FVEVSLCBGVG9yQ00sIGRlY0RlZ09SZG1zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE9QdG9QT1NUID0gdHJpbU9QKCRzY29wZS5hT1ApOyAvL21ha2UgaXQgYW4gT0JKRUNUSVZFX1BPSU5UIGZvciBzYXZpbmdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuc2F2ZShPUHRvUE9TVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPUCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBlYWNoIG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvcGMgPSAwOyBvcGMgPCAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGg7IG9wYysrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULmNyZWF0ZU9QQ29udHJvbElEKHsgaWQ6IHJlc3BvbnNlLk9CSkVDVElWRV9QT0lOVF9JRCB9LCAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc1tvcGNdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9IV00gc3R1ZmYgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGV5IGVudGVyZWQgYSBzdXJ2ZXkgZGF0ZSBvciBlbGV2YXRpb24sIHRoZW4gc2V0IHN1cnZleSBtZW1iZXIgYXMgdGhlIGZsYWcgbWVtYmVyIChmbGFnZ2luZyBhbmQgc3VydmV5aW5nIGF0IHNhbWUgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5TVVJWRVlfREFURSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5TVVJWRVlfVEVBTV9JRCA9ICRzY29wZS5hSFdNLkZMQUdfVEVBTV9JRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLkVMRVZfRlQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGFkZGVkIHRoZSBzdXJ2ZXkgZGF0ZSBpZiB0aGV5IGFkZGVkIGFuIGVsZXZhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uU1VSVkVZX0RBVEUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlNVUlZFWV9EQVRFID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uU1VSVkVZX1RFQU1fSUQgPSAkc2NvcGUuYUhXTS5GTEFHX1RFQU1fSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKCRzY29wZS5hSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlF1aWNrIEhXTSBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgY3JlYXRlZFNpdGVJRCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgSFdNLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgT1Auc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIFNJVEUuc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5zaXRlT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMub3BPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5od21PcGVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdcIiArIHRoZUZvcm0uJG5hbWUgKyBcIiddXCIpLmZpbmQoJy5uZy1pbnZhbGlkOnZpc2libGU6Zmlyc3QnKS5mb2N1cygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uU0lURV9ERVNDUklQVElPTi4kaW52YWxpZCB8fCB0aGVGb3JtLkxBVElUVURFX0RELiRpbnZhbGlkIHx8IHRoZUZvcm0uTE9OR0lUVURFX0RELiRpbnZhbGlkIHx8IHRoZUZvcm0uSERBVFVNX0lELiRpbnZhbGlkIHx8IHRoZUZvcm0uSENPTExFQ1RfTUVUSE9EX0lELiRpbnZhbGlkIHx8IHRoZUZvcm0uV0FURVJCT0RZLiRpbnZhbGlkIHx8IHRoZUZvcm0uU1RBVEUuJGludmFsaWR2IHx8IHRoZUZvcm0uQ09VTlRZLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uT1BfVFlQRV9JRC4kaW52YWxpZCB8fCB0aGVGb3JtLk5BTUUuJGludmFsaWQgfHwgdGhlRm9ybS5ERVNDUklQVElPTi4kaW52YWxpZCB8fCB0aGVGb3JtLmRlLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BFcnJvcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGVGb3JtLkhXTV9UWVBFX0lELiRpbnZhbGlkIHx8IHRoZUZvcm0uSFdNX0VOVklST05NRU5ULiRpbnZhbGlkIHx8IHRoZUZvcm0uSFdNX1FVQUxJVFlfSUQuJGludmFsaWQgfHwgdGhlRm9ybS5mZC4kaW52YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiUXVpY2sgSFdNIG5vdCBjcmVhdGVkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgIH0vL2VuZCBlbHNlIChsb2dnZWQgaW4pXHJcbiAgICAgICAgfV0pO1xyXG4gIFxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHNjZScsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAnU0VSVkVSX1VSTCcsICdGSUxFX1NUQU1QJywgJ2FsbERyb3Bkb3ducycsICdTaXRlX0ZpbGVzJywgJ3RoaXNIV00nLCAnYWxsU2l0ZUhXTXMnLCAnaHdtQXBwcm92YWwnLCAnYWdlbmN5TGlzdCcsICdod21TaXRlJywgJ2FsbE1lbWJlcnMnLCAnSFdNJywgJ1NPVVJDRScsICdGSUxFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICRzY2UsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIEZJTEVfU1RBTVAsIGFsbERyb3Bkb3ducywgU2l0ZV9GaWxlcywgdGhpc0hXTSwgYWxsU2l0ZUhXTXMsIGh3bUFwcHJvdmFsLCBhZ2VuY3lMaXN0LCBod21TaXRlLCBhbGxNZW1iZXJzLCBIV00sIFNPVVJDRSwgRklMRSkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgSFdNdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuaCA9IHsgaE9wZW46IHRydWUsIGhGaWxlT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICRzY29wZS5od21UeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsRHJvcGRvd25zWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSERhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbMl07XHJcbiAgICAgICAgICAgICRzY29wZS5oQ29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS52Q29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUubWFya2VyTGlzdCA9IGFsbERyb3Bkb3duc1s2XTtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbERyb3Bkb3duc1s3XTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1s4XTsgLy91c2VkIGlmIGNyZWF0aW5nL2VkaXRpbmcgSFdNIGZpbGUgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMgPSB0aGlzSFdNICE9PSBcImVtcHR5XCIgPyAkc2NvcGUuYWxsU0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2YpIHsgcmV0dXJuIHNmLmh3bV9pZCA9PSB0aGlzSFdNLmh3bV9pZDsgfSkgOiBbXTsvLyBob2xkZXIgZm9yIGh3bSBmaWxlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcyA9ICRzY29wZS5IV01GaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGhmKSB7IHJldHVybiBoZi5maWxldHlwZV9pZCA9PT0gMTsgfSk7IC8vaW1hZ2UgZmlsZXMgZm9yIGNhcm91c2VsXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgZmlsZSB0byBod21cclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLkZsYWdNZW1iZXIgPSBcIlwiOyAvL2p1c3QgZm9yIHNob3cgb24gcGFnZVxyXG4gICAgICAgICAgICAkc2NvcGUuU3VydmV5TWVtYmVyID0gXCJcIjsgLy9qdXN0IGZvciBzaG93IG9uIHBhZ2VcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gZmFsc2U7IC8vdG9nZ2xlIHRvIHNob3cvaGlkZSBldmVudCBkZCAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9OyAvL3dpbGwgaG9sZCBldmVudF9pZCBpZiBhZG1pbiBjaGFuZ2VzIGl0LiBhcHBseSB3aGVuIFBVVHRpbmdcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgIC8vYnV0dG9uIGNsaWNrIHRvIHNob3cgZXZlbnQgZHJvcGRvd24gdG8gY2hhbmdlIGl0IG9uIGV4aXN0aW5nIGh3bSAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dDaGFuZ2VFdmVudEREID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gISRzY29wZS5zaG93RXZlbnRERDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2hhbmdlIGV2ZW50ID0gYXBwbHkgaXQgdG8gdGhlICRzY29wZS5FdmVudE5hbWVcclxuICAgICAgICAgICAgJHNjb3BlLkNoYW5nZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuZXZlbnRfaWQgPT0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuTG9nZ2VkSW5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTSA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS50aGlzSFdNc2l0ZSA9IGh3bVNpdGU7XHJcbiAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8gPSB7fTsgLy93aGVuIGl0IGdldHMgYXBwcm92ZWQgb3IgaWYgaXQgaXMgYXBwcm92ZWQsIHBvcHVsYXRlIHRoaXMgd2l0aCBtZW1iZXIgYW5kIGRhdGVcclxuICAgICAgICAgICAgLy9EYXRlcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgdmFyIGF6aW11dGggPSBmdW5jdGlvbiAoZGVnLCBtaW4sIHNlYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF6aSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IC0xLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTEuMCAqIGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IDEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NvbnZlcnQgZGVjIGRlZ3JlZXMgdG8gZG1zXHJcbiAgICAgICAgICAgIHZhciBkZWdfdG9fZG1zID0gZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb25naXR1ZGUsIHJlbW92ZSB0aGUgLSBzaWduXHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkID0gTWF0aC5mbG9vcihkZWcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbmZsb2F0ID0gKGRlZyAtIGQpICogNjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IobWluZmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAoKG1pbmZsb2F0IC0gbSkgKiA2MCkudG9GaXhlZCgzKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFwiXCIgKyBkICsgXCI6XCIgKyBtICsgXCI6XCIgKyBzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSBjaGFuZ2VkIHJhZGlvIGJ1dHRvbiBmb3IgZG1zIGRlYyBkZWdcclxuICAgICAgICAgICAgJHNjb3BlLmxhdExvbmdDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNyZWF0ZU9SZWRpdEhXTSA9PSAnZWRpdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TZGRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHRocmVlIGlucHV0cyBmb3IgY29udmVyc2lvbiBmcm9tIERNUyB0byBEZWNpbWFsIERlZ3JlZXMgdG8gd29yay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBETVNkZE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gbGFkRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGxvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDsgJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmRlY0RlZ09SZG1zID09IFwiZGRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgd2hhdCdzIGhlcmUgZm9yIGVhY2ggbGF0IGFuZCBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IG1vZGFsIHRlbGxpbmcgdGhlbSB0byBwb3B1bGF0ZSBhbGwgdGhyZWUgKERNUykgZm9yIGNvbnZlcnNpb24gdG8gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERNU01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNU01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVfbGFkRE1TYXJyYXkgPSBjcmVhdGVfbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gY3JlYXRlX2xhZERNU2FycmF5WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGNyZWF0ZV9sYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBjcmVhdGVfbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sb25nRE1TID0gZGVnX3RvX2Rtcygkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sb25nRE1TYXJyYXkgPSBjcmVhdGVfbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBjcmVhdGVfbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDsgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sYXQgbW9kYWwgXHJcbiAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodywgbWVzc2FnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPnt7bWVzc2FnZX19PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdzaG93JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cgPT0gJ3JhbmdlJykgJHNjb3BlLm1lc3NhZ2UgPSAnVGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93ID09ICdkaXN0YW5jZScpICRzY29wZS5tZXNzYWdlID0gJ0xhdGl0dWRlIHBsYWNlcyB0aGUgSFdNIG1vcmUgdGhhbiAyMzIgZnQgZnJvbSB0aGUgc2l0ZVxcJ3MgbGF0aXR1ZGUuIFBsZWFzZSB2ZXJpZnkgYmVmb3JlIGNvbnRpbnVpbmcuJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxhdE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3LCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPnt7bWVzc2FnZX19PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3c6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdzaG93JywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIHNob3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cgPT0gJ3JhbmdlJykgJHNjb3BlLm1lc3NhZ2UgPSAnVGhlIExvbmdpdHVkZSBtdXN0IGJlIGJldHdlZW4gLTE3NS4wIGFuZCAtNjAuMCc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyA9PSAnZGlzdGFuY2UnKSAkc2NvcGUubWVzc2FnZSA9ICdMb25naXR1ZGUgcGxhY2VzIHRoZSBIV00gbW9yZSB0aGFuIDIzMiBmdCBmcm9tIHRoZSBzaXRlXFwncyBsb25naXR1ZGUuIFBsZWFzZSB2ZXJpZnkgYmVmb3JlIGNvbnRpbnVpbmcnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbG9uZ01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xvbmdpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL21ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgcmlnaHQgbnVtYmVyIHJhbmdlXHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja1ZhbHVlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgZGVncmVlIHZhbHVlIChsZXNzIHRoYW4vZ3JlYXRlciB0aGFuIGFuZCBpZiBpdCdzIGEgbnVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgPCAwIHx8ICRzY29wZS5ETVMuTEFEZWcgPiA3MyB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykgJiYgJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2RtcycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSkgJHNjb3BlLkRNUy5MQURlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pKSAkc2NvcGUuRE1TLkxBTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykpICRzY29wZS5ETVMuTEFTZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBkaXN0YW5jZSBpcyBmYXJ0aGVyIHRoYW4gMjMyIGZ0IGZyb20gc2l0ZSdzIGxhdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0ID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERpcyA9IGh3bVNpdGUubGF0aXR1ZGVfZGQgLSBsYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsYXREaXMpID4gMC4wMDA1KSBvcGVuTGF0TW9kYWwoJ2RtcycsICdkaXN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyA8IC0xNzUgfHwgJHNjb3BlLkRNUy5MT0RlZyA+IC02MCB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykgJiYgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdkbXMnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT0RlZykpICRzY29wZS5ETVMuTE9EZWcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPTWluKSkgJHNjb3BlLkRNUy5MT01pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9TZWMpKSAkc2NvcGUuRE1TLkxPU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgZGlzdGFuY2UgaXMgZmFydGhlciB0aGFuIDIzMiBmdCBmcm9tIHNpdGUncyBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsbyA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb0RpcyA9IGh3bVNpdGUubG9uZ2l0dWRlX2RkIC0gbG87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsb0RpcykgPiAwLjAwMDUpIG9wZW5Mb25nTW9kYWwoJ2RtcycsICdkaXN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGgubGF0aXR1ZGVfZGQgPCAwIHx8IGgubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTihoLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGgubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGRpc3RhbmNlIGZyb20gc2l0ZSdzIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXREaXN0YW5jZSA9IGh3bVNpdGUubGF0aXR1ZGVfZGQgLSBoLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobGF0RGlzdGFuY2UpID4gMC4wMDA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnLCAnZGlzdGFuY2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaC5sb25naXR1ZGVfZGQgPCAtMTc1IHx8IGgubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKGgubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGgubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGRpc3RhbmNlIGZyb20gc2l0ZSdzIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRGlzdGFuY2UgPSBod21TaXRlLmxvbmdpdHVkZV9kZCAtIGgubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMobG9uZ0Rpc3RhbmNlKSA+IDAuMDAwNSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycsICdkaXN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAgbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtX3VuY2VydGFpbnR5IHR5cGVkIGluLCBjaG9vc2UgY29vcmVzcG9uZGluZyBod21fZW52aXJvbm1lbnRcclxuICAgICAgICAgICAgJHNjb3BlLmNob29zZVF1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgaWYgKGguaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICBFeGNlbGxlbnQgICAgKy0wLjA1ICAgICAgIDAgICAgICAtICAwLjA1MFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICBHb29kICAgICAgICAgKy0wLjEwICAgICAgIDAuMDUxICAtICAwLjEwMFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICBGYWlyICAgICAgICAgKy0wLjIwICAgICAgIDAuMTAxICAtICAwLjIwMFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICBQb29yICAgICAgICAgKy0wLjQwICAgICAgIDAuMjAxICAtICAwLjQwMFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICBWIFBvb3IgICAgICAgPiAwLjQwICAgICAgIDAuNDAxICAtICBpbmZpbml0eVxyXG4gICAgICAgICAgICAgICAgICAgIGguaHdtX3F1YWxpdHlfaWQgPSAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7IH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2h3bSBxdWFsaXR5IGNob3NlbiAob3IgaXQgY2hhbmdlZCBmcm9tIGFib3ZlKSwgY2hlY2sgdG8gbWFrZSBzdXJlIGl0IGlzIGNvbmdydWVudCB3aXRoIGlucHV0IGFib3ZlXHJcbiAgICAgICAgICAgICRzY29wZS5jb21wYXJlVG9VbmNlcnRhaW50eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5od21fdW5jZXJ0YWludHkgIT09IFwiXCIgJiYgaC5od21fdW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gTnVtYmVyKGguaHdtX3VuY2VydGFpbnR5KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hpbmdRdWFsSWQgPSAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7IH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoLmh3bV9xdWFsaXR5X2lkICE9PSBtYXRjaGluZ1F1YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgd2FybmluZyBtb2RhbCBhbmQgZm9jdXMgaW4gdW5jZXJ0YWludHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluY29uZ3J1ZW50TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgaXMgYSBtaXNtYXRjaCBiZXR3ZWVuIHRoZSBod20gcXVhbGl0eSBjaG9zZW4gYW5kIHRoZSBod20gdW5jZXJ0YWludHkgYWJvdmUuIFBsZWFzZSBjb3JyZWN0IHlvdXIgaHdtIHVuY2VydGFpbnR5LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb25ncnVlbnRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCJbbmFtZT0naHdtX3VuY2VydGFpbnR5J11cIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc0hXTSAhPSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBleGlzdGluZyBIV01cclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRIV00gPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTSA9IGFuZ3VsYXIuY29weSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IGFsbCB0aGUgbmFtZXMgZm9yIGRldGFpbHMgdmlld1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaHdtX3R5cGUgPSAkc2NvcGUuaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGVfaWQgPT0gJHNjb3BlLmFIV00uaHdtX3R5cGVfaWQ7IH0pWzBdLmh3bV90eXBlO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5UcmFucXVpbCA9ICRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgPiAwID8gJ1llcycgOiAnTm8nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uTWFya2VyID0gJHNjb3BlLmFIV00ubWFya2VyX2lkID4gMCA/ICRzY29wZS5tYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXJfaWQgPT0gJHNjb3BlLmFIV00ubWFya2VyX2lkOyB9KVswXS5tYXJrZXIxIDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5RdWFsaXR5ID0gJHNjb3BlLmFIV00uaHdtX3F1YWxpdHlfaWQgPiAwID8gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHEpIHsgcmV0dXJuIGhxLmh3bV9xdWFsaXR5X2lkID09ICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkOyB9KVswXS5od21fcXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaGRhdHVtID0gJHNjb3BlLmFIV00uaGRhdHVtX2lkID4gMCA/ICRzY29wZS5IRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00uaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5oQ29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udkRhdHVtID0gJHNjb3BlLmFIV00udmRhdHVtX2lkID4gMCA/ICRzY29wZS5WRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00udmNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS52Q29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgYXBwcm92YWwgaW5mbyBpZiBhbnlcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmdldEhXTUFwcHJvdmFsKHsgaWQ6ICRzY29wZS5hSFdNLmh3bV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKHJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gcmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtIGFwcHJvdmFsIGluZm86IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bSBhcHByb3ZhbCBpbmZvOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bU1vZGFsSGVhZGVyID0gXCJIV00gSW5mb3JtYXRpb25cIjtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IHRoaXMgaHdtJ3MgZXZlbnQgbmFtZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5hSFdNLmV2ZW50X2lkID4gMCA/ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5hSFdNLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lIDogJ05vbmUgcHJvdmlkZWQnO1xyXG4gICAgICAgICAgICAgICAgLy9kYXRlIGZvcm1hdHRpbmdcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmZsYWdfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYUhXTS5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGlzIGlzIHN1cnZleWVkLCBkYXRlIGZvcm1hdCBhbmQgZ2V0IHN1cnZleSBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IG51bGwgJiYgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU3VydmV5TWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9nZXQgZmxhZ2dpbmcgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkZsYWdNZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV4aXN0aW5nIEhXTVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIG5ldyBIV01cclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Nb2RhbEhlYWRlciA9IFwiQ3JlYXRlIG5ldyBIV01cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRIV00gPSAnY3JlYXRlJztcclxuICAgICAgICAgICAgICAgIC8vdXNlIHNpdGUncyBMQVQsIExPTkcsIHdhdGVyYm9keSwgSERBVFVNLCBIQ09MTEVDVE1FVEhPRCwgc2V0IEZMQUdEQVRFIHdpdGggdG9kYXlcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2Vudmlyb25tZW50OiAnUml2ZXJpbmUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhbms6ICdOL0EnLFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bV9sYWJlbDogJ25vX2xhYmVsJyxcclxuICAgICAgICAgICAgICAgICAgICBzdGlsbHdhdGVyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiBod21TaXRlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogaHdtU2l0ZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXJib2R5OiBod21TaXRlLndhdGVyYm9keSxcclxuICAgICAgICAgICAgICAgICAgICBoZGF0dW1faWQ6IGh3bVNpdGUuaGRhdHVtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogaHdtU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19kYXRlOiBtYWtlQWRhdGUoXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19tZW1iZXJfaWQ6ICRzY29wZS5Mb2dnZWRJbk1lbWJlci5tZW1iZXJfaWRcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9ICRzY29wZS5Mb2dnZWRJbk1lbWJlcjtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBuZXcgSFdNXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9yYWRpbyBidXR0b24gZGVmYXVsdHNcclxuICAgICAgICAgICAgJHNjb3BlLmFIV00uZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTS5GVG9yQ00gPSAnZnQnO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRIV00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgbGF0L2xvbmcgYXJlIHdpdGhpbiBjb3JyZWN0IHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXRpdHVkZSBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2l0dWRlX2RkIGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhdCBhbmQgbG9uZyBhcmUgZ29vZCFcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGV5IGVudGVyZWQgYSBzdXJ2ZXkgZGF0ZSBvciBlbGV2YXRpb24sIHRoZW4gc2V0IHN1cnZleSBtZW1iZXIgYXMgdGhlIGZsYWcgbWVtYmVyIChmbGFnZ2luZyBhbmQgc3VydmV5aW5nIGF0IHNhbWUgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuZmxhZ19tZW1iZXJfaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uRlRvckNNID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnVuY2VydGFpbnR5ID0gcGFyc2VGbG9hdCgkc2NvcGUuYUhXTS51bmNlcnRhaW50eSAvIDMwLjQ4KS50b0ZpeGVkKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uZWxldl9mdCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hSFdNLmVsZXZfZnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZXkgYWRkZWQgdGhlIHN1cnZleSBkYXRlIGlmIHRoZXkgYWRkZWQgYW4gZWxldmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfbWVtYmVyX2lkID0gJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV00uc2F2ZSgkc2NvcGUuYUhXTSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRIV00gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZEhXTSwgJ2NyZWF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGFsbCdzIGdvb2QgdG8gcG9zdFxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBod20gKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSFdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzSFdNID0gJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwcm92ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9J21vZGFsLWhlYWRlcic+PGgzIGNsYXNzPSdtb2RhbC10aXRsZSc+QXBwcm92ZSBIV008L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3UgcmVhZHkgdG8gYXBwcm92ZSB0aGlzIEhXTT88L3A+PHA+VGhlIHN1cnZleWVkIGVsZXZhdGlvbiBpcyB7e2FwcHJvdmVIV00uZWxldl9mdCB8fCAnLS0tJ319PC9wPjxwPlRoZSBoZWlnaHQgYWJvdmUgZ3JvdW5kIGlzIHt7YXBwcm92ZUhXTS5oZWlnaHRfYWJvdmVfZ25kIHx8ICctLS0nfX08L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSdhcHByb3ZlSXQoKSc+QXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSFdNID0gdGhpc0hXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0hXTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmFwcHJvdmVIV00oeyBpZDogaC5od21faWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gQXBwcm92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgc2VuZEJhY2sgPSBbaCwgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9naWMgZm9yIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgaHdtIChpZiBhZG1pbiBvciBtYW5hZ2VyKVxyXG4gICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlSFdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzSFdNID0gJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5hcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5SZW1vdmUgQXBwcm92YWw8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FuIHRvIHVuYXBwcm92ZSB0aGlzIEhXTT88L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSd1bkFwcHJvdmVJdCgpJz5VbmFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUhXTSA9IHRoaXNIV007XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0hXTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1bmFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBIV00udW5BcHByb3ZlSFdNKHsgaWQ6IGguaHdtX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmFwcHJvdmFsX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gVW5hcHByb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBzZW5kQmFjayA9IFtoLCAndXBkYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVuYXBwcm92aW5nOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5hcHByb3ZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdEhXTSA9IGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkSFdNID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGh3bV9pZDogaC5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgd2F0ZXJib2R5OiBoLndhdGVyYm9keSxcclxuICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBoLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IGguZXZlbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX3R5cGVfaWQ6IGguaHdtX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX3F1YWxpdHlfaWQ6IGguaHdtX3F1YWxpdHlfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2xvY2F0aW9uZGVzY3JpcHRpb246IGguaHdtX2xvY2F0aW9uZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IGgubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiBoLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlfZGF0ZTogaC5zdXJ2ZXlfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBlbGV2X2Z0OiBoLmVsZXZfZnQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmRhdHVtX2lkOiBoLnZkYXR1bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICB2Y29sbGVjdF9tZXRob2RfaWQ6IGgudmNvbGxlY3RfbWV0aG9kX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhbms6IGguYmFuayxcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZhbF9pZDogaC5hcHByb3ZhbF9pZCxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJfaWQ6IGgubWFya2VyX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodF9hYm92ZV9nbmQ6IGguaGVpZ2h0X2Fib3ZlX2duZCxcclxuICAgICAgICAgICAgICAgICAgICBoY29sbGVjdF9tZXRob2RfaWQ6IGguaGNvbGxlY3RfbWV0aG9kX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlYWtfc3VtbWFyeV9pZDogaC5wZWFrX3N1bW1hcnlfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX25vdGVzOiBoLmh3bV9ub3RlcyxcclxuICAgICAgICAgICAgICAgICAgICBod21fZW52aXJvbm1lbnQ6IGguaHdtX2Vudmlyb25tZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIGZsYWdfZGF0ZTogaC5mbGFnX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RpbGx3YXRlcjogaC5zdGlsbHdhdGVyLFxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXR1bV9pZDogaC5oZGF0dW1faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19tZW1iZXJfaWQ6IGguZmxhZ19tZW1iZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VydmV5X21lbWJlcl9pZDogaC5zdXJ2ZXlfbWVtYmVyX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHVuY2VydGFpbnR5OiBoLnVuY2VydGFpbnR5LFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bV91bmNlcnRhaW50eTogaC5od21fdW5jZXJ0YWludHksXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2xhYmVsOiBoLmh3bV9sYWJlbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXR0ZWRIV007XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vc2F2ZSBhSFdNXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZEhXTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIHRoYXQgdGhlIGxhdC9sb25nIGFyZSB3aXRoaW4gY29ycmVjdCByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGF0aXR1ZGUgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTigkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxvbmdpdHVkZV9kZCBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXQgYW5kIGxvbmcgYXJlIGdvb2QhXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkbWluIGNoYW5nZWQgdGhlIGV2ZW50IGZvciB0aGlzIGh3bS4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5ldmVudF9pZCA9ICRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGV5IGFkZGVkIGEgc3VydmV5IGRhdGUsIGFwcGx5IHN1cnZleSBtZW1iZXIgYXMgbG9nZ2VkIGluIG1lbWJlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnVuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkudW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5od21Db3B5LnVuY2VydGFpbnR5IC8gMzAuNDgpLnRvRml4ZWQoNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmh3bUNvcHkuZWxldl9mdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuc3VydmV5X21lbWJlcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xlYW5IV00gPSBmb3JtYXRIV00oJHNjb3BlLmh3bUNvcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV00udXBkYXRlKHsgaWQ6IGNsZWFuSFdNLmh3bV9pZCB9LCBjbGVhbkhXTSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTSA9IHJlc3BvbnNlOyB0aGlzSFdNID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBhbGwgdGhlIG5hbWVzIGZvciBkZXRhaWxzIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmh3bV90eXBlID0gJHNjb3BlLmh3bVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHQpIHsgcmV0dXJuIGh0Lmh3bV90eXBlX2lkID09ICRzY29wZS5hSFdNLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdGlsbHdhdGVyICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uVHJhbnF1aWwgPSAkc2NvcGUuYUhXTS5zdGlsbHdhdGVyID4gMCA/ICdZZXMnIDogJ05vJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLk1hcmtlciA9ICRzY29wZS5hSFdNLm1hcmtlcl9pZCA+IDAgPyAkc2NvcGUubWFya2VyTGlzdC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWFya2VyX2lkID09ICRzY29wZS5hSFdNLm1hcmtlcl9pZDsgfSlbMF0ubWFya2VyMSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uUXVhbGl0eSA9ICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkID4gMCA/ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhxKSB7IHJldHVybiBocS5od21fcXVhbGl0eV9pZCA9PSAkc2NvcGUuYUhXTS5od21fcXVhbGl0eV9pZDsgfSlbMF0uaHdtX3F1YWxpdHkgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhkYXR1bSA9ICRzY29wZS5hSFdNLmhkYXR1bV9pZCA+IDAgPyAkc2NvcGUuSERhdHVtc0xpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLmFIV00uaGRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5oQ29sbGVjdE1ldGhvZCA9ICRzY29wZS5hSFdNLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuaENvbGxNTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhjKSB7IHJldHVybiBoYy5oY29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLmFIV00uaGNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS5oY29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnZEYXR1bSA9ICRzY29wZS5hSFdNLnZkYXR1bV9pZCA+IDAgPyAkc2NvcGUuVkRhdHVtc0xpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLmFIV00udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS52Q29sbGVjdE1ldGhvZCA9ICRzY29wZS5hSFdNLnZjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUudkNvbGxNTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZjKSB7IHJldHVybiB2Yy52Y29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLmFIV00udmNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS52Y29sbGVjdF9tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmZsYWdfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYUhXTS5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyBpdCBhcHByb3ZlZD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21BcHByb3ZhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShod21BcHByb3ZhbC5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gaHdtQXBwcm92YWwubWVtYmVyX2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgc3VydmV5ZWQsIGRhdGUgZm9ybWF0IGFuZCBnZXQgc3VydmV5IG1lbWJlcidzIG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TdXJ2ZXlNZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFIV00uc3VydmV5X21lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgZmxhZ2dpbmcgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkZsYWdNZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFIV00uZmxhZ19tZW1iZXJfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRIV00sICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vLyBlbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIGFIV01cclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUhXTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzo6IERlbGV0ZSB0aGUgZmlsZXMgZm9yIHRoaXMgaHdtIHRvbyBvciByZWFzc2lnbiB0byB0aGUgU2l0ZT8/IFNlcnZpY2VzIG9yIGNsaWVudCBoYW5kbGluZz9cclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSFdNXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChod21Ub1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBIV00uZGVsZXRlKHsgaWQ6IGh3bVRvUmVtb3ZlLmh3bV9pZCB9LCBod21Ub1JlbW92ZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBod21GaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgaW1hZ2UgZmlsZXMgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHJlbW92ZSBhbGwgdGhlc2UgZmlsZXMgZnJvbSBTaXRlRmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSAkc2NvcGUuYWxsU0ZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hbGxTRmlsZXNbbF0uaHdtX2lkID09IGh3bVRvUmVtb3ZlLmh3bV9pZCkgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UobCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtcImRlXCIsICdkZWxldGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgaHdtIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0SFdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuSFdNdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFIV00pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuZGVjRGVnT1JkbXMgPSAnZGQnOyAkc2NvcGUuaHdtQ29weS5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsSFdNRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZG1pbkNoYW5nZWQgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkc2NvcGUuZXZlbnRMaXN0LmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSAkc2NvcGUuYUhXTS5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogJHNjb3BlLmFGaWxlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAkc2NvcGUuYUZpbGUuaXNfbndpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zaG93IGEgbW9kYWwgd2l0aCB0aGUgbGFyZ2VyIGltYWdlIGFzIGEgcHJldmlldyBvbiB0aGUgcGhvdG8gZmlsZSBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dJbWFnZU1vZGFsID0gZnVuY3Rpb24gKGltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2V0U1JDID0gU0VSVkVSX1VSTCArICcvRmlsZXMvJyArICRzY29wZS5pbWFnZUlkICsgJy9JdGVtJztcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7ICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vSFdNIHdpbGwgbm90IGhhdmUgZGF0YWZpbGUgXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBod20gZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5IV01GaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5od21JbWFnZUZpbGVzLmxlbmd0aCA+IDAgPyAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSAkc2NvcGUuZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc291cmNlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7ICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc0hXTXNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hSFdNLmh3bV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmh3bUltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7ICRzY29wZS5hRmlsZS5zaXRlX2lkID0gJHNjb3BlLnRoaXNIV01zaXRlLnNpdGVfaWQ7ICRzY29wZS5hRmlsZS5od21faWQgPSAkc2NvcGUuYUhXTS5od21faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkxpbmsgc2F2ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpbGVUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmaWxlVG9SZW1vdmUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuZGF0YWZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEZJTEUgU1RVRkZcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICB9XSk7IC8vZW5kIEhXTVxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdod21DdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ3RoaXNTaXRlJywgJ3RoaXNTaXRlSFdNcycsICdIV01fU2VydmljZScsICdhbGxBZ2VuY2llcycsICdhbGxIV01UeXBlcycsICdhbGxIV01RdWFsaXRpZXMnLCAnYWxsSG9yRGF0dW1zJywgJ2FsbE1hcmtlcnMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsVmVydERhdHVtcycsICdhbGxWZXJ0Q29sTWV0aG9kcycsICdhbGxFdmVudHMnLCAnYWxsRmlsZVR5cGVzJywgJ01FTUJFUicsICdIV00nLCAnU0lURScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkdGltZW91dCwgdGhpc1NpdGUsIHRoaXNTaXRlSFdNcywgSFdNX1NlcnZpY2UsIGFsbEFnZW5jaWVzLCBhbGxIV01UeXBlcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxIb3JEYXR1bXMsIGFsbE1hcmtlcnMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsRXZlbnRzLCBhbGxGaWxlVHlwZXMsIE1FTUJFUiwgSFdNLCBTSVRFKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50ID0geyB0b3RhbDogdGhpc1NpdGVIV01zLmxlbmd0aCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5TaXRlSFdNcyA9IHRoaXNTaXRlSFdNcztcclxuICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlSFdNcyA9IHRoaXNTaXRlSFdNcy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVIV01zLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlSFdNcyA9IHRoaXNTaXRlSFdNcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50ID0geyB0b3RhbDogJHNjb3BlLlNpdGVIV01zLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93SFdNTW9kYWwgPSBmdW5jdGlvbiAoSFdNY2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBod21GaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QaG90byAoMSksIEhpc3RvcmljICgzKSwgRmllbGQgU2hlZXRzICg0KSwgTGV2ZWwgTm90ZXMgKDUpLCBPdGhlciAoNyksIExpbmsgKDgpLCBTa2V0Y2ggKDEwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhc3NBbGxMaXN0cyA9IFthbGxIV01UeXBlcywgYWxsSFdNUXVhbGl0aWVzLCBhbGxIb3JEYXR1bXMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsTWFya2VycywgYWxsRXZlbnRzLCBod21GaWxlVHlwZXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZUhXTXMuaW5kZXhPZihIV01jbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0hXTW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaHdtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERyb3Bkb3duczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFzc0FsbExpc3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0hXTTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNY2xpY2tlZCAhPT0gMCA/IEhXTWNsaWNrZWQ6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVIV01zOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLlNpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtQXBwcm92YWw6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEhXTWNsaWNrZWQgIT09IDAgJiYgKEhXTWNsaWNrZWQuYXBwcm92YWxfaWQgIT09IHVuZGVmaW5lZCAmJiBIV01jbGlja2VkLmFwcHJvdmFsX2lkID4gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0SFdNQXBwcm92YWwoeyBpZDogSFdNY2xpY2tlZC5od21faWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZEhXTSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZXJlIGEgbmV3IEhXTSBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEhXTVsxXT09ICdjcmVhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zLnB1c2goY3JlYXRlZEhXTVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV01fU2VydmljZS5zZXRBbGxTaXRlSFdNcygkc2NvcGUuU2l0ZUhXTXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVIV01zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEhXTVsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgZnJvbSBlZGl0IC0tIHJlZnJlc2ggcGFnZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLlNpdGVIV01zLmluZGV4T2YoSFdNY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUhXTXNbaW5kZXhDbGlja2VkXSA9IGNyZWF0ZWRIV007XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV01fU2VydmljZS5zZXRBbGxTaXRlSFdNcygkc2NvcGUuU2l0ZUhXTXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkSFdNWzFdPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkMSA9ICRzY29wZS5TaXRlSFdNcy5pbmRleE9mKEhXTWNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zLnNwbGljZShpbmRleENsaWNrZWQxLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3VudC50b3RhbCA9ICRzY29wZS5TaXRlSFdNcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV01fU2VydmljZS5zZXRBbGxTaXRlSFdNcygkc2NvcGUuU2l0ZUhXTXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBzaG93SFdNTW9kYWwgZnVuY3Rpb25cclxuICAgICAgICAgICAgfS8vZW5kIHN0bmNyZWRzIGdvb2RcclxuICAgICAgICB9XSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignaGlzdG9yaWNIV01DdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnU0lURScsICdIV00nLCAnT0JKRUNUSVZFX1BPSU5UJywgJ0dFT0NPREUnLCAndGhpc0V2ZW50JywgJ0hEYXR1bXMnLCAnSENvbGxlY3RNZXRocycsICdTdGF0ZXMnLCAnQ291bnRpZXMnLCAnT1BUeXBlcycsICdWRGF0dW1zJywgJ0hUeXBlcycsICdIV01RdWFscycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICRmaWx0ZXIsICR1aWJNb2RhbCwgU0lURSwgSFdNLCBPQkpFQ1RJVkVfUE9JTlQsIEdFT0NPREUsIHRoaXNFdmVudCwgSERhdHVtcywgSENvbGxlY3RNZXRocywgU3RhdGVzLCBDb3VudGllcywgT1BUeXBlcywgVkRhdHVtcywgSFR5cGVzLCBIV01RdWFscykge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vZGl2IGhvbGRpbmcgbG9hZGVyIGFuZCBkeW5hbWljIGFuZCBtYXggZm9yIHByb2dyZXNzIGJhclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmR5bmFtaWMgPSAwOyAkc2NvcGUubWF4ID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZTsgIC8vc2QgICBsYXQgbG9uZyBoZCAgaGNtICB3YXQgIEdTICAgc3QgICBjbyAgIG9wdCAgb3BuICBkZXMgIHZkYSAgb3BkICBod210IGVudiAgIHF1YSAgZmxhZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbldpZHRocyA9IFsxNDAsIDc2LCA4NCwgMjIwLCAyMjAsIDEwMCwgMTUwLCAxMjAsIDEyMCwgMTgwLCAxMjAsIDE0MCwgMTQwLCAxMjAsIDE0MCwgMTQwLCAxNDAsIDEyMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hhbmdlcyA9IFtdOyAvL3RyYWNrIGNoYW5nZXMgbWFkZSB0byBjb21wYXJlIGZvciBzYXZpbmdcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdOyAvL3N0b3JlIHdoZW4gaW52YWxpZCB0aHJvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oRGF0dW1MaXN0ID0gSERhdHVtczsgJHNjb3BlLmhEYXR1bUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaENvbGxlY3RMaXN0ID0gSENvbGxlY3RNZXRoczsgJHNjb3BlLmhjb2xsZWN0QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBTdGF0ZXM7IC8vVE9ETyBNYWtlIHRoaXMgaW50ZXJhY3RpdmUgd2l0aCBjb3VudGllcyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5TGlzdCA9IENvdW50aWVzOyAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0ID0gT1BUeXBlczsgJHNjb3BlLm9wVHlwZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudkRhdHVtTGlzdCA9IFZEYXR1bXM7ICRzY29wZS52RGF0dW1BcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gSFR5cGVzOyAkc2NvcGUuaHdtVHlwZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRW52aXJMaXN0ID0gWydDb2FzdGFsJywgJ1JpdmVyaW5lJ107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtUXVhbGl0eUxpc3QgPSBIV01RdWFsczsgJHNjb3BlLmh3bVF1YWxpdHlBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5oaXN0b3JpY0hXTXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZm9ybWF0IGRyb3Bkb3ducyBmcm9tIG9iamVjdCBhcnJheSB0byBzdHJpbmcgYXJyYXlcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuaERhdHVtTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmhEYXR1bUFycmF5LnB1c2gobC5kYXR1bV9uYW1lKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmhDb2xsZWN0TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmhjb2xsZWN0QXJyYXkucHVzaChsLmhjb2xsZWN0X21ldGhvZCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zdGF0ZUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS5zdGF0ZUFycmF5LnB1c2gobC5zdGF0ZV9uYW1lKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmNvdW50eUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS5jb3VudHlBcnJheS5wdXNoKGwuY291bnR5X25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUub3BUeXBlTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLm9wVHlwZUFycmF5LnB1c2gobC5vcF90eXBlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnZEYXR1bUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS52RGF0dW1BcnJheS5wdXNoKGwuZGF0dW1fYWJicmV2aWF0aW9uKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmh3bVR5cGVMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaHdtVHlwZUFycmF5LnB1c2gobC5od21fdHlwZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5od21RdWFsaXR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmh3bVF1YWxpdHlBcnJheS5wdXNoKGwuaHdtX3F1YWxpdHkpOyB9KTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vR2V0IHN0YXRlIGNvdW50eSBidXR0b24gY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldFN0YXRlQ28gPSBmdW5jdGlvbiAoYywgcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3dWYWx1ZXMgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgocm93VmFsdWVzWzFdICE9PSBcIlwiICYmIHJvd1ZhbHVlc1sxXSAhPT0gbnVsbCkgJiYgKHJvd1ZhbHVlc1syXSAhPT0gXCJcIiAmJiByb3dWYWx1ZXNbMl0gIT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvL2xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6IHJvd1ZhbHVlc1syXSwgTGF0aXR1ZGU6IHJvd1ZhbHVlc1sxXSB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLk5BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZUlEID0gJHNjb3BlLmNvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2ZpcCA9PSBzdGF0ZUZJUFM7IH0pWzBdLnN0YXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGVJRDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2Uuc2V0RGF0YUF0Q2VsbChyLCA3LCB0aGlzU3RhdGUuc3RhdGVfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChzdGF0ZUNvdW50eUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS5jb3VudHlBcnJheS5wdXNoKGwuY291bnR5X25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlLnNldENlbGxNZXRhKHIsIDgsIFwic291cmNlXCIsICRzY29wZS5jb3VudHlBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS5zZXREYXRhQXRDZWxsKHIsIDgsIGNvdW50eU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGUgTGF0aXR1ZGUvTG9uZ2l0dWRlIGRpZCBub3QgcmV0dXJuIGEgcmVjb2duaXplZCBzdGF0ZS4gUGxlYXNlIGNob29zZSBvbmUgZnJvbSB0aGUgZHJvcGRvd24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzcyBsb2NhdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGRpZCBub3QgdHlwZSBhIGxhdC9sb25nIGZpcnN0Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVtcHR5TGF0TG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHByb3ZpZGUgYSBMYXRpdHVkZSBhbmQgTG9uZ2l0dWRlIGJlZm9yZSBjbGlja2luZyBHZXQgU3RhdGUvQ291bnR5PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHJvdyB2YWx1ZXMgYXJlIHRoZXJlICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgZ2V0U3RhdGVDbygpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMgPSBmdW5jdGlvbiAodGhlQ2hhbmdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX25hbWUgPT0gdGhlQ2hhbmdlWzNdOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmNvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0YXRlQ291bnR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmNvdW50eUFycmF5LnB1c2gobC5jb3VudHlfbmFtZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS5zZXRDZWxsTWV0YSh0aGVDaGFuZ2VbMF0sIDgsIFwic291cmNlXCIsICRzY29wZS5jb3VudHlBcnJheSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHJlbmRlcmVyc1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVpcmVkTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgZmllbGQgaXMgcmVxdWlyZWQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxhdFZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvL251bWJlciBhbmQgPiAwXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCBpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+TGF0aXR1ZGUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvbmdWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMCB8fCBpc05hTih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkxvbmdpdHVkZSBtdXN0IGJlIGxlc3MgdGhhbiAwLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOlsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvclJlbmRlcmVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCB0ZCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkYnV0dG9uID0gJCgnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYm50LXByaW1hcnlcIj48L2J1dHRvbj4nKTtcclxuICAgICAgICAgICAgICAgICAgICAkYnV0dG9uLmh0bWwoJ0dldCBTdGF0ZS9Db3VudHknKTtcclxuICAgICAgICAgICAgICAgICAgICAkKHRkKS5lbXB0eSgpLmFwcGVuZCgkYnV0dG9uKTsgLy9lbXB0eSBpcyBuZWVkZWQgYmVjYXVzZSB5b3UgYXJlIHJlbmRlcmluZyB0byBhbiBleGlzdGluZyBjZWxsXHJcbiAgICAgICAgICAgICAgICAgIC8vICB0ZC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNFRUUnO1xyXG4gICAgICAgICAgICAgICAgICAgLy8gdGQuaW5uZXJIVE1MID0gJ0dldCBTdGF0ZS9Db3VudHknO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZWRWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgYmFjayBcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIHRoZSB0YWJsZT88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhpc3RvcmljSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGhhbmRzb250YWJsZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhYmxlU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sSGVhZGVyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRNZW51OiBbJ3Jvd19hYm92ZScsICdyb3dfYmVsb3cnLCAncmVtb3ZlX3JvdyddLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pblNwYXJlUm93czogMyxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbENvbHVtblJlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYW51YWxSb3dSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFdyYXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyOiAxLCAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBjb2xXaWR0aHM6ICRzY29wZS5jb2x1bW5XaWR0aHMsXHJcbiAgICAgICAgICAgICAgICAgICAgY2VsbHM6IGZ1bmN0aW9uIChyb3csIGNvbCwgcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3BoeXNpY2FsLCBjaGVtaWNhbCxiaW9sb2dpY2FsLCBtaWNyb2JpbywgdG94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2wgPT0gNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNlbGxwcm9wcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2VsbHByb3BzLnJlbmRlcmVyID0gY29sb3JSZW5kZXJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZWxscHJvcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlQ2hhbmdlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldWzFdID09IFwic3RhdGVcIiAmJiBkYXRhW2ldWzNdICE9PSBkYXRhW2ldWzJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzKGRhdGFbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyQ2hhbmdlOiBmdW5jdGlvbiAoY2hhbmdlLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGFuZ2UgaXMgYW4gYXJyYXkgY29udGFpbmluZyBhcnJheXMgZm9yIGVhY2ggY29sdW1uIGFmZmVjdGVkOiBbMF0gPSByb3csIFsxXSA9IGRhdGFOYW1lLCBbMl0gPSB2YWx1ZSBpdCB3YXMsIFszXSA9IHZhbHVlIGl0IGlzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NvdXJjZSBpcyBzdHJpbmcgOiBcImFsdGVyJywgXCJlbXB0eScsIFwiZWRpdCcsIFwicG9wdWxhdGVGcm9tQXJyYXknLCBcImxvYWREYXRhJywgXCJhdXRvZmlsbCcsIFwicGFzdGVcIi4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9ICdsb2FkRGF0YScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgaWYgaXQgd2FzIGFjdHVhbGx5IGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhbmdlW2ldWzJdICE9PSBjaGFuZ2VbaV1bM10pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNoYW5nZXMucHVzaChjaGFuZ2VbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIChjaGFuZ2VbaV1bMV0gPT0gXCJzdGF0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICRzY29wZS5VcGRhdGVDb3VudGllcyhjaGFuZ2VbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL31cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJPbkNlbGxNb3VzZURvd246IGZ1bmN0aW9uIChldmVudCwgY29vcmRzLCB0ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRzLmNvbCA9PSA2KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldFN0YXRlQ28oY29vcmRzLmNvbCwgY29vcmRzLnJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwvL2VuZCBhZnRlck9uQ2VsbE1vdXNlRG93biAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyVmFsaWRhdGU6IGZ1bmN0aW9uIChpc1ZhbGlkLCB2YWx1ZSwgcm93LCBwcm9wLCBzb3VjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMucHVzaCh7IFwiaXNWYWxpZFwiOiBpc1ZhbGlkLCBcInJvd1wiOiByb3csIFwicHJvcFwiOiBwcm9wIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdkkgPSAwOyB2SSA8ICRzY29wZS5pbnZhbGlkcy5sZW5ndGg7IHZJKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmludmFsaWRzW3ZJXS5yb3cgPT0gcm93ICYmICRzY29wZS5pbnZhbGlkc1t2SV0ucHJvcCA9PSBwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZJbmRleCA9IHZJO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodkluZGV4ID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnNwbGljZSh2SW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWlnaHRzOiA1MFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgfS8vZW5kIGF1dGhvcml6ZWRcclxuICAgIH1dKTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2J1bGtIV01DdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHEnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnU0lURScsICdIV00nLCAnTUVNQkVSJywgJ0ZJTEUnLCAnSU5TVF9DT0xMX0NPTkRJVElPTicsICdQRUFLJywgJ1NPVVJDRScsICdTRVJWRVJfVVJMJyxcclxuICAgICAgICAnZXZlbnRMaXN0JywgJ3N0YXRlTGlzdCcsICdjb3VudHlMaXN0JywgJ2h3bVR5cGVMaXN0JywgJ21hcmtlckxpc3QnLCAnaHdtUXVhbExpc3QnLCAnaG9yaXpEYXR1bUxpc3QnLCAnaG9yQ29sbE1ldGhMaXN0JywgJ3ZlcnREYXR1bUxpc3QnLCAndmVydENvbGxNZXRoTGlzdCcsICdmaWxlVHlwZXNMaXN0JywgJ2FnZW5jaWVzTGlzdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGh0dHAsICRxLCAkZmlsdGVyLCAkdWliTW9kYWwsIFNJVEUsIEhXTSwgTUVNQkVSLCBGSUxFLCBJTlNUX0NPTExfQ09ORElUSU9OLCBQRUFLLCBTT1VSQ0UsIFNFUlZFUl9VUkwsIGV2ZW50TGlzdCwgc3RhdGVMaXN0LCBjb3VudHlMaXN0LFxyXG4gICAgICAgICAgICBod21UeXBlTGlzdCwgbWFya2VyTGlzdCwgaHdtUXVhbExpc3QsIGhvcml6RGF0dW1MaXN0LCBob3JDb2xsTWV0aExpc3QsIHZlcnREYXR1bUxpc3QsIHZlcnRDb2xsTWV0aExpc3QsIGZpbGVUeXBlc0xpc3QsIGFnZW5jaWVzTGlzdCkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dUaXBzID0gdHJ1ZTsgLy90b2dnbGUgc2hvdy9oaWRlIHRpcHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IGh3bU9wZW46IHRydWUgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMOyAvL2NvbnN0YW50IHdpdGggc3RudGVzdC53aW0udXNncy5nb3YvU1ROU2VydmljZXMyIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVzID0gaHdtVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IG1hcmtlckxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtUXVhbHMgPSBod21RdWFsTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3JEYXR1bXMgPSBob3JpekRhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3JDb2xsTWV0aHMgPSBob3JDb2xsTWV0aExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVydERhdHVtcyA9IHZlcnREYXR1bUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVydENvbGxNZXRocyA9IHZlcnRDb2xsTWV0aExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50aWVzID0gY291bnR5TGlzdDtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy9kaXYgaG9sZGluZyBsb2FkZXIgICAgICBcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXggPSAwOyAkc2NvcGUuZHluYW1pYyA9IDA7IC8vdmFsdWVzIGZvciBudW1iZXIgb2YgaHdtcyBhcmUgdXBsb2FkaW5nICh1c2VkIGluIHByb2dyZXNzYmFyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7IC8vcHJvZ3Jlc3NiYXIgZm9yIHVwbG9hZGluZyBod21zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2U7XHJcbiAgICAgICAgICAgICAgICAvL3dhdGVyLCBsYWJlbCwgdHlwZSxtcmtlcixlbnZyLHVuY3J0LHF1bCxiYW5rLGRlcyxsYXQsbG9uZyxoZGF0dW0saGNtLGhhZyxmbGdEdCxzdXJEdCxlbGV2LHZkYXR1bSx2Y20sc1VuYyxub3RlcywgdHJhbnEvc3RpbGwsc2l0ZW5vXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sdW1uV2lkdGhzID0gWzE4MCwgMTUwLCAxODAsIDE4MCwgMTUwLCAxNzAsIDE4MCwgMTAwLCAyMDAsIDE0MCwgMTUwLCAxODAsIDIyMCwgMTAwLCAxMzAsIDEyMCwgMTMwLCAxNjAsIDE5MCwgMTYwLCAyMDAsIDIwMCwgMTIwXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTm9BcnJvd0NsaWNrZWQgPSBmYWxzZTsgLy9uZWVkIGEgZmxhZyB3aGVuIGNsaWNrZWQgdG8gY2hlY2sgc28gdGhhdCB0aGUgcmVxdWlyZWQgdmFsaWRhdGlvbiBkb2Vzbid0IGZpcmUgYW5kIHNob3cgZXJyb3IgbW9kYWwgYXQgc2FtZSB0aW1lIGFzIHNpdGVtb2RhbFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXMgPSBbXTsgLy9kYXRhIGJpbmRpbmcgaW4gdGhlIGhhbmRzb250YWJsZSAodGhleSB3aWxsIHBhc3RlIGluIGh3bXMpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucG9zdGVkSFdNcyA9IFtdOyAvL29uY2UgcG9zdGVkLCB0aGV5IGFyZSByZW1vdmVkIGZyb20gdGhlIGhhbmRzb250YWJsZSBhbmQgYWRkZWQgdG8gdGhpcyBhcnJheSB0byBzaG93IGluIGEgdGFibGUgYmVsb3dcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdOyAvL3N0b3JlIHdoZW4gaW52YWxpZCB0aHJvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBldmVudExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlOyAgLy9zZW50IG5vdFZhbGlkIHRvIHRydWUgYnkgZGVmYXVsdCBzbyB0aGF0IGl0IGdldHMgc2V0IHRvIGZhbHNlIG9uY2UgdGFibGUgaXMgdmFsaWRhdGVkKGJ1dHRvbiBjbGljaylcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBtYWtlIGRyb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGh3bVR5cGVMaXN0LCBmdW5jdGlvbiAoaHQpIHsgJHNjb3BlLmh3bVR5cGVBcnJheS5wdXNoKGh0Lmh3bV90eXBlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZW52aXJBcnJheSA9IFtcIkNvYXN0YWxcIiwgXCJSaXZlcmluZVwiXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1hcmtlckxpc3QsIGZ1bmN0aW9uIChtKSB7ICRzY29wZS5tYXJrZXJBcnJheS5wdXNoKG0ubWFya2VyMSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnF1YWxBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGh3bVF1YWxMaXN0LCBmdW5jdGlvbiAoaHEpIHsgJHNjb3BlLnF1YWxBcnJheS5wdXNoKGhxLmh3bV9xdWFsaXR5KTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYmFua0FycmF5ID0gW1wiTGVmdFwiLCBcIlJpZ2h0XCIsIFwiTi9BXCJdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhkYXR1bUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaG9yaXpEYXR1bUxpc3QsIGZ1bmN0aW9uIChoZCkgeyAkc2NvcGUuaGRhdHVtQXJyYXkucHVzaChoZC5kYXR1bV9uYW1lKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGNvbGxNZXRoQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChob3JDb2xsTWV0aExpc3QsIGZ1bmN0aW9uIChoY20pIHsgJHNjb3BlLmhjb2xsTWV0aEFycmF5LnB1c2goaGNtLmhjb2xsZWN0X21ldGhvZCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZkYXR1bUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godmVydERhdHVtTGlzdCwgZnVuY3Rpb24gKHZkKSB7ICRzY29wZS52ZGF0dW1BcnJheS5wdXNoKHZkLmRhdHVtX2FiYnJldmlhdGlvbik7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZjb2xsTWV0aEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godmVydENvbGxNZXRoTGlzdCwgZnVuY3Rpb24gKHZjbSkgeyAkc2NvcGUudmNvbGxNZXRoQXJyYXkucHVzaCh2Y20udmNvbGxlY3RfbWV0aG9kKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudHJhbnFBcnJheSA9IFtcIlllc1wiLCBcIk5vXCJdO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG1ha2UgZHJvcGRvd25zXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkV2ZW50ID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5FdmVudE5hbWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbEluZGV4ID0gLTE7IC8vaWYgdGhleSBkZWxldGUgYSBod20gZnJvbSB0aGUgRE9ORSB0YWJsZSwgbmVlZCBpbmRleCB0aGV5IGNsaWNrZWQgc28gY2xvc2luZyB3YXJuaW5nIG1vZGFsIHdpbGwga25vdyB3aGljaCBvbmUgdG8gcmVtb3ZlIGZyb20gcG9zdGVkSFdNcyBsaXN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVBlYWthcnJheSA9IFtdOy8vd2hlbiBzYXZpbmcgaGFuZHNvbnRhYmxlLCBlYWNoIHJvdywgZ2V0IHNpdGVQZWFrcywgaWYgc28sIHN0b3JlIGhlcmVcclxuICAgICAgICAgICAgICAgIC8vYWRkIEZJTEUgZm9yIGFwcHJvdmFsIG1lbW8gb3IgcHVibGljYXRpb24gbGlua1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFwcHJvdmFsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwcm92ZWRGSUxFbW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQnVsa0FwcHJvdmFsRklMRV9tb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2ZpbGVUeXBlTGlzdCcsICdhZ2VuY3lMaXN0JywgJ3RoaXNNZW1iZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJHVpYk1vZGFsSW5zdGFuY2UsIGZpbGVUeXBlTGlzdCwgYWdlbmN5TGlzdCwgdGhpc01lbWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXMgPSBmaWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgaGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IGhmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdMaW5rJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9IDc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uID0gXCJQREYgb2YgQXBwcm92YWwgTWVtb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsX3R5cGUgPSA3OyAvL2hvbGRlciBvZiBhcHByb3ZhbCB0eXBlLCB1c2VkIHRvIHVwZGF0ZSBmaWxldHlwZV9pZCBhbmQgZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JhZGlvIGFwcHJvdmFsIHR5cGUgY2hhbmdlZCwgdXBkYXRlIGZpbGV0eXBlX2lkIGFuZCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGRhdGVGaWxlVHlwZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID0gTnVtYmVyKCRzY29wZS5hcHByb3ZhbF90eXBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uID0gJHNjb3BlLmFwcHJvdmFsX3R5cGUgPT0gXCI3XCIgPyBcIlBERiBvZiBBcHByb3ZhbCBNZW1vXCIgOiBcIlJlcG9ydCBMaW5rXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9EYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHRoaXNNZW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgfHwgJHNjb3BlLmFGaWxlLkZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0gWyRzY29wZS5hRmlsZSwgJHNjb3BlLmFTb3VyY2VdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGZpbGVQYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgdXBsb2FkIGEgRmlsZSBmb3IgQXBwcm92YWwgTWVtbyBvciBhIEZpbGUgVVJMIGZvciBSZXBvcnQgTGluay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZVR5cGVzTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnZW5jaWVzTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzTWVtYmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlZEZJTEVtb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZEZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsRmlsZSA9IGNyZWF0ZWRGaWxlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxTb3VyY2UgPSBjcmVhdGVkRmlsZVsxXTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgYWRkQXBwcm92YWxGaWxlXHJcbiAgICAgICAgICAgICAgICAvL2VuZCBhZGQgRklMRVxyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBuZXcgRGF0ZShtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFNJVEUgTk8gZHJvcGRvd24gYXJyb3cgQ2xpY2sgTU9EQUwgcGFydCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgICAgIHZhciBnZXRGaW5kU2l0ZU1vZGFsID0gZnVuY3Rpb24gKHIsIGMsIGh3bVBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAkc2NvcGUuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykucmVtb3ZlQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQXRSb3cgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHIpOyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJHNjb3BlLmhvdEluc3RhbmNlLmRlc2VsZWN0Q2VsbCgpOyB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhQXRSb3dbOV0gIT09IFwiXCIgJiYgZGF0YUF0Um93WzEwXSAhPT0gXCJcIiAmJiBkYXRhQXRSb3dbOV0gIT09IG51bGwgJiYgZGF0YUF0Um93WzEwXSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdhc3NvY2lhdGVTaXRlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmVhckJ5U2l0ZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0UHJveGltaXR5U2l0ZXMoeyBMYXRpdHVkZTogZGF0YUF0Um93WzldLCBMb25naXR1ZGU6IGRhdGFBdFJvd1sxMF0sIEJ1ZmZlcjogMC4wMDA1IH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNcGFydHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGh3bVBhcnRzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOb0FscmVhZHlUaGVyZTogZnVuY3Rpb24gKCkgeyByZXR1cm4gZGF0YUF0Um93WzIyXTsgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZGF0dW1zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuaG9yRGF0dW1zOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhjb2xNZXRoczogZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLmhvckNvbGxNZXRoczsgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZGF0dW1zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUudmVydERhdHVtczsgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2Y29sTWV0aHM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzY29wZS52ZXJ0Q29sbE1ldGhzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlczogZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLnN0YXRlczsgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudGllczogZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLmNvdW50aWVzOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2h3bVNpdGVNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh0aGlzU2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9hZGluZ0RpdicpLmFkZENsYXNzKCdub1Nob3cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuaG90SW5zdGFuY2Uuc2V0RGF0YUF0Q2VsbChyLCBjLCB0aGlzU2l0ZS5zaXRlX25vKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9hZGluZ0RpdicpLmFkZENsYXNzKCdub1Nob3cnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSB0aGlzIHJvd1xcJ3MgbGF0aXR1ZGUgYW5kIGxvbmdpdHVkZSBiZWZvcmUgZmluZGluZyBhIHNpdGUgdG8gYXNzb2NpYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gU0lURSBOTyBkcm9wZG93biBhcnJvdyBDbGljayBNT0RBTCBwYXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiByZW5kZXJlcnMvdmFsaWRhdG9yc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcXVpcmVkVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyB0aGUgZHJvcGRvd24gYXJyb3cgYmVpbmcgY2xpY2tlZCBpbiBzaXRlTm8gY2VsbCwgZG9uJ3Qgc2hvdyBlcnJvciBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaXRlTm9BcnJvd0NsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBpZiB0aGVyZSdzIG90aGVyIGRhdGEgaW4gdGhpcyByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93OyB2YXIgY29sID0gdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHBoeXNpY2FsSW5kZXggPSB1bnRyYW5zbGF0ZVJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJEYXRhSW5Sb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGFBdFJvdywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IG51bGwgJiYgZCAhPT0gXCJcIiAmJiBpbmRleCAhPT0gY29sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRGF0YUluUm93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUgJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9uZSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRDb2xIZWFkZXIoY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIpOyAvLyAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxhdFZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhQXRSb3csIGZ1bmN0aW9uIChkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckRhdGFJblJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgodmFsdWUgPCAyMiB8fCB2YWx1ZSA+IDU1KSB8fCBpc05hTih2YWx1ZSkpICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMjIuMCBhbmQgNTUuMCAoZGVjIGRlZykuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFsdWUgJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcihjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI2MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgaXMgYSByZXF1aXJlZCBmaWVsZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvbmdWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93OyB2YXIgY29sID0gdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFBdFJvdyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJEYXRhSW5Sb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YUF0Um93LCBmdW5jdGlvbiAoZCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRoZSBjb2wgdG9vIGJlY2F1c2UgcmlnaHQgYWZ0ZXIgcmVtb3ZpbmcgcmVxIHZhbHVlLCBpdCdzIHN0aWxsIGluIHRoZSAuZ2V0RGF0YUF0Um93Li5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IG51bGwgJiYgZCAhPT0gXCJcIiAmJiBpbmRleCAhPT0gY29sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJEYXRhSW5Sb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoKHZhbHVlIDwgLTEzMCB8fCB2YWx1ZSA+IC01NSkgfHwgaXNOYU4odmFsdWUpKSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJHNjb3BlLmhvdEluc3RhbmNlLmRlc2VsZWN0Q2VsbCgpOyB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI2MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTMwLjAgYW5kIC01NS4wIChkZWMgZGVnKS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPbmUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0Q29sSGVhZGVyKGNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBpcyBhIHJlcXVpcmVkIGZpZWxkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5udW1lcmljVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9uZSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRDb2xIZWFkZXIodGhpcy5jb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiAoaXNOYU4oTnVtYmVyKHZhbHVlKSkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBtdXN0IGJlIGFuIG51bWVyaWMgdmFsdWUgKGV4OiAwLjAzKS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdoaWNoT25lID09IFwiSFdNIFVuY2VydGFpbnR5IChmdClcIiAmJiB2YWx1ZSAhPT0gXCJcIiAmJiB2YWx1ZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGh3bVF1YWxpdHkgaGFzIHZhbHVlLiBpZiBzbywgc2VlIGlmIGl0J3Mgd2l0aGluIHByb3BlciByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHdtUXVhbFZhbHVlID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwodGhpcy5yb3csIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtUXVhbFZhbHVlICE9PSBudWxsICYmIGh3bVF1YWxWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcHJvcHJpYXRlSFdNUXVhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAwLjQpIGFwcHJvcHJpYXRlSFdNUXVhbCA9IFwiVlA6ID4gMC40MCBmdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPCAwLjA1KSBhcHByb3ByaWF0ZUhXTVF1YWwgPSBcIkV4Y2VsbGVudDogKy8tIDAuMDUgZnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcHJvcHJpYXRlSFdNUXVhbCA9ICRzY29wZS5od21RdWFscy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHZhbHVlICYmIGgubWF4X3JhbmdlID49IHZhbHVlOyB9KVswXS5od21fcXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ByaWF0ZUhXTVF1YWwgIT09IGh3bVF1YWxWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgZG9lcyBub3QgaGF2ZSBhIG1hdGNoaW5nIEhXTSBRdWFsaXR5IGZvciByb3cgXCIgKyBOdW1iZXIodGhpcy5yb3cgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXRjaGluZ0REVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvdyA9IHRoaXMucm93OyB2YXIgY29sID0gdGhpcy5jb2w7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFBdFJvdyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocm93KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3RoZXJEYXRhSW5Sb3cgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YUF0Um93LCBmdW5jdGlvbiAoZCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRoZSBjb2wgdG9vIGJlY2F1c2UgcmlnaHQgYWZ0ZXIgcmVtb3ZpbmcgcmVxIHZhbHVlLCBpdCdzIHN0aWxsIGluIHRoZSAuZ2V0RGF0YUF0Um93Li5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IG51bGwgJiYgZCAhPT0gXCJcIiAmJiBpbmRleCAhPT0gY29sKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJEYXRhSW5Sb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdmFsdWUgaXNuJ3QgZW1wdHkgYW5kIHRoZXJlcyBvdGhlciBkYXRhIGluIHJvdy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gXCJcIiAmJiB2YWx1ZSAhPT0gbnVsbCkgey8vICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wID0gdGhpcy5wcm9wOyB2YXIgaGFzRXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdod21fdHlwZV9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21UeXBlQXJyYXkubWFwKGZ1bmN0aW9uIChod1QpIHsgcmV0dXJuIGh3VDsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdtYXJrZXJfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubWFya2VyQXJyYXkubWFwKGZ1bmN0aW9uIChod00pIHsgcmV0dXJuIGh3TTsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdod21fZW52aXJvbm1lbnQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZW52aXJBcnJheS5tYXAoZnVuY3Rpb24gKGh3RSkgeyByZXR1cm4gaHdFOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h3bV9xdWFsaXR5X2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnF1YWxBcnJheS5tYXAoZnVuY3Rpb24gKGh3USkgeyByZXR1cm4gaHdROyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JhbmsnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmFua0FycmF5Lm1hcChmdW5jdGlvbiAoaHdCKSB7IHJldHVybiBod0I7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGRhdHVtX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhkYXR1bUFycmF5Lm1hcChmdW5jdGlvbiAoaEQpIHsgcmV0dXJuIGhEOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2hjb2xsZWN0X21ldGhvZF9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5oY29sbE1ldGhBcnJheS5tYXAoZnVuY3Rpb24gKGhDKSB7IHJldHVybiBoQzsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd2ZGF0dW1faWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudmRhdHVtQXJyYXkubWFwKGZ1bmN0aW9uIChoRCkgeyByZXR1cm4gaEQ7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndmNvbGxlY3RfbWV0aG9kX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnZjb2xsTWV0aEFycmF5Lm1hcChmdW5jdGlvbiAoaEMpIHsgcmV0dXJuIGhDOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0aWxsd2F0ZXInOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudHJhbnFBcnJheS5tYXAoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQ7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wID09IFwiaHdtX3F1YWxpdHlfaWRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBod20gdW5jZXJ0YWludHkgaGFzIHZhbHVlLiBpZiBzbywgc2VlIGlmIGl0J3Mgd2l0aGluIHByb3BlciByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuY2VydFZhbHVlID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwocm93LCA1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmNlcnRWYWx1ZSAhPT0gbnVsbCAmJiB1bmNlcnRWYWx1ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcHByb3ByaWF0ZXF1YWwgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1bmNlcnRWYWx1ZSA+IDAuNCkgYXBwcm9wcmlhdGVxdWFsID0gXCJWUDogPiAwLjQwIGZ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodW5jZXJ0VmFsdWUgPCAwLjA1KSBhcHByb3ByaWF0ZXF1YWwgPSBcIkV4Y2VsbGVudDogKy8tIDAuMDUgZnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm9wcmlhdGVxdWFsID0gJHNjb3BlLmh3bVF1YWxzLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0gdW5jZXJ0VmFsdWUgJiYgaC5tYXhfcmFuZ2UgPj0gdW5jZXJ0VmFsdWU7IH0pWzBdLmh3bV9xdWFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm9wcmlhdGVxdWFsICE9PSB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI2MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiSFdNIFF1YWxpdHkgZG9lcyBub3QgaGF2ZSBhIG1hdGNoaW5nIEhXTSB1bmNlcnRhaW50eSByYW5nZSB2YWx1ZSBmb3Igcm93IFwiICsgTnVtYmVyKHJvdyArIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IGNhbGxiYWNrKHRydWUpOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdyAmJiBbMywgNywgMTcsIDE4LCAyMV0uaW5kZXhPZih0aGlzLmNvbCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9uZSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRDb2xIZWFkZXIoY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGZyb20gaW4gc2F2ZSBmdW5jdGlvbiwgZG9uZSBwb3N0aW5nIG5vdyByZW1vdmUgdGhlIHN1Y2Nlc3NmdWwgb25lIGZyb20gdGhlIGhhbmRzb250YWJsZSBhYm92ZVxyXG4gICAgICAgICAgICAgICAgdmFyIHJlbW92ZVRoaXNVcGxvYWRIV00gPSBmdW5jdGlvbiAoc3VjY2Vzc2Z1bEhXTSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhpcyBvbmUgaW4gdGhlICRzY29wZS51cGxvYWRIV01zIGFuZCBzcGxpY2UgaXQgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwbGljZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhbmsgPSBzdWNjZXNzZnVsSFdNLmJhbms7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhjbU5hbWUgPSBob3JDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoY20pIHsgcmV0dXJuIGhjbS5oY29sbGVjdF9tZXRob2RfaWQgPT0gc3VjY2Vzc2Z1bEhXTS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGROYW1lID0gaG9yaXpEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gc3VjY2Vzc2Z1bEhXTS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bVFOYW1lID0gaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChocSkgeyByZXR1cm4gaHEuaHdtX3F1YWxpdHlfaWQgPT0gc3VjY2Vzc2Z1bEhXTS5od21fcXVhbGl0eV9pZDsgfSlbMF0uaHdtX3F1YWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bVROYW1lID0gaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGVfaWQgPT0gc3VjY2Vzc2Z1bEhXTS5od21fdHlwZV9pZDsgfSlbMF0uaHdtX3R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmsgPSBzdWNjZXNzZnVsSFdNLm1hcmtlcl9pZCAhPT0gdW5kZWZpbmVkID8gbWFya2VyTGlzdC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWFya2VyX2lkID09IHN1Y2Nlc3NmdWxIV00ubWFya2VyX2lkOyB9KVswXS5tYXJrZXIxIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2Y21OYW1lID0gc3VjY2Vzc2Z1bEhXTS52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/IHZlcnRDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uICh2Y20pIHsgcmV0dXJuIHZjbS52Y29sbGVjdF9tZXRob2RfaWQgPT0gc3VjY2Vzc2Z1bEhXTS52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmROYW1lID0gc3VjY2Vzc2Z1bEhXTS52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IHZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gc3VjY2Vzc2Z1bEhXTS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2FiYnJldmlhdGlvbiA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFnID0gc3VjY2Vzc2Z1bEhXTS5oZWlnaHRfYWJvdmVfZ25kICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoc3VjY2Vzc2Z1bEhXTS5oZWlnaHRfYWJvdmVfZ25kKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxGdCA9IHN1Y2Nlc3NmdWxIV00uZWxldl9mdCAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKHN1Y2Nlc3NmdWxIV00uZWxldl9mdCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVuYyA9IHN1Y2Nlc3NmdWxIV00udW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCA/IE51bWJlcihzdWNjZXNzZnVsSFdNLnVuY2VydGFpbnR5KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtVW5jID0gc3VjY2Vzc2Z1bEhXTS5od21fdW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCA/IE51bWJlcihzdWNjZXNzZnVsSFdNLmh3bV91bmNlcnRhaW50eSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaHdtSSA9IDA7IGh3bUkgPCAkc2NvcGUudXBsb2FkSFdNcy5sZW5ndGg7IGh3bUkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uc2l0ZV9ubyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdCBlYWNoIHVwbG9hZEhXTSBmaXJzdCB0byBjb21wYXJlIGFwcGxlcyB0byBhcHBsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfaHdtVW5jID0gJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiICYmICRzY29wZS51cGxvYWRIV01zW2h3bUldLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmh3bV91bmNlcnRhaW50eSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX21hcmsgPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5tYXJrZXJfaWQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0ubWFya2VyX2lkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5tYXJrZXJfaWQgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX3VuYyA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnVuY2VydGFpbnR5ICE9PSBcIlwiICYmICRzY29wZS51cGxvYWRIV01zW2h3bUldLnVuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udW5jZXJ0YWludHkpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF9oYWcgPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5oZWlnaHRfYWJvdmVfZ25kICE9PSBcIlwiICYmICRzY29wZS51cGxvYWRIV01zW2h3bUldLmhlaWdodF9hYm92ZV9nbmQgIT09IHVuZGVmaW5lZCA/IE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS5oZWlnaHRfYWJvdmVfZ25kKSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfZWxGdCA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLmVsZXZfZnQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uZWxldl9mdCAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmVsZXZfZnQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF92Y29sbE1ldGggPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52Y29sbGVjdF9tZXRob2RfaWQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udmNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52Y29sbGVjdF9tZXRob2RfaWQgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX3ZkYXQgPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52ZGF0dW1faWQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udmRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52ZGF0dW1faWQgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdCBhIG51bGwgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uc2l0ZV9ubyA9PSBzdWNjZXNzZnVsSFdNLnNpdGVfbm8gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS53YXRlcmJvZHkgPT0gc3VjY2Vzc2Z1bEhXTS53YXRlcmJvZHkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRfaHdtVW5jID09IGh3bVVuYyAmJiAvL3VwbG9hZEhXTXNbLi5dLmh3bV91bmNlcnRhaW50eSBpcyBcIlwiIGFuZCBjb21wYXJpbmcgdG8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uYmFuayA9PSBiYW5rICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX2xvY2F0aW9uZGVzY3JpcHRpb24gPT0gc3VjY2Vzc2Z1bEhXTS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS5sYXRpdHVkZV9kZCkgPT0gc3VjY2Vzc2Z1bEhXTS5sYXRpdHVkZV9kZCAmJiBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0ubG9uZ2l0dWRlX2RkKSA9PSBzdWNjZXNzZnVsSFdNLmxvbmdpdHVkZV9kZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF9oYWcgPT0gaGFnICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaGNvbGxlY3RfbWV0aG9kX2lkID09IGhjbU5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5oZGF0dW1faWQgPT0gaGROYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3F1YWxpdHlfaWQgPT0gaHdtUU5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fdHlwZV9pZCA9PSBod21UTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF9tYXJrID09IG1hcmsgJiYgLy91cGxvYWRIV01zWy4uXS5tYXJrZXJfaWQgaXMgXCJcIiBhbmQgY29tcGFyaW5nIHRvIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF92Y29sbE1ldGggPT0gdmNtTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF92ZGF0ID09IHZkTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF9lbEZ0ID09IGVsRnQgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRfdW5jID09IHVuYyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLmh3bV9ub3RlcyA9PSBzdWNjZXNzZnVsSFdNLmh3bV9ub3Rlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZUluZGV4ID0gaHdtSTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaWNlSW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXMuc3BsaWNlKHNwbGljZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bUkgPSAkc2NvcGUudXBsb2FkSFdNcy5sZW5ndGg7Ly9icmVhayFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmR5bmFtaWMgPT0gJHNjb3BlLm1heClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9ICdmYWxzZSc7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3ZhbGlkYXRlIGJlZm9yZSBhbGxvd2luZyBzYXZlIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZhbGlkYXRlVGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9hZGluZ0RpdicpLnJlbW92ZUNsYXNzKCdub1Nob3cnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGF2ZURhdGEgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbCgwLCAyKTsgLy8gIChyb3csY29sKSBod21fdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXZlRGF0YSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2UudmFsaWRhdGVDZWxscyhmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlZhbGlkPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VmFsaWRhdGlvbiBzdWNjZXNzZnVsITwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9hZGluZ0RpdicpLmFkZENsYXNzKCdub1Nob3cnKTsgLy9hZGRDbGFzcyA9ZmFsc2UsIHJlbW92ZUNsYXNzID10cnVlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ub3RWYWxpZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdFZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW52YWxpZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkludmFsaWQhPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIHRhYmxlIGlzIG5vdCB2YWxpZC4gUGxlYXNlIGNvcnJlY3QgcmVkIGNlbGxzIGFuZCB0cnkgYWdhaW4uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL2FkZENsYXNzID1mYWxzZSwgcmVtb3ZlQ2xhc3MgPXRydWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KCcjbG9hZGluZ0RpdicpLmFkZENsYXNzKCdub1Nob3cnKTsgLy9uZWVkIHRvIGRvIHRoaXMgd2F5IGZvciBzb21lIHJlYXNvbiBjaGFuZ2luZyBib29sZWFuIGlzbid0IHdvcmtpbmcgLiAkcm9vdFNjb3BlIGVpdGhlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL2FkZENsYXNzID1mYWxzZSwgcmVtb3ZlQ2xhc3MgPXRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Ob3QgZW5vdWdoIGRhdGEgaW4gdGhlIHRhYmxlIHRvIHZhbGlkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2F2ZSB1cGRhdGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZHluYW1pYyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5jaG9zZW5FdmVudDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzdGVkSFdNcyA9IGFuZ3VsYXIuY29weSgkc2NvcGUudXBsb2FkSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZHJvcCB0aGUgbGFzdCAyMCBzaW5jZSB0aGV5IGFyZSBlbXB0eVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBwYXN0ZWRIV01zLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFzdGVkSFdNc1tpXS5zaXRlX25vID09PSB1bmRlZmluZWQgfHwgcGFzdGVkSFdNc1tpXS5zaXRlX25vID09PSBudWxsIHx8IHBhc3RlZEhXTXNbaV0uc2l0ZV9ubyA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzdGVkSFdNcy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1heCA9IHBhc3RlZEhXTXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9ICd0cnVlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdFZhbGlkID0gdHJ1ZTsgLy9yZXNldCBzbyB0aGV5IGRvbid0IGNsaWNrIGl0IGFnYWluIGJlZm9yZSBoYXZpbmcgdG8gdmFsaWRhdGVcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm8gZ28gdGhydSBlYWNoIGFuZCBnZXQgcmVzdCBvZiBmaWVsZHMgbmVlZGVkIGFuZCBwb3N0IGh3bXNcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocGFzdGVkSFdNcywgZnVuY3Rpb24gKGh3bSwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIHNpdGVQZWFrID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2VhcmNoZWRTaXRlKHsgYnlTaXRlTm86IGh3bS5zaXRlX25vIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFNpdGVQZWFrcyh7IGlkOiByZXNwb25zZS5zaXRlX2lkIH0sIGZ1bmN0aW9uIChwZWFrUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwID0gMDsgcCA8IHBlYWtSZXNwb25zZS5sZW5ndGg7IHArKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGUgc2l0ZSBwZWFrIGlzIGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWFrUmVzcG9uc2VbcF0uZXZlbnRfbmFtZSA9PSAkc2NvcGUuY2hvc2VuRXZlbnROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVBlYWthcnJheS5wdXNoKFtyZXNwb25zZS5zaXRlX2lkLCBwZWFrUmVzcG9uc2VbcF0ucGVha19zdW1tYXJ5X2lkXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLnNpdGVfaWQgPSByZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5ldmVudF9pZCA9ICRzY29wZS5jaG9zZW5FdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uZmxhZ19tZW1iZXJfaWQgPSAkc2NvcGUuJHBhcmVudC51c2VySUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLmZsYWdfZGF0ZSA9IG1ha2VBZGF0ZShod20uZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLnN1cnZleV9kYXRlICE9PSBcIlwiICYmIGh3bS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKSBod20uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoaHdtLnN1cnZleV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uaGNvbGxlY3RfbWV0aG9kX2lkID0gaG9yQ29sbE1ldGhMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGNtKSB7IHJldHVybiBoY20uaGNvbGxlY3RfbWV0aG9kID09IGh3bS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uaGRhdHVtX2lkID0gaG9yaXpEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1fbmFtZSA9PSBod20uaGRhdHVtX2lkOyB9KVswXS5kYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uaHdtX3F1YWxpdHlfaWQgPSBod21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhxKSB7IHJldHVybiBocS5od21fcXVhbGl0eSA9PSBod20uaHdtX3F1YWxpdHlfaWQ7IH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5od21fdHlwZV9pZCA9IGh3bVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHQpIHsgcmV0dXJuIGh0Lmh3bV90eXBlID09IGh3bS5od21fdHlwZV9pZDsgfSlbMF0uaHdtX3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLm1hcmtlcl9pZCA9IGh3bS5tYXJrZXJfaWQgIT09IFwiXCIgJiYgaHdtLm1hcmtlcl9pZCAhPT0gdW5kZWZpbmVkID8gbWFya2VyTGlzdC5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWFya2VyMSA9PSBod20ubWFya2VyX2lkOyB9KVswXS5tYXJrZXJfaWQgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bS5zdGlsbHdhdGVyICE9PSBcIlwiICYmIGh3bS5zdGlsbHdhdGVyICE9PSB1bmRlZmluZWQpIGh3bS5zdGlsbHdhdGVyID0gaHdtLnN0aWxsd2F0ZXIgPT0gXCJOb1wiID8gXCIwXCIgOiBcIjFcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20udmNvbGxlY3RfbWV0aG9kX2lkID0gaHdtLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gXCJcIiAmJiBod20udmNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyB2ZXJ0Q29sbE1ldGhMaXN0LmZpbHRlcihmdW5jdGlvbiAodmNtKSB7IHJldHVybiB2Y20udmNvbGxlY3RfbWV0aG9kID09IGh3bS52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZF9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20udmRhdHVtX2lkID0gaHdtLnZkYXR1bV9pZCAhPT0gXCJcIiAmJiBod20udmRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyB2ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2FiYnJldmlhdGlvbiA9PSBod20udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLnN1cnZleV9kYXRlICE9PSBcIlwiICYmIGh3bS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKSBod20uc3VydmV5X21lbWJlcl9pZCA9ICRzY29wZS4kcGFyZW50LnVzZXJJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBwb3N0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVObyA9IGh3bS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBod20uc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAobGV0IHNlcnZpY2VzIGhhbmRsZSB0aGlzKSBod20uaHdtX2xhYmVsID0gXCJod20tXCIgKyBwYXJzZUludChpbmRleCArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKGh3bSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoaHdtUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHByb3ZlIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLmFwcHJvdmVIV00oeyBpZDogaHdtUmVzcG9uc2UuaHdtX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLnNpdGVfbm8gPSBzaXRlTm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtUmVzcG9uc2Uuc3RpbGx3YXRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2Uuc3RpbGx3YXRlciA9IGh3bVJlc3BvbnNlLnN0aWxsd2F0ZXIgPiAwID8gXCJZZXNcIiA6IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBod21SZXNwb25zZS5zdGlsbHdhdGVyID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlUGVha0lkID0gJHNjb3BlLnNpdGVQZWFrYXJyYXkuZmlsdGVyKGZ1bmN0aW9uIChzcCkgeyByZXR1cm4gc3BbMF0gPT0gaHdtUmVzcG9uc2Uuc2l0ZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l0ZVBlYWtJZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVyZSdzIGEgcGVhayB0aGlzIGh3bSBjb3VsZCBiZSBhZGRlZCB0b1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLlBlYWtTdW1tYXJ5ID0gc2l0ZVBlYWtJZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCB0aGUgZmlsZSBhbmQgYWRkIHRvIHRoZSBod20gYmVmb3JlIHB1c2hpbmcgdG8gcG9zdGVkSFdNc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hcHByb3ZhbFNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYXBwcm92YWxTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc291cmNlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFwcHJvdmFsRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hcHByb3ZhbEZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFwcHJvdmFsRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYXBwcm92YWxGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYXBwcm92YWxGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hcHByb3ZhbEZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogaHdtUmVzcG9uc2Uuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IHNvdXJjZVJlc3BvbnNlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hcHByb3ZhbEZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYXBwcm92YWxGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFwcHJvdmFsRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiBod21SZXNwb25zZS5od21faWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYXBwcm92YWxGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsvL2VuZCBmaWxlUGFydHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLkhXTUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5IV01GaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byB0aGUgZG9uZSBsaXN0IChtYWtlIHN1cmUgaXQncyBub3QgYWxyZWFkeSB0aGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucG9zdGVkSFdNcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuaHdtX2lkOyB9KS5pbmRleE9mKGh3bVJlc3BvbnNlLmh3bV9pZCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gdXBsb2FkZWQ6IGh3bV9pZDpcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXMucHVzaChod21SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkhXTSBcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCArIFwiIGlzIGFscmVhZHkgaW4gdGhlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCBsaXN0IGJlbG93LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUaGlzVXBsb2FkSFdNKGh3bVJlc3BvbnNlKTsgLy9yZW1vdmUgaXQgZnJvbSB0aGUgaGFuZHNvbnRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBmaWxldHlwZV9pZCAhPT0gOFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlLnNvdXJjZV9pZCA9IHNvdXJjZVJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsRmlsZS5zaXRlX2lkID0gaHdtUmVzcG9uc2Uuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsRmlsZS5od21faWQgPSBod21SZXNwb25zZS5od21faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZhbEZpbGUucGF0aCA9ICc8bGluaz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLmFwcHJvdmFsRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5IV01GaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gdGhlIGRvbmUgbGlzdCAobWFrZSBzdXJlIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBvc3RlZEhXTXMubWFwKGZ1bmN0aW9uIChwKSB7IHJldHVybiBwLmh3bV9pZDsgfSkuaW5kZXhPZihod21SZXNwb25zZS5od21faWQpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIHVwbG9hZGVkOiBod21faWQ6XCIgKyBod21SZXNwb25zZS5od21faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wb3N0ZWRIV01zLnB1c2goaHdtUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJIV00gXCIgKyBod21SZXNwb25zZS5od21faWQgKyBcIiBpcyBhbHJlYWR5IGluIHRoZSBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgbGlzdCBiZWxvdy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZHluYW1pYysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVGhpc1VwbG9hZEhXTShod21SZXNwb25zZSk7IC8vcmVtb3ZlIGl0IGZyb20gdGhlIGhhbmRzb250YWJsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGVsc2UgKGZpbGV0eXBlX2lkIGRvZXMgPT0gOCkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoc291cmNlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgYXBwcm92YWwgRmlsZSBTb3VyY2U6IFwiICsgc291cmNlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgYXBwcm92YWwgRmlsZSBTb3VyY2U6IFwiICsgc291cmNlRXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGFwcHJvdmVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ2ZhbHNlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwcm92ZUVycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGh3bTogXCIgKyBhcHByb3ZlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBod206IFwiICsgYXBwcm92ZUVycm9yLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBhcHByb3ZlIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChod21TYXZlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ2ZhbHNlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21TYXZlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgaHdtOiBcIiArIGh3bVNhdmVFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1cGxvYWRpbmcgaHdtOiBcIiArIGh3bVNhdmVFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChnZXRTaXRlUGVha0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRTaXRlUGVha0Vycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHBlYWs6IFwiICsgZ2V0U2l0ZVBlYWtFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBwZWFrOiBcIiArIGdldFNpdGVQZWFrRXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGdldEh3bVNpdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ2ZhbHNlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZ2V0SHdtU2l0ZUVycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIGluZm8gKFwiICsgaHdtLnNpdGVfbm8gKyBcIik6IFwiICsgZ2V0SHdtU2l0ZUVycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgaW5mbyAoXCIgKyBod20uc2l0ZV9ubyArIFwiKTogXCIgKyBnZXRId21TaXRlRXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBiYWNrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNsZWFyVGFibGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2V0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+V2FybmluZyEgVGhpcyB3aWxsIHJlbW92ZSBhbGwgaHdtcyBmcm9tIHRoZSB0YWJsZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdFZhbGlkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBzdWNjZXNzZnVsbHkgVXBsb2FkZWQgVGFibGUgc3R1ZmYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIHRoZSBzaXRlIG5vIGluIHRoZSBmaW5pc2hlZCB0YWJsZSBcclxuICAgICAgICAgICAgICAgICRzY29wZS5nb1RvU2l0ZURhc2ggPSBmdW5jdGlvbiAoc2l0ZUlEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zaG93IHdhcm5pbmcgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2FybmluZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmchPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IGFyZSBhYm91dCB0byBsZWF2ZSB0aGUgQnVsayBIV00gVXBsb2FkZXIuPGJyIC8+SW4gZG9pbmcgc28sIHlvdSB3aWxsIG5vIGxvbmdlciBiZSBhYmxlIHRvIHNlZSB0aGUgbGlzdCBvZiBzdWNjZXNzZnVsbHkgdXBsb2FkZWQgSFdNcy48L3A+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoaXMgcGFnZT88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPlllczwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cImNhbmNlbCgpXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgd2FybmluZ01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzaXRlSWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGh3bSBhbmQgcmVtb3ZlIGZyb20gZG9uZSB0YWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlbGV0ZUhXTSA9IGZ1bmN0aW9uIChod20pIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsSW5kZXggPSAkc2NvcGUucG9zdGVkSFdNcy5pbmRleE9mKGh3bSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBod20gdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkhXTVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoaHdtVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV00uZGVsZXRlKHsgaWQ6IGh3bVRvUmVtb3ZlLmh3bV9pZCB9LCBod21Ub1JlbW92ZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgaHdtRmlsZXMgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXMuc3BsaWNlKCRzY29wZS5kZWxJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVsSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTsgLy9lbmQgRGVsZXRlSFdNICAgICAgICAgICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byBlZGl0IGh3bSBvciBhZGQgZmlsZXMgdG8gaXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5PcGVuSFdNRWRpdCA9IGZ1bmN0aW9uIChIV01jbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhc3NBbGxMaXN0cyA9IFtod21UeXBlTGlzdCwgaHdtUXVhbExpc3QsIGhvcml6RGF0dW1MaXN0LCBob3JDb2xsTWV0aExpc3QsIHZlcnREYXR1bUxpc3QsIHZlcnRDb2xsTWV0aExpc3QsIG1hcmtlckxpc3QsIGV2ZW50TGlzdF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5wb3N0ZWRIV01zLmluZGV4T2YoSFdNY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVObyA9IEhXTWNsaWNrZWQuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBod21FZGl0SW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnSFdNX01vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhc3NBbGxMaXN0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzSFdNOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhXTWNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZUhNV3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNLmdldEV2ZW50U2l0ZUhXTXMoeyBzaXRlSWQ6IEhXTWNsaWNrZWQuc2l0ZV9pZCwgRXZlbnQ6IEhXTWNsaWNrZWQuZXZlbnRfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IEhXTWNsaWNrZWQuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnZW5jaWVzTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlVHlwZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaHdtRWRpdE1vZGFsQ3RybCcvL2VuZCBtb2RhbCBjb250cm9sbGVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaHdtRWRpdEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChod21VcGRhdGVkQU5ERmlsZUNudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGh3bVVwZGF0ZWRBTkRGaWxlQ250WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZXMgPSBod21VcGRhdGVkQU5ERmlsZUNudFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5zaXRlX25vID0gc2l0ZU5vOyAvL2FkZCBiYWNrIHRoZSBzaXRfbm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgZmlsZXMgY291bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5IV01GaWxlcyA9IGZpbGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpeCBzdGlsbHdhdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoLnN0aWxsd2F0ZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zdGlsbHdhdGVyID0gaC5zdGlsbHdhdGVyID4gMCA/IFwiWWVzXCIgOiBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBoLnN0aWxsd2F0ZXIgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wb3N0ZWRIV01zW2luZGV4Q2xpY2tlZF0gPSBoO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBzdWNjZXNzZnVsbHkgVXBsb2FkZWQgVGFibGUgc3R1ZmYgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBIV00gUEVBSyBcImFkZC9lZGl0XCIgY2xpY2tlZCAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICAgICAgICAgICRzY29wZS5PcGVuUGVha0VkaXQgPSBmdW5jdGlvbiAocGVha0lkLCBzaXRlSWQsIGV2ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZWFrRWRpdEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1BlYWtFZGl0X01vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29sbGVjdENvbmRpdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5TVF9DT0xMX0NPTkRJVElPTi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0RGF0dW1zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnREYXR1bUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWs6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUEVBSy5xdWVyeSh7IGlkOiBwZWFrSWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWtERnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUEVBSy5nZXRQZWFrU3VtbWFyeURGcyh7IGlkOiBwZWFrSWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVha1NpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiBzaXRlSWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudEhXTXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNLmdldEZpbHRlcmVkSFdNcyh7IEV2ZW50OiAkc2NvcGUuY2hvc2VuRXZlbnQsIEV2ZW50U3RhdHVzOiAwIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVGaWxlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVGaWxlcyh7IGlkOiBzaXRlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlU2Vuc29ycyh7IGlkOiBzaXRlSWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwZWFrTW9kYWxDdHJsJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBlYWtFZGl0SW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHVwZGF0ZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGVkWzBdIHdpbGwgYmUgdGhlIHBlYWssIHVwZGF0ZWRbMV0gd2lsbCBiZSAndXBkYXRlZCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT3BlblBlYWtDcmVhdGUgPSBmdW5jdGlvbiAoc2l0ZUlkLCBldmVudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGVha0NyZWF0ZUluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1BlYWtFZGl0X01vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29sbGVjdENvbmRpdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5TVF9DT0xMX0NPTkRJVElPTi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0RGF0dW1zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnREYXR1bUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWs6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNQZWFrREZzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWFrU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50SFdNczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RmlsdGVyZWRIV01zKHsgRXZlbnQ6ICRzY29wZS5jaG9zZW5FdmVudCwgRXZlbnRTdGF0dXM6IDAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZUZpbGVzKHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVTZW5zb3JzKHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BlYWtNb2RhbEN0cmwnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVha0NyZWF0ZUluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkUGspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGVkUGtbMF0gd2lsbCBiZSB0aGUgcGVhaywgY3JlYXRlZFBrWzFdIHdpbGwgYmUgJ2NyZWF0ZWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRoaXMgJ1BlYWtTdW1tYXJ5JyBbc2l0ZV9pZCwgcGVha19zdW1tYXJ5X2lkXSB0byBlYWNoIGh3bSBpbiBwb3N0ZWRIV01zIHRoYXQgaGF2ZSB0aGlzIHNpdGVJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnBvc3RlZEhXTXMsIGZ1bmN0aW9uIChwSFdNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocEhXTS5zaXRlX2lkID09IHNpdGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBIV00uUGVha1N1bW1hcnkgPSBbc2l0ZUlkLCBjcmVhdGVkUGtbMF0ucGVha19zdW1tYXJ5X2lkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEhXTSBQRUFLIFwiYWRkL2VkaXRcIiBjbGlja2VkLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGhhbmRzb250YWJsZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhYmxlU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jb2xIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbEhlYWRlcnM6IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5XYXRlcmJvZHkgKjwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJJZGVudGlmeWluZyBMYWJlbC4gSWYgbGVmdCBibGFuaywgZGVmYXVsdHMgdG8gJnF1b3Q7bm9fbGFiZWwmcXVvdDtcIj5IV00gTGFiZWw8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5IV00gVHlwZSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTWFya2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIEVudmlyb25tZW50ICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJIV00gVW5jZXJ0YWludHkgKGZ0KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPkhXTSBRdWFsaXR5ICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJCYW5rXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiTG9jLiBEZXNjcmlwdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPkhXTSBMYXRpdHVkZSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIExvbmdpdHVkZSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SG9yaXpvbnRhbCBEYXR1bSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SG9yaXpvbnRhbCBDb2xsZWN0IE1ldGhvZCAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIkhlaWdodCBhYm92ZSBncm91bmRcIj5IQUcgKGZ0KTwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPkZsYWcvRm91bmQgRGF0ZSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU3VydmV5IERhdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXJ2ZXllZCBFbGV2IChmdClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJWZXJ0aWNhbCBEYXR1bVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZlcnRpY2FsIENvbGxlY3QgTWV0aG9kXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiU3VydmV5IFVuY2VydGFpbnR5IChmdClcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJOb3Rlc1wiLCBcIlRyYW5xdWlsL1N0aWxsd2F0ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiU2l0ZSBOdW1iZXIsIFJlcXVpcmVkXCI+IFNpdGUgTm8gKjwvc3Bhbj4nXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pblNwYXJlUm93czogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWF4Um93czogMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJJbml0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZSA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5Tb3J0aW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBtYW51YWxDb2x1bW5SZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsUm93UmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdvcmRXcmFwOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50T3ZlcmZsb3c6ICdob3Jpem9udGFsJyxcclxuICAgICAgICAgICAgICAgICAgICB2aWV3cG9ydENvbHVtblJlbmRlcmluZ09mZnNldE51bWJlcjogMSxcclxuICAgICAgICAgICAgICAgICAgICBjb2xXaWR0aHM6ICRzY29wZS5jb2x1bW5XaWR0aHMsXHJcbiAgICAgICAgICAgICAgICAgICAgLy9pbnRlcmVzdGluZy0tIGNvdWxkIHVzZSB0aGlzIGZvciBob3ZlciB0ZXh0IG9uIGludmFsaWRzIG1heWJlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZnRlck9uQ2VsbE1vdXNlT3ZlcjpmdW5jdGlvbiAoZXZlbnQsIGNvb3JkcywgdGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICB2YXIgdGVzdCA9ICdoaSc7XHJcbiAgICAgICAgICAgICAgICAgICAgLy99LFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyT25DZWxsTW91c2VEb3duOiBmdW5jdGlvbiAoZXZlbnQsIGNvb3JkcywgdGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG1vZGFsIGZvciBzaXRlTm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG11bHRpLXNlbGVjdCBtb2RhbCBmb3IgcmVzb3VyY2VzLCBtZWRpYSBvciBmcmVxdWVuY2llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRzLmNvbCA9PT0gMjIgJiYgZXZlbnQucmVhbFRhcmdldC5jbGFzc05hbWUgPT0gXCJodEF1dG9jb21wbGV0ZUFycm93XCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTm9BcnJvd0NsaWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhc3NIV012YWxzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzSFdNdmFscy5wdXNoKCRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRDZWxsKGNvb3Jkcy5yb3csIDApKTsgLy93YXRlcmJvZHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NIV012YWxzLnB1c2goJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgOSkpOyAvL2xhdCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NIV012YWxzLnB1c2goJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgMTApKTsgLy9sb25nICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NIV012YWxzLnB1c2goJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgMTEpKTsgLy9oZGF0dW0gIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCAxMikpOyAvL2hjb2xsZWN0bWV0aGQgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0RmluZFNpdGVNb2RhbChjb29yZHMucm93LCBjb29yZHMuY29sLCBwYXNzSFdNdmFscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHRNZW51OiBbJ3JlbW92ZV9yb3cnXSxcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlclZhbGlkYXRlOiBmdW5jdGlvbiAoaXNWYWxpZCwgdmFsdWUsIHJvdywgcHJvcCwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5wdXNoKHsgXCJpc1ZhbGlkXCI6IGlzVmFsaWQsIFwicm93XCI6IHJvdywgXCJwcm9wXCI6IHByb3AgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2SSA9IDA7IHZJIDwgJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgdkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbdkldLnJvdyA9PSByb3cgJiYgJHNjb3BlLmludmFsaWRzW3ZJXS5wcm9wID09IHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdkluZGV4ID0gdkk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2SW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKHZJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJDaGFuZ2U6IGZ1bmN0aW9uIChjaGFuZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NvdXJjZSBjYW4gYmUgJ2xvYWREYXRhJyAoZmlyc3QgdGltZSksICdlZGl0JyAob25lIGNlbGwgYXQgYSB0aW1lKSwgJ3Bhc3RlJyAoYnVuY2ggYXQgYSB0aW1lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSBpcyBhbiBhcnJheSBjb250YWluaW5nIGFycmF5cyBmb3IgZWFjaCBjb2x1bW4gYWZmZWN0ZWQ6IFswXSA9IHJvdywgWzFdID0gZGF0YU5hbWUsIFsyXSA9IHZhbHVlIGl0IHdhcywgWzNdID0gdmFsdWUgaXQgaXMgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNvdXJjZSAhPSAnbG9hZERhdGEnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYW5nZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGlmIGl0IHdhcyBhY3R1YWxseSBjaGFuZ2VkIC0tIG1ha2UgdGhlbSB2YWxpZGF0ZSBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VbaV1bMl0gIT09IGNoYW5nZVtpXVszXSAmJiAkc2NvcGUubm90VmFsaWQgPT09IGZhbHNlKSAkc2NvcGUubm90VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGZvcmVhY2ggY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJSZW1vdmVSb3c6IGZ1bmN0aW9uIChpbmRleCwgYW1vdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgYW55ICRzY29wZS5pbnZhbGlkc1tpXS5yb3cgPT0gaW5kZXggdGhlbiBzcGxpY2UgaXQgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZCA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRTZWxlY3RlZCgpOyAvL1tzdGFydFJvdywgc3RhcnRDb2wsIGVuZFJvdywgZW5kQ29sXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYW1vdW50ID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tb3JlIHRoYW4gMSByb3cgYmVpbmcgZGVsZXRlZC4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaFJvd0luZGV4QXJyYXkgPSBbXTsgLy9ob2xkZXIgZm9yIGFycmF5IGluZGV4IHRvIGxvb3AgdGhydSBmb3Igc3BsaWNpbmcgaW52YWxpZHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbnQgPSAoc2VsZWN0ZWRbMl0gLSBzZWxlY3RlZFswXSArIDEpOyAvL2dpdmVzIG1lIGNvdW50IG9mIHNlbGVjdGVkIHJvd3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hSb3dJbmRleEFycmF5LnB1c2goc2VsZWN0ZWRbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYyA9IDE7IGMgPCBjbnQ7IGMrKylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoUm93SW5kZXhBcnJheS5wdXNoKHNlbGVjdGVkWzBdICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvb3AgdGhydSBpbnZhbGlkcyB0byBzZWUgaWYgYW55IGFyZSBpbiB0aGUgZGVsZXRpbmcgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgTWkgPSAkc2NvcGUuaW52YWxpZHMubGVuZ3RoOyBNaS0tOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlYWNoUm93SW5kZXhBcnJheS5pbmRleE9mKCRzY29wZS5pbnZhbGlkc1tNaV0ucm93KSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKE1pLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vanVzdCAxIHJvdyBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9ICRzY29wZS5pbnZhbGlkcy5sZW5ndGg7IGktLTspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmludmFsaWRzW2ldLnJvdyA9PSBpbmRleClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgIH0vL2VuZCBhdXRob3JpemVkXHJcbiAgICAgICAgfV0pO1xyXG5cclxuICAgIC8vY29udHJvbGxlciBmb3IgdGhlIGh3bSBzaXRlIE5vIG1vZGFsIHRoYXQgY29tZXMgdXAgd2hlbiBjbGlja2luZyB0aGUgZHJvcGRvd24gYXJyb3cgaW4gdGhlIHNpdGUgbm8gY2VsbCBpbiB0aGUgaGFuZHNvbnRhYmxlXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdod21TaXRlTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckaHR0cCcsICckY29va2llcycsICckdWliTW9kYWxJbnN0YW5jZScsICduZWFyQnlTaXRlcycsICdIV01wYXJ0cycsICdzaXRlTm9BbHJlYWR5VGhlcmUnLCAnaGRhdHVtcycsICdoY29sTWV0aHMnLCAndmRhdHVtcycsICd2Y29sTWV0aHMnLCAnc3RhdGVzJywgJ2NvdW50aWVzJywgJ2xlYWZsZXREYXRhJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnR0VPQ09ERScsICdTSVRFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkaHR0cCwgJGNvb2tpZXMsICR1aWJNb2RhbEluc3RhbmNlLCBuZWFyQnlTaXRlcywgSFdNcGFydHMsIHNpdGVOb0FscmVhZHlUaGVyZSwgaGRhdHVtcywgaGNvbE1ldGhzLCB2ZGF0dW1zLCB2Y29sTWV0aHMsIHN0YXRlcywgY291bnRpZXMsIGxlYWZsZXREYXRhLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBHRU9DT0RFLCBTSVRFKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2NhbFNpdGVzID0gbmVhckJ5U2l0ZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5ob3JEYXR1bXMgPSBoZGF0dW1zO1xyXG4gICAgICAgICAgICAkc2NvcGUuaG9yQ29sbE1ldGhzID0gaGNvbE1ldGhzO1xyXG4gICAgICAgICAgICAkc2NvcGUudmVydERhdHVtcyA9IHZkYXR1bXM7XHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sbE1ldGhzID0gdmNvbE1ldGhzO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuY291bnRpZXMgPSBjb3VudGllcztcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlQ3JlYXRlQXJlYSA9IGZhbHNlOyAvL2NyZWF0ZSBuZXcgc2l0ZSBjaGVja2JveCBjbGljayB0b2dnbGUgc2hvdy9oaWRlIFxyXG4gICAgICAgICAgICAkc2NvcGUuZGlzYWJsZU9LID0gZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVDaGVja2VkID0gXCIwXCI7IC8vIGRlZmF1bHQgaXMgdW5jaGVja2VkIG9uIGNyZWF0ZSBuZXcgc2l0ZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IGZhbHNlOyAvL3Nob3cgbWFwIHRvZ2dsZSAob25seSBzaG93cyBpZiB0aGVyZSBhcmUgc2l0ZXMgaW4gdGhlIGxvY2FsU2l0ZXMgbGlzdFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVNYXAgPSBcIlNob3dcIjtcclxuICAgICAgICAgICAgLy8gc2hvdy9oaWRlIGNyZWF0ZSBzaXRlIGFyZWFcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dIaWRlQ3JlYXRlU2l0ZURpdiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUNyZWF0ZUFyZWEgPSAhJHNjb3BlLnNob3dTaXRlQ3JlYXRlQXJlYTtcclxuICAgICAgICAgICAgICAgIC8vdW5zZWxlY3QgYWxsIHJhZGlvIGJ1dHRvbnMgKGlmIGV4aXN0aW5nIG5lYXJieSBzaXRlcylcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUubG9jYWxTaXRlcywgZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgcy5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmUvc2hvdyBPSyBidXR0b24gZnJvbSBib3R0b20gb2YgbW9kYWxcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVPSyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNYXAgPSBmYWxzZTsgJHNjb3BlLnNob3dIaWRlTWFwID0gJHNjb3BlLnNob3dIaWRlTWFwID09IFwiU2hvd1wiID8gXCJIaWRlXCIgOiBcIlNob3dcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL3BvcHVsYXRlIG5ld1NpdGUgd2l0aCBod20gcGFydHMgaWYgcHJlc2VudCAgMDp3YXRlcmJvZHksIDE6bGF0LCAyOmxvbmcsIDM6aGRhdHVtLCA0Omhjb2xsZWN0bWV0aGRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS53YXRlcmJvZHkgPSBIV01wYXJ0c1swXSAhPT0gXCJcIiAmJiBIV01wYXJ0c1swXSAhPT0gbnVsbCA/IEhXTXBhcnRzWzBdIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5sYXRpdHVkZV9kZCA9IEhXTXBhcnRzWzFdICE9PSBcIlwiICYmIEhXTXBhcnRzWzFdICE9PSBudWxsID8gSFdNcGFydHNbMV0gOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCA9IEhXTXBhcnRzWzJdICE9PSBcIlwiICYmIEhXTXBhcnRzWzJdICE9PSBudWxsID8gSFdNcGFydHNbMl0gOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmhkYXR1bV9pZCA9IEhXTXBhcnRzWzNdICE9PSBcIlwiICYmIEhXTXBhcnRzWzNdICE9PSBudWxsID8gJHNjb3BlLmhvckRhdHVtcy5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9uYW1lID09IEhXTXBhcnRzWzNdOyB9KVswXS5kYXR1bV9pZCA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUuaGNvbGxlY3RfbWV0aG9kX2lkID0gSFdNcGFydHNbNF0gIT09IFwiXCIgJiYgSFdNcGFydHNbNF0gIT09IG51bGwgPyAkc2NvcGUuaG9yQ29sbE1ldGhzLmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmhjb2xsZWN0X21ldGhvZCA9PSBIV01wYXJ0c1s0XTsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kX2lkIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9nZXRBZGRyZXNzIHdpdGggbGF0L2xvbmdcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSAkc2NvcGUuZGlzYWJsZU9LID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvL21ha2UgYWxsIG1hcmtlcnMgKGlmIGFueSkgZGVmYXVsdCBibHVlICh1bnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5tYXJrZXJzLCBmdW5jdGlvbiAobW0pIHsgaWYgKG1tLmxheWVyID09ICdzdG5TaXRlcycpIG1tLmljb24gPSBpY29ucy5zdG47IH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2lmIHRoZXkgY2hlY2sgYSByYWRpbyBidXR0b24gKGNob3NlIGEgc2l0ZSkgbWFrZSBzdXJlIHRoZSBjaGVja2JveCBmb3IgbmV3IHNpdGUgaXMgdW5jaGVja2VkLlxyXG4gICAgICAgICAgICAkc2NvcGUudW5jaGtDcmVhdGUgPSBmdW5jdGlvbiAoY2hlY2tlZFNpdGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVDaGVja2VkID0gXCIwXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAvL2NoYW5nZSBpY29uIGNvbG9yIG9mIHRoYXQgbWFya2VyIGluIG1hcFxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5tYXJrZXJzLCBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtLmxheWVyID09ICdzdG5TaXRlcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG0ubGF0ID09IGNoZWNrZWRTaXRlLmxhdGl0dWRlX2RkICYmIG0ubG5nID09IGNoZWNrZWRTaXRlLmxvbmdpdHVkZV9kZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG0uaWNvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uaWNvbiA9IGljb25zLnNlbGVjdGVkU3RuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgbS5pY29uID0gaWNvbnMuc3RuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlT0sgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gc2hvdy9oaWRlIHRoZSBtYXAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZXNPbk1hcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TWFwID0gISRzY29wZS5zaG93TWFwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIaWRlTWFwID0gJHNjb3BlLnNob3dIaWRlTWFwID09IFwiU2hvd1wiID8gXCJIaWRlXCIgOiBcIlNob3dcIjtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2hvd01hcCkgZml0TWFwQm91bmRzKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL21hcCBzdHVmZlxyXG4gICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blNpdGVJY29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU3RuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxNCwgMTRdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ25ld1NpdGVJY29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGh3bUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE2LCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuSFdNSWNvbidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vcHVzaCBlYWNoIGxvY2FsU2l0ZSBpbnRvIHRoZSBtYXJrZXJzIGFycmF5XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmxvY2FsU2l0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBhID0gJHNjb3BlLmxvY2FsU2l0ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5TaXRlIE51bWJlcjo8L2I+ICcgKyBhLnNpdGVfbm8gKyAnPGJyIC8+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxiPlNpdGUgTmFtZTo8L2I+ICcgKyBhLnNpdGVfbmFtZSArICc8YnIgLz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGI+V2F0ZXJib2R5OjwvYj4gJyArIGEud2F0ZXJib2R5ICsgJzxiciAvPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8Yj5MYXRpdHVkZS9Mb25naXR1ZGU6PC9iPiAnICsgYS5sYXRpdHVkZV9kZCArICcgJyArIGEubG9uZ2l0dWRlX2RkICsgJzxiciAvPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBhLnNpdGVfbm8sXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3B1c2ggdGhlIGh3bSBpbnRvIHRoZSBtYXJrZXJzXHJcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5IV00nLFxyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+SFdNPC9iPjxici8+JyArXHJcbiAgICAgICAgICAgICAgICAnPGI+TGF0aXR1ZGU6PC9iPiAnICsgSFdNcGFydHNbMV0gKyAnPGJyLz4nICtcclxuICAgICAgICAgICAgICAgICc8Yj5Mb250aXR1ZGU6PC9iPiAnICsgSFdNcGFydHNbMl0gKyAnPGJyLz48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgbGF0OiBOdW1iZXIoSFdNcGFydHNbMV0pLFxyXG4gICAgICAgICAgICAgICAgbG5nOiBOdW1iZXIoSFdNcGFydHNbMl0pLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdIV00nLFxyXG4gICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuaHdtSWNvblxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy9nZXQgYm91bmRzIGJhc2VkIG9uIGxhdCBsb25nIG9mIDIgcG9pbnRzXHJcbiAgICAgICAgICAgIHZhciBib3VuZHMgPSBbXTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5sb2NhbFNpdGVzLCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgYm91bmRzLnB1c2goW3MubGF0aXR1ZGVfZGQsIHMubG9uZ2l0dWRlX2RkXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB2YXIgZml0TWFwQm91bmRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbGVhZmxldERhdGEuZ2V0TWFwKFwiYXNzb2NpYXRlZFNpdGVNYXBcIikudGhlbihmdW5jdGlvbiAobWFwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwLmZpdEJvdW5kcyhib3VuZHMsIHsgcGFkZGluZzogWzIwLCAyMF0gfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgZml0TWFwQm91bmRzKCk7XHJcbiAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xyXG4gICAgICAgICAgICAgICAgbWFya2VyczogJHNjb3BlLm1hcmtlcnMsXHJcbiAgICAgICAgICAgICAgICBsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcG86IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiV29ybGQgVG9wb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiVG9wb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0blNpdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NUTiBTaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0bkhXTToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dyb3VwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdIV00nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTsvL2VuZCBhbmd1bGFyICRzY29wZS5leHRlbmQgc3RhdGVtZW50XHJcbiAgICAgICAgICAgIC8vZW5kIG1hcCBwYXJ0XHJcblxyXG4gICAgICAgICAgICAvL2lmIHRoZXJlJ3MgYWxyZWFkeSBiZWVuIGEgc2l0ZV9ubyBhZGRlZCB0byB0aGlzIHJvdywgZ2V0IGl0IGZyb20gdGhlIGxvY2FsU2l0ZXMgYW5kIHNlbGVjdCBpdFxyXG4gICAgICAgICAgICBpZiAoc2l0ZU5vQWxyZWFkeVRoZXJlICE9PSBcIlwiICYmIHNpdGVOb0FscmVhZHlUaGVyZSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5sb2NhbFNpdGVzLCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzLnNpdGVfbm8gPT0gc2l0ZU5vQWxyZWFkeVRoZXJlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHMuc2VsZWN0ZWQgPSAndHJ1ZSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE1hcmtlciA9ICRzY29wZS5tYXJrZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5sYXQgPT0gcy5sYXRpdHVkZV9kZCAmJiBtLmxuZyA9PSBzLmxvbmdpdHVkZV9kZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkTWFya2VyLmljb24gPSBpY29ucy5zZWxlY3RlZFN0bjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9uZXcgc2l0ZSBjcmVhdGUgc2VjdGlvblxyXG4gICAgICAgICAgICAkc2NvcGUubmV3U2l0ZSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgLy9sYXQgZXJyb3IgbW9kYWwgXHJcbiAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNzMuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sYXRpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2xvbmcgbW9kYWxcclxuICAgICAgICAgICAgdmFyIG9wZW5Mb25nTW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTc1LjAgYW5kIC02MC4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL21ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgcmlnaHQgbnVtYmVyIHJhbmdlXHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja1ZhbHVlID0gZnVuY3Rpb24gKGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3U2l0ZS5sYXRpdHVkZV9kZCA8IDAgfHwgJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUubmV3U2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vd2hlbiBTSVRFLnN0YXRlIGNoYW5nZXMsIHVwZGF0ZSBjb3VudHkgbGlzdFxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gczsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmNvdW50aWVzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIHVwZGF0ZUNvdW50eUxpc3QoKSBmb3IgU2l0ZVxyXG5cclxuICAgICAgICAgICAgLy9nZXQgYWRkcmVzcyBwYXJ0cyBhbmQgZXhpc3Rpbmcgc2l0ZXMgXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jbGVhciB0aGVtIGFsbCBmaXJzdFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5uZXdTaXRlLmFkZHJlc3M7IGRlbGV0ZSAkc2NvcGUubmV3U2l0ZS5jaXR5OyBkZWxldGUgJHNjb3BlLm5ld1NpdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107IGRlbGV0ZSAkc2NvcGUubmV3U2l0ZS56aXA7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkKSAmJiAhaXNOYU4oJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvL2xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6ICRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCwgTGF0aXR1ZGU6ICRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLk5BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZUlEID0gJHNjb3BlLmNvdW50aWVzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9maXAgPT0gc3RhdGVGSVBTOyB9KVswXS5zdGF0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1N0YXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUuc3RhdGUgPSB0aGlzU3RhdGUuc3RhdGVfYWJicmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmNvdW50aWVzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiTm8gbG9jYXRpb24gaW5mb3JtYXRpb24gY2FtZSBiYWNrIGZyb20gdGhhdCBsYXQvbG9uZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzcy4gQ2hvb3NlIFN0YXRlIGFuZCBDb3VudHkgZnJvbSBkcm9wZG93bnMuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBkaWQgbm90IHR5cGUgYSBsYXQvbG9uZyBmaXJzdC4uLlxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcHJvdmlkZSBhIExhdGl0dWRlIGFuZCBMb25naXR1ZGUgYmVmb3JlIGNsaWNraW5nIFZlcmlmeSBMb2NhdGlvbjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgZ2V0QWRkcmVzcygpXHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgY3JlYXRlZCBhIG5ldyBzaXRlLCBwb3N0IGl0IGFuZCB1c2UgcGFzcyB0aGUgc2l0ZV9ubyBiYWNrIHRvIHRoZSBoYW5kc29udGFibGUgcm93XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVOZXdTaXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCB0aGUgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLm1lbWJlcl9pZCA9ICRzY29wZS4kcGFyZW50LnVzZXJJRDtcclxuICAgICAgICAgICAgICAgICAgICBTSVRFLnNhdmUoJHNjb3BlLm5ld1NpdGUsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zZW5kIGl0IGJhY2sgdG8gaGFuZHNvbnRhYmxlIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZW5kIGNyZWF0ZSBuZXcgc2l0ZSBzZWN0aW9uXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NlbmQgdGhlIHNlbGVjdGVkIG9uZSBiYWNrIHNvIHNpdGVfbm8gc2hvd3NcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZFNpdGUgPSBuZWFyQnlTaXRlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2VsZWN0ZWQgPT0gXCJ0cnVlXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VsZWN0ZWRTaXRlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7Ly9lbmQgTW9kYWwgY29udHJvbGxlclxyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bUVkaXRNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyRjb29raWVzJywgJyR1aWJNb2RhbCcsICckdWliTW9kYWxJbnN0YW5jZScsICdhbGxEcm9wZG93bnMnLCAndGhpc0hXTScsICdzaXRlSE1XcycsICdhZ2VuY3lMaXN0JywgJ2FsbE1lbWJlcnMnLCAnZmlsZVR5cGVzJywgJ2h3bVNpdGUnLFxyXG4gICAgICAgICdTRVJWRVJfVVJMJywgJ0hXTScsICdGSUxFJywgJ1NPVVJDRScsICdGSUxFX1NUQU1QJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkaHR0cCwgJGNvb2tpZXMsICR1aWJNb2RhbCwgJHVpYk1vZGFsSW5zdGFuY2UsIGFsbERyb3Bkb3ducywgdGhpc0hXTSwgc2l0ZUhNV3MsIGFnZW5jeUxpc3QsIGFsbE1lbWJlcnMsIGZpbGVUeXBlcywgaHdtU2l0ZSwgU0VSVkVSX1VSTCwgSFdNLCBGSUxFLCBTT1VSQ0UsIEZJTEVfU1RBTVApIHtcclxuICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgJHNjb3BlLnZpZXcgPSB7IEhXTXZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmggPSB7IGhPcGVuOiB0cnVlLCBoRmlsZU9wZW46IGZhbHNlIH07IC8vYWNjb3JkaW9uc1xyXG4gICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBhbGxEcm9wZG93bnNbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdCA9IGFsbERyb3Bkb3duc1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLkhEYXR1bXNMaXN0ID0gYWxsRHJvcGRvd25zWzJdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaENvbGxNTGlzdCA9IGFsbERyb3Bkb3duc1szXTtcclxuICAgICAgICAgICAgJHNjb3BlLlZEYXR1bXNMaXN0ID0gYWxsRHJvcGRvd25zWzRdO1xyXG4gICAgICAgICAgICAkc2NvcGUudkNvbGxNTGlzdCA9IGFsbERyb3Bkb3duc1s1XTtcclxuICAgICAgICAgICAgJHNjb3BlLm1hcmtlckxpc3QgPSBhbGxEcm9wZG93bnNbNl07XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QgPSBhbGxEcm9wZG93bnNbN107XHJcbiAgICAgICAgICAgICRzY29wZS50aGlzSFdNc2l0ZSA9IGh3bVNpdGU7XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBmaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoZnQpIHtcclxuICAgICAgICAgICAgICAgIC8vUGhvdG8gKDEpLCBIaXN0b3JpYyAoMyksIEZpZWxkIFNoZWV0cyAoNCksIExldmVsIE5vdGVzICg1KSwgT3RoZXIgKDcpLCBMaW5rICg4KSwgU2tldGNoICgxMClcclxuICAgICAgICAgICAgICAgIHJldHVybiBoZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgaGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgZmlsZSB0byBod21cclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gZmFsc2U7IC8vdG9nZ2xlIHRvIHNob3cvaGlkZSBldmVudCBkZCAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9OyAvL3dpbGwgaG9sZCBldmVudF9pZCBpZiBhZG1pbiBjaGFuZ2VzIGl0LiBhcHBseSB3aGVuIFBVVHRpbmdcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgIC8vYnV0dG9uIGNsaWNrIHRvIHNob3cgZXZlbnQgZHJvcGRvd24gdG8gY2hhbmdlIGl0IG9uIGV4aXN0aW5nIGh3bSAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dDaGFuZ2VFdmVudEREID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gISRzY29wZS5zaG93RXZlbnRERDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5Mb2dnZWRJbk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hSFdNID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9sYXQgbW9kYWwgXHJcbiAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNzMuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2xvbmcgbW9kYWxcclxuICAgICAgICAgICAgdmFyIG9wZW5Mb25nTW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTc1LjAgYW5kIC02MC4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbG9uZ2l0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBsYXRpdHVkZS9sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5sYXRpdHVkZV9kZCA8IDAgfHwgaC5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKGgubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihoLmxhdGl0dWRlX2RkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChoLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgaC5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oaC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaC5sb25naXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2h3bV91bmNlcnRhaW50eSB0eXBlZCBpbiwgY2hvb3NlIGNvb3Jlc3BvbmRpbmcgaHdtX2Vudmlyb25tZW50XHJcbiAgICAgICAgICAgICRzY29wZS5jaG9vc2VRdWFsaXR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB4ID0gTnVtYmVyKGguaHdtX3VuY2VydGFpbnR5KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoeCA+IDAuNCkgaC5od21fcXVhbGl0eV9pZCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoeCA8IDAuMDUpIGguaHdtX3F1YWxpdHlfaWQgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmh3bV9xdWFsaXR5X2lkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4OyB9KVswXS5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtIHF1YWxpdHkgY2hvc2VuIChvciBpdCBjaGFuZ2VkIGZyb20gYWJvdmUpLCBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgY29uZ3J1ZW50IHdpdGggaW5wdXQgYWJvdmVcclxuICAgICAgICAgICAgJHNjb3BlLmNvbXBhcmVUb1VuY2VydGFpbnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIiAmJiBoLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1F1YWxJZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGgubWluX3JhbmdlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4O1xyXG4gICAgICAgICAgICAgICAgICAgIH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoLmh3bV9xdWFsaXR5X2lkICE9PSBtYXRjaGluZ1F1YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgd2FybmluZyBtb2RhbCBhbmQgZm9jdXMgaW4gdW5jZXJ0YWludHlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluY29uZ3J1ZW50TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgaXMgYSBtaXNtYXRjaCBiZXR3ZWVuIHRoZSBod20gcXVhbGl0eSBjaG9zZW4gYW5kIHRoZSBod20gdW5jZXJ0YWludHkgYWJvdmUuIFBsZWFzZSBjb3JyZWN0IHlvdXIgaHdtIHVuY2VydGFpbnR5LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jb25ncnVlbnRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCJbbmFtZT0naHdtX3VuY2VydGFpbnR5J11cIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFIV00gPSBhbmd1bGFyLmNvcHkodGhpc0hXTSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSAkc2NvcGUuYUhXTS5zaXRlX25vOyAvL3JlbW92ZSB0aGlzIHNvIHRoYXQgaXQncyB0aGUgdHJ1ZSBvYmplY3QgZm9yIFBVVFxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uSFdNRmlsZXMpXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBmID0gMDsgZiA8ICRzY29wZS5hSFdNLkhXTUZpbGVzLmxlbmd0aDsgZisrKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5wdXNoKCRzY29wZS5hSFdNLkhXTUZpbGVzW2ZdKTtcclxuICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hSFdNLkhXTUZpbGVzO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBzdXJ2ZXllZCwgZGF0ZSBmb3JtYXQgYW5kIGdldCBzdXJ2ZXkgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IG51bGwgJiYgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlKTtcclxuXHJcbiAgICAgICAgICAgIC8vc2F2ZSBhSFdNXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZEhXTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZG1pbiBjaGFuZ2VkIHRoZSBldmVudCBmb3IgdGhpcyBod20uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5ldmVudF9pZCA9ICRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhleSBhZGRlZCBhIHN1cnZleSBkYXRlLCBhcHBseSBzdXJ2ZXkgbWVtYmVyIGFzIGxvZ2dlZCBpbiBtZW1iZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2ZpeCBzdGlsbHdhdGVyIGJlZm9yZSBwdXRcclxuICAgICAgICAgICAgICAgICAgICAvL2lmICgkc2NvcGUuaHdtQ29weS5zdGlsbHdhdGVyID09IFwiMVwiKSAkc2NvcGUuaHdtQ29weS5zdGlsbHdhdGVyID0gXCJZZXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2Vsc2UgaWYgKCRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPT0gXCIwXCIpICRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPSBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbHNlICRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPSBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuZWxldl9mdCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5od21Db3B5LmVsZXZfZnQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy92YXIgY2xlYW5IV00gPSBmb3JtYXRIV00oJHNjb3BlLmh3bUNvcHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogJHNjb3BlLmh3bUNvcHkuaHdtX2lkIH0sICRzY29wZS5od21Db3B5KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSB1cGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTSA9IHJlc3BvbnNlOyB0aGlzSFdNID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IGFsbCB0aGUgbmFtZXMgZm9yIGRldGFpbHMgdmlld1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuYUhXTS5od21fdHlwZSA9ICRzY29wZS5od21UeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGh0KSB7IHJldHVybiBodC5od21fdHlwZV9pZCA9PSAkc2NvcGUuYUhXTS5od21fdHlwZV9pZDsgfSlbMF0uaHdtX3R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdGlsbHdhdGVyICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5UcmFucXVpbCA9ICRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgPiAwID8gJ1llcycgOiAnTm8nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgc3VydmV5ZWQsIGRhdGUgZm9ybWF0IGFuZCBnZXQgc3VydmV5IG1lbWJlcidzIG5hbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSBudWxsICYmICRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbJHNjb3BlLmFIV00sICRzY29wZS5IV01GaWxlc107XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkID0gJHNjb3BlLmFIV00uZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxIV01FZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuSFdNdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5hSFdNLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZW5zdXJlaHdtTGFiZWxVbmlxdWUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNpdGVITVdzLCBmdW5jdGlvbiAoaHdtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGh3bS5od21fbGFiZWwgPT0gaC5od21fbGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgdW5pcXVlLCBjbGVhciBpdCBhbmQgc2hvdyB3YXJuaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguaHdtX2xhYmVsID0gaC5od21faWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hSFdNLmh3bV9sYWJlbCA6ICdod20tJyArIChwYXJzZUZsb2F0KHNpdGVITVdzLmxlbmd0aCkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuaXF1ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5XYXJuaW5nPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBod20gbGFiZWwgbXVzdCBiZSB1bmlxdWUgZnJvbSBhbGwgb3RoZXIgaHdtcyBhdCB0aGlzIHNpdGUgZm9yIHRoaXMgZXZlbnQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bmlxdWVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoXCJbbmFtZT0naHdtX2xhYmVsJ11cIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6ICRzY29wZS5hRmlsZS5od21faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6ICRzY29wZS5hRmlsZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSAkc2NvcGUuZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xOyAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTsgIC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vSFdNIHdpbGwgbm90IGhhdmUgZGF0YWZpbGUgXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZSAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBod20gZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5IV01GaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5od21JbWFnZUZpbGVzLmxlbmd0aCA+IDAgPyAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5pbmRleE9mKGZpbGUpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gYW5ndWxhci5jb3B5KGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHJlc3BvbnNlLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSAkc2NvcGUuZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5xdWVyeSh7IGlkOiBmaWxlLnNvdXJjZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc291cmNlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7ICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBmaXJzdCB0byBnZXQgc291cmNlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc0hXTXNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFIV00uaHdtX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmh3bUltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDsgJHNjb3BlLmFGaWxlLnNpdGVfaWQgPSAkc2NvcGUudGhpc0hXTXNpdGUuc2l0ZV9pZDsgJHNjb3BlLmFGaWxlLmh3bV9pZCA9ICRzY29wZS5hSFdNLmh3bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJMaW5rIHNhdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKCkgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIk5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG5cclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSBzUmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2J1bGtIV01BZGpDdHJsJywgWyckc2NvcGUnLCAnJHN0YXRlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJGZpbHRlcicsICckdWliTW9kYWwnLCAnU0lURScsICdIV00nLCAnSFdNX1NlcnZpY2UnLCAnZXZlbnRMaXN0JywgJ3N0YXRlTGlzdCcsICdjb3VudHlMaXN0JyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBTSVRFLCBIV00sIEhXTV9TZXJ2aWNlLCBldmVudExpc3QsIHN0YXRlTGlzdCwgY291bnR5TGlzdCkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXJ5U2VhcmNoID0ge307IC8vaG9sZHMgd2hhdCB0aGV5IHNlYXJjaGVkIGZvciB0byBnZXQgdGhlIGFkanVzdGVkSFdNcyBhZ2FpbiBhbmQgaGF2ZSBpdCBzaG93biB0byB0aGVtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy9kaXYgaG9sZGluZyBsb2FkZXIgYW5kIGR5bmFtaWMgYW5kIG1heCBmb3IgcHJvZ3Jlc3MgYmFyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZHluYW1pYyA9IDA7ICRzY29wZS5tYXggPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlOyAgLy9pZCAgd3RyIGxhYmVsIHNOTyBkZXNjIGxhdCAgbG9uZyBkYXRlIGVsZXYgdW5jICBub3QgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sdW1uV2lkdGhzID0gWzg0LCAxMjAsIDEyMCwgMTIwLCAyMjAsIDEyMCwgMTIwLCAxNTAsIDEzMCwgMTYwLCAxODBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNoYW5nZXMgPSBbXTsgLy90cmFjayBjaGFuZ2VzIG1hZGUgdG8gY29tcGFyZSBmb3Igc2F2aW5nXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMgPSBbXTsgLy9zdG9yZSB3aGVuIGludmFsaWQgdGhyb3duXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0gZXZlbnRMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlcyA9IHN0YXRlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5TGlzdCA9IGNvdW50eUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTsgLy9ob2xkZXIgb2Ygc3RhdGUgY291bnRpZXMgKHdpbGwgY2hhbmdlIGFzIHRoZXkgY2hhbmdlIHN0YXRlIGNob2ljZSlcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSB7ICdzZWFyY2hDbGlja2VkJzogZmFsc2UgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiMDFcIiwgXCIwMlwiLCBcIjAzXCIsIFwiMDRcIiwgXCIwNVwiLCBcIjA2XCIsIFwiMDdcIiwgXCIwOFwiLCBcIjA5XCIsIFwiMTBcIiwgXCIxMVwiLCBcIjEyXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbW9udGhOYW1lc1ttb250aF0gKyBcIi9cIiArIGRheSArIFwiL1wiICsgeWVhcjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGp1c3RIV01zID0gW107ICRzY29wZS5ldmVudFN0YXRlSFdNcyA9IFtdOyAvL2hvbGRzIHRoZSBldmVudCBod20gb2JqZWN0cyBmb3IgdXBkYXRpbmdcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Db3VudCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5IV01fcGFyYW1zLnN0YXRlX2FiYnJldiAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2OyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gJHNjb3BlLmNvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgLy9ldmVudCxzdGF0ZSxjb3VudGllcyBjaG9zZW4sIGdldCBod21zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0SFdNcyA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzdWx0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQuc2VhcmNoQ2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLkhXTV9wYXJhbXMuY291bnRpZXMsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlOYW1lcy5wdXNoKGMuY291bnR5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50aWVzQ29tbWFTZXAgPSBjb3VudHlOYW1lcy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGp1c3RIV01zID0gW107ICRzY29wZS5ldmVudFN0YXRlSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0b3JlIHNlYXJjaCBmb3IgbGVhdmUvY29tZSBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVyeVNlYXJjaCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2guRXZlbnQgPSAkc2NvcGUuSFdNX3BhcmFtcy5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXJ5U2VhcmNoLlN0YXRlID0gJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2guQ291bnRpZXMgPSBjb3VudGllc0NvbW1hU2VwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01fU2VydmljZS5zZXRCdWxrSFdNU2VhcmNoKCRzY29wZS5xdWVyeVNlYXJjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5nZXRGaWx0ZXJlZEhXTXMoeyBFdmVudDogJHNjb3BlLkhXTV9wYXJhbXMuZXZlbnRfaWQsIFN0YXRlczogJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2LCBDb3VudHk6IGNvdW50aWVzQ29tbWFTZXAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSByZXNwb25zZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVzdWx0LmlzUmVzcG9uc2UgPSAkc2NvcGUuaHdtQ291bnQgPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX2lkID0gcmVzcG9uc2VbaV0uaHdtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS53YXRlcmJvZHkgPSByZXNwb25zZVtpXS53YXRlcmJvZHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLmh3bV9sYWJlbCA9IHJlc3BvbnNlW2ldLmh3bV9sYWJlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuc2l0ZV9pZCA9IHJlc3BvbnNlW2ldLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLnNpdGVfbm8gPSByZXNwb25zZVtpXS5zaXRlX25vLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX2xvY2F0aW9uZGVzY3JpcHRpb24gPSByZXNwb25zZVtpXS5od21fbG9jYXRpb25kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUubGF0aXR1ZGVfZGQgPSByZXNwb25zZVtpXS5sYXRpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUubG9uZ2l0dWRlX2RkID0gcmVzcG9uc2VbaV0ubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVtpXS5zdXJ2ZXlfZGF0ZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUocmVzcG9uc2VbaV0uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuZWxldl9mdCA9IHJlc3BvbnNlW2ldLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLnVuY2VydGFpbnR5ID0gcmVzcG9uc2VbaV0udW5jZXJ0YWludHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLmh3bV9ub3RlcyA9IHJlc3BvbnNlW2ldLmh3bV9ub3RlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRqdXN0SFdNcy5wdXNoKG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCBIV01fU2VydmljZS5nZXRCdWxrSFdNU2VhcmNoKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNlYXJjaCA9IEhXTV9TZXJ2aWNlLmdldEJ1bGtIV01TZWFyY2goKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNX3BhcmFtcy5ldmVudF9pZCA9IHRoZVNlYXJjaC5FdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXYgPSB0aGVTZWFyY2guU3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZVNlYXJjaC5Db3VudGllcyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRpZXMgPSB0aGVTZWFyY2guQ291bnRpZXMuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNX3BhcmFtcy5jb3VudGllcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmNvdW50eUFycmF5LCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHRob3NlIHNlbGVjdGVkIGlmIGluIGNvdW50aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRpZXMubWFwKGZ1bmN0aW9uIChjQSkgeyByZXR1cm4gY0E7IH0pLmluZGV4T2YoYy5jb3VudHlfbmFtZSkgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLmNvdW50aWVzLnB1c2goYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0SFdNcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiByZW5kZXJlcnMvdmFsaWRhdG9yc1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcXVpcmVkTW9kYWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlcU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBmaWVsZCBpcyByZXF1aXJlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2UgcmVhZG9ubHkgZ3JleVxyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yUmVuZGVyZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIHRkLCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSGFuZHNvbnRhYmxlLnJlbmRlcmVycy5UZXh0UmVuZGVyZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB0ZC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGN0Y1RjUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc2l0ZV9ubyBhIGxpbmtcclxuICAgICAgICAgICAgICAgIHZhciBzaXRlTm9SZW5kZXJlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgdGQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBIYW5kc29udGFibGUucmVuZGVyZXJzLlRleHRSZW5kZXJlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLmlubmVySFRNTCA9ICc8YSBuZy1jbGljaz1cImdvVG9TaXRlKClcIj4nICsgdmFsdWUgKyAnPC9hPic7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuc3R5bGUuYmFja2dyb3VuZCA9ICcjRjdGNUY1JztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGQ7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlcXVpcmVkVmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5udW1iZXJWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9oYW5kbGluZyB0aGlzIG15c2VsZiwgbmV2ZXIgd2lsbCBiZSBpbnZhbGlkXHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9zYXZlIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS5nZXRFdmVudFN0YXRlSFdNcyh7IGV2ZW50SWQ6ICRzY29wZS5IV01fcGFyYW1zLmV2ZW50X2lkLCBzdGF0ZTogJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2IH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvb2sgdGhyb3VnaCAkc2NvcGUuZXZlbnRTdGF0ZUhXTXMgYW5kIGdyYWIgdGhlIG9uZXMgdGhhdCB3ZXJlIG9uIHRoaXMgYWRqdXN0bWVudCBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVUaGVzZUhXTXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXZIID0gMDsgZXZIIDwgJHNjb3BlLmV2ZW50U3RhdGVIV01zLmxlbmd0aDsgZXZIKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGV5SGF2ZUl0SGVyZSA9ICRzY29wZS5hZGp1c3RIV01zLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5od21faWQgPT0gJHNjb3BlLmV2ZW50U3RhdGVIV01zW2V2SF0uaHdtX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGV5SGF2ZUl0SGVyZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgc3VydmV5X2RhdGUsZWxldl9mdCwgdW5jZXJ0YWludHksIGFuZCBod21fbm90ZXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVIV01zW2V2SF0uc3VydnllX2RhdGUgPSB0aGV5SGF2ZUl0SGVyZS5zdXJ2ZXlfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS5lbGV2X2Z0ID0gdGhleUhhdmVJdEhlcmUuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS51bmNlcnRhaW50eSA9IHRoZXlIYXZlSXRIZXJlLnVuY2VydGFpbnR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdLmh3bV9ub3RlcyA9IHRoZXlIYXZlSXRIZXJlLmh3bV9ub3RlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVUaGVzZUhXTXMucHVzaCgkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9QVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh1cGRhdGVUaGVzZUhXTXMsIGZ1bmN0aW9uICh1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV00udXBkYXRlKHsgaWQ6IHUuaHdtX2lkIH0sIHUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNcyB1cGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGp1c3RIV01zID0gW107ICRzY29wZS5ldmVudFN0YXRlSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vcmVzZXQgYmFjayBcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5XYXJuaW5nISBUaGlzIHdpbGwgcmV2ZXJ0IHRoZSBod20gZGF0YSB0byB0aGUgbGFzdCBzYXZlZCB2ZXJzaW9uLiBBbGwgdW5zYXZlZCBlZGl0cyB3aWxsIGJlIGxvc3QuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXNldE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgSFdNX1NlcnZpY2Uuc2V0QnVsa0hXTVNlYXJjaCh7fSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0SFdNcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGhhbmRzb250YWJsZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRhYmxlU2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIGNvbEhlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcm93SGVhZGVyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnRleHRNZW51OiBbJ3Jvd19hYm92ZScsICdyb3dfYmVsb3cnLCAncmVtb3ZlX3JvdyddLFxyXG4gICAgICAgICAgICAgICAgICAgIG1pblNwYXJlUm93czogMCxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbENvbHVtblJlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYW51YWxSb3dSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFdyYXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFdpZHRoczogJHNjb3BlLmNvbHVtbldpZHRocyxcclxuICAgICAgICAgICAgICAgICAgICBjZWxsczogZnVuY3Rpb24gKHJvdywgY29sLCBwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZmlyc3QgNiBhcmUgcmVhZG9ubHkgKGdyZXkpIGFuZCBzaXRlX25vIGlzIGEgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbHByb3BzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2wgPD0gNikgY2VsbHByb3BzLnJlbmRlcmVyID0gY29sb3JSZW5kZXJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA9PSAzKSBjZWxscHJvcHMucmVuZGVyZXIgPSBzaXRlTm9SZW5kZXJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbGxwcm9wcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQmVmb3JlQ2hhbmdlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gZGF0YS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChkYXRhW2ldWzFdID09ICdlbGV2X2Z0JyB8fCBkYXRhW2ldWzFdID09ICd1bmNlcnRhaW50eScpICYmIGRhdGFbaV1bM10gIT09IFwiXCIpIC8vIHJlcGxhY2UgMCBieSB0aGUgbnVtYmVyIG9mIHRoZSBmaWVsZCB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkYXRhW2ldWzNdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICRzY29wZS5ob3RJbnN0YW5jZS5kZXNlbGVjdENlbGwoKTsgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdhdGVyTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlZhbHVlIG11c3QgYmUgYSBudW1iZXIuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlck9uQ2VsbE1vdXNlRG93bjogZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb3BlbiBtdWx0aS1zZWxlY3QgbW9kYWwgZm9yIHJlc291cmNlcywgbWVkaWEgb3IgZnJlcXVlbmNpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvb3Jkcy5jb2wgPT0gMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVfbnVtYmVyID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgY29vcmRzLmNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZUlkID0gJHNjb3BlLmFkanVzdEhXTXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLnNpdGVfbm8gPT0gc2l0ZV9udW1iZXI7IH0pWzBdLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oXCJzaXRlLmRhc2hib2FyZFwiLCB7IGlkOiBzaXRlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJWYWxpZGF0ZTogZnVuY3Rpb24gKGlzVmFsaWQsIHZhbHVlLCByb3csIHByb3AsIHNvdWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5wdXNoKHsgXCJpc1ZhbGlkXCI6IGlzVmFsaWQsIFwicm93XCI6IHJvdywgXCJwcm9wXCI6IHByb3AgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2SSA9IDA7IHZJIDwgJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgdkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbdkldLnJvdyA9PSByb3cgJiYgJHNjb3BlLmludmFsaWRzW3ZJXS5wcm9wID09IHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdkluZGV4ID0gdkk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2SW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKHZJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZpbGxIYW5kbGU6IHsgYXV0b0luc2VydFJvdzogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWlnaHRzOiA1MFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgfS8vZW5kIGF1dGhvcml6ZWRcclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdhcHByb3ZhbEN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJGNvb2tpZXMnLCAnJHJvb3RTY29wZScsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJ3N0YXRlTGlzdCcsICdjb3VudHlMaXN0JywgJ2luc3RydW1lbnRMaXN0JywgJ2FsbFNlbnNvclR5cGVzJywgJ2FsbERlcFR5cGVzJywgJ2h3bVF1YWxMaXN0JywgJ2h3bVR5cGVMaXN0JywgJ0hXTScsICdEQVRBX0ZJTEUnLCAnSU5TVFJVTUVOVCcsICdTSVRFJywgJ01FTUJFUicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCAkY29va2llcywgJHJvb3RTY29wZSwgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCBzdGF0ZUxpc3QsIGNvdW50eUxpc3QsIGluc3RydW1lbnRMaXN0LCBhbGxTZW5zb3JUeXBlcywgYWxsRGVwVHlwZXMsIGh3bVF1YWxMaXN0LCBod21UeXBlTGlzdCwgSFdNLCBEQVRBX0ZJTEUsIElOU1RSVU1FTlQsIFNJVEUsIE1FTUJFUikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiQXBwcm92YWxcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwiYXBwcm92YWxcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlICBcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5nZXRBbGwoZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxNZW1iZXJzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWViZXJzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTdGF0ZXMgPSBzdGF0ZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5TGlzdCA9IGNvdW50eUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTsgLy9ob2xkZXIgb2Ygc3RhdGUgY291bnRpZXMgKHdpbGwgY2hhbmdlIGFzIHRoZXkgY2hhbmdlIHN0YXRlIGNob2ljZSlcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxJbnN0cnVtZW50cyA9IGluc3RydW1lbnRMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNlbnNvclR5cGVzID0gYWxsU2Vuc29yVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzID0gYWxsRGVwVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtUXVhbHMgPSBod21RdWFsTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21UeXBlcyA9IGh3bVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlbkV2ZW50ID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuU3RhdGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW5Db3VudGllcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRIV01zID0gW107ICRzY29wZS5zaG93SFdNYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZERGcyA9IFtdOyAkc2NvcGUuc2hvd0RGYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXNXT3BlYWtzID0gW107ICRzY29wZS5zaG93UGVha2JveCA9IGZhbHNlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgY29udGVudHMgaW4gY2FzZSB0aGV5IGFyZSBzZWFyY2hpbmcgbXVsdGlwbGUgdGltZXNcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZEhXTXMgPSBbXTsgJHNjb3BlLnNob3dIV01ib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZERGcyA9IFtdOyAkc2NvcGUuc2hvd0RGYm94ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzV09wZWFrcyA9IFtdOyAkc2NvcGUuc2hvd1BlYWtib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9ICRzY29wZS5DaG9zZW5TdGF0ZS5pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLkNob3NlblN0YXRlLmlkIDogMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY2hvc2VuQ291bnRpZXMgPSAkc2NvcGUuQ2hvc2VuQ291bnRpZXMuY291bnRpZXMgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5DaG9zZW5Db3VudGllcy5jb3VudGllcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuYXBwcm92YWxTZWFyY2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IGV2SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlSUQ6IHNJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRpZXM6IGNob3NlbkNvdW50aWVzXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL2dvIGdldCB0aGUgSFdNcyBhbmQgRGF0YUZpbGVzIHRoYXQgbmVlZCB0byBiZSBhcHByb3ZlZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goY2hvc2VuQ291bnRpZXMsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eU5hbWVzLnB1c2goYy5jb3VudHlfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGllc0NvbW1hU2VwID0gY291bnR5TmFtZXMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmdldFVuYXBwcm92ZWRIV01zKHsgSXNBcHByb3ZlZDogJ2ZhbHNlJywgRXZlbnQ6IGV2SUQsIFN0YXRlOiBzSUQsIENvdW50aWVzOiBjb3VudGllc0NvbW1hU2VwIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHNpdGUgbm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLCBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5xdWVyeSh7IGlkOiBoLnNpdGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3Jlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zaXRlX25vID0gc3Jlc3BvbnNlLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zdGlsbHdhdGVyID0gaC5zdGlsbHdhdGVyID4gMCA/IFwiWWVzXCIgOiBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkSFdNcy5wdXNoKGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0hXTWJveCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGh3bXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZ2V0VW5hcHByb3ZlZERGcyh7IElzQXBwcm92ZWQ6ICdmYWxzZScsIEV2ZW50OiBldklELCBTdGF0ZTogc0lELCBDb3VudGllczogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgREZzID0gcmVzcG9uc2UxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgc2Vuc29yIGFuZCBzaXRlIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKERGcywgZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc2RmSW5zdCA9ICRzY29wZS5hbGxJbnN0cnVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuaW5zdHJ1bWVudF9pZCA9PSBkZi5pbnN0cnVtZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRERiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVJRCA9IHRoaXNkZkluc3Quc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLlNpdGVJZCA9IHNpdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLnNlblR5cGUgPSAkc2NvcGUuYWxsU2Vuc29yVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl90eXBlX2lkID09IHRoaXNkZkluc3Quc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXBUeXBlID0gJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IHRoaXNkZkluc3QuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLmRlcFR5cGUgPSBkZXBUeXBlICE9PSB1bmRlZmluZWQgPyBkZXBUeXBlLm1ldGhvZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLkluc3RySUQgPSB0aGlzZGZJbnN0Lmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJRCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5TaXRlTm8gPSByZXNwb25zZTIuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZERGcy5wdXNoKGZvcm1hdHRlZERGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0RGYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGRhdGEgZmlsZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgZGF0YSBmaWxlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0UGVha2xlc3NTaXRlcyh7IGlkOiBldklEIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzV09wZWFrcyA9IHJlc3AyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1BlYWtib3ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5DaG9zZW5TdGF0ZS5pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLmFsbFN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gJHNjb3BlLkNob3NlblN0YXRlLmlkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gJHNjb3BlLmNvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vaWYgdGhleSBhcmUgY29taW5nIGJhY2sgaGVyZSwgc2VlIGlmIGEgc2VhcmNoIGhhcyBiZWVuIHN0b3JlZCBsYXN0IHRpbWUuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS5hcHByb3ZhbFNlYXJjaCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTZWFyY2ggPSAkcm9vdFNjb3BlLmFwcHJvdmFsU2VhcmNoO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSBOdW1iZXIodGhpc1NlYXJjaC5ldmVudElEKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuU3RhdGUuaWQgPSB0aGlzU2VhcmNoLnN0YXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTZWFyY2guc3RhdGVJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3BvcHVsYXRlIHRoZSBjb3VudGllcyBhcnJheSBmaXJzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBhbGxIb3VzaW5nVHlwZUxpc3QgYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjYUkgPSAwOyBjYUkgPCAkc2NvcGUuY291bnR5QXJyYXkubGVuZ3RoOyBjYUkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgdGhpc1NpdGVIb3VzaW5ncyBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNJID0gMDsgY0kgPCB0aGlzU2VhcmNoLmNvdW50aWVzLmxlbmd0aDsgY0krKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTZWFyY2guY291bnRpZXNbY0ldLmNvdW50eV9pZCA9PSAkc2NvcGUuY291bnR5QXJyYXlbY2FJXS5jb3VudHlfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXlbY2FJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY0kgPSB0aGlzU2VhcmNoLmNvdW50aWVzLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5W2NhSV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NlYXJjaC5jb3VudGllcy5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXlbY2FJXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnR5TmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuQ291bnRpZXMuY291bnRpZXMgPSB0aGlzU2VhcmNoLmNvdW50aWVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0aGlzU2VhcmNoLmNvdW50aWVzLCBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlOYW1lcy5wdXNoKGMuY291bnR5X25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGllc0NvbW1hU2VwID0gY291bnR5TmFtZXMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gZ2V0IHRoZSBIV01zIGFuZCBEYXRhRmlsZXMgdGhhdCBuZWVkIHRvIGJlIGFwcHJvdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBIV00uZ2V0VW5hcHByb3ZlZEhXTXMoeyBJc0FwcHJvdmVkOiAnZmFsc2UnLCBFdmVudDogdGhpc1NlYXJjaC5ldmVudElELCBTdGF0ZTogdGhpc1NlYXJjaC5zdGF0ZUlELCBDb3VudGllczogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChyZXNwb25zZSwgZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUucXVlcnkoeyBpZDogaC5zaXRlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc2l0ZV9ubyA9IHNyZXNwb25zZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc3RpbGx3YXRlciA9IGguc3RpbGx3YXRlciA+IDAgPyBcIlllc1wiIDogXCJOb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGguc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZEhXTXMucHVzaChoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bSBzaXRlIChcIiArIGguc2l0ZV9pZCArIFwiKTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod20gc2l0ZSAoXCIgKyBoLnNpdGVfaWQgKyBcIik6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIV01ib3ggPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGh3bXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5nZXRVbmFwcHJvdmVkREZzKHsgSXNBcHByb3ZlZDogJ2ZhbHNlJywgRXZlbnQ6IHRoaXNTZWFyY2guZXZlbnRJRCwgU3RhdGU6IHRoaXNTZWFyY2guc3RhdGVJRCwgQ291bnRpZXM6IGNvdW50aWVzQ29tbWFTZXAgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERGcyA9IHJlc3BvbnNlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHNlbnNvciBhbmQgc2l0ZSBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChERnMsIGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNkZkluc3QgPSAkc2NvcGUuYWxsSW5zdHJ1bWVudHMuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmluc3RydW1lbnRfaWQgPT0gZGYuaW5zdHJ1bWVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkREYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlSUQgPSB0aGlzZGZJbnN0LnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5TaXRlSWQgPSBzaXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5zZW5UeXBlID0gJHNjb3BlLmFsbFNlbnNvclR5cGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfdHlwZV9pZCA9PSB0aGlzZGZJbnN0LnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwVHlwZSA9ICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmRlcGxveW1lbnRfdHlwZV9pZCA9PSB0aGlzZGZJbnN0LmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5kZXBUeXBlID0gZGVwVHlwZSAhPT0gdW5kZWZpbmVkID8gZGVwVHlwZS5tZXRob2QgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5JbnN0cklEID0gdGhpc2RmSW5zdC5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5xdWVyeSh7IGlkOiBzaXRlSUQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuU2l0ZU5vID0gcmVzcG9uc2UyLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRERnMucHVzaChmb3JtYXR0ZWRERik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dERmJveCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBkYXRhIGZpbGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGRhdGEgZmlsZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL29uY2UgdGhleSBjaGVjayAnYXBwcm92ZScgY2hlY2tib3gsIHNob3cgdGhlIGFwcHJvdmUgdGhlc2UgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUNoZWNrID0gZnVuY3Rpb24gKGhBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhBcnJheS5zb21lKGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaC5zZWxlY3RlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlVGhlc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIEhXTXM8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1ib2R5Jz48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gYXBwcm92ZSB0aGVzZSBIV01zPyBEb2luZyBzbyB3aWxsIHJlbW92ZSB0aGVtIGZyb20gdGhpcyBsaXN0IG9mIHVuYXBwcm92ZWQgSFdNcy48L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWZvb3Rlcic+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5JyBuZy1jbGljaz0nYXBwcm92ZUl0KCknPkFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGUgc2l0ZSBhbmQgYWxsIHRoaW5ncyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhcHByb3ZlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdCA9ICRzY29wZS51bkFwcHJvdmVkSFdNcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGV2ZXJ5b25lIHRoYXQgaGFzIC5zZWxlY3RlZCA9IHRydWUsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSAuc2VsZWN0ZWQgcHJvcGVydHksIHJlbW92ZSBzaXRlX25vLCBhbmQgY2hhbmdlIHRoZSBzdGlsbHdhdGVyIGJhY2sgdG8gMC8xLCBhcHByb3ZlIGl0LCB3aGljaCBzaG91bGQgcmVtb3ZlIGl0IGZyb20gdGhpcyBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIHRoZSBzaXRlIG5vIGluIHRoZSBmaW5pc2hlZCB0YWJsZSBcclxuICAgICAgICAgICAgICAgICRzY29wZS5nb1RvU2l0ZURhc2ggPSBmdW5jdGlvbiAoc2l0ZUlEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zaG93IHdhcm5pbmcgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2FybmluZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmchPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IGFyZSBhYm91dCB0byBsZWF2ZSB0aGUgQXBwcm92YWwgcGFnZSBhbmQgYmUgdGFrZW4gdG8gdGhlIFNpdGUgRGFzaGJvYXJkLjxici8+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGxlYXZlIHRoZSBBcHByb3ZhbCBwYWdlPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwiY2FuY2VsKClcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNpdGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogc2l0ZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSAvLyBlbmQgZWxzZSBub3QgYXV0aFxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2hlbHBDdHJsJywgWyckc2NvcGUnLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5oZWxwSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuaGVscEluZm8uZmFjdCA9IFwiU29tZSByZWFsbHkgaW50ZXJlc3RpbmcgaGVscCB3aWxsIGJlIGhlcmUuXCI7XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTsvL1xyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlRmlsZU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRjb29raWVzJywgJyRodHRwJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnZmlsZVR5cGVMaXN0JywgJ3RoaXNGaWxlJywgJ2ZpbGVFeGlzdHMnLCAnYWxsTWVtYmVycycsICdmaWxlU291cmNlJywgJ2RhdGFGaWxlJywgJ2FnZW5jeUxpc3QnLCAnZmlsZVNpdGUnLCAnRklMRScsICdTT1VSQ0UnLCAnREFUQV9GSUxFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIFNFUlZFUl9VUkwsIEZJTEVfU1RBTVAsIGZpbGVUeXBlTGlzdCwgdGhpc0ZpbGUsIGZpbGVFeGlzdHMsIGFsbE1lbWJlcnMsIGZpbGVTb3VyY2UsIGRhdGFGaWxlLCBhZ2VuY3lMaXN0LCBmaWxlU2l0ZSwgRklMRSwgU09VUkNFLCBEQVRBX0ZJTEUpIHtcclxuICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBGSUxFdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi4gICAgXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSBmaWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS50aGVTaXRlID0gZmlsZVNpdGU7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgc291cmNlXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAvLyBpcyBpbnRlcnZhbCBpcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSBmaWxlRXhpc3RzID09PSB1bmRlZmluZWQgfHwgZmlsZUV4aXN0cy5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RhcnRpbmdEYXk6IDEsXHJcbiAgICAgICAgICAgICAgICBzaG93V2Vla3M6IGZhbHNlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNyZWF0ZU9SZWRpdEZpbGUgPT0gJ2NyZWF0ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5maWxlQ29weS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5zb3VyY2VDb3B5LmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZm9ybWF0dGluZyBkYXRlIGFuZCB0aW1lIHByb3Blcmx5IGZvciBjaHJvbWUgYW5kIGZmXHJcbiAgICAgICAgICAgIHZhciBnZXREYXRlVGltZVBhcnRzID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gZC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhID0gZC5zdWJzdHIoOCwgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9IGQuc3Vic3RyKDExLCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBzZWMgPSBkLnN1YnN0cigxNywgMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHksIG0sIGRhLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodGhpc0ZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgLy9lZGl0IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRGaWxlID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLndob3NlRmlsZSA9IHRoaXNGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLndob3NlRmlsZSA9PSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnKSAkc2NvcGUud2hvc2VGaWxlID0gJ0RhdHVtIExvY2F0aW9uIEZpbGUnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gdGhpc0ZpbGU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSBmaWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIGlmIGV4aXN0aW5nIGZpbGUgaXMgYSBwaG90byAoZXZlbiBpZiB0eXBlIGlzIG5vdCApXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZUV4dCA9ICRzY29wZS5hRmlsZS5uYW1lLnN1YnN0cmluZyhmSSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZVNvdXJjZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBmaWxlU291cmNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuYWdlbmN5TmFtZSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9hZGQgYWdlbmN5IG5hbWUgdG8gcGhvdG8gY2FwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5TmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRhdGFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUuYXBwcm92YWxfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuZGF0YWZpbGUuYXBwcm92YWxfaWQgIT09IG51bGwgJiYgJHNjb3BlLmRhdGFmaWxlLmFwcHJvdmFsX2lkID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmdldERGQXBwcm92YWwoeyBpZDogJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKGFwcHJvdmFsUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBhcHByb3ZhbFJlc3BvbnNlLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhcHByb3ZhbCBpbmZvOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYXBwcm92YWwgaW5mbzogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFQcm9jZXNzb3IgPSAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkICE9PSBudWxsID8gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQ7IH0pWzBdIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NvciA9IGFQcm9jZXNzb3IuZm5hbWUgIT09IHVuZGVmaW5lZCA/IGFQcm9jZXNzb3IuZm5hbWUgKyAnICcgKyBhUHJvY2Vzc29yLmxuYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZSBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUud2hvc2VGaWxlID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRGaWxlID0gJ2NyZWF0ZSc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5mbmFtZSArIFwiIFwiICsgJHNjb3BlLmFTb3VyY2UubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBuZXcgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHsvL29ubHkgYmUgcGhvdG8gZmlsZSBvciBvdGhlciAuLiBubyBEQVRBIGhlcmVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBTT1VSQ0UsIFxyXG4gICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGVTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJ2NyZWF0ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VuZCB0aGUgZmlsZSBiYWNrIHRvIGJlIGFkZGVkIHRvIHRoZSBzY29wZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2ZyZXNwb25zZSwgc3RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgYSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS50aGVTaXRlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAnY3JlYXRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZW5kIHRoZSBmaWxlIGJhY2sgdG8gYmUgYWRkZWQgdG8gdGhlIHNjb3BlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbZnJlc3BvbnNlLCBzdGF0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIHNhdmUgbGluayBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hhbmdlZEZpbGVUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9mcm9tIHBob3RvIHRvIGRhdGFcclxuICAgICAgICAgICAgICAgIC8vZnJvbSBkYXRhIHRvIHBob3RvXHJcbiAgICAgICAgICAgICAgICAvL2Zyb20gZGF0YSB0byBvdGhlclxyXG4gICAgICAgICAgICAgICAgLy9mcm9tIHBob3RvIHRvIG90aGVyXHJcbiAgICAgICAgICAgICAgICAvL2Zyb20gb3RoZXIgdG8gb3RoZXJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZpbGVDb3B5LmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5kZkNvcHkuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgRGF0ZTxEYXRlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZmlsZS5Db3B5LmZpbGV0eXBlX2lkID09IDJcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvdXJjZUNvcHkuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5zb3VyY2VDb3B5LkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5zb3VyY2VDb3B5LmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBzUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLnNvdXJjZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuYWdlbmN5TmFtZSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNvcHkuc291cmNlX2lkID0gc1Jlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZWRpdGluZyBqdXN0IHRoZSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZmlsZUNvcHkuZmlsZV9pZCB9LCAkc2NvcGUuZmlsZUNvcHkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gd2hhdGtpbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9IGZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5waG90b19kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ29weSA9IHt9OyAkc2NvcGUuc291cmNlQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkZJTEV2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9kYXRhIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aW1lem9uZSBhbmQgbWFrZSBzdXJlIGRhdGUgc3RheXMgdXRjXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGZDb3B5LnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRmQ29weS5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5LnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5kZkNvcHkuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5kZkNvcHkuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQgPSAkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weS5nb29kX2VuZCA9ICRzY29wZS5kZkNvcHkuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmRmQ29weS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLmRmQ29weSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGZSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGZSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYVByb2Nlc3NvciA9ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQgIT09IG51bGwgPyBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZDsgfSlbMF0gOiB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhUHJvY2Vzc29yLmZuYW1lICE9PSB1bmRlZmluZWQgPyBhUHJvY2Vzc29yLmZuYW1lICsgJyAnICsgYVByb2Nlc3Nvci5sbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmZpbGVDb3B5LmZpbGVfaWQgfSwgJHNjb3BlLmZpbGVDb3B5KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IHdoYXRraW5kO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZVR5cGUgPSBmaWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNvcHkgPSB7fTsgJHNjb3BlLmRmQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkZJTEV2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGVsc2UgKGRhdGFmaWxlKVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogJHNjb3BlLmFGaWxlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAkc2NvcGUuYUZpbGUuaXNfbndpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgYSBwaG90byBmaWxlLCBmbGFnIHNvIHRodW1ibmFpbCBzaG93cyBhbmQgbWFrZSBzdXJlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkc2NvcGUuaXNQaG90byA9IGZhbHNlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIHNpdGVJbWFnZUZpbGVzIGZvciBjYXJvdXNlbCBpZiBwaG90byB3YXMgY2hhbmdlZCB0byBhIGRpZmZlcmVudCB0eXBlIG9yIHZpc2UgdmVyc2FcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpbGVUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmaWxlVG9SZW1vdmUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtcImRlXCIsICdkZWxldGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRGSUxFID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRklMRXZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYUZpbGUpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuZGF0YWZpbGUpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvdXJjZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTb3VyY2UpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRklMRUVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5GSUxFdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3VyY2VDb3B5ID0ge307XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGRhdGFmaWxlIChpZiBhZG1pbiBvciBtYW5hZ2VyKVxyXG4gICAgICAgICAgICAkc2NvcGUuYXBwcm92ZURGID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzREYgPSAkc2NvcGUuZGF0YWZpbGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXBwcm92ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9J21vZGFsLWhlYWRlcic+PGgzIGNsYXNzPSdtb2RhbC10aXRsZSc+QXBwcm92ZSBEYXRhIEZpbGU8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3UgcmVhZHkgdG8gYXBwcm92ZSB0aGlzIERhdGEgRmlsZT88L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSdhcHByb3ZlSXQoKSc+QXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0RGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmFwcHJvdmVERih7IGlkOiBkZi5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5hcHByb3ZhbF9pZCA9IGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdGEgRmlsZSBBcHByb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gYXBwcm92YWxSZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBjYW5jZWxcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBod20gKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVERiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyB2YWxpZCwgc2hvdyBtb2RhbCB0byBjb25maXJtIHRoZXkgd2FudCB0byBhcHByb3ZlIGl0XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc0RGID0gJHNjb3BlLmRhdGFmaWxlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVuYXBwcm92ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9J21vZGFsLWhlYWRlcic+PGgzIGNsYXNzPSdtb2RhbC10aXRsZSc+UmVtb3ZlIEFwcHJvdmFsPC9oMz48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1ib2R5Jz48cD5BcmUgeW91IHN1cmUgeW91IHdhbiB0byB1bmFwcHJvdmUgdGhpcyBEYXRhIEZpbGU/PC9wPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWZvb3Rlcic+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi1wcmltYXJ5JyBuZy1jbGljaz0ndW5BcHByb3ZlSXQoKSc+VW5hcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGUgc2l0ZSBhbmQgYWxsIHRoaW5ncyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHRoaXNERik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB1bmFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVuQXBwcm92ZURGKHsgaWQ6IGRmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGYuYXBwcm92YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXRhIEZpbGUgVW5hcHByb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5hcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5hcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTsvL2VuZCBmaWxlTW9kYWxDdHJsXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdmaWxlQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnU2l0ZV9GaWxlcycsICdIV01fU2VydmljZScsICdJbnN0cnVtZW50X1NlcnZpY2UnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAndGhpc1NpdGUnLCAndGhpc1NpdGVGaWxlcycsICdhbGxGaWxlVHlwZXMnLCAnYWxsQWdlbmNpZXMnLCAndGhpc1NpdGVTZW5zb3JzJywgJ3RoaXNTaXRlT1BzJywgJ3RoaXNTaXRlSFdNcycsICdGSUxFJywgJ0RBVEFfRklMRScsICdNRU1CRVInLCAnU09VUkNFJywgJ1NJVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsIFNFUlZFUl9VUkwsRklMRV9TVEFNUCwgU2l0ZV9GaWxlcywgSFdNX1NlcnZpY2UsIEluc3RydW1lbnRfU2VydmljZSwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkdGltZW91dCwgdGhpc1NpdGUsIHRoaXNTaXRlRmlsZXMsIGFsbEZpbGVUeXBlcywgYWxsQWdlbmNpZXMsIHRoaXNTaXRlU2Vuc29ycywgdGhpc1NpdGVPUHMsIHRoaXNTaXRlSFdNcywgRklMRSwgREFUQV9GSUxFLCBNRU1CRVIsIFNPVVJDRSwgU0lURSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3QgPSBcImhpXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdmaWxlU3RhbXBTZXQnLCBmdW5jdGlvbiAoZXZlbnQsIHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gc3Q7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUhXTXMgPSB0aGlzU2l0ZUhXTXM7IC8vSFdNX1NlcnZpY2UuZ2V0QWxsU2l0ZUhXTXMoKTsgLy9pZiBjcmVhdGUgYSBuZXcgb25lLCB0aGVuIGFkZCBhIGZpbGUgdG8gaXQuLiBkb2Vzbid0IHNob3cgaW4gZmlsZUxpc3QgYmVjYXVzZSB0aGlzIGRvZXNuJ3QgaGF2ZSB0aGF0IG5ldyBod20geWV0Li5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgICAgIC8vaW5jbHVkZSBpZiBIV00sIEluc3RydW1lbnQsIERhdGEgRmlsZSBvciBPUCBGaWxlIGZvciBlYWNoICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzZiA9IDA7IHNmIDwgdGhpc1NpdGVGaWxlcy5sZW5ndGg7IHNmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdEtpbmRhRmlsZSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZUZpbGVzW3NmXS5od21faWQgPiAwICYmIHRoaXNTaXRlRmlsZXNbc2ZdLmh3bV9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0S2luZGFGaWxlID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVGaWxlc1tzZl0uZGF0YV9maWxlX2lkID4gMCAmJiB0aGlzU2l0ZUZpbGVzW3NmXS5kYXRhX2ZpbGVfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdEtpbmRhRmlsZSA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVGaWxlc1tzZl0uaW5zdHJ1bWVudF9pZCA+IDAgJiYgdGhpc1NpdGVGaWxlc1tzZl0uaW5zdHJ1bWVudF9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0S2luZGFGaWxlID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0lucyA9IHRoaXNTaXRlU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuaW5zdHJ1bWVudF9pZCA9PSB0aGlzU2l0ZUZpbGVzW3NmXS5pbnN0cnVtZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVGaWxlc1tzZl0udHlwZU5hbWUgPSB0aGlzSW5zLnNlcmlhbF9udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZUZpbGVzW3NmXS5vYmplY3RpdmVfcG9pbnRfaWQgPiAwICYmIHRoaXNTaXRlRmlsZXNbc2ZdLm9iamVjdGl2ZV9wb2ludF9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0S2luZGFGaWxlID0gXCJPYmplY3RpdmUgUG9pbnQgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUZpbGVzW3NmXS50eXBlTmFtZSA9IHRoaXNTaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSB0aGlzU2l0ZUZpbGVzW3NmXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3aGF0S2luZGFGaWxlID09PSAnJykgd2hhdEtpbmRhRmlsZSA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVGaWxlc1tzZl0uZmlsZUJlbG9uZ3NUbyA9IHdoYXRLaW5kYUZpbGU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcyh0aGlzU2l0ZUZpbGVzKTsvLywgJHNjb3BlLnNpdGVIV01zLCAkc2NvcGUuc2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzID0gW107IC8vaG9sZGVyIG9mIGNhcm91c2VsIGltYWdlc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCAkc2NvcGUuU2l0ZUZpbGVzLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dEkgPSAkc2NvcGUuU2l0ZUZpbGVzW3NdLm5hbWUuaW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dFN0cmluZyA9ICRzY29wZS5TaXRlRmlsZXNbc10ubmFtZS5zdWJzdHJpbmcoZXh0SSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChbJ2pwZycsJ0pQRycsJ2pwZWcnLCdKUEVHJywncG5nJywnUE5HJywnZ2lmJywnR0lGJ10uaW5kZXhPZihleHRTdHJpbmcpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKCRzY29wZS5TaXRlRmlsZXNbc10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9pZiBmaWxlcyBhcmUgYWRkZWQvZWRpdGVkLCBkZWxldGVkIGZyb20gb3RoZXIgcGFydHMgKG9iamVjdGl2ZSBQb2ludHMsIHNlbnNvcnMsIGh3bXMpLCBtYWtlIHN1cmUgaWYgZXZlbnQgaXMgY2hvc2VuIHRvIHVwZGF0ZSBzaXRlRmlsZXMgYWNjb3JkaW5nbHlcclxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ3NpdGVGaWxlc1VwZGF0ZWQnLCBmdW5jdGlvbiAoZXZlbnQsIHNpdGVmaWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSFdNcyA9IEhXTV9TZXJ2aWNlLmdldEFsbFNpdGVIV01zKCk7ICRzY29wZS5zaXRlU2Vuc29ycyA9IEluc3RydW1lbnRfU2VydmljZS5nZXRBbGxTaXRlU2Vuc29ycygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IGdvIGFib3V0IHVwZGF0aW5nIHRoZSBGaWxlTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMgPSBzaXRlZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmZpbGVCZWxvbmdzVG8gPT0gJ1NpdGUgRmlsZScgfHwgaC5maWxlQmVsb25nc1RvID09ICdPYmplY3RpdmUgUG9pbnQgRmlsZSc7IH0pOyAgLy9rZWVwIGFsbCBzaXRlIGFuZCBvcCBmaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU2l0ZUZpbGVzLCBmdW5jdGlvbiAoc2Ype1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2YuZmlsZUJlbG9uZ3NUbyA9PSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2YudHlwZU5hbWUgPSB0aGlzU2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gc2Yub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUZpbGVzID0gc2l0ZWZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2ZpbGVzKSB7IHJldHVybiBzZmlsZXMuZmlsZUJlbG9uZ3NUbyA9PSAnSFdNIEZpbGUnOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc0ZpbGVzID0gc2l0ZWZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2ZpKSB7IHJldHVybiBzZmkuaW5zdHJ1bWVudF9pZCA+IDAgJiYgc2ZpLmluc3RydW1lbnRfaWQgIT09IG51bGw7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBzaG93IGZpbGVzIGZvciB0aGlzIGV2ZW50IChnbyB0aHJvdWdoIGh3bSBmaWxlcyBhbmQgbWF0Y2ggZXZlbnRpZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBFaGYgPSAwOyBFaGYgPCBod21GaWxlcy5sZW5ndGg7IEVoZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBFaHdtID0gMDsgRWh3bSA8ICRzY29wZS5zaXRlSFdNcy5sZW5ndGg7IEVod20rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21GaWxlc1tFaGZdLmh3bV9pZCA9PSAkc2NvcGUuc2l0ZUhXTXNbRWh3bV0uaHdtX2lkICYmICRzY29wZS5zaXRlSFdNc1tFaHdtXS5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChod21GaWxlc1tFaGZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGhmID0gMDsgaGYgPCBod21GaWxlcy5sZW5ndGg7IGhmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGh3bSA9IDA7IGh3bSA8ICRzY29wZS5zaXRlSFdNcy5sZW5ndGg7IGh3bSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bUZpbGVzW2hmXS5od21faWQgPT0gJHNjb3BlLnNpdGVIV01zW2h3bV0uaHdtX2lkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goaHdtRmlsZXNbaGZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgc2hvdyBmaWxlcyBmb3IgdGhpcyBldmVudCAoZ28gdGhyb3VnaCBzZW5zb3IgZmlsZXMgYW5kIG1hdGNoIGV2ZW50aWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgRXNmID0gMDsgRXNmIDwgc2Vuc0ZpbGVzLmxlbmd0aDsgRXNmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIEVpbnN0ID0gMDsgRWluc3QgPCAkc2NvcGUuc2l0ZVNlbnNvcnMubGVuZ3RoOyBFaW5zdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbnNGaWxlc1tFc2ZdLmluc3RydW1lbnRfaWQgPT0gJHNjb3BlLnNpdGVTZW5zb3JzW0VpbnN0XS5pbnN0cnVtZW50X2lkICYmICRzY29wZS5zaXRlU2Vuc29yc1tFaW5zdF0uZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNGaWxlc1tFc2ZdLnR5cGVOYW1lID0gJHNjb3BlLnNpdGVTZW5zb3JzW0VpbnN0XS5zZXJpYWxfbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goc2Vuc0ZpbGVzW0VzZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNmID0gMDsgc2YgPCBzZW5zRmlsZXMubGVuZ3RoOyBzZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbnN0ID0gMDsgaW5zdCA8ICRzY29wZS5zaXRlU2Vuc29ycy5sZW5ndGg7IGluc3QrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zRmlsZXNbc2ZdLmluc3RydW1lbnRfaWQgPT0gJHNjb3BlLnNpdGVTZW5zb3JzW2luc3RdLmluc3RydW1lbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc0ZpbGVzW3NmXS50eXBlTmFtZSA9ICRzY29wZS5zaXRlU2Vuc29yc1tpbnN0XS5zZXJpYWxfbnVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goc2Vuc0ZpbGVzW3NmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgaW1hZ2UsIHB1dCBpbnRvIGNhcm91c2VsIGFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TaXRlRmlsZXMsIGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0SSA9IHNmLm5hbWUuaW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRTdHJpbmcgPSBzZi5uYW1lLnN1YnN0cmluZyhleHRJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ2pwZycsICdKUEcnLCAnanBlZycsICdKUEVHJywgJ3BuZycsICdQTkcnLCAnZ2lmJywgJ0dJRiddLmluZGV4T2YoZXh0U3RyaW5nKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzLnB1c2goc2YpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZSBTSVRFIEZJTEVTIERPIE5PVCBIQVZFIEFOIEVWRU5UICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIV01zID0gSFdNX1NlcnZpY2UuZ2V0QWxsU2l0ZUhXTXMoKTsgJHNjb3BlLnNpdGVTZW5zb3JzID0gSW5zdHJ1bWVudF9TZXJ2aWNlLmdldEFsbFNpdGVTZW5zb3JzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8va2VlcCBhbGwgc2l0ZSAmIE9QIEZpbGVzLCBmaWx0ZXIgSFdNLCBJbnN0cnVtZW50IChERiBmaWxlcyB1c2UgSW5zdHJ1bWVudCBldmVudClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCkuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmZpbGVCZWxvbmdzVG8gPT0gJ1NpdGUgRmlsZScgfHwgaC5maWxlQmVsb25nc1RvID09ICdPYmplY3RpdmUgUG9pbnQgRmlsZSc7IH0pOyAgLy9rZWVwIGFsbCBzaXRlIGFuZCBvcCBmaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlNpdGVGaWxlcywgZnVuY3Rpb24gKHNmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2YuZmlsZUJlbG9uZ3NUbyA9PSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNmLnR5cGVOYW1lID0gdGhpc1NpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IHNmLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgaW1hZ2UsIHB1dCBpbnRvIGNhcm91c2VsIGFycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRJID0gc2YubmFtZS5pbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRTdHJpbmcgPSBzZi5uYW1lLnN1YnN0cmluZyhleHRJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoWydqcGcnLCAnSlBHJywgJ2pwZWcnLCAnSlBFRycsICdwbmcnLCAnUE5HJywgJ2dpZicsICdHSUYnXS5pbmRleE9mKGV4dFN0cmluZykgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMucHVzaChzZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHdtRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpLmZpbHRlcihmdW5jdGlvbiAoc2ZpbGVzKSB7IHJldHVybiBzZmlsZXMuZmlsZUJlbG9uZ3NUbyA9PSAnSFdNIEZpbGUnOyB9KTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5zRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpLmZpbHRlcihmdW5jdGlvbiAoc2ZpKSB7IHJldHVybiBzZmkuaW5zdHJ1bWVudF9pZCA+IDAgJiYgc2ZpLmluc3RydW1lbnRfaWQgIT09IG51bGw7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgc2hvdyBmaWxlcyBmb3IgdGhpcyBldmVudCAoZ28gdGhyb3VnaCBod20gZmlsZXMgYW5kIG1hdGNoIGV2ZW50aWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaGYgPSAwOyBoZiA8IGh3bUZpbGVzLmxlbmd0aDsgaGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaHdtID0gMDsgaHdtIDwgJHNjb3BlLnNpdGVIV01zLmxlbmd0aDsgaHdtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtRmlsZXNbaGZdLmh3bV9pZCA9PSAkc2NvcGUuc2l0ZUhXTXNbaHdtXS5od21faWQgJiYgJHNjb3BlLnNpdGVIV01zW2h3bV0uZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpKSBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKGh3bUZpbGVzW2hmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHNob3cgZmlsZXMgZm9yIHRoaXMgZXZlbnQgKGdvIHRocm91Z2ggc2Vuc29yIGZpbGVzIGFuZCBtYXRjaCBldmVudGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNmID0gMDsgc2YgPCBzZW5zRmlsZXMubGVuZ3RoOyBzZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbnN0ID0gMDsgaW5zdCA8ICRzY29wZS5zaXRlU2Vuc29ycy5sZW5ndGg7IGluc3QrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zRmlsZXNbc2ZdLmluc3RydW1lbnRfaWQgPT0gJHNjb3BlLnNpdGVTZW5zb3JzW2luc3RdLmluc3RydW1lbnRfaWQgJiYgJHNjb3BlLnNpdGVTZW5zb3JzW2luc3RdLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zRmlsZXNbc2ZdLnR5cGVOYW1lID0gJHNjb3BlLnNpdGVTZW5zb3JzW2luc3RdLnNlcmlhbF9udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChzZW5zRmlsZXNbc2ZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PGltZyBuZy1zcmM9XCJ7e3NldFNSQ319XCIgLz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS9lZGl0IGEgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlTW9kYWwgPSBmdW5jdGlvbiAoRmlsZUNsaWNrZWQpIHsgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBTaW5kZXhDbGlja2VkID0gJHNjb3BlLlNpdGVGaWxlcy5pbmRleE9mKEZpbGVDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3BvcHVsYXRlIGFsbCBmaWxldHlwZXMgdGhhdCBjcmVhdGUvZWRpdCBmaWxlIG5lZWRzIGRlcGVuZGluZyBvbiB3aGF0IHRoZSBmaWxlIGlzIGF0dGFjaGVkIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVGaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fCBmdC5maWxldHlwZSA9PT0gJ1NpdGUgU2tldGNoJyB8fCBmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnQuZmlsZXR5cGUgPT09ICdMYW5kb3duZXIgUGVybWlzc2lvbiBGb3JtJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoaGZ0KXsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgaGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoc2Z0KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdEYXRhJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgc2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHwgc2Z0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IHNmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IHNmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wRmlsZVR5cGVzID0gYWxsRmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAob2Z0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgb2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdOR1MgRGF0YXNoZWV0JyB8fCBvZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsIGFsbEZpbGVUeXBlcywgdGhpc0ZpbGUsIGFsbE1lbWJlcnMsIGFnZW5jeUxpc3QsIGZpbGVTaXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogRmlsZUNsaWNrZWQgIT09IDAgPyAnRklMRW1vZGFsLmh0bWwnIDogJ0ZpbGVDcmVhdGVNb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVGaWxlTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVFeGlzdHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQgIT09IDApIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRklMRS5nZXRGaWxlSXRlbSh7IGlkOiBGaWxlQ2xpY2tlZC5maWxlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKEZpbGVDbGlja2VkLmZpbGVCZWxvbmdzVG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0hXTSBGaWxlJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmh3bUZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0RhdGFGaWxlIEZpbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnU2Vuc29yIEZpbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnT2JqZWN0aXZlIFBvaW50IEZpbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUub3BGaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTaXRlIEZpbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2l0ZUZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuc2l0ZUZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkICE9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmlsZUNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVNvdXJjZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQuc291cmNlX2lkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU09VUkNFLnF1ZXJ5KHtpZDpGaWxlQ2xpY2tlZC5zb3VyY2VfaWR9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YUZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkLmRhdGFfZmlsZV9pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERBVEFfRklMRS5xdWVyeSh7IGlkOiBGaWxlQ2xpY2tlZC5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZEZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBmaWxlIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRmlsZVsxXSA9PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChjcmVhdGVkRmlsZVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuU2l0ZUZpbGVzKTsvLywgJHNjb3BlLnNpdGVIV01zLCAkc2NvcGUuc2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRmlsZVsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgZnJvbSBlZGl0IC0tIHJlZnJlc2ggcGFnZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXNbU2luZGV4Q2xpY2tlZF0gPSBjcmVhdGVkRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5TaXRlRmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRmlsZVsxXSA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMuc3BsaWNlKFNpbmRleENsaWNrZWQsIDEpOyAvL3JlbW92ZSBmcm9tIGZpbGUgTGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLlNpdGVGaWxlcyk7Ly8sICRzY29wZS5zaXRlSFdNcywgJHNjb3BlLnNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdldmVudFNlc3Npb25Nb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2FsbEV2ZW50cycsICdhbGxFdmVudFR5cGVzJywgJ2FsbFN0YXRlcycsICdFVkVOVCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICR1aWJNb2RhbEluc3RhbmNlLCBhbGxFdmVudHMsIGFsbEV2ZW50VHlwZXMsIGFsbFN0YXRlcywgRVZFTlQpIHtcclxuICAgICAgICAgICAgJHNjb3BlLkV2ZW50TGlzdCA9IGFsbEV2ZW50cztcclxuICAgICAgICAgICAgJHNjb3BlLkV2ZW50VHlwZUxpc3QgPSBhbGxFdmVudFR5cGVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuU3RhdGVMaXN0ID0gYWxsU3RhdGVzO1xyXG4gICAgICAgICAgICB2YXIgY2hvc2VuRXYgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7IC8vc2VlIGlmIHdlIG5lZWQgdG8gc2VsZWN0IHRoZSBzZXNzaW9uIGV2ZW50XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudCA9IHsgRXZlbnRDaG9zZW46IGNob3NlbkV2ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoY2hvc2VuRXYpIDogXCJcIiB9O1xyXG5cclxuICAgICAgICAgICAgLy9maWx0ZXJzIGNob3Nlbiwgb25seSBzaG93IHRoZXNlIGV2ZW50c1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyRXZlbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8/RGF0ZTogbnVsbCwgVHlwZTogMCwgU3RhdGU6IG51bGxcclxuICAgICAgICAgICAgICAgIHZhciBkID0gJHNjb3BlLmV2ZW50LkRBVEUgIT09IG51bGwgJiYgJHNjb3BlLmV2ZW50LkRBVEUgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5ldmVudC5EQVRFIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIHZhciB0ID0gJHNjb3BlLmV2ZW50LnR5cGUgIT09IG51bGwgJiYgJHNjb3BlLmV2ZW50LnR5cGUgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5ldmVudC50eXBlIDogMDtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmV2ZW50LnN0YXRlICE9PSBudWxsICYmICRzY29wZS5ldmVudC5zdGF0ZSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmV2ZW50LnN0YXRlIDogbnVsbDtcclxuICAgICAgICAgICAgICAgIEVWRU5ULmdldEZpbHRlcmVkRXZlbnRzKHsgRGF0ZTogZCwgVHlwZTogdCwgU3RhdGU6IHMgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnRMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBldmVudHM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgZXZlbnRzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9jbGVhciB0aGUgZmlsdGVyc1xyXG4gICAgICAgICAgICAkc2NvcGUuY2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50ID0geyBFdmVudENob3NlbjogY2hvc2VuRXYgIT09IHVuZGVmaW5lZCA/IE51bWJlcihjaG9zZW5FdikgOiBcIlwiIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnRMaXN0ID0gYWxsRXZlbnRzO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2V2ZW50IGhhcyBiZWVuIGNob3Nlbi4gU2V0IGl0IGFzIHNlc3Npb24gZXZlbnRcclxuICAgICAgICAgICAgJHNjb3BlLnNldEV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2SUQgPSAkc2NvcGUuZXZlbnQuRXZlbnRDaG9zZW47XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2SUQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnROYW1lID0gYWxsRXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5ldmVudF9pZCA9PSAkc2NvcGUuZXZJRDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTZXNzaW9uRXZlbnRJRCcsICRzY29wZS5ldklEKTtcclxuICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1Nlc3Npb25FdmVudE5hbWUnLCBldmVudE5hbWUuZXZlbnRfbmFtZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2Vzc2lvbkV2ZW50ID0gXCJTZXNzaW9uIEV2ZW50OiBcIiArIGV2ZW50TmFtZS5ldmVudF9uYW1lICsgXCIuXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIllvdSBtdXN0IGNob29zZSBhbiBFdmVudCBmaXJzdC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgd2FudCB0byBjbGVhciB0aGUgc2Vzc2lvbiBldmVudFxyXG4gICAgICAgICAgICAkc2NvcGUuY2xlYXJFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZXMucmVtb3ZlKCdTZXNzaW9uRXZlbnRJRCcpO1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZXMucmVtb3ZlKCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlc3Npb25FdmVudCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdldmVudFNlc3Npb25DdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckdWliTW9kYWwnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICdFVkVOVCcsICdFVkVOVF9UWVBFJywgJ1NUQVRFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJHVpYk1vZGFsLCAkbG9jYXRpb24sICRzdGF0ZSwgRVZFTlQsIEVWRU5UX1RZUEUsIFNUQVRFKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuRXZlbnRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnQ2hvb3NlRXZlbnQuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2ZW50U2Vzc2lvbk1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJyxcclxuICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFVkVOVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVWRU5UX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3RoaW5nIHRvIGRvIGhlcmVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdldmVudE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyRmaWx0ZXInLCAndGhpc0V2ZW50JywgJ2V2ZW50VHlwZUxpc3QnLFxyXG4gICAgICAgICdldmVudFN0YXR1c0xpc3QnLCAnYWRtaW5MaXN0JywgJ2ZpbGVUeXBlcycsICdldmVudFNpdGVzJywgJ2FsbFN0YXRlcycsICdhbGxDb3VudGllcycsICdFVkVOVCcsICdGSUxFJywgJ1NFUlZFUl9VUkwnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgJGZpbHRlciwgdGhpc0V2ZW50LCBldmVudFR5cGVMaXN0LCBldmVudFN0YXR1c0xpc3QsIGFkbWluTGlzdCwgZmlsZVR5cGVzLCBldmVudFNpdGVzLCBhbGxTdGF0ZXMsIGFsbENvdW50aWVzLFxyXG4gICAgICAgICAgICBFVkVOVCwgRklMRSwgU0VSVkVSX1VSTCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLmRvd25sb2FkWmlwVXJsID0gXCJcIjsgLy90YWNrIG9uIGVuZCBvZiB1cmwgZm9yIGdldHRpbmcgemlwIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLm9iamVjdENob2ljZXMgPSBbXCJIV01zXCIsIFwiU2Vuc29yc1wiXTtcclxuICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZXMgPSBldmVudFR5cGVMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0dXNlcyA9IGV2ZW50U3RhdHVzTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLmFkbWluTWVtYmVycyA9IGFkbWluTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBFVnZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRsID0geyBkbE9wZW46IHRydWUsIGRsRmlsZU9wZW46IGZhbHNlIH07Ly9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vJHNjb3BlLmZvcm1hdCA9ICdNTU0gZGQsIHl5eXknO1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gRGF0ZXBpY2tlclxyXG5cclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgaHdtIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RVYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5FVnZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldkNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFuRXZlbnQpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRVZFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRVZ2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldkNvcHkgPSBbXTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBuZXcgRGF0ZShtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgfTsgLy9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgLy9jYWxsZWQgYSB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSkgJzIwMTMtMDUtMTZUMDU6MDA6MDAnXHJcbiAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gZC5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gZC5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBkLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCIwMVwiLCBcIjAyXCIsIFwiMDNcIiwgXCIwNFwiLCBcIjA1XCIsIFwiMDZcIiwgXCIwN1wiLCBcIjA4XCIsIFwiMDlcIiwgXCIxMFwiLCBcIjExXCIsIFwiMTJcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG1vbnRoTmFtZXNbbW9udGhdICsgXCIvXCIgKyBkYXkgKyBcIi9cIiArIHllYXI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICBpZiAodGhpc0V2ZW50ICE9PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRFViA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldk1vZGFsSGVhZGVyID0gXCJFdmVudCBJbmZvcm1hdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQgPSBhbmd1bGFyLmNvcHkodGhpc0V2ZW50KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgPSAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlICE9PSB1bmRlZmluZWQgPyBtYWtlQWRhdGUoJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSkgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlID0gJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgIT09IHVuZGVmaW5lZCA/IG1ha2VBZGF0ZSgkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSkgOiAnJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIG5ldyBldmVudCBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlT1JlZGl0RVYgPSAnY3JlYXRlJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgPSBtYWtlQWRhdGUoKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9vbiBjcmVhdGUgYW5kIHNhdmUsIGlmIGRhdGVzIGVudGVyZWQsIGNvbXBhcmUgdG8gZW5zdXJlIGVuZCBkYXRlIGNvbWVzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgdmFyIGNvbXBhcmVEYXRlcyA9IGZ1bmN0aW9uICh2LCBzZCwgZWQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlZCkgPCBuZXcgRGF0ZShzZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGV2ZW50IGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGV2ZW50IHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWQgPT09IFwiXCIgfHwgc2QgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZW50ZXJlZCBhbiBpbnZhbGlkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdjtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGUgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlICE9PSBudWxsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICgkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlICE9PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY29tcGFyZURhdGVzKHZhbGlkLCAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlLCAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhlcmUncyBhIHN0YXJ0IGFuZCBlbmQgZGF0ZSBcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRFdmVudCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIEVWRU5ULnNhdmUoJHNjb3BlLmFuRXZlbnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBDcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggdGhpcyBuZXcgZXZlbnQgaW50byB0aGUgZXZlbnRMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuZXZlbnRfaWQgPSByZXNwb25zZS5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50Lk5hbWUgPSByZXNwb25zZS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuVHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IHJlc3BvbnNlLmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5TdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IHJlc3BvbnNlLmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmQgPSAkc2NvcGUuYWRtaW5NZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gcmVzcG9uc2UuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuU3RhcnREYXRlID0gcmVzcG9uc2UuZXZlbnRfc3RhcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LkVuZERhdGUgPSByZXNwb25zZS5ldmVudF9lbmRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LkNvb3JkID0gY29vcmQgIT09IHVuZGVmaW5lZCA/IGNvb3JkLmZuYW1lICsgXCIgXCIgKyBjb29yZC5sbmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldyBldmVudDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldyBldmVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpOyAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZEV2ZW50LCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kICRzY29wZS5zYXZlKCkgICAgIFxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLmV2Q29weS5ldmVudF9zdGFydF9kYXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmV2Q29weS5ldmVudF9zdGFydF9kYXRlICE9PSBudWxsKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICgkc2NvcGUuZXZDb3B5LmV2ZW50X2VuZF9kYXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmV2Q29weS5ldmVudF9lbmRfZGF0ZSAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGNvbXBhcmVEYXRlcyh2YWxpZCwgJHNjb3BlLmV2Q29weS5ldmVudF9zdGFydF9kYXRlLCAkc2NvcGUuZXZDb3B5LmV2ZW50X2VuZF9kYXRlKTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGVyZSdzIGEgc3RhcnQgYW5kIGVuZCBkYXRlIFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZEV2ZW50ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlQudXBkYXRlKHsgaWQ6ICRzY29wZS5ldkNvcHkuZXZlbnRfaWQgfSwgJHNjb3BlLmV2Q29weSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LmV2ZW50X2lkID0gcmVzcG9uc2UuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5OYW1lID0gcmVzcG9uc2UuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LlR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSByZXNwb25zZS5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuU3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSByZXNwb25zZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gJHNjb3BlLmFkbWluTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IHJlc3BvbnNlLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LlN0YXJ0RGF0ZSA9IHJlc3BvbnNlLmV2ZW50X3N0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5FbmREYXRlID0gcmVzcG9uc2UuZXZlbnRfZW5kX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5Db29yZCA9IGNvb3JkICE9PSB1bmRlZmluZWQgPyBjb29yZC5mbmFtZSArIFwiIFwiICsgY29vcmQubG5hbWUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBldmVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbdXBkYXRlZEV2ZW50LCAndXBkYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlRVYgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRXZlbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZXZlbnRUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEVWRU5ULmRlbGV0ZSh7IGlkOiBldmVudFRvUmVtb3ZlLmV2ZW50X2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBEZWxldGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKFtcImRlXCIsICdkZWxldGVkJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IGZhbHNlIH07IC8vTG9hZGluZy4uLlxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIFppcCBGaWxlIERvd25sb2FkIFNlY3Rpb25cclxuICAgICAgICAgICAgaWYgKHRoaXNFdmVudCAhPT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuemlwRmlsZVBhcmFtcyA9IHsgZmlsZXNGb3I6IFwiXCIsIHN0YXRlTmFtZTogXCJcIiwgY291bnR5TmFtZTogXCJcIiwgZnJvbURhdGU6IFwiXCIsIHRvRGF0ZTogXCJcIiB9O1xyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLnN0YXRlcyA9IGFsbFN0YXRlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlQ291bnR5TGlzdCA9IFtdOyAvL2hvbGRzIGNvdW50aWVzIHdlcmUgdGhlcmUgYXJlIGV2ZW50c2l0ZXMgICBhbGxDb3VudGllcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVzID0gW107IC8vaG9sZHMgdGhlIHN0YXRlcyBqdXN0IGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCBldmVudFNpdGVzIGFuZCBsb29wIHRocnUgc3RhdGVzLCB3aGVuIG1hdGNoaW5nIG9uZSwgYWRkIHRvIGV2ZW50U3RhdGVzIChuZWVkIHN0YXRlX2lkIGZvciBjb3VudHkgZmlsdGVyaW5nKVxyXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50U2l0ZXMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHN0ID0gMDsgc3QgPCBhbGxTdGF0ZXMubGVuZ3RoOyBzdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yZWFjaCBsb29wIHRvIHBvcHVsYXRlIGV2ZW50U3RhdGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVzID0gMDsgZXMgPCBldmVudFNpdGVzLmxlbmd0aDsgZXMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50U2l0ZXNbZXNdLnN0YXRlID09IGFsbFN0YXRlc1tzdF0uc3RhdGVfYWJicmV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVzLnB1c2goYWxsU3RhdGVzW3N0XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXMgPSBldmVudFNpdGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuZXZlbnRTdGF0ZXMgPSBhbGxTdGF0ZXM7XHJcbiAgICAgICAgICAgICAgICAvL3BvcHVsYXRlIGNvdW50eWFycmF5IHdpdGgganVzdCB0aG9zZSBjb3VudGllcyB3aGVyZSB3ZSBoYXZlIGV2ZW50U0l0ZXNcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGNpID0gMDsgY2kgPCBldmVudFNpdGVzLmxlbmd0aDsgY2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZUNvdW50eUxpc3QubWFwKGZ1bmN0aW9uIChzY2wpIHsgcmV0dXJuIHNjbC5jb3VudHlfbmFtZTsgfSkuaW5kZXhPZihldmVudFNpdGVzW2NpXS5jb3VudHkpIDwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVDb3VudHlMaXN0LnB1c2goeyBzdGF0ZV9hYmJyZXY6IGV2ZW50U2l0ZXNbY2ldLnN0YXRlLCBjb3VudHlfbmFtZTogZXZlbnRTaXRlc1tjaV0uY291bnR5LCBzdGF0ZV9pZDogYWxsU3RhdGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9hYmJyZXYgPT0gZXZlbnRTaXRlc1tjaV0uc3RhdGU7IH0pWzBdLnN0YXRlX2lkIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9maWx0ZXIgY291bnRpZXMgYnkgc3RhdGUgY2hvc2VuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLnN0YXRlTmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuZXZlbnRTdGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3Quc3RhdGVfYWJicmV2ID09ICRzY29wZS56aXBGaWxlUGFyYW1zLnN0YXRlTmFtZTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBzaG93IGNvdW50aWVzIHRoYXQgYXJlIG9uIHRoZSBzaXRlcyBmb3IgdGhpcyBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSAkc2NvcGUuc2l0ZUNvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbGlzdCBvZiBmaWxlIHR5cGVzIGZvciBod21cclxuICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlVHlwZXMgPSBmaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1Bob3RvICgxKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgaGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vbGlzdCBvZiBmaWxlIHR5cGVzIGZvciBzZW5zb3JzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yZmlsZVR5cGVzID0gZmlsZVR5cGVzLmZpbHRlcihmdW5jdGlvbiAoc2Z0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QaG90byAoMSksIERhdGEgKDIpLCBIaXN0b3JpYyAoMyksIEZpZWxkIFNoZWV0cyAoNCksIExldmVsIE5vdGVzICg1KSwgT3RoZXIgKDcpLCBMaW5rICg4KSwgU2tldGNoICgxMClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Z0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IHNmdC5maWxldHlwZSA9PT0gJ0RhdGEnIHx8IHNmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IHNmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgIHNmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2h3bSBvciBzZW5zb3Igd2FzIGNob3NlbiwgdXBkYXRlIGZpbGUgdHlwZSBjaGVja2JveGxpc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS51cGRhdGVmaWxlVHlwZUNoZWNrcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2RlcGVuZGluZyBvbiB3aGljaCB0aGV5IGNob3NlIChIV00gT1IgU0VOU09SKSwgdXBkYXRlIGNoZWNrYm94IHNjb3BlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRmlsZVR5cGVzV2FudGVkID0gW107IHZhciBzZW5zb3JGaWxlVHlwZXNXYW50ZWQgPSBbXTsgLy9yZXNldCBlYWNoIHRpbWUgdGhpcyBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlc1N0cmluZyA9IFwiXCI7ICRzY29wZS5zZW5zb3JGaWxlVHlwZXNTdHJpbmcgPSBcIlwiOyAvL3Jlc2V0IGVhY2ggdGltZSB0aGlzIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAvL3VuY2hlY2sgYWxsIGNoZWNrYm94ZXMgZm9yIGh3bSBhbmQgc2Vuc29yIGZpbGUgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLkhXTWZpbGVUeXBlcywgZnVuY3Rpb24gKGh3bUZUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bUZULnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZW5zb3JmaWxlVHlwZXMsIGZ1bmN0aW9uIChzZW5GVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5GVC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciA9PSBcIkhXTXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVDaGVja0xpc3QgPSAkc2NvcGUuSFdNZmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgPT0gXCJTZW5zb3JzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlQ2hlY2tMaXN0ID0gJHNjb3BlLnNlbnNvcmZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVzV2FudGVkQ2hvc2VuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL2hvbGRlciBvZiBzdHJpbmcgYXJyYXkgb2YgZmlsZXR5cGVzIHdhbnRlZFxyXG5cclxuICAgICAgICAgICAgICAgIC8vb25jaGVjayBldmVudFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrZWRGaWxlID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZpbGVUeXBlIGNoZWNrZWQvdW5jaGVja2VkID09IGFkZC9yZW1vdmUgaXQgZnJvbSBzdHJpbmcgYXJyYXkgdG8gcGFzcyBpbnRvIHVybFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciA9PSBcIkhXTXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRmlsZVR5cGVzV2FudGVkID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuSFdNZmlsZVR5cGVzLCBmdW5jdGlvbiAoaGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZi5zZWxlY3RlZCkgJHNjb3BlLmh3bUZpbGVUeXBlc1dhbnRlZC5wdXNoKGhmLmZpbGV0eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXNTdHJpbmcgPSAkc2NvcGUuaHdtRmlsZVR5cGVzV2FudGVkLmpvaW4oXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgPT0gXCJTZW5zb3JzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVUeXBlc1dhbnRlZCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNlbnNvcmZpbGVUeXBlcywgZnVuY3Rpb24gKHNmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Yuc2VsZWN0ZWQpICRzY29wZS5zZW5zb3JGaWxlVHlwZXNXYW50ZWQucHVzaChzZi5maWxldHlwZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzU3RyaW5nID0gJHNjb3BlLnNlbnNvckZpbGVUeXBlc1dhbnRlZC5qb2luKFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZG93bmxvYWQgemlwIGNsaWNrZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5Eb3dubG9hZFppcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGNoZWNrZWQgYXQgbGVhc3QgdGhlIGh3bSBvciBzZW5zb3IgY2hlY2tib3hcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0dGVkRnJvbURhdGUgPSBcIlwiOyB2YXIgZm9ybWF0dGVkVG9EYXRlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZnJvbURhdGUgIT09IFwiXCIpIGZvcm1hdHRlZEZyb21EYXRlID0gZGF0ZVdPdGltZSgkc2NvcGUuemlwRmlsZVBhcmFtcy5mcm9tRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLnRvRGF0ZSAhPT0gXCJcIikgZm9ybWF0dGVkVG9EYXRlID0gZGF0ZVdPdGltZSgkc2NvcGUuemlwRmlsZVBhcmFtcy50b0RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRXZlbnRzL3t7YW5FdmVudC5ldmVudF9pZH19L0V2ZW50RmlsZUl0ZW1zP1N0YXRlPXtzdGF0ZU5hbWV9JkNvdW50eT17Y291bnR5fSZGcm9tRGF0ZT17ZnJvbURhdGV9JlRvRGF0ZT17dG9EYXRlfSZGaWxlc0Zvcj17ZmlsZXNGb3J9JkhXTUZpbGVUeXBlPXtod21GaWxlVHlwZXN9JlNlbnNvckZpbGVUeXBlcz17c2Vuc29yRmlsZVR5cGVzfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlcGF0aCA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0V2ZW50cy8nICsgJHNjb3BlLmFuRXZlbnQuZXZlbnRfaWQgKyAnL0V2ZW50RmlsZUl0ZW1zP1N0YXRlPScgKyAkc2NvcGUuemlwRmlsZVBhcmFtcy5zdGF0ZU5hbWUgKyAnJkNvdW50eT0nICsgJHNjb3BlLnppcEZpbGVQYXJhbXMuY291bnR5TmFtZSArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJkZyb21EYXRlPScgKyBmb3JtYXR0ZWRGcm9tRGF0ZSArICcmVG9EYXRlPScgKyBmb3JtYXR0ZWRUb0RhdGUgKyAnJkZpbGVzRm9yPScgKyAkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJkhXTUZpbGVUeXBlPScgKyAkc2NvcGUuaHdtRmlsZVR5cGVzU3RyaW5nICsgJyZTZW5zb3JGaWxlVHlwZXM9JyArICRzY29wZS5zZW5zb3JGaWxlVHlwZXNTdHJpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGVwYXRoKTsgLy8sdHJ1ZSk7ICAgICAgIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsb3NlQnV0dG9uXCI6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInBvc2l0aW9uQ2xhc3NcIjogXCJ0b2FzdC1ib3R0b20tcmlnaHRcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwib25jbGlja1wiOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ0aW1lT3V0XCI6IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJleHRlbmRlZFRpbWVPdXRcIjogXCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXCJaaXAgZmlsZSBpcyBkb3dubG9hZGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5yZXNwb25zZVR5cGUgPSBcImJsb2JcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi8qOyBjaGFyc2V0PXV0Zi04XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkF1dGhvcml6YXRpb25cIiwgJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHhoci5zdGF0dXNUZXh0ICE9PSBcIkludGVybmFsIFNlcnZlciBFcnJvclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1c2dzV2lNbWVzc2FnZSA9IHhoci5nZXRSZXNwb25zZUhlYWRlcihcInVzZ3N3aW0tbWVzc2FnZXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1c2dzV2lNbWVzc2FnZSA9PSBcImluZm86IEZpbGVDb3VudDowLENvdW50OiAwXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5ObyBGaWxlczwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZXJlIGFyZSBubyBmaWxlcyB0aGF0IG1hdGNoIHlvdXIgcXVlcnkuPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIG5hcnJvdyB5b3VyIHNlYXJjaCBhbmQgdHJ5IGFnYWluLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2IgPSBuZXcgQmxvYihbeGhyLnJlc3BvbnNlXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybENyZWF0b3IgPSB3aW5kb3cuVVJMIHx8IHdpbmRvdy53ZWJraXRVUkwgfHwgd2luZG93Lm1velVSTCB8fCB3aW5kb3cubXNVUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVSTCA9IHVybENyZWF0b3IuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9CbG9iLCBjbGllbnQgc2lkZSBvYmplY3QgY3JlYXRlZCB0byB3aXRoIGhvbGRpbmcgYnJvd3NlciBzcGVjaWZpYyBkb3dubG9hZCBwb3B1cCwgb24gdGhlIFVSTCBjcmVhdGVkIHdpdGggdGhlIGhlbHAgb2Ygd2luZG93IG9iai5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuc3R5bGUgPSBcImRpc3BsYXk6IG5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IGZpbGVVUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLmRvd25sb2FkID0gJ0V2ZW50RmlsZURvd25sb2FkLnppcCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhLnRhcmdldCA9ICdfYmxhbmsnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zb21ldGhpbmcgd2VudCB3cm9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwxID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+RG93bmxvYWQgd2FzIHVuc3VjY2Vzc2Z1bC4gUG9zc2libGUgY2F1c2UgaXMgdGhhdCB0aGUgemlwIGZpbGUgaXMgdG9vIGxhcmdlIHRvIGRvd25sb2FkLjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHA+UGxlYXNlIG5hcnJvdyB5b3VyIHNlYXJjaCBhbmQgdHJ5IGFnYWluLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IG1vZGFsIHNheWluZyB5b3UgbXVzdCBjaG9vc2UgYXQgbGVhc3QgdGhlIGh3bSBvciBzZW5zb3IgdG8gZmlsdGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPllvdSBtdXN0IGNob29zZSBlaXRoZXIgSFdNIGZpbGVzIG9yIFNlbnNvciBmaWxlcyBiZWZvcmUgYSBkb3dubG9hZGVkIHppcCBmaWxlIGNhbiBiZSByZXF1ZXN0ZWQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gWmlwIEZpbGUgRG93bmxvYWQgU2VjdGlvblxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuICAgIFxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdldmVudEluZm9DdHJsJywgWyckc2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJ0VWRU5UJywgJ3RoaXNFdmVudCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgRVZFTlQsIHRoaXNFdmVudCkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9hbGwgdGhpbmdzIGJvdGggbmV3IGFuZCBleGlzdGluZyBldmVudHMgcGFnZSB3aWxsIG5lZWRcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8kc2NvcGUuZm9ybWF0ID0gJ01NTSBkZCwgeXl5eSc7XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gRGF0ZXBpY2tlclxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50ID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERFTEVURSBFdmVudCBjbGlja1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlbGV0ZUV2ZW50ID0gZnVuY3Rpb24gKGV2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRXZlbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKG5hbWVUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlQuZGVsZXRlKHsgaWQ6IG5hbWVUb1JlbW92ZS5ldmVudF9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsRXYgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LmV2ZW50X2lkID0gbmFtZVRvUmVtb3ZlLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuTmFtZSA9IG5hbWVUb1JlbW92ZS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuVHlwZSA9ICRzY29wZS5ldmVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IG5hbWVUb1JlbW92ZS5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuU3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSBuYW1lVG9SZW1vdmUuZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmQgPSAkc2NvcGUuZXZlbnRDb29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSBuYW1lVG9SZW1vdmUuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuU3RhcnREYXRlID0gbmFtZVRvUmVtb3ZlLmV2ZW50X3N0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5FbmREYXRlID0gbmFtZVRvUmVtb3ZlLmV2ZW50X2VuZF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuQ29vcmQgPSBjb29yZCAhPT0gdW5kZWZpbmVkID8gY29vcmQuZm5hbWUgKyBcIiBcIiArIGNvb3JkLmxuYW1lIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5ldmVudExpc3QubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2ZW50TGlzdFtpXS5ldmVudF9pZCA9PSBkZWxFdi5ldmVudF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAkc2NvcGUuZXZlbnRMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IERlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9FdmVudHMvRXZlbnRzTGlzdCcpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gREVMRVRFIEV2ZW50IGNsaWNrXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgYSBmZXcgdGltZXMgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgfTsgLy9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc0V2ZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUpOyAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNFdmVudFR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuZXZlbnRfdHlwZV9pZCA9PSB0aGlzRXZlbnQuZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc0V2ZW50U3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSB0aGlzRXZlbnQuZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEVDID0gJHNjb3BlLmV2ZW50Q29vcmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gdGhpc0V2ZW50LmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc0V2ZW50Q29vcmQgPSBFQyAhPT0gdW5kZWZpbmVkID8gRUMuZm5hbWUgKyBcIiBcIiArIEVDLmxuYW1lIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhpc0V2ZW50ICE9IG51bGxcclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIG5ldyBldmVudCBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSA9IG1ha2VBZGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlID0gbWFrZUFkYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIC1uZXcgZXZlbnRcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NoYW5nZSB0byB0aGUgdXNlciBtYWRlLCBwdXQgaXQgLi4gZmlyZWQgb24gZWFjaCBibHVyIGFmdGVyIGNoYW5nZSBtYWRlIHRvIGZpZWxkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2F2ZU9uQmx1ciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lbnN1cmUgdGhleSBkb24ndCBkZWxldGUgcmVxdWlyZWQgZmllbGQgdmFsdWVzICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuYW5FdmVudC5ldmVudF9pZCB9LCAkc2NvcGUuYW5FdmVudCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgcmVxdWlyZWQgZmllbGRzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXJyb3JNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL30pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIFNhdmVPbkJsdXJcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBFVkVOVC5zYXZlKCRzY29wZS5hbkV2ZW50LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggdGhpcyBuZXcgZXZlbnQgaW50byB0aGUgZXZlbnRMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5ldmVudF9pZCA9IHJlc3BvbnNlLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5OYW1lID0gcmVzcG9uc2UuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuVHlwZSA9ICRzY29wZS5ldmVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IHJlc3BvbnNlLmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLlN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gcmVzcG9uc2UuZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmQgPSAkc2NvcGUuZXZlbnRDb29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSByZXNwb25zZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLlN0YXJ0RGF0ZSA9IHJlc3BvbnNlLmV2ZW50X3N0YXJ0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLkVuZERhdGUgPSByZXNwb25zZS5ldmVudF9lbmRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuQ29vcmQgPSBjb29yZCAhPT0gdW5kZWZpbmVkID8gY29vcmQuZm5hbWUgKyBcIiBcIiArIGNvb3JkLmxuYW1lIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QucHVzaChFKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL0V2ZW50cy9FdmVudHNMaXN0JykucmVwbGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCAkc2NvcGUuc2F2ZSgpXHJcbiAgICAgICAgICAgIH0vL2VuZCBlbHNlIChjaGVja0NyZWRzKCkpXHJcbiAgICAgICAgfV0pO1xyXG4gICAgXHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdldmVudEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdNRU1CRVInLCAnRklMRV9UWVBFJywgJ0VWRU5UJywgJ1NUQVRFJywgJ0NPVU5USUVTJywgJ2FsbENvb3JkTWVtYmVycycsICdhbGxFdmVudHMnLCAnYWxsRXZlbnRUeXBlcycsICdhbGxFdmVudFN0YXRzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBNRU1CRVIsIEZJTEVfVFlQRSwgRVZFTlQsIFNUQVRFLCBDT1VOVElFUywgYWxsQ29vcmRNZW1iZXJzLCBhbGxFdmVudHMsIGFsbEV2ZW50VHlwZXMsIGFsbEV2ZW50U3RhdHMpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIlNldHRpbmdzL0V2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXNBZG1pbiA9ICRzY29wZS5sb2dnZWRJblJvbGUgPT0gXCJBZG1pblwiID8gdHJ1ZSA6IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvcnRpbmdPcmRlciA9PSBuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAhJHNjb3BlLnJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0aW5nT3JkZXIgPSBuZXdTb3J0aW5nT3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiBzZXR1cFxyXG4gICAgICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpICcyMDEzLTA1LTE2VDA1OjAwOjAwJ1xyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIFRpbmRleCA9IGQuaW5kZXhPZihcIlRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZURhdGUgPSBkLnN1YnN0cmluZygwLCBUaW5kZXgpOyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoZURhdGU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZUxpc3QgPSBhbGxFdmVudFR5cGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdExpc3QgPSBhbGxFdmVudFN0YXRzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50Q29vcmRMaXN0ID0gYWxsQ29vcmRNZW1iZXJzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vYnVpbGQgZXZlbnRPYmplY3QgZm9yIGV2ZW50TGlzdCBmb3IgdGFibGUgaW4gZXZlbnRzTGlzdC5odG1sXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IGFsbEV2ZW50cy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBFID0gYWxsRXZlbnRzW3hdO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuTmFtZSA9IGFsbEV2ZW50c1t4XS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuVHlwZSA9ICRzY29wZS5ldmVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IGFsbEV2ZW50c1t4XS5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuU3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSBhbGxFdmVudHNbeF0uZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvb3JkID0gJHNjb3BlLmV2ZW50Q29vcmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gYWxsRXZlbnRzW3hdLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICBFLlN0YXJ0RGF0ZSA9IGFsbEV2ZW50c1t4XS5ldmVudF9zdGFydF9kYXRlICE9PSB1bmRlZmluZWQgPyAgbWFrZUFkYXRlKGFsbEV2ZW50c1t4XS5ldmVudF9zdGFydF9kYXRlKSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgRS5FbmREYXRlID0gYWxsRXZlbnRzW3hdLmV2ZW50X2VuZF9kYXRlICE9PSB1bmRlZmluZWQgPyBtYWtlQWRhdGUoYWxsRXZlbnRzW3hdLmV2ZW50X2VuZF9kYXRlKSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgRS5Db29yZCA9IGNvb3JkICE9PSB1bmRlZmluZWQgPyBjb29yZC5mbmFtZSArIFwiIFwiICsgY29vcmQubG5hbWUgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0LnB1c2goRSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGUvdmlldyBtZW1iZXIgd2FzIGNsaWNrZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RXZlbnRNb2RhbCA9IGZ1bmN0aW9uIChldmVudENsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLmV2ZW50TGlzdC5pbmRleE9mKGV2ZW50Q2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2V2ZW50TW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdldmVudE1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRDbGlja2VkICE9PSAwID8gZXZlbnRDbGlja2VkIDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsRXZlbnRUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0YXR1c0xpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsRXZlbnRTdGF0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZG1pbkxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxDb29yZE1lbWJlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEZJTEVfVFlQRS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFNpdGVzOiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudENsaWNrZWQgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBFVkVOVC5nZXRFdmVudFNpdGVzKHtpZDpldmVudENsaWNrZWQuZXZlbnRfaWR9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvdW50aWVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPVU5USUVTLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBvcCBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRFdmVudFsxXSA9PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0LnB1c2goY3JlYXRlZEV2ZW50WzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkRXZlbnRbMV0gPT09ICd1cGRhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdFtpbmRleENsaWNrZWRdID0gY3JlYXRlZEV2ZW50WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRFdmVudFsxXSA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgaW5kZXhDbGlja2VkMSA9ICRzY29wZS5tZW1iZXJMaXN0LmluZGV4T2YoY3JlYXRlZE1lbWJlclswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdC5zcGxpY2UoaW5kZXhDbGlja2VkLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG5cclxuICAgIC8vbG9vayB1cCBjb21tb24gc2VydmljZSBtb2R1bGUsIGFuZCByZWdpc3RlciB0aGUgbmV3IGZhY3Rvcnkgd2l0aCB0aGF0IG1vZHVsZSBcclxuICAgIHZhciBTVE5SZXNvdXJjZSA9IGFuZ3VsYXIubW9kdWxlKCdTVE5SZXNvdXJjZScsIFsnbmdSZXNvdXJjZSddKTtcclxuXHJcbiAgICB2YXIgcm9vdFVSTCA9IFwiaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzXCI7XHJcbiAgICAvL3ZhciByb290VVJMID0gXCJodHRwczovL3N0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMlwiO1xyXG4gICAgLy8gdmFyIHJvb3RVUkwgPSBcImh0dHA6Ly9sb2NhbGhvc3QvU1ROU2VydmljZXMyXCI7XHJcblxyXG4gICAgLy8gR0VPQ09ERSBodHRwczovL2dlb2NvZGluZy5nZW8uY2Vuc3VzLmdvdi9nZW9jb2Rlci9nZW9ncmFwaGllcy9jb29yZGluYXRlcz9iZW5jaG1hcms9NCZ2aW50YWdlPTQmZm9ybWF0PWpzb25cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0dFT0NPREUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0dlb2NvZGUvbG9jYXRpb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgZ2V0QWRkcmVzc1BhcnRzOiB7IG1ldGhvZDogJ0dFVCcsIHBhcmFtczogeyBMYXRpdHVkZTogJ0BMYXRpdHVkZScsIExvbmdpdHVkZTogJ0BMb25naXR1ZGUnIH0gfSAvL3k9MjguMzU5NzUmeD0tODEuNDIxOTg4XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gQUdFTkNZXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdBR0VOQ1knLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0FnZW5jaWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIENPTlRBQ1RfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnQ09OVEFDVF9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Db250YWN0VHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gQ09OVEFDVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnQ09OVEFDVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvQ29udGFjdHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0Q29udGFjdE1vZGVsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIENPVU5USUVTXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdDT1VOVElFUycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvQ291bnRpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gREFUQV9GSUxFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdEQVRBX0ZJTEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0RhdGFGaWxlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0REZBcHByb3ZhbDogeyBtZXRob2Q6ICdHRVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0RhdGFGaWxlcy86aWQvQXBwcm92YWwuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFVuYXBwcm92ZWRERnM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgY2FjaGU6IGZhbHNlIH0sIC8vP0lzQXBwcm92ZWQ9e2FwcHJvdmVkfSZFdmVudD17ZXZlbnRJZH0mQ291bnRpZXM9e2NvdW50aWVzfSZTdGF0ZT17c3RhdGV9XHJcbiAgICAgICAgICAgICAgICBnZXRFdmVudERhdGFWaWV3OiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIGNhY2hlOiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9EYXRhRmlsZVZpZXc/RXZlbnRJZD06ZXZlbnRJZCcgfSxcclxuICAgICAgICAgICAgICAgIHJ1blN0b3JtU2NyaXB0OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvRGF0YUZpbGVzL1J1blN0b3JtU2NyaXB0P1NlYURhdGFGaWxlSUQ9OnNlYURGSUQmQWlyRGF0YUZpbGVJRD06YWlyREZJRCZIZXJ0ej06aGVydHomVXNlcm5hbWU9OnVzZXJuYW1lJyB9LFxyXG4gICAgICAgICAgICAgICAgcnVuQWlyU2NyaXB0OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvRGF0YUZpbGVzL1J1bkFpclNjcmlwdD9BaXJEYXRhRmlsZUlEPTphaXJERklEJlVzZXJuYW1lPTp1c2VybmFtZScgfSxcclxuICAgICAgICAgICAgICAgIHJ1bkNob3BwZXJTY3JpcHQ6IHsgbWV0aG9kOiAnUE9TVCcsIHVybDogcm9vdFVSTCArICcvRmlsZXMvUnVuQ2hvcHBlclNjcmlwdCcsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LCB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sIC8vP1NlbnNvcklkPTpzZW5zb3JJZCZGaWxlTmFtZT06ZmlsZU5hbWVcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVERjogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgcGFyYW1zOiB7IGlkOiAnQGlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL2RhdGFmaWxlcy86aWQvQXBwcm92ZS5qc29uJyB9LCAvL3Bvc3RzIGFuIEFQUFJPVkFMLCB1cGRhdGVzIHRoZSBkYXRhIGZpbGUgd2l0aCBhcHByb3ZhbF9pZCBhbmQgcmV0dXJucyBBUFBST1ZBTFxyXG4gICAgICAgICAgICAgICAgYXBwcm92ZU5XSVNERjogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgcGFyYW1zOiB7IGlkOiAnQGlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL2RhdGFmaWxlcy86aWQvTldJU0FwcHJvdmUuanNvbicgfSwgLy9wb3N0cyBhbiBBUFBST1ZBTCAodXNpbmcgRXZlbnRDb29yZCksIHVwZGF0ZXMgdGhlIGRhdGEgZmlsZSB3aXRoIGFwcHJvdmFsX2lkIGFuZCByZXR1cm5zIEFQUFJPVkFMXHJcbiAgICAgICAgICAgICAgICB1bkFwcHJvdmVERjogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL2RhdGFmaWxlcy86aWQvVW5hcHByb3ZlLmpzb24nIH0sIC8vcG9zdHMgYW4gQVBQUk9WQUwsIHVwZGF0ZXMgdGhlIGRhdGFmaWxlIHdpdGggYXBwcm92YWxfaWQgYW5kIHJldHVybnMgQVBQUk9WQUxcclxuICAgICAgICAgICAgICAgIHN0b3JtU2NyaXB0OiB7IG1ldGhvZDogJ0dFVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRGF0YUZpbGVzL1J1blNjcmlwdD9TZWFEYXRhRmlsZUlEPTpzZWFEYXRhRmlsZUlkJkFpckRhdGFGaWxlSUQ9OmFpckRhdGFGaWxlSWQmSGVydHo9OmhlcnR6JlVzZXJuYW1lPXVzZXJuYW1lJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBERVBMT1lNRU5UX1BSSU9SSVRZXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdERVBMT1lNRU5UX1BSSU9SSVRZJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9EZXBsb3ltZW50UHJpb3JpdGllcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBERVBMT1lNRU5UX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0RFUExPWU1FTlRfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRGVwbG95bWVudFR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldERlcFNlbnNUeXBlOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0RlcGxveW1lbnRUeXBlcy86aWQvU2Vuc29yVHlwZS5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gRVZFTlRcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0VWRU5UJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9FdmVudHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldEV2ZW50U2l0ZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvOmlkL1NpdGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRGaWx0ZXJlZEV2ZW50czogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy9GaWx0ZXJlZEV2ZW50cy5qc29uJyB9LCAvLz9EYXRlOiBudWxsLCBUeXBlOiAwLCBTdGF0ZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBFVkVOVF9TVEFUVVNcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0VWRU5UX1NUQVRVUycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRXZlbnRTdGF0dXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gRVZFTlRfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRVZFTlRfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRXZlbnRUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBGSUxFICAgIFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRklMRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRmlsZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldEZpbGVJdGVtOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0ZpbGVzLzppZC9JdGVtJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0VEVTVGRhdGE6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9GaWxlcy90ZXN0RGF0YUZpbGUnIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBsb2FkRmlsZTogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiByb290VVJMICsgJy9GaWxlcy9ieXRlcycsIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6IHVuZGVmaW5lZCB9LCB0cmFuc2Zvcm1SZXF1ZXN0OiBhbmd1bGFyLmlkZW50aXR5LCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkb3dubG9hZFppcDoge1xyXG4gICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsIHJlc3BvbnNlVHlwZTogJ2FycmF5YnVmZmVyJywgY2FjaGU6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy86ZXZlbnRJZC9FdmVudEZpbGVJdGVtcydcclxuICAgICAgICAgICAgICAgIH0sLy8/SFdNRmlsZXM9e2h3bUZpbGVzfSZIV01GaWxlVHlwZT17aHdtRmlsZVR5cGVzfSZTZW5zb3JGaWxlcz17c2Vuc29yRmlsZXN9JlNlbnNvckZpbGVUeXBlcz17c2Vuc29yRmlsZVR5cGVzfVwiXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gcGhvdG9GaWxlU3RhbXBcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0ZJTEVfU1RBTVAnLCBbJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4gICAgICAgIC8vbmVlZCB0byB1cGRhdGUgdGhlIG5nLXNyYyBvbiBwaG90byBmaWxlcyBpZiBvbmUgY2hhbmdlcywgdXBkYXRlIHRoZSBzdGFtcCBwYXJ0IG9mIHRoZSBpbWFnZSB0byByZWZyZXNoIHRoZSBsaW5rICAgICAgICBcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRTdGFtcDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YW1wID0gJz8nICsgbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhbXA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldFN0YW1wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhbXAgPSAnPycgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZmlsZVN0YW1wU2V0Jywgc3RhbXApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIEZJTEVfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRklMRV9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9GaWxlVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSE9SSVpPTlRBTF9DT0xMX01FVEhPRFNcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Ib3Jpem9udGFsTWV0aG9kcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIT1JJWk9OVEFMX0RBVFVNXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIT1JJWk9OVEFMX0RBVFVNJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Ib3Jpem9udGFsRGF0dW1zLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhPVVNJTkdfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSE9VU0lOR19UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Ib3VzaW5nVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSFdNXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIV00nLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL2h3bXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldEV2ZW50U3RhdGVIV01zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvRXZlbnRzLzpldmVudElkL3N0YXRlSFdNcy5qc29uP1N0YXRlPTpzdGF0ZScgfSxcclxuICAgICAgICAgICAgICAgIGdldEV2ZW50U2l0ZUhXTXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86c2l0ZUlkL0V2ZW50SFdNcy5qc29uJyB9LC8vP0V2ZW50PTpldmVudElkXHJcbiAgICAgICAgICAgICAgICBnZXRGaWx0ZXJlZEhXTXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9IV01zL0ZpbHRlcmVkSFdNcy5qc29uJyB9LCAvL0V2ZW50PXtldmVudElkc30mRXZlbnRUeXBlPXtldmVudFR5cGVJRHN9JkV2ZW50U3RhdHVzPXtldmVudFN0YXR1c0lEfSZTdGF0ZXM9e3N0YXRlc30mQ291bnR5PXtjb3VudGllc30mSFdNVHlwZT17aHdtVHlwZUlEc30mSFdNUXVhbGl0eT17aHdtUXVhbElEc30mSFdNRW52aXJvbm1lbnQ9e2h3bUVudmlyb25tZW50fSZTdXJ2ZXlDb21wbGV0ZT17c3VydmV5Q29tcGxldGV9JlN0aWxsV2F0ZXI9e3N0aWxsV2F0ZXJ9XHJcbiAgICAgICAgICAgICAgICBnZXRVbmFwcHJvdmVkSFdNczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCBjYWNoZTogZmFsc2UgfSwgLy9Jc0FwcHJvdmVkPXsndHJ1ZScvJ2ZhbHNlJ30mRXZlbnQ9e2V2ZW50SWR9Jk1lbWJlcj17bWVtYmVySWR9JlN0YXRlPXtzdGF0ZX1cclxuICAgICAgICAgICAgICAgIGdldEhXTUFwcHJvdmFsOiB7IG1ldGhvZDogJ0dFVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvaHdtcy86aWQvQXBwcm92YWwuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVIV006IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHBhcmFtczogeyBpZDogJ0BpZCcgfSwgdXJsOiByb290VVJMICsgJy9od21zLzppZC9BcHByb3ZlLmpzb24nIH0sIC8vcG9zdHMgYW4gQVBQUk9WQUwsIHVwZGF0ZXMgdGhlIEhXTSB3aXRoIGFwcHJvdmFsX2lkIGFuZCByZXR1cm5zIEFQUFJPVkFMXHJcbiAgICAgICAgICAgICAgICB1bkFwcHJvdmVIV006IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9od21zLzppZC9VbmFwcHJvdmUuanNvbicgfSwgLy9wb3N0cyBhbiBBUFBST1ZBTCwgdXBkYXRlcyB0aGUgSFdNIHdpdGggYXBwcm92YWxfaWQgYW5kIHJldHVybnMgQVBQUk9WQUxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSFdNX1NlcnZpY2VcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hXTV9TZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICAvL3doZW4gaHdtIGlzIGNyZWF0ZWQgb3IgZGVsZXRlZCwgdGhpcyBnZXRzIHVwZGF0ZWQgc28gdGhhdCBmaWxlc0N0cmwgd2lsbCB1cGRhdGUgaXQncyBsaXN0IG9mIHNpdGVIV01zXHJcbiAgICAgICAgdmFyIGFsbFNpdGVIV01zID0gW107IHZhciBidWxrU2VhcmNoID0ge307XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0QWxsU2l0ZUhXTXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGxTaXRlSFdNcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0QWxsU2l0ZUhXTXM6IGZ1bmN0aW9uIChzaCkge1xyXG4gICAgICAgICAgICAgICAgYWxsU2l0ZUhXTXMgPSBzaDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0QnVsa0hXTVNlYXJjaDogZnVuY3Rpb24gKHNlYXJjaFRlcm1zKSB7XHJcbiAgICAgICAgICAgICAgICBidWxrU2VhcmNoID0gc2VhcmNoVGVybXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEJ1bGtIV01TZWFyY2g6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWxrU2VhcmNoO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIV01fUVVBTElUWVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSFdNX1FVQUxJVFknLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0hXTVF1YWxpdGllcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIV01fVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSFdNX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0hXTVR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIElOU1RSVU1FTlRcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0lOU1RSVU1FTlQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0luc3RydW1lbnRzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRTZW5zb3JWaWV3OiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2Vuc29yVmlld3MuanNvbicgfSwgLy8/Vmlld1R5cGU9e30mRXZlbnQ9e31cclxuICAgICAgICAgICAgICAgIGdldHN0YXR1c0luc3RydW1lbnRzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvSW5zdHJ1bWVudHMuanNvbicgfSwgLy9DdXJyZW50U3RhdHVzOiAxLCBFdmVudDogJHNjb3BlLmV2SUQgXHJcbiAgICAgICAgICAgICAgICBnZXRGdWxsSW5zdHJ1bWVudDogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL0luc3RydW1lbnRzLzppZC9GdWxsSW5zdHJ1bWVudC5qc29uJyB9LCAvL2dldHMgaW5zdHJ1bWVudCBhbmQgaXQncyBzdGF0cyB0b2dldGhlclxyXG4gICAgICAgICAgICAgICAgZ2V0SW5zdHJ1bWVudFN0YXR1czogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL0luc3RydW1lbnRzLzppZC9JbnN0cnVtZW50U3RhdHVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEluc3RydW1lbnRfU2VydmljZVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSW5zdHJ1bWVudF9TZXJ2aWNlJywgW2Z1bmN0aW9uICgpIHtcclxuICAgICAgICAvL3doZW4gaHdtIGlzIGNyZWF0ZWQgb3IgZGVsZXRlZCwgdGhpcyBnZXRzIHVwZGF0ZWQgc28gdGhhdCBmaWxlc0N0cmwgd2lsbCB1cGRhdGUgaXQncyBsaXN0IG9mIHNpdGVIV01zXHJcbiAgICAgICAgdmFyIGFsbFNpdGVTZW5zb3JzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0QWxsU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGxTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0QWxsU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uIChzcykge1xyXG4gICAgICAgICAgICAgICAgYWxsU2l0ZVNlbnNvcnMgPSBzcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBJTlNUUlVNRU5UX1NUQVRVU1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSU5TVFJVTUVOVF9TVEFUVVMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0luc3RydW1lbnRTdGF0dXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSU5TVF9DT0xMX0NPTkRJVElPTlxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSU5TVF9DT0xMX0NPTkRJVElPTicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSW5zdHJDb2xsZWN0Q29uZGl0aW9ucy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBMQU5ET1dORVJfQ09OVEFDVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTEFORE9XTkVSX0NPTlRBQ1QnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0xhbmRPd25lcnMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTWFwX1NpdGVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ01hcF9TaXRlJywgWydTSVRFJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCBmdW5jdGlvbiAoU0lURSwgJHJvb3RTY29wZSwgJGNvb2tpZXMpIHtcclxuICAgICAgICB2YXIgTWFwU2l0ZVBhcnRzID0gW107XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldE1hcFNpdGVQYXJ0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hcFNpdGVQYXJ0cztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0TWFwU2l0ZVBhcnRzOiBmdW5jdGlvbiAoc2l0ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICBNYXBTaXRlUGFydHMgPSBbXTtcclxuICAgICAgICAgICAgICAgIFNJVEUucXVlcnkoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgTWFwU2l0ZVBhcnRzLnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZVBlYWtzKHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChwUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWFwU2l0ZVBhcnRzLnB1c2gocFJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdtYXBTaXRlQ2xpY2tSZXN1bHRzJywgTWFwU2l0ZVBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTWFwX2ZpbHRlclxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTWFwX0ZpbHRlcicsIFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgdmFyIGZpbHRlcmVkU2l0ZXMgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLy8gZ2V0RmlsdGVyZWRTaXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAvLyAgICAgcmV0dXJuIGZpbHRlcmVkU2l0ZXM7XHJcbiAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgIHNldEZpbHRlcmVkU2l0ZXM6IGZ1bmN0aW9uIChzaXRlc0FycmF5KSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFNpdGVzID0gc2l0ZXNBcnJheTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnZmlsdGVyU2l0ZXNDbGljaycsIGZpbHRlcmVkU2l0ZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIE1BUktFUlxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTUFSS0VSJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9NYXJrZXJzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE1FTUJFUlxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTUVNQkVSJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9NZW1iZXJzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRSb2xlTWVtYmVyczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1JvbGVzLzpyb2xlSWQvTWVtYmVycy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnRQZW9wbGU6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvOkV2ZW50aWQvTWVtYmVycy5qc29uJyB9LFxyXG5cclxuICAgICAgICAgICAgICAgIGNoYW5nZVBXOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL01lbWJlcnMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGFkZE1lbWJlcjogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9NZW1iZXJzLzpwYXNzL2FkZE1lbWJlcicgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGVNZW1iZXI6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9NZW1iZXJzLzppZCcgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE5FVFdPUktfTkFNRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTkVUV09SS19OQU1FJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9OZXR3b3JrTmFtZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTkVUV09SS19UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdORVRXT1JLX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL05ldHdvcmtUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBPQkpFQ1RJVkVfUE9JTlRcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ09CSkVDVElWRV9QT0lOVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvT2JqZWN0aXZlUG9pbnRzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0T1BGaWxlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyBcIi9PYmplY3RpdmVQb2ludHMvOmlkL0ZpbGVzXCIgfSxcclxuICAgICAgICAgICAgICAgIGdldE9QQ29udHJvbHM6IHsgbWV0aG9kOiAnR0VUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyBcIi9PYmplY3RpdmVQb2ludHMvOmlkL09QQ29udHJvbHMuanNvblwiIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gT1BfQ09OVFJPTF9JREVOVElGSUVSXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdPUF9DT05UUk9MX0lERU5USUZJRVInLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL09QQ29udHJvbElkZW50aWZpZXJzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE9QX01FQVNVUkVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ09QX01FQVNVUkUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL09QTWVhc3VyZW1lbnRzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRJbnN0U3RhdE9QTWVhc3VyZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9JbnN0cnVtZW50U3RhdHVzLzppbnN0cnVtZW50U3RhdHVzSWQvT1BNZWFzdXJlbWVudHMnIH0sXHJcbiAgICAgICAgICAgICAgICBnZXREYXR1bUxvY2F0aW9uT1BNZWFzdXJlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL09iamVjdGl2ZVBvaW50cy86b2JqZWN0aXZlUG9pbnRJZC9PUE1lYXN1cmVtZW50cycgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gT1BfUVVBTElUWVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnT1BfUVVBTElUWScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvT2JqZWN0aXZlUG9pbnRRdWFsaXRpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gT1BfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnT1BfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvT1BUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBQRUFLXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdQRUFLJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9QZWFrU3VtbWFyaWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRQZWFrU3VtbWFyeURGczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCBjYWNoZTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvUGVha1N1bW1hcmllcy86aWQvRGF0YUZpbGVzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFJFUE9SVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnUkVQT1JUJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9SZXBvcnRpbmdNZXRyaWNzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldFJlcG9ydEJ5RXZTdDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXREYWlseVJlcG9ydFRvdHM6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9SZXBvcnRpbmdNZXRyaWNzL0RhaWx5UmVwb3J0VG90YWxzJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0TWVtYmVyUmVwb3J0czogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL01lbWJlcnMvOm1lbWJlcklkL1JlcG9ydHMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldEZpbHRlcmVkUmVwb3J0czogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1JlcG9ydGluZ01ldHJpY3MvRmlsdGVyZWRSZXBvcnRzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRSZXBvcnR3aXRoQ29udGFjdHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9SZXBvcnRSZXNvdXJjZS9GaWx0ZXJlZFJlcG9ydE1vZGVsLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRSZXBvcnRzQ1NWOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvUmVwb3J0aW5nTWV0cmljcy9GaWx0ZXJlZFJlcG9ydHMuY3N2JyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBhZGRSZXBvcnRDb250YWN0OiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCBwYXJhbXM6IHsgUmVwb3J0SWQ6ICdAcmVwb3J0SWQnLCBDb250YWN0VHlwZUlkOiAnQGNvbnRhY3RUeXBlSWQnIH0sIHVybDogcm9vdFVSTCArICcvUmVwb3J0aW5nTWV0cmljcy86cmVwb3J0SWQvQWRkQ29udGFjdFR5cGUvOmNvbnRhY3RUeXBlSWQnIH0sIC8vY29udGFjdCBlbnRpdHkgaW4gYm9keSBcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBST0xFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdST0xFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Sb2xlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU0VOU09SX0JSQU5EXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTRU5TT1JfQlJBTkQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NlbnNvckJyYW5kcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTRU5TT1JfREVQTE9ZTUVOVCAtLS0gbm8gbG9uZ2VyIG5lZWRlZCBzaW5jZSBTRU5TT1JfVFlQRSByZXR1cm5zIGFzIHRoaXMgcmVsYXRpb25zaGlwIG5vd1xyXG4gICAgLy9TVE5SZXNvdXJjZS5mYWN0b3J5KCdTRU5TT1JfREVQTE9ZTUVOVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgLy8gICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TZW5zb3JEZXBsb3ltZW50cy86aWQuanNvbicsXHJcbiAgICAvLyAgICAgICAge30sIHtcclxuICAgIC8vICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgLy8gICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LCAgICAgICAgICAgICAgIFxyXG4gICAgLy8gICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgLy8gICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAvLyAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgIC8vICAgICAgICB9KTtcclxuICAgIC8vfV0pO1xyXG5cclxuICAgIC8vIFNFTlNPUl9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTRU5TT1JfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU2Vuc29yVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSwgLy90aGlzIHJldHVybnMgc2Vuc29ydHlwZXMgd2l0aCBsaXN0IG9mIGRlcGxveW1lbnR0eXBlcyBmb3IgZWFjaCBvbmVcclxuICAgICAgICAgICAgICAgIGdldFNlbnNvckRlcGxveW1lbnRUeXBlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NlbnNvclR5cGVzLzppZC9EZXBsb3ltZW50VHlwZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGFkZFNlbnNvckRlcGxveW1lbnRUeXBlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IHRydWUsIHBhcmFtczogeyBzZW5zb3JUeXBlSWQ6ICdAc2Vuc29yVHlwZUlkJywgRGVwbG95bWVudFR5cGVJZDogJ0BkZXBsb3ltZW50VHlwZUlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL1NlbnNvclR5cGVzLzpzZW5zb3JUeXBlSWQvYWRkRGVwbG95bWVudFR5cGUnIH0sLy8/RGVwbG95bWVudFR5cGVJZD17ZGVwbG95bWVudFR5cGVJZH1cIlxyXG4gICAgICAgICAgICAgICAgcmVtb3ZlU2Vuc29yRGVwbG95bWVudFR5cGU6IHsgbWV0aG9kOiAnUE9TVCcsIGlzQXJyYXk6IGZhbHNlLCBwYXJhbXM6IHsgc2Vuc29yVHlwZUlkOiAnQHNlbnNvclR5cGVJZCcsIERlcGxveW1lbnRUeXBlSWQ6ICdAZGVwbG95bWVudFR5cGVJZCcgfSwgdXJsOiByb290VVJMICsgJy9TZW5zb3JUeXBlcy86c2Vuc29yVHlwZUlkL3JlbW92ZURlcGxveW1lbnRUeXBlJyB9LC8vP0RlcGxveW1lbnRUeXBlSWQ9e2RlcGxveW1lbnRUeXBlSWR9XCJcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU0lURVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU0lURScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU2l0ZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgc2Vuc29yU2NyaXB0UnVubmluZzogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSwgdHJhbnNmb3JtUmVzcG9uc2U6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiB7IHZhbHVlOiBhbmd1bGFyLmZyb21Kc29uKGRhdGEpIH0gfSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvR2V0RGF0YUZpbGVTY3JpcHQuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFByb3hpbWl0eVNpdGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHBhcmFtczogeyBMYXRpdHVkZTogJ0BsYXRpdHVkZScsIExvbmdpdHVkZTogJ0Bsb25naXR1ZGUnLCBCdWZmZXI6ICdAYnVmZmVyJyB9IH0sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0U2VhcmNoZWRTaXRlOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzL1NlYXJjaCcgfSwgLy8/YnlTaXRlTm89e3NpdGVOb30mYnlTaXRlTmFtZT17c2l0ZU5hbWV9JmJ5U2l0ZUlkPXtzaXRlSWR9IChvbmx5IGdvaW5nIHRvIHBvcHVsYXRlIDEgb2YgdGhlc2UgcGFyYW1zXHJcbiAgICAgICAgICAgICAgICBnZXRGaWx0ZXJlZFNpdGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvRmlsdGVyZWRTaXRlcy5qc29uJyB9LCAvL2FjY2VwdHMgb3B0aW9uYWwgcGFyYW1ldGVyczogRXZlbnQ9e2V2ZW50SWR9JlN0YXRlPXtzdGF0ZU5hbWVzfSZTZW5zb3JUeXBlPXtzZW5zb3JUeXBlSWR9Jk5ldHdvcmtOYW1lPXtuZXR3b3JrTmFtZUlkfSZPUERlZmluZWQ9e29wRGVmaW5lZH0mSFdNT25seT17aHdtT25seVNpdGVzfSYmSFdNU3VydmV5ZWQ9e3N1cnZleWVkSFdNc31cclxuICAgICAgICAgICAgICAgIC8vbGFuZG93bmVyXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlTGFuZE93bmVyOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL0xhbmRPd25lci5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgLy9TaXRlIE5ldHdvcmtUeXBlc1xyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZU5ldHdvcmtUeXBlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzppZC9uZXR3b3JrVHlwZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIHBvc3RTaXRlTmV0d29ya1R5cGU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgcGFyYW1zOiB7IHNpdGVJZDogJ0BzaXRlSWQnLCBOZXR3b3JrVHlwZUlkOiAnQG5ldHdvcmtUeXBlSWQnIH0sIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOnNpdGVJZC9BZGROZXR3b3JrVHlwZScgfSwgLy8/TmV0d29ya1R5cGVJZD0ge25ldHdvcmtUeXBlSWR9XHJcbiAgICAgICAgICAgICAgICBkZWxldGVTaXRlTmV0d29ya1R5cGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86c2l0ZUlkL3JlbW92ZU5ldHdvcmtUeXBlP05ldHdvcmtUeXBlSWQ9Om5ldHdvcmtUeXBlSWQnIH0sXHJcbiAgICAgICAgICAgICAgICAvL1NpdGUgTmV0d29yayBOYW1lc1xyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZU5ldHdvcmtOYW1lczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzppZC9uZXR3b3JrTmFtZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIHBvc3RTaXRlTmV0d29ya05hbWU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgcGFyYW1zOiB7IHNpdGVJZDogJ0BzaXRlSWQnLCBOZXR3b3JrTmFtZUlkOiAnQG5ldHdvcmtOYW1lSWQnIH0sIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOnNpdGVJZC9BZGROZXR3b3JrTmFtZScgfSwgLy8/TmV0d29ya05hbWVJZD0ge25ldHdvcmtOYW1lSWR9XHJcbiAgICAgICAgICAgICAgICBkZWxldGVTaXRlTmV0d29ya05hbWU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86c2l0ZUlkL3JlbW92ZU5ldHdvcmtOYW1lP05ldHdvcmtOYW1lSWQ9Om5ldHdvcmtOYW1lSWQnIH0sXHJcbiAgICAgICAgICAgICAgICAvL1NpdGUgSG91c2luZ3NcclxuICAgICAgICAgICAgICAgIGdldFNpdGVIb3VzaW5nczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzppZC9TaXRlSG91c2luZ3MuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIC8vICBwb3N0U2l0ZUhvdXNpbmc6IHttZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OnRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZS86aWQvQWRkU2l0ZVNpdGVIb3VzaW5nLmpzb24nfSxcclxuICAgICAgICAgICAgICAgIC8vU2l0ZSBQYXJ0c1xyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZU9QczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9PYmplY3RpdmVQb2ludHMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFNpdGVTZW5zb3JzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL1NpdGVGdWxsSW5zdHJ1bWVudExpc3QuanNvbicgfSwgLy9hbGwgaW5zdHJ1bWVudHMgYW5kIHRoZWlyIHN0YXRzIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlSFdNczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9IV01zLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlRmlsZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvRmlsZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFNpdGVQZWFrczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9QZWFrU3VtbWFyeVZpZXcuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFBlYWtsZXNzU2l0ZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvOmlkL1BlYWtsZXNzU2l0ZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIC8vanVzdCB0aGUgU2l0ZVxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy8gSXNTY3JpcHRSdW5uaW5nIFNlcnZpY2VcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NpdGVfU2NyaXB0JywgWyckY29va2llcycsICckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRjb29raWVzLCAkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgdmFyIGlzUnVubmluZztcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRJc1NjcmlwdFJ1bm5pbmc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc1J1bm5pbmc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldElzU2NyaXB0UnVubmluZzogZnVuY3Rpb24gKHJ1bm5pbmcpIHtcclxuICAgICAgICAgICAgICAgIGlzUnVubmluZyA9IHJ1bm5pbmc7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3NpdGVERlNjcmlwdFJ1bm5pbmcnLCBpc1J1bm5pbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNpdGVfRmlsZXNcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NpdGVfRmlsZXMnLCBbJyRjb29raWVzJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJGNvb2tpZXMsICRyb290U2NvcGUpIHtcclxuICAgICAgICB2YXIgYWxsU2l0ZUZpbGVzID0gW107XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0QWxsU2l0ZUZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWxsU2l0ZUZpbGVzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRBbGxTaXRlRmlsZXM6IGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzID0gc2Y7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3NpdGVGaWxlc1VwZGF0ZWQnLCBhbGxTaXRlRmlsZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNUQVRFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTVEFURScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU3RhdGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNJVEVfSE9VU0lOR1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU0lURV9IT1VTSU5HJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TaXRlSG91c2luZ3MvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU1RBVFVTX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NUQVRVU19UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TdGF0dXNUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTT1VSQ0VcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NPVVJDRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU291cmNlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBWRVJUSUNBTF9DT0xMX01FVEhPRFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnVkVSVElDQUxfQ09MTF9NRVRIT0QnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1ZlcnRpY2FsTWV0aG9kcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBWRVJUSUNBTF9EQVRVTVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnVkVSVElDQUxfREFUVU0nLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1ZlcnRpY2FsRGF0dW1zLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIExvZ2luXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdMb2dpbicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvbG9naW4nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgbG9naW46IHsgbWV0aG9kOiAnR0VUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0TmV3c0ZlZWQ6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgXCIvQ29uZmx1ZW5jZS9TVE5OZXdzRmVlZFwiIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQnVzaW5lc3NTZXJ2aWNlcyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5CdXNpbmVzc1NlcnZpY2VzJywgWyduZ0Nvb2tpZXMnXSk7XHJcblxyXG4gICAgLy8jcmVnaW9uIFNFVFRFUlNcclxuICAgIC8vc2V0IHRoZSBjcmVkZW50aWFscyAoZW5jb2RlZFRva2VuLCB1c2VybmFtZSwgdXNlcnNOYW1lLCB1c2Vyc1JvbGUpICB3aGVuIHVzZXIgbG9ncyBpblxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdzZXRDcmVkcycsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHVuLCBwdywgdXNlck5hbWUsIHVzZXJSb2xlLCB1c2VySUQpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VuID0gdW4uY29uY2F0KFwiOlwiLCBwdyk7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNUTkNyZWRzID0gdG9rZW47XHJcblxyXG4gICAgICAgICAgICAkY29va2llcy5TVE5Vc2VybmFtZSA9IHVuO1xyXG4gICAgICAgICAgICAkY29va2llcy51c2Vyc05hbWUgPSB1c2VyTmFtZTtcclxuICAgICAgICAgICAgJGNvb2tpZXMubUlEID0gdXNlcklEO1xyXG4gICAgICAgICAgICB2YXIgcm9sZU5hbWU7XHJcbiAgICAgICAgICAgIHN3aXRjaCh1c2VyUm9sZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJBZG1pblwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJNYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkZpZWxkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIlB1YmxpY1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQ2l0aXplbk1hbmFnZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkY29va2llcy51c2Vyc1JvbGUgPSByb2xlTmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vc2V0IHRoZSBldmVudCB0aGV5IGNob29zZSBmcm9tIGhvbWUgcGFnZSwgbG9va2VkIGZvciB0aHJvdWdoIG91dCBhcHBcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnc2V0U2Vzc2lvbkV2ZW50JywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXZJZCwgZXZOYW1lKSB7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNlc3Npb25FdmVudElEID0gZXZJZDtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU2Vzc2lvbkV2ZW50TmFtZSA9IGV2TmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vc2V0IHRoZSB0ZWFtIHRoZXkgY2hvb3NlIGZyb20gaG9tZSBwYWdlLCBsb29rZWQgZm9yIHRocm91Z2ggb3V0IGFwcFxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdzZXRTZXNzaW9uVGVhbScsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHRJZCwgdE5hbWUpIHtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU2Vzc2lvblRlYUlEID0gdElkO1xyXG4gICAgICAgICAgICAkY29va2llcy5TZXNzaW9uVGVhbU5hbWUgPSB0TmFtZTtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnc2V0TG9nZ2VkSW4nLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgdmFyIGxvZ2dlZEluID0gZmFsc2U7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXNMb2dnZWRJbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvZ2dlZEluO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjaGFuZ2VMb2dnZWRJbjogZnVuY3Rpb24gKFllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlZEluID0gWWVzT3JObztcclxuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vI2VuZHJlZ2lvbiBTRVRURVJTXHJcblxyXG4gICAgLy8jcmVnaW9uIEdFVFRFUlNcclxuICAgIC8vY2hlY2sgdGhlIHN0YXR1cyBvZiB1c2VyJ3MgY3JlZGVudGlhbHMuIGlmIHJldHVybiBmYWxzZSA9IHJlZGlyZWN0IHRvIGxvZ2luIFxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdjaGVja0NyZWRzJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgdmFyIFNUTkNyZWRzID0gJGNvb2tpZXMuU1ROQ3JlZHM7XHJcblxyXG4gICAgICAgICAgICBpZiAoU1ROQ3JlZHMgIT09IHVuZGVmaW5lZCAmJiBTVE5DcmVkcyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9yZXRyaWV2ZSB1c2VyJ3MgJ3Rva2VuJyBmcm9tIGNvb2tpZVxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdnZXRDcmVkcycsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIFNUTkNyZWRzID0gJGNvb2tpZXMuU1ROQ3JlZHM7XHJcblxyXG4gICAgICAgICAgICBpZiAoU1ROQ3JlZHMgIT09IHVuZGVmaW5lZCAmJiBTVE5DcmVkcyAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gYnRvYShTVE5DcmVkcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vcmV0cmlldmUgdXNlciBmcm9tIGNvb2tpZVxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdnZXRVc2Vyc05BTUUnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciB1c2VzTmFtZSA9ICRjb29raWVzLnVzZXJzTmFtZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VzTmFtZSAhPT0gdW5kZWZpbmVkICYmIHVzZXNOYW1lICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB1c2VzTmFtZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9yZXRyaWV2ZSB1c2VycyBJRCBmcm9tIGNvb2tpZVxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdnZXRVc2VySUQnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciB1c2VySUQgPSAkY29va2llcy5tSUQ7XHJcblxyXG4gICAgICAgICAgICBpZiAodXNlcklEICE9PSB1bmRlZmluZWQgJiYgdXNlcklEICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB1c2VySUQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vZ2V0IHRoZSB1c2VybmFtZSB0byB1c2UgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb25cclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZ2V0VXNlcm5hbWUnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciBTVE5Vc2VybmFtZSA9ICRjb29raWVzLlNUTlVzZXJuYW1lO1xyXG5cclxuICAgICAgICAgICAgaWYgKFNUTlVzZXJuYW1lICE9PSB1bmRlZmluZWQgJiYgU1ROVXNlcm5hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IFNUTlVzZXJuYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL2dldCB0aGUgUm9sZSB0byB1c2UgdGhyb3VnaG91dCB0aGUgYXBwbGljYXRpb25cclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZ2V0VXNlclJvbGUnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgIHZhciB1c2VyUm9sZSA9ICRjb29raWVzLnVzZXJzUm9sZTtcclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VyUm9sZSAhPT0gdW5kZWZpbmVkICYmIHVzZXJSb2xlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB1c2VyUm9sZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyNlbmRyZWdpb24gR0VUVEVSU1xyXG5cclxuICAgIC8vREVMRVRFLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvL2RlbGV0ZSB0aGUgY3JlZGVudGlhbHNcclxuICAgIFNUTkJ1c2luZXNzU2VydmljZXMuZmFjdG9yeSgnZGVsZXRlQ3JlZHMnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU1ROQ3JlZHMgPSBcIlwiO1xyXG4gICAgICAgICAgICAkY29va2llcy5TVE5Vc2VybmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICRjb29raWVzLnVzZXJzTmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICRjb29raWVzLnVzZXJzUm9sZSA9IFwiXCI7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG5cclxuICAgIC8vcG9wdXAgY29uZmlybSBib3hcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignQ29uZmlybU1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ25hbWVUb1JlbW92ZScsICd3aGF0JywgXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG5hbWVUb1JlbW92ZSwgd2hhdCkge1xyXG4gICAgICAgICAgICAvLyNyZWdpb24gc3dpdGNoIChsb25nKVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHdoYXQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJNZW1iZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmZuYW1lICsgXCIgXCIgKyBuYW1lVG9SZW1vdmUubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRXZlbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiQWdlbmN5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJDb250YWN0IFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRGVwbG95bWVudCBQcmlvcml0eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUucHJpb3JpdHlfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFdmVudCBTdGF0dXNcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJGaWxlIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvcml6b250YWwgQ29sbGVjdGlvbiBNZXRob2RcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmhjb2xsZWN0X21ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIb3Jpem9udGFsIERhdHVtXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5kYXR1bV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvdXNpbmcgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUudHlwZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhXTSBRdWFsaXR5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5od21fcXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIV00gVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuaHdtX3R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1hcmtlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUubWFya2VyMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJOZXR3b3JrIE5hbWVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiT2JqZWN0aXZlIFBvaW50IFF1YWxpdHlcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnF1YWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiT2JqZWN0aXZlIFBvaW50IFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm9wX3R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU2Vuc29yIEJyYW5kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5icmFuZF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkRlcGxveW1lbnQgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUubWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlN0YXR1cyBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU2Vuc29yIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJOZXR3b3JrIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm5ldHdvcmtfdHlwZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS52Y29sbGVjdF9tZXRob2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVmVydGljYWwgRGF0dW1cIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmRhdHVtX2FiYnJldmlhdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJPYmplY3RpdmUgUG9pbnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSFdNXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUobmFtZVRvUmVtb3ZlLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IFwiRmxhZ2dlZCBvbjogXCIgKyBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIlNlbnNvclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZGVwbG95bWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiUHJvcG9zZWQgU2Vuc29yXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IFwiUHJvcG9zZWQgU2Vuc29yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRmlsZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmID0gbmFtZVRvUmVtb3ZlLm5hbWUgIT09IHVuZGVmaW5lZCB8fCBuYW1lVG9SZW1vdmUubmFtZSAhPT0gbnVsbCA/IG5hbWVUb1JlbW92ZS5uYW1lIDogbmFtZVRvUmVtb3ZlLmZpbGVfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICBmID0gZiAhPT0gbnVsbCB8fCBmICE9PSB1bmRlZmluZWQgPyBmIDogbmFtZVRvUmVtb3ZlLmZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IGY7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiUGVha1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLndoYXQgPSB3aGF0O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UobmFtZVRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiLyohXHJcbioganF1ZXJ5LmlucHV0bWFzay5idW5kbGUuanNcclxuKiBodHRwOi8vZ2l0aHViLmNvbS9Sb2JpbkhlcmJvdHMvanF1ZXJ5LmlucHV0bWFza1xyXG4qIENvcHlyaWdodCAoYykgMjAxMCAtIDIwMTUgUm9iaW4gSGVyYm90c1xyXG4qIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHApXHJcbiogVmVyc2lvbjogMy4yLjQtMTRcclxuKi9cclxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xyXG4hZnVuY3Rpb24gKCQpIHtcclxuICAgIGZ1bmN0aW9uIElucHV0bWFzayhhbGlhcywgb3B0aW9ucykge1xyXG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgSW5wdXRtYXNrID8gKFwib2JqZWN0XCIgPT0gdHlwZW9mIGFsaWFzID8gb3B0aW9ucyA9IGFsaWFzIDogKG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9LFxyXG4gICAgICAgIG9wdGlvbnMuYWxpYXMgPSBhbGlhcyksIHRoaXMuZWwgPSB2b2lkIDAsIHRoaXMub3B0cyA9ICQuZXh0ZW5kKCEwLCB7fSwgdGhpcy5kZWZhdWx0cywgb3B0aW9ucyksXHJcbiAgICAgICAgdGhpcy5ub01hc2tzQ2FjaGUgPSBvcHRpb25zICYmIHZvaWQgMCAhPT0gb3B0aW9ucy5kZWZpbml0aW9ucywgdGhpcy51c2VyT3B0aW9ucyA9IG9wdGlvbnMgfHwge30sXHJcbiAgICAgICAgdm9pZCByZXNvbHZlQWxpYXModGhpcy5vcHRzLmFsaWFzLCBvcHRpb25zLCB0aGlzLm9wdHMpKSA6IG5ldyBJbnB1dG1hc2soYWxpYXMsIG9wdGlvbnMpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaXNJbnB1dEV2ZW50U3VwcG9ydGVkKGV2ZW50TmFtZSkge1xyXG4gICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSwgZXZOYW1lID0gXCJvblwiICsgZXZlbnROYW1lLCBpc1N1cHBvcnRlZCA9IGV2TmFtZSBpbiBlbDtcclxuICAgICAgICByZXR1cm4gaXNTdXBwb3J0ZWQgfHwgKGVsLnNldEF0dHJpYnV0ZShldk5hbWUsIFwicmV0dXJuO1wiKSwgaXNTdXBwb3J0ZWQgPSBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGVsW2V2TmFtZV0pLFxyXG4gICAgICAgIGVsID0gbnVsbCwgaXNTdXBwb3J0ZWQ7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0lucHV0VHlwZVN1cHBvcnRlZChpbnB1dFR5cGUpIHtcclxuICAgICAgICB2YXIgaXNTdXBwb3J0ZWQgPSBcInRleHRcIiA9PT0gaW5wdXRUeXBlIHx8IFwidGVsXCIgPT09IGlucHV0VHlwZSB8fCBcInBhc3N3b3JkXCIgPT09IGlucHV0VHlwZTtcclxuICAgICAgICBpZiAoIWlzU3VwcG9ydGVkKSB7XHJcbiAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcclxuICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlKFwidHlwZVwiLCBpbnB1dFR5cGUpLCBpc1N1cHBvcnRlZCA9IFwidGV4dFwiID09PSBlbC50eXBlLCBlbCA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBpc1N1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIHJlc29sdmVBbGlhcyhhbGlhc1N0ciwgb3B0aW9ucywgb3B0cykge1xyXG4gICAgICAgIHZhciBhbGlhc0RlZmluaXRpb24gPSBvcHRzLmFsaWFzZXNbYWxpYXNTdHJdO1xyXG4gICAgICAgIHJldHVybiBhbGlhc0RlZmluaXRpb24gPyAoYWxpYXNEZWZpbml0aW9uLmFsaWFzICYmIHJlc29sdmVBbGlhcyhhbGlhc0RlZmluaXRpb24uYWxpYXMsIHZvaWQgMCwgb3B0cyksXHJcbiAgICAgICAgJC5leHRlbmQoITAsIG9wdHMsIGFsaWFzRGVmaW5pdGlvbiksICQuZXh0ZW5kKCEwLCBvcHRzLCBvcHRpb25zKSwgITApIDogKG51bGwgPT09IG9wdHMubWFzayAmJiAob3B0cy5tYXNrID0gYWxpYXNTdHIpLFxyXG4gICAgICAgICExKTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMobnB0LCBvcHRzLCB1c2VyT3B0aW9ucykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGltcG9ydE9wdGlvbihvcHRpb24sIG9wdGlvbkRhdGEpIHtcclxuICAgICAgICAgICAgb3B0aW9uRGF0YSA9IHZvaWQgMCAhPT0gb3B0aW9uRGF0YSA/IG9wdGlvbkRhdGEgOiBucHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnB1dG1hc2stXCIgKyBvcHRpb24pLFxyXG4gICAgICAgICAgICBudWxsICE9PSBvcHRpb25EYXRhICYmIChcInN0cmluZ1wiID09IHR5cGVvZiBvcHRpb25EYXRhICYmICgwID09PSBvcHRpb24uaW5kZXhPZihcIm9uXCIpID8gb3B0aW9uRGF0YSA9IHdpbmRvd1tvcHRpb25EYXRhXSA6IFwiZmFsc2VcIiA9PT0gb3B0aW9uRGF0YSA/IG9wdGlvbkRhdGEgPSAhMSA6IFwidHJ1ZVwiID09PSBvcHRpb25EYXRhICYmIChvcHRpb25EYXRhID0gITApKSxcclxuICAgICAgICAgICAgXCJtYXNrXCIgPT09IG9wdGlvbiAmJiAwID09PSBvcHRpb25EYXRhLmluZGV4T2YoXCJbXCIpID8gKHVzZXJPcHRpb25zW29wdGlvbl0gPSBvcHRpb25EYXRhLnJlcGxhY2UoL1tcXHNbXFxdXS9nLCBcIlwiKS5zcGxpdChcIixcIiksXHJcbiAgICAgICAgICAgIHVzZXJPcHRpb25zW29wdGlvbl1bMF0gPSB1c2VyT3B0aW9uc1tvcHRpb25dWzBdLnJlcGxhY2UoXCInXCIsIFwiXCIpLCB1c2VyT3B0aW9uc1tvcHRpb25dW3VzZXJPcHRpb25zW29wdGlvbl0ubGVuZ3RoIC0gMV0gPSB1c2VyT3B0aW9uc1tvcHRpb25dW3VzZXJPcHRpb25zW29wdGlvbl0ubGVuZ3RoIC0gMV0ucmVwbGFjZShcIidcIiwgXCJcIikpIDogdXNlck9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbkRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgb3B0aW9uLCBkYXRhb3B0aW9ucywgb3B0aW9uRGF0YSwgYXR0ck9wdGlvbnMgPSBucHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgYXR0ck9wdGlvbnMgJiYgXCJcIiAhPT0gYXR0ck9wdGlvbnMgJiYgKGF0dHJPcHRpb25zID0gYXR0ck9wdGlvbnMucmVwbGFjZShuZXcgUmVnRXhwKFwiJ1wiLCBcImdcIiksICdcIicpLFxyXG4gICAgICAgIGRhdGFvcHRpb25zID0gSlNPTi5wYXJzZShcIntcIiArIGF0dHJPcHRpb25zICsgXCJ9XCIpKTtcclxuICAgICAgICBmb3IgKG9wdGlvbiBpbiBvcHRzKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhb3B0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uRGF0YSA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHAgaW4gZGF0YW9wdGlvbnMpIGlmIChwLnRvTG93ZXJDYXNlKCkgPT09IG9wdGlvbi50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRGF0YSA9IGRhdGFvcHRpb25zW3BdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGltcG9ydE9wdGlvbihvcHRpb24sIG9wdGlvbkRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlck9wdGlvbnMuYWxpYXMpIHtcclxuICAgICAgICAgICAgcmVzb2x2ZUFsaWFzKHVzZXJPcHRpb25zLmFsaWFzLCB1c2VyT3B0aW9ucywgb3B0cyk7XHJcbiAgICAgICAgICAgIGZvciAob3B0aW9uIGluIG9wdHMpIGltcG9ydE9wdGlvbihvcHRpb24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJC5leHRlbmQoITAsIG9wdHMsIHVzZXJPcHRpb25zKSwgb3B0cztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGdlbmVyYXRlTWFza1NldChvcHRzLCBub2NhY2hlKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gYW5hbHlzZU1hc2sobWFzaykge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBNYXNrVG9rZW4oaXNHcm91cCwgaXNPcHRpb25hbCwgaXNRdWFudGlmaWVyLCBpc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IFtdLCB0aGlzLmlzR3JvdXAgPSBpc0dyb3VwIHx8ICExLCB0aGlzLmlzT3B0aW9uYWwgPSBpc09wdGlvbmFsIHx8ICExLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5pc1F1YW50aWZpZXIgPSBpc1F1YW50aWZpZXIgfHwgITEsIHRoaXMuaXNBbHRlcm5hdG9yID0gaXNBbHRlcm5hdG9yIHx8ICExLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtYXg6IDFcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gaW5zZXJ0VGVzdERlZmluaXRpb24obXRva2VuLCBlbGVtZW50LCBwb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tkZWYgPSBvcHRzLmRlZmluaXRpb25zW2VsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB2b2lkIDAgIT09IHBvc2l0aW9uID8gcG9zaXRpb24gOiBtdG9rZW4ubWF0Y2hlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJldk1hdGNoID0gbXRva2VuLm1hdGNoZXNbcG9zaXRpb24gLSAxXTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXNrZGVmICYmICFlc2NhcGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFza2RlZi5wbGFjZWhvbGRlciA9ICQuaXNGdW5jdGlvbihtYXNrZGVmLnBsYWNlaG9sZGVyKSA/IG1hc2tkZWYucGxhY2Vob2xkZXIob3B0cykgOiBtYXNrZGVmLnBsYWNlaG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHByZXZhbGlkYXRvcnMgPSBtYXNrZGVmLnByZXZhbGlkYXRvciwgcHJldmFsaWRhdG9yc0wgPSBwcmV2YWxpZGF0b3JzID8gcHJldmFsaWRhdG9ycy5sZW5ndGggOiAwLCBpID0gMTsgaSA8IG1hc2tkZWYuY2FyZGluYWxpdHk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmFsaWRhdG9yID0gcHJldmFsaWRhdG9yc0wgPj0gaSA/IHByZXZhbGlkYXRvcnNbaSAtIDFdIDogW10sIHZhbGlkYXRvciA9IHByZXZhbGlkYXRvci52YWxpZGF0b3IsIGNhcmRpbmFsaXR5ID0gcHJldmFsaWRhdG9yLmNhcmRpbmFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywgMCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm46IHZhbGlkYXRvciA/IFwic3RyaW5nXCIgPT0gdHlwZW9mIHZhbGlkYXRvciA/IG5ldyBSZWdFeHAodmFsaWRhdG9yKSA6IG5ldyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0ID0gdmFsaWRhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSgpIDogbmV3IFJlZ0V4cChcIi5cIiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogY2FyZGluYWxpdHkgPyBjYXJkaW5hbGl0eSA6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogbXRva2VuLmlzT3B0aW9uYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogdm9pZCAwID09PSBwcmV2TWF0Y2ggfHwgcHJldk1hdGNoLmRlZiAhPT0gKG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbWFza2RlZi5jYXNpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWY6IG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG1hc2tkZWYucGxhY2Vob2xkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrOiBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBwcmV2TWF0Y2ggPSBtdG9rZW4ubWF0Y2hlc1twb3NpdGlvbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywgMCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbjogbWFza2RlZi52YWxpZGF0b3IgPyBcInN0cmluZ1wiID09IHR5cGVvZiBtYXNrZGVmLnZhbGlkYXRvciA/IG5ldyBSZWdFeHAobWFza2RlZi52YWxpZGF0b3IpIDogbmV3IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVzdCA9IG1hc2tkZWYudmFsaWRhdG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KCkgOiBuZXcgUmVnRXhwKFwiLlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IG1hc2tkZWYuY2FyZGluYWxpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHZvaWQgMCA9PT0gcHJldk1hdGNoIHx8IHByZXZNYXRjaC5kZWYgIT09IChtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2luZzogbWFza2RlZi5jYXNpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogbWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBtYXNrZGVmLnBsYWNlaG9sZGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrOiBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgbXRva2VuLm1hdGNoZXMuc3BsaWNlKHBvc2l0aW9uKyssIDAsIHtcclxuICAgICAgICAgICAgICAgICAgICBmbjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogbXRva2VuLmlzT3B0aW9uYWwsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3QmxvY2tNYXJrZXI6IHZvaWQgMCA9PT0gcHJldk1hdGNoIHx8IHByZXZNYXRjaC5kZWYgIT09IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZjogZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogdm9pZCAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hc2s6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgIH0pLCBlc2NhcGVkID0gITE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gdmVyaWZ5R3JvdXBNYXJrZXIobGFzdE1hdGNoLCBpc09wZW5Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgbGFzdE1hdGNoLmlzR3JvdXAgJiYgKGxhc3RNYXRjaC5pc0dyb3VwID0gITEsIGluc2VydFRlc3REZWZpbml0aW9uKGxhc3RNYXRjaCwgb3B0cy5ncm91cG1hcmtlci5zdGFydCwgMCksXHJcbiAgICAgICAgICAgICAgICBpc09wZW5Hcm91cCAhPT0gITAgJiYgaW5zZXJ0VGVzdERlZmluaXRpb24obGFzdE1hdGNoLCBvcHRzLmdyb3VwbWFya2VyLmVuZCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIG1hc2tDdXJyZW50VG9rZW4obSwgY3VycmVudFRva2VuLCBsYXN0TWF0Y2gsIGV4dHJhQ29uZGl0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggPiAwICYmICh2b2lkIDAgPT09IGV4dHJhQ29uZGl0aW9uIHx8IGV4dHJhQ29uZGl0aW9uKSAmJiAobGFzdE1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXNbY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICB2ZXJpZnlHcm91cE1hcmtlcihsYXN0TWF0Y2gpKSwgaW5zZXJ0VGVzdERlZmluaXRpb24oY3VycmVudFRva2VuLCBtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBkZWZhdWx0Q2FzZSgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSwgbWFza0N1cnJlbnRUb2tlbihtLCBjdXJyZW50T3BlbmluZ1Rva2VuLCBsYXN0TWF0Y2gsICFjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvciksXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRvciA9IG9wZW5lbmluZ3MucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgYWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDsgbW5keCsrKSBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLmxlbmd0aCA+IDAgPyAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcikpIDogY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgbWFza0N1cnJlbnRUb2tlbihtLCBjdXJyZW50VG9rZW4sIGxhc3RNYXRjaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZVRva2VucyhtYXNrVG9rZW4pIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJldmVyc2VTdGF0aWMoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3QgPT09IG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQgPyBzdCA9IG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kIDogc3QgPT09IG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kID8gc3QgPSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0IDogc3QgPT09IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQgPyBzdCA9IG9wdHMuZ3JvdXBtYXJrZXIuZW5kIDogc3QgPT09IG9wdHMuZ3JvdXBtYXJrZXIuZW5kICYmIChzdCA9IG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQpLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbWFza1Rva2VuLm1hdGNoZXMgPSBtYXNrVG9rZW4ubWF0Y2hlcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBtYXRjaCBpbiBtYXNrVG9rZW4ubWF0Y2hlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnRNYXRjaCA9IHBhcnNlSW50KG1hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdLmlzUXVhbnRpZmllciAmJiBtYXNrVG9rZW4ubWF0Y2hlc1tpbnRNYXRjaCArIDFdICYmIG1hc2tUb2tlbi5tYXRjaGVzW2ludE1hdGNoICsgMV0uaXNHcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXQgPSBtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzLnNwbGljZShtYXRjaCwgMSksIG1hc2tUb2tlbi5tYXRjaGVzLnNwbGljZShpbnRNYXRjaCArIDEsIDAsIHF0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0ubWF0Y2hlcyA/IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IHJldmVyc2VUb2tlbnMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKSA6IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXSA9IHJldmVyc2VTdGF0aWMobWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrVG9rZW47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgbWF0Y2gsIG0sIG9wZW5pbmdUb2tlbiwgY3VycmVudE9wZW5pbmdUb2tlbiwgYWx0ZXJuYXRvciwgbGFzdE1hdGNoLCBncm91cFRva2VuLCB0b2tlbml6ZXIgPSAvKD86Wz8qK118XFx7WzAtOVxcK1xcKl0rKD86LFswLTlcXCtcXCpdKik/XFx9KXxbXi4/KiteJHtbXSgpfFxcXFxdK3wuL2csIGVzY2FwZWQgPSAhMSwgY3VycmVudFRva2VuID0gbmV3IE1hc2tUb2tlbigpLCBvcGVuZW5pbmdzID0gW10sIG1hc2tUb2tlbnMgPSBbXTsgbWF0Y2ggPSB0b2tlbml6ZXIuZXhlYyhtYXNrKSA7KSBpZiAobSA9IG1hdGNoWzBdLFxyXG4gICAgICAgICAgICBlc2NhcGVkKSBkZWZhdWx0Q2FzZSgpOyBlbHNlIHN3aXRjaCAobS5jaGFyQXQoMCkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5lc2NhcGVDaGFyOlxyXG4gICAgICAgICAgICAgICAgICAgIGVzY2FwZWQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMub3B0aW9uYWxtYXJrZXIuZW5kOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLmdyb3VwbWFya2VyLmVuZDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BlbmluZ1Rva2VuID0gb3BlbmVuaW5ncy5wb3AoKSwgdm9pZCAwICE9PSBvcGVuaW5nVG9rZW4pIGlmIChvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sIGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yID0gb3BlbmVuaW5ncy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgYWx0ZXJuYXRvci5tYXRjaGVzLmxlbmd0aDsgbW5keCsrKSBhbHRlcm5hdG9yLm1hdGNoZXNbbW5keF0uaXNHcm91cCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5sZW5ndGggPiAwID8gKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSkgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKTsgZWxzZSBkZWZhdWx0Q2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5vcHRpb25hbG1hcmtlci5zdGFydDpcclxuICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMSwgITApKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZ3JvdXBtYXJrZXIuc3RhcnQ6XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5wdXNoKG5ldyBNYXNrVG9rZW4oITApKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMucXVhbnRpZmllcm1hcmtlci5zdGFydDpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbnRpZmllciA9IG5ldyBNYXNrVG9rZW4oITEsICExLCAhMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgbSA9IG0ucmVwbGFjZSgvW3t9XS9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbXEgPSBtLnNwbGl0KFwiLFwiKSwgbXEwID0gaXNOYU4obXFbMF0pID8gbXFbMF0gOiBwYXJzZUludChtcVswXSksIG1xMSA9IDEgPT09IG1xLmxlbmd0aCA/IG1xMCA6IGlzTmFOKG1xWzFdKSA/IG1xWzFdIDogcGFyc2VJbnQobXFbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgoXCIqXCIgPT09IG1xMSB8fCBcIitcIiA9PT0gbXExKSAmJiAobXEwID0gXCIqXCIgPT09IG1xMSA/IDAgOiAxKSwgcXVhbnRpZmllci5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW46IG1xMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBtcTFcclxuICAgICAgICAgICAgICAgICAgICB9LCBvcGVuZW5pbmdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoZXMgPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0ubWF0Y2hlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaGVzLnBvcCgpLCBtYXRjaC5pc0dyb3VwIHx8IChncm91cFRva2VuID0gbmV3IE1hc2tUb2tlbighMCksIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBncm91cFRva2VuKSwgbWF0Y2hlcy5wdXNoKG1hdGNoKSwgbWF0Y2hlcy5wdXNoKHF1YW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBtYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnBvcCgpLCBtYXRjaC5pc0dyb3VwIHx8IChncm91cFRva2VuID0gbmV3IE1hc2tUb2tlbighMCksXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLCBtYXRjaCA9IGdyb3VwVG9rZW4pLCBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKHF1YW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5hbHRlcm5hdG9ybWFya2VyOlxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5lbmluZ3MubGVuZ3RoID4gMCA/IChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaCA9IGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wb3AoKSkgOiBsYXN0TWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wb3AoKSxcclxuICAgICAgICAgICAgICAgICAgICBsYXN0TWF0Y2guaXNBbHRlcm5hdG9yID8gb3BlbmVuaW5ncy5wdXNoKGxhc3RNYXRjaCkgOiAoYWx0ZXJuYXRvciA9IG5ldyBNYXNrVG9rZW4oITEsICExLCAhMSwgITApLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IubWF0Y2hlcy5wdXNoKGxhc3RNYXRjaCksIG9wZW5lbmluZ3MucHVzaChhbHRlcm5hdG9yKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0Q2FzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZvciAoOyBvcGVuZW5pbmdzLmxlbmd0aCA+IDA7KSBvcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzLnBvcCgpLCB2ZXJpZnlHcm91cE1hcmtlcihvcGVuaW5nVG9rZW4sICEwKSxcclxuICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pO1xyXG4gICAgICAgICAgICByZXR1cm4gY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoID4gMCAmJiAobGFzdE1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXNbY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgIHZlcmlmeUdyb3VwTWFya2VyKGxhc3RNYXRjaCksIG1hc2tUb2tlbnMucHVzaChjdXJyZW50VG9rZW4pKSwgb3B0cy5udW1lcmljSW5wdXQgJiYgcmV2ZXJzZVRva2VucyhtYXNrVG9rZW5zWzBdKSxcclxuICAgICAgICAgICAgbWFza1Rva2VucztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2VuZXJhdGVNYXNrKG1hc2ssIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09PSBtYXNrIHx8IFwiXCIgPT09IG1hc2spIHJldHVybiB2b2lkIDA7XHJcbiAgICAgICAgICAgIGlmICgxID09PSBtYXNrLmxlbmd0aCAmJiBvcHRzLmdyZWVkeSA9PT0gITEgJiYgMCAhPT0gb3B0cy5yZXBlYXQgJiYgKG9wdHMucGxhY2Vob2xkZXIgPSBcIlwiKSxcclxuICAgICAgICAgICAgb3B0cy5yZXBlYXQgPiAwIHx8IFwiKlwiID09PSBvcHRzLnJlcGVhdCB8fCBcIitcIiA9PT0gb3B0cy5yZXBlYXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXBlYXRTdGFydCA9IFwiKlwiID09PSBvcHRzLnJlcGVhdCA/IDAgOiBcIitcIiA9PT0gb3B0cy5yZXBlYXQgPyAxIDogb3B0cy5yZXBlYXQ7XHJcbiAgICAgICAgICAgICAgICBtYXNrID0gb3B0cy5ncm91cG1hcmtlci5zdGFydCArIG1hc2sgKyBvcHRzLmdyb3VwbWFya2VyLmVuZCArIG9wdHMucXVhbnRpZmllcm1hcmtlci5zdGFydCArIHJlcGVhdFN0YXJ0ICsgXCIsXCIgKyBvcHRzLnJlcGVhdCArIG9wdHMucXVhbnRpZmllcm1hcmtlci5lbmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIG1hc2tzZXREZWZpbml0aW9uO1xyXG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbbWFza10gfHwgbm9jYWNoZSA9PT0gITAgPyAobWFza3NldERlZmluaXRpb24gPSB7XHJcbiAgICAgICAgICAgICAgICBtYXNrOiBtYXNrLFxyXG4gICAgICAgICAgICAgICAgbWFza1Rva2VuOiBhbmFseXNlTWFzayhtYXNrKSxcclxuICAgICAgICAgICAgICAgIHZhbGlkUG9zaXRpb25zOiB7fSxcclxuICAgICAgICAgICAgICAgIF9idWZmZXI6IHZvaWQgMCxcclxuICAgICAgICAgICAgICAgIGJ1ZmZlcjogdm9pZCAwLFxyXG4gICAgICAgICAgICAgICAgdGVzdHM6IHt9LFxyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1ldGFkYXRhXHJcbiAgICAgICAgICAgIH0sIG5vY2FjaGUgIT09ICEwICYmIChJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbb3B0cy5udW1lcmljSW5wdXQgPyBtYXNrLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogbWFza10gPSBtYXNrc2V0RGVmaW5pdGlvbixcclxuICAgICAgICAgICAgbWFza3NldERlZmluaXRpb24gPSAkLmV4dGVuZCghMCwge30sIElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVtvcHRzLm51bWVyaWNJbnB1dCA/IG1hc2suc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBtYXNrXSkpKSA6IG1hc2tzZXREZWZpbml0aW9uID0gJC5leHRlbmQoITAsIHt9LCBJbnB1dG1hc2sucHJvdG90eXBlLm1hc2tzQ2FjaGVbb3B0cy5udW1lcmljSW5wdXQgPyBtYXNrLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogbWFza10pLFxyXG4gICAgICAgICAgICBtYXNrc2V0RGVmaW5pdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcHJlUHJvY2Vzc01hc2sobWFzaykge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFzayA9IG1hc2sudG9TdHJpbmcoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG1zO1xyXG4gICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5tYXNrKSAmJiAob3B0cy5tYXNrID0gb3B0cy5tYXNrKG9wdHMpKSwgJC5pc0FycmF5KG9wdHMubWFzaykpIHtcclxuICAgICAgICAgICAgaWYgKG9wdHMubWFzay5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmtlZXBTdGF0aWMgPSBudWxsID09PSBvcHRzLmtlZXBTdGF0aWMgPyAhMCA6IG9wdHMua2VlcFN0YXRpYztcclxuICAgICAgICAgICAgICAgIHZhciBhbHRNYXNrID0gXCIoXCI7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5lYWNoKG9wdHMubnVtZXJpY0lucHV0ID8gb3B0cy5tYXNrLnJldmVyc2UoKSA6IG9wdHMubWFzaywgZnVuY3Rpb24gKG5keCwgbXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWx0TWFzay5sZW5ndGggPiAxICYmIChhbHRNYXNrICs9IFwiKXwoXCIpLCBhbHRNYXNrICs9IHByZVByb2Nlc3NNYXNrKHZvaWQgMCA9PT0gbXNrLm1hc2sgfHwgJC5pc0Z1bmN0aW9uKG1zay5tYXNrKSA/IG1zayA6IG1zay5tYXNrKTtcclxuICAgICAgICAgICAgICAgIH0pLCBhbHRNYXNrICs9IFwiKVwiLCBnZW5lcmF0ZU1hc2soYWx0TWFzaywgb3B0cy5tYXNrKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcHRzLm1hc2sgPSBvcHRzLm1hc2sucG9wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBvcHRzLm1hc2sgJiYgKG1zID0gdm9pZCAwID09PSBvcHRzLm1hc2subWFzayB8fCAkLmlzRnVuY3Rpb24ob3B0cy5tYXNrLm1hc2spID8gZ2VuZXJhdGVNYXNrKHByZVByb2Nlc3NNYXNrKG9wdHMubWFzayksIG9wdHMubWFzaykgOiBnZW5lcmF0ZU1hc2socHJlUHJvY2Vzc01hc2sob3B0cy5tYXNrLm1hc2spLCBvcHRzLm1hc2spKSxcclxuICAgICAgICBtcztcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG1hc2tTY29wZShhY3Rpb25PYmosIG1hc2tzZXQsIG9wdHMpIHtcclxuICAgICAgICBmdW5jdGlvbiBnZXRNYXNrVGVtcGxhdGUoYmFzZU9uSW5wdXQsIG1pbmltYWxQb3MsIGluY2x1ZGVJbnB1dCkge1xyXG4gICAgICAgICAgICBtaW5pbWFsUG9zID0gbWluaW1hbFBvcyB8fCAwO1xyXG4gICAgICAgICAgICB2YXIgbmR4SW50bHpyLCB0ZXN0LCB0ZXN0UG9zLCBtYXNrVGVtcGxhdGUgPSBbXSwgcG9zID0gMDtcclxuICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGJhc2VPbklucHV0ID09PSAhMCAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRlc3QgPSB2YWxpZFBvcy5tYXRjaCwgbmR4SW50bHpyID0gdmFsaWRQb3MubG9jYXRvci5zbGljZSgpLCBtYXNrVGVtcGxhdGUucHVzaChpbmNsdWRlSW5wdXQgPT09ICEwID8gdmFsaWRQb3MuaW5wdXQgOiBnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3QpKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKSwgdGVzdCA9IHRlc3RQb3MubWF0Y2gsXHJcbiAgICAgICAgICAgICAgICBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSwgbWFza1RlbXBsYXRlLnB1c2goZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSk7XHJcbiAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgfSB3aGlsZSAoKHZvaWQgMCA9PT0gbWF4TGVuZ3RoIHx8IG1heExlbmd0aCA+IHBvcyAtIDEpICYmIG51bGwgIT09IHRlc3QuZm4gfHwgbnVsbCA9PT0gdGVzdC5mbiAmJiBcIlwiICE9PSB0ZXN0LmRlZiB8fCBtaW5pbWFsUG9zID49IHBvcyk7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrVGVtcGxhdGUucG9wKCksIG1hc2tUZW1wbGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TWFza1NldCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0TWFza1NldChzb2Z0KSB7XHJcbiAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2V0TWFza1NldCgpO1xyXG4gICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlciA9IHZvaWQgMCwgbWFza3NldC50ZXN0cyA9IHt9LCBzb2Z0ICE9PSAhMCAmJiAobWFza3NldC5fYnVmZmVyID0gdm9pZCAwLFxyXG4gICAgICAgICAgICBtYXNrc2V0LnZhbGlkUG9zaXRpb25zID0ge30sIG1hc2tzZXQucCA9IDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRMYXN0VmFsaWRQb3NpdGlvbihjbG9zZXN0VG8sIHN0cmljdCkge1xyXG4gICAgICAgICAgICB2YXIgbWFza3NldCA9IGdldE1hc2tTZXQoKSwgbGFzdFZhbGlkUG9zaXRpb24gPSAtMSwgdmFsaWRzID0gbWFza3NldC52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgdm9pZCAwID09PSBjbG9zZXN0VG8gJiYgKGNsb3Nlc3RUbyA9IC0xKTtcclxuICAgICAgICAgICAgdmFyIGJlZm9yZSA9IGxhc3RWYWxpZFBvc2l0aW9uLCBhZnRlciA9IGxhc3RWYWxpZFBvc2l0aW9uO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwb3NOZHggaW4gdmFsaWRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHNOZHggPSBwYXJzZUludChwb3NOZHgpO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRzW3BzTmR4XSAmJiAoc3RyaWN0IHx8IG51bGwgIT09IHZhbGlkc1twc05keF0ubWF0Y2guZm4pICYmIChjbG9zZXN0VG8gPj0gcHNOZHggJiYgKGJlZm9yZSA9IHBzTmR4KSxcclxuICAgICAgICAgICAgICAgIHBzTmR4ID49IGNsb3Nlc3RUbyAmJiAoYWZ0ZXIgPSBwc05keCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBsYXN0VmFsaWRQb3NpdGlvbiA9IC0xICE9PSBiZWZvcmUgJiYgY2xvc2VzdFRvIC0gYmVmb3JlID4gMSB8fCBjbG9zZXN0VG8gPiBhZnRlciA/IGJlZm9yZSA6IGFmdGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZXRWYWxpZFBvc2l0aW9uKHBvcywgdmFsaWRUZXN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgaWYgKG9wdHMuaW5zZXJ0TW9kZSAmJiB2b2lkIDAgIT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdICYmIHZvaWQgMCA9PT0gZnJvbVNldFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyksIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBwb3M7IGx2cCA+PSBpOyBpKyspIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA9IHZhbGlkVGVzdDtcclxuICAgICAgICAgICAgICAgIHZhciBqLCB2YWxpZCA9ICEwLCB2cHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSBqID0gcG9zOyBsdnAgPj0gaTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSBwb3NpdGlvbnNDbG9uZVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSB0KSBmb3IgKHZhciBwb3NNYXRjaCA9IGosIHByZXZQb3NNYXRjaCA9IC0xOyBwb3NNYXRjaCA8IGdldE1hc2tMZW5ndGgoKSAmJiAobnVsbCA9PSB0Lm1hdGNoLmZuICYmIHZwc1tpXSAmJiAodnBzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciA9PT0gITAgfHwgdnBzW2ldLm1hdGNoLm9wdGlvbmFsaXR5ID09PSAhMCkgfHwgbnVsbCAhPSB0Lm1hdGNoLmZuKSA7KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09PSB0Lm1hdGNoLmZuIHx8ICFvcHRzLmtlZXBTdGF0aWMgJiYgdnBzW2ldICYmICh2b2lkIDAgIT09IHZwc1tpICsgMV0gJiYgZ2V0VGVzdHMoaSArIDEsIHZwc1tpXS5sb2NhdG9yLnNsaWNlKCksIGkpLmxlbmd0aCA+IDEgfHwgdm9pZCAwICE9PSB2cHNbaV0uYWx0ZXJuYXRpb24pID8gcG9zTWF0Y2grKyA6IHBvc01hdGNoID0gc2Vla05leHQoaiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHBvc01hdGNoLCB0Lm1hdGNoLmRlZikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gaXNWYWxpZChwb3NNYXRjaCwgdC5pbnB1dCwgITAsICEwKSAhPT0gITEsIGogPSBwb3NNYXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCA9IG51bGwgPT0gdC5tYXRjaC5mbiwgcHJldlBvc01hdGNoID09PSBwb3NNYXRjaCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZQb3NNYXRjaCA9IHBvc01hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkKSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIHJldHVybiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHBvc2l0aW9uc0Nsb25lKSxcclxuICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksICExO1xyXG4gICAgICAgICAgICB9IGVsc2UgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gPSB2YWxpZFRlc3Q7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNldE1hc2tTZXQoITApLCAhMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RyaXBWYWxpZFBvc2l0aW9ucyhzdGFydCwgZW5kLCBub2NoZWNrLCBzdHJpY3QpIHtcclxuICAgICAgICAgICAgdmFyIGksIHN0YXJ0UG9zID0gc3RhcnQ7XHJcbiAgICAgICAgICAgIGZvciAoZ2V0TWFza1NldCgpLnAgPSBzdGFydCwgaSA9IHN0YXJ0UG9zOyBlbmQgPiBpOyBpKyspIHZvaWQgMCAhPT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldICYmIChub2NoZWNrID09PSAhMCB8fCBvcHRzLmNhbkNsZWFyUG9zaXRpb24oZ2V0TWFza1NldCgpLCBpLCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBzdHJpY3QsIG9wdHMpICE9PSAhMSkgJiYgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXTtcclxuICAgICAgICAgICAgZm9yIChpID0gc3RhcnRQb3MgKyAxOyBpIDw9IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgOykge1xyXG4gICAgICAgICAgICAgICAgZm9yICg7IHZvaWQgMCAhPT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3N0YXJ0UG9zXTspIHN0YXJ0UG9zKys7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzdGFydFBvc107XHJcbiAgICAgICAgICAgICAgICBpZiAoc3RhcnRQb3MgPiBpICYmIChpID0gc3RhcnRQb3MgKyAxKSwgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gJiYgaXNNYXNrKGkpIHx8IHZvaWQgMCAhPT0gcykgaSsrOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IGdldFRlc3RUZW1wbGF0ZShpKTtcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihzdGFydFBvcywgdC5tYXRjaC5kZWYpID8gaXNWYWxpZChzdGFydFBvcywgdC5pbnB1dCB8fCBnZXRQbGFjZWhvbGRlcihpKSwgITApICE9PSAhMSAmJiAoZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICBpKyspIDogaXNNYXNrKGkpIHx8IChpKyssIHN0YXJ0UG9zLS0pLCBzdGFydFBvcysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBtbCA9IGdldE1hc2tMZW5ndGgoKTtcclxuICAgICAgICAgICAgZm9yIChzdHJpY3QgIT09ICEwICYmIG5vY2hlY2sgIT09ICEwICYmIHZvaWQgMCAhPT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0gJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0uaW5wdXQgPT09IG9wdHMucmFkaXhQb2ludCAmJiBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0sXHJcbiAgICAgICAgICAgIGkgPSBsdnAgKyAxOyBtbCA+PSBpOyBpKyspIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSAmJiBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICByZXNldE1hc2tTZXQoITApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHRzdFBzKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc107XHJcbiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IHRlc3RQb3MpIGZvciAodmFyIHRlc3RQb3NpdGlvbnMgPSBnZXRUZXN0cyhwb3MsIG5keEludGx6ciwgdHN0UHMpLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSB8fCBnZXRUZXN0cygwKVswXSwgbHZUZXN0QWx0QXJyID0gdm9pZCAwICE9PSBsdlRlc3QuYWx0ZXJuYXRpb24gPyBsdlRlc3QubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpIDogW10sIG5keCA9IDA7IG5keCA8IHRlc3RQb3NpdGlvbnMubGVuZ3RoICYmICh0ZXN0UG9zID0gdGVzdFBvc2l0aW9uc1tuZHhdLFxyXG4gICAgICAgICAgICAhKHRlc3RQb3MubWF0Y2ggJiYgKG9wdHMuZ3JlZWR5ICYmIHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICE9PSAhMCB8fCAodGVzdFBvcy5tYXRjaC5vcHRpb25hbGl0eSA9PT0gITEgfHwgdGVzdFBvcy5tYXRjaC5uZXdCbG9ja01hcmtlciA9PT0gITEpICYmIHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyICE9PSAhMCkgJiYgKHZvaWQgMCA9PT0gbHZUZXN0LmFsdGVybmF0aW9uIHx8IGx2VGVzdC5hbHRlcm5hdGlvbiAhPT0gdGVzdFBvcy5hbHRlcm5hdGlvbiB8fCB2b2lkIDAgIT09IHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dICYmIGNoZWNrQWx0ZXJuYXRpb25NYXRjaCh0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwgbHZUZXN0QWx0QXJyKSkpKSA7IG5keCsrKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRlc3RQb3M7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRlc3QocG9zKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA/IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdLm1hdGNoIDogZ2V0VGVzdHMocG9zKVswXS5tYXRjaDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24ocG9zLCBkZWYpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgdmFsaWQgPSAhMSwgdGVzdHMgPSBnZXRUZXN0cyhwb3MpLCB0bmR4ID0gMDsgdG5keCA8IHRlc3RzLmxlbmd0aDsgdG5keCsrKSBpZiAodGVzdHNbdG5keF0ubWF0Y2ggJiYgdGVzdHNbdG5keF0ubWF0Y2guZGVmID09PSBkZWYpIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkID0gITA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRlc3RzKHBvcywgbmR4SW50bHpyLCB0c3RQcywgY2FjaGVhYmxlKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHJlc29sdmVUZXN0RnJvbVRva2VuKG1hc2tUb2tlbiwgbmR4SW5pdGlhbGl6ZXIsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGVNYXRjaChtYXRjaCwgbG9vcE5keCwgcXVhbnRpZmllclJlY3Vyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGVzdFBvcyA+IDFlNCkgdGhyb3cgXCJJbnB1dG1hc2s6IFRoZXJlIGlzIHByb2JhYmx5IGFuIGVycm9yIGluIHlvdXIgbWFzayBkZWZpbml0aW9uIG9yIGluIHRoZSBjb2RlLiBDcmVhdGUgYW4gaXNzdWUgb24gZ2l0aHViIHdpdGggYW4gZXhhbXBsZSBvZiB0aGUgbWFzayB5b3UgYXJlIHVzaW5nLiBcIiArIGdldE1hc2tTZXQoKS5tYXNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9zID09PSBwb3MgJiYgdm9pZCAwID09PSBtYXRjaC5tYXRjaGVzKSByZXR1cm4gbWF0Y2hlcy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IG1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2NhdG9yOiBsb29wTmR4LnJldmVyc2UoKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pLCAhMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBtYXRjaC5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaC5pc0dyb3VwICYmIHF1YW50aWZpZXJSZWN1cnNlICE9PSBtYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gaGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KG1hdGNoLCBtYXNrVG9rZW4ubWF0Y2hlcykgKyAxXSwgbG9vcE5keCkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXRjaC5pc09wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uYWxUb2tlbiA9IG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobGF0ZXN0TWF0Y2ggPSBtYXRjaGVzW21hdGNoZXMubGVuZ3RoIC0gMV0ubWF0Y2gsIGlzRmlyc3RNYXRjaCA9IDAgPT09ICQuaW5BcnJheShsYXRlc3RNYXRjaCwgb3B0aW9uYWxUb2tlbi5tYXRjaGVzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhaXNGaXJzdE1hdGNoKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0U3RvcCA9ICEwLCB0ZXN0UG9zID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmlzQWx0ZXJuYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hbHRNYXRjaGVzLCBhbHRlcm5hdGVUb2tlbiA9IG1hdGNoLCBtYWx0ZXJuYXRlTWF0Y2hlcyA9IFtdLCBjdXJyZW50TWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoKSwgbG9vcE5keENudCA9IGxvb3BOZHgubGVuZ3RoLCBhbHRJbmRleCA9IG5keEluaXRpYWxpemVyLmxlbmd0aCA+IDAgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgPT09IGFsdEluZGV4IHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGFsdEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRQb3MgPSB0ZXN0UG9zLCBuZHhJbml0aWFsaXplckNsb25lID0gbmR4SW5pdGlhbGl6ZXIuc2xpY2UoKSwgYWx0SW5kZXhBcnIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09IHR5cGVvZiBhbHRJbmRleCAmJiAoYWx0SW5kZXhBcnIgPSBhbHRJbmRleC5zcGxpdChcIixcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFtbmR4ID0gMDsgYW1uZHggPCBhbHRlcm5hdGVUb2tlbi5tYXRjaGVzLmxlbmd0aDsgYW1uZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hlcyA9IFtdLCBtYXRjaCA9IGhhbmRsZU1hdGNoKGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYW1uZHhdLCBbYW1uZHhdLmNvbmNhdChsb29wTmR4KSwgcXVhbnRpZmllclJlY3Vyc2UpIHx8IG1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCAhPT0gITAgJiYgdm9pZCAwICE9PSBtYXRjaCAmJiBhbHRJbmRleEFyclthbHRJbmRleEFyci5sZW5ndGggLSAxXSA8IGFsdGVybmF0ZVRva2VuLm1hdGNoZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbnRuZHggPSBtYXNrVG9rZW4ubWF0Y2hlcy5pbmRleE9mKG1hdGNoKSArIDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcy5sZW5ndGggPiBudG5keCAmJiAobWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1tudG5keF0sIFtudG5keF0uY29uY2F0KGxvb3BOZHguc2xpY2UoMSwgbG9vcE5keC5sZW5ndGgpKSwgcXVhbnRpZmllclJlY3Vyc2UpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggJiYgKGFsdEluZGV4QXJyLnB1c2gobnRuZHgudG9TdHJpbmcoKSksICQuZWFjaChtYXRjaGVzLCBmdW5jdGlvbiAobmR4LCBsbW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5hbHRlcm5hdGlvbiA9IGxvb3BOZHgubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsdE1hdGNoZXMgPSBtYXRjaGVzLnNsaWNlKCksIHRlc3RQb3MgPSBjdXJyZW50UG9zLCBtYXRjaGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmR4SW5pdGlhbGl6ZXJDbG9uZS5sZW5ndGg7IGkrKykgbmR4SW5pdGlhbGl6ZXJbaV0gPSBuZHhJbml0aWFsaXplckNsb25lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBuZHgxID0gMDsgbmR4MSA8IG1hbHRNYXRjaGVzLmxlbmd0aDsgbmR4MSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0TWF0Y2ggPSBtYWx0TWF0Y2hlc1tuZHgxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE1hdGNoLmFsdGVybmF0aW9uID0gYWx0TWF0Y2guYWx0ZXJuYXRpb24gfHwgbG9vcE5keENudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5keDIgPSAwOyBuZHgyIDwgbWFsdGVybmF0ZU1hdGNoZXMubGVuZ3RoOyBuZHgyKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWx0TWF0Y2gyID0gbWFsdGVybmF0ZU1hdGNoZXNbbmR4Ml07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFsdE1hdGNoLm1hdGNoLm1hc2sgPT09IGFsdE1hdGNoMi5tYXRjaC5tYXNrICYmIChcInN0cmluZ1wiICE9IHR5cGVvZiBhbHRJbmRleCB8fCAtMSAhPT0gJC5pbkFycmF5KGFsdE1hdGNoLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCksIGFsdEluZGV4QXJyKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsdE1hdGNoZXMuc3BsaWNlKG5keDEsIDEpLCBuZHgxLS0sIGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSA9IGFsdE1hdGNoMi5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSArIFwiLFwiICsgYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdE1hdGNoMi5hbHRlcm5hdGlvbiA9IGFsdE1hdGNoLmFsdGVybmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFsdGVybmF0ZU1hdGNoZXMgPSBtYWx0ZXJuYXRlTWF0Y2hlcy5jb25jYXQobWFsdE1hdGNoZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0cmluZ1wiID09IHR5cGVvZiBhbHRJbmRleCAmJiAobWFsdGVybmF0ZU1hdGNoZXMgPSAkLm1hcChtYWx0ZXJuYXRlTWF0Y2hlcywgZnVuY3Rpb24gKGxtbnQsIG5keCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUobmR4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hbWF0Y2gsIGFsdGVybmF0aW9uID0gbG1udC5hbHRlcm5hdGlvbiwgYWx0TG9jQXJyID0gbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPSB2b2lkIDAsIGxtbnQuYWx0ZXJuYXRpb24gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhbG5keCA9IDA7IGFsbmR4IDwgYWx0TG9jQXJyLmxlbmd0aDsgYWxuZHgrKykgbWFtYXRjaCA9IC0xICE9PSAkLmluQXJyYXkoYWx0TG9jQXJyW2FsbmR4XSwgYWx0SW5kZXhBcnIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFtYXRjaCAmJiAodm9pZCAwICE9PSBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dID8gKGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gKz0gXCIsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dICs9IGFsdExvY0FyclthbG5keF0pIDogbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSA9IHBhcnNlSW50KGFsdExvY0FyclthbG5keF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5hbHRlcm5hdGlvbiA9IGFsdGVybmF0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0pIHJldHVybiBsbW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCBtYXRjaGVzID0gY3VycmVudE1hdGNoZXMuY29uY2F0KG1hbHRlcm5hdGVNYXRjaGVzKSwgdGVzdFBvcyA9IHBvcywgaW5zZXJ0U3RvcCA9IG1hdGNoZXMubGVuZ3RoID4gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBtYXRjaCA9IGFsdGVybmF0ZVRva2VuLm1hdGNoZXNbYWx0SW5kZXhdID8gaGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbHRJbmRleF0sIFthbHRJbmRleF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSkgOiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmlzUXVhbnRpZmllciAmJiBxdWFudGlmaWVyUmVjdXJzZSAhPT0gbWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KG1hdGNoLCBtYXNrVG9rZW4ubWF0Y2hlcykgLSAxXSkgZm9yICh2YXIgcXQgPSBtYXRjaCwgcW5keCA9IG5keEluaXRpYWxpemVyLmxlbmd0aCA+IDAgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogMDsgcW5keCA8IChpc05hTihxdC5xdWFudGlmaWVyLm1heCkgPyBxbmR4ICsgMSA6IHF0LnF1YW50aWZpZXIubWF4KSAmJiBwb3MgPj0gdGVzdFBvczsgcW5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9rZW5Hcm91cCA9IG1hc2tUb2tlbi5tYXRjaGVzWyQuaW5BcnJheShxdCwgbWFza1Rva2VuLm1hdGNoZXMpIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPSBoYW5kbGVNYXRjaCh0b2tlbkdyb3VwLCBbcW5keF0uY29uY2F0KGxvb3BOZHgpLCB0b2tlbkdyb3VwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5tYXRjaCwgbGF0ZXN0TWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyID0gcW5keCA+IHF0LnF1YW50aWZpZXIubWluIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0TWF0Y2ggPSAwID09PSAkLmluQXJyYXkobGF0ZXN0TWF0Y2gsIHRva2VuR3JvdXAubWF0Y2hlcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHFuZHggPiBxdC5xdWFudGlmaWVyLm1pbiAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydFN0b3AgPSAhMCwgdGVzdFBvcyA9IHBvcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWF0Y2gsIG5keEluaXRpYWxpemVyLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgdGVzdFBvcysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdG5keCA9IG5keEluaXRpYWxpemVyLmxlbmd0aCA+IDAgPyBuZHhJbml0aWFsaXplci5zaGlmdCgpIDogMDsgdG5keCA8IG1hc2tUb2tlbi5tYXRjaGVzLmxlbmd0aDsgdG5keCsrKSBpZiAobWFza1Rva2VuLm1hdGNoZXNbdG5keF0uaXNRdWFudGlmaWVyICE9PSAhMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCA9IGhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW3RuZHhdLCBbdG5keF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIHRlc3RQb3MgPT09IHBvcykgcmV0dXJuIG1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9zID4gcG9zKSBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGF0ZXN0TWF0Y2gsIGlzRmlyc3RNYXRjaCwgbWFza1Rva2VucyA9IGdldE1hc2tTZXQoKS5tYXNrVG9rZW4sIHRlc3RQb3MgPSBuZHhJbnRsenIgPyB0c3RQcyA6IDAsIG5keEluaXRpYWxpemVyID0gbmR4SW50bHpyIHx8IFswXSwgbWF0Y2hlcyA9IFtdLCBpbnNlcnRTdG9wID0gITE7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZWFibGUgPT09ICEwICYmIGdldE1hc2tTZXQoKS50ZXN0c1twb3NdKSByZXR1cm4gZ2V0TWFza1NldCgpLnRlc3RzW3Bvc107XHJcbiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IG5keEludGx6cikge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgdGVzdCwgcHJldmlvdXNQb3MgPSBwb3MgLSAxOyB2b2lkIDAgPT09ICh0ZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3ByZXZpb3VzUG9zXSkgJiYgcHJldmlvdXNQb3MgPiAtMSAmJiAoIWdldE1hc2tTZXQoKS50ZXN0c1twcmV2aW91c1Bvc10gfHwgdm9pZCAwID09PSAodGVzdCA9IGdldE1hc2tTZXQoKS50ZXN0c1twcmV2aW91c1Bvc11bMF0pKSA7KSBwcmV2aW91c1Bvcy0tO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSB0ZXN0ICYmIHByZXZpb3VzUG9zID4gLTEgJiYgKHRlc3RQb3MgPSBwcmV2aW91c1BvcywgbmR4SW5pdGlhbGl6ZXIgPSB0ZXN0LmxvY2F0b3Iuc2xpY2UoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICh2YXIgbXRuZHggPSBuZHhJbml0aWFsaXplci5zaGlmdCgpIDsgbXRuZHggPCBtYXNrVG9rZW5zLmxlbmd0aDsgbXRuZHgrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2Vuc1ttdG5keF0sIG5keEluaXRpYWxpemVyLCBbbXRuZHhdKTtcclxuICAgICAgICAgICAgICAgIGlmIChtYXRjaCAmJiB0ZXN0UG9zID09PSBwb3MgfHwgdGVzdFBvcyA+IHBvcykgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICgwID09PSBtYXRjaGVzLmxlbmd0aCB8fCBpbnNlcnRTdG9wKSAmJiBtYXRjaGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgbWF0Y2g6IHtcclxuICAgICAgICAgICAgICAgICAgICBmbjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbGl0eTogITAsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlZjogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGxvY2F0b3I6IFtdXHJcbiAgICAgICAgICAgIH0pLCBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXSA9ICQuZXh0ZW5kKCEwLCBbXSwgbWF0Y2hlcyksIGdldE1hc2tTZXQoKS50ZXN0c1twb3NdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRCdWZmZXJUZW1wbGF0ZSgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLl9idWZmZXIgJiYgKGdldE1hc2tTZXQoKS5fYnVmZmVyID0gZ2V0TWFza1RlbXBsYXRlKCExLCAxKSksXHJcbiAgICAgICAgICAgIGdldE1hc2tTZXQoKS5fYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRCdWZmZXIobm9DYWNoZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLmJ1ZmZlciB8fCBub0NhY2hlID09PSAhMCkgJiYgKG5vQ2FjaGUgPT09ICEwICYmIChnZXRNYXNrU2V0KCkudGVzdCA9IHt9KSxcclxuICAgICAgICAgICAgZ2V0TWFza1NldCgpLmJ1ZmZlciA9IGdldE1hc2tUZW1wbGF0ZSghMCwgZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgITApKSwgZ2V0TWFza1NldCgpLmJ1ZmZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaEZyb21CdWZmZXIoc3RhcnQsIGVuZCwgYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIHZhciBpO1xyXG4gICAgICAgICAgICBpZiAoYnVmZmVyID0gYnVmZmVyLCBzdGFydCA9PT0gITApIHJlc2V0TWFza1NldCgpLCBzdGFydCA9IDAsIGVuZCA9IGJ1ZmZlci5sZW5ndGg7IGVsc2UgZm9yIChpID0gc3RhcnQ7IGVuZCA+IGk7IGkrKykgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAgICAgZGVsZXRlIGdldE1hc2tTZXQoKS50ZXN0c1tpXTtcclxuICAgICAgICAgICAgZm9yIChpID0gc3RhcnQ7IGVuZCA+IGk7IGkrKykgcmVzZXRNYXNrU2V0KCEwKSwgYnVmZmVyW2ldICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgaXNWYWxpZChpLCBidWZmZXJbaV0sICEwLCAhMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNhc2luZyhlbGVtLCB0ZXN0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAodGVzdC5jYXNpbmcpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJ1cHBlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBcImxvd2VyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0udG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tBbHRlcm5hdGlvbk1hdGNoKGFsdEFycjEsIGFsdEFycjIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgYWx0QXJyQyA9IG9wdHMuZ3JlZWR5ID8gYWx0QXJyMiA6IGFsdEFycjIuc2xpY2UoMCwgMSksIGlzTWF0Y2ggPSAhMSwgYWxuZHggPSAwOyBhbG5keCA8IGFsdEFycjEubGVuZ3RoOyBhbG5keCsrKSBpZiAoLTEgIT09ICQuaW5BcnJheShhbHRBcnIxW2FsbmR4XSwgYWx0QXJyQykpIHtcclxuICAgICAgICAgICAgICAgIGlzTWF0Y2ggPSAhMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpc01hdGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc1ZhbGlkKHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gX2lzVmFsaWQocG9zaXRpb24sIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcnNsdCA9ICExO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuZWFjaChnZXRUZXN0cyhwb3NpdGlvbiksIGZ1bmN0aW9uIChuZHgsIHRzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHRlc3QgPSB0c3QubWF0Y2gsIGxvb3BlbmQgPSBjID8gMSA6IDAsIGNocnMgPSBcIlwiLCBpID0gdGVzdC5jYXJkaW5hbGl0eTsgaSA+IGxvb3BlbmQ7IGktLSkgY2hycyArPSBnZXRCdWZmZXJFbGVtZW50KHBvc2l0aW9uIC0gKGkgLSAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGMgJiYgKGNocnMgKz0gYyksIGdldEJ1ZmZlcighMCksIHJzbHQgPSBudWxsICE9IHRlc3QuZm4gPyB0ZXN0LmZuLnRlc3QoY2hycywgZ2V0TWFza1NldCgpLCBwb3NpdGlvbiwgc3RyaWN0LCBvcHRzKSA6IGMgIT09IHRlc3QuZGVmICYmIGMgIT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciB8fCBcIlwiID09PSB0ZXN0LmRlZiA/ICExIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiB0ZXN0LmRlZixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NpdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIHJzbHQgIT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbGVtID0gdm9pZCAwICE9PSByc2x0LmMgPyByc2x0LmMgOiBjO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbSA9PT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyICYmIG51bGwgPT09IHRlc3QuZm4gPyB0ZXN0LmRlZiA6IGVsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZGF0ZWRQb3MgPSBwb3NpdGlvbiwgcG9zc2libGVNb2RpZmllZEJ1ZmZlciA9IGdldEJ1ZmZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSByc2x0LnJlbW92ZSAmJiAoJC5pc0FycmF5KHJzbHQucmVtb3ZlKSB8fCAocnNsdC5yZW1vdmUgPSBbcnNsdC5yZW1vdmVdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHJzbHQucmVtb3ZlLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiIC0gYTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmlwVmFsaWRQb3NpdGlvbnMobG1udCwgbG1udCArIDEsICEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCB2b2lkIDAgIT09IHJzbHQuaW5zZXJ0ICYmICgkLmlzQXJyYXkocnNsdC5pbnNlcnQpIHx8IChyc2x0Lmluc2VydCA9IFtyc2x0Lmluc2VydF0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocnNsdC5pbnNlcnQuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEgLSBiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZChsbW50LnBvcywgbG1udC5jLCAhMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSwgcnNsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSByc2x0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0cmljdCA9ICEwLCByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSAhMCA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcG9zc2libGVNb2RpZmllZEJ1ZmZlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IHJzbHQucG9zICYmIHZvaWQgMCA9PT0gcnNsdC5jKSByZXR1cm4gcnNsdC5wb3MgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGVkUG9zID0gdm9pZCAwICE9PSByc2x0LnBvcyA/IHJzbHQucG9zIDogcG9zaXRpb24sIHZhbGlkYXRlZFBvcyAhPT0gcG9zaXRpb24pIHJldHVybiByc2x0ID0gJC5leHRlbmQocnNsdCwgaXNWYWxpZCh2YWxpZGF0ZWRQb3MsIGVsZW0sICEwKSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyc2x0ICE9PSAhMCAmJiB2b2lkIDAgIT09IHJzbHQucG9zICYmIHJzbHQucG9zICE9PSBwb3NpdGlvbiAmJiAodmFsaWRhdGVkUG9zID0gcnNsdC5wb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHBvc2l0aW9uLCB2YWxpZGF0ZWRQb3MsIGdldEJ1ZmZlcigpLnNsaWNlKCkpLCB2YWxpZGF0ZWRQb3MgIT09IHBvc2l0aW9uKSkgcmV0dXJuIHJzbHQgPSAkLmV4dGVuZChyc2x0LCBpc1ZhbGlkKHZhbGlkYXRlZFBvcywgZWxlbSwgITApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByc2x0ICE9PSAhMCAmJiB2b2lkIDAgPT09IHJzbHQucG9zICYmIHZvaWQgMCA9PT0gcnNsdC5jID8gITEgOiAobmR4ID4gMCAmJiByZXNldE1hc2tTZXQoITApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRWYWxpZFBvc2l0aW9uKHZhbGlkYXRlZFBvcywgJC5leHRlbmQoe30sIHRzdCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGNhc2luZyhlbGVtLCB0ZXN0KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnJvbVNldFZhbGlkKSB8fCAocnNsdCA9ICExKSwgITEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLCByc2x0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFsdGVybmF0ZShwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBsYXN0QWx0LCBhbHRlcm5hdGlvbiwgaXNWYWxpZFJzbHQsIGFsdFBvcywgaSwgdmFsaWRQb3MsIHZhbGlkUHNDbG9uZSA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSwgbEFsdCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgOyBsQWx0ID49IDAgJiYgKGFsdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsQWx0XSxcclxuICAgICAgICAgICAgICAgICFhbHRQb3MgfHwgdm9pZCAwID09PSBhbHRQb3MuYWx0ZXJuYXRpb24gfHwgKGxhc3RBbHQgPSBsQWx0LCBhbHRlcm5hdGlvbiA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XS5hbHRlcm5hdGlvbixcclxuICAgICAgICAgICAgICAgIGdldFRlc3RUZW1wbGF0ZShsYXN0QWx0KS5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0gPT09IGFsdFBvcy5sb2NhdG9yW2FsdFBvcy5hbHRlcm5hdGlvbl0pKSA7IGxBbHQtLSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodm9pZCAwICE9PSBhbHRlcm5hdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RBbHQgPSBwYXJzZUludChsYXN0QWx0KTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkZWNpc2lvblBvcyBpbiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpIGlmIChkZWNpc2lvblBvcyA9IHBhcnNlSW50KGRlY2lzaW9uUG9zKSxcclxuICAgICAgICAgICAgICAgICAgICBhbHRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZGVjaXNpb25Qb3NdLCBkZWNpc2lvblBvcyA+PSBsYXN0QWx0ICYmIHZvaWQgMCAhPT0gYWx0UG9zLmFsdGVybmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHROZHhzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdLmxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCBkZWNpc2lvblRha2VyID0gYWx0UG9zLmxvY2F0b3JbYWx0ZXJuYXRpb25dIHx8IGFsdE5keHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY2lzaW9uVGFrZXIubGVuZ3RoID4gMCAmJiAoZGVjaXNpb25UYWtlciA9IGRlY2lzaW9uVGFrZXIuc3BsaXQoXCIsXCIpWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHROZHhzLmxlbmd0aDsgbW5keCsrKSBpZiAoZGVjaXNpb25UYWtlciA8IGFsdE5keHNbbW5keF0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmlsaXR5UG9zLCBwb3NzaWJpbGl0aWVzLCBkcCA9IGRlY2lzaW9uUG9zOyBkcCA+PSAwOyBkcC0tKSBpZiAocG9zc2liaWxpdHlQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZHBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBwb3NzaWJpbGl0eVBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmlsaXRpZXMgPSBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSwgcG9zc2liaWxpdHlQb3MubG9jYXRvclthbHRlcm5hdGlvbl0gPSBwYXJzZUludChhbHROZHhzW21uZHhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZWNpc2lvblRha2VyICE9PSBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZElucHV0cyA9IFtdLCBzdGF0aWNJbnB1dHNCZWZvcmVQb3MgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IGRlY2lzaW9uUG9zICsgMTsgaSA8IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgKyAxOyBpKyspIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkUG9zICYmIChudWxsICE9IHZhbGlkUG9zLm1hdGNoLmZuID8gdmFsaWRJbnB1dHMucHVzaCh2YWxpZFBvcy5pbnB1dCkgOiBwb3MgPiBpICYmIHN0YXRpY0lucHV0c0JlZm9yZVBvcysrKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLCBkZWxldGUgZ2V0TWFza1NldCgpLnRlc3RzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAocmVzZXRNYXNrU2V0KCEwKSwgb3B0cy5rZWVwU3RhdGljID0gIW9wdHMua2VlcFN0YXRpYywgaXNWYWxpZFJzbHQgPSAhMDsgdmFsaWRJbnB1dHMubGVuZ3RoID4gMDspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0ID0gdmFsaWRJbnB1dHMuc2hpZnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlucHV0ICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgIShpc1ZhbGlkUnNsdCA9IGlzVmFsaWQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSArIDEsIGlucHV0LCAhMSwgITApKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwb3NzaWJpbGl0eVBvcy5hbHRlcm5hdGlvbiA9IGFsdGVybmF0aW9uLCBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSA9IHBvc3NpYmlsaXRpZXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZFJzbHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldEx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKHBvcykgKyAxLCBzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSBkZWNpc2lvblBvcyArIDE7IGkgPCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICsgMTsgaSsrKSB2YWxpZFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRQb3MgJiYgbnVsbCA9PSB2YWxpZFBvcy5tYXRjaC5mbiAmJiBwb3MgPiBpICYmIHN0YXRpY0lucHV0c0JlZm9yZVBvc0FsdGVybmF0ZSsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MgKz0gc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIC0gc3RhdGljSW5wdXRzQmVmb3JlUG9zLCBpc1ZhbGlkUnNsdCA9IGlzVmFsaWQocG9zID4gdGFyZ2V0THZwID8gdGFyZ2V0THZwIDogcG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLmtlZXBTdGF0aWMgPSAhb3B0cy5rZWVwU3RhdGljLCBpc1ZhbGlkUnNsdCkgcmV0dXJuIGlzVmFsaWRSc2x0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCgpLCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHZhbGlkUHNDbG9uZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYWNrYmFja0FsdGVybmF0aW9ucyhvcmlnaW5hbFBvcywgbmV3UG9zKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB2cCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tuZXdQb3NdLCB0YXJnZXRMb2NhdG9yID0gdnAubG9jYXRvciwgdGxsID0gdGFyZ2V0TG9jYXRvci5sZW5ndGgsIHBzID0gb3JpZ2luYWxQb3M7IG5ld1BvcyA+IHBzOyBwcysrKSBpZiAoIWlzTWFzayhwcykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdHMgPSBnZXRUZXN0cyhwcyksIGJlc3RNYXRjaCA9IHRlc3RzWzBdLCBlcXVhbGl0eSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICQuZWFjaCh0ZXN0cywgZnVuY3Rpb24gKG5keCwgdHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyB0bGwgPiBpOyBpKyspIHRzdC5sb2NhdG9yW2ldICYmIGNoZWNrQWx0ZXJuYXRpb25NYXRjaCh0c3QubG9jYXRvcltpXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSwgdGFyZ2V0TG9jYXRvcltpXS50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkgJiYgaSA+IGVxdWFsaXR5ICYmIChlcXVhbGl0eSA9IGksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RNYXRjaCA9IHRzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSksIHNldFZhbGlkUG9zaXRpb24ocHMsICQuZXh0ZW5kKHt9LCBiZXN0TWF0Y2gsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IGJlc3RNYXRjaC5tYXRjaC5kZWZcclxuICAgICAgICAgICAgICAgICAgICB9KSwgITApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN0cmljdCA9IHN0cmljdCA9PT0gITA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLCBwbmR4ID0gcG9zIC0gMTsgcG5keCA+IC0xICYmICFnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG5keF07IHBuZHgtLSk7XHJcbiAgICAgICAgICAgIGZvciAocG5keCsrOyBwb3MgPiBwbmR4OyBwbmR4KyspIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3BuZHhdICYmICgoIWlzTWFzayhwbmR4KSB8fCBidWZmZXJbcG5keF0gIT09IGdldFBsYWNlaG9sZGVyKHBuZHgpKSAmJiBnZXRUZXN0cyhwbmR4KS5sZW5ndGggPiAxIHx8IGJ1ZmZlcltwbmR4XSA9PT0gb3B0cy5yYWRpeFBvaW50IHx8IFwiMFwiID09PSBidWZmZXJbcG5keF0gJiYgJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKSA8IHBuZHgpICYmIF9pc1ZhbGlkKHBuZHgsIGJ1ZmZlcltwbmR4XSwgITApO1xyXG4gICAgICAgICAgICB2YXIgbWFza1BvcyA9IHBvcywgcmVzdWx0ID0gITEsIHBvc2l0aW9uc0Nsb25lID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICBpZiAobWFza1BvcyA8IGdldE1hc2tMZW5ndGgoKSAmJiAocmVzdWx0ID0gX2lzVmFsaWQobWFza1BvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpLFxyXG4gICAgICAgICAgICAoIXN0cmljdCB8fCBmcm9tU2V0VmFsaWQpICYmIHJlc3VsdCA9PT0gITEpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBvc1ZhbGlkID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW21hc2tQb3NdO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFjdXJyZW50UG9zVmFsaWQgfHwgbnVsbCAhPT0gY3VycmVudFBvc1ZhbGlkLm1hdGNoLmZuIHx8IGN1cnJlbnRQb3NWYWxpZC5tYXRjaC5kZWYgIT09IGMgJiYgYyAhPT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChvcHRzLmluc2VydE1vZGUgfHwgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc2Vla05leHQobWFza1BvcyldKSAmJiAhaXNNYXNrKG1hc2tQb3MpKSBmb3IgKHZhciBuUG9zID0gbWFza1BvcyArIDEsIHNuUG9zID0gc2Vla05leHQobWFza1BvcykgOyBzblBvcyA+PSBuUG9zOyBuUG9zKyspIGlmIChyZXN1bHQgPSBfaXNWYWxpZChuUG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICE9PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFja2JhY2tBbHRlcm5hdGlvbnMobWFza1BvcywgblBvcyksIG1hc2tQb3MgPSBuUG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhcmV0OiBzZWVrTmV4dChtYXNrUG9zKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSAhMSAmJiBvcHRzLmtlZXBTdGF0aWMgJiYgaXNDb21wbGV0ZShidWZmZXIpICYmIChyZXN1bHQgPSBhbHRlcm5hdGUocG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCkpLFxyXG4gICAgICAgICAgICByZXN1bHQgPT09ICEwICYmIChyZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICBwb3M6IG1hc2tQb3NcclxuICAgICAgICAgICAgfSksICQuaXNGdW5jdGlvbihvcHRzLnBvc3RWYWxpZGF0aW9uKSAmJiByZXN1bHQgIT09ICExICYmICFzdHJpY3QpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwb3N0VmFsaWRSZXN1bHQgPSBvcHRzLnBvc3RWYWxpZGF0aW9uKGdldEJ1ZmZlcighMCksIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHBvc3RWYWxpZFJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3N0VmFsaWRSZXN1bHQucmVmcmVzaEZyb21CdWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZnJlc2ggPSBwb3N0VmFsaWRSZXN1bHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyKHJlZnJlc2ggPT09ICEwID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCBwb3N0VmFsaWRSZXN1bHQuYnVmZmVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKSwgcmVzdWx0ID0gcG9zdFZhbGlkUmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXNldE1hc2tTZXQoITApLCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHBvc2l0aW9uc0Nsb25lKSxcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9ICExO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzTWFzayhwb3MpIHtcclxuICAgICAgICAgICAgdmFyIHRlc3QgPSBnZXRUZXN0KHBvcyk7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9IHRlc3QuZm4pIHJldHVybiB0ZXN0LmZuO1xyXG4gICAgICAgICAgICBpZiAocG9zID4gLTEgJiYgIW9wdHMua2VlcFN0YXRpYyAmJiB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0ZXN0cyA9IGdldFRlc3RzKHBvcyksIHN0YXRpY0FsdGVybmF0aW9ucyA9ICEwLCBpID0gMDsgaSA8IHRlc3RzLmxlbmd0aDsgaSsrKSBpZiAoXCJcIiAhPT0gdGVzdHNbaV0ubWF0Y2guZGVmICYmICh2b2lkIDAgPT09IHRlc3RzW2ldLmFsdGVybmF0aW9uIHx8IHRlc3RzW2ldLmxvY2F0b3JbdGVzdHNbaV0uYWx0ZXJuYXRpb25dLmxlbmd0aCA+IDEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGljQWx0ZXJuYXRpb25zID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGljQWx0ZXJuYXRpb25zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0TWFza0xlbmd0aCgpIHtcclxuICAgICAgICAgICAgdmFyIG1hc2tMZW5ndGg7XHJcbiAgICAgICAgICAgIG1heExlbmd0aCA9IHZvaWQgMCAhPT0gZWwgPyBlbC5tYXhMZW5ndGggOiB2b2lkIDAsIC0xID09PSBtYXhMZW5ndGggJiYgKG1heExlbmd0aCA9IHZvaWQgMCk7XHJcbiAgICAgICAgICAgIHZhciBwb3MsIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIHRlc3RQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSwgbmR4SW50bHpyID0gdm9pZCAwICE9PSB0ZXN0UG9zID8gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgIGZvciAocG9zID0gbHZwICsgMTsgdm9pZCAwID09PSB0ZXN0UG9zIHx8IG51bGwgIT09IHRlc3RQb3MubWF0Y2guZm4gfHwgbnVsbCA9PT0gdGVzdFBvcy5tYXRjaC5mbiAmJiBcIlwiICE9PSB0ZXN0UG9zLm1hdGNoLmRlZjsgcG9zKyspIHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpLFxyXG4gICAgICAgICAgICBuZHhJbnRsenIgPSB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKTtcclxuICAgICAgICAgICAgdmFyIGxhc3RUZXN0ID0gZ2V0VGVzdChwb3MgLSAxKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tMZW5ndGggPSBcIlwiICE9PSBsYXN0VGVzdC5kZWYgPyBwb3MgOiBwb3MgLSAxLCB2b2lkIDAgPT09IG1heExlbmd0aCB8fCBtYXhMZW5ndGggPiBtYXNrTGVuZ3RoID8gbWFza0xlbmd0aCA6IG1heExlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2Vla05leHQocG9zLCBuZXdCbG9jaykge1xyXG4gICAgICAgICAgICB2YXIgbWFza0wgPSBnZXRNYXNrTGVuZ3RoKCk7XHJcbiAgICAgICAgICAgIGlmIChwb3MgPj0gbWFza0wpIHJldHVybiBtYXNrTDtcclxuICAgICAgICAgICAgZm9yICh2YXIgcG9zaXRpb24gPSBwb3M7ICsrcG9zaXRpb24gPCBtYXNrTCAmJiAobmV3QmxvY2sgPT09ICEwICYmIChnZXRUZXN0KHBvc2l0aW9uKS5uZXdCbG9ja01hcmtlciAhPT0gITAgfHwgIWlzTWFzayhwb3NpdGlvbikpIHx8IG5ld0Jsb2NrICE9PSAhMCAmJiAhaXNNYXNrKHBvc2l0aW9uKSAmJiAob3B0cy5ub2p1bXBzICE9PSAhMCB8fCBvcHRzLm5vanVtcHNUaHJlc2hvbGQgPiBwb3NpdGlvbikpIDspO1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNlZWtQcmV2aW91cyhwb3MsIG5ld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHBvcztcclxuICAgICAgICAgICAgaWYgKDAgPj0gcG9zaXRpb24pIHJldHVybiAwO1xyXG4gICAgICAgICAgICBmb3IgKDsgLS1wb3NpdGlvbiA+IDAgJiYgKG5ld0Jsb2NrID09PSAhMCAmJiBnZXRUZXN0KHBvc2l0aW9uKS5uZXdCbG9ja01hcmtlciAhPT0gITAgfHwgbmV3QmxvY2sgIT09ICEwICYmICFpc01hc2socG9zaXRpb24pKSA7KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRCdWZmZXJFbGVtZW50KHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0gPyBnZXRQbGFjZWhvbGRlcihwb3NpdGlvbikgOiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLmlucHV0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyLCBjYXJldFBvcywgZXZlbnQsIHRyaWdnZXJJbnB1dEV2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChldmVudCAmJiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9wdHMub25CZWZvcmVXcml0ZS5jYWxsKGlucHV0LCBldmVudCwgYnVmZmVyLCBjYXJldFBvcywgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIocmVmcmVzaCA9PT0gITAgPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHJlc3VsdC5idWZmZXIgfHwgYnVmZmVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyID0gZ2V0QnVmZmVyKCEwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCAwICE9PSBjYXJldFBvcyAmJiAoY2FyZXRQb3MgPSB2b2lkIDAgIT09IHJlc3VsdC5jYXJldCA/IHJlc3VsdC5jYXJldCA6IGNhcmV0UG9zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KGJ1ZmZlci5qb2luKFwiXCIpKSwgdm9pZCAwID09PSBjYXJldFBvcyB8fCB2b2lkIDAgIT09IGV2ZW50ICYmIFwiYmx1clwiID09PSBldmVudC50eXBlIHx8IGNhcmV0KGlucHV0LCBjYXJldFBvcyksXHJcbiAgICAgICAgICAgIHRyaWdnZXJJbnB1dEV2ZW50ID09PSAhMCAmJiAoc2tpcElucHV0RXZlbnQgPSAhMCwgJChpbnB1dCkudHJpZ2dlcihcImlucHV0XCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0KSB7XHJcbiAgICAgICAgICAgIGlmICh0ZXN0ID0gdGVzdCB8fCBnZXRUZXN0KHBvcyksIHZvaWQgMCAhPT0gdGVzdC5wbGFjZWhvbGRlcikgcmV0dXJuIHRlc3QucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgIGlmIChudWxsID09PSB0ZXN0LmZuKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zID4gLTEgJiYgIW9wdHMua2VlcFN0YXRpYyAmJiB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJldlRlc3QsIHRlc3RzID0gZ2V0VGVzdHMocG9zKSwgaGFzQWx0ZXJuYXRpb25zID0gITEsIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZUZXN0ICYmIFwiXCIgIT09IHRlc3RzW2ldLm1hdGNoLmRlZiAmJiB0ZXN0c1tpXS5tYXRjaC5kZWYgIT09IHByZXZUZXN0Lm1hdGNoLmRlZiAmJiAodm9pZCAwID09PSB0ZXN0c1tpXS5hbHRlcm5hdGlvbiB8fCB0ZXN0c1tpXS5hbHRlcm5hdGlvbiA9PT0gcHJldlRlc3QuYWx0ZXJuYXRpb24pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNBbHRlcm5hdGlvbnMgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsaXR5ICE9PSAhMCAmJiB0ZXN0c1tpXS5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgIT09ICEwICYmIChwcmV2VGVzdCA9IHRlc3RzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0FsdGVybmF0aW9ucykgcmV0dXJuIG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KHBvcyAlIG9wdHMucGxhY2Vob2xkZXIubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0ZXN0LmRlZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zICUgb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjaGVja1ZhbChpbnB1dCwgd3JpdGVPdXQsIHN0cmljdCwgbnB0dmwpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gaXNUZW1wbGF0ZU1hdGNoKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGlzTWF0Y2ggPSAhMSwgY2hhckNvZGVOZHggPSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKGluaXRpYWxOZHgsIHNlZWtOZXh0KGluaXRpYWxOZHgpKS5qb2luKFwiXCIpLmluZGV4T2YoY2hhckNvZGVzKTtcclxuICAgICAgICAgICAgICAgIGlmICgtMSAhPT0gY2hhckNvZGVOZHggJiYgIWlzTWFzayhpbml0aWFsTmR4KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzTWF0Y2ggPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBidWZmZXJUZW1wbGF0ZUFyciA9IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoaW5pdGlhbE5keCwgaW5pdGlhbE5keCArIGNoYXJDb2RlTmR4KSwgaSA9IDA7IGkgPCBidWZmZXJUZW1wbGF0ZUFyci5sZW5ndGg7IGkrKykgaWYgKFwiIFwiICE9PSBidWZmZXJUZW1wbGF0ZUFycltpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01hdGNoID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpc01hdGNoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpbnB1dFZhbHVlID0gbnB0dmwuc2xpY2UoKSwgY2hhckNvZGVzID0gXCJcIiwgaW5pdGlhbE5keCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChyZXNldE1hc2tTZXQoKSwgZ2V0TWFza1NldCgpLnAgPSBzZWVrTmV4dCgtMSksICFzdHJpY3QpIGlmIChvcHRzLmF1dG9Vbm1hc2sgIT09ICEwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGljSW5wdXQgPSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKDAsIHNlZWtOZXh0KC0xKSkuam9pbihcIlwiKSwgbWF0Y2hlcyA9IGlucHV0VmFsdWUuam9pbihcIlwiKS5tYXRjaChuZXcgUmVnRXhwKFwiXlwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KHN0YXRpY0lucHV0KSwgXCJnXCIpKTtcclxuICAgICAgICAgICAgICAgIG1hdGNoZXMgJiYgbWF0Y2hlcy5sZW5ndGggPiAwICYmIChpbnB1dFZhbHVlLnNwbGljZSgwLCBtYXRjaGVzLmxlbmd0aCAqIHN0YXRpY0lucHV0Lmxlbmd0aCksXHJcbiAgICAgICAgICAgICAgICBpbml0aWFsTmR4ID0gc2Vla05leHQoaW5pdGlhbE5keCkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaW5pdGlhbE5keCA9IHNlZWtOZXh0KGluaXRpYWxOZHgpO1xyXG4gICAgICAgICAgICAkLmVhY2goaW5wdXRWYWx1ZSwgZnVuY3Rpb24gKG5keCwgY2hhckNvZGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlwcmVzcyA9ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtcclxuICAgICAgICAgICAgICAgIGtleXByZXNzLndoaWNoID0gY2hhckNvZGUuY2hhckNvZGVBdCgwKSwgY2hhckNvZGVzICs9IGNoYXJDb2RlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKHZvaWQgMCwgITApLCBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSwgbmV4dFRlc3QgPSBnZXRUZXN0VGVtcGxhdGUobHZwICsgMSwgbHZUZXN0ID8gbHZUZXN0LmxvY2F0b3Iuc2xpY2UoKSA6IHZvaWQgMCwgbHZwKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNUZW1wbGF0ZU1hdGNoKCkgfHwgc3RyaWN0IHx8IG9wdHMuYXV0b1VubWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSBzdHJpY3QgPyBuZHggOiBudWxsID09IG5leHRUZXN0Lm1hdGNoLmZuICYmIG5leHRUZXN0Lm1hdGNoLm9wdGlvbmFsaXR5ICYmIGx2cCArIDEgPCBnZXRNYXNrU2V0KCkucCA/IGx2cCArIDEgOiBnZXRNYXNrU2V0KCkucDtcclxuICAgICAgICAgICAgICAgICAgICBrZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsIGtleXByZXNzLCAhMCwgITEsIHN0cmljdCwgcG9zKSwgaW5pdGlhbE5keCA9IHBvcyArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY2hhckNvZGVzID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBrZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsIGtleXByZXNzLCAhMCwgITEsICEwLCBsdnAgKyAxKTtcclxuICAgICAgICAgICAgfSksIHdyaXRlT3V0ICYmIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXQgPyBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigwKSkgOiB2b2lkIDAsICQuRXZlbnQoXCJjaGVja3ZhbFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHVubWFza2VkdmFsdWUoaW5wdXQpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0ICYmIHZvaWQgMCA9PT0gaW5wdXQuaW5wdXRtYXNrKSByZXR1cm4gaW5wdXQudmFsdWU7XHJcbiAgICAgICAgICAgIHZhciB1bVZhbHVlID0gW10sIHZwcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgZm9yICh2YXIgcG5keCBpbiB2cHMpIHZwc1twbmR4XS5tYXRjaCAmJiBudWxsICE9IHZwc1twbmR4XS5tYXRjaC5mbiAmJiB1bVZhbHVlLnB1c2godnBzW3BuZHhdLmlucHV0KTtcclxuICAgICAgICAgICAgdmFyIHVubWFza2VkVmFsdWUgPSAwID09PSB1bVZhbHVlLmxlbmd0aCA/IG51bGwgOiAoaXNSVEwgPyB1bVZhbHVlLnJldmVyc2UoKSA6IHVtVmFsdWUpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB1bm1hc2tlZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyVmFsdWUgPSAoaXNSVEwgPyBnZXRCdWZmZXIoKS5zbGljZSgpLnJldmVyc2UoKSA6IGdldEJ1ZmZlcigpKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgJC5pc0Z1bmN0aW9uKG9wdHMub25Vbk1hc2spICYmICh1bm1hc2tlZFZhbHVlID0gb3B0cy5vblVuTWFzay5jYWxsKGlucHV0LCBidWZmZXJWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykgfHwgdW5tYXNrZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHVubWFza2VkVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNhcmV0KGlucHV0LCBiZWdpbiwgZW5kKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHRyYW5zbGF0ZVBvc2l0aW9uKHBvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzUlRMICYmIFwibnVtYmVyXCIgPT0gdHlwZW9mIHBvcyAmJiAoIW9wdHMuZ3JlZWR5IHx8IFwiXCIgIT09IG9wdHMucGxhY2Vob2xkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJmZnJMZ2h0ID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zID0gYmZmckxnaHQgLSBwb3M7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciByYW5nZTtcclxuICAgICAgICAgICAgaWYgKFwibnVtYmVyXCIgIT0gdHlwZW9mIGJlZ2luKSByZXR1cm4gaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UgPyAoYmVnaW4gPSBpbnB1dC5zZWxlY3Rpb25TdGFydCxcclxuICAgICAgICAgICAgZW5kID0gaW5wdXQuc2VsZWN0aW9uRW5kKSA6IHdpbmRvdy5nZXRTZWxlY3Rpb24gPyAocmFuZ2UgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKSxcclxuICAgICAgICAgICAgKHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyLnBhcmVudE5vZGUgPT09IGlucHV0IHx8IHJhbmdlLmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyID09PSBpbnB1dCkgJiYgKGJlZ2luID0gcmFuZ2Uuc3RhcnRPZmZzZXQsXHJcbiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZE9mZnNldCkpIDogZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSAmJiAocmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxcclxuICAgICAgICAgICAgYmVnaW4gPSAwIC0gcmFuZ2UuZHVwbGljYXRlKCkubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIC0xZTUpLCBlbmQgPSBiZWdpbiArIHJhbmdlLnRleHQubGVuZ3RoKSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYmVnaW46IHRyYW5zbGF0ZVBvc2l0aW9uKGJlZ2luKSxcclxuICAgICAgICAgICAgICAgIGVuZDogdHJhbnNsYXRlUG9zaXRpb24oZW5kKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBiZWdpbiA9IHRyYW5zbGF0ZVBvc2l0aW9uKGJlZ2luKSwgZW5kID0gdHJhbnNsYXRlUG9zaXRpb24oZW5kKSwgZW5kID0gXCJudW1iZXJcIiA9PSB0eXBlb2YgZW5kID8gZW5kIDogYmVnaW47XHJcbiAgICAgICAgICAgIHZhciBzY3JvbGxDYWxjID0gcGFyc2VJbnQoKChpbnB1dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZSA/IChpbnB1dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IHdpbmRvdykuZ2V0Q29tcHV0ZWRTdHlsZShpbnB1dCwgbnVsbCkgOiBpbnB1dC5jdXJyZW50U3R5bGUpLmZvbnRTaXplKSAqIGVuZDtcclxuICAgICAgICAgICAgaWYgKGlucHV0LnNjcm9sbExlZnQgPSBzY3JvbGxDYWxjID4gaW5wdXQuc2Nyb2xsV2lkdGggPyBzY3JvbGxDYWxjIDogMCwgYW5kcm9pZGNocm9tZSB8fCBvcHRzLmluc2VydE1vZGUgIT09ICExIHx8IGJlZ2luICE9PSBlbmQgfHwgZW5kKyssXHJcbiAgICAgICAgICAgIGlucHV0LnNldFNlbGVjdGlvblJhbmdlKSBpbnB1dC5zZWxlY3Rpb25TdGFydCA9IGJlZ2luLCBpbnB1dC5zZWxlY3Rpb25FbmQgPSBlbmQ7IGVsc2UgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChyYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCksIHZvaWQgMCA9PT0gaW5wdXQuZmlyc3RDaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlucHV0LmFwcGVuZENoaWxkKHRleHROb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGlucHV0LmZpcnN0Q2hpbGQsIGJlZ2luIDwgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA/IGJlZ2luIDogaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksXHJcbiAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQoaW5wdXQuZmlyc3RDaGlsZCwgZW5kIDwgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCA/IGVuZCA6IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGgpLFxyXG4gICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UoITApO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKSwgc2VsLmFkZFJhbmdlKHJhbmdlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlucHV0LmNyZWF0ZVRleHRSYW5nZSAmJiAocmFuZ2UgPSBpbnB1dC5jcmVhdGVUZXh0UmFuZ2UoKSwgcmFuZ2UuY29sbGFwc2UoITApLFxyXG4gICAgICAgICAgICByYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIGVuZCksIHJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBiZWdpbiksIHJhbmdlLnNlbGVjdCgpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24ocmV0dXJuRGVmaW5pdGlvbikge1xyXG4gICAgICAgICAgICB2YXIgcG9zLCB0ZXN0UG9zLCBidWZmZXIgPSBnZXRCdWZmZXIoKSwgYmwgPSBidWZmZXIubGVuZ3RoLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBwb3NpdGlvbnMgPSB7fSwgbHZUZXN0ID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2x2cF0sIG5keEludGx6ciA9IHZvaWQgMCAhPT0gbHZUZXN0ID8gbHZUZXN0LmxvY2F0b3Iuc2xpY2UoKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgZm9yIChwb3MgPSBsdnAgKyAxOyBwb3MgPCBidWZmZXIubGVuZ3RoOyBwb3MrKykgdGVzdFBvcyA9IGdldFRlc3RUZW1wbGF0ZShwb3MsIG5keEludGx6ciwgcG9zIC0gMSksXHJcbiAgICAgICAgICAgIG5keEludGx6ciA9IHRlc3RQb3MubG9jYXRvci5zbGljZSgpLCBwb3NpdGlvbnNbcG9zXSA9ICQuZXh0ZW5kKCEwLCB7fSwgdGVzdFBvcyk7XHJcbiAgICAgICAgICAgIHZhciBsdlRlc3RBbHQgPSBsdlRlc3QgJiYgdm9pZCAwICE9PSBsdlRlc3QuYWx0ZXJuYXRpb24gPyBsdlRlc3QubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dIDogdm9pZCAwO1xyXG4gICAgICAgICAgICBmb3IgKHBvcyA9IGJsIC0gMTsgcG9zID4gbHZwICYmICh0ZXN0UG9zID0gcG9zaXRpb25zW3Bvc10sICh0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsaXR5IHx8IHRlc3RQb3MubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyIHx8IGx2VGVzdEFsdCAmJiAobHZUZXN0QWx0ICE9PSBwb3NpdGlvbnNbcG9zXS5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gJiYgbnVsbCAhPSB0ZXN0UG9zLm1hdGNoLmZuIHx8IG51bGwgPT09IHRlc3RQb3MubWF0Y2guZm4gJiYgdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gJiYgY2hlY2tBbHRlcm5hdGlvbk1hdGNoKHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCBsdlRlc3RBbHQudG9TdHJpbmcoKS5zcGxpdChcIixcIikpICYmIFwiXCIgIT09IGdldFRlc3RzKHBvcylbMF0uZGVmKSkgJiYgYnVmZmVyW3Bvc10gPT09IGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdFBvcy5tYXRjaCkpIDsgcG9zLS0pIGJsLS07XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5EZWZpbml0aW9uID8ge1xyXG4gICAgICAgICAgICAgICAgbDogYmwsXHJcbiAgICAgICAgICAgICAgICBkZWY6IHBvc2l0aW9uc1tibF0gPyBwb3NpdGlvbnNbYmxdLm1hdGNoIDogdm9pZCAwXHJcbiAgICAgICAgICAgIH0gOiBibDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIHJsID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oKSwgbG1pYiA9IGJ1ZmZlci5sZW5ndGggLSAxOyBsbWliID4gcmwgJiYgIWlzTWFzayhsbWliKSA7IGxtaWItLSk7XHJcbiAgICAgICAgICAgIHJldHVybiBidWZmZXIuc3BsaWNlKHJsLCBsbWliICsgMSAtIHJsKSwgYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc0NvbXBsZXRlKGJ1ZmZlcikge1xyXG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKG9wdHMuaXNDb21wbGV0ZSkpIHJldHVybiBvcHRzLmlzQ29tcGxldGUuY2FsbChlbCwgYnVmZmVyLCBvcHRzKTtcclxuICAgICAgICAgICAgaWYgKFwiKlwiID09PSBvcHRzLnJlcGVhdCkgcmV0dXJuIHZvaWQgMDtcclxuICAgICAgICAgICAgdmFyIGNvbXBsZXRlID0gITEsIGxycCA9IGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCEwKSwgYW1sID0gc2Vla1ByZXZpb3VzKGxycC5sKTtcclxuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gbHJwLmRlZiB8fCBscnAuZGVmLm5ld0Jsb2NrTWFya2VyIHx8IGxycC5kZWYub3B0aW9uYWxpdHkgfHwgbHJwLmRlZi5vcHRpb25hbFF1YW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlID0gITA7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgYW1sID49IGk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gZ2V0VGVzdFRlbXBsYXRlKGkpLm1hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSB0ZXN0LmZuICYmIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldICYmIHRlc3Qub3B0aW9uYWxpdHkgIT09ICEwICYmIHRlc3Qub3B0aW9uYWxRdWFudGlmaWVyICE9PSAhMCB8fCBudWxsID09PSB0ZXN0LmZuICYmIGJ1ZmZlcltpXSAhPT0gZ2V0UGxhY2Vob2xkZXIoaSwgdGVzdCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29tcGxldGUgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb21wbGV0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNTZWxlY3Rpb24oYmVnaW4sIGVuZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaXNSVEwgPyBiZWdpbiAtIGVuZCA+IDEgfHwgYmVnaW4gLSBlbmQgPT09IDEgJiYgb3B0cy5pbnNlcnRNb2RlIDogZW5kIC0gYmVnaW4gPiAxIHx8IGVuZCAtIGJlZ2luID09PSAxICYmIG9wdHMuaW5zZXJ0TW9kZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gd3JhcEV2ZW50UnVsZXIoZXZlbnRIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluQ29tcG9zaXRpb24gPSAhMSwga2V5ZG93blByZXNzZWQgPSAhMTtcclxuICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IHRoaXMuaW5wdXRtYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltT3B0cyA9ICQuZGF0YSh0aGlzLCBcIl9pbnB1dG1hc2tfb3B0c1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBpbU9wdHMgPyBuZXcgSW5wdXRtYXNrKGltT3B0cykubWFzayh0aGlzKSA6ICQodGhpcykub2ZmKFwiLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwic2V0dmFsdWVcIiA9PT0gZS50eXBlIHx8ICEodGhpcy5kaXNhYmxlZCB8fCB0aGlzLnJlYWRPbmx5ICYmICEoXCJrZXlkb3duXCIgPT09IGUudHlwZSAmJiBlLmN0cmxLZXkgJiYgNjcgPT09IGUua2V5Q29kZSB8fCBvcHRzLnRhYlRocm91Z2ggPT09ICExICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuVEFCKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnB1dFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwSW5wdXRFdmVudCA9PT0gITAgfHwgaW5Db21wb3NpdGlvbiA9PT0gITApIHJldHVybiBza2lwSW5wdXRFdmVudCA9ICExLCBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5ZG93blByZXNzZWQgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwia2V5ZG93blwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gITEsIGluQ29tcG9zaXRpb24gPSAhMSwga2V5ZG93blByZXNzZWQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwia2V5cHJlc3NcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2tpcEtleVByZXNzRXZlbnQgPT09ICEwKSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBLZXlQcmVzc0V2ZW50ID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9uc3RhcnRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkNvbXBvc2l0aW9uID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbXBvc2l0aW9udXBkYXRlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSBrZXlkb3duUHJlc3NlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25lbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbkNvbXBvc2l0aW9uID0gITEsIGtleWRvd25QcmVzc2VkID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN1dFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNraXBJbnB1dEV2ZW50ID0gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50SGFuZGxlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBhdGNoVmFsdWVQcm9wZXJ0eShucHQpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gcGF0Y2hWYWxob29rKHR5cGUpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkLnZhbEhvb2tzICYmICh2b2lkIDAgPT09ICQudmFsSG9va3NbdHlwZV0gfHwgJC52YWxIb29rc1t0eXBlXS5pbnB1dG1hc2twYXRjaCAhPT0gITApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGhvb2tHZXQgPSAkLnZhbEhvb2tzW3R5cGVdICYmICQudmFsSG9va3NbdHlwZV0uZ2V0ID8gJC52YWxIb29rc1t0eXBlXS5nZXQgOiBmdW5jdGlvbiAoZWxlbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZWxlbS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCB2YWxob29rU2V0ID0gJC52YWxIb29rc1t0eXBlXSAmJiAkLnZhbEhvb2tzW3R5cGVdLnNldCA/ICQudmFsSG9va3NbdHlwZV0uc2V0IDogZnVuY3Rpb24gKGVsZW0sIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnZhbHVlID0gdmFsdWUsIGVsZW07XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkLnZhbEhvb2tzW3R5cGVdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZWxlbS5pbnB1dG1hc2sub3B0cy5hdXRvVW5tYXNrKSByZXR1cm4gZWxlbS5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSB2YWxob29rR2V0KGVsZW0pLCBtYXNrc2V0ID0gZWxlbS5pbnB1dG1hc2subWFza3NldCwgYnVmZmVyVGVtcGxhdGUgPSBtYXNrc2V0Ll9idWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlclRlbXBsYXRlID0gYnVmZmVyVGVtcGxhdGUgPyBidWZmZXJUZW1wbGF0ZS5qb2luKFwiXCIpIDogXCJcIiwgcmVzdWx0ICE9PSBidWZmZXJUZW1wbGF0ZSA/IHJlc3VsdCA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsaG9va0dldChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQsICRlbGVtID0gJChlbGVtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPSB2YWxob29rU2V0KGVsZW0sIHZhbHVlKSwgZWxlbS5pbnB1dG1hc2sgJiYgJGVsZW0udHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXRtYXNrcGF0Y2g6ICEwXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZXR0ZXIoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnB1dG1hc2sgPyB0aGlzLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2sgPyB0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkgOiB2YWx1ZUdldC5jYWxsKHRoaXMpICE9PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSB0aGlzICYmIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgPyAoaXNSVEwgPyBjbGVhck9wdGlvbmFsVGFpbChnZXRCdWZmZXIoKSkucmV2ZXJzZSgpIDogY2xlYXJPcHRpb25hbFRhaWwoZ2V0QnVmZmVyKCkpKS5qb2luKFwiXCIpIDogdmFsdWVHZXQuY2FsbCh0aGlzKSA6IFwiXCIgOiB2YWx1ZUdldC5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldHRlcih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVTZXQuY2FsbCh0aGlzLCB2YWx1ZSksIHRoaXMuaW5wdXRtYXNrICYmICQodGhpcykudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbnN0YWxsTmF0aXZlVmFsdWVTZXRGYWxsYmFjayhucHQpIHtcclxuICAgICAgICAgICAgICAgICQobnB0KS5vbihcIm1vdXNlZW50ZXIuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLCBpbnB1dCA9IHRoaXMsIHZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIFwiXCIgIT09IHZhbHVlICYmIHZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZUdldCwgdmFsdWVTZXQ7XHJcbiAgICAgICAgICAgIG5wdC5pbnB1dG1hc2suX192YWx1ZUdldCB8fCAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiB2b2lkIDAgPT09IG5wdC52YWx1ZSA/ICh2YWx1ZUdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRleHRDb250ZW50O1xyXG4gICAgICAgICAgICB9LCB2YWx1ZVNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy50ZXh0Q29udGVudCA9IHZhbHVlO1xyXG4gICAgICAgICAgICB9LCBPYmplY3QuZGVmaW5lUHJvcGVydHkobnB0LCBcInZhbHVlXCIsIHtcclxuICAgICAgICAgICAgICAgIGdldDogZ2V0dGVyLFxyXG4gICAgICAgICAgICAgICAgc2V0OiBzZXR0ZXJcclxuICAgICAgICAgICAgfSkpIDogZG9jdW1lbnQuX19sb29rdXBHZXR0ZXJfXyAmJiBucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpID8gKHZhbHVlR2V0ID0gbnB0Ll9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSxcclxuICAgICAgICAgICAgdmFsdWVTZXQgPSBucHQuX19sb29rdXBTZXR0ZXJfXyhcInZhbHVlXCIpLCBucHQuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIGdldHRlciksXHJcbiAgICAgICAgICAgIG5wdC5fX2RlZmluZVNldHRlcl9fKFwidmFsdWVcIiwgc2V0dGVyKSkgOiAodmFsdWVHZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnB0LnZhbHVlO1xyXG4gICAgICAgICAgICB9LCB2YWx1ZVNldCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbnB0LnZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sIHBhdGNoVmFsaG9vayhucHQudHlwZSksIGluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrKG5wdCkpLCBucHQuaW5wdXRtYXNrLl9fdmFsdWVHZXQgPSB2YWx1ZUdldCxcclxuICAgICAgICAgICAgbnB0LmlucHV0bWFzay5fdmFsdWVHZXQgPSBmdW5jdGlvbiAob3ZlcnJ1bGVSVEwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpc1JUTCAmJiBvdmVycnVsZVJUTCAhPT0gITAgPyB2YWx1ZUdldC5jYWxsKHRoaXMuZWwpLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogdmFsdWVHZXQuY2FsbCh0aGlzLmVsKTtcclxuICAgICAgICAgICAgfSwgbnB0LmlucHV0bWFzay5fX3ZhbHVlU2V0ID0gdmFsdWVTZXQsIG5wdC5pbnB1dG1hc2suX3ZhbHVlU2V0ID0gZnVuY3Rpb24gKHZhbHVlLCBvdmVycnVsZVJUTCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVTZXQuY2FsbCh0aGlzLmVsLCBudWxsID09PSB2YWx1ZSB8fCB2b2lkIDAgPT09IHZhbHVlID8gXCJcIiA6IG92ZXJydWxlUlRMICE9PSAhMCAmJiBpc1JUTCA/IHZhbHVlLnNwbGl0KFwiXCIpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogdmFsdWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVtb3ZlKGlucHV0LCBrLCBwb3MsIHN0cmljdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBnZW5lcmFsaXplKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMua2VlcFN0YXRpYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhc3RBbHQsIHZhbGlkSW5wdXRzID0gW10sIHBvc2l0aW9uc0Nsb25lID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGFzdEFsdCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgOyBsYXN0QWx0ID49IDA7IGxhc3RBbHQtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaWRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZFBvcyAmJiAobnVsbCAhPSB2YWxpZFBvcy5tYXRjaC5mbiAmJiB2YWxpZElucHV0cy5wdXNoKHZhbGlkUG9zLmlucHV0KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XSwgdm9pZCAwICE9PSB2YWxpZFBvcy5hbHRlcm5hdGlvbiAmJiB2YWxpZFBvcy5sb2NhdG9yW3ZhbGlkUG9zLmFsdGVybmF0aW9uXSA9PT0gZ2V0VGVzdFRlbXBsYXRlKGxhc3RBbHQpLmxvY2F0b3JbdmFsaWRQb3MuYWx0ZXJuYXRpb25dKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsYXN0QWx0ID4gLTEpIGZvciAoOyB2YWxpZElucHV0cy5sZW5ndGggPiAwOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkucCA9IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5cHJlc3MgPSAkLkV2ZW50KFwia2V5cHJlc3NcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXByZXNzLndoaWNoID0gdmFsaWRJbnB1dHMucG9wKCkuY2hhckNvZGVBdCgwKSwga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgITAsICExLCAhMSwgZ2V0TWFza1NldCgpLnApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHBvc2l0aW9uc0Nsb25lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKG9wdHMubnVtZXJpY0lucHV0IHx8IGlzUlRMKSAmJiAoayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFID8gayA9IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkRFTEVURSAmJiAoayA9IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSksXHJcbiAgICAgICAgICAgIGlzUlRMKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBlbmQgPSBwb3MuZW5kO1xyXG4gICAgICAgICAgICAgICAgcG9zLmVuZCA9IHBvcy5iZWdpbiwgcG9zLmJlZ2luID0gcGVuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgJiYgKHBvcy5lbmQgLSBwb3MuYmVnaW4gPCAxIHx8IG9wdHMuaW5zZXJ0TW9kZSA9PT0gITEpID8gKHBvcy5iZWdpbiA9IHNlZWtQcmV2aW91cyhwb3MuYmVnaW4pLFxyXG4gICAgICAgICAgICB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dIHx8IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ICE9PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ICE9PSBvcHRzLnJhZGl4UG9pbnQgfHwgcG9zLmJlZ2luLS0pIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFICYmIHBvcy5iZWdpbiA9PT0gcG9zLmVuZCAmJiAocG9zLmVuZCA9IGlzTWFzayhwb3MuZW5kKSA/IHBvcy5lbmQgKyAxIDogc2Vla05leHQocG9zLmVuZCkgKyAxLFxyXG4gICAgICAgICAgICB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dIHx8IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ICE9PSBvcHRzLmdyb3VwU2VwYXJhdG9yICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3MuYmVnaW5dLmlucHV0ICE9PSBvcHRzLnJhZGl4UG9pbnQgfHwgcG9zLmVuZCsrKSxcclxuICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhwb3MuYmVnaW4sIHBvcy5lbmQsICExLCBzdHJpY3QpLCBzdHJpY3QgIT09ICEwICYmIGdlbmVyYWxpemUoKTtcclxuICAgICAgICAgICAgdmFyIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKHBvcy5iZWdpbik7XHJcbiAgICAgICAgICAgIGx2cCA8IHBvcy5iZWdpbiA/ICgtMSA9PT0gbHZwICYmIHJlc2V0TWFza1NldCgpLCBnZXRNYXNrU2V0KCkucCA9IHNlZWtOZXh0KGx2cCkpIDogc3RyaWN0ICE9PSAhMCAmJiAoZ2V0TWFza1NldCgpLnAgPSBwb3MuYmVnaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBrZXlkb3duRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCAkaW5wdXQgPSAkKGlucHV0KSwgayA9IGUua2V5Q29kZSwgcG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgfHwgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFIHx8IGlwaG9uZSAmJiAxMjcgPT09IGsgfHwgZS5jdHJsS2V5ICYmIDg4ID09PSBrICYmICFpc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJjdXRcIikgPyAoZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgICAgICAgICA4OCA9PT0gayAmJiAodW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSksIGhhbmRsZVJlbW92ZShpbnB1dCwgaywgcG9zKSwgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBnZXRNYXNrU2V0KCkucCwgZSwgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKSxcclxuICAgICAgICAgICAgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyAkaW5wdXQudHJpZ2dlcihcImNsZWFyZWRcIikgOiBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSA9PT0gITAgJiYgJGlucHV0LnRyaWdnZXIoXCJjb21wbGV0ZVwiKSxcclxuICAgICAgICAgICAgb3B0cy5zaG93VG9vbHRpcCAmJiAoaW5wdXQudGl0bGUgPSBvcHRzLnRvb2x0aXAgfHwgZ2V0TWFza1NldCgpLm1hc2spKSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVORCB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5QQUdFX0RPV04gPyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYXJldFBvcyA9IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpO1xyXG4gICAgICAgICAgICAgICAgb3B0cy5pbnNlcnRNb2RlIHx8IGNhcmV0UG9zICE9PSBnZXRNYXNrTGVuZ3RoKCkgfHwgZS5zaGlmdEtleSB8fCBjYXJldFBvcy0tLCBjYXJldChpbnB1dCwgZS5zaGlmdEtleSA/IHBvcy5iZWdpbiA6IGNhcmV0UG9zLCBjYXJldFBvcyk7XHJcbiAgICAgICAgICAgIH0sIDApIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuSE9NRSAmJiAhZS5zaGlmdEtleSB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5QQUdFX1VQID8gY2FyZXQoaW5wdXQsIDAsIGUuc2hpZnRLZXkgPyBwb3MuYmVnaW4gOiAwKSA6IChvcHRzLnVuZG9PbkVzY2FwZSAmJiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5FU0NBUEUgfHwgOTAgPT09IGsgJiYgZS5jdHJsS2V5KSAmJiBlLmFsdEtleSAhPT0gITAgPyAoY2hlY2tWYWwoaW5wdXQsICEwLCAhMSwgdW5kb1ZhbHVlLnNwbGl0KFwiXCIpKSxcclxuICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjbGlja1wiKSkgOiBrICE9PSBJbnB1dG1hc2sua2V5Q29kZS5JTlNFUlQgfHwgZS5zaGlmdEtleSB8fCBlLmN0cmxLZXkgPyBvcHRzLnRhYlRocm91Z2ggPT09ICEwICYmIGsgPT09IElucHV0bWFzay5rZXlDb2RlLlRBQiA/IChlLnNoaWZ0S2V5ID09PSAhMCA/IChudWxsID09PSBnZXRUZXN0KHBvcy5iZWdpbikuZm4gJiYgKHBvcy5iZWdpbiA9IHNlZWtOZXh0KHBvcy5iZWdpbikpLFxyXG4gICAgICAgICAgICBwb3MuZW5kID0gc2Vla1ByZXZpb3VzKHBvcy5iZWdpbiwgITApLCBwb3MuYmVnaW4gPSBzZWVrUHJldmlvdXMocG9zLmVuZCwgITApKSA6IChwb3MuYmVnaW4gPSBzZWVrTmV4dChwb3MuYmVnaW4sICEwKSxcclxuICAgICAgICAgICAgcG9zLmVuZCA9IHNlZWtOZXh0KHBvcy5iZWdpbiwgITApLCBwb3MuZW5kIDwgZ2V0TWFza0xlbmd0aCgpICYmIHBvcy5lbmQtLSksIHBvcy5iZWdpbiA8IGdldE1hc2tMZW5ndGgoKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgICAgICAgICBjYXJldChpbnB1dCwgcG9zLmJlZ2luLCBwb3MuZW5kKSkpIDogb3B0cy5pbnNlcnRNb2RlICE9PSAhMSB8fCBlLnNoaWZ0S2V5IHx8IChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGNhcmV0UG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgfSwgMCkgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5MRUZUICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIGlzUlRMID8gY2FyZXRQb3MuYmVnaW4gKyAxIDogY2FyZXRQb3MuYmVnaW4gLSAxKTtcclxuICAgICAgICAgICAgfSwgMCkpIDogKG9wdHMuaW5zZXJ0TW9kZSA9ICFvcHRzLmluc2VydE1vZGUsIGNhcmV0KGlucHV0LCBvcHRzLmluc2VydE1vZGUgfHwgcG9zLmJlZ2luICE9PSBnZXRNYXNrTGVuZ3RoKCkgPyBwb3MuYmVnaW4gOiBwb3MuYmVnaW4gLSAxKSksXHJcbiAgICAgICAgICAgIG9wdHMub25LZXlEb3duKGUsIGdldEJ1ZmZlcigpLCBjYXJldChpbnB1dCkuYmVnaW4sIG9wdHMpLCBpZ25vcmFibGUgPSAtMSAhPT0gJC5pbkFycmF5KGssIG9wdHMuaWdub3JhYmxlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGtleXByZXNzRXZlbnQoZSwgY2hlY2t2YWwsIHdyaXRlT3V0LCBzdHJpY3QsIG5keCkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCAkaW5wdXQgPSAkKGlucHV0KSwgayA9IGUud2hpY2ggfHwgZS5jaGFyQ29kZSB8fCBlLmtleUNvZGU7XHJcbiAgICAgICAgICAgIGlmICghKGNoZWNrdmFsID09PSAhMCB8fCBlLmN0cmxLZXkgJiYgZS5hbHRLZXkpICYmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5IHx8IGlnbm9yYWJsZSkpIHJldHVybiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5FTlRFUiAmJiB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgKHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKSwgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKTtcclxuICAgICAgICAgICAgfSwgMCkpLCAhMDtcclxuICAgICAgICAgICAgaWYgKGspIHtcclxuICAgICAgICAgICAgICAgIDQ2ID09PSBrICYmIGUuc2hpZnRLZXkgPT09ICExICYmIFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKGsgPSA0NCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZm9yd2FyZFBvc2l0aW9uLCBwb3MgPSBjaGVja3ZhbCA/IHtcclxuICAgICAgICAgICAgICAgICAgICBiZWdpbjogbmR4LFxyXG4gICAgICAgICAgICAgICAgICAgIGVuZDogbmR4XHJcbiAgICAgICAgICAgICAgICB9IDogY2FyZXQoaW5wdXQpLCBjID0gU3RyaW5nLmZyb21DaGFyQ29kZShrKSwgaXNTbGN0biA9IGlzU2VsZWN0aW9uKHBvcy5iZWdpbiwgcG9zLmVuZCk7XHJcbiAgICAgICAgICAgICAgICBpc1NsY3RuICYmIChnZXRNYXNrU2V0KCkudW5kb1Bvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSxcclxuICAgICAgICAgICAgICAgIGhhbmRsZVJlbW92ZShpbnB1dCwgSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLCBwb3MsICEwKSwgcG9zLmJlZ2luID0gZ2V0TWFza1NldCgpLnAsXHJcbiAgICAgICAgICAgICAgICBvcHRzLmluc2VydE1vZGUgfHwgKG9wdHMuaW5zZXJ0TW9kZSA9ICFvcHRzLmluc2VydE1vZGUsIHNldFZhbGlkUG9zaXRpb24ocG9zLmJlZ2luLCBzdHJpY3QpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5pbnNlcnRNb2RlID0gIW9wdHMuaW5zZXJ0TW9kZSksIGlzU2xjdG4gPSAhb3B0cy5tdWx0aSksIGdldE1hc2tTZXQoKS53cml0ZU91dEJ1ZmZlciA9ICEwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHAgPSBpc1JUTCAmJiAhaXNTbGN0biA/IHBvcy5lbmQgOiBwb3MuYmVnaW4sIHZhbFJlc3VsdCA9IGlzVmFsaWQocCwgYywgc3RyaWN0KTtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxSZXN1bHQgIT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbFJlc3VsdCAhPT0gITAgJiYgKHAgPSB2b2lkIDAgIT09IHZhbFJlc3VsdC5wb3MgPyB2YWxSZXN1bHQucG9zIDogcCwgYyA9IHZvaWQgMCAhPT0gdmFsUmVzdWx0LmMgPyB2YWxSZXN1bHQuYyA6IGMpLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksIHZvaWQgMCAhPT0gdmFsUmVzdWx0LmNhcmV0KSBmb3J3YXJkUG9zaXRpb24gPSB2YWxSZXN1bHQuY2FyZXQ7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3J3YXJkUG9zaXRpb24gPSAhb3B0cy5rZWVwU3RhdGljICYmICh2b2lkIDAgIT09IHZwc1twICsgMV0gJiYgZ2V0VGVzdHMocCArIDEsIHZwc1twXS5sb2NhdG9yLnNsaWNlKCksIHApLmxlbmd0aCA+IDEgfHwgdm9pZCAwICE9PSB2cHNbcF0uYWx0ZXJuYXRpb24pID8gcCArIDEgOiBzZWVrTmV4dChwKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TWFza1NldCgpLnAgPSBmb3J3YXJkUG9zaXRpb247XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAod3JpdGVPdXQgIT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0cy5vbktleVZhbGlkYXRpb24uY2FsbChzZWxmLCB2YWxSZXN1bHQsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIDApLCBnZXRNYXNrU2V0KCkud3JpdGVPdXRCdWZmZXIgJiYgdmFsUmVzdWx0ICE9PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIGNoZWNrdmFsID8gdm9pZCAwIDogb3B0cy5udW1lcmljSW5wdXQgPyBzZWVrUHJldmlvdXMoZm9yd2FyZFBvc2l0aW9uKSA6IGZvcndhcmRQb3NpdGlvbiwgZSwgY2hlY2t2YWwgIT09ICEwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2t2YWwgIT09ICEwICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNDb21wbGV0ZShidWZmZXIpID09PSAhMCAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaXNTbGN0biAmJiAoZ2V0TWFza1NldCgpLmJ1ZmZlciA9IHZvaWQgMCwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gZ2V0TWFza1NldCgpLnVuZG9Qb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlzU2xjdG4gJiYgKGdldE1hc2tTZXQoKS5idWZmZXIgPSB2b2lkIDAsIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9IGdldE1hc2tTZXQoKS51bmRvUG9zaXRpb25zKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnNob3dUb29sdGlwICYmIChpbnB1dC50aXRsZSA9IG9wdHMudG9vbHRpcCB8fCBnZXRNYXNrU2V0KCkubWFzayksIGNoZWNrdmFsICYmICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG9wdHMub25CZWZvcmVXcml0ZShlLCBnZXRCdWZmZXIoKSwgZm9yd2FyZFBvc2l0aW9uLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIocmVmcmVzaCA9PT0gITAgPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHJlc3VsdC5idWZmZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApLCByZXN1bHQuY2FyZXQgJiYgKGdldE1hc2tTZXQoKS5wID0gcmVzdWx0LmNhcmV0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBjaGVja3ZhbCkgcmV0dXJuIHZhbFJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwYXN0ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgZXYgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZSwgJGlucHV0ID0gJChpbnB1dCksIGlucHV0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCEwKSwgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgIGlmIChcInByb3BlcnR5Y2hhbmdlXCIgPT09IGUudHlwZSAmJiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoIDw9IGdldE1hc2tMZW5ndGgoKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICBpZiAoXCJwYXN0ZVwiID09PSBlLnR5cGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZUJlZm9yZUNhcmV0ID0gaW5wdXRWYWx1ZS5zdWJzdHIoMCwgY2FyZXRQb3MuYmVnaW4pLCB2YWx1ZUFmdGVyQ2FyZXQgPSBpbnB1dFZhbHVlLnN1YnN0cihjYXJldFBvcy5lbmQsIGlucHV0VmFsdWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHZhbHVlQmVmb3JlQ2FyZXQgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoMCwgY2FyZXRQb3MuYmVnaW4pLmpvaW4oXCJcIikgJiYgKHZhbHVlQmVmb3JlQ2FyZXQgPSBcIlwiKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlQWZ0ZXJDYXJldCA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZShjYXJldFBvcy5lbmQpLmpvaW4oXCJcIikgJiYgKHZhbHVlQWZ0ZXJDYXJldCA9IFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsaXBib2FyZERhdGEgJiYgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YSA/IGlucHV0VmFsdWUgPSB2YWx1ZUJlZm9yZUNhcmV0ICsgd2luZG93LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcIlRleHRcIikgKyB2YWx1ZUFmdGVyQ2FyZXQgOiBldi5jbGlwYm9hcmREYXRhICYmIGV2LmNsaXBib2FyZERhdGEuZ2V0RGF0YSAmJiAoaW5wdXRWYWx1ZSA9IHZhbHVlQmVmb3JlQ2FyZXQgKyBldi5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJ0ZXh0L3BsYWluXCIpICsgdmFsdWVBZnRlckNhcmV0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgcGFzdGVWYWx1ZSA9IGlucHV0VmFsdWU7XHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVBhc3RlKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHBhc3RlVmFsdWUgPSBvcHRzLm9uQmVmb3JlUGFzdGUuY2FsbChpbnB1dCwgaW5wdXRWYWx1ZSwgb3B0cyksIHBhc3RlVmFsdWUgPT09ICExKSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLFxyXG4gICAgICAgICAgICAgICAgITE7XHJcbiAgICAgICAgICAgICAgICBwYXN0ZVZhbHVlIHx8IChwYXN0ZVZhbHVlID0gaW5wdXRWYWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNoZWNrVmFsKGlucHV0LCAhMSwgITEsIGlzUlRMID8gcGFzdGVWYWx1ZS5zcGxpdChcIlwiKS5yZXZlcnNlKCkgOiBwYXN0ZVZhbHVlLnRvU3RyaW5nKCkuc3BsaXQoXCJcIikpLFxyXG4gICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHZvaWQgMCwgZSwgITApLCAkaW5wdXQudHJpZ2dlcihcImNsaWNrXCIpLCBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKSA9PT0gITAgJiYgJGlucHV0LnRyaWdnZXIoXCJjb21wbGV0ZVwiKSxcclxuICAgICAgICAgICAgITE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlucHV0RmFsbEJhY2tFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGNoZWNrVmFsKGlucHV0LCAhMCwgITEsIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5zcGxpdChcIlwiKSksIGlzQ29tcGxldGUoZ2V0QnVmZmVyKCkpID09PSAhMCAmJiAkKGlucHV0KS50cmlnZ2VyKFwiY29tcGxldGVcIiksXHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW9iaWxlSW5wdXRFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpLCBjdXJyZW50VmFsdWUgPSBpbnB1dC5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgY3VycmVudFZhbHVlID0gY3VycmVudFZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChcIihcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikpICsgXCIpKlwiKSwgXCJcIiksXHJcbiAgICAgICAgICAgIGNhcmV0UG9zLmJlZ2luID4gY3VycmVudFZhbHVlLmxlbmd0aCAmJiAoY2FyZXQoaW5wdXQsIGN1cnJlbnRWYWx1ZS5sZW5ndGgpLCBjYXJldFBvcyA9IGNhcmV0KGlucHV0KSksXHJcbiAgICAgICAgICAgIGdldEJ1ZmZlcigpLmxlbmd0aCAtIGN1cnJlbnRWYWx1ZS5sZW5ndGggIT09IDEgfHwgY3VycmVudFZhbHVlLmNoYXJBdChjYXJldFBvcy5iZWdpbikgPT09IGdldEJ1ZmZlcigpW2NhcmV0UG9zLmJlZ2luXSB8fCBjdXJyZW50VmFsdWUuY2hhckF0KGNhcmV0UG9zLmJlZ2luICsgMSkgPT09IGdldEJ1ZmZlcigpW2NhcmV0UG9zLmJlZ2luXSB8fCBpc01hc2soY2FyZXRQb3MuYmVnaW4pID8gaW5wdXRGYWxsQmFja0V2ZW50LmNhbGwodGhpcywgZSkgOiAoZS5rZXlDb2RlID0gb3B0cy5rZXlDb2RlLkJBQ0tTUEFDRSxcclxuICAgICAgICAgICAga2V5ZG93bkV2ZW50LmNhbGwoaW5wdXQsIGUpKSwgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjb21wb3NpdGlvblN0YXJ0RXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgZXYgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZTtcclxuICAgICAgICAgICAgdW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSwgXCJcIiA9PT0gY29tcG9zaXRpb25EYXRhIHx8IDAgIT09IGV2LmRhdGEuaW5kZXhPZihjb21wb3NpdGlvbkRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjb21wb3NpdGlvblVwZGF0ZUV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgZXYgPSBlLm9yaWdpbmFsRXZlbnQgfHwgZTtcclxuICAgICAgICAgICAgMCA9PT0gZXYuZGF0YS5pbmRleE9mKGNvbXBvc2l0aW9uRGF0YSkgJiYgKHJlc2V0TWFza1NldCgpLCBnZXRNYXNrU2V0KCkucCA9IHNlZWtOZXh0KC0xKSxcclxuICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSAhMCk7XHJcbiAgICAgICAgICAgIGZvciAodmFyIG5ld0RhdGEgPSBldi5kYXRhLCBpID0gMDsgaSA8IG5ld0RhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBrZXlwcmVzcyA9ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtcclxuICAgICAgICAgICAgICAgIGtleXByZXNzLndoaWNoID0gbmV3RGF0YS5jaGFyQ29kZUF0KGkpLCBza2lwS2V5UHJlc3NFdmVudCA9ICExLCBpZ25vcmFibGUgPSAhMSxcclxuICAgICAgICAgICAgICAgIGtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgITEsIGdldE1hc2tTZXQoKS5wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3J3YXJkUG9zaXRpb24gPSBnZXRNYXNrU2V0KCkucDtcclxuICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgb3B0cy5udW1lcmljSW5wdXQgPyBzZWVrUHJldmlvdXMoZm9yd2FyZFBvc2l0aW9uKSA6IGZvcndhcmRQb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0sIDApLCBjb21wb3NpdGlvbkRhdGEgPSBldi5kYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjb21wb3NpdGlvbkVuZEV2ZW50KGUpIHsgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFZhbHVlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCB2YWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgY2hlY2tWYWwoaW5wdXQsICEwLCAhMSwgKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzay5jYWxsKGlucHV0LCB2YWx1ZSwgb3B0cykgfHwgdmFsdWUgOiB2YWx1ZSkuc3BsaXQoXCJcIikpLFxyXG4gICAgICAgICAgICB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLCAob3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyB8fCBvcHRzLmNsZWFySW5jb21wbGV0ZSkgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgJiYgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZm9jdXNFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICBvcHRzLnNob3dNYXNrT25Gb2N1cyAmJiAoIW9wdHMuc2hvd01hc2tPbkhvdmVyIHx8IG9wdHMuc2hvd01hc2tPbkhvdmVyICYmIFwiXCIgPT09IG5wdFZhbHVlKSA/IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKSA6IG1vdXNlRW50ZXIgPT09ICExICYmIGNhcmV0KGlucHV0LCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSksXHJcbiAgICAgICAgICAgIG9wdHMucG9zaXRpb25DYXJldE9uVGFiID09PSAhMCAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgIH0sIDApLCB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb3VzZWxlYXZlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAobW91c2VFbnRlciA9ICExLCBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCkuc2xpY2UoKSwgbnB0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBpbnB1dCAmJiBucHRWYWx1ZSAhPT0gaW5wdXQuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikgJiYgXCJcIiAhPT0gbnB0VmFsdWUgJiYgKC0xID09PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICYmIG5wdFZhbHVlID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyBidWZmZXIgPSBbXSA6IGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlciksXHJcbiAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2xpY2tFdmVudChlKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRvUmFkaXhGb2N1cyhjbGlja1Bvcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMucmFkaXhGb2N1cyAmJiBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IHZwc1tjbGlja1Bvc10gfHwgdnBzW2NsaWNrUG9zXS5pbnB1dCA9PT0gZ2V0UGxhY2Vob2xkZXIoY2xpY2tQb3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjbGlja1BvcyA8IHNlZWtOZXh0KC0xKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3MgPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtMSAhPT0gcmFkaXhQb3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZwIGluIHZwcykgaWYgKHZwID4gcmFkaXhQb3MgJiYgdnBzW3ZwXS5pbnB1dCAhPT0gZ2V0UGxhY2Vob2xkZXIodnApKSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGlucHV0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRDYXJldCA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZENhcmV0LmJlZ2luID09PSBzZWxlY3RlZENhcmV0LmVuZCkgaWYgKGRvUmFkaXhGb2N1cyhzZWxlY3RlZENhcmV0LmJlZ2luKSkgY2FyZXQoaW5wdXQsICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGdldEJ1ZmZlcigpKSk7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGlja1Bvc2l0aW9uID0gc2VsZWN0ZWRDYXJldC5iZWdpbiwgbHZjbGlja1Bvc2l0aW9uID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oY2xpY2tQb3NpdGlvbiksIGxhc3RQb3NpdGlvbiA9IHNlZWtOZXh0KGx2Y2xpY2tQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFBvc2l0aW9uID4gY2xpY2tQb3NpdGlvbiA/IGNhcmV0KGlucHV0LCBpc01hc2soY2xpY2tQb3NpdGlvbikgfHwgaXNNYXNrKGNsaWNrUG9zaXRpb24gLSAxKSA/IGNsaWNrUG9zaXRpb24gOiBzZWVrTmV4dChjbGlja1Bvc2l0aW9uKSkgOiBjYXJldChpbnB1dCwgb3B0cy5udW1lcmljSW5wdXQgPyAwIDogbGFzdFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkYmxjbGlja0V2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgMCwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY3V0RXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCAkaW5wdXQgPSAkKGlucHV0KSwgcG9zID0gY2FyZXQoaW5wdXQpLCBldiA9IGUub3JpZ2luYWxFdmVudCB8fCBlLCBjbGlwYm9hcmREYXRhID0gd2luZG93LmNsaXBib2FyZERhdGEgfHwgZXYuY2xpcGJvYXJkRGF0YSwgY2xpcERhdGEgPSBpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKHBvcy5lbmQsIHBvcy5iZWdpbikgOiBnZXRCdWZmZXIoKS5zbGljZShwb3MuYmVnaW4sIHBvcy5lbmQpO1xyXG4gICAgICAgICAgICBjbGlwYm9hcmREYXRhLnNldERhdGEoXCJ0ZXh0XCIsIGlzUlRMID8gY2xpcERhdGEucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBjbGlwRGF0YS5qb2luKFwiXCIpKSxcclxuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQgJiYgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJjb3B5XCIpLCBoYW5kbGVSZW1vdmUoaW5wdXQsIElucHV0bWFzay5rZXlDb2RlLkRFTEVURSwgcG9zKSxcclxuICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBnZXRNYXNrU2V0KCkucCwgZSwgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKSxcclxuICAgICAgICAgICAgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgJiYgJGlucHV0LnRyaWdnZXIoXCJjbGVhcmVkXCIpLFxyXG4gICAgICAgICAgICBvcHRzLnNob3dUb29sdGlwICYmIChpbnB1dC50aXRsZSA9IG9wdHMudG9vbHRpcCB8fCBnZXRNYXNrU2V0KCkubWFzayk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGJsdXJFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpLCBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChpbnB1dC5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgIHZhciBucHRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSwgYnVmZmVyID0gZ2V0QnVmZmVyKCkuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSAhPT0gYnVmZmVyLmpvaW4oXCJcIikgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJjaGFuZ2VcIiksIHVuZG9WYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfSwgMCksIFwiXCIgIT09IG5wdFZhbHVlICYmIChvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzICYmICgtMSA9PT0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSAmJiBucHRWYWx1ZSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpID8gYnVmZmVyID0gW10gOiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpKSxcclxuICAgICAgICAgICAgICAgIGlzQ29tcGxldGUoYnVmZmVyKSA9PT0gITEgJiYgKHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiaW5jb21wbGV0ZVwiKTtcclxuICAgICAgICAgICAgICAgIH0sIDApLCBvcHRzLmNsZWFySW5jb21wbGV0ZSAmJiAocmVzZXRNYXNrU2V0KCksIGJ1ZmZlciA9IG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgPyBbXSA6IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoKSkpLFxyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGJ1ZmZlciwgdm9pZCAwLCBlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbW91c2VlbnRlckV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgbW91c2VFbnRlciA9ICEwLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICE9PSBpbnB1dCAmJiBvcHRzLnNob3dNYXNrT25Ib3ZlciAmJiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gbWFzayhlbGVtKSB7XHJcbiAgICAgICAgICAgIGlmIChlbCA9IGVsZW0sICRlbCA9ICQoZWwpLCBvcHRzLnNob3dUb29sdGlwICYmIChlbC50aXRsZSA9IG9wdHMudG9vbHRpcCB8fCBnZXRNYXNrU2V0KCkubWFzayksXHJcbiAgICAgICAgICAgIChcInJ0bFwiID09PSBlbC5kaXIgfHwgb3B0cy5yaWdodEFsaWduKSAmJiAoZWwuc3R5bGUudGV4dEFsaWduID0gXCJyaWdodFwiKSwgKFwicnRsXCIgPT09IGVsLmRpciB8fCBvcHRzLm51bWVyaWNJbnB1dCkgJiYgKGVsLmRpciA9IFwibHRyXCIsXHJcbiAgICAgICAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZShcImRpclwiKSwgZWwuaW5wdXRtYXNrLmlzUlRMID0gITAsIGlzUlRMID0gITApLCAkZWwub2ZmKFwiLmlucHV0bWFza1wiKSxcclxuICAgICAgICAgICAgcGF0Y2hWYWx1ZVByb3BlcnR5KGVsKSwgKFwiSU5QVVRcIiA9PT0gZWwudGFnTmFtZSAmJiBpc0lucHV0VHlwZVN1cHBvcnRlZChlbC5nZXRBdHRyaWJ1dGUoXCJ0eXBlXCIpKSB8fCBlbC5pc0NvbnRlbnRFZGl0YWJsZSkgJiYgKCQoZWwuZm9ybSkub24oXCJzdWJtaXRcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdW5kb1ZhbHVlICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmICRlbC50cmlnZ2VyKFwiY2hhbmdlXCIpLCBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzICYmIC0xID09PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICYmIGVsLmlucHV0bWFzay5fdmFsdWVHZXQgJiYgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgJiYgZWwuaW5wdXRtYXNrLl92YWx1ZVNldChcIlwiKSxcclxuICAgICAgICAgICAgICAgIG9wdHMucmVtb3ZlTWFza09uU3VibWl0ICYmIChlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KGVsLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCksICEwKSxcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGVsLCBnZXRCdWZmZXIoKSk7XHJcbiAgICAgICAgICAgIH0sIDApKTtcclxuICAgICAgICAgICAgfSkub24oXCJyZXNldFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZWwudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgfSwgMCk7XHJcbiAgICAgICAgICAgIH0pLCAkZWwub24oXCJtb3VzZWVudGVyLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihtb3VzZWVudGVyRXZlbnQpKS5vbihcImJsdXIuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGJsdXJFdmVudCkpLm9uKFwiZm9jdXMuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGZvY3VzRXZlbnQpKS5vbihcIm1vdXNlbGVhdmUuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG1vdXNlbGVhdmVFdmVudCkpLm9uKFwiY2xpY2suaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGNsaWNrRXZlbnQpKS5vbihcImRibGNsaWNrLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihkYmxjbGlja0V2ZW50KSkub24oUGFzdGVFdmVudFR5cGUgKyBcIi5pbnB1dG1hc2sgZHJhZ2Ryb3AuaW5wdXRtYXNrIGRyb3AuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKHBhc3RlRXZlbnQpKS5vbihcImN1dC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoY3V0RXZlbnQpKS5vbihcImNvbXBsZXRlLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihvcHRzLm9uY29tcGxldGUpKS5vbihcImluY29tcGxldGUuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG9wdHMub25pbmNvbXBsZXRlKSkub24oXCJjbGVhcmVkLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihvcHRzLm9uY2xlYXJlZCkpLm9uKFwia2V5ZG93bi5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoa2V5ZG93bkV2ZW50KSkub24oXCJrZXlwcmVzcy5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoa2V5cHJlc3NFdmVudCkpLFxyXG4gICAgICAgICAgICBhbmRyb2lkZmlyZWZveCB8fCAkZWwub24oXCJjb21wb3NpdGlvbnN0YXJ0LmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihjb21wb3NpdGlvblN0YXJ0RXZlbnQpKS5vbihcImNvbXBvc2l0aW9udXBkYXRlLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihjb21wb3NpdGlvblVwZGF0ZUV2ZW50KSkub24oXCJjb21wb3NpdGlvbmVuZC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoY29tcG9zaXRpb25FbmRFdmVudCkpLFxyXG4gICAgICAgICAgICBcInBhc3RlXCIgPT09IFBhc3RlRXZlbnRUeXBlICYmICRlbC5vbihcImlucHV0LmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihpbnB1dEZhbGxCYWNrRXZlbnQpKSxcclxuICAgICAgICAgICAgKGFuZHJvaWQgfHwgYW5kcm9pZGZpcmVmb3ggfHwgYW5kcm9pZGNocm9tZSB8fCBraW5kbGUpICYmICgkZWwub2ZmKFwiaW5wdXQuaW5wdXRtYXNrXCIpLFxyXG4gICAgICAgICAgICAkZWwub24oXCJpbnB1dC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIobW9iaWxlSW5wdXRFdmVudCkpKSksICRlbC5vbihcInNldHZhbHVlLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihzZXRWYWx1ZUV2ZW50KSksXHJcbiAgICAgICAgICAgIFwiXCIgIT09IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKSB8fCBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzID09PSAhMSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGluaXRpYWxWYWx1ZSA9ICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzay5jYWxsKGVsLCBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCksIG9wdHMpIHx8IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKSA6IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgIGNoZWNrVmFsKGVsLCAhMCwgITEsIGluaXRpYWxWYWx1ZS5zcGxpdChcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCkuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpLCBpc0NvbXBsZXRlKGJ1ZmZlcikgPT09ICExICYmIG9wdHMuY2xlYXJJbmNvbXBsZXRlICYmIHJlc2V0TWFza1NldCgpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyAmJiAoYnVmZmVyLmpvaW4oXCJcIikgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/IGJ1ZmZlciA9IFtdIDogY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSksXHJcbiAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihlbCwgYnVmZmVyKSwgZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gZWwgJiYgY2FyZXQoZWwsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdW5kb1ZhbHVlLCBjb21wb3NpdGlvbkRhdGEsIGVsLCAkZWwsIG1heExlbmd0aCwgdmFsdWVCdWZmZXIsIGlzUlRMID0gITEsIHNraXBLZXlQcmVzc0V2ZW50ID0gITEsIHNraXBJbnB1dEV2ZW50ID0gITEsIGlnbm9yYWJsZSA9ICExLCBtb3VzZUVudGVyID0gITA7XHJcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gYWN0aW9uT2JqKSBzd2l0Y2ggKGFjdGlvbk9iai5hY3Rpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBcImlzQ29tcGxldGVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBlbCA9IGFjdGlvbk9iai5lbCwgaXNDb21wbGV0ZShnZXRCdWZmZXIoKSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwidW5tYXNrZWR2YWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsID0gYWN0aW9uT2JqLmVsLCB2b2lkIDAgIT09IGVsICYmIHZvaWQgMCAhPT0gZWwuaW5wdXRtYXNrID8gKG1hc2tzZXQgPSBlbC5pbnB1dG1hc2subWFza3NldCxcclxuICAgICAgICAgICAgICAgIG9wdHMgPSBlbC5pbnB1dG1hc2sub3B0cywgaXNSVEwgPSBlbC5pbnB1dG1hc2suaXNSVEwsIHZhbHVlQnVmZmVyID0gaXNSVEwgPyBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkpIDogdmFsdWVCdWZmZXIgPSBhY3Rpb25PYmoudmFsdWUsXHJcbiAgICAgICAgICAgICAgICBvcHRzLm51bWVyaWNJbnB1dCAmJiAoaXNSVEwgPSAhMCksIHZhbHVlQnVmZmVyID0gKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzayh2YWx1ZUJ1ZmZlciwgb3B0cykgfHwgdmFsdWVCdWZmZXIgOiB2YWx1ZUJ1ZmZlcikuc3BsaXQoXCJcIiksXHJcbiAgICAgICAgICAgICAgICBjaGVja1ZhbCh2b2lkIDAsICExLCAhMSwgaXNSVEwgPyB2YWx1ZUJ1ZmZlci5yZXZlcnNlKCkgOiB2YWx1ZUJ1ZmZlciksICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpICYmIG9wdHMub25CZWZvcmVXcml0ZSh2b2lkIDAsIGdldEJ1ZmZlcigpLCAwLCBvcHRzKSxcclxuICAgICAgICAgICAgICAgIHVubWFza2VkdmFsdWUoZWwpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIm1hc2tcIjpcclxuICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsLCBtYXNrc2V0ID0gZWwuaW5wdXRtYXNrLm1hc2tzZXQsIG9wdHMgPSBlbC5pbnB1dG1hc2sub3B0cywgaXNSVEwgPSBlbC5pbnB1dG1hc2suaXNSVEwsXHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLCBtYXNrKGVsKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImZvcm1hdFwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMubnVtZXJpY0lucHV0ICYmIChpc1JUTCA9ICEwKSwgdmFsdWVCdWZmZXIgPSAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrKGFjdGlvbk9iai52YWx1ZSwgb3B0cykgfHwgYWN0aW9uT2JqLnZhbHVlIDogYWN0aW9uT2JqLnZhbHVlKS5zcGxpdChcIlwiKSxcclxuICAgICAgICAgICAgICAgIGNoZWNrVmFsKHZvaWQgMCwgITEsICExLCBpc1JUTCA/IHZhbHVlQnVmZmVyLnJldmVyc2UoKSA6IHZhbHVlQnVmZmVyKSwgJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVXcml0ZSkgJiYgb3B0cy5vbkJlZm9yZVdyaXRlKHZvaWQgMCwgZ2V0QnVmZmVyKCksIDAsIG9wdHMpLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uT2JqLm1ldGFkYXRhID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246IFwiZ2V0bWV0YWRhdGFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0sIG1hc2tzZXQsIG9wdHMpXHJcbiAgICAgICAgICAgICAgICB9IDogaXNSVEwgPyBnZXRCdWZmZXIoKS5zbGljZSgpLnJldmVyc2UoKS5qb2luKFwiXCIpIDogZ2V0QnVmZmVyKCkuam9pbihcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJpc1ZhbGlkXCI6XHJcbiAgICAgICAgICAgICAgICBvcHRzLm51bWVyaWNJbnB1dCAmJiAoaXNSVEwgPSAhMCksIHZhbHVlQnVmZmVyID0gYWN0aW9uT2JqLnZhbHVlLnNwbGl0KFwiXCIpLCBjaGVja1ZhbCh2b2lkIDAsICExLCAhMCwgaXNSVEwgPyB2YWx1ZUJ1ZmZlci5yZXZlcnNlKCkgOiB2YWx1ZUJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKSwgcmwgPSBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbigpLCBsbWliID0gYnVmZmVyLmxlbmd0aCAtIDE7IGxtaWIgPiBybCAmJiAhaXNNYXNrKGxtaWIpIDsgbG1pYi0tKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXIuc3BsaWNlKHJsLCBsbWliICsgMSAtIHJsKSwgaXNDb21wbGV0ZShidWZmZXIpICYmIGFjdGlvbk9iai52YWx1ZSA9PT0gYnVmZmVyLmpvaW4oXCJcIik7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0ZW1wdHltYXNrXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0QnVmZmVyVGVtcGxhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIGVsID0gYWN0aW9uT2JqLmVsLCAkZWwgPSAkKGVsKSwgbWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0LCBvcHRzID0gZWwuaW5wdXRtYXNrLm9wdHMsXHJcbiAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KHVubWFza2VkdmFsdWUoZWwpKSwgJGVsLm9mZihcIi5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVQcm9wZXJ0eTtcclxuICAgICAgICAgICAgICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgJiYgKHZhbHVlUHJvcGVydHkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVsLCBcInZhbHVlXCIpKSxcclxuICAgICAgICAgICAgICAgIHZhbHVlUHJvcGVydHkgJiYgdmFsdWVQcm9wZXJ0eS5nZXQgPyBlbC5pbnB1dG1hc2suX192YWx1ZUdldCAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWwsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIGdldDogZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgc2V0OiBlbC5pbnB1dG1hc2suX192YWx1ZVNldFxyXG4gICAgICAgICAgICAgICAgfSkgOiBkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fICYmIGVsLl9fbG9va3VwR2V0dGVyX18oXCJ2YWx1ZVwiKSAmJiBlbC5pbnB1dG1hc2suX192YWx1ZUdldCAmJiAoZWwuX19kZWZpbmVHZXR0ZXJfXyhcInZhbHVlXCIsIGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0KSxcclxuICAgICAgICAgICAgICAgIGVsLl9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLCBlbC5pbnB1dG1hc2suX192YWx1ZVNldCkpLCBlbC5pbnB1dG1hc2sgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRtZXRhZGF0YVwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKCQuaXNBcnJheShtYXNrc2V0Lm1ldGFkYXRhKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFsdGVybmF0aW9uLCBsdnAgPSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCBmaXJzdEFsdCA9IGx2cDsgZmlyc3RBbHQgPj0gMDsgZmlyc3RBbHQtLSkgaWYgKGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmaXJzdEFsdF0gJiYgdm9pZCAwICE9PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZmlyc3RBbHRdLmFsdGVybmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0aW9uID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ZpcnN0QWx0XS5hbHRlcm5hdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IGFsdGVybmF0aW9uID8gbWFza3NldC5tZXRhZGF0YVtnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXS5sb2NhdG9yW2FsdGVybmF0aW9uXV0gOiBtYXNrc2V0Lm1ldGFkYXRhWzBdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tzZXQubWV0YWRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgSW5wdXRtYXNrLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBkZWZhdWx0czoge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJfXCIsXHJcbiAgICAgICAgICAgIG9wdGlvbmFsbWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICBzdGFydDogXCJbXCIsXHJcbiAgICAgICAgICAgICAgICBlbmQ6IFwiXVwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHF1YW50aWZpZXJtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBcIntcIixcclxuICAgICAgICAgICAgICAgIGVuZDogXCJ9XCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ3JvdXBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBcIihcIixcclxuICAgICAgICAgICAgICAgIGVuZDogXCIpXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYWx0ZXJuYXRvcm1hcmtlcjogXCJ8XCIsXHJcbiAgICAgICAgICAgIGVzY2FwZUNoYXI6IFwiXFxcXFwiLFxyXG4gICAgICAgICAgICBtYXNrOiBudWxsLFxyXG4gICAgICAgICAgICBvbmNvbXBsZXRlOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIG9uaW5jb21wbGV0ZTogJC5ub29wLFxyXG4gICAgICAgICAgICBvbmNsZWFyZWQ6ICQubm9vcCxcclxuICAgICAgICAgICAgcmVwZWF0OiAwLFxyXG4gICAgICAgICAgICBncmVlZHk6ICEwLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMSxcclxuICAgICAgICAgICAgcmVtb3ZlTWFza09uU3VibWl0OiAhMSxcclxuICAgICAgICAgICAgY2xlYXJNYXNrT25Mb3N0Rm9jdXM6ICEwLFxyXG4gICAgICAgICAgICBpbnNlcnRNb2RlOiAhMCxcclxuICAgICAgICAgICAgY2xlYXJJbmNvbXBsZXRlOiAhMSxcclxuICAgICAgICAgICAgYWxpYXNlczoge30sXHJcbiAgICAgICAgICAgIGFsaWFzOiBudWxsLFxyXG4gICAgICAgICAgICBvbktleURvd246ICQubm9vcCxcclxuICAgICAgICAgICAgb25CZWZvcmVNYXNrOiBudWxsLFxyXG4gICAgICAgICAgICBvbkJlZm9yZVBhc3RlOiBmdW5jdGlvbiAocGFzdGVkVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2socGFzdGVkVmFsdWUsIG9wdHMpIDogcGFzdGVkVmFsdWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uQmVmb3JlV3JpdGU6IG51bGwsXHJcbiAgICAgICAgICAgIG9uVW5NYXNrOiBudWxsLFxyXG4gICAgICAgICAgICBzaG93TWFza09uRm9jdXM6ICEwLFxyXG4gICAgICAgICAgICBzaG93TWFza09uSG92ZXI6ICEwLFxyXG4gICAgICAgICAgICBvbktleVZhbGlkYXRpb246ICQubm9vcCxcclxuICAgICAgICAgICAgc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlcjogXCIgXCIsXHJcbiAgICAgICAgICAgIHNob3dUb29sdGlwOiAhMSxcclxuICAgICAgICAgICAgdG9vbHRpcDogdm9pZCAwLFxyXG4gICAgICAgICAgICBudW1lcmljSW5wdXQ6ICExLFxyXG4gICAgICAgICAgICByaWdodEFsaWduOiAhMSxcclxuICAgICAgICAgICAgdW5kb09uRXNjYXBlOiAhMCxcclxuICAgICAgICAgICAgcmFkaXhQb2ludDogXCJcIixcclxuICAgICAgICAgICAgZ3JvdXBTZXBhcmF0b3I6IFwiXCIsXHJcbiAgICAgICAgICAgIHJhZGl4Rm9jdXM6ICExLFxyXG4gICAgICAgICAgICBub2p1bXBzOiAhMSxcclxuICAgICAgICAgICAgbm9qdW1wc1RocmVzaG9sZDogMCxcclxuICAgICAgICAgICAga2VlcFN0YXRpYzogbnVsbCxcclxuICAgICAgICAgICAgcG9zaXRpb25DYXJldE9uVGFiOiAhMSxcclxuICAgICAgICAgICAgdGFiVGhyb3VnaDogITEsXHJcbiAgICAgICAgICAgIHN1cHBvcnRzSW5wdXRUeXBlOiBbXSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIFwiOVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTldXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvblN5bWJvbDogXCIqXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmaW5pdGlvblN5bWJvbDogXCIqXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIipcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16XFx1MDQxMC1cXHUwNDRmXFx1MDQwMVxcdTA0NTFcXHhjMC1cXHhmZlxceGI1XVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlnbm9yYWJsZXM6IFs4LCA5LCAxMywgMTksIDI3LCAzMywgMzQsIDM1LCAzNiwgMzcsIDM4LCAzOSwgNDAsIDQ1LCA0NiwgOTMsIDExMiwgMTEzLCAxMTQsIDExNSwgMTE2LCAxMTcsIDExOCwgMTE5LCAxMjAsIDEyMSwgMTIyLCAxMjNdLFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlOiBudWxsLFxyXG4gICAgICAgICAgICBjYW5DbGVhclBvc2l0aW9uOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBudWxsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYXNrc0NhY2hlOiB7fSxcclxuICAgICAgICBtYXNrOiBmdW5jdGlvbiAoZWxlbXMpIHtcclxuICAgICAgICAgICAgdmFyIHRoYXQgPSB0aGlzO1xyXG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZWxlbXMgJiYgKGVsZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtcykpLCBlbGVtcyA9IGVsZW1zLm5vZGVOYW1lID8gW2VsZW1zXSA6IGVsZW1zLFxyXG4gICAgICAgICAgICAkLmVhY2goZWxlbXMsIGZ1bmN0aW9uIChuZHgsIGVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2NvcGVkT3B0cyA9ICQuZXh0ZW5kKCEwLCB7fSwgdGhhdC5vcHRzKTtcclxuICAgICAgICAgICAgICAgIGltcG9ydEF0dHJpYnV0ZU9wdGlvbnMoZWwsIHNjb3BlZE9wdHMsICQuZXh0ZW5kKCEwLCB7fSwgdGhhdC51c2VyT3B0aW9ucykpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tzZXQgPSBnZW5lcmF0ZU1hc2tTZXQoc2NvcGVkT3B0cywgdGhhdC5ub01hc2tzQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBtYXNrc2V0ICYmICh2b2lkIDAgIT09IGVsLmlucHV0bWFzayAmJiBlbC5pbnB1dG1hc2sucmVtb3ZlKCksIGVsLmlucHV0bWFzayA9IG5ldyBJbnB1dG1hc2soKSxcclxuICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5vcHRzID0gc2NvcGVkT3B0cywgZWwuaW5wdXRtYXNrLm5vTWFza3NDYWNoZSA9IHRoYXQubm9NYXNrc0NhY2hlLCBlbC5pbnB1dG1hc2sudXNlck9wdGlvbnMgPSAkLmV4dGVuZCghMCwge30sIHRoYXQudXNlck9wdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLmVsID0gZWwsIGVsLmlucHV0bWFzay5tYXNrc2V0ID0gbWFza3NldCwgZWwuaW5wdXRtYXNrLmlzUlRMID0gITEsICQuZGF0YShlbCwgXCJfaW5wdXRtYXNrX29wdHNcIiwgc2NvcGVkT3B0cyksXHJcbiAgICAgICAgICAgICAgICBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJtYXNrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgZWw6IGVsXHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH0pLCBlbGVtcyA/IGVsZW1zWzBdLmlucHV0bWFzayB8fCB0aGlzIDogdGhpcztcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9wdGlvbjogZnVuY3Rpb24gKG9wdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIG9wdGlvbnMgPyB0aGlzLm9wdHNbb3B0aW9uc10gOiBcIm9iamVjdFwiID09IHR5cGVvZiBvcHRpb25zID8gKCQuZXh0ZW5kKHRoaXMub3B0cywgb3B0aW9ucyksXHJcbiAgICAgICAgICAgICQuZXh0ZW5kKHRoaXMudXNlck9wdGlvbnMsIG9wdGlvbnMpLCB0aGlzLmVsICYmICh2b2lkIDAgIT09IG9wdGlvbnMubWFzayB8fCB2b2lkIDAgIT09IG9wdGlvbnMuYWxpYXMgPyB0aGlzLm1hc2sodGhpcy5lbCkgOiAoJC5kYXRhKHRoaXMuZWwsIFwiX2lucHV0bWFza19vcHRzXCIsIHRoaXMub3B0cyksXHJcbiAgICAgICAgICAgIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwibWFza1wiLFxyXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuZWxcclxuICAgICAgICAgICAgfSkpKSwgdGhpcykgOiB2b2lkIDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1bm1hc2tlZHZhbHVlOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwidW5tYXNrZWR2YWx1ZVwiLFxyXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuZWwsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgfSwgdGhpcy5lbCAmJiB0aGlzLmVsLmlucHV0bWFzayA/IHRoaXMuZWwuaW5wdXRtYXNrLm1hc2tzZXQgOiBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWwgPyAobWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJyZW1vdmVcIixcclxuICAgICAgICAgICAgICAgIGVsOiB0aGlzLmVsXHJcbiAgICAgICAgICAgIH0pLCB0aGlzLmVsLmlucHV0bWFzayA9IHZvaWQgMCwgdGhpcy5lbCkgOiB2b2lkIDA7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRlbXB0eW1hc2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiZ2V0ZW1wdHltYXNrXCJcclxuICAgICAgICAgICAgfSwgdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGhhc01hc2tlZFZhbHVlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAhdGhpcy5vcHRzLmF1dG9Vbm1hc2s7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc0NvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImlzQ29tcGxldGVcIixcclxuICAgICAgICAgICAgICAgIGVsOiB0aGlzLmVsXHJcbiAgICAgICAgICAgIH0sIHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBnZXRtZXRhZGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJnZXRtZXRhZGF0YVwiXHJcbiAgICAgICAgICAgIH0sIHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBpc1ZhbGlkOiBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiaXNWYWxpZFwiLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXHJcbiAgICAgICAgICAgIH0sIHRoaXMubWFza3NldCB8fCBnZW5lcmF0ZU1hc2tTZXQodGhpcy5vcHRzLCB0aGlzLm5vTWFza3NDYWNoZSksIHRoaXMub3B0cyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uICh2YWx1ZSwgbWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiZm9ybWF0XCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcclxuICAgICAgICAgICAgfSwgdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9XHJcbiAgICB9LCBJbnB1dG1hc2suZXh0ZW5kRGVmYXVsdHMgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICQuZXh0ZW5kKCEwLCBJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLCBvcHRpb25zKTtcclxuICAgIH0sIElucHV0bWFzay5leHRlbmREZWZpbml0aW9ucyA9IGZ1bmN0aW9uIChkZWZpbml0aW9uKSB7XHJcbiAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMuZGVmaW5pdGlvbnMsIGRlZmluaXRpb24pO1xyXG4gICAgfSwgSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMgPSBmdW5jdGlvbiAoYWxpYXMpIHtcclxuICAgICAgICAkLmV4dGVuZCghMCwgSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cy5hbGlhc2VzLCBhbGlhcyk7XHJcbiAgICB9LCBJbnB1dG1hc2suZm9ybWF0ID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zLCBtZXRhZGF0YSkge1xyXG4gICAgICAgIHJldHVybiBJbnB1dG1hc2sob3B0aW9ucykuZm9ybWF0KHZhbHVlLCBtZXRhZGF0YSk7XHJcbiAgICB9LCBJbnB1dG1hc2sudW5tYXNrID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIElucHV0bWFzayhvcHRpb25zKS51bm1hc2tlZHZhbHVlKHZhbHVlKTtcclxuICAgIH0sIElucHV0bWFzay5pc1ZhbGlkID0gZnVuY3Rpb24gKHZhbHVlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIElucHV0bWFzayhvcHRpb25zKS5pc1ZhbGlkKHZhbHVlKTtcclxuICAgIH0sIElucHV0bWFzay5yZW1vdmUgPSBmdW5jdGlvbiAoZWxlbXMpIHtcclxuICAgICAgICAkLmVhY2goZWxlbXMsIGZ1bmN0aW9uIChuZHgsIGVsKSB7XHJcbiAgICAgICAgICAgIGVsLmlucHV0bWFzayAmJiBlbC5pbnB1dG1hc2sucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBJbnB1dG1hc2suZXNjYXBlUmVnZXggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAgICAgdmFyIHNwZWNpYWxzID0gW1wiL1wiLCBcIi5cIiwgXCIqXCIsIFwiK1wiLCBcIj9cIiwgXCJ8XCIsIFwiKFwiLCBcIilcIiwgXCJbXCIsIFwiXVwiLCBcIntcIiwgXCJ9XCIsIFwiXFxcXFwiLCBcIiRcIiwgXCJeXCJdO1xyXG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZShuZXcgUmVnRXhwKFwiKFxcXFxcIiArIHNwZWNpYWxzLmpvaW4oXCJ8XFxcXFwiKSArIFwiKVwiLCBcImdpbVwiKSwgXCJcXFxcJDFcIik7XHJcbiAgICB9LCBJbnB1dG1hc2sua2V5Q29kZSA9IHtcclxuICAgICAgICBBTFQ6IDE4LFxyXG4gICAgICAgIEJBQ0tTUEFDRTogOCxcclxuICAgICAgICBDQVBTX0xPQ0s6IDIwLFxyXG4gICAgICAgIENPTU1BOiAxODgsXHJcbiAgICAgICAgQ09NTUFORDogOTEsXHJcbiAgICAgICAgQ09NTUFORF9MRUZUOiA5MSxcclxuICAgICAgICBDT01NQU5EX1JJR0hUOiA5MyxcclxuICAgICAgICBDT05UUk9MOiAxNyxcclxuICAgICAgICBERUxFVEU6IDQ2LFxyXG4gICAgICAgIERPV046IDQwLFxyXG4gICAgICAgIEVORDogMzUsXHJcbiAgICAgICAgRU5URVI6IDEzLFxyXG4gICAgICAgIEVTQ0FQRTogMjcsXHJcbiAgICAgICAgSE9NRTogMzYsXHJcbiAgICAgICAgSU5TRVJUOiA0NSxcclxuICAgICAgICBMRUZUOiAzNyxcclxuICAgICAgICBNRU5VOiA5MyxcclxuICAgICAgICBOVU1QQURfQUREOiAxMDcsXHJcbiAgICAgICAgTlVNUEFEX0RFQ0lNQUw6IDExMCxcclxuICAgICAgICBOVU1QQURfRElWSURFOiAxMTEsXHJcbiAgICAgICAgTlVNUEFEX0VOVEVSOiAxMDgsXHJcbiAgICAgICAgTlVNUEFEX01VTFRJUExZOiAxMDYsXHJcbiAgICAgICAgTlVNUEFEX1NVQlRSQUNUOiAxMDksXHJcbiAgICAgICAgUEFHRV9ET1dOOiAzNCxcclxuICAgICAgICBQQUdFX1VQOiAzMyxcclxuICAgICAgICBQRVJJT0Q6IDE5MCxcclxuICAgICAgICBSSUdIVDogMzksXHJcbiAgICAgICAgU0hJRlQ6IDE2LFxyXG4gICAgICAgIFNQQUNFOiAzMixcclxuICAgICAgICBUQUI6IDksXHJcbiAgICAgICAgVVA6IDM4LFxyXG4gICAgICAgIFdJTkRPV1M6IDkxXHJcbiAgICB9O1xyXG4gICAgdmFyIHVhID0gbmF2aWdhdG9yLnVzZXJBZ2VudCwgaXBob25lID0gbnVsbCAhPT0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImlwaG9uZVwiLCBcImlcIikpLCBhbmRyb2lkID0gbnVsbCAhPT0gdWEubWF0Y2gobmV3IFJlZ0V4cChcImFuZHJvaWQuKnNhZmFyaS4qXCIsIFwiaVwiKSksIGFuZHJvaWRjaHJvbWUgPSBudWxsICE9PSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiYW5kcm9pZC4qY2hyb21lLipcIiwgXCJpXCIpKSwgYW5kcm9pZGZpcmVmb3ggPSBudWxsICE9PSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiYW5kcm9pZC4qZmlyZWZveC4qXCIsIFwiaVwiKSksIGtpbmRsZSA9IC9LaW5kbGUvaS50ZXN0KHVhKSB8fCAvU2lsay9pLnRlc3QodWEpIHx8IC9LRlRUL2kudGVzdCh1YSkgfHwgL0tGT1QvaS50ZXN0KHVhKSB8fCAvS0ZKV0EvaS50ZXN0KHVhKSB8fCAvS0ZKV0kvaS50ZXN0KHVhKSB8fCAvS0ZTT1dJL2kudGVzdCh1YSkgfHwgL0tGVEhXQS9pLnRlc3QodWEpIHx8IC9LRlRIV0kvaS50ZXN0KHVhKSB8fCAvS0ZBUFdBL2kudGVzdCh1YSkgfHwgL0tGQVBXSS9pLnRlc3QodWEpLCBQYXN0ZUV2ZW50VHlwZSA9IGlzSW5wdXRFdmVudFN1cHBvcnRlZChcInBhc3RlXCIpID8gXCJwYXN0ZVwiIDogaXNJbnB1dEV2ZW50U3VwcG9ydGVkKFwiaW5wdXRcIikgPyBcImlucHV0XCIgOiBcInByb3BlcnR5Y2hhbmdlXCI7XHJcbiAgICByZXR1cm4gd2luZG93LklucHV0bWFzayA9IElucHV0bWFzaywgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiB2b2lkIDAgPT09ICQuZm4uaW5wdXRtYXNrICYmICgkLmZuLmlucHV0bWFzayA9IGZ1bmN0aW9uIChmbiwgb3B0aW9ucykge1xyXG4gICAgICAgIHZhciBucHRtYXNrLCBpbnB1dDtcclxuICAgICAgICBpZiAob3B0aW9ucyA9IG9wdGlvbnMgfHwge30sIFwic3RyaW5nXCIgPT0gdHlwZW9mIGZuKSBzd2l0Y2ggKGZuKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJtYXNrXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnB0bWFzayA9IG5ldyBJbnB1dG1hc2sob3B0aW9ucyksIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnB0bWFzay5tYXNrKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwidW5tYXNrZWR2YWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkgOiAkKGlucHV0KS52YWwoKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJyZW1vdmVcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRtYXNrICYmIHRoaXMuaW5wdXRtYXNrLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZ2V0ZW1wdHltYXNrXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmdldGVtcHR5bWFzaygpIDogXCJcIjtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJoYXNNYXNrZWRWYWx1ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay5oYXNNYXNrZWRWYWx1ZSgpIDogITE7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiaXNDb21wbGV0ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay5pc0NvbXBsZXRlKCkgOiAhMDtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRtZXRhZGF0YVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsIGlucHV0LmlucHV0bWFzayA/IGlucHV0LmlucHV0bWFzay5nZXRtZXRhZGF0YSgpIDogdm9pZCAwO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInNldHZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCAkKGlucHV0KS52YWwob3B0aW9ucyksXHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGlucHV0LmlucHV0bWFzayAmJiAkKGlucHV0KS50cmlnZ2VySGFuZGxlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcIm9wdGlvblwiOlxyXG4gICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIG9wdGlvbnMpIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IHRoaXMuaW5wdXRtYXNrID8gdGhpcy5pbnB1dG1hc2sub3B0aW9uKG9wdGlvbnMpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgdm9pZCAwICE9PSBpbnB1dC5pbnB1dG1hc2spIHJldHVybiBpbnB1dC5pbnB1dG1hc2sub3B0aW9uKG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuYWxpYXMgPSBmbiwgbnB0bWFzayA9IG5ldyBJbnB1dG1hc2sob3B0aW9ucyksIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbnB0bWFzay5tYXNrKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGZuKSByZXR1cm4gbnB0bWFzayA9IG5ldyBJbnB1dG1hc2soZm4pLCB2b2lkIDAgPT09IGZuLm1hc2sgJiYgdm9pZCAwID09PSBmbi5hbGlhcyA/IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLmlucHV0bWFzayA/IHRoaXMuaW5wdXRtYXNrLm9wdGlvbihmbikgOiB2b2lkIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgfSkgOiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbnB0bWFzay5tYXNrKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gZm4pIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgbnB0bWFzayA9IG5ldyBJbnB1dG1hc2sob3B0aW9ucyksIG5wdG1hc2subWFzayh0aGlzKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSksICQuZm4uaW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIElucHV0bWFzay5leHRlbmREZWZpbml0aW9ucyh7XHJcbiAgICAgICAgaDoge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAxXVswLTldfDJbMC0zXVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTJdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgczoge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtNV1bMC05XVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTVdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZDoge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiMFsxLTldfFsxMl1bMC05XXwzWzAxXVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTNdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbToge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiMFsxLTldfDFbMDEyXVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswMV1cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICB5OiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCIoMTl8MjApXFxcXGR7Mn1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDQsXHJcbiAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMTJdXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiKDE5fDIwKVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDJcclxuICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIigxOXwyMClcXFxcZFwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDNcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgIFwiZGQvbW0veXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS8yL3lcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQvbW0veXl5eVwiLFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgdmFsMXByZTogbmV3IFJlZ0V4cChcIlswLTNdXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXxbMTJdWzAtOV18M1swMV1cIiksXHJcbiAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18WzEyXVswLTldfDNbMDFdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAxXSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMjogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfFsxMl1bMC05XSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEtOV18MVswMTJdKSl8KDMwXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxMy05XXwxWzAxMl0pKXwoMzFcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEzNTc4XXwxWzAyXSkpXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjI5LzAyL1wiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiL1wiLFxyXG4gICAgICAgICAgICB5ZWFycmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgIG1pbnllYXI6IDE5MDAsXHJcbiAgICAgICAgICAgICAgICBtYXh5ZWFyOiAyMDk5XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGlzSW5ZZWFyUmFuZ2U6IGZ1bmN0aW9uIChjaHJzLCBtaW55ZWFyLCBtYXh5ZWFyKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oY2hycykpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgIHZhciBlbnRlcmVkeWVhciA9IHBhcnNlSW50KGNocnMuY29uY2F0KG1pbnllYXIudG9TdHJpbmcoKS5zbGljZShjaHJzLmxlbmd0aCkpKSwgZW50ZXJlZHllYXIyID0gcGFyc2VJbnQoY2hycy5jb25jYXQobWF4eWVhci50b1N0cmluZygpLnNsaWNlKGNocnMubGVuZ3RoKSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChpc05hTihlbnRlcmVkeWVhcikgPyAhMSA6IGVudGVyZWR5ZWFyID49IG1pbnllYXIgJiYgbWF4eWVhciA+PSBlbnRlcmVkeWVhcikgfHwgKGlzTmFOKGVudGVyZWR5ZWFyMikgPyAhMSA6IGVudGVyZWR5ZWFyMiA+PSBtaW55ZWFyICYmIG1heHllYXIgPj0gZW50ZXJlZHllYXIyKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGV0ZXJtaW5lYmFzZXllYXI6IGZ1bmN0aW9uIChtaW55ZWFyLCBtYXh5ZWFyLCBoaW50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWlueWVhciA+IGN1cnJlbnR5ZWFyKSByZXR1cm4gbWlueWVhcjtcclxuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50eWVhciA+IG1heHllYXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtYXhZZWFyUHJlZml4ID0gbWF4eWVhci50b1N0cmluZygpLnNsaWNlKDAsIDIpLCBtYXhZZWFyUG9zdGZpeCA9IG1heHllYXIudG9TdHJpbmcoKS5zbGljZSgyLCA0KSA7IG1heFllYXJQcmVmaXggKyBoaW50ID4gbWF4eWVhcjspIG1heFllYXJQcmVmaXgtLTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4eFllYXIgPSBtYXhZZWFyUHJlZml4ICsgbWF4WWVhclBvc3RmaXg7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1pbnllYXIgPiBtYXh4WWVhciA/IG1pbnllYXIgOiBtYXh4WWVhcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50eWVhcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwodG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkgKyAodG9kYXkuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBnZXRGcm9udFZhbHVlOiBmdW5jdGlvbiAobWFzaywgYnVmZmVyLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGFydCA9IDAsIGxlbmd0aCA9IDAsIGkgPSAwOyBpIDwgbWFzay5sZW5ndGggJiYgXCIyXCIgIT09IG1hc2suY2hhckF0KGkpIDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmluaXRpb24gPSBvcHRzLmRlZmluaXRpb25zW21hc2suY2hhckF0KGkpXTtcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uID8gKHN0YXJ0ICs9IGxlbmd0aCwgbGVuZ3RoID0gZGVmaW5pdGlvbi5jYXJkaW5hbGl0eSkgOiBsZW5ndGgrKztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBidWZmZXIuam9pbihcIlwiKS5zdWJzdHIoc3RhcnQsIGxlbmd0aCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBcIjFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCBjaHJzLmNoYXJBdCgxKSAhPT0gb3B0cy5zZXBhcmF0b3IgJiYgLTEgPT09IFwiLS4vXCIuaW5kZXhPZihjaHJzLmNoYXJBdCgxKSkgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoXCIwXCIgKyBjaHJzLmNoYXJBdCgwKSkpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBjaHJzLmNoYXJBdCgwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwY2hycyA9IGNocnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc05hTihtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSkgfHwgKHBjaHJzICs9IG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gMSA9PT0gcGNocnMubGVuZ3RoID8gb3B0cy5yZWdleC52YWwxcHJlLnRlc3QocGNocnMpIDogb3B0cy5yZWdleC52YWwxLnRlc3QocGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMS50ZXN0KGNocnMgKyBcIjBcIikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gY2hycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlclsrK3Bvc10gPSBcIjBcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogXCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoXCIwXCIgKyBjaHJzKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiMlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb250VmFsdWUgPSBvcHRzLmdldEZyb250VmFsdWUobWFza3NldC5tYXNrLCBtYXNrc2V0LmJ1ZmZlciwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9PSBmcm9udFZhbHVlLmluZGV4T2Yob3B0cy5wbGFjZWhvbGRlclswXSkgJiYgKGZyb250VmFsdWUgPSBcIjAxXCIgKyBvcHRzLnNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQgJiYgKGNocnMuY2hhckF0KDEpID09PSBvcHRzLnNlcGFyYXRvciB8fCAtMSAhPT0gXCItLi9cIi5pbmRleE9mKGNocnMuY2hhckF0KDEpKSkgJiYgKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIFwiMFwiICsgY2hycy5jaGFyQXQoMCkpKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGNocnMuY2hhckF0KDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLm1hc2suaW5kZXhPZihcIjJcIikgPT09IG9wdHMubWFzay5sZW5ndGggLSAxICYmIGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlNb250aFZhbHVlID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHIoNCwgNCkgKyBjaHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheU1vbnRoVmFsdWUgIT09IG9wdHMubGVhcGRheSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cigwLCA0KSwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwID8geWVhciAlIDEwMCA9PT0gMCA/IHllYXIgJSA0MDAgPT09IDAgPyAhMCA6ICExIDogITAgOiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmFOKG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKSB8fCAoY2hycyArPSBtYXNrc2V0LmJ1ZmZlcltwb3MgKyAxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbnRWYWx1ZSA9IG9wdHMuZ2V0RnJvbnRWYWx1ZShtYXNrc2V0Lm1hc2ssIG1hc2tzZXQuYnVmZmVyLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0xICE9PSBmcm9udFZhbHVlLmluZGV4T2Yob3B0cy5wbGFjZWhvbGRlclswXSkgJiYgKGZyb250VmFsdWUgPSBcIjAxXCIgKyBvcHRzLnNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IDEgPT09IGNocnMubGVuZ3RoID8gb3B0cy5yZWdleC52YWwycHJlKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKSA6IG9wdHMucmVnZXgudmFsMihvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBcIjBcIiArIGNocnMpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRheU1vbnRoVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cigwLCA2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlNb250aFZhbHVlICE9PSBvcHRzLmxlYXBkYXkpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoY2hycywgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHllYXIgJSA0ID09PSAwID8geWVhciAlIDEwMCA9PT0gMCA/IHllYXIgJSA0MDAgPT09IDAgPyAhMCA6ICExIDogITAgOiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogNCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMgKyBcIjBcIikudG9TdHJpbmcoKS5zbGljZSgwLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycyArIFwiMFwiKS50b1N0cmluZygpLnNsaWNlKDAsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoeWVhclByZWZpeCArIGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzKS50b1N0cmluZygpLnNsaWNlKDAsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKGNocnNbMF0gKyB5ZWFyUHJlZml4WzFdICsgY2hyc1sxXSwgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycykudG9TdHJpbmcoKS5zbGljZSgwLCAyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLmlzSW5ZZWFyUmFuZ2UoeWVhclByZWZpeCArIGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXlNb250aFZhbHVlID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHIoMCwgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXlNb250aFZhbHVlICE9PSBvcHRzLmxlYXBkYXkpIGlzVmFsaWQgPSAhMDsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KGNocnMsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSB5ZWFyICUgNCA9PT0gMCA/IHllYXIgJSAxMDAgPT09IDAgPyB5ZWFyICUgNDAwID09PSAwID8gITAgOiAhMSA6ICEwIDogITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaXNWYWxpZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSB5ZWFyUHJlZml4LmNoYXJBdCgwKSwgbWFza3NldC5idWZmZXJbcG9zKytdID0geWVhclByZWZpeC5jaGFyQXQoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zKytdID0gY2hycy5jaGFyQXQoMCksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyXHJcbiAgICAgICAgICAgICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDNcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnNlcnRNb2RlOiAhMSxcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW0vZGQveXl5eVwiOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tL2RkL3l5eXlcIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiLFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0zXSl8KDAyXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0yXSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMjogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEtOV18WzEyXVswLTldKSl8KCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMwKXwoKDBbMTM1NzhdfDFbMDJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzEpXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoXCJbMDFdXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXwxWzAxMl1cIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhcGRheTogXCIwMi8yOS9cIixcclxuICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwoKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInl5eXkvbW0vZGRcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcInkvMS8yXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInl5eXkvbW0vZGRcIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIi8wMi8yOVwiLFxyXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbCh0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkgKyAodG9kYXkuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZGQubW0ueXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS4yLnlcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQubW0ueXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjI5LjAyLlwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLlwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiZGQtbW0teXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS0yLXlcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQtbW0teXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjI5LTAyLVwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW0uZGQueXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS4yLnlcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0uZGQueXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjAyLjI5LlwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLlwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW0tZGQteXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS0yLXlcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0tZGQteXl5eVwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjAyLTI5LVwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwieXl5eS5tbS5kZFwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwieS4xLjJcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwieXl5eS5tbS5kZFwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIi4wMi4yOVwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLlwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJ5eXl5L21tL2RkXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwieXl5eS1tbS1kZFwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwieS0xLTJcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwieXl5eS1tbS1kZFwiLFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIi0wMi0yOVwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiLVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJ5eXl5L21tL2RkXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGV0aW1lOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS8yL3kgaDpzXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImRkL21tL3l5eXkgaGg6bW1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiLFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgaHJzcHJlOiBuZXcgUmVnRXhwKFwiWzAxMl1cIiksXHJcbiAgICAgICAgICAgICAgICBocnMyNDogbmV3IFJlZ0V4cChcIjJbMC00XXwxWzMtOV1cIiksXHJcbiAgICAgICAgICAgICAgICBocnM6IG5ldyBSZWdFeHAoXCJbMDFdWzAtOV18MlswLTRdXCIpLFxyXG4gICAgICAgICAgICAgICAgYW1wbTogbmV3IFJlZ0V4cChcIl5bYXxwfEF8UF1bbXxNXVwiKSxcclxuICAgICAgICAgICAgICAgIG1zcHJlOiBuZXcgUmVnRXhwKFwiWzAtNV1cIiksXHJcbiAgICAgICAgICAgICAgICBtczogbmV3IFJlZ0V4cChcIlswLTVdWzAtOV1cIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgdGltZXNlcGFyYXRvcjogXCI6XCIsXHJcbiAgICAgICAgICAgIGhvdXJGb3JtYXQ6IFwiMjRcIixcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGg6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCIyNFwiID09PSBvcHRzLmhvdXJGb3JtYXQgJiYgMjQgPT09IHBhcnNlSW50KGNocnMsIDEwKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiMFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnMudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQgJiYgKGNocnMuY2hhckF0KDEpID09PSBvcHRzLnRpbWVzZXBhcmF0b3IgfHwgLTEgIT09IFwiLS46XCIuaW5kZXhPZihjaHJzLmNoYXJBdCgxKSkpICYmIChpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnMudGVzdChcIjBcIiArIGNocnMuY2hhckF0KDApKSkpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3NdID0gY2hycy5jaGFyQXQoMCksIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLnRpbWVzZXBhcmF0b3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgJiYgXCIyNFwiICE9PSBvcHRzLmhvdXJGb3JtYXQgJiYgb3B0cy5yZWdleC5ocnMyNC50ZXN0KGNocnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wID0gcGFyc2VJbnQoY2hycywgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI0ID09PSB0bXAgPyAobWFza3NldC5idWZmZXJbcG9zICsgNV0gPSBcImFcIiwgbWFza3NldC5idWZmZXJbcG9zICsgNl0gPSBcIm1cIikgOiAobWFza3NldC5idWZmZXJbcG9zICsgNV0gPSBcInBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcyArIDZdID0gXCJtXCIpLCB0bXAgLT0gMTIsIDEwID4gdG1wID8gKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSB0bXAudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIpIDogKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSB0bXAudG9TdHJpbmcoKS5jaGFyQXQoMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IHRtcC50b1N0cmluZygpLmNoYXJBdCgwKSksIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3MgKyA2XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBtYXNrc2V0LmJ1ZmZlcltwb3NdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhyc3ByZS50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8ICEoaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzLnRlc3QoXCIwXCIgKyBjaHJzKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgczoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC01XVswLTldXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lm1zcHJlLnRlc3QoY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC5tcy50ZXN0KFwiMFwiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHQ6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5yZWdleC5hbXBtLnRlc3QoY2hycyArIFwibVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2luZzogXCJsb3dlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluc2VydE1vZGU6ICExLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0ZXRpbWUxMjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEvMi95IGg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQvbW0veXl5eSBoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICBob3VyRm9ybWF0OiBcIjEyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW0vZGQveXl5eSBoaDptbSB4bVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS8yL3kgaDpzIHRcXFxcbVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS9kZC95eXl5IGhoOm1tIHhtXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lMTJcIixcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIHZhbDJwcmU6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtM10pfCgwMlwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiWzAtMl0pXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDI6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIoMFsxLTldfFsxMl1bMC05XSkpfCgoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMCl8KCgwWzEzNTc4XXwxWzAyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMxKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgIHZhbDE6IG5ldyBSZWdFeHAoXCIwWzEtOV18MVswMTJdXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMDIvMjkvXCIsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKCh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RnVsbFllYXIoKS50b1N0cmluZygpKSxcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJoaDptbSB0XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJoOnMgdFxcXFxtXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tIHhtXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgIGhvdXJGb3JtYXQ6IFwiMTJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJoOnMgdFwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaDpzIHRcXFxcbVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJoaDptbSB4bVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICBob3VyRm9ybWF0OiBcIjEyXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiaGg6bW06c3NcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImg6czpzXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tOnNzXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImhoOm1tXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJoOnNcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiaGg6bW1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRhdGU6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGQvbW0veXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIm1tL3l5eXlcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIjEveVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS95eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiZG9ub3R1c2VcIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIi9cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzaGFtc2k6IHtcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIHZhbDJwcmU6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0zXSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMjogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEtOV18WzEyXVswLTldKSl8KCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzApfCgoMFsxLTZdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzEpXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoXCJbMDFdXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXwxWzAxMl1cIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgeWVhcnJhbmdlOiB7XHJcbiAgICAgICAgICAgICAgICBtaW55ZWFyOiAxMzAwLFxyXG4gICAgICAgICAgICAgICAgbWF4eWVhcjogMTQ5OVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtYXNrOiBcInkvMS8yXCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiLzEyLzMwXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcInl5eXkvbW0vZGRcIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibW0vZGQveXl5eVwiLFxyXG4gICAgICAgICAgICBjbGVhckluY29tcGxldGU6ICEwXHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kRGVmaW5pdGlvbnMoe1xyXG4gICAgICAgIEE6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIltBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCImXCI6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCIjXCI6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLUZhLWZdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICBjYXNpbmc6IFwidXBwZXJcIlxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgdXJsOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaXJcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCJcIixcclxuICAgICAgICAgICAgZGVmYXVsdFByZWZpeDogXCJodHRwOi8vXCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICB1cmxwcmUxOiBuZXcgUmVnRXhwKFwiW2ZoXVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTI6IG5ldyBSZWdFeHAoXCIoZnR8aHQpXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlMzogbmV3IFJlZ0V4cChcIihmdHB8aHR0KVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTQ6IG5ldyBSZWdFeHAoXCIoZnRwOnxodHRwfGZ0cHMpXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlNTogbmV3IFJlZ0V4cChcIihmdHA6L3xmdHBzOnxodHRwOnxodHRwcylcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmU2OiBuZXcgUmVnRXhwKFwiKGZ0cDovL3xmdHBzOi98aHR0cDovfGh0dHBzOilcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmU3OiBuZXcgUmVnRXhwKFwiKGZ0cDovL3xmdHBzOi8vfGh0dHA6Ly98aHR0cHM6LylcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmU4OiBuZXcgUmVnRXhwKFwiKGZ0cDovL3xmdHBzOi8vfGh0dHA6Ly98aHR0cHM6Ly8pXCIpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBpOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDgsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJlc3VsdCA9IFtdLCBwcmVmaXhMaW1pdCA9IDgsIGkgPSAwOyBwcmVmaXhMaW1pdCA+IGk7IGkrKykgcmVzdWx0W2ldID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGogPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5yZWdleFtcInVybHByZVwiICsgKGogKyAxKV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrLCB0bXAgPSBjaHJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiArIDEgLSBjaHJzLmxlbmd0aCA+IDAgJiYgKHRtcCA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyaW5nKDAsIGogKyAxIC0gY2hycy5sZW5ndGgpICsgXCJcIiArIHRtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXhbXCJ1cmxwcmVcIiArIChqICsgMSldLnRlc3QodG1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChwb3MgLT0gaiwgayA9IDA7IGsgPCBvcHRzLmRlZmF1bHRQcmVmaXgubGVuZ3RoOyBrKyspIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBvcHRzLmRlZmF1bHRQcmVmaXhba10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHRtcC5sZW5ndGggLSAxOyBrKyspIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSB0bXBba10sIHBvcysrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBqXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSgpXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDUwXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluc2VydE1vZGU6ICExLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaXA6IHtcclxuICAgICAgICAgICAgbWFzazogXCJpW2lbaV1dLmlbaVtpXV0uaVtpW2ldXS5pW2lbaV1dXCIsXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBpOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBvcyAtIDEgPiAtMSAmJiBcIi5cIiAhPT0gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPyAoY2hycyA9IG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdICsgY2hycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hycyA9IHBvcyAtIDIgPiAtMSAmJiBcIi5cIiAhPT0gbWFza3NldC5idWZmZXJbcG9zIC0gMl0gPyBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAyXSArIGNocnMgOiBcIjBcIiArIGNocnMpIDogY2hycyA9IFwiMDBcIiArIGNocnMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBSZWdFeHAoXCIyNVswLTVdfDJbMC00XVswLTldfFswMV1bMC05XVswLTldXCIpLnRlc3QoY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblVuTWFzazogZnVuY3Rpb24gKG1hc2tlZFZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFza2VkVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVtYWlsOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiKnsxLDY0fVsuKnsxLDY0fV1bLip7MSw2NH1dWy4qezEsNjR9XUAqezEsNjR9Wy4qezIsNjR9XVsuKnsyLDZ9XVsuKnsxLDJ9XVwiLFxyXG4gICAgICAgICAgICBncmVlZHk6ICExLFxyXG4gICAgICAgICAgICBvbkJlZm9yZVBhc3RlOiBmdW5jdGlvbiAocGFzdGVkVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwYXN0ZWRWYWx1ZSA9IHBhc3RlZFZhbHVlLnRvTG93ZXJDYXNlKCksIHBhc3RlZFZhbHVlLnJlcGxhY2UoXCJtYWlsdG86XCIsIFwiXCIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgXCIqXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtWmEteiEjJCUmJyorLz0/Xl9ge3x9fi1dXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBcImxvd2VyXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Vbk1hc2s6IGZ1bmN0aW9uIChtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tlZFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBtYWM6IHtcclxuICAgICAgICAgICAgbWFzazogXCIjIzojIzojIzojIzojIzojI1wiXHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgbnVtZXJpYzoge1xyXG4gICAgICAgICAgICBtYXNrOiBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gYXV0b0VzY2FwZSh0eHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBlc2NhcGVkVHh0ID0gXCJcIiwgaSA9IDA7IGkgPCB0eHQubGVuZ3RoOyBpKyspIGVzY2FwZWRUeHQgKz0gb3B0cy5kZWZpbml0aW9uc1t0eHQuY2hhckF0KGkpXSA/IFwiXFxcXFwiICsgdHh0LmNoYXJBdChpKSA6IHR4dC5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVzY2FwZWRUeHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gb3B0cy5yZXBlYXQgJiYgaXNOYU4ob3B0cy5pbnRlZ2VyRGlnaXRzKSAmJiAob3B0cy5pbnRlZ2VyRGlnaXRzID0gb3B0cy5yZXBlYXQpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5yZXBlYXQgPSAwLCBvcHRzLmdyb3VwU2VwYXJhdG9yID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKFwiLlwiID09PSBvcHRzLnJhZGl4UG9pbnQgPyBvcHRzLmdyb3VwU2VwYXJhdG9yID0gXCIsXCIgOiBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ID8gb3B0cy5ncm91cFNlcGFyYXRvciA9IFwiLlwiIDogb3B0cy5ncm91cFNlcGFyYXRvciA9IFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgXCIgXCIgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgJiYgKG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciA9IHZvaWQgMCksIG9wdHMuYXV0b0dyb3VwID0gb3B0cy5hdXRvR3JvdXAgJiYgXCJcIiAhPT0gb3B0cy5ncm91cFNlcGFyYXRvcixcclxuICAgICAgICAgICAgICAgIG9wdHMuYXV0b0dyb3VwICYmIChcInN0cmluZ1wiID09IHR5cGVvZiBvcHRzLmdyb3VwU2l6ZSAmJiBpc0Zpbml0ZShvcHRzLmdyb3VwU2l6ZSkgJiYgKG9wdHMuZ3JvdXBTaXplID0gcGFyc2VJbnQob3B0cy5ncm91cFNpemUpKSxcclxuICAgICAgICAgICAgICAgIGlzRmluaXRlKG9wdHMuaW50ZWdlckRpZ2l0cykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlcHMgPSBNYXRoLmZsb29yKG9wdHMuaW50ZWdlckRpZ2l0cyAvIG9wdHMuZ3JvdXBTaXplKSwgbW9kID0gb3B0cy5pbnRlZ2VyRGlnaXRzICUgb3B0cy5ncm91cFNpemU7XHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5pbnRlZ2VyRGlnaXRzID0gcGFyc2VJbnQob3B0cy5pbnRlZ2VyRGlnaXRzKSArICgwID09PSBtb2QgPyBzZXBzIC0gMSA6IHNlcHMpLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdHMuaW50ZWdlckRpZ2l0cyA8IDEgJiYgKG9wdHMuaW50ZWdlckRpZ2l0cyA9IFwiKlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG9wdHMucGxhY2Vob2xkZXIubGVuZ3RoID4gMSAmJiAob3B0cy5wbGFjZWhvbGRlciA9IG9wdHMucGxhY2Vob2xkZXIuY2hhckF0KDApKSxcclxuICAgICAgICAgICAgICAgIG9wdHMucmFkaXhGb2N1cyA9IG9wdHMucmFkaXhGb2N1cyAmJiBcIlwiICE9PSBvcHRzLnBsYWNlaG9sZGVyICYmIG9wdHMuaW50ZWdlck9wdGlvbmFsID09PSAhMCxcclxuICAgICAgICAgICAgICAgIG9wdHMuZGVmaW5pdGlvbnNbXCI7XCJdID0gb3B0cy5kZWZpbml0aW9uc1tcIn5cIl0sIG9wdHMuZGVmaW5pdGlvbnNbXCI7XCJdLmRlZmluaXRpb25TeW1ib2wgPSBcIn5cIixcclxuICAgICAgICAgICAgICAgIG9wdHMubnVtZXJpY0lucHV0ID09PSAhMCAmJiAob3B0cy5yYWRpeEZvY3VzID0gITEsIG9wdHMuZGlnaXRzT3B0aW9uYWwgPSAhMSwgaXNOYU4ob3B0cy5kaWdpdHMpICYmIChvcHRzLmRpZ2l0cyA9IDIpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5kZWNpbWFsUHJvdGVjdCA9ICExKTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrID0gYXV0b0VzY2FwZShvcHRzLnByZWZpeCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFzayArPSBcIlsrXVwiLCBtYXNrICs9IG9wdHMuaW50ZWdlck9wdGlvbmFsID09PSAhMCA/IFwifnsxLFwiICsgb3B0cy5pbnRlZ2VyRGlnaXRzICsgXCJ9XCIgOiBcIn57XCIgKyBvcHRzLmludGVnZXJEaWdpdHMgKyBcIn1cIixcclxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gb3B0cy5kaWdpdHMgJiYgKGlzTmFOKG9wdHMuZGlnaXRzKSB8fCBwYXJzZUludChvcHRzLmRpZ2l0cykgPiAwKSAmJiAobWFzayArPSBvcHRzLmRpZ2l0c09wdGlvbmFsID8gXCJbXCIgKyAob3B0cy5kZWNpbWFsUHJvdGVjdCA/IFwiOlwiIDogb3B0cy5yYWRpeFBvaW50KSArIFwiO3sxLFwiICsgb3B0cy5kaWdpdHMgKyBcIn1dXCIgOiAob3B0cy5kZWNpbWFsUHJvdGVjdCA/IFwiOlwiIDogb3B0cy5yYWRpeFBvaW50KSArIFwiO3tcIiArIG9wdHMuZGlnaXRzICsgXCJ9XCIpLFxyXG4gICAgICAgICAgICAgICAgXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrICYmIChtYXNrICs9IFwiWy1dXCIpLCBtYXNrICs9IGF1dG9Fc2NhcGUob3B0cy5zdWZmaXgpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5ncmVlZHkgPSAhMSwgbWFzaztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCIsXHJcbiAgICAgICAgICAgIGdyZWVkeTogITEsXHJcbiAgICAgICAgICAgIGRpZ2l0czogXCIqXCIsXHJcbiAgICAgICAgICAgIGRpZ2l0c09wdGlvbmFsOiAhMCxcclxuICAgICAgICAgICAgcmFkaXhQb2ludDogXCIuXCIsXHJcbiAgICAgICAgICAgIHJhZGl4Rm9jdXM6ICEwLFxyXG4gICAgICAgICAgICBncm91cFNpemU6IDMsXHJcbiAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIlwiLFxyXG4gICAgICAgICAgICBhdXRvR3JvdXA6ICExLFxyXG4gICAgICAgICAgICBhbGxvd1BsdXM6ICEwLFxyXG4gICAgICAgICAgICBhbGxvd01pbnVzOiAhMCxcclxuICAgICAgICAgICAgbmVnYXRpb25TeW1ib2w6IHtcclxuICAgICAgICAgICAgICAgIGZyb250OiBcIi1cIixcclxuICAgICAgICAgICAgICAgIGJhY2s6IFwiXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW50ZWdlckRpZ2l0czogXCIrXCIsXHJcbiAgICAgICAgICAgIGludGVnZXJPcHRpb25hbDogITAsXHJcbiAgICAgICAgICAgIHByZWZpeDogXCJcIixcclxuICAgICAgICAgICAgc3VmZml4OiBcIlwiLFxyXG4gICAgICAgICAgICByaWdodEFsaWduOiAhMCxcclxuICAgICAgICAgICAgZGVjaW1hbFByb3RlY3Q6ICEwLFxyXG4gICAgICAgICAgICBtaW46IG51bGwsXHJcbiAgICAgICAgICAgIG1heDogbnVsbCxcclxuICAgICAgICAgICAgc3RlcDogMSxcclxuICAgICAgICAgICAgaW5zZXJ0TW9kZTogITAsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExLFxyXG4gICAgICAgICAgICB1bm1hc2tBc051bWJlcjogITEsXHJcbiAgICAgICAgICAgIHBvc3RGb3JtYXQ6IGZ1bmN0aW9uIChidWZmZXIsIHBvcywgcmVmb3JtYXRPbmx5LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLm51bWVyaWNJbnB1dCA9PT0gITAgJiYgKGJ1ZmZlciA9IGJ1ZmZlci5yZXZlcnNlKCksIGlzRmluaXRlKHBvcykgJiYgKHBvcyA9IGJ1ZmZlci5qb2luKFwiXCIpLmxlbmd0aCAtIHBvcyAtIDEpKTtcclxuICAgICAgICAgICAgICAgIHZhciBpLCBsLCBzdWZmaXhTdHJpcHBlZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgYnVmZmVyLmxlbmd0aCA+PSBvcHRzLnN1ZmZpeC5sZW5ndGggJiYgYnVmZmVyLmpvaW4oXCJcIikuaW5kZXhPZihvcHRzLnN1ZmZpeCkgPT09IGJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggJiYgKGJ1ZmZlci5sZW5ndGggPSBidWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgc3VmZml4U3RyaXBwZWQgPSAhMCksIHBvcyA9IHBvcyA+PSBidWZmZXIubGVuZ3RoID8gYnVmZmVyLmxlbmd0aCAtIDEgOiBwb3MgPCBvcHRzLnByZWZpeC5sZW5ndGggPyBvcHRzLnByZWZpeC5sZW5ndGggOiBwb3M7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNSZWZyZXNoID0gITEsIGNoYXJBdFBvcyA9IGJ1ZmZlcltwb3NdO1xyXG4gICAgICAgICAgICAgICAgaWYgKFwiXCIgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgfHwgb3B0cy5udW1lcmljSW5wdXQgIT09ICEwICYmIC0xICE9PSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpICYmIHBvcyA+ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcikgfHwgbmV3IFJlZ0V4cChcIltcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSArIFwiK11cIikudGVzdChjaGFyQXRQb3MpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1ZmZpeFN0cmlwcGVkKSBmb3IgKGkgPSAwLCBsID0gb3B0cy5zdWZmaXgubGVuZ3RoOyBsID4gaTsgaSsrKSBidWZmZXIucHVzaChvcHRzLnN1ZmZpeC5jaGFyQXQoaSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBjYnVmID0gYnVmZmVyLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICBjaGFyQXRQb3MgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgJiYgKGNidWYuc3BsaWNlKHBvcy0tLCAxKSwgY2hhckF0UG9zID0gY2J1Zltwb3NdKSxcclxuICAgICAgICAgICAgICAgIHJlZm9ybWF0T25seSA/IGNoYXJBdFBvcyAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIChjYnVmW3Bvc10gPSBcIj9cIikgOiBjYnVmLnNwbGljZShwb3MsIDAsIFwiP1wiKTtcclxuICAgICAgICAgICAgICAgIHZhciBidWZWYWwgPSBjYnVmLmpvaW4oXCJcIiksIGJ1ZlZhbE9yaWdpbiA9IGJ1ZlZhbDtcclxuICAgICAgICAgICAgICAgIGlmIChidWZWYWwubGVuZ3RoID4gMCAmJiBvcHRzLmF1dG9Hcm91cCB8fCByZWZvcm1hdE9ubHkgJiYgLTEgIT09IGJ1ZlZhbC5pbmRleE9mKG9wdHMuZ3JvdXBTZXBhcmF0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRHcm91cFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBuZWVkc1JlZnJlc2ggPSAwID09PSBidWZWYWwuaW5kZXhPZihvcHRzLmdyb3VwU2VwYXJhdG9yKSwgYnVmVmFsID0gYnVmVmFsLnJlcGxhY2UobmV3IFJlZ0V4cChlc2NhcGVkR3JvdXBTZXBhcmF0b3IsIFwiZ1wiKSwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4U3BsaXQgPSBidWZWYWwuc3BsaXQob3B0cy5yYWRpeFBvaW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYnVmVmFsID0gXCJcIiA9PT0gb3B0cy5yYWRpeFBvaW50ID8gYnVmVmFsIDogcmFkaXhTcGxpdFswXSwgYnVmVmFsICE9PSBvcHRzLnByZWZpeCArIFwiPzBcIiAmJiBidWZWYWwubGVuZ3RoID49IG9wdHMuZ3JvdXBTaXplICsgb3B0cy5wcmVmaXgubGVuZ3RoKSBmb3IgKHZhciByZWcgPSBuZXcgUmVnRXhwKFwiKFstK10/W1xcXFxkP10rKShbXFxcXGQ/XXtcIiArIG9wdHMuZ3JvdXBTaXplICsgXCJ9KVwiKSA7IHJlZy50ZXN0KGJ1ZlZhbCkgOykgYnVmVmFsID0gYnVmVmFsLnJlcGxhY2UocmVnLCBcIiQxXCIgKyBvcHRzLmdyb3VwU2VwYXJhdG9yICsgXCIkMlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBidWZWYWwgPSBidWZWYWwucmVwbGFjZShvcHRzLmdyb3VwU2VwYXJhdG9yICsgb3B0cy5ncm91cFNlcGFyYXRvciwgb3B0cy5ncm91cFNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIHJhZGl4U3BsaXQubGVuZ3RoID4gMSAmJiAoYnVmVmFsICs9IG9wdHMucmFkaXhQb2ludCArIHJhZGl4U3BsaXRbMV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZm9yIChuZWVkc1JlZnJlc2ggPSBidWZWYWxPcmlnaW4gIT09IGJ1ZlZhbCwgYnVmZmVyLmxlbmd0aCA9IGJ1ZlZhbC5sZW5ndGgsIGkgPSAwLFxyXG4gICAgICAgICAgICAgICAgbCA9IGJ1ZlZhbC5sZW5ndGg7IGwgPiBpOyBpKyspIGJ1ZmZlcltpXSA9IGJ1ZlZhbC5jaGFyQXQoaSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3UG9zID0gJC5pbkFycmF5KFwiP1wiLCBidWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKC0xID09PSBuZXdQb3MgJiYgY2hhckF0UG9zID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKG5ld1BvcyA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcikpLFxyXG4gICAgICAgICAgICAgICAgcmVmb3JtYXRPbmx5ID8gYnVmZmVyW25ld1Bvc10gPSBjaGFyQXRQb3MgOiBidWZmZXIuc3BsaWNlKG5ld1BvcywgMSksICFuZWVkc1JlZnJlc2ggJiYgc3VmZml4U3RyaXBwZWQpIGZvciAoaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsID0gb3B0cy5zdWZmaXgubGVuZ3RoOyBsID4gaTsgaSsrKSBidWZmZXIucHVzaChvcHRzLnN1ZmZpeC5jaGFyQXQoaSkpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ld1BvcyA9IG9wdHMubnVtZXJpY0lucHV0ICYmIGlzRmluaXRlKHBvcykgPyBidWZmZXIuam9pbihcIlwiKS5sZW5ndGggLSBuZXdQb3MgLSAxIDogbmV3UG9zLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgJiYgKGJ1ZmZlciA9IGJ1ZmZlci5yZXZlcnNlKCksICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcikgPCBuZXdQb3MgJiYgYnVmZmVyLmpvaW4oXCJcIikubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoICE9PSBuZXdQb3MgJiYgKG5ld1BvcyAtPSAxKSksXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zOiBuZXdQb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IG5lZWRzUmVmcmVzaCxcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IGJ1ZmZlclxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25CZWZvcmVXcml0ZTogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlICYmIChcImJsdXJcIiA9PT0gZS50eXBlIHx8IFwiY2hlY2t2YWxcIiA9PT0gZS50eXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXNrZWRWYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsIFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgICAgICBpc0Zpbml0ZShwcm9jZXNzVmFsdWUpICYmIGlzRmluaXRlKG9wdHMubWluKSAmJiBwYXJzZUZsb2F0KHByb2Nlc3NWYWx1ZSkgPCBwYXJzZUZsb2F0KG9wdHMubWluKSkgcmV0dXJuICQuZXh0ZW5kKCEwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiAhMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiAob3B0cy5wcmVmaXggKyBvcHRzLm1pbikuc3BsaXQoXCJcIilcclxuICAgICAgICAgICAgICAgICAgICB9LCBvcHRzLnBvc3RGb3JtYXQoKG9wdHMucHJlZml4ICsgb3B0cy5taW4pLnNwbGl0KFwiXCIpLCAwLCAhMCwgb3B0cykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLm51bWVyaWNJbnB1dCAhPT0gITApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRtcEJ1ZlNwbGl0ID0gXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ID8gYnVmZmVyLmpvaW4oXCJcIikuc3BsaXQob3B0cy5yYWRpeFBvaW50KSA6IFtidWZmZXIuam9pbihcIlwiKV0sIG1hdGNoUnNsdCA9IHRtcEJ1ZlNwbGl0WzBdLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlclBhcnQob3B0cykpLCBtYXRjaFJzbHREaWdpdHMgPSAyID09PSB0bXBCdWZTcGxpdC5sZW5ndGggPyB0bXBCdWZTcGxpdFsxXS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJOUGFydChvcHRzKSkgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFJzbHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoUnNsdFswXSAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCArIFwiMFwiICYmIG1hdGNoUnNsdFswXSAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCAmJiBcIitcIiAhPT0gbWF0Y2hSc2x0WzBdIHx8IHZvaWQgMCAhPT0gbWF0Y2hSc2x0RGlnaXRzICYmICFtYXRjaFJzbHREaWdpdHNbMF0ubWF0Y2goL14wKyQvKSB8fCBidWZmZXIuc3BsaWNlKG1hdGNoUnNsdC5pbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3NpdGlvbiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgIT09IHJhZGl4UG9zaXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNGaW5pdGUob3B0cy5kaWdpdHMpICYmICFvcHRzLmRpZ2l0c09wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDw9IG9wdHMuZGlnaXRzOyBpKyspICh2b2lkIDAgPT09IGJ1ZmZlcltyYWRpeFBvc2l0aW9uICsgaV0gfHwgYnVmZmVyW3JhZGl4UG9zaXRpb24gKyBpXSA9PT0gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkpICYmIChidWZmZXJbcmFkaXhQb3NpdGlvbiArIGldID0gXCIwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IG1hc2tlZFZhbHVlICE9PSBidWZmZXIuam9pbihcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyYWRpeFBvc2l0aW9uID09PSBidWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoIC0gMSkgcmV0dXJuIGJ1ZmZlci5zcGxpY2UocmFkaXhQb3NpdGlvbiwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogITAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLmF1dG9Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByc2x0ID0gb3B0cy5wb3N0Rm9ybWF0KGJ1ZmZlciwgb3B0cy5udW1lcmljSW5wdXQgPyBjYXJldFBvcyA6IGNhcmV0UG9zIC0gMSwgITAsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByc2x0LmNhcmV0ID0gY2FyZXRQb3MgPD0gb3B0cy5wcmVmaXgubGVuZ3RoID8gcnNsdC5wb3MgOiByc2x0LnBvcyArIDEsIHJzbHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICBpbnRlZ2VyUGFydDogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSArIFwiK10/XFxcXGQrXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGludGVnZXJOUGFydDogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIltcXFxcZFwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpICsgXCJdK1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2lnbkhhbmRsZXI6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgb3B0cy5hbGxvd01pbnVzICYmIFwiLVwiID09PSBjaHJzIHx8IG9wdHMuYWxsb3dQbHVzICYmIFwiK1wiID09PSBjaHJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoUnNsdCA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyUGFydChvcHRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUnNsdCAmJiBtYXRjaFJzbHRbMF0ubGVuZ3RoID4gMCkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW21hdGNoUnNsdC5pbmRleF0gPT09IChcIi1cIiA9PT0gY2hycyA/IFwiK1wiIDogb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkgPyBcIi1cIiA9PT0gY2hycyA/IFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiK1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IFttYXRjaFJzbHQuaW5kZXgsIG1hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiK1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgIH0gOiBtYXNrc2V0LmJ1ZmZlclttYXRjaFJzbHQuaW5kZXhdID09PSAoXCItXCIgPT09IGNocnMgPyBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IDogXCIrXCIpID8gXCItXCIgPT09IGNocnMgJiYgXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IFttYXRjaFJzbHQuaW5kZXgsIG1hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiBcIi1cIiA9PT0gY2hycyA/IFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICByYWRpeEhhbmRsZXI6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgKC0xICE9PSAkLmluQXJyYXkoY2hycywgW1wiLFwiLCBcIi5cIl0pICYmIChjaHJzID0gb3B0cy5yYWRpeFBvaW50KSxcclxuICAgICAgICAgICAgICAgIGNocnMgPT09IG9wdHMucmFkaXhQb2ludCAmJiB2b2lkIDAgIT09IG9wdHMuZGlnaXRzICYmIChpc05hTihvcHRzLmRpZ2l0cykgfHwgcGFyc2VJbnQob3B0cy5kaWdpdHMpID4gMCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgbWFza3NldC5idWZmZXIpLCBpbnRlZ2VyVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlclBhcnQob3B0cykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgtMSAhPT0gcmFkaXhQb3MgJiYgbWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvc10pIHJldHVybiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zIC0gMV0gPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiByYWRpeFBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IGludGVnZXJWYWx1ZS5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogaW50ZWdlclZhbHVlWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcmFkaXhQb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWludGVnZXJWYWx1ZSB8fCBcIjBcIiA9PT0gaW50ZWdlclZhbHVlWzBdICYmIGludGVnZXJWYWx1ZS5pbmRleCArIDEgIT09IHBvcykgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW2ludGVnZXJWYWx1ZSA/IGludGVnZXJWYWx1ZS5pbmRleCA6IHBvc10gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogKGludGVnZXJWYWx1ZSA/IGludGVnZXJWYWx1ZS5pbmRleCA6IHBvcykgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLnJhZGl4UG9pbnRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFkaW5nWmVyb0hhbmRsZXI6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMubnVtZXJpY0lucHV0ID09PSAhMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcIjBcIiA9PT0gbWFza3NldC5idWZmZXJbbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5wcmVmaXgubGVuZ3RoIC0gMV0pIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hc2tzZXQuYnVmZmVyLmxlbmd0aCAtIG9wdHMucHJlZml4Lmxlbmd0aCAtIDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hSc2x0ID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJOUGFydChvcHRzKSksIHJhZGl4UG9zaXRpb24gPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBtYXNrc2V0LmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUnNsdCAmJiAhc3RyaWN0ICYmICgtMSA9PT0gcmFkaXhQb3NpdGlvbiB8fCByYWRpeFBvc2l0aW9uID49IHBvcykpIGlmICgwID09PSBtYXRjaFJzbHRbMF0uaW5kZXhPZihcIjBcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zIDwgb3B0cy5wcmVmaXgubGVuZ3RoICYmIChwb3MgPSBtYXRjaFJzbHQuaW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JhZGl4UG9zaXRpb24gPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBtYXNrc2V0Ll9idWZmZXIpLCBkaWdpdHNNYXRjaCA9IG1hc2tzZXQuX2J1ZmZlciAmJiBtYXNrc2V0LmJ1ZmZlci5zbGljZShyYWRpeFBvc2l0aW9uKS5qb2luKFwiXCIpID09PSBtYXNrc2V0Ll9idWZmZXIuc2xpY2UoX3JhZGl4UG9zaXRpb24pLmpvaW4oXCJcIikgfHwgMCA9PT0gcGFyc2VJbnQobWFza3NldC5idWZmZXIuc2xpY2UocmFkaXhQb3NpdGlvbiArIDEpLmpvaW4oXCJcIikpLCBpbnRlZ2VyTWF0Y2ggPSBtYXNrc2V0Ll9idWZmZXIgJiYgbWFza3NldC5idWZmZXIuc2xpY2UobWF0Y2hSc2x0LmluZGV4LCByYWRpeFBvc2l0aW9uKS5qb2luKFwiXCIpID09PSBtYXNrc2V0Ll9idWZmZXIuc2xpY2Uob3B0cy5wcmVmaXgubGVuZ3RoLCBfcmFkaXhQb3NpdGlvbikuam9pbihcIlwiKSB8fCBcIjBcIiA9PT0gbWFza3NldC5idWZmZXIuc2xpY2UobWF0Y2hSc2x0LmluZGV4LCByYWRpeFBvc2l0aW9uKS5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoLTEgPT09IHJhZGl4UG9zaXRpb24gfHwgZGlnaXRzTWF0Y2ggJiYgaW50ZWdlck1hdGNoKSByZXR1cm4gbWFza3NldC5idWZmZXIuc3BsaWNlKG1hdGNoUnNsdC5pbmRleCwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IHBvcyA+IG1hdGNoUnNsdC5pbmRleCA/IHBvcyAtIDEgOiBtYXRjaFJzbHQuaW5kZXgsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUnNsdC5pbmRleCArIDEgPT09IHBvcyB8fCBcIjBcIiA9PT0gY2hycykgcmV0dXJuIG1hc2tzZXQuYnVmZmVyLnNwbGljZShtYXRjaFJzbHQuaW5kZXgsIDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPSBtYXRjaFJzbHQuaW5kZXgsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXhcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFwiMFwiID09PSBjaHJzICYmIHBvcyA8PSBtYXRjaFJzbHQuaW5kZXggJiYgbWF0Y2hSc2x0WzBdICE9PSBvcHRzLmdyb3VwU2VwYXJhdG9yKSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBvc3RWYWxpZGF0aW9uOiBmdW5jdGlvbiAoYnVmZmVyLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9ICEwLCBtYXNrZWRWYWx1ZSA9IGJ1ZmZlci5qb2luKFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCwgXCJcIiksIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiXlwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpKSwgXCItXCIpLFxyXG4gICAgICAgICAgICAgICAgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrKSArIFwiJFwiKSwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgPyBwcm9jZXNzVmFsdWUgKyBcIjBcIiA6IHByb2Nlc3NWYWx1ZSxcclxuICAgICAgICAgICAgICAgIGlzRmluaXRlKHByb2Nlc3NWYWx1ZSkgJiYgKG51bGwgIT09IG9wdHMubWF4ICYmIGlzRmluaXRlKG9wdHMubWF4KSAmJiAoaXNWYWxpZCA9IHBhcnNlRmxvYXQocHJvY2Vzc1ZhbHVlKSA8PSBwYXJzZUZsb2F0KG9wdHMubWF4KSksXHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkICYmIG51bGwgIT09IG9wdHMubWluICYmIGlzRmluaXRlKG9wdHMubWluKSAmJiAoMCA+PSBwcm9jZXNzVmFsdWUgfHwgcHJvY2Vzc1ZhbHVlLnRvU3RyaW5nKCkubGVuZ3RoID49IG9wdHMubWluLnRvU3RyaW5nKCkubGVuZ3RoKSAmJiAoaXNWYWxpZCA9IHBhcnNlRmxvYXQocHJvY2Vzc1ZhbHVlKSA+PSBwYXJzZUZsb2F0KG9wdHMubWluKSxcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQgfHwgKGlzVmFsaWQgPSAkLmV4dGVuZCghMCwge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiAhMCxcclxuICAgICAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRzLnByZWZpeCArIG9wdHMubWluKS5zcGxpdChcIlwiKVxyXG4gICAgICAgICAgICAgICAgfSwgb3B0cy5wb3N0Rm9ybWF0KChvcHRzLnByZWZpeCArIG9wdHMubWluKS5zcGxpdChcIlwiKSwgMCwgITAsIG9wdHMpKSwgaXNWYWxpZC5yZWZyZXNoRnJvbUJ1ZmZlciA9ICEwKSkpLFxyXG4gICAgICAgICAgICAgICAgaXNWYWxpZDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIFwiflwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnNpZ25IYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkICYmIChpc1ZhbGlkID0gb3B0cy5yYWRpeEhhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhaXNWYWxpZCAmJiAoaXNWYWxpZCA9IHN0cmljdCA/IG5ldyBSZWdFeHAoXCJbMC05XCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvcikgKyBcIl1cIikudGVzdChjaHJzKSA6IG5ldyBSZWdFeHAoXCJbMC05XVwiKS50ZXN0KGNocnMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID09PSAhMCAmJiAoaXNWYWxpZCA9IG9wdHMubGVhZGluZ1plcm9IYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9PT0gITApKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFBvc2l0aW9uID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgbWFza3NldC5idWZmZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IC0xICE9PSByYWRpeFBvc2l0aW9uICYmIG9wdHMuZGlnaXRzT3B0aW9uYWwgPT09ICExICYmIG9wdHMubnVtZXJpY0lucHV0ICE9PSAhMCAmJiBwb3MgPiByYWRpeFBvc2l0aW9uICYmICFzdHJpY3QgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IG51bGxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIitcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5zaWduSGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNWYWxpZCAmJiAoc3RyaWN0ICYmIG9wdHMuYWxsb3dNaW51cyAmJiBjaHJzID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IHx8IG9wdHMuYWxsb3dNaW51cyAmJiBcIi1cIiA9PT0gY2hycyB8fCBvcHRzLmFsbG93UGx1cyAmJiBcIitcIiA9PT0gY2hycykgJiYgKGlzVmFsaWQgPSBcIi1cIiA9PT0gY2hycyA/IFwiXCIgIT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogXCItXCIgPT09IGNocnMgPyBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250IDogXCIrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWFza3NldC5idWZmZXIubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMubmVnYXRpb25TeW1ib2wuYmFja1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBcIi1cIiA9PT0gY2hycyA/IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgOiBcIitcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiAhMCksIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiXCJcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcIi1cIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5zaWduSGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhaXNWYWxpZCAmJiBzdHJpY3QgJiYgb3B0cy5hbGxvd01pbnVzICYmIGNocnMgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuYmFjayAmJiAoaXNWYWxpZCA9ICEwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiOlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnNpZ25IYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXggPSBcIltcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpICsgXCIsXFxcXC5dXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gbmV3IFJlZ0V4cChyYWRpeCkudGVzdChjaHJzKSwgaXNWYWxpZCAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10gJiYgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLm1hdGNoLnBsYWNlaG9sZGVyID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKGlzVmFsaWQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5yYWRpeFBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5yYWRpeFBvaW50O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25Vbk1hc2s6IGZ1bmN0aW9uIChtYXNrZWRWYWx1ZSwgdW5tYXNrZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NWYWx1ZSA9IG1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LCBcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBvcHRzLnVubWFza0FzTnVtYmVyID8gKFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCAmJiAtMSAhPT0gcHJvY2Vzc1ZhbHVlLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgb3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIE51bWJlcihwcm9jZXNzVmFsdWUpKSA6IHByb2Nlc3NWYWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNDb21wbGV0ZTogZnVuY3Rpb24gKGJ1ZmZlciwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2tlZFZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIiksIGJ1ZkNsb25lID0gYnVmZmVyLnNsaWNlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5wb3N0Rm9ybWF0KGJ1ZkNsb25lLCAwLCAhMCwgb3B0cyksIGJ1ZkNsb25lLmpvaW4oXCJcIikgIT09IG1hc2tlZFZhbHVlKSByZXR1cm4gITE7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsIFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUocHJvY2Vzc1ZhbHVlKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25CZWZvcmVNYXNrOiBmdW5jdGlvbiAoaW5pdGlhbFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIGlzRmluaXRlKGluaXRpYWxWYWx1ZSkpIGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIG9wdHMucmFkaXhQb2ludCk7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrb21tYU1hdGNoZXMgPSBpbml0aWFsVmFsdWUubWF0Y2goLywvZyksIGRvdE1hdGNoZXMgPSBpbml0aWFsVmFsdWUubWF0Y2goL1xcLi9nKTtcclxuICAgICAgICAgICAgICAgICAgICBkb3RNYXRjaGVzICYmIGtvbW1hTWF0Y2hlcyA/IGRvdE1hdGNoZXMubGVuZ3RoID4ga29tbWFNYXRjaGVzLmxlbmd0aCA/IChpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZSgvXFwuL2csIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKFwiLFwiLCBvcHRzLnJhZGl4UG9pbnQpKSA6IGtvbW1hTWF0Y2hlcy5sZW5ndGggPiBkb3RNYXRjaGVzLmxlbmd0aCA/IChpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZSgvLC9nLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KSkgOiBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUuaW5kZXhPZihcIi5cIikgPCBpbml0aWFsVmFsdWUuaW5kZXhPZihcIixcIikgPyBpbml0aWFsVmFsdWUucmVwbGFjZSgvXFwuL2csIFwiXCIpIDogaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoLywvZywgXCJcIikgOiBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgwID09PSBvcHRzLmRpZ2l0cyAmJiAoLTEgIT09IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLlwiKSA/IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5zdWJzdHJpbmcoMCwgaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIuXCIpKSA6IC0xICE9PSBpbml0aWFsVmFsdWUuaW5kZXhPZihcIixcIikgJiYgKGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5zdWJzdHJpbmcoMCwgaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIsXCIpKSkpLFxyXG4gICAgICAgICAgICAgICAgXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIGlzRmluaXRlKG9wdHMuZGlnaXRzKSAmJiAtMSAhPT0gaW5pdGlhbFZhbHVlLmluZGV4T2Yob3B0cy5yYWRpeFBvaW50KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZVBhcnRzID0gaW5pdGlhbFZhbHVlLnNwbGl0KG9wdHMucmFkaXhQb2ludCksIGRlY1BhcnQgPSB2YWx1ZVBhcnRzWzFdLm1hdGNoKG5ldyBSZWdFeHAoXCJcXFxcZCpcIikpWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUludChvcHRzLmRpZ2l0cykgPCBkZWNQYXJ0LnRvU3RyaW5nKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWdpdHNGYWN0b3IgPSBNYXRoLnBvdygxMCwgcGFyc2VJbnQob3B0cy5kaWdpdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gTWF0aC5yb3VuZChwYXJzZUZsb2F0KGluaXRpYWxWYWx1ZSkgKiBkaWdpdHNGYWN0b3IpIC8gZGlnaXRzRmFjdG9yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBvcHRzLnJhZGl4UG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBpbml0aWFsVmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgY2FuQ2xlYXJQb3NpdGlvbjogZnVuY3Rpb24gKG1hc2tzZXQsIHBvc2l0aW9uLCBsdnAsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uSW5wdXQgPSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXS5pbnB1dCwgY2FuQ2xlYXIgPSBwb3NpdGlvbklucHV0ICE9PSBvcHRzLnJhZGl4UG9pbnQgfHwgbnVsbCAhPT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0ubWF0Y2guZm4gJiYgb3B0cy5kZWNpbWFsUHJvdGVjdCA9PT0gITEgfHwgaXNGaW5pdGUocG9zaXRpb25JbnB1dCkgfHwgcG9zaXRpb24gPT09IGx2cCB8fCBwb3NpdGlvbklucHV0ID09PSBvcHRzLmdyb3VwU2VwYXJhdG9yIHx8IHBvc2l0aW9uSW5wdXQgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgfHwgcG9zaXRpb25JbnB1dCA9PT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbkNsZWFyICYmIGlzRmluaXRlKHBvc2l0aW9uSW5wdXQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoUnNsdCwgcmFkaXhQb3MgPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBtYXNrc2V0LmJ1ZmZlciksIHJhZGl4SW5qZWN0aW9uID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvc10gJiYgKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3NdID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogb3B0cy5yYWRpeFBvaW50XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcmFkaXhJbmplY3Rpb24gPSAhMCksICFzdHJpY3QgJiYgbWFza3NldC5idWZmZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSc2x0ID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHIoMCwgcG9zaXRpb24pLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlck5QYXJ0KG9wdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IHBvc2l0aW9uICsgMSwgaXNOdWxsID0gbnVsbCA9PSBtYXRjaFJzbHQgfHwgMCA9PT0gcGFyc2VJbnQobWF0Y2hSc2x0WzBdLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIikpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOdWxsKSBmb3IgKDsgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdICYmIChtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10uaW5wdXQgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgfHwgXCIwXCIgPT09IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5pbnB1dCkgOykgZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2cCBpbiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zKSB2b2lkIDAgIT09IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdnBdLmlucHV0ICYmIGJ1ZmZlci5wdXNoKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbdnBdLmlucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmFkaXhJbmplY3Rpb24gJiYgZGVsZXRlIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3NdLCByYWRpeFBvcyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZlZhbCA9IGJ1ZmZlci5qb2luKFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSc2x0ID0gYnVmVmFsLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlck5QYXJ0KG9wdHMpKSkgaWYgKHJhZGl4UG9zID49IHBvc2l0aW9uKSBpZiAoMCA9PT0gbWF0Y2hSc2x0WzBdLmluZGV4T2YoXCIwXCIpKSBjYW5DbGVhciA9IG1hdGNoUnNsdC5pbmRleCAhPT0gcG9zaXRpb24gfHwgXCIwXCIgPT09IG9wdHMucGxhY2Vob2xkZXI7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludFBhcnQgPSBwYXJzZUludChtYXRjaFJzbHRbMF0ucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSksIHJhZGl4UGFydCA9IHBhcnNlSW50KGJ1ZlZhbC5zcGxpdChvcHRzLnJhZGl4UG9pbnQpWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDEwID4gaW50UGFydCAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXSAmJiAoXCIwXCIgIT09IG9wdHMucGxhY2Vob2xkZXIgfHwgcmFkaXhQYXJ0ID4gMCkgJiYgKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLmlucHV0ID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LnAgPSBvcHRzLnByZWZpeC5sZW5ndGggKyAxLCBjYW5DbGVhciA9ICExKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIDAgPT09IG1hdGNoUnNsdFswXS5pbmRleE9mKFwiMFwiKSAmJiAzID09PSBidWZWYWwubGVuZ3RoICYmIChtYXNrc2V0LnZhbGlkUG9zaXRpb25zID0ge30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbkNsZWFyID0gITEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjYW5DbGVhcjtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSBzd2l0Y2ggKGUua2V5Q29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgSW5wdXRtYXNrLmtleUNvZGUuVVA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwocGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpICsgcGFyc2VJbnQob3B0cy5zdGVwKSksICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBJbnB1dG1hc2sua2V5Q29kZS5ET1dOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHBhcnNlRmxvYXQodGhpcy5pbnB1dG1hc2sudW5tYXNrZWR2YWx1ZSgpKSAtIHBhcnNlSW50KG9wdHMuc3RlcCkpLCAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3VycmVuY3k6IHtcclxuICAgICAgICAgICAgcHJlZml4OiBcIiQgXCIsXHJcbiAgICAgICAgICAgIGdyb3VwU2VwYXJhdG9yOiBcIixcIixcclxuICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCIwXCIsXHJcbiAgICAgICAgICAgIGF1dG9Hcm91cDogITAsXHJcbiAgICAgICAgICAgIGRpZ2l0czogMixcclxuICAgICAgICAgICAgZGlnaXRzT3B0aW9uYWw6ICExLFxyXG4gICAgICAgICAgICBjbGVhck1hc2tPbkxvc3RGb2N1czogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlY2ltYWw6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnRlZ2VyOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgZGlnaXRzOiAwLFxyXG4gICAgICAgICAgICByYWRpeFBvaW50OiBcIlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwZXJjZW50YWdlOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm51bWVyaWNcIixcclxuICAgICAgICAgICAgZGlnaXRzOiAyLFxyXG4gICAgICAgICAgICByYWRpeFBvaW50OiBcIi5cIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiMFwiLFxyXG4gICAgICAgICAgICBhdXRvR3JvdXA6ICExLFxyXG4gICAgICAgICAgICBtaW46IDAsXHJcbiAgICAgICAgICAgIG1heDogMTAwLFxyXG4gICAgICAgICAgICBzdWZmaXg6IFwiICVcIixcclxuICAgICAgICAgICAgYWxsb3dQbHVzOiAhMSxcclxuICAgICAgICAgICAgYWxsb3dNaW51czogITFcclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICBwaG9uZToge1xyXG4gICAgICAgICAgICB1cmw6IFwicGhvbmUtY29kZXMvcGhvbmUtY29kZXMuanNcIixcclxuICAgICAgICAgICAgY291bnRyeWNvZGU6IFwiXCIsXHJcbiAgICAgICAgICAgIG1hc2s6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmRlZmluaXRpb25zW1wiI1wiXSA9IG9wdHMuZGVmaW5pdGlvbnNbOV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza0xpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmFqYXgoe1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogb3B0cy51cmwsXHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmM6ICExLFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza0xpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBhamF4T3B0aW9ucywgdGhyb3duRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQodGhyb3duRXJyb3IgKyBcIiAtIFwiICsgb3B0cy51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLCBtYXNrTGlzdCA9IG1hc2tMaXN0LnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGEubWFzayB8fCBhKSA8IChiLm1hc2sgfHwgYikgPyAtMSA6IDE7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAga2VlcFN0YXRpYzogITEsXHJcbiAgICAgICAgICAgIG5vanVtcHM6ICEwLFxyXG4gICAgICAgICAgICBub2p1bXBzVGhyZXNob2xkOiAxLFxyXG4gICAgICAgICAgICBvbkJlZm9yZU1hc2s6IGZ1bmN0aW9uICh2YWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZFZhbHVlID0gdmFsdWUucmVwbGFjZSgvXjAvZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKHByb2Nlc3NlZFZhbHVlLmluZGV4T2Yob3B0cy5jb3VudHJ5Y29kZSkgPiAxIHx8IC0xID09PSBwcm9jZXNzZWRWYWx1ZS5pbmRleE9mKG9wdHMuY291bnRyeWNvZGUpKSAmJiAocHJvY2Vzc2VkVmFsdWUgPSBcIitcIiArIG9wdHMuY291bnRyeWNvZGUgKyBwcm9jZXNzZWRWYWx1ZSksXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzZWRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcGhvbmViZToge1xyXG4gICAgICAgICAgICBhbGlhczogXCJwaG9uZVwiLFxyXG4gICAgICAgICAgICB1cmw6IFwicGhvbmUtY29kZXMvcGhvbmUtYmUuanNcIixcclxuICAgICAgICAgICAgY291bnRyeWNvZGU6IFwiMzJcIixcclxuICAgICAgICAgICAgbm9qdW1wc1RocmVzaG9sZDogNFxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgIFJlZ2V4OiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiclwiLFxyXG4gICAgICAgICAgICBncmVlZHk6ICExLFxyXG4gICAgICAgICAgICByZXBlYXQ6IFwiKlwiLFxyXG4gICAgICAgICAgICByZWdleDogbnVsbCxcclxuICAgICAgICAgICAgcmVnZXhUb2tlbnM6IG51bGwsXHJcbiAgICAgICAgICAgIHRva2VuaXplcjogL1xcW1xcXj9dPyg/OlteXFxcXFxcXV0rfFxcXFxbXFxTXFxzXT8pKl0/fFxcXFwoPzowKD86WzAtM11bMC03XXswLDJ9fFs0LTddWzAtN10/KT98WzEtOV1bMC05XSp8eFswLTlBLUZhLWZdezJ9fHVbMC05QS1GYS1mXXs0fXxjW0EtWmEtel18W1xcU1xcc10/KXxcXCgoPzpcXD9bOj0hXT8pP3woPzpbPyorXXxcXHtbMC05XSsoPzosWzAtOV0qKT9cXH0pXFw/P3xbXi4/KiteJHtbKCl8XFxcXF0rfC4vZyxcclxuICAgICAgICAgICAgcXVhbnRpZmllckZpbHRlcjogL1swLTldK1teLF0vLFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlOiBmdW5jdGlvbiAoYnVmZmVyLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChvcHRzLnJlZ2V4KS50ZXN0KGJ1ZmZlci5qb2luKFwiXCIpKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIHI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBSZWdleFRva2VuKGlzR3JvdXAsIGlzUXVhbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW10sIHRoaXMuaXNHcm91cCA9IGlzR3JvdXAgfHwgITEsIHRoaXMuaXNRdWFudGlmaWVyID0gaXNRdWFudGlmaWVyIHx8ICExLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMucmVwZWF0ZXJQYXJ0ID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGFuYWx5c2VSZWdleCgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaCwgbSwgY3VycmVudFRva2VuID0gbmV3IFJlZ2V4VG9rZW4oKSwgb3Blbmdyb3VwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChvcHRzLnJlZ2V4VG9rZW5zID0gW107IG1hdGNoID0gb3B0cy50b2tlbml6ZXIuZXhlYyhvcHRzLnJlZ2V4KSA7KSBzd2l0Y2ggKG0gPSBtYXRjaFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIihcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbmdyb3Vwcy5wdXNoKG5ldyBSZWdleFRva2VuKCEwKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBncm91cFRva2VuID0gb3Blbmdyb3Vwcy5wb3AoKSwgb3Blbmdyb3Vwcy5sZW5ndGggPiAwID8gb3Blbmdyb3Vwc1tvcGVuZ3JvdXBzLmxlbmd0aCAtIDFdLm1hdGNoZXMucHVzaChncm91cFRva2VuKSA6IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goZ3JvdXBUb2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwie1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIipcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHF1YW50aWZpZXJUb2tlbiA9IG5ldyBSZWdleFRva2VuKCExLCAhMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0gPSBtLnJlcGxhY2UoL1t7fV0vZywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtcSA9IG0uc3BsaXQoXCIsXCIpLCBtcTAgPSBpc05hTihtcVswXSkgPyBtcVswXSA6IHBhcnNlSW50KG1xWzBdKSwgbXExID0gMSA9PT0gbXEubGVuZ3RoID8gbXEwIDogaXNOYU4obXFbMV0pID8gbXFbMV0gOiBwYXJzZUludChtcVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWFudGlmaWVyVG9rZW4ucXVhbnRpZmllciA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbXEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBtcTFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgb3Blbmdyb3Vwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG9wZW5ncm91cHNbb3Blbmdyb3Vwcy5sZW5ndGggLSAxXS5tYXRjaGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2ggPSBtYXRjaGVzLnBvcCgpLCBtYXRjaC5pc0dyb3VwIHx8IChncm91cFRva2VuID0gbmV3IFJlZ2V4VG9rZW4oITApLCBncm91cFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGdyb3VwVG9rZW4pLCBtYXRjaGVzLnB1c2gobWF0Y2gpLCBtYXRjaGVzLnB1c2gocXVhbnRpZmllclRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXMucG9wKCksIG1hdGNoLmlzR3JvdXAgfHwgKGdyb3VwVG9rZW4gPSBuZXcgUmVnZXhUb2tlbighMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSwgbWF0Y2ggPSBncm91cFRva2VuKSwgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gocXVhbnRpZmllclRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5ncm91cHMubGVuZ3RoID4gMCA/IG9wZW5ncm91cHNbb3Blbmdyb3Vwcy5sZW5ndGggLSAxXS5tYXRjaGVzLnB1c2gobSkgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMubGVuZ3RoID4gMCAmJiBvcHRzLnJlZ2V4VG9rZW5zLnB1c2goY3VycmVudFRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZVJlZ2V4VG9rZW4odG9rZW4sIGZyb21Hcm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzdmFsaWQgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21Hcm91cCAmJiAocmVnZXhQYXJ0ICs9IFwiKFwiLCBvcGVuR3JvdXBDb3VudCsrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1uZHggPSAwOyBtbmR4IDwgdG9rZW4ubWF0Y2hlcy5sZW5ndGg7IG1uZHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaFRva2VuID0gdG9rZW4ubWF0Y2hlc1ttbmR4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hUb2tlbi5pc0dyb3VwID09PSAhMCkgaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaFRva2VuLCAhMCk7IGVsc2UgaWYgKG1hdGNoVG9rZW4uaXNRdWFudGlmaWVyID09PSAhMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JybnRuZHggPSAkLmluQXJyYXkobWF0Y2hUb2tlbiwgdG9rZW4ubWF0Y2hlcyksIG1hdGNoR3JvdXAgPSB0b2tlbi5tYXRjaGVzW2Nycm50bmR4IC0gMV0sIHJlZ2V4UGFydEJhayA9IHJlZ2V4UGFydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKG1hdGNoVG9rZW4ucXVhbnRpZmllci5tYXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDsgbWF0Y2hUb2tlbi5yZXBlYXRlclBhcnQgJiYgbWF0Y2hUb2tlbi5yZXBlYXRlclBhcnQgIT09IHJlZ2V4UGFydCAmJiBtYXRjaFRva2VuLnJlcGVhdGVyUGFydC5sZW5ndGggPiByZWdleFBhcnQubGVuZ3RoICYmICEoaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaEdyb3VwLCAhMCkpIDspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXN2YWxpZCA9IGlzdmFsaWQgfHwgdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoR3JvdXAsICEwKSwgaXN2YWxpZCAmJiAobWF0Y2hUb2tlbi5yZXBlYXRlclBhcnQgPSByZWdleFBhcnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXJ0ID0gcmVnZXhQYXJ0QmFrICsgbWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1heDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBxbSA9IG1hdGNoVG9rZW4ucXVhbnRpZmllci5tYXggLSAxOyBxbSA+IGkgJiYgIShpc3ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoR3JvdXAsICEwKSkgOyBpKyspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXJ0ID0gcmVnZXhQYXJ0QmFrICsgXCJ7XCIgKyBtYXRjaFRva2VuLnF1YW50aWZpZXIubWluICsgXCIsXCIgKyBtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4ICsgXCJ9XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHZvaWQgMCAhPT0gbWF0Y2hUb2tlbi5tYXRjaGVzKSBmb3IgKHZhciBrID0gMDsgayA8IG1hdGNoVG9rZW4ubGVuZ3RoICYmICEoaXN2YWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihtYXRjaFRva2VuW2tdLCBmcm9tR3JvdXApKSA7IGsrKyk7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVzdEV4cDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwiW1wiID09IG1hdGNoVG9rZW4uY2hhckF0KDApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0RXhwID0gcmVnZXhQYXJ0LCB0ZXN0RXhwICs9IG1hdGNoVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgb3Blbkdyb3VwQ291bnQgPiBqOyBqKyspIHRlc3RFeHAgKz0gXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwID0gbmV3IFJlZ0V4cChcIl4oXCIgKyB0ZXN0RXhwICsgXCIpJFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzdmFsaWQgPSBleHAudGVzdChidWZmZXJTdHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgZm9yICh2YXIgbCA9IDAsIHRsID0gbWF0Y2hUb2tlbi5sZW5ndGg7IHRsID4gbDsgbCsrKSBpZiAoXCJcXFxcXCIgIT09IG1hdGNoVG9rZW4uY2hhckF0KGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXN0RXhwID0gcmVnZXhQYXJ0LCB0ZXN0RXhwICs9IG1hdGNoVG9rZW4uc3Vic3RyKDAsIGwgKyAxKSwgdGVzdEV4cCA9IHRlc3RFeHAucmVwbGFjZSgvXFx8JC8sIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IG9wZW5Hcm91cENvdW50ID4gajsgaisrKSB0ZXN0RXhwICs9IFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4cCA9IG5ldyBSZWdFeHAoXCJeKFwiICsgdGVzdEV4cCArIFwiKSRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXN2YWxpZCA9IGV4cC50ZXN0KGJ1ZmZlclN0cikpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGFydCArPSBtYXRjaFRva2VuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXN2YWxpZCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnJvbUdyb3VwICYmIChyZWdleFBhcnQgKz0gXCIpXCIsIG9wZW5Hcm91cENvdW50LS0pLCBpc3ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncm91cFRva2VuLCBjYnVmZmVyID0gbWFza3NldC5idWZmZXIuc2xpY2UoKSwgcmVnZXhQYXJ0ID0gXCJcIiwgaXNWYWxpZCA9ICExLCBvcGVuR3JvdXBDb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgPT09IG9wdHMucmVnZXhUb2tlbnMgJiYgYW5hbHlzZVJlZ2V4KCksIGNidWZmZXIuc3BsaWNlKHBvcywgMCwgY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlclN0ciA9IGNidWZmZXIuam9pbihcIlwiKSwgaSA9IDA7IGkgPCBvcHRzLnJlZ2V4VG9rZW5zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhUb2tlbiA9IG9wdHMucmVnZXhUb2tlbnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCA9IHZhbGlkYXRlUmVnZXhUb2tlbihyZWdleFRva2VuLCByZWdleFRva2VuLmlzR3JvdXApKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKTtcclxuLyoganNoaW50IGlnbm9yZTplbmQgKi8iLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsXHJcbiAgICAgICAgWyduZ1Jlc291cmNlJywgJ3VpLnJvdXRlcicsICduZ0Nvb2tpZXMnLCAndWkubWFzaycsICd1aS5ib290c3RyYXAnLCAnaXN0ZXZlbi1tdWx0aS1zZWxlY3QnLCAnbmdJbnB1dE1vZGlmaWVkJywgJ3VpLnZhbGlkYXRlJywgJ2NnQnVzeScsXHJcbiAgICAgICAgICAgICdhbmd1bGFyLmZpbHRlcicsICd4ZWRpdGFibGUnLCAnY2hlY2tsaXN0LW1vZGVsJywgJ25nRmlsZVVwbG9hZCcsICdTVE5SZXNvdXJjZScsICd1aS5ib290c3RyYXAuZGF0ZXRpbWVwaWNrZXInLCAnbGVhZmxldC1kaXJlY3RpdmUnLCAnbmdIYW5kc29udGFibGUnLFxyXG4gICAgICAgICAgICAnU1ROQ29udHJvbGxlcnMnLCAnTG9nSW5PdXRDb250cm9sbGVyJywgJ01vZGFsQ29udHJvbGxlcnMnLCAnU2V0dGluZ3NDb250cm9sbGVycycsICdXaU0uU2VydmljZXMnLCAnV2lNLkV2ZW50JywgJ3dpbV9hbmd1bGFyJywgJ2FuZ3VsYXJTcGlubmVycyddKTtcclxuXHJcbiAgICBhcHAuY29uc3RhbnQoJ1NFUlZFUl9VUkwnLCAnaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzJyk7XHJcbiAgICAvL2FwcC5jb25zdGFudCgnU0VSVkVSX1VSTCcsICdodHRwczovL3N0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMicpO1xyXG4gICAgLy9hcHAuY29uc3RhbnQoJ1NFUlZFUl9VUkwnLCAnaHR0cDovL2xvY2FsaG9zdC9TVE5TZXJ2aWNlczInKTtcclxuXHJcbiAgICAvLyBhcHAuY29uc3RhbnQoJ0VOVklST05NRU5UJywgJ1Rlc3RpbmcnKTtcclxuICAgIGFwcC5jb25zdGFudCgnRU5WSVJPTk1FTlQnLCAnUHJvZHVjdGlvbicpO1xyXG5cclxuICAgIGFwcC5ydW4oWyckcm9vdFNjb3BlJywgJyR1aWJNb2RhbFN0YWNrJywgJyRjb29raWVzJywgJyRzdGF0ZScsICdFTlZJUk9OTUVOVCcsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkdWliTW9kYWxTdGFjaywgJGNvb2tpZXMsICRzdGF0ZSwgRU5WSVJPTk1FTlQpIHtcclxuICAgICAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMpIHtcclxuICAgICAgICAgICAgaWYgKCgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpICYmIHRvU3RhdGUuYXV0aGVudGljYXRlKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnJldHVyblRvU3RhdGUgPSB0b1N0YXRlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnJldHVyblRvU3RhdGVQYXJhbXMgPSB0b1BhcmFtcy5pZDtcclxuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ2VudHJ5Jyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgLy9jbG9zZSBhbGwgbW9kYWxzIHdoZW4gY2hhbmdpbmcgc3RhdGVzIChzaXRlIGNyZWF0ZSBvcGVuLCB3YW50IHRvIHVzZSBhIG5lYXJieSBzaXRlIG9yIGp1c3QgY2hhbmdlIHRoZSB1cmwgdXAgdG9wLCBjbG9zZSB0aGUgbW9kYWwgdG9vKVxyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsU3RhY2suZGlzbWlzc0FsbCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0b1N0YXRlLnVybCA9PSBcIi9cIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSB1c2VybmFtZSBmb2N1c1xyXG4gICAgICAgICAgICAgICAgICAgICQoXCIjdXNlck5hbWVGb2N1c1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuZW52aXJvbm1lbnQgPSBFTlZJUk9OTUVOVDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoZXZlbnQsIHRvU3RhdGUsIHRvUGFyYW1zLCBmcm9tU3RhdGUsIGZyb21QYXJhbXMsIGVycm9yKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZUVycm9yJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGFsZXJ0KFwiRXJyb3Igb2NjdXJyZWQ6IFN0YXR1c1wiICsgZXJyb3Iuc3RhdHVzICsgXCIsIFwiICsgZXJyb3Iuc3RhdHVzVGV4dCArIFwiLiBUaGUgZm9sbG93aW5nIHJlcXVlc3Qgd2FzIHVuc3VjY2Vzc2Z1bDogXCIgKyBlcnJvci5jb25maWcudXJsICsgXCIgUGxlYXNlIHJlZnJlc2ggYW5kIHRyeSBhZ2Fpbi5cIik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfV0pO1xyXG4gICAgLy9hcHAuY29uZmlnKGZ1bmN0aW9uIHRoYXQgZGVmaW5lcyB0aGUgY29uZmlnIGNvZGUuICd1aS5zZWxlY3QnLCAnbmdTYW5pdGl6ZScsJyRsb2NhdGlvblByb3ZpZGVyJywgJGxvY2F0aW9uUHJvdmlkZXJcclxuICAgIGFwcC5jb25maWcoWyckc3RhdGVQcm92aWRlcicsICckdXJsUm91dGVyUHJvdmlkZXInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc3RhdGVQcm92aWRlciwgJHVybFJvdXRlclByb3ZpZGVyKSB7XHJcblxyXG4gICAgICAgICAgICAvL2lmIG5vIGFjdGl2ZSBzdGF0ZSwgZGlzcGxheSBzdGF0ZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBmcmFnbWVudCBpZGVudGlmaWVyXHJcbiAgICAgICAgICAgICR1cmxSb3V0ZXJQcm92aWRlci5vdGhlcndpc2UoXCIvXCIpO1xyXG5cclxuICAgICAgICAgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE5NzIxMTI1L3Jlc29sdmUtaHR0cC1yZXF1ZXN0LWJlZm9yZS1ydW5uaW5nLWFwcC1hbmQtc3dpdGNoaW5nLXRvLWEtcm91dGUtb3Itc3RhdGVcclxuICAgICAgICAgICAgLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzIyNTM3MzExL2FuZ3VsYXItdWktcm91dGVyLWxvZ2luLWF1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgICAgICRzdGF0ZVByb3ZpZGVyXHJcbiAgICAgICAgICAgICAgICAvLyBlbnRyeVBvaW50XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJlbnRyeVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9cIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvbWFpbi9tYWluVmlldy5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJtYWluQ3RybFwiXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIG1hcFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwibWFwXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL01hcFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICcnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwQ29udHJvbGxlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvbWFwL21hcC5odG1sXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcEZpbHRlcnNAbWFwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvbWFwL21hcEZpbHRlcnMuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwRmlsdGVyc0NvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHM6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVMaXN0OiBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNUOiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2Vuc1QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNULmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV0d046ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtOYW1lczogZnVuY3Rpb24gKG5ldHdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXR3Ti5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBTaXRlSW5mb0BtYXAnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9zaXRlL21hcFNpdGVJbmZvVmlldy5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYXBTaXRlSW5mb0NvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBQZWFrc1ZpZXdAbWFwJzogeyB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9wZWFrL21hcFBlYWtzVmlldy5odG1sJywgY29udHJvbGxlcjogJ01hcFBlYWtzQ29udHJvbGxlcicgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ21hcFNlbnNvclByb3Bvc2VAbWFwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvc2Vuc29yL21hcFNlbnNvclByb3Bvc2UuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcGxveVR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Q6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc0RlcHM6IGZ1bmN0aW9uIChzZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2QuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdNYXBTZW5zb3JQcm9wb3NlQ29udHJvbGxlcidcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBhcHByb3ZhbCBwYWdlXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJhcHByb3ZhbFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9BcHByb3ZhbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9hcHByb3ZhbC9hcHByb3ZhbC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJhcHByb3ZhbEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogJ0NPVU5USUVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TGlzdDogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpOiAnSU5TVFJVTUVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRMaXN0OiBmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0OiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTZW5zb3JUeXBlczogZnVuY3Rpb24gKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3QuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwVHlwZXM6IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtUXVhbExpc3Q6IGZ1bmN0aW9uIChocSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtVHlwZUxpc3Q6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIHNpdGVzU2VhcmNoIFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwic2l0ZVNlYXJjaFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TaXRlU2VhcmNoXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3NpdGVTZWFyY2gvc2l0ZVNlYXJjaC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJzaXRlU2VhcmNoQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlTGlzdDogZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5zVDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yVHlwZXM6IGZ1bmN0aW9uIChzZW5zVCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNULmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXR3TjogJ05FVFdPUktfTkFNRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdvcmtOYW1lczogZnVuY3Rpb24gKG5ldHdOKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV0d04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0aW5nXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXBvcnRpbmdcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvUmVwb3J0aW5nXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3JlcG9ydGluZy9yZXBvcnRpbmcuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0aW5nQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVzOiBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJ1JFUE9SVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJlcG9ydHM6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXQ6ICdFVkVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRUeXBlczogZnVuY3Rpb24gKGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzOiAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRTdGF0dXM6IGZ1bmN0aW9uIChlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZzogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFnZW5jaWVzOiBmdW5jdGlvbiAoYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyUmVwb3J0czogZnVuY3Rpb24gKHIsICRjb29raWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbUlEID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmdldE1lbWJlclJlcG9ydHMoeyBtZW1iZXJJZDogbUlEIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXBvcnRpbmcucmVwb3J0RGFzaFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVwb3J0aW5nLnJlcG9ydERhc2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRGFzaGJvYXJkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3JlcG9ydGluZy9yZXBvcnRpbmdEYXNoYm9hcmQuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwicmVwb3J0aW5nRGFzaEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByOiAnUkVQT1JUJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsUmVwb3J0c0FnYWluOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlcG9ydGluZy5TdWJtaXRSZXBvcnRcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlcG9ydGluZy5zdWJtaXRSZXBvcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU3VibWl0UmVwb3J0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3JlcG9ydGluZy9zdWJtaXRSZXBvcnQuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwic3VibWl0UmVwb3J0Q3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyByZXBvcnRpbmcuR2VuZXJhdGVSZXBvcnRcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlcG9ydGluZy5nZW5lcmF0ZVJlcG9ydFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9HZW5lcmF0ZVJlcG9ydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvZ2VuZXJhdGVSZXBvcnQuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBzZXR0aW5ncyBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNldHRpbmdzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NldHRpbmdzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3NldHRpbmdzL3NldHRpbmdzLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInNldHRpbmdzQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtZW1iZXJzXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJtZW1iZXJzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL01lbWJlcnNcIixcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgaWQ6IG51bGwgfSxcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IHVpLXZpZXc+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJtZW1iZXJDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJ1JPTEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxSb2xlczogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiAnQUdFTkNZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQWdlbmNpZXM6IGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXNlclByb2ZpbGVJZDogZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGVQYXJhbXMuaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtZW1iZXJzLk1lbWJlcnNMaXN0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJtZW1iZXJzLk1lbWJlcnNMaXN0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL01lbWJlcnNMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L21lbWJlci9tZW1iZXJzTGlzdC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGV2ZW50c1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZXZlbnRzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0V2ZW50c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgdWktdmlldz48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImV2ZW50Q3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldDogJ0VWRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudFR5cGVzOiBmdW5jdGlvbiAoZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXM6ICdFVkVOVF9TVEFUVVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudFN0YXRzOiBmdW5jdGlvbiAoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01FTUJFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvb3JkTWVtYmVyczogZnVuY3Rpb24gKG0sICRodHRwLCAkY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uZ2V0Um9sZU1lbWJlcnMoeyByb2xlSWQ6IDEgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cy5FdmVudHNMaXN0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJldmVudHMuRXZlbnRzTGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9FdmVudHNMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L2V2ZW50L2V2ZW50c0xpc3QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIGV2ZW50cy5FdmVudEluZm9mXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJldmVudHMuRXZlbnRJbmZvXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL2V2ZW50SW5mby86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvZXZlbnQvZXZlbnRJbmZvLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImV2ZW50SW5mb0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uIChlLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudElkID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUucXVlcnkoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgaWQ6IGV2ZW50SWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gcmVzb3VyY2VzICAgIFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1Jlc291cmNlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBcIjxkaXYgdWktdmlldz48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInJlc291cmNlc0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVzOiBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdGF0ZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWc6ICdBR0VOQ1knLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxBZ2VuY2llczogZnVuY3Rpb24gKGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWcuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT05UQUNUX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb250YWN0VHlwZXM6IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZDogJ0RFUExPWU1FTlRfUFJJT1JJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lQcmlvcml0aWVzOiBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzOiAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRTdGF0czogZnVuY3Rpb24gKGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV0OiAnRVZFTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50VHlwZXM6IGZ1bmN0aW9uIChldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdDogJ0ZJTEVfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEZpbGVUeXBlczogZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHM6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckRhdHVtczogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0OiAnSE9VU0lOR19UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG91c2VUeXBlczogZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhxOiAnSFdNX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIV01xdWFsaXRpZXM6IGZ1bmN0aW9uIChocSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21UOiAnSFdNX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIV010eXBlczogZnVuY3Rpb24gKGh3bVQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod21ULmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY2M6ICdJTlNUX0NPTExfQ09ORElUSU9OJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW5zdENvbGxlY3RDb25kaXRpb25zOiBmdW5jdGlvbiAoaWNjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaWNjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiAnTUFSS0VSJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWFya2VyczogZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBubjogJ05FVFdPUktfTkFNRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5ldHdvcmtOYW1lczogZnVuY3Rpb24gKG5uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm4uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wcTogJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPYmpQdFF1YWxpdGllczogZnVuY3Rpb24gKG9wcSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wcS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0OiAnT1BfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9ialB0VHlwZXM6IGZ1bmN0aW9uIChvcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNiOiAnU0VOU09SX0JSQU5EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yQnJhbmRzOiBmdW5jdGlvbiAoc2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzYi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3ltZW50VHlwZXM6IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzc3RhdDogJ1NUQVRVU19UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdHVzVHlwZXM6IGZ1bmN0aW9uIChzc3RhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNzdGF0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yVHlwZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudDogJ05FVFdPUktfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5ldHdvcmtUeXBlczogZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZjbTogJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydGljYWxDb2xsTWV0aG9kczogZnVuY3Rpb24gKHZjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZjbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmQ6ICdWRVJUSUNBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRpY2FsRGF0dW1zOiBmdW5jdGlvbiAodmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVzb3VyY2VzLlJlc291cmNlc0xpc3RcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1Jlc291cmNlc0xpc3RcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3Jlc291cmNlc0xpc3QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBhbGwgbG9va3VwIGh0bWxzXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5hZ2VuY3lcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvQWdlbmNpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2FnZW5jeS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuQ29udGFjdFR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvQ29udGFjdFR5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9jb250YWN0VHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRGVwUHJpb3JpdHlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRGVwbG95bWVudFByaW9yaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2RlcGxveW1lbnRQcmlvcml0eS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRXZlbnRTdGF0dXNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRXZlbnRTdGF0dXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2V2ZW50U3RhdHVzLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5FdmVudFR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRXZlbnRUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvZXZlbnRUeXBlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5GaWxlVHlwZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9GaWxlVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2ZpbGVUeXBlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5Ib3JDb2xsTWV0aGRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSG9yaXpvbnRhbENvbGxNZXRob2RzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9ob3Jpem9udGFsQ29sbGVjdGlvbk1ldGhvZC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSG9yRGF0dW1cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSG9yaXpvbnRhbERhdHVtc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvaG9yaXpvbnRhbERhdHVtLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5Ib3VzaW5nVHlwZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9Ib3VzaW5nVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2hvdXNpbmdUeXBlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5IV01RdWFsXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hXTVF1YWxpdGllc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvaHdtUXVhbGl0eS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSFdNVHlwZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9IV01UeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvaHdtVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSW5zdHJDb2xsQ29uZGl0aW9uXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0luc3RyQ29sbENvbmRpdGlvbnNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2luc3RydW1lbnRDb2xsZWN0aW9uQ29uZGl0aW9uLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5NYXJrZXJcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvTWFya2Vyc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvbWFya2VyLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5OZXR3b3JrTmFtZXNcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvTmV0d29ya05hbWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9uZXR3b3JrTmFtZXMuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0Lk9QcXVhbGl0eVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9PYmpQb2ludFF1YWxpdGllc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvb2JqZWN0aXZlUG9pbnRRdWFsaXR5Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5PUFR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvT2JqUG9pbnRUeXBlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9vYmplY3RpdmVQb2ludFR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlNlbnNvckJyYW5kXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NlbnNvckJyYW5kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvc2Vuc29yQnJhbmQuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlNlbkRlcFR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2Vuc29yRGVwbG95bWVudFR5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9kZXBsb3ltZW50VHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuU3RhdHVzVHlwZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TdGF0dXNUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvc3RhdHVzVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuU2Vuc29yVHlwZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TZW5zb3JUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvc2Vuc29yVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuTmV0d29ya1R5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvTmV0d29ya1R5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9uZXR3b3JrVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuVmVydENvbGxNZXRob2RcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvVmVydGljYWxDb2xsTWV0aG9kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvdmVydGljYWxDb2xsZWN0aW9uTWV0aG9kLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5WZXJ0RGF0dW1cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvVmVydGljYWxEYXR1bXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3ZlcnRpY2FsRGF0dW0uaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBidWxrIGh3bSBhZGp1c3RtZW50IHBhZ2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcImJ1bGtIV01BZGpcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvQnVsa0hXTV9hZGp1c3RtZW50c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9od20vYnVsa0hXTUFkai5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwiYnVsa0hXTUFkakN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogJ0NPVU5USUVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TGlzdDogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBidWxrIGh3bSBhZGp1c3RtZW50IHBhZ2UgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcImJ1bGtIV01cIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSGlzdG9yaWNIV01fVXBsb2FkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L2h3bS9idWxrSFdNLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJidWxrSFdNQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZTogJ0VWRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRMaXN0OiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHM6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlTGlzdDogZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09VTlRJRVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudHlMaXN0OiBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0OiAnSFdNX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21UeXBlTGlzdDogZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG06ICdNQVJLRVInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJMaXN0OiBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhxOiAnSFdNX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21RdWFsTGlzdDogZnVuY3Rpb24gKGhxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvcml6RGF0dW1MaXN0OiBmdW5jdGlvbiAoaGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGNtOiAnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3JDb2xsTWV0aExpc3Q6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZkOiAnVkVSVElDQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0RGF0dW1MaXN0OiBmdW5jdGlvbiAodmQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmNtOiAnVkVSVElDQUxfQ09MTF9NRVRIT0QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0Q29sbE1ldGhMaXN0OiBmdW5jdGlvbiAodmNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmNtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmOiAnRklMRV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGVzTGlzdDogZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhOiAnQUdFTkNZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmNpZXNMaXN0OiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzaXRlIChhYnN0cmFjdClcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNpdGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2l0ZS86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiB7IHZhbHVlOiBudWxsLCBzcXVhc2g6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlOiB7IHZhbHVlOiBudWxsLCBzcXVhc2g6IHRydWUgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3NpdGUvc2l0ZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRzdGF0ZVBhcmFtcycsICdTaXRlX1NjcmlwdCcsICdydW5uaW5nU2NyaXB0JywgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlUGFyYW1zLCBTaXRlX1NjcmlwdCwgcnVubmluZ1NjcmlwdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUlEID0gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVJRCAhPSBcIjBcIikgU2l0ZV9TY3JpcHQuc2V0SXNTY3JpcHRSdW5uaW5nKHJ1bm5pbmdTY3JpcHQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIFNpdGVfU2NyaXB0LnNldElzU2NyaXB0UnVubmluZyhcImZhbHNlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2l0ZSBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU0lURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJ1bm5pbmdTY3JpcHQ6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuc2Vuc29yU2NyaXB0UnVubmluZyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnF1ZXJ5KHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG9uZzogZnVuY3Rpb24gKCRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5sYXRpdHVkZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRsb25nYXJyYXkgPSBbJHN0YXRlUGFyYW1zLmxhdGl0dWRlLCAkc3RhdGVQYXJhbXMubG9uZ2l0dWRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGF0bG9uZ2FycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZU5ldHdvcmtOYW1lczogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRTaXRlTmV0d29ya05hbWVzKHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVOZXR3b3JrVHlwZXM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZU5ldHdvcmtUeXBlcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlSG91c2luZ3M6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZUhvdXNpbmdzKHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVPUHM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZU9Qcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yczogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRTaXRlU2Vuc29ycyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlSFdNczogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcywgJGh0dHAsICRjb29raWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZUhXTXMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUZpbGVzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVGaWxlcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlUGVha3M6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZVBlYWtzKHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGQ6ICdIT1JJWk9OVEFMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yRGF0dW1zOiBmdW5jdGlvbiAoaGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGNtOiAnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIb3JDb2xsTWV0aG9kczogZnVuY3Rpb24gKGhjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhjbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Q6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3QuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvdW50aWVzOiBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0OiAnSE9VU0lOR19UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG91c2luZ1R5cGVzOiBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm46ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChubikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5uLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBudDogJ05FVFdPUktfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE5ldHdvcmtUeXBlczogZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95VHlwZXM6IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkcDogJ0RFUExPWU1FTlRfUFJJT1JJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lQcmlvcml0aWVzOiBmdW5jdGlvbiAoZHApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkcC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3Agc3R1ZmYgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0OiAnT1BfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9QVHlwZXM6IGZ1bmN0aW9uIChvcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnREYXRzOiAnVkVSVElDQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0RGF0dW1zOiBmdW5jdGlvbiAodmVydERhdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJ0RGF0cy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydENvbE1ldDogJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydENvbE1ldGhvZHM6IGZ1bmN0aW9uICh2ZXJ0Q29sTWV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydENvbE1ldC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BRdWFsOiAnT1BfUVVBTElUWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE9QUXVhbGl0aWVzOiBmdW5jdGlvbiAob3BRdWFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3BRdWFsLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5zb3Igc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZTogJ0VWRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzOiBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnQ6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNiOiAnU0VOU09SX0JSQU5EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yQnJhbmRzOiBmdW5jdGlvbiAoc2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzYi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHdtIHN0dWZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bXQ6ICdIV01fVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhXTVR5cGVzOiBmdW5jdGlvbiAoaHdtdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh3bXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhxOiAnSFdNX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIV01RdWFsaXRpZXM6IGZ1bmN0aW9uIChocSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiAnTUFSS0VSJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWFya2VyczogZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ0OiAnRklMRV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRmlsZVR5cGVzOiBmdW5jdGlvbiAoZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYTogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFnZW5jaWVzOiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNpdGUuaW5mb1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwic2l0ZS5kYXNoYm9hcmRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2l0ZURhc2hib2FyZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc2l0ZU5vJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGNvb2tpZXMnLCAndGhpc1NpdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgdGhpc1NpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVObyA9IHRoaXNTaXRlLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2PjxoMiBzdHlsZT1cIm1hcmdpbi10b3A6MFwiPlNpdGUge3tTaXRlTm99fSAtIEZvciB7e3Nlc3Npb25FdmVudH19PC9oMj48L2Rpdj48aHIgLz4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdhTWFwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVNYXBDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NpdGUvc2l0ZU1hcFZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYVNpdGU6IGZ1bmN0aW9uICh0aGlzU2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNTaXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudFR5cGVzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSByZXR1cm4gZHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOiAnU0lURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZUhXTXM6IGZ1bmN0aW9uICh0aGlzU2l0ZSwgcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZUhXTXMoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaTogJ0lOU1RSVU1FTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhcm9TZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ2Jhcm9fdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldFNlbnNvcnM6IGZ1bmN0aW9uICh0aGlzU2l0ZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZ2V0U2Vuc29yVmlldyh7IFZpZXdUeXBlOiAnbWV0X3ZpZXcnIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZGdTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3JkZ192aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Rvcm1TZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3N0b3JtdGlkZV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2F2ZVNlbnNvcnM6IGZ1bmN0aW9uICh0aGlzU2l0ZSwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGkuZ2V0U2Vuc29yVmlldyh7IFZpZXdUeXBlOiAnd2F2ZWhlaWdodF92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJlc1RlbXBTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3ByZXNzdXJldGVtcF92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlcm1TZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3RoZXJtX3ZpZXcnIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3ZWJjYW1TZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3dlYmNhbV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmFpbmdhZ2VTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3JhaW5nYWdlX3ZpZXcnIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYVNpdGUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2l0ZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvc2l0ZS9zaXRlSW5mb1ZpZXcuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ29wJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ29iamVjdGl2ZVBvaW50Q3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9vYmplY3RpdmVQb2ludC9vYmplY3RpdmVQb2ludExpc3QuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NlbnNvcic6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW5zb3JDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NlbnNvci9zZW5zb3JMaXN0Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdod20nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaHdtQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9od20vaHdtTGlzdC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnZmlsZSc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdmaWxlQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9maWxlL2ZpbGVMaXN0Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdwZWFrJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BlYWtDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3BlYWsvcGVha0xpc3QuaHRtbCdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFF1aWNrSFdNIHBhZ2VcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInF1aWNrQ3JlYXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1F1aWNrQ3JlYXRlLzppZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zaXRlL3F1aWNrQ3JlYXRlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInF1aWNrQ3JlYXRlQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWNoUXVpY2s6IGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc3RhdGVQYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpdGUgc3R1ZmYgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGQ6ICdIT1JJWk9OVEFMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yRGF0dW1zOiBmdW5jdGlvbiAoaGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGNtOiAnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIb3JDb2xsTWV0aG9kczogZnVuY3Rpb24gKGhjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhjbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Q6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3QuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbENvdW50aWVzOiBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wIHN0dWZmICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdDogJ09QX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFR5cGVzOiBmdW5jdGlvbiAob3B0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0RGF0czogJ1ZFUlRJQ0FMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydERhdHVtczogZnVuY3Rpb24gKHZlcnREYXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRDb2xNZXQ6ICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRDb2xNZXRob2RzOiBmdW5jdGlvbiAodmVydENvbE1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnRDb2xNZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wUXVhbDogJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFF1YWxpdGllczogZnVuY3Rpb24gKG9wUXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wUXVhbC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaHdtIHN0dWZmIChpZiBpZD0naHdtJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtdDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNVHlwZXM6IGZ1bmN0aW9uIChod210LCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ0hXTScpIHJldHVybiBod210LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNUXVhbGl0aWVzOiBmdW5jdGlvbiAoaHEsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA9PSAnSFdNJykgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiAnTUFSS0VSJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWFya2VyczogZnVuY3Rpb24gKG0sICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA9PSAnSFdNJykgcmV0dXJuIG0uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbnNvciBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcGxveVR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZTogJ0VWRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzOiBmdW5jdGlvbiAoZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdTZW5zb3InKSByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VudDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yVHlwZXM6IGZ1bmN0aW9uIChzZW50LCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ1NlbnNvcicpIHJldHVybiBzZW50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYjogJ1NFTlNPUl9CUkFORCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvckJyYW5kczogZnVuY3Rpb24gKHNiLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ1NlbnNvcicpIHJldHVybiBzYi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHQ6ICdIT1VTSU5HX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIb3VzaW5nVHlwZXM6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL3RoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIFN0YXR1czQwNCBOb3QgZm91bmQgb24gY29tcG9uZW50L21haW4vbWFpblZpZXcuaHRtbFxyXG4gICAgICAgICAgICAvLyRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh7XHJcbiAgICAgICAgICAgIC8vICAgIGVuYWJsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgIC8vICAgIHJlcXVpcmVCYXNlOiBmYWxzZVxyXG4gICAgICAgICAgICAvL30pO1xyXG4gICAgICAgIH1cclxuICAgIF0pO1xyXG59KCkpO1xyXG4iXX0=
