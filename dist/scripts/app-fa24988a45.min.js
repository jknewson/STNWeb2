!function(){"use strict";{var STNControllers=(angular.module("SettingsControllers",["ngInputModified","ui.validate","angular.filter","xeditable","checklist-model","ngFileUpload"]),angular.module("STNControllers",[]));angular.module("ModalControllers",[])}STNControllers.constant("RegExp",{PASSWORD:/^(((?=.*[a-z])(?=.*[A-Z])(?=.*[0-9]))|((?=.*[a-z])(?=.*[A-Z])(?=.*[!@@?#$%^&_:;-]))|((?=.*[a-z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))|((?=.*[A-Z])(?=.*[0-9])(?=.*[!@@?#$%^&_:;-]))).{8,}$/})}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.directive("barsChart",["$parse",function($parse){var directiveDefinitionObject={restrict:"E",replace:!1,scope:{data:"=elevationData"},link:function(scope,element,attrs){var chart=(attrs.elevationData.split(","),d3.select(element[0]));chart.append("div").attr("class","chart").selectAll("div").data(scope.data).enter().append("div").transition().ease("elastic").style("width",function(d){return d+"%"}).text(function(d){return d+"%"}),scope.$watch("data",function(newValue,oldValue){scope.data=newValue})}};return directiveDefinitionObject}]),STNControllers.directive("siteSearch",function(){return{restrict:"E",scope:{model:"=ngModel",searchBy:"=",searchTerm:"="},replace:!0,template:'<div class="searchnav"><div class="searchby"><b>Search By:</b><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteId" />ID</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteNo" />Number</div><div class="searchbyoption"><input type="radio" name="SearchBy" ng-model="searchBy.val" value="bySiteName" />Name</div></div><div class="search-input"><input ng-focus="goSearch" type="text" ng-model="searchTerm" ng-enter="IndexSearchSites()" placeholder="Search Sites..." /><button type="button" class="borderLess" ng-click="IndexSearchSites()">Search <i class="ion-search"></i></button></div></div>',controller:["$scope","$state","$http","SITE","$uibModal",function($scope,$state,$http,SITE,$uibModal){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$scope.placeholder="...",$scope.IndexSearchSites=function(){if(""!==$scope.searchTerm)switch($http.defaults.headers.common.Accept="application/json",$scope.searchBy.val){case"bySiteNo":SITE.getSearchedSite({bySiteNo:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteId":SITE.getSearchedSite({bySiteId:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)});break;case"bySiteName":SITE.getSearchedSite({bySiteName:$scope.searchTerm},function(resp){siteSearchResponse(resp)},function(errorResponse){siteSearchResponse(errorResponse)})}};var siteSearchResponse=function(s){if(void 0!==s.status){var errorModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>No site found. For more site search options, go to the Sites navigation tab to search for sites.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});errorModal.result.then(function(){$scope.searchTerm="",$scope.searchBy={val:"bySiteNo"}})}else $scope.searchTerm="",$scope.searchBy={val:"bySiteNo"},$state.go("site.dashboard",{id:s.site_id})}}]}}),STNControllers.directive("ngEnter",function(){return function(scope,element,attrs){element.bind("keydown keypress",function(event){13===event.which&&(scope.$apply(function(){scope.$eval(attrs.ngEnter)}),event.preventDefault())})}}),STNControllers.directive("numericOnly",function(){return{require:"ngModel",link:function(scope,element,attrs,modelCtrl){modelCtrl.$parsers.push(function(inputValue){var transformedInput=inputValue?inputValue.replace(/[^\d.-]/g,""):null;return transformedInput!=inputValue&&(modelCtrl.$setViewValue(transformedInput),modelCtrl.$render()),transformedInput})}}}),STNControllers.directive("datepickerPopup",function(){return{restrict:"EAC",require:"ngModel",link:function(scope,element,attr,controller){controller.$formatters.shift()}}}),STNControllers.directive("focus",function(){return function(scope,element,attributes){element[0].focus()}}),STNControllers.directive("backButton",function(){return{restrict:"A",link:function(scope,element,attrs){function goBack(){history.back(),scope.$apply()}element.bind("click",goBack)}}}),STNControllers.directive("passwordValidate",["RegExp",function(regex){return{require:"ngModel",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$apply(function(){return regex.PASSWORD.test(viewValue.target.value)?(ctrl.$setValidity("passwordValidate",!0),viewValue):void ctrl.$setValidity("passwordValidate",!1)})})}}}]),STNControllers.directive("sameAs",["$parse",function($parse){return{require:"ngModel",restrict:"A",link:function(scope,elm,attrs,ctrl){elm.unbind("keydown").unbind("change"),elm.bind("blur",function(viewValue){scope.$watch(function(){return $parse(attrs.sameAs)(scope)===ctrl.$modelValue},function(currentValue){ctrl.$setValidity("passwordMismatch",currentValue)})})}}}]),STNControllers.directive("elastic",["$timeout",function($timeout){return{restrict:"A",link:function($scope,element){$scope.initialHeight=$scope.initialHeight||element[0].style.height;var resize=function(){element[0].style.height=$scope.initialHeight,element[0].style.height=""+element[0].scrollHeight+"px"};element.on("input change",resize),$timeout(resize,0)}}}]),STNControllers.directive("myInputMask",function(){return{restrict:"AC",link:function(scope,el,attrs){el.inputmask(scope.$eval(attrs.myInputMask)),el.on("change",function(){scope.$eval(attrs.ngModel+"='"+el.val()+"'")})}}}),STNControllers.directive("fileModel",["$parse",function($parse){return{restrict:"A",link:function(scope,element,attrs){var model=$parse(attrs.fileModel),modelSetter=model.assign;element.bind("change",function(){scope.$apply(function(){modelSetter(scope,element[0].files[0])})})}}}]),STNControllers.directive("inputRestrictor",[function(){return{restrict:"A",require:"ngModel",link:function(scope,element,attr,ngModelCtrl){function fromUser(text){if(!text)return text;var transformedInput=text.replace(pattern,"");return transformedInput!==text&&(ngModelCtrl.$setViewValue(transformedInput),ngModelCtrl.$render()),transformedInput}var pattern=/[^a-zA-Z0-9- _]/g;ngModelCtrl.$parsers.push(fromUser)}}}]),STNControllers.directive("labelLimitLength",function(){return{restrict:"A",link:function(scope,elem,attrs){var limit=parseInt(attrs.labelLimitLength);angular.element(elem).on("keypress",function(e){this.value.length==limit&&e.preventDefault()})}}}),STNControllers.directive("hcChart",function(){return{restrict:"E",template:"<div></div>",scope:{options:"="},link:function(scope,element){Highcharts.chart(element[0],scope.options)}}})}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteSearchCtrl",["$scope","$cookies","$rootScope","$location","stateList","sensorTypes","networkNames","SITE",function($scope,$cookies,$rootScope,$location,stateList,sensorTypes,networkNames,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Site Search",$rootScope.activeMenu="sites",$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.Chosen={},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},void 0!==$rootScope.searchParams){var thisSearch=$rootScope.searchParams;$scope.sessionEvent=Number(thisSearch.event);for(var i=0;i<$scope.states.length;i++){for(var y=0;y<thisSearch.state.length;y++)thisSearch.state[y]==$scope.states[i].state_abbrev?($scope.states[i].selected=!0,y=thisSearch.state.length):$scope.states[i].selected=!1;0===thisSearch.state.length&&($scope.states[i].selected=!1)}$scope.chosenStates=thisSearch.state,$scope.Chosen.sensor=thisSearch.SensorType,$scope.Chosen.network=thisSearch.NetworkName,$scope.Chosen.survey=thisSearch.HWMSurveyed,$scope.checkboxModel.hwmOnly=thisSearch.HWMOnly,$scope.checkboxModel.senOnly=thisSearch.SensorOnly,$scope.checkboxModel.rdgOnly=thisSearch.RDGOnly,$scope.checkboxModel.opDefined=thisSearch.OPDefined,SITE.getFilteredSites({Event:$scope.sessionEvent,State:$scope.chosenStates.join(),SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}$scope.searchSites=function(){$rootScope.stateIsLoading.showLoading=!0;var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){$scope.siteList=response,$scope.siteResponse=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error filtered sites: "+errorResponse.statusText)})},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){$scope.checkboxModel={hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1})}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteModalCtrl",["$scope","$rootScope","$cookies","$q","$location","$state","$http","$sce","$timeout","$uibModal","$uibModalInstance","$filter","leafletMarkerEvents","allDropDownParts","fileTypes","agencyList","latlong","thisSiteStuff","allMembers","SITE","SITE_HOUSING","Site_Files","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","LANDOWNER_CONTACT","GEOCODE","FILE_STAMP","FILE","SOURCE","SERVER_URL",function($scope,$rootScope,$cookies,$q,$location,$state,$http,$sce,$timeout,$uibModal,$uibModalInstance,$filter,leafletMarkerEvents,allDropDownParts,fileTypes,agencyList,latlong,thisSiteStuff,allMembers,SITE,SITE_HOUSING,Site_Files,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,LANDOWNER_CONTACT,GEOCODE,FILE_STAMP,FILE,SOURCE,SERVER_URL){$scope.HorizontalDatumList=allDropDownParts[0],$scope.HorCollMethodList=allDropDownParts[1],$scope.StateList=allDropDownParts[2],$scope.AllCountyList=allDropDownParts[3],$scope.stateCountyList=[],$scope.DMS={},$scope.allHousingTypeList=allDropDownParts[4],$scope.DepPriorityList=allDropDownParts[5],$scope.NetNameList=allDropDownParts[6],$scope.NetTypeList=allDropDownParts[7],$scope.ProposedSens=allDropDownParts[8],$scope.SensorDeployment=allDropDownParts[9],$scope.userRole=$cookies.get("usersRole"),$scope.closeSites=0,$scope.showMap=!1,$scope.siteLat=0,$scope.siteLong=0,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$scope.mapCenter={lat:$scope.siteLat,lng:$scope.siteLong,zoom:17},$scope.events={mapMarkers:{enable:leafletMarkerEvents.getAvailableEvents()}},$scope.mapMarkers=[];var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},newSTN:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]}},azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))};$scope.updateAddressOnly=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long")},function(errorResponse){toastr.error("Error getting location information.")})},$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.aSite.latitude_dd=parseFloat(dragendLocation.lat.toFixed(6)),$scope.aSite.longitude_dd=parseFloat(dragendLocation.lng.toFixed(6));var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.updateAddressOnly()}),$scope.getAddress=function(){if(void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else $scope.mapCenter={lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),zoom:18},$scope.mapMarkers=[],$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.AllCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.StateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,SITE.getProximitySites({Latitude:$scope.aSite.latitude_dd,Longitude:$scope.aSite.longitude_dd,Buffer:5e-4},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];$scope.mapMarkers.push({lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,site_no:a.site_no,icon:icons.stn,message:a.site_no,focus:!1})}$scope.mapMarkers.push({lat:parseFloat($scope.aSite.latitude_dd),lng:parseFloat($scope.aSite.longitude_dd),icon:icons.newSTN,message:"New draggable STN site",focus:!1,draggable:!0}),$scope.showMap=!0,$rootScope.stateIsLoading.showLoading=!1},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)}).$promise):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.houseDirty=!1,$scope.netTypeDirty=!1,$scope.siteHouseTypesTable=[],$scope.aSite={},void 0!==latlong&&($scope.aSite.latitude_dd=parseFloat(latlong[0].toFixed(6)),$scope.aSite.longitude_dd=parseFloat(latlong[1].toFixed(6)),$scope.aSite.hdatum_id=4,$scope.aSite.hcollect_method_id=4,$scope.getAddress()),$scope.aSite.decDegORdms="dd",$scope.originalSiteHousings=[],$scope.checked="",$scope.checkedName="Not Defined",$scope.landowner={},$scope.addLandowner=!1,$scope.disableSensorParts=!1,$scope.showSiteHouseTable=!1,$scope.siteHouseTypesTable=[],$scope.siteHousesModel={},$scope.siteHousesToRemove=[],$scope.NetworkNAMEToAdd=[],$scope.NetworkNAMEToRemove=[],$scope.NetworkTYPEToAdd=[],$scope.NetworkTYPEToRemove=[],$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],$scope.serverURL=SERVER_URL,$scope.fileTypeList=fileTypes.filter(function(ft){return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.SITEFiles=void 0!==thisSiteStuff?$scope.allSFiles.filter(function(sf){return!(sf.site_id!=thisSiteStuff[0].site_id||void 0!==sf.hwm_id&&0!==sf.hwm_id||void 0!==sf.instrument_id&&0!==sf.instrument_id||void 0!==sf.objective_point_id&&0!==sf.objective_point_id)}):[],$scope.siteImageFiles=$scope.SITEFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.SITEFiles.push(fresponse),1===fresponse.filetype_id&&($scope.siteImageFiles.splice($scope.existFileIndex,1),$scope.siteImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.SITEFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.siteImageFiles.length>0?$scope.siteImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.aSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.siteImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.aSite.site_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="Site File",$scope.SITEFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.SITEfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Site File",$scope.SITEFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.SITEfileIsUploading=!1},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.SITEfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.SITEFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.siteImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),
isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))};var deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.aSite.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aSite.decDegORdms="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.netTypeChg=function(nt){if(nt.selected){if($scope.NetworkTYPEToAdd.push(nt),void 0!==$scope.aSite.site_id){var i=$scope.NetworkTYPEToRemove.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);i>=0&&$scope.NetworkTYPEToRemove.splice(i,1)}}else{var ind=$scope.NetworkTYPEToAdd.map(function(e){return e.network_type_id}).indexOf(nt.network_type_id);ind>=0&&$scope.NetworkTYPEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkTYPEToRemove.push(nt)}},$scope.whichOne=function(n){if(n.selected){if($scope.NetworkNAMEToAdd.push(n),void 0!==$scope.aSite.site_id){var i=$scope.NetworkNAMEToRemove.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);i>=0&&$scope.NetworkNAMEToRemove.splice(i,1)}}else{var ind=$scope.NetworkNAMEToAdd.map(function(e){return e.network_name_id}).indexOf(n.network_name_id);ind>=0&&$scope.NetworkNAMEToAdd.splice(ind,1),void 0!==$scope.aSite.site_id&&$scope.NetworkNAMEToRemove.push(n)}if("Not Defined"==n.name&&n.selected===!0){for(var nn=0;nn<$scope.NetNameList.length;nn++)"Not Defined"!=$scope.NetNameList[nn].name&&$scope.NetNameList[nn].selected===!0&&($scope.NetworkNAMEToRemove.push($scope.NetNameList[nn]),$scope.NetNameList[nn].selected=!1);$scope.checked="Not Defined"}"Not Defined"==n.name&&n.selected===!1&&($scope.checked="")},$scope.dimAction=function(){if(1==$scope.aSite.sensor_not_appropriate){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}else $scope.disableSensorParts=!1},$scope.useSiteAddress,$scope.useAddressforLO=function(){$scope.useSiteAddress?($scope.landowner.address=$scope.aSite.address,$scope.landowner.city=$scope.aSite.city,$scope.landowner.state=$scope.aSite.state,$scope.landowner.zip=$scope.aSite.zip):($scope.landowner.address="",$scope.landowner.city="",$scope.landowner.state="",$scope.landowner.zip="")},$scope.save=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.addLandowner===!0?null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0?LANDOWNER_CONTACT.update({id:$scope.aSite.landownercontact_id},$scope.landowner).$promise.then(function(){putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,putSiteAndParts()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}):putSiteAndParts():putSiteAndParts()))};var putSiteAndParts=function(){void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec));var updateSite=angular.copy($scope.aSite);delete updateSite.Creator,delete updateSite.HorizontalCollectMethod,delete updateSite.HorizontalDatum,delete updateSite.PriorityName,delete updateSite.decDegORdms,SITE.update({id:$scope.aSite.site_id},updateSite,function(response){var RemovePromises=($q.defer(),[]),AddPromises=[];angular.forEach($scope.siteHousesToRemove,function(shID){var delSHProm=SITE_HOUSING["delete"]({id:shID}).$promise;RemovePromises.push(delSHProm)}),angular.forEach($scope.NetworkNAMEToRemove,function(nnL){var delNNProm=SITE.deleteSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:nnL.network_name_id}).$promise;RemovePromises.push(delNNProm)}),angular.forEach($scope.NetworkTYPEToRemove,function(ntL){var delNTProm=SITE.deleteSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:ntL.network_type_id}).$promise;RemovePromises.push(delNTProm)}),$scope.houseDirty===!0&&angular.forEach($scope.siteHouseTypesTable,function(ht){var addHtProm;void 0!==ht.site_housing_id?addHtProm=SITE_HOUSING.update({id:ht.site_housing_id},ht).$promise:(ht.site_id=$scope.aSite.site_id,addHtProm=SITE_HOUSING.save(ht).$promise),AddPromises.push(addHtProm)}),angular.forEach($scope.NetworkNAMEToAdd,function(AnnL){$scope.siteNetworkNames.push(AnnL.name);var addNNProm=SITE.postSiteNetworkName({siteId:$scope.aSite.site_id,networkNameId:AnnL.network_name_id}).$promise;AddPromises.push(addNNProm)}),angular.forEach($scope.NetworkTYPEToAdd,function(AnTL){$scope.siteNetworkTypes.push(AnTL.network_type_name);var addNTProm=SITE.postSiteNetworkType({siteId:$scope.aSite.site_id,networkTypeId:AnTL.network_type_id}).$promise;AddPromises.push(addNTProm)}),$q.all(RemovePromises).then(function(){$q.all(AddPromises).then(function(response){$scope.siteNetworkNames=[],$scope.siteNetworkTypes=[],angular.forEach($scope.NetNameList,function(nn){nn.selected===!0&&$scope.siteNetworkNames.push(nn.name)}),angular.forEach($scope.NetTypeList,function(nt){nt.selected===!0&&$scope.siteNetworkTypes.push(nt.network_type_name)});var sendBack=[$scope.aSite,$scope.siteNetworkNames,$scope.siteNetworkTypes];$uibModalInstance.close(sendBack),$rootScope.stateIsLoading.showLoading=!1,toastr.success("Site updated")})["catch"](function(msg){console.error(msg)})})["catch"](function(msg){console.error(msg)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving Site: "+errorResponse.headers(["usgswim-messages"]):"Error saving Site: "+errorResponse.statusText)})},finishPOST=function(sID){var postPromises=($q.defer(),[]);angular.forEach($scope.siteHouseTypesTable,function(htype){htype.site_id=sID,delete htype.type_name;var hTPromise=SITE_HOUSING.save(htype).$promise;postPromises.push(hTPromise)}),angular.forEach($scope.NetNameList,function(nName){if(nName.selected===!0){var nNPromise=SITE.postSiteNetworkName({siteId:sID,networkNameId:nName.network_name_id}).$promise;postPromises.push(nNPromise)}}),angular.forEach($scope.NetTypeList,function(nType){if(nType.selected===!0){var nTPromise=SITE.postSiteNetworkType({siteId:sID,networkTypeId:nType.network_type_id}).$promise;postPromises.push(nTPromise)}}),$q.all(postPromises).then(function(response){$uibModalInstance.dismiss("cancel"),$rootScope.stateIsLoading.showLoading=!1,$timeout(function(){$state.go("site.dashboard",{id:sID})})})};$scope.create=function(valid){valid&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd)?(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)):$scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd)?(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)):($rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",delete $scope.aSite.Creator,delete $scope.aSite.decDegORdms,$scope.addLandowner===!0&&(void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.title||void 0!==$scope.landowner.address||void 0!==$scope.landowner.city||void 0!==$scope.landowner.primaryphone)?LANDOWNER_CONTACT.save($scope.landowner,function(response){$scope.aSite.landownercontact_id=response.landownercontactid,postSiteAndParts()},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error saving landowner contact: "+errorResponse.statusText)}):postSiteAndParts()))};var postSiteAndParts=function(){var createdSiteID=0;void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),SITE.save($scope.aSite,function(response){if(createdSiteID=response.site_id,$scope.disableSensorParts===!1){var selectedProposedSensors=$scope.ProposedSens.filter(function(p){return p.selected===!0});selectedProposedSensors.length>0?angular.forEach(selectedProposedSensors,function(propSens,index){var sID=0;angular.forEach($scope.SensorDeployment,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==propSens.deployment_type_id&&(sID=sdt.sensor_type_id)});var sensorTypeID=sID,inst={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:propSens.deployment_type_id,site_id:createdSiteID,sensor_type_id:sensorTypeID},instrumentID=0;INSTRUMENT.save(inst).$promise.then(function(insResponse){instrumentID=insResponse.instrument_id;var instStat={instrument_id:insResponse.instrument_id,status_type_id:4,member_id:$scope.aSite.member_id,time_stamp:new Date,time_zone:"UTC"};INSTRUMENT_STATUS.save(instStat).$promise.then(function(){index==selectedProposedSensors.length-1&&finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}):finishPOST(createdSiteID)}else finishPOST(createdSiteID)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})};if(void 0!==thisSiteStuff){if($scope.aSite=angular.copy(thisSiteStuff[0]),$scope.aSite.hcollect_method_id<=0&&($scope.aSite.hcollect_method_id=null),$scope.aSite.sensor_not_appropriate>0){$scope.disableSensorParts=!0;for(var x=0;x<$scope.ProposedSens.length;x++)$scope.ProposedSens[x].selected=!1;$scope.aSite.is_permanent_housing_installed="No"}var thisState=$scope.StateList.filter(function(s){return s.state_abbrev==$scope.aSite.state})[0];if($scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id}),thisSiteStuff[1].length>0){$scope.originalSiteHousings=thisSiteStuff[1],$scope.showSiteHouseTable=!0,$scope.siteHouseTypesTable=thisSiteStuff[2];for(var ht=0;ht<$scope.allHousingTypeList.length;ht++){for(var y=0;y<$scope.originalSiteHousings.length;y++)$scope.originalSiteHousings[y].housing_type_id==$scope.allHousingTypeList[ht].housing_type_id?($scope.allHousingTypeList[ht].selected=!0,y=$scope.originalSiteHousings.length):$scope.allHousingTypeList[ht].selected=!1;0===$scope.originalSiteHousings.length&&($scope.allHousingTypeList[ht].selected=!1)}}if(thisSiteStuff[3].length>0){for(var projNNames=angular.copy(thisSiteStuff[3]),a=0;a<$scope.NetNameList.length;a++){for(var e=0;e<projNNames.length;e++)projNNames[e].network_name_id==$scope.NetNameList[a].network_name_id?($scope.NetNameList[a].selected=!0,e=projNNames.length):$scope.NetNameList[a].selected=!1;0===projNNames.length&&($scope.NetNameList[a].selected=!1)}$scope.NetNameList[0].selected===!0&&($scope.checked="Not Defined")}if(thisSiteStuff[4].length>0)for(var projNType=angular.copy(thisSiteStuff[4]),ni=0;ni<$scope.NetTypeList.length;ni++){for(var ny=0;ny<projNType.length;ny++)projNType[ny].network_type_id==$scope.NetTypeList[ni].network_type_id?($scope.NetTypeList[ni].selected=!0,ny=projNType.length):$scope.NetTypeList[ni].selected=!1;0===projNType.length&&($scope.NetTypeList[ni].selected=!1)}void 0!==thisSiteStuff[5]&&($scope.landowner=thisSiteStuff[5],$scope.addLandowner=void 0!==$scope.landowner.fname||void 0!==$scope.landowner.lname||void 0!==$scope.landowner.address||void 0!==$scope.landowner.primaryphone?!0:!1),$scope.s={sOpen:!1,sFileOpen:!1}}else $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.aSite.Creator=response.fname+" "+response.lname,$scope.aSite.member_id=response.member_id,$scope.aSite.is_permanent_housing_installed="No",$scope.aSite.access_granted="Not Needed"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$scope.s={sOpen:!0};$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.HouseTypeClick=function(ht){if($scope.houseDirty=!0,ht.selected===!0){var houseT={type_name:ht.type_name,housing_type_id:ht.housing_type_id,length:ht.length,material:ht.material,notes:ht.notes,amount:1};$scope.siteHouseTypesTable.push(houseT),$scope.showSiteHouseTable=!0}if(ht.selected===!1){if(void 0!==$scope.aSite.site_id){var sH_ID=$scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0].site_housing_id;$scope.siteHousesToRemove.push(sH_ID)}var i=$scope.siteHouseTypesTable.indexOf($scope.siteHouseTypesTable.filter(function(h){return h.type_name==ht.type_name})[0]);$scope.siteHouseTypesTable.splice(i,1),0===$scope.siteHouseTypesTable.length&&($scope.showSiteHouseTable=!1)}},$scope.showLandOwnerPart=function(){$scope.addLandowner=!0},$scope.updateCountyList=function(s){var thisState=$scope.StateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.AllCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.deleteSite=function(){var thisSite=$scope.aSite,dSiteModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Delete Site</h3></div><div class="modal-body"><p>Are you sure you want to delete site {{siteNo}}?</p></div><div class="modal-footer"><button type="button" class="btn btn-danger" ng-click="deleteIt()">Delete</button><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.siteNo=thisSite.site_no,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.deleteIt=function(){$uibModalInstance.close(thisSite)}}],size:"sm"});dSiteModal.result.then(function(s){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SITE["delete"]({id:s.site_id}).$promise.then(function(){toastr.success("Site Removed");var sendBack="Deleted";$uibModalInstance.close(sendBack)},function(errorResponse){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="ok()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.message=errorResponse.headers("usgswim-messages"),$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}],size:"sm"})})})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteMapCtrl",["$scope","$rootScope","$cookies","$location","$state","SITE","siteHWMs","deploymentTypes","baroSensors","metSensors","rdgSensors","stormSensors","waveSensors","presTempSensors","thermSensors","webcamSensors","raingageSensors","leafletData","aSite",function($scope,$rootScope,$cookies,$location,$state,SITE,siteHWMs,deploymentTypes,baroSensors,metSensors,rdgSensors,stormSensors,waveSensors,presTempSensors,thermSensors,webcamSensors,raingageSensors,leafletData,aSite){if(void 0!==aSite){$scope.mapStuff="here's the map accordion content",$scope.thisSite=aSite,$scope.allSiteHWMs=siteHWMs,$scope.allSiteBaroSensors=baroSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteMetSensors=metSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRDGSensors=rdgSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteStormSensors=stormSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWaveSensors=waveSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSitePresTempSensors=presTempSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteThermSensors=thermSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteWebSensors=webcamSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allSiteRainSensors=raingageSensors.filter(function(bs){return bs.site_id==aSite.site_id}),$scope.allDeploymentTypes=deploymentTypes,$scope.paths={},$scope.markers=[],$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if($scope.markers=[],getProximitySites(),$scope.markers.push({layer:"stnSites",message:"<div><b>This Site Name:</b> "+$scope.thisSite.site_no+"</div>",lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,icon:icons.selected,title:"Site",eventID:0}),void 0!==newValue){for(var h=0;h<$scope.allSiteHWMs.length;h++){var eachHWM=$scope.allSiteHWMs[h];eachHWM.event_id==newValue&&$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachHWM.hwm_label+"</div>",lat:eachHWM.latitude_dd,lng:eachHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachHWM.event_id})}addSensors(newValue)}else{for(var noEventH=0;noEventH<$scope.allSiteHWMs.length;noEventH++){var eachnoEHWM=$scope.allSiteHWMs[noEventH];$scope.markers.push({layer:"stnSites",message:"<div><b>HWM:</b> "+eachnoEHWM.hwm_label+"</div>",lat:eachnoEHWM.latitude_dd,lng:eachnoEHWM.longitude_dd,icon:icons.hwmIcon,title:"HWM",eventID:eachnoEHWM.event_id})}addSensors(0)}});var addSensors=function(eventID){if(eventID>0){for(var bs=0;bs<$scope.allSiteBaroSensors.length;bs++){var bSensor=$scope.allSiteBaroSensors[bs];bSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+bSensor.status+"</div>",lat:bSensor.latitude_dd,lng:bSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:bSensor.event_id})}for(var ms=0;ms<$scope.allSiteMetSensors.length;ms++){var mSensor=$scope.allSiteMetSensors[ms];mSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==mSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+mSensor.status+"</div>",lat:mSensor.latitude_dd,lng:mSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:mSensor.event_id})}for(var rs=0;rs<$scope.allSiteRDGSensors.length;rs++){var rSensor=$scope.allSiteRDGSensors[rs];rSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+rSensor.status+"</div>",lat:rSensor.latitude_dd,lng:rSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:rSensor.event_id})}for(var ss=0;ss<$scope.allSiteStormSensors.length;ss++){var sSensor=$scope.allSiteStormSensors[ss];sSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==sSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+sSensor.status+"</div>",lat:sSensor.latitude_dd,lng:sSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:sSensor.event_id})}for(var ws=0;ws<$scope.allSiteWaveSensors.length;ws++){var wSensor=$scope.allSiteWaveSensors[ws];wSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+wSensor.status+"</div>",lat:wSensor.latitude_dd,lng:wSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:wSensor.event_id})}for(var ps=0;ps<$scope.allSitePresTempSensors.length;ps++){var pSensor=$scope.allSitePresTempSensors[ps];pSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==pSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+pSensor.status+"</div>",lat:pSensor.latitude_dd,lng:pSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:pSensor.event_id})}for(var ts=0;ts<$scope.allSiteThermSensors.length;ts++){var tSensor=$scope.allSiteThermSensors[ts];tSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+tSensor.status+"</div>",lat:tSensor.latitude_dd,lng:tSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:tSensor.event_id})}for(var webs=0;webs<$scope.allSiteWebSensors.length;webs++){var webSensor=$scope.allSiteWebSensors[webs];webSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+webSensor.status+"</div>",lat:webSensor.latitude_dd,lng:webSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:webSensor.event_id})}for(var rains=0;rains<$scope.allSiteRainSensors.length;rains++){var rainSensor=$scope.allSiteRainSensors[rains];rainSensor.event_id==eventID&&$scope.markers.push({layer:"stnSites",message:"<div><b>Rain gage Sensor Status:</b> "+rainSensor.status+"</div>",lat:rainSensor.latitude_dd,lng:rainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:rainSensor.event_id})}}else{for(var noEbs=0;noEbs<$scope.allSiteBaroSensors.length;noEbs++){var noEbSensor=$scope.allSiteBaroSensors[noEbs];$scope.markers.push({layer:"stnSites",message:"<div><b>Barometric Pressure Sensor Status:</b> "+noEbSensor.status+"</div>",lat:noEbSensor.latitude_dd,lng:noEbSensor.longitude_dd,icon:icons.baroIcon,title:"Baro Sensor",eventID:noEbSensor.event_id})}for(var noEms=0;noEms<$scope.allSiteMetSensors.length;noEms++){var noEmSensor=$scope.allSiteMetSensors[noEms];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEmSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEmSensor.status+"</div>",lat:noEmSensor.latitude_dd,lng:noEmSensor.longitude_dd,icon:icons.metIcon,title:"Met Sensor",eventID:noEmSensor.event_id})}for(var noErs=0;noErs<$scope.allSiteRDGSensors.length;noErs++){var noErSensor=$scope.allSiteRDGSensors[noErs];$scope.markers.push({layer:"stnSites",message:"<div><b>Rapid Deployment Sensor Status:</b> "+noErSensor.status+"</div>",lat:noErSensor.latitude_dd,lng:noErSensor.longitude_dd,icon:icons.rdgIcon,title:"RDG Sensor",eventID:noErSensor.event_id})}for(var noEss=0;noEss<$scope.allSiteStormSensors.length;noEss++){var noEsSensor=$scope.allSiteStormSensors[noEss];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEsSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEsSensor.status+"</div>",lat:noEsSensor.latitude_dd,lng:noEsSensor.longitude_dd,icon:icons.stormIcon,title:"Stormtide Sensor",eventID:noEsSensor.event_id})}for(var noEws=0;noEws<$scope.allSiteWaveSensors.length;noEws++){var noEwSensor=$scope.allSiteWaveSensors[noEws];$scope.markers.push({layer:"stnSites",message:"<div><b>Wave Height Sensor Status:</b> "+noEwSensor.status+"</div>",lat:noEwSensor.latitude_dd,lng:noEwSensor.longitude_dd,icon:icons.waveIcon,title:"Waveheight Sensor",eventID:noEwSensor.event_id})}for(var noEps=0;noEps<$scope.allSitePresTempSensors.length;noEps++){var noEpSensor=$scope.allSitePresTempSensors[noEps];$scope.markers.push({layer:"stnSites",message:"<div><b>"+$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==noEpSensor.deployment_type_id})[0].method+" Sensor Status:</b> "+noEpSensor.status+"</div>",lat:noEpSensor.latitude_dd,lng:noEpSensor.longitude_dd,icon:icons.pressureIcon,title:"PressureTemp Sensor",eventID:noEpSensor.event_id})}for(var noEts=0;noEts<$scope.allSiteThermSensors.length;noEts++){var noEtSensor=$scope.allSiteThermSensors[noEts];$scope.markers.push({layer:"stnSites",message:"<div><b>Temperature Sensor Status:</b> "+noEtSensor.status+"</div>",lat:noEtSensor.latitude_dd,lng:noEtSensor.longitude_dd,icon:icons.thermIcon,title:"Thermometer Sensor",eventID:noEtSensor.event_id})}for(var noEwebs=0;noEwebs<$scope.allSiteWebSensors.length;noEwebs++){var noEwebSensor=$scope.allSiteWebSensors[noEwebs];$scope.markers.push({layer:"stnSites",message:"<div><b>Webcam Sensor Status:</b> "+noEwebSensor.status+"</div>",lat:noEwebSensor.latitude_dd,lng:noEwebSensor.longitude_dd,icon:icons.webcamIcon,title:"Webcam Sensor",eventID:noEwebSensor.event_id})}for(var noErains=0;noErains<$scope.allSiteRainSensors.length;noErains++){var noErainSensor=$scope.allSiteRainSensors[noErains];$scope.markers.push({layer:"stnSites",message:"<div><b>>Webcam Sensor Status:</b> "+noErainSensor.status+"</div>",lat:noErainSensor.latitude_dd,lng:noErainSensor.longitude_dd,icon:icons.raingageIcon,title:"Raingage Sensor",eventID:noErainSensor.event_id})}}},icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"},baroIcon:{type:"div",iconSize:[16,20],className:"stnBaroSensorIcon"},metIcon:{type:"div",iconSize:[20,20],className:"stnMetSensorIcon"},rdgIcon:{type:"div",iconSize:[22,20],className:"stnRDGSensorIcon"},stormIcon:{type:"div",iconSize:[20,20],className:"stnStormSensorIcon"},waveIcon:{type:"div",iconSize:[20,20],className:"stnWaveSensorIcon"},pressureIcon:{type:"div",iconSize:[20,20],className:"stnPressureSensorIcon"},thermIcon:{type:"div",iconSize:[16,22],className:"stnThermSensorIcon"},webcamIcon:{type:"div",iconSize:[20,20],className:"stnWebcamSensorIcon"},raingageIcon:{type:"div",iconSize:[20,20],className:"stnRaingageSensorIcon"}};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}};var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape(),angular.extend($scope,{mapCenter:{lat:$scope.thisSite.latitude_dd,lng:$scope.thisSite.longitude_dd,zoom:16,minZoom:16},markers:$scope.markers,markersLatLngArray:[],layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"markercluster",name:"STN Sites",visible:!0}}}});var getProximitySites=function(){SITE.getProximitySites({Latitude:$scope.thisSite.latitude_dd,Longitude:$scope.thisSite.longitude_dd,Buffer:.05},function(response){if($scope.closeSites=response,$scope.closeSites.length>0)for(var i=0;i<$scope.closeSites.length;i++){var a=$scope.closeSites[i];a.site_id!==$scope.thisSite.site_id&&$scope.markers.push({layer:"stnSites",message:"<div><b>Nearby Site Name:</b> "+a.site_no+"</div>",lat:a.latitude_dd,lng:a.longitude_dd,icon:icons.stn})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting proximity sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting proximity sites: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("siteCtrl",["$scope","$state","$rootScope","$cookies","$location","$http","$uibModal","$filter","thisSite","latlong","thisSiteNetworkNames","thisSiteNetworkTypes","thisSiteHousings","SITE","MEMBER","FILE_TYPE","AGENCY","Site_Script","allHorDatums","allHorCollMethods","allStates","allCounties","allDeployPriorities","allHousingTypes","allNetworkNames","allNetworkTypes","allDeployTypes","allSensorTypes",function($scope,$state,$rootScope,$cookies,$location,$http,$uibModal,$filter,thisSite,latlong,thisSiteNetworkNames,thisSiteNetworkTypes,thisSiteHousings,SITE,MEMBER,FILE_TYPE,AGENCY,Site_Script,allHorDatums,allHorCollMethods,allStates,allCounties,allDeployPriorities,allHousingTypes,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Site Dashboard",$scope.aSite={};var showScriptToast=function(){toastr.warning("Data File Scripts are processing for this site and can take several minutes. Check back to the site dashboard later or refresh to see if script is complete and new files are ready. The output csv file contains success/error information.",null,{closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:0,extendedTimeOut:0})};if("true"==Site_Script.getIsScriptRunning()&&showScriptToast(),$scope.$on("siteDFScriptRunning",function(e,runningScript){"true"==runningScript?showScriptToast():toastr.clear();

}),$scope.status={mapOpen:!1,siteOpen:!0,opOpen:!1,sensorOpen:!1,hwmOpen:!1,filesOpen:!1,peakOpen:!1},$scope.thisSiteHouseTypeModel=[],$scope.openSiteCreate=function(){$rootScope.stateIsLoading.showLoading=!0;var dropdownParts=[allHorDatums,allHorCollMethods,allStates,allCounties,allHousingTypes,allDeployPriorities,allNetworkNames,allNetworkTypes,allDeployTypes,allSensorTypes],siteNNamesToPass=[];if(void 0!==$scope.siteNetworkNames)for(var aNN=0;aNN<allNetworkNames.length;aNN++){var i=$scope.siteNetworkNames.map(function(e){return e}).indexOf(allNetworkNames[aNN].name);i>-1&&siteNNamesToPass.push(allNetworkNames[aNN])}var siteNTypesToPass=[];if(void 0!==$scope.siteNetworkTypes)for(var aNT=0;aNT<allNetworkTypes.length;aNT++){var a=$scope.siteNetworkTypes.map(function(e){return e}).indexOf(allNetworkTypes[aNT].network_type_name);a>-1&&siteNTypesToPass.push(allNetworkTypes[aNT])}var modalInstance=$uibModal.open({templateUrl:"SITEmodal.html",controller:"siteModalCtrl",size:"lg",keyboard:!1,backdrop:"static",windowClass:"rep-dialog",resolve:{allDropDownParts:function(){return dropdownParts},thisSiteStuff:function(){if(void 0!==$scope.aSite.site_id){var origSiteHouses=void 0!==$scope.originalSiteHousings?$scope.originalSiteHousings:[],sHouseTypeModel=$scope.thisSiteHouseTypeModel.length>0?$scope.thisSiteHouseTypeModel:[],sNetNames=siteNNamesToPass.length>0?siteNNamesToPass:[],sNetTypes=siteNTypesToPass.length>0?siteNTypesToPass:[],lo=void 0!==$scope.landowner?$scope.landowner:{},siteRelatedStuff=[$scope.aSite,origSiteHouses,sHouseTypeModel,sNetNames,sNetTypes,lo];return siteRelatedStuff}},fileTypes:function(){return FILE_TYPE.getAll().$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},agencyList:function(){return AGENCY.getAll().$promise},latlong:function(){return void 0!==latlong?latlong:void 0}}});modalInstance.result.then(function(r){"Deleted"!==r?($scope.aSite=r[0],getLandOwnerContact(),$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",$scope.siteNetworkNames=r[1],$scope.siteNetworkTypes=r[2]):($scope.aSite={},$state.go("map")),$rootScope.stateIsLoading.showLoading=!1})},void 0!==thisSite)if(void 0!==thisSite.site_id){if($scope.aSite=thisSite,$scope.aSite.decDegORdms="dd",$scope.aSite.HorizontalDatum=$scope.aSite.hdatum_id>0?allHorDatums.filter(function(hd){return hd.datum_id==$scope.aSite.hdatum_id})[0].datum_name:"---",$scope.aSite.HorizontalCollectMethod=void 0!==$scope.aSite.hcollect_method_id&&$scope.aSite.hcollect_method_id>0?allHorCollMethods.filter(function(hc){return hc.hcollect_method_id==$scope.aSite.hcollect_method_id})[0].hcollect_method:"---",$scope.aSite.PriorityName=void 0!==$scope.aSite.priority_id&&$scope.aSite.priority_id>0?allDeployPriorities.filter(function(dp){return dp.priority_id==$scope.aSite.priority_id})[0].priority_name:"---",thisSiteHousings.length>0){$scope.originalSiteHousings=angular.copy(thisSiteHousings),$scope.showSiteHouseTable=!0;for(var z=0;z<$scope.originalSiteHousings.length;z++){var houseTypeName=allHousingTypes.filter(function(h){return h.housing_type_id==$scope.originalSiteHousings[z].housing_type_id})[0].type_name,houseT={type_name:houseTypeName,housing_type_id:$scope.originalSiteHousings[z].housing_type_id,site_housing_id:$scope.originalSiteHousings[z].site_housing_id,length:$scope.originalSiteHousings[z].length,material:$scope.originalSiteHousings[z].material,notes:$scope.originalSiteHousings[z].notes,amount:$scope.originalSiteHousings[z].amount};$scope.thisSiteHouseTypeModel.push(houseT)}}if($scope.siteNetworkNames=[],thisSiteNetworkNames.length>0)for(var a=0;a<thisSiteNetworkNames.length;a++){var nn=allNetworkNames.filter(function(n){return n.network_name_id==thisSiteNetworkNames[a].network_name_id})[0];$scope.siteNetworkNames.push(nn.name)}if($scope.siteNetworkTypes=[],thisSiteNetworkTypes.length>0)for(var b=0;b<thisSiteNetworkTypes.length;b++){var nt=allNetworkTypes.filter(function(nt){return nt.network_type_id==thisSiteNetworkTypes[b].network_type_id})[0];$scope.siteNetworkTypes.push(nt.network_type_name)}$scope.sensorNotAppr=void 0!==$scope.aSite.sensor_not_appropriate||$scope.aSite.sensor_not_appropriate>0?"Yes":"No",void 0!==$scope.aSite.member_id&&$scope.aSite.member_id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$scope.aSite.member_id}).$promise.then(function(response){$scope.aSite.Creator=response.fname+" "+response.lname},function(error){$scope.aSite.Creator="Not recorded"}).$promise):$scope.aSite.Creator="Not recorded";var getLandOwnerContact=function(){null!==$scope.aSite.landownercontact_id&&void 0!==$scope.aSite.landownercontact_id&&$scope.aSite.landownercontact_id>0&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SITE.getSiteLandOwner({id:$scope.aSite.site_id},function(response){$scope.landowner=response,$scope.addLandowner=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting landowner: "+errorResponse.headers(["usgswim-messages"]):"Error getting landowner: "+errorResponse.statusText)}).$promise)};getLandOwnerContact()}else toastr.error("This site does not exist"),$location.path("/Home").replace(),$scope.apply;else $scope.openSiteCreate()}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickCreateCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$sce","whichQuick","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","allEvents","allSensorTypes","allSensorBrands","allDeployTypes","allHousingTypes","SITE","OBJECTIVE_POINT","HWM","MEMBER","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE","OP_CONTROL_IDENTIFIER","GEOCODE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$sce,whichQuick,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,allEvents,allSensorTypes,allSensorBrands,allDeployTypes,allHousingTypes,SITE,OBJECTIVE_POINT,HWM,MEMBER,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE,OP_CONTROL_IDENTIFIER,GEOCODE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.CreateWhat=whichQuick,$scope.htmlDescriptionTip=$sce.trustAsHtml("Required by NWIS. Can be listed as <em>'unknown'</em> or <em>'Atlantic Ocean'</em>"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")}).$promise.then(function(response){$scope.loggedInMember=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting logged in member: "+errorResponse.headers(["usgswim-messages"]):"Error getting logged in member: "+errorResponse.statusText)}),$rootScope.thisPage="Quick"+whichQuick,$scope.quickForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.decDegORdms={},$scope.EventName=$cookies.get("SessionEventName"),$scope.aSite={member_id:$cookies.get("mID")},$scope.aOP={date_established:makeAdate("")},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,"HWM"==whichQuick&&($scope.aHWM={hwm_label:"hwm-1",hwm_environment:"Riverine",event_id:$cookies.get("SessionEventID"),bank:"N/A",flag_date:makeAdate(""),stillwater:0,flag_member_id:$cookies.get("mID")},$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers),"Sensor"==whichQuick){var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.depTypeList=allDeployTypes,$scope.houseTypeList=allHousingTypes,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.aSensor={event_id:$cookies.get("SessionEventID")},$scope.aSensStatus={status_type_id:1,member_id:$cookies.get("mID")},$scope.eventList=allEvents,$scope.sensorTypeList=allSensorTypes,$scope.sensorBrandList=allSensorBrands,$scope.IntervalType={type:"Seconds"};var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone=DeptimeParts[1],$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=allSensorTypes.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)}}$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTime=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTime,$scope.aSensStatus.time_zone="UTC"}else{var i=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,i)}};$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec);else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.decDegORdms.val="dms"})}else if(void 0!==$scope.aSite.latitude_dd){var latDMS=deg_to_dms($scope.aSite.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d,direction){"dms"==d?("lat"==direction&&($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),"long"==direction&&($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0))):("lat"==direction&&($scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0)),"long"==direction&&($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0)))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){if(delete $scope.aSite.address,delete $scope.aSite.city,delete $scope.aSite.state,$scope.stateCountyList=[],delete $scope.aSite.zip,void 0!==$scope.DMS.LADeg&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),void 0===$scope.aSite.latitude_dd||void 0===$scope.aSite.longitude_dd||isNaN($scope.aSite.latitude_dd)||isNaN($scope.aSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.aSite.longitude_dd,Latitude:$scope.aSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=void 0!==stateFIPS?$scope.allCountyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id:0,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.aSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id}),$scope.aSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address: "+errorResponse.statusText)})},$scope.chooseQuality=function(){if(""!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty);$scope.aHWM.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){if(""!==$scope.aHWM.hwm_uncertainty&&void 0!==$scope.aHWM.hwm_uncertainty){var x=Number($scope.aHWM.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if($scope.aHWM.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.state_id==thisState.state_id})},$scope.UnquantChecked=function(){1==$scope.aOP.unquantified&&($scope.aOP.uncertainty=null)};var trimOP=function(op){var OBJ_PT={objective_point_id:void 0!==op.objective_point_id?op.objective_point_id:0,name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:op.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.RemoveID=function(opControl){var i=$scope.addedIdentifiers.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiers.splice(i,1)):$scope.addedIdentifiers.splice(i,1)};var formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.elev_ft=3.2808*$scope.aOP.elev_ft),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.uncertainty=$scope.aOP.uncertainty/30.48)};$scope.tapedown={Open:!1};var showNeedOPfirstModal=function(){var needOPModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Datum Location</h3></div><div class="modal-body"><p>In order to add tape down information, please populate the Datum Location section above first.</p><p>The following fields are required for the tape down section: <b>Name</b>, <b>Elevation</b> and <b>Vertical Datum</b>.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});needOPModal.result.then(function(){$scope.tapedown.Open=!1})};$scope.tapeDownTable=[],$scope.removeOP=function(){var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you don\'t want to add this OP Measurement to this quick sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){"remove"==yesOrNo&&($scope.tapedown.Open=!1,$scope.tapeDownTable.splice(0,1),$scope.OPsForTapeDown=[],$scope.OPMeasure={},$scope.addTapedown=!1,$scope.aSensStatus.sensor_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.vdatum_id="")})},$scope.addTapedown=!1,$scope.OPsForTapeDown=[],$scope.showTapedownPart=function(){$scope.tapeDownTable.length<1?void 0!==$scope.aOP.name&&void 0!==$scope.aOP.elev_ft&&void 0!==$scope.aOP.vdatum_id?($scope.OPMeasure={},$scope.OPMeasure.op_name=$scope.aOP.name,$scope.OPMeasure.elevation=$scope.aOP.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.aOP.vdatum_id})[0].datum_abbreviation,$scope.tapeDownTable.push($scope.OPMeasure),$scope.OPsForTapeDown.push($scope.aOP),$scope.addTapedown=!0,$scope.tapedown.Open=!0,$scope.aSensStatus.vdatum_id=$scope.aOP.vdatum_id):showNeedOPfirstModal():($scope.addTapedown=!0,$scope.tapedown.Open=!0)},$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.quickForm.quick;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0===$scope.aSite.latitude_dd&&($scope.aSite.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0===$scope.aSite.longitude_dd&&($scope.aSite.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aSite.latitude_dd<0||$scope.aSite.latitude_dd>73||isNaN($scope.aSite.latitude_dd))openLatModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.latitude_dd)&&($scope.aSite.latitude_dd=void 0);else if($scope.aSite.longitude_dd<-175||$scope.aSite.longitude_dd>-60||isNaN($scope.aSite.longitude_dd))openLongModal("latlong"),$rootScope.stateIsLoading.showLoading=!1,isNaN($scope.aSite.longitude_dd)&&($scope.aSite.longitude_dd=void 0);else{var createdSiteID=0;SITE.save($scope.aSite,function(response){createdSiteID=response.site_id,$scope.aOP.site_id=createdSiteID,$scope.aOP.latitude_dd=response.latitude_dd,$scope.aOP.longitude_dd=response.longitude_dd,$scope.aOP.hdatum_id=response.hdatum_id,$scope.aOP.hcollect_method_id=response.hcollect_method_id,"HWM"==$scope.CreateWhat&&($scope.aHWM.site_id=createdSiteID,$scope.aHWM.waterbody=response.waterbody,$scope.aHWM.latitude_dd=response.latitude_dd,$scope.aHWM.longitude_dd=response.longitude_dd,$scope.aHWM.hcollect_method_id=response.hcollect_method_id,$scope.aHWM.hdatum_id=response.hdatum_id,$scope.aHWM.flag_member_id=response.member_id,$scope.aHWM.event_id=$cookies.get("SessionEventID"));var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOPControlID=$scope.addedIdentifiers[opc];thisOPControlID.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise}if("HWM"==$scope.CreateWhat){void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),void 0!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}if("Sensor"==$scope.CreateWhat){var createdSensor={};"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.site_id=createdSiteID,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save($scope.aSensor).$promise.then(function(response){instrumentID=response.instrument_id,createdSensor=response,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0){var thisTape=$scope.tapeDownTable[0];thisTape.instrument_status_id=statResponse.instrument_status_id,thisTape.objective_point_id=createdOP.objective_point_id,OP_MEASURE.save(thisTape).$promise}toastr.success("Quick Sensor created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.site_description.$invalid||theForm.latitude_dd.$invalid||theForm.longitude_dd.$invalid||theForm.hdatum_id.$invalid||theForm.hcollect_method_id.$invalid||theForm.waterbody.$invalid||theForm.state.$invalidv||theForm.county.$invalid)&&($scope.siteErrors=!0),(theForm.op_type_id.$invalid||theForm.name.$invalid||theForm.description.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.hwm_type_id.$invalid||theForm.hwm_environment.$invalid||theForm.hwm_quality_id.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("settingsCtrl",["$scope","$rootScope","$cookies","$location","$state",function($scope,$rootScope,$cookies,$location,$state){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings",$rootScope.activeMenu="settings",$scope.settings="Welcome to the new STN Settings Page!!",$scope.changeView=function(view){$state.go(view)})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("resourcesCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$filter","$uibModal","AGENCY","CONTACT_TYPE","DEPLOYMENT_PRIORITY","EVENT_STATUS","EVENT_TYPE","FILE_TYPE","HORIZONTAL_COLL_METHODS","HORIZONTAL_DATUM","HOUSING_TYPE","HWM_QUALITY","HWM_TYPE","INST_COLL_CONDITION","MARKER","NETWORK_NAME","OP_QUALITY","OP_TYPE","SENSOR_BRAND","DEPLOYMENT_TYPE","SENSOR_TYPE","NETWORK_TYPE","STATUS_TYPE","VERTICAL_COLL_METHOD","VERTICAL_DATUM","allStates","allAgencies","allContactTypes","allDeployPriorities","allEventStats","allEventTypes","allFileTypes","allHorCollMethods","allHorDatums","allHouseTypes","allHWMqualities","allHWMtypes","allInstCollectConditions","allMarkers","allNetworkNames","allObjPtQualities","allObjPtTypes","allSensorBrands","allDeploymentTypes","allStatusTypes","allSensorTypes","allNetworkTypes","allVerticalCollMethods","allVerticalDatums",function($scope,$rootScope,$cookies,$location,$state,$http,$filter,$uibModal,AGENCY,CONTACT_TYPE,DEPLOYMENT_PRIORITY,EVENT_STATUS,EVENT_TYPE,FILE_TYPE,HORIZONTAL_COLL_METHODS,HORIZONTAL_DATUM,HOUSING_TYPE,HWM_QUALITY,HWM_TYPE,INST_COLL_CONDITION,MARKER,NETWORK_NAME,OP_QUALITY,OP_TYPE,SENSOR_BRAND,DEPLOYMENT_TYPE,SENSOR_TYPE,NETWORK_TYPE,STATUS_TYPE,VERTICAL_COLL_METHOD,VERTICAL_DATUM,allStates,allAgencies,allContactTypes,allDeployPriorities,allEventStats,allEventTypes,allFileTypes,allHorCollMethods,allHorDatums,allHouseTypes,allHWMqualities,allHWMtypes,allInstCollectConditions,allMarkers,allNetworkNames,allObjPtQualities,allObjPtTypes,allSensorBrands,allDeploymentTypes,allStatusTypes,allSensorTypes,allNetworkTypes,allVerticalCollMethods,allVerticalDatums){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Resources",$scope.accountRole=$cookies.get("usersRole"),$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down");

},$scope.lookupForm={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.activeMenu="",$scope.stateList=allStates,$scope.agencyList=allAgencies,$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,$scope.newAg={},$scope.showAddAgClicked=function(){$scope.showAddAgForm=!0,$scope.addAgButtonShowing=!1},$scope.NeverMindAg=function(){$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0},$scope.AddAgency=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.save($scope.newAg,function(response){$scope.agencyList.push(response),$scope.newAg={},$scope.showAddAgForm=!1,$scope.addAgButtonShowing=!0,toastr.success("Agency Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating agency: "+errorResponse.headers(["usgswim-messages"]):"Error creating agency: "+errorResponse.statusText)}))},$scope.saveAgency=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",AGENCY.update({id:id},data,function(response){retur=response,toastr.success("Agency Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving agency: "+errorResponse.headers(["usgswim-messages"]):"Error saving agency: "+errorResponse.statusText)}),retur},$scope.deleteAgency=function(ag){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ag},what:function(){return"Agency"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.agencyList.indexOf(ag);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),AGENCY["delete"]({id:ag.agency_id},ag,function(response){$scope.agencyList.splice(index,1),toastr.success("Agency Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting agency: "+errorResponse.headers(["usgswim-messages"]):"Error deleting agency: "+errorResponse.statusText)})},function(){})},$scope.showStateAbbrev=function(a){var selected=[];return a.state&&(selected=$filter("filter")($scope.stateList,{state_abbrev:a.state})),selected.length?selected[0].state_abbrev:""},$scope.contactTypeList=allContactTypes,$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,$scope.newCT={},$scope.showAddCTClicked=function(){$scope.showAddCTForm=!0,$scope.addCTButtonShowing=!1},$scope.NeverMindCT=function(){$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0},$scope.AddContactType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.save($scope.newCT,function(response){$scope.contactTypeList.push(response),$scope.newCT={},$scope.showAddCTForm=!1,$scope.addCTButtonShowing=!0,toastr.success("Contact Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error creating contact type: "+errorResponse.statusText)}))},$scope.saveContactType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Contact Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating contact type: "+errorResponse.headers(["usgswim-messages"]):"Error updating contact type: "+errorResponse.statusText)}),retur},$scope.deleteContactType=function(ct){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ct},what:function(){return"Contact Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.contactTypeList.indexOf(ct);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),CONTACT_TYPE["delete"]({id:ct.contact_type_id},ct,function(response){$scope.contactTypeList.splice(index,1),toastr.success("Contact Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting contact type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting contact type: "+errorResponse.statusText)})})},$scope.deployPriorityList=allDeployPriorities,$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,$scope.newDP={},$scope.showAddDPClicked=function(){$scope.showAddDPForm=!0,$scope.addDPButtonShowing=!1},$scope.NeverMindDP=function(){$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0},$scope.AddDepPriority=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.save($scope.newDP,function(response){$scope.deployPriorityList.push(response),$scope.newDP={},$scope.showAddDPForm=!1,$scope.addDPButtonShowing=!0,toastr.success("Deployment Priority Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment priority: "+errorResponse.statusText)}))},$scope.saveDepPriority=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_PRIORITY.update({id:id},data,function(response){retur=response,toastr.success("Deployment Priority Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment priority: "+errorResponse.statusText)}),retur},$scope.deleteDepPriority=function(dp){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dp},what:function(){return"Deployment Priority"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.deployPriorityList.indexOf(dp);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_PRIORITY["delete"]({id:dp.priority_id},dp,function(response){$scope.deployPriorityList.splice(index,1),toastr.success("Deployment Priority Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment priority: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment priority: "+errorResponse.statusText)})})},$scope.eventStatList=allEventStats,$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,$scope.newES={},$scope.showAddESClicked=function(){$scope.showAddESForm=!0,$scope.addESButtonShowing=!1},$scope.NeverMindES=function(){$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0},$scope.AddEventStat=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.save($scope.newES,function(response){$scope.eventStatList.push(response),$scope.newES={},$scope.showAddESForm=!1,$scope.addESButtonShowing=!0,toastr.success("Event Status Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event status: "+errorResponse.headers(["usgswim-messages"]):"Error creating event status: "+errorResponse.statusText)}))},$scope.saveEventStat=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_STATUS.update({id:id},data,function(response){retur=response,toastr.success("Event Status Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event status: "+errorResponse.headers(["usgswim-messages"]):"Error saving event status: "+errorResponse.statusText)}),retur},$scope.deleteEventStat=function(es){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return es},what:function(){return"Event Status"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventStatList.indexOf(es);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_STATUS["delete"]({id:es.event_status_id},es,function(response){$scope.eventStatList.splice(index,1),toastr.success("Event Status Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event status: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event status: "+errorResponse.statusText)})})},$scope.eventTypeList=allEventTypes,$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,$scope.newET={},$scope.showAddETClicked=function(){$scope.showAddETForm=!0,$scope.addETButtonShowing=!1},$scope.NeverMindET=function(){$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0},$scope.AddEventType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.save($scope.newET,function(response){$scope.eventTypeList.push(response),$scope.newET={},$scope.showAddETForm=!1,$scope.addETButtonShowing=!0,toastr.success("Event Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating event type: "+errorResponse.headers(["usgswim-messages"]):"Error creating event type: "+errorResponse.statusText)}))},$scope.saveEventType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Event Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving event type: "+errorResponse.headers(["usgswim-messages"]):"Error saving event type: "+errorResponse.statusText)}),retur},$scope.deleteEventType=function(et){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return et},what:function(){return"Event Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.eventTypeList.indexOf(et);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT_TYPE["delete"]({id:et.event_type_id},et,function(response){$scope.eventTypeList.splice(index,1),toastr.success("Event Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting event type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event type: "+errorResponse.statusText)})})},$scope.fileTypeList=allFileTypes,$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,$scope.newFT={},$scope.showAddFTClicked=function(){$scope.showAddFTForm=!0,$scope.addFTButtonShowing=!1},$scope.NeverMindFT=function(){$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0},$scope.AddFileType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.save($scope.newFT,function(response){$scope.fileTypeList.push(response),$scope.newFT={},$scope.showAddFTForm=!1,$scope.addFTButtonShowing=!0,toastr.success("File Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file type: "+errorResponse.headers(["usgswim-messages"]):"Error creating file type: "+errorResponse.statusText)}))},$scope.saveFileType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",FILE_TYPE.update({id:id},data,function(response){retur=response,toastr.success("File Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file type: "+errorResponse.headers(["usgswim-messages"]):"Error saving file type: "+errorResponse.statusText)}),retur},$scope.deleteFileType=function(ft){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ft},what:function(){return"File Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.fileTypeList.indexOf(ft);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE_TYPE["delete"]({id:ft.filetype_id},ft,function(response){$scope.fileTypeList.splice(index,1),toastr.success("File Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file type: "+errorResponse.statusText)})})},$scope.horColMethList=allHorCollMethods,$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,$scope.newHCM={},$scope.showAddHCMClicked=function(){$scope.showAddHCMForm=!0,$scope.addHCMButtonShowing=!1},$scope.NeverMindHCM=function(){$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0},$scope.AddHorCollMethod=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.save($scope.newHCM,function(response){$scope.horColMethList.push(response),$scope.newHCM={},$scope.showAddHCMForm=!1,$scope.addHCMButtonShowing=!0,toastr.success("Horizontal Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal collection method: "+errorResponse.statusText)}))},$scope.saveHorCollMethod=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_COLL_METHODS.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal collection method: "+errorResponse.statusText)}),retur},$scope.deleteHorCollMethod=function(hcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hcm},what:function(){return"Horizontal Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horColMethList.indexOf(hcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_COLL_METHODS["delete"]({id:hcm.hcollect_method_id},hcm,function(response){$scope.horColMethList.splice(index,1),toastr.success("Horizontal Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal collection method: "+errorResponse.statusText)})})},$scope.horDatList=allHorDatums,$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,$scope.newHD={},$scope.showAddHDClicked=function(){$scope.showAddHDForm=!0,$scope.addHDButtonShowing=!1},$scope.NeverMindHD=function(){$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0},$scope.AddHorDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.save($scope.newHD,function(response){$scope.horDatList.push(response),$scope.newHD={},$scope.showAddHDForm=!1,$scope.addHDButtonShowing=!0,toastr.success("Horizontal Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating horizontal datum: "+errorResponse.statusText)}))},$scope.saveHorDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HORIZONTAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Horizontal Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving horizontal datum: "+errorResponse.statusText)}),retur},$scope.deleteHorDatum=function(hd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hd},what:function(){return"Horizontal Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.horDatList.indexOf(hd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HORIZONTAL_DATUM["delete"]({id:hd.datum_id},hd,function(response){$scope.horDatList.splice(index,1),toastr.success("Horizontal Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting horizontal datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting horizontal datum: "+errorResponse.statusText)})})},$scope.houseTypeList=allHouseTypes,$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,$scope.newHT={},$scope.showAddHTClicked=function(){$scope.showAddHTForm=!0,$scope.addHTButtonShowing=!1},$scope.NeverMindHT=function(){$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0},$scope.AddHouseType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.save($scope.newHT,function(response){$scope.houseTypeList.push(response),$scope.newHT={},$scope.showAddHTForm=!1,$scope.addHTButtonShowing=!0,toastr.success("Housing Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating housing type: "+errorResponse.headers(["usgswim-messages"]):"Error creating housing type: "+errorResponse.statusText)}))},$scope.saveHouseType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HOUSING_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Housing Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving housing type: "+errorResponse.headers(["usgswim-messages"]):"Error saving housing type: "+errorResponse.statusText)}),retur},$scope.deleteHouseType=function(ht){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ht},what:function(){return"Housing Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.houseTypeList.indexOf(ht);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HOUSING_TYPE["delete"]({id:ht.housing_type_id},ht,function(response){$scope.houseTypeList.splice(index,1),toastr.success("Housing Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting housing type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting housing type: "+errorResponse.statusText)})})},$scope.hwmQualList=allHWMqualities,$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,$scope.newHWMQ={},$scope.showAddHWMQClicked=function(){$scope.showAddHWMQForm=!0,$scope.addHWMQButtonShowing=!1},$scope.NeverMindHWMQ=function(){$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0},$scope.AddHwmQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.save($scope.newHWMQ,function(response){$scope.hwmQualList.push(response),$scope.newHWMQ={},$scope.showAddHWMQForm=!1,$scope.addHWMQButtonShowing=!0,toastr.success("HWM Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm quality: "+errorResponse.statusText)}))},$scope.saveHwmQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("HWM Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm quality: "+errorResponse.statusText)}),retur},$scope.deleteHwmQuality=function(hwmq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmq},what:function(){return"HWM Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmQualList.indexOf(hwmq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_QUALITY["delete"]({id:hwmq.hwm_quality_id},hwmq,function(response){$scope.hwmQualList.splice(index,1),toastr.success("HWM Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm quality: "+errorResponse.statusText)})})},$scope.hwmTypeList=allHWMtypes,$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,$scope.newHWMT={},$scope.showAddHWMTClicked=function(){$scope.showAddHWMTForm=!0,$scope.addHWMTButtonShowing=!1},$scope.NeverMindHWMT=function(){$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0},$scope.AddHwmType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.save($scope.newHWMT,function(response){$scope.hwmTypeList.push(response),$scope.newHWMT={},$scope.showAddHWMTForm=!1,$scope.addHWMTButtonShowing=!0,toastr.success("HWM Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm type: "+errorResponse.statusText)}))},$scope.saveHwmType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM_TYPE.update({id:id},data,function(response){retur=response,toastr.success("HWM Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm type: "+errorResponse.statusText)}),retur},$scope.deleteHwmType=function(hwmt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwmt},what:function(){return"HWM Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.hwmTypeList.indexOf(hwmt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM_TYPE["delete"]({id:hwmt.hwm_type_id},hwmt,function(response){$scope.hwmTypeList.splice(index,1),toastr.success("HWM Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm type: "+errorResponse.statusText)})})},$scope.instColCondList=allInstCollectConditions,$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,$scope.newICC={},$scope.showAddICCClicked=function(){$scope.showAddICCForm=!0,$scope.addICCButtonShowing=!1},$scope.NeverMindICC=function(){$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0},$scope.AddInstColCond=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.save($scope.newICC,function(response){$scope.instColCondList.push(response),$scope.newICC={},$scope.showAddICCForm=!1,$scope.addICCButtonShowing=!0,toastr.success("Instrument Collection Condition Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error creating instrument collection condition: "+errorResponse.statusText)}))},$scope.saveInstColCond=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INST_COLL_CONDITION.update({id:id},data,function(response){retur=response,toastr.success("Instrument Collection Condition Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error saving instrument collection condition: "+errorResponse.statusText)}),retur},$scope.deleteInstColCond=function(icc){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return icc},what:function(){return"Instrument Collection Condition"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.instColCondList.indexOf(icc);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INST_COLL_CONDITION["delete"]({id:icc.id},icc,function(response){$scope.instColCondList.splice(index,1),toastr.success("Instrument Collection Condition Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting instrument collection condition: "+errorResponse.headers(["usgswim-messages"]):"Error deleting instrument collection condition: "+errorResponse.statusText)})})},$scope.markList=allMarkers,$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,$scope.newM={},$scope.showAddMClicked=function(){$scope.showAddMForm=!0,$scope.addMButtonShowing=!1},$scope.NeverMindM=function(){$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0},$scope.AddMarker=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.save($scope.newM,function(response){$scope.markList.push(response),$scope.newM={},$scope.showAddMForm=!1,$scope.addMButtonShowing=!0,toastr.success("Marker Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating marker: "+errorResponse.headers(["usgswim-messages"]):"Error creating marker: "+errorResponse.statusText)}))},$scope.saveMarker=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MARKER.update({id:id},data,function(response){retur=response,toastr.success("Marker Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving marker: "+errorResponse.headers(["usgswim-messages"]):"Error saving marker: "+errorResponse.statusText)}),retur},$scope.deleteMarker=function(m){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return m},what:function(){return"Marker"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.markList.indexOf(m);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MARKER["delete"]({id:m.marker_id},m,function(response){$scope.markList.splice(index,1),toastr.success("Marker Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting marker: "+errorResponse.headers(["usgswim-messages"]):"Error deleting marker: "+errorResponse.statusText)})})},$scope.netNameList=allNetworkNames,$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,$scope.newNN={},$scope.showAddNNClicked=function(){$scope.showAddNNForm=!0,$scope.addNNButtonShowing=!1},$scope.NeverMindNN=function(){$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0},$scope.AddNetworkName=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.save($scope.newNN,function(response){$scope.netNameList.push(response),$scope.newNN={},$scope.showAddNNForm=!1,$scope.addNNButtonShowing=!0,toastr.success("Network Name Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network name: "+errorResponse.headers(["usgswim-messages"]):"Error creating network name: "+errorResponse.statusText)}))},$scope.saveNetworkName=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_NAME.update({id:id},data,function(response){retur=response,toastr.success("Network Name Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network name: "+errorResponse.headers(["usgswim-messages"]):"Error saving network name: "+errorResponse.statusText)}),retur},$scope.deleteNetworkName=function(nn){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nn},what:function(){return"Network Name"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netNameList.indexOf(nn);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_NAME["delete"]({id:nn.network_name_id},nn,function(response){$scope.netNameList.splice(index,1),toastr.success("Network Name Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network name: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network name: "+errorResponse.statusText)})})},$scope.opQualList=allObjPtQualities,$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,$scope.newOPQ={},$scope.showAddOPQClicked=function(){$scope.showAddOPQForm=!0,$scope.addOPQButtonShowing=!1},$scope.NeverMindOPQ=function(){$scope.newOPQ={},$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0},$scope.AddOPQuality=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.save($scope.newOPQ,function(response){$scope.opQualList.push(response),$scope.newOPQ={},
$scope.showAddOPQForm=!1,$scope.addOPQButtonShowing=!0,toastr.success("Datum Location Quality Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location quality: "+errorResponse.statusText)}))},$scope.saveOPQuality=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_QUALITY.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Quality Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location quality: "+errorResponse.statusText)}),retur},$scope.deleteOPQuality=function(opq){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opq},what:function(){return"Objective Point Quality"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opQualList.indexOf(opq);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_QUALITY["delete"]({id:opq.op_quality_id},opq,function(response){$scope.opQualList.splice(index,1),toastr.success("Datum Location Quality Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location quality: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location quality: "+errorResponse.statusText)})})},$scope.opTypeList=allObjPtTypes,$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,$scope.newOPT={},$scope.showAddOPTClicked=function(){$scope.showAddOPTForm=!0,$scope.addOPTButtonShowing=!1},$scope.NeverMindOPT=function(){$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0},$scope.AddOPType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.save($scope.newOPT,function(response){$scope.opTypeList.push(response),$scope.newOPT={},$scope.showAddOPTForm=!1,$scope.addOPTButtonShowing=!0,toastr.success("Datum Location Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location type: "+errorResponse.statusText)}))},$scope.saveOPType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",OP_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Datum Location Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location type: "+errorResponse.statusText)}),retur},$scope.deleteOPType=function(opt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return opt},what:function(){return"Objective Point Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.opTypeList.indexOf(opt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OP_TYPE["delete"]({id:opt.objective_point_type_id},opt,function(response){$scope.opTypeList.splice(index,1),toastr.success("Datum Location Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location type: "+errorResponse.statusText)})})},$scope.sensBrandList=allSensorBrands,$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,$scope.newSB={},$scope.showAddSBClicked=function(){$scope.showAddSBForm=!0,$scope.addSBButtonShowing=!1},$scope.NeverMindSB=function(){$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0},$scope.AddSensorBrand=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.save($scope.newSB,function(response){$scope.sensBrandList.push(response),$scope.newSB={},$scope.showAddSBForm=!1,$scope.addSBButtonShowing=!0,toastr.success("Sensor Brand Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor brand: "+errorResponse.statusText)}))},$scope.saveSensorBrand=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_BRAND.update({id:id},data,function(response){retur=response,toastr.success("Sensor Brand Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor brand: "+errorResponse.statusText)}),retur},$scope.deleteSensorBrand=function(sb){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return sb},what:function(){return"Sensor Brand"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.sensBrandList.indexOf(sb);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),SENSOR_BRAND["delete"]({id:sb.sensor_brand_id},sb,function(response){$scope.sensBrandList.splice(index,1),toastr.success("Sensor Brand Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor brand: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor brand: "+errorResponse.statusText)})})},$scope.depTypeList=allDeploymentTypes,$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,$scope.newDT={},$scope.showAddDTClicked=function(){$scope.showAddDTForm=!0,$scope.addDTButtonShowing=!1},$scope.NeverMindDT=function(){$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0},$scope.AddDepType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.save($scope.newDT,function(response){$scope.depTypeList.push(response),$scope.newDT={},$scope.showAddDTForm=!1,$scope.addDTButtonShowing=!0,toastr.success("Deployment Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error creating deployment type: "+errorResponse.statusText)}))},$scope.saveDepType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",DEPLOYMENT_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Deployment Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error saving deployment type: "+errorResponse.statusText)}),retur},$scope.deleteDepType=function(dt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return dt},what:function(){return"Deployment Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.depTypeList.indexOf(dt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DEPLOYMENT_TYPE["delete"]({id:dt.deployment_type_id},dt,function(response){$scope.depTypeList.splice(index,1),toastr.success("Deployment Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting deployment type: "+errorResponse.statusText)})})},$scope.statTypeList=allStatusTypes,$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,$scope.newStatT={},$scope.showAddStatTClicked=function(){$scope.showAddStatTForm=!0,$scope.addStatTButtonShowing=!1},$scope.NeverMindStatT=function(){$scope.newStatT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0},$scope.AddStatusType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.save($scope.newStatT,function(response){$scope.statTypeList.push(response),$scope.newStatTT={},$scope.showAddStatTForm=!1,$scope.addStatTButtonShowing=!0,toastr.success("Status Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating status type: "+errorResponse.headers(["usgswim-messages"]):"Error creating status type: "+errorResponse.statusText)}))},$scope.saveStatusType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",STATUS_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Status Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving status type: "+errorResponse.headers(["usgswim-messages"]):"Error saving status type: "+errorResponse.statusText)}),retur},$scope.deleteStatusType=function(statT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return statT},what:function(){return"Status Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.statTypeList.indexOf(statT);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),STATUS_TYPE["delete"]({id:statT.status_type_id},statT,function(response){$scope.statTypeList.splice(index,1),toastr.success("Status Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting status type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting status type: "+errorResponse.statusText)})})},$scope.sensTypeList=allSensorTypes,$scope.newDepTypeRelating=[],$scope.commaSepDepMETHODS=[],$scope.formattedSensTypeList=[],$scope.sensTypeList.forEach(function(sensType){SENSOR_TYPE.getSensorDeploymentTypes({id:sensType.sensor_type_id},function(response){var deps=response;sensType.DepTypes=[];var DepMStrings=[];sensType.DepMETHODStrings="",deps.length>0&&deps.forEach(function(d){sensType.DepTypes.push(d.deployment_type_id),DepMStrings.push(d.method),sensType.DepMETHODStrings=DepMStrings.join(", ")}),$scope.formattedSensTypeList.push(sensType)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor deployment types: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor deployment types: "+errorResponse.statusText)}).$promise}),$scope.showDepTypes=function(SenT){var selected=[];return angular.forEach($scope.depTypeList,function(s){SenT.DepTypes.indexOf(s.deployment_type_id)>=0&&selected.push(s.method)}),selected.length?selected.join(", "):""},$scope.removeTheseDepTypes=[],$scope.checkListCheck=function(originalChecked,nowChecked){nowChecked.length<originalChecked.length&&angular.forEach(originalChecked,function(oc){if(nowChecked.indexOf(oc)<0){var deleteDep=$scope.depTypeList.filter(function(dt){return dt.deployment_type_id==oc})[0];if($scope.removeTheseDepTypes.length>0)for(var d=0;d<$scope.removeTheseDepTypes.length;d++)$scope.removeTheseDepTypes[d].deployment_type_id==deleteDep.deployment_type_id?d=$scope.newDepTypeRelating.length:$scope.removeTheseDepTypes.push(deleteDep);else $scope.removeTheseDepTypes.push(deleteDep)}})},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newSenT={},$scope.showAddSenTClicked=function(){$scope.showAddSenTForm=!0,$scope.addSenTButtonShowing=!1},$scope.NeverMindSenT=function(){$scope.newSenT={},$scope.newDepTypeRelating=[],angular.forEach($scope.depTypeList,function(d){d.selected=!1}),$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0},$scope.addDepTypeToNewSenT=function(dt){if(dt.selected===!0){if($scope.newDepTypeRelating.length>0)for(var d=0;d<$scope.newDepTypeRelating.length;d++)$scope.newDepTypeRelating[d].deployment_type_id==dt.deployment_type_id?d=$scope.newDepTypeRelating.length:($scope.newDepTypeRelating.push(dt),d=$scope.newDepTypeRelating.length);0===$scope.newDepTypeRelating.length&&$scope.newDepTypeRelating.push(dt)}},$scope.AddSensorType=function(valid){if(valid){var newSensor={},relatedDeps=[];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",SENSOR_TYPE.save($scope.newSenT,function(response){newSensor=response,$scope.newSenT={},$scope.showAddSenTForm=!1,$scope.addSenTButtonShowing=!0,$scope.newDepTypeRelating.length>0&&angular.forEach($scope.newDepTypeRelating,function(ndt){delete ndt.selected,relatedDeps.push(ndt.deployment_type_id),SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:newSensor.sensor_type_id,deploymentTypeId:ndt.deployment_type_id},function(response1){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding sensor deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error adding sensor deployment type: "+errorResponse.statusText)})}),newSensor.DepTypes=relatedDeps,$scope.formattedSensTypeList.push(newSensor),toastr.success("Sensor Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor type: "+errorResponse.statusText)})}},$scope.saveSensorType=function(data,id){var retur=!1;$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var DTs=({sensor_type_id:data.sensor_type_id,sensor:data.sensor},[]);return angular.forEach($scope.depTypeList,function(s){if(data.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};DTs.push(thisDT)}}),SENSOR_TYPE.update({id:id},data,function(response){retur=response,angular.forEach(DTs,function(dt){SENSOR_TYPE.addSensorDeploymentType({sensorTypeId:id,deploymentTypeId:ndt.deployment_type_id},dt,function(response1){toastr.success("Deployment Type is now related")},function(errorResponse1){toastr.error(void 0!==errorResponse1.headers(["usgswim-messages"])?"Error relating deployment type: "+errorResponse1.headers(["usgswim-messages"]):"Error relating deployment type: "+errorResponse1.statusText)})}),toastr.success("Sensor Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor type: "+errorResponse.statusText)}).$promise.then(angular.forEach($scope.removeTheseDepTypes,function(rdt){SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:id,DeploymentTypeId:rdt.deployment_type_id},function(response2){toastr.success("Deployment Type is no longer related")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})})),retur},$scope.deleteSensorType=function(senT){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return senT},what:function(){return"Sensor Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.formattedSensTypeList.indexOf(senT),ST={sensor_type_id:senT.sensor_type_id,sensor:senT.sensor};$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),angular.forEach($scope.depTypeList,function(s){if(senT.DepTypes.indexOf(s.deployment_type_id)>=0){var thisDT={deployment_type_id:s.deployment_type_id,method:s.method};SENSOR_TYPE.removeSensorDeploymentType({sensorTypeId:ST.sensor_type_id,DeploymentTypeId:thisDT.deployment_type_id},function(response2){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unrelating deployment type: "+errorResponse.headers(["usgswim-messages"]):"Error unrelating deployment type: "+errorResponse.statusText)})}}),SENSOR_TYPE["delete"]({id:ST.sensor_type_id},ST,function(response){$scope.formattedSensTypeList.splice(index,1),toastr.success("Sensor Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor type: "+errorResponse.statusText)})})},$scope.netTypeList=allNetworkTypes,$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,$scope.newNT={},$scope.showAddNTClicked=function(){$scope.showAddNTForm=!0,$scope.addNTButtonShowing=!1},$scope.NeverMindNT=function(){$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0},$scope.AddNetType=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.save($scope.newNT,function(response){$scope.netTypeList.push(response),$scope.newNT={},$scope.showAddNTForm=!1,$scope.addNTButtonShowing=!0,toastr.success("Network Type Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating network type: "+errorResponse.headers(["usgswim-messages"]):"Error creating network type: "+errorResponse.statusText)}))},$scope.saveNetType=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",NETWORK_TYPE.update({id:id},data,function(response){retur=response,toastr.success("Network Type Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving network type: "+errorResponse.headers(["usgswim-messages"]):"Error saving network type: "+errorResponse.statusText)}),retur},$scope.deleteNetType=function(nt){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return nt},what:function(){return"Network Type"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.netTypeList.indexOf(nt);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),NETWORK_TYPE["delete"]({id:nt.network_type_id},nt,function(response){$scope.netTypeList.splice(index,1),toastr.success("Network Type Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting network type: "+errorResponse.headers(["usgswim-messages"]):"Error deleting network type: "+errorResponse.statusText)})})},$scope.vertColMethList=allVerticalCollMethods,$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,$scope.newVCM={},$scope.showAddVCMClicked=function(){$scope.showAddVCMForm=!0,$scope.addVCMButtonShowing=!1},$scope.NeverMindVCM=function(){$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0},$scope.AddVertColMeth=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.save($scope.newVCM,function(response){$scope.vertColMethList.push(response),$scope.newVCM={},$scope.showAddVCMForm=!1,$scope.addVCMButtonShowing=!0,toastr.success("Vertical Collection Method Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical collection method: "+errorResponse.statusText)}))},$scope.saveVertColMeth=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_COLL_METHOD.update({id:id},data,function(response){retur=response,toastr.success("Vertical Collection Method Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical collection method: "+errorResponse.statusText)}),retur},$scope.deleteVertColMeth=function(vcm){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vcm},what:function(){return"Vertical Collection Method"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertColMethList.indexOf(vcm);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_COLL_METHOD["delete"]({id:vcm.vcollect_method_id},vcm,function(response){$scope.vertColMethList.splice(index,1),toastr.success("Vertical Collection Method Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical collection method: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical collection method: "+errorResponse.statusText)})})},$scope.vertDatList=allVerticalDatums,$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,$scope.newVD={},$scope.showAddVDClicked=function(){$scope.showAddVDForm=!0,$scope.addVDButtonShowing=!1},$scope.NeverMindVD=function(){$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0},$scope.AddVertDatum=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.save($scope.newVD,function(response){$scope.vertDatList.push(response),$scope.newVD={},$scope.showAddVDForm=!1,$scope.addVDButtonShowing=!0,toastr.success("Vertical Datum Added")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error creating vertical datum: "+errorResponse.statusText)}))},$scope.saveVertDatum=function(data,id){var retur=!1;return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",VERTICAL_DATUM.update({id:id},data,function(response){retur=response,toastr.success("Vertical Datum Updated")},function(errorResponse){retur=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error saving vertical datum: "+errorResponse.statusText)}),retur},$scope.deleteVertDatum=function(vd){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return vd},what:function(){return"Vertical Datum"}}});modalInstance.result.then(function(keyToRemove){var index=$scope.vertDatList.indexOf(vd);$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),VERTICAL_DATUM["delete"]({id:vd.datum_id},vd,function(response){$scope.vertDatList.splice(index,1),toastr.success("Vertical Datum Removed")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting vertical datum: "+errorResponse.headers(["usgswim-messages"]):"Error deleting vertical datum: "+errorResponse.statusText)})})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("sensorModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","agencyList","Site_Files","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,agencyList,Site_Files,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE){$scope.sensorTypeList=allDropdowns[0],$scope.sensorBrandList=allDropdowns[1],$scope.houseTypeList=allDropdowns[2],$scope.eventList=allDropdowns[3],$scope.fileTypeList=allDropdowns[4],$scope.vertDatumList=allDropdowns[5],$scope.depSenfileIsUploading=!1,$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.DepSensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.depSensImageFiles=$scope.DepSensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.OPsForTapeDown=siteOPs,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.IntervalType={},$scope.whichButton="",$scope.serverURL=SERVER_URL,$scope.nwisHeaderTip=$sce.trustAsHtml("Connect your transmitting sensor with NWIS via <em>Station ID for USGS gage</em> from the Site details."),$scope.view={DEPval:"detail",RETval:"detail"},$scope.sensorDataNWIS=!1,$scope.s={depOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartOptions1={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions1={},$scope.chopperResponse1=!1,$scope.chopperResponse1Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse1Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else{$scope.chartData=response.time.zip(response.pressure);var sDate=new Date(response.time[0]).toISOString(),eDate=new Date(response.time[response.time.length-1]).toISOString(),sd=getDateTimeParts(sDate),ed=getDateTimeParts(eDate);$scope.datafile.good_start=sd,$scope.datafile.good_end=ed,$scope.chartOptions1={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",resetZoomButton:{position:{align:"left",verticalAlign:"bottom",y:70}},panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse1Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse1Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse1=!0}},function(error){console.log(error)})}else alert("You need to choose a file first")};var getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File1&&void 0==$scope.aFile.File)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,
is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),$scope.depSensImageFiles.push(fresponse)),$scope.DepSensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.DepSensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.depSensImageFiles.length>0?$scope.depSensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone="UTC",$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.depSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,DATA_FILE["delete"]({id:datafileID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.depSensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisSensorSite.site_id,$scope.aFile.instrument_id=thisSensor.instrument_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.depSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.DepSensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.depSenfileIsUploading=!1},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file': "+errorResponse.statusText)})},function(errorResponse){$scope.depSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.DepSensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.depSensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1},$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",file_date:new Date,filetype_id:2,FileType:"Data",site_id:$scope.aSensor.site_id,data_file_id:0,instrument_id:$scope.aSensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.aSensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISDF.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($scope.depNWISSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISDF.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),$scope.NWISFile.data_file_id=NdfResponse.data_file_id,$scope.NWISFile.path="<link>",delete $scope.NWISFile.FileType,FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File created"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.depNWISSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?($scope.depTapeCopy.push($scope.OPMeasure),$scope.depStuffCopy[1].vdatum_id=opChosen.vdatum_id):($scope.tapeDownTable.push($scope.OPMeasure),$scope.aSensStatus.vdatum_id=opChosen.vdatum_id);else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var createOrEdit=void 0!==$scope.aSensor.instrument_id&&4!==$scope.aSensStatus.status_type_id?"edit":"create",tapeDownToRemove="edit"==createOrEdit?$scope.depTapeCopy.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0]:$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd="edit"==createOrEdit?$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id):$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),"edit"==createOrEdit?$scope.depTapeCopy.splice(tInd,1):$scope.tapeDownTable.splice(tInd,1),"edit"==createOrEdit?0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation=""):0===$scope.tapeDownTable.length&&($scope.aSensStatus.vdatum_id=0,$scope.aSensStatus.gs_elevation="",$scope.aSensStatus.ws_elevation="",$scope.aSensStatus.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.getDepTypes=function(){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==$scope.aSensor.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes,1==$scope.filteredDeploymentTypes.length&&($scope.aSensor.deployment_type_id=$scope.filteredDeploymentTypes[0].deployment_type_id)},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSensor={},$scope.aSensStatus={},$scope.thisSensorSite=SensorSite,$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sensorObjectToSendBack=thisSensor;$timeout(function(){var sendBack=[sensorObjectToSendBack];$uibModalInstance.close(sendBack)})},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var dealWithTimeStampb4Send=function(w){if("saving"==w)if("UTC"!=$scope.depStuffCopy[1].time_zone){var utcDateTimeS=new Date($scope.depStuffCopy[1].time_stamp).toUTCString();$scope.depStuffCopy[1].time_stamp=utcDateTimeS,$scope.depStuffCopy[1].time_zone="UTC"}else{var i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3;$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)}else if("UTC"!=$scope.aSensStatus.time_zone){var utcDateTimeD=new Date($scope.aSensStatus.time_stamp).toUTCString();$scope.aSensStatus.time_stamp=utcDateTimeD,$scope.aSensStatus.time_zone="UTC"}else{var Di=$scope.aSensStatus.time_stamp.toString().indexOf("GMT")+3;$scope.aSensStatus.time_stamp=$scope.aSensStatus.time_stamp.toString().substring(0,Di)}};if($scope.save=function(valid){if(valid){var updatedSensor={},updatedSenStat={};void 0!==$scope.adminChanged.event_id&&($scope.depStuffCopy[0].event_id=$scope.adminChanged.event_id),"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("saving"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id==$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==$scope.depStuffCopy[0].sensor_type_id})[0].sensor,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.removeOPList.length;rt++){var idToRemove=$scope.removeOPList[rt];OP_MEASURE["delete"]({id:idToRemove}).$promise}$scope.tapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.tapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.tapeDownTable.push(tapeResponse)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed";var instrument_statusesHolder=$scope.aSensor.instrument_status;$scope.aSensor=updatedSensor,thisSensor=updatedSensor,thisSensor.instrument_status=instrument_statusesHolder,$scope.aSensStatus=updatedSenStat,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp);var ind=thisSensor.instrument_status.map(function(i){return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.aSensStatus,$scope.depStuffCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error("error saving sensor status: "+errorResponse.statusText)})},function(errorResponse){toastr.error("error saving sensor: "+errorResponse.statusText)})}},$scope.deploy=function(){if(this.SensorForm.$valid)if("Proposed sensor at this site. Change description when deploying sensor."!==$scope.aSensor.location_description){"Minutes"==$scope.IntervalType.type&&($scope.aSensor.interval=60*$scope.aSensor.interval),$scope.aSensor.event_id=$cookies.get("SessionEventID"),$scope.aSensor.site_id=SensorSite.site_id,dealWithTimeStampb4Send("deploy"),$scope.aSensStatus.status_type_id=1,$scope.aSensStatus.member_id=$cookies.get("mID");var createdSensor={},depSenStat={};$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),
$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSensor.instrument_id?INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){createdSensor=response,createdSensor.deploymentType=$scope.aSensor.deploymentType,createdSensor.housingType=response.housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat,$scope.previousStateStatus],$timeout(function(){toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)})})}):INSTRUMENT.save($scope.aSensor).$promise.then(function(response){createdSensor=response,createdSensor.deploymentType=null!==response.deployment_type_id&&void 0!==response.deployment_type_id?$scope.depTypeList.filter(function(d){return d.deployment_type_id==response.deployment_type_id})[0].method:"",createdSensor.housingType=null!==response.housing_type_id&&void 0!==response.housing_type_id?$scope.houseTypeList.filter(function(h){return h.housing_type_id==response.housing_type_id})[0].type_name:"",createdSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id==response.sensor_brand_id})[0].brand_name,createdSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id==response.sensor_type_id})[0].sensor,$scope.aSensStatus.instrument_id=response.instrument_id,INSTRUMENT_STATUS.save($scope.aSensStatus).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}depSenStat=statResponse,depSenStat.status="Deployed",createdSensor.instrument_status=[depSenStat],toastr.success("Sensor deployed");var state="deployP"==$scope.whichButton?"proposedDeployed":"newDeployed",sendBack=[createdSensor,state];$uibModalInstance.close(sendBack)})})}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must update the Location Description when deploying a proposed sensor.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",backdrop:"static",keyboard:!1,resolve:{nameToRemove:function(){return $scope.aSensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.DepSensorFiles=[],$scope.depSensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},function(){})},"empty"!=thisSensor){if($scope.aSensor=angular.copy(thisSensor),$scope.aSensStatus=angular.copy(thisSensor.instrument_status[0]),$scope.sensorDataNWIS=2==$scope.aSensor.sensor_type_id||5==$scope.aSensor.sensor_type_id||6==$scope.aSensor.sensor_type_id?!0:!1,$scope.getDepTypes(),$scope.IntervalType.type="Seconds",$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.DepSensorFiles.length-1;ai>=0;ai--)1==$scope.DepSensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.DepSensorFiles[ai]),$scope.DepSensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}if("Proposed"==thisSensor.instrument_status[0].status){$scope.previousStateStatus=angular.copy(thisSensor.instrument_status[0]),$scope.whichButton="deployP",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval;var timeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=timeParts[0],$scope.aSensStatus.time_zone=timeParts[1],$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember}else $scope.whichButton="edit",$scope.aSensor.interval=0===$scope.aSensor.interval?null:$scope.aSensor.interval,$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aSensor.event_id})[0].event_name,$scope.aSensStatus.time_stamp=getDateTimeParts($scope.aSensStatus.time_stamp),$scope.Deployer=null!==$scope.aSensStatus.member_id||void 0!==$scope.aSensStatus.member_id?allMembers.filter(function(m){return m.member_id==$scope.aSensStatus.member_id})[0]:{},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.aSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.tapeDownTable.push(sensMeasures)}for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<response.length;y++)response[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=response.length):$scope.OPsForTapeDown[i].selected=!1;0===response.length&&($scope.OPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});$rootScope.stateIsLoading.showLoading=!1}else{$scope.whichButton="deploy",$scope.IntervalType.type="Seconds";var DeptimeParts=getTimeZoneStamp();$scope.aSensStatus.time_stamp=DeptimeParts[0],$scope.aSensStatus.time_zone="UTC",$scope.aSensStatus.member_id=$cookies.get("mID"),$scope.EventName=$cookies.get("SessionEventName"),$scope.Deployer=$scope.LoggedInMember,$rootScope.stateIsLoading.showLoading=!1}$scope.myData=[$scope.aSensStatus.sensor_elevation,$scope.aSensStatus.ws_elevation,$scope.aSensStatus.gs_elevation],$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.aSensor),angular.copy($scope.aSensStatus)],$scope.depTapeCopy=angular.copy($scope.tapeDownTable)},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.OPsForTapeDown.length;i++){for(var y=0;y<$scope.tapeDownTable.length;y++)$scope.tapeDownTable[y].objective_point_id==$scope.OPsForTapeDown[i].objective_point_id?($scope.OPsForTapeDown[i].selected=!0,y=$scope.tapeDownTable.length):$scope.OPsForTapeDown[i].selected=!1;0===$scope.tapeDownTable.length&&($scope.OPsForTapeDown[i].selected=!1)}}}]),ModalControllers.controller("sensorRetrievalModalCtrl",["$scope","$rootScope","$timeout","$cookies","$http","$uibModalInstance","$uibModal","thisSensor","SensorSite","siteOPs","allEventList","allVDatumList","allMembers","allStatusTypes","allInstCollCond","INSTRUMENT","INSTRUMENT_STATUS","OP_MEASURE",function($scope,$rootScope,$timeout,$cookies,$http,$uibModalInstance,$uibModal,thisSensor,SensorSite,siteOPs,allEventList,allVDatumList,allMembers,allStatusTypes,allInstCollCond,INSTRUMENT,INSTRUMENT_STATUS,OP_MEASURE){$scope.aSensor=thisSensor,$scope.EventName=allEventList.filter(function(r){return r.event_id==$scope.aSensor.event_id})[0].event_name,$scope.depSensStatus=angular.copy(thisSensor.instrument_status[0]);var isDate="[object Date]"===Object.prototype.toString.call($scope.depSensStatus.time_stamp);if(isDate===!1){var y=$scope.depSensStatus.time_stamp.substr(0,4),m=$scope.depSensStatus.time_stamp.substr(5,2)-1,d=$scope.depSensStatus.time_stamp.substr(8,2),h=$scope.depSensStatus.time_stamp.substr(11,2),mi=$scope.depSensStatus.time_stamp.substr(14,2),sec=$scope.depSensStatus.time_stamp.substr(17,2);$scope.depSensStatus.time_stamp=new Date(y,m,d,h,mi,sec)}void 0!==$scope.depSensStatus.vdatum_id&&$scope.depSensStatus.vdatum_id>0&&($scope.depSensStatus.VDatum=allVDatumList.filter(function(v){return v.datum_id==$scope.depSensStatus.vdatum_id})[0].datum_abbreviation),$scope.OPsForTapeDown=siteOPs,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.vertDatumList=allVDatumList,$scope.removeOPList=[],$scope.tapeDownTable=[],$scope.DEPtapeDownTable=[],$scope.Deployer=allMembers.filter(function(m){return m.member_id==$scope.depSensStatus.member_id})[0],$scope.whichButton="Retrieve",$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.collectCondList=allInstCollCond,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.userRole=$cookies.get("usersRole");var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.OPchosen=function(opChosen){var opI=$scope.OPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(opChosen.objective_point_id);if(opChosen.selected)$scope.OPMeasure={},$scope.OPMeasure.op_name=opChosen.name,$scope.OPMeasure.elevation=opChosen.elev_ft,$scope.OPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==opChosen.vdatum_id})[0].datum_abbreviation,$scope.OPMeasure.objective_point_id=opChosen.objective_point_id,$scope.tapeDownTable.push($scope.OPMeasure),$scope.aRetrieval.vdatum_id=opChosen.vdatum_id;else{var removeOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close("remove")},$scope.cancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});removeOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var tapeDownToRemove=$scope.tapeDownTable.filter(function(a){return a.objective_point_id==opChosen.objective_point_id})[0],tInd=$scope.tapeDownTable.map(function(o){return o.objective_point_id}).indexOf(tapeDownToRemove.objective_point_id);void 0!==tapeDownToRemove.op_measurements_id&&$scope.removeOPList.push(tapeDownToRemove.op_measurements_id),$scope.tapeDownTable.splice(tInd,1),0===$scope.tapeDownTable.length&&($scope.aRetrieval.vdatum_id=0,$scope.aRetrieval.gs_elevation="",$scope.aRetrieval.ws_elevation="",$scope.aRetrieval.sensor_elevation="")}else $scope.OPsForTapeDown[opI].selected=!0})}},OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.depSensStatus.instrument_status_id}).$promise.then(function(response){for(var r=0;r<response.length;r++){var sensMeasures=response[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==response[r].objective_point_id})[0];sensMeasures.elevation=whichOP.elev_ft,sensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,sensMeasures.op_name=whichOP.name,$scope.DEPtapeDownTable.push(sensMeasures)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)});var dtparts=getTimeZoneStamp();$scope.aRetrieval={time_stamp:dtparts[0],time_zone:dtparts[1],instrument_id:$scope.aSensor.instrument_id,member_id:$cookies.get("mID")},$scope.Retriever=allMembers.filter(function(am){return am.member_id==$cookies.get("mID")})[0];var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aRetrieval.time_zone){var utcDateTime=new Date($scope.aRetrieval.time_stamp).toUTCString();$scope.aRetrieval.time_stamp=utcDateTime,$scope.aRetrieval.time_zone="UTC"}else{var i=$scope.aRetrieval.time_stamp.toString().indexOf("GMT")+3;$scope.aRetrieval.time_stamp=$scope.aRetrieval.time_stamp.toString().substring(0,i)}};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")};var depTimeStampb4Send=function(){var returnThis,i=$scope.depSensStatus.time_stamp.toString().indexOf("GMT")+3;return returnThis=$scope.depSensStatus.time_stamp.toString().substring(0,i)};$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.retrieveS=function(valid){if(valid){dealWithTimeStampb4Send();var depSenTS=depTimeStampb4Send(),retSenTS=angular.copy($scope.aRetrieval.time_stamp.replace(/\,/g,""));if(new Date(retSenTS)<new Date(depSenTS)){var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The retrieval date must be after the deployed date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){$scope.aRetrieval.time_stamp="",$scope.aRetrieval.time_stamp=getTimeZoneStamp()[0],$scope.aRetrieval.time_zone=getTimeZoneStamp()[1],angular.element("#retrievalDate").trigger("focus")})}else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedSensor={},createRetSens={};INSTRUMENT.update({id:$scope.aSensor.instrument_id},$scope.aSensor).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.aSensor.deploymentType,updatedSensor.housingType=$scope.aSensor.housingType,updatedSensor.sensorBrand=$scope.aSensor.sensorBrand,updatedSensor.sensorType=$scope.aSensor.sensorType,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.aSensor.inst_collection_id})[0].condition,INSTRUMENT_STATUS.save($scope.aRetrieval).$promise.then(function(statResponse){if($scope.tapeDownTable.length>0)for(var t=0;t<$scope.tapeDownTable.length;t++){var thisTape=$scope.tapeDownTable[t];thisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(thisTape).$promise}createRetSens=statResponse,createRetSens.status=2==statResponse.status_type_id?"Retrieved":"Lost",updatedSensor.instrument_status=[createRetSens,thisSensor.instrument_status[0]],$timeout(function(){toastr.success("Sensor retrieved");var state="retrieved",sendBack=[updatedSensor,state];$uibModalInstance.close(sendBack)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error retrieving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error retrieving sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}}},$rootScope.stateIsLoading.showLoading=!1}]),ModalControllers.controller("fullSensorModalCtrl",["$scope","$rootScope","$filter","$timeout","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDepDropdowns","agencyList","Site_Files","allStatusTypes","allInstCollCond","allEvents","allDepTypes","thisSensor","SensorSite","siteOPs","allMembers","allEventDataFiles","INSTRUMENT","INSTRUMENT_STATUS","DATA_FILE","FILE","SOURCE","OP_MEASURE","Site_Script",function($scope,$rootScope,$filter,$timeout,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDepDropdowns,agencyList,Site_Files,allStatusTypes,allInstCollCond,allEvents,allDepTypes,thisSensor,SensorSite,siteOPs,allMembers,allEventDataFiles,INSTRUMENT,INSTRUMENT_STATUS,DATA_FILE,FILE,SOURCE,OP_MEASURE,Site_Script){function calcDistance(lat1,lon1){var radlat1=Math.PI*lat1/180,radlat2=Math.PI*$scope.thisSensorSite.latitude_dd/180,theta=lon1-$scope.thisSensorSite.longitude_dd,radtheta=Math.PI*theta/180,dist=Math.sin(radlat1)*Math.sin(radlat2)+Math.cos(radlat1)*Math.cos(radlat2)*Math.cos(radtheta);return dist=Math.acos(dist),dist=180*dist/Math.PI,dist=60*dist*1.1515}$scope.serverURL=SERVER_URL,$scope.fullSenfileIsUploading=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.sensorTypeList=allDepDropdowns[0],$scope.sensorBrandList=allDepDropdowns[1],$scope.houseTypeList=allDepDropdowns[2],$scope.fileTypeList=allDepDropdowns[3],$scope.vertDatumList=allDepDropdowns[4],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.sensorFiles="empty"!==thisSensor?$scope.allSFiles.filter(function(sf){return sf.instrument_id==thisSensor.instrument_id}):[],$scope.sensImageFiles=$scope.sensorFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.showNWISFileForm=!1,$scope.sensorDataNWIS=!1,$scope.collectCondList=allInstCollCond,$scope.OPsPresent=siteOPs.length>0?!0:!1,$scope.DEPOPsForTapeDown=angular.copy(siteOPs),$scope.RETOPsForTapeDown=angular.copy(siteOPs),$scope.depTypeList=allDepTypes,$scope.filteredDeploymentTypes=[],$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.statusTypeList=allStatusTypes.filter(function(s){return"Retrieved"==s.status||"Lost"==s.status}),$scope.eventDataFiles=[],$scope.is4Hz={selected:!1},$scope.IntervalType={type:"Seconds"},$scope.view={DEPval:"detail",RETval:"detail"};var getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]},getDateTimeParts=function(d){var theDate,isDate="[object Date]"===Object.prototype.toString.call(d);if(isDate===!1){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2);theDate=new Date(y,m,da,h,mi,sec)}else theDate=d;return theDate};$scope.thisSensorSite=SensorSite,$scope.userRole=$cookies.get("usersRole"),$scope.sensor=angular.copy(thisSensor),$scope.sensorDataNWIS=2==$scope.sensor.sensor_type_id||5==$scope.sensor.sensor_type_id||6==$scope.sensor.sensor_type_id?!0:!1,$scope.DeployedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Deployed"===inst.status})[0]),$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),$scope.Deployer=allMembers.filter(function(m){return m.member_id===$scope.DeployedSensorStat.member_id})[0],$scope.DEPremoveOPList=[],$scope.DEPtapeDownTable=[],$scope.DEPOPchosen=function(DEPopChosen){var opI=$scope.DEPOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(DEPopChosen.objective_point_id);if(DEPopChosen.selected)$scope.DEPOPMeasure={},$scope.DEPOPMeasure.op_name=DEPopChosen.name,$scope.DEPOPMeasure.elevation=DEPopChosen.elev_ft,$scope.DEPOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==DEPopChosen.vdatum_id})[0].datum_abbreviation,$scope.DEPOPMeasure.objective_point_id=DEPopChosen.objective_point_id,$scope.depTapeCopy.push($scope.DEPOPMeasure),$scope.depStuffCopy[1].vdatum_id=DEPopChosen.vdatum_id;else{var DEPremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this deployed sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="DEPok()">OK</button><button class="btn btn-primary" ng-click="DEPcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.DEPok=function(){$uibModalInstance.close("remove")},$scope.DEPcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});DEPremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var DEPtapeDownToRemove=$scope.depTapeCopy.filter(function(a){return a.objective_point_id==DEPopChosen.objective_point_id})[0],DEPtInd=$scope.depTapeCopy.map(function(o){return o.objective_point_id}).indexOf(DEPtapeDownToRemove.objective_point_id);void 0!==DEPtapeDownToRemove.op_measurements_id&&$scope.DEPremoveOPList.push(DEPtapeDownToRemove.op_measurements_id),$scope.depTapeCopy.splice(DEPtInd,1),0===$scope.depTapeCopy.length&&($scope.depStuffCopy[1].vdatum_id=0,$scope.depStuffCopy[1].gs_elevation="",$scope.depStuffCopy[1].ws_elevation="",$scope.depStuffCopy[1].sensor_elevation="")}else $scope.DEPOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.DeployedSensorStat.instrument_status_id}).$promise.then(function(DEPresponse){for(var r=0;r<DEPresponse.length;r++){var DEPsensMeasures=DEPresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0];DEPsensMeasures.elevation=whichOP.elev_ft,DEPsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,DEPsensMeasures.op_name=$scope.DEPOPsForTapeDown.filter(function(op){return op.objective_point_id==DEPresponse[r].objective_point_id})[0].name,$scope.DEPtapeDownTable.push(DEPsensMeasures)}for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<DEPresponse.length;y++)DEPresponse[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=DEPresponse.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===DEPresponse.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Retrieved"===inst.status})[0]),void 0===$scope.RetrievedSensorStat?($scope.RetrievedSensorStat=angular.copy(thisSensor.instrument_status.filter(function(inst){return"Lost"===inst.status})[0]),$scope.mostRecentStatus="Lost"):$scope.mostRecentStatus="Retrieved",void 0!==$scope.RetrievedSensorStat.vdatum_id&&$scope.RetrievedSensorStat.vdatum_id>0&&($scope.RetrievedSensorStat.vdatumName=$scope.vertDatumList.filter(function(vd){return vd.datum_id==$scope.RetrievedSensorStat.vdatum_id})[0].datum_abbreviation),$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),$scope.Retriever=allMembers.filter(function(m){return m.member_id===$scope.RetrievedSensorStat.member_id})[0],$scope.RETremoveOPList=[],$scope.RETtapeDownTable=[],$scope.RETOPchosen=function(RETopChosen){var opI=$scope.RETOPsForTapeDown.map(function(o){return o.objective_point_id}).indexOf(RETopChosen.objective_point_id);if(RETopChosen.selected)$scope.RETOPMeasure={},$scope.RETOPMeasure.op_name=RETopChosen.name,$scope.RETOPMeasure.elevation=RETopChosen.elev_ft,$scope.RETOPMeasure.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==RETopChosen.vdatum_id})[0].datum_abbreviation,$scope.RETOPMeasure.objective_point_id=RETopChosen.objective_point_id,$scope.retTapeCopy.push($scope.RETOPMeasure),$scope.retStuffCopy[1].vdatum_id=RETopChosen.vdatum_id;else{var RETremoveOPMeas=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Remove OP Measure</h3></div><div class="modal-body"><p>Are you sure you want to remove this OP Measurement from this retrieved sensor?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="RETok()">OK</button><button class="btn btn-primary" ng-click="RETcancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.RETok=function(){$uibModalInstance.close("remove")},$scope.RETcancel=function(){$uibModalInstance.close("cancel")}}],size:"sm"});RETremoveOPMeas.result.then(function(yesOrNo){if("remove"==yesOrNo){var RETtapeDownToRemove=$scope.retTapeCopy.filter(function(a){return a.objective_point_id==RETopChosen.objective_point_id})[0],RETtInd=$scope.retTapeCopy.map(function(o){return o.objective_point_id}).indexOf(RETtapeDownToRemove.objective_point_id);$scope.RETremoveOPList.push(RETtapeDownToRemove.op_measurements_id),$scope.retTapeCopy.splice(RETtInd,1),0===$scope.retTapeCopy.length&&($scope.retStuffCopy[1].vdatum_id=0,$scope.retStuffCopy[1].gs_elevation="",$scope.retStuffCopy[1].ws_elevation="",$scope.retStuffCopy[1].sensor_elevation="")}else $scope.RETOPsForTapeDown[opI].selected=!0})}},$scope.OPsPresent&&OP_MEASURE.getInstStatOPMeasures({instrumentStatusId:$scope.RetrievedSensorStat.instrument_status_id}).$promise.then(function(RETresponse){for(var r=0;r<RETresponse.length;r++){var RETsensMeasures=RETresponse[r],whichOP=siteOPs.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0];RETsensMeasures.elevation=whichOP.elev_ft,RETsensMeasures.Vdatum=$scope.vertDatumList.filter(function(vd){return vd.datum_id==whichOP.vdatum_id})[0].datum_abbreviation,RETsensMeasures.op_name=$scope.RETOPsForTapeDown.filter(function(op){return op.objective_point_id==RETresponse[r].objective_point_id})[0].name,$scope.RETtapeDownTable.push(RETsensMeasures)}for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<RETresponse.length;y++)RETresponse[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=RETresponse.length):$scope.RETOPsForTapeDown[i].selected=!1;0===RETresponse.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sensor status measurement: "+errorResponse.headers(["usgswim-messages"]):"Error getting sensor status measurement: "+errorResponse.statusText)}),$scope.EventName=allEvents.filter(function(e){return e.event_id===$scope.sensor.event_id})[0].event_name,$scope.s={depOpen:!1,retOpen:!0,sFileOpen:!1,NWISFileOpen:!1},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getDepTypes=function(sensType){$scope.filteredDeploymentTypes=[];var matchingSensDeplist=$scope.sensorTypeList.filter(function(sd){return sd.sensor_type_id==sensType.sensor_type_id})[0];$scope.filteredDeploymentTypes=matchingSensDeplist.deploymenttypes},$scope.getDepTypes($scope.sensor),$scope.cancel=function(){$timeout(function(){var sendBack=[thisSensor];$uibModalInstance.close(sendBack)})};var dealWithTimeStampb4Send=function(w){var utcDateTime,i;"deployed"===w?"UTC"!=$scope.depStuffCopy[1].time_zone?(utcDateTime=new Date($scope.depStuffCopy[1].time_stamp).toUTCString(),$scope.depStuffCopy[1].time_stamp=utcDateTime,$scope.depStuffCopy[1].time_zone="UTC"):(i=$scope.depStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.depStuffCopy[1].time_stamp=$scope.depStuffCopy[1].time_stamp.toString().substring(0,i)):"UTC"!=$scope.retStuffCopy[1].time_zone?(utcDateTime=new Date($scope.retStuffCopy[1].time_stamp).toUTCString(),$scope.retStuffCopy[1].time_stamp=utcDateTime,$scope.retStuffCopy[1].time_zone="UTC"):(i=$scope.retStuffCopy[1].time_stamp.toString().indexOf("GMT")+3,$scope.retStuffCopy[1].time_stamp=$scope.retStuffCopy[1].time_stamp.toString().substring(0,i))};$scope.wannaEditDep=function(){$scope.view.DEPval="edit",$scope.depStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.DeployedSensorStat)],$scope.depTapeCopy=angular.copy($scope.DEPtapeDownTable)},$scope.saveDeployed=function(valid){if(valid){var updatedSensor={},updatedSenStat={};"Minutes"==$scope.IntervalType.type&&($scope.depStuffCopy[0].interval=60*$scope.depStuffCopy[0].interval),dealWithTimeStampb4Send("deployed"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.depStuffCopy[0].instrument_id},$scope.depStuffCopy[0]).$promise.then(function(response){updatedSensor=response,updatedSensor.deploymentType=$scope.depStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.depStuffCopy[0].deployment_type_id})[0].method:"",updatedSensor.housingType=$scope.depStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.depStuffCopy[0].housing_type_id})[0].type_name:"",updatedSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.depStuffCopy[0].sensor_brand_id})[0].brand_name,updatedSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.depStuffCopy[0].sensor_type_id})[0].sensor,updatedSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.depStuffCopy[0].inst_collection_id})[0].condition,INSTRUMENT_STATUS.update({id:$scope.depStuffCopy[1].instrument_status_id},$scope.depStuffCopy[1]).$promise.then(function(statResponse){for(var rt=0;rt<$scope.DEPremoveOPList.length;rt++){var DEPidToRemove=$scope.DEPremoveOPList[rt];OP_MEASURE["delete"]({id:DEPidToRemove}).$promise}$scope.DEPtapeDownTable=$scope.depTapeCopy.length>0?[]:$scope.DEPtapeDownTable;for(var at=0;at<$scope.depTapeCopy.length;at++){var DEPthisTape=$scope.depTapeCopy[at];void 0!==DEPthisTape.op_measurements_id?OP_MEASURE.update({id:DEPthisTape.op_measurements_id},DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}):(DEPthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(DEPthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=DEPthisTape.op_name,tapeResponse.Vdatum=DEPthisTape.Vdatum,$scope.DEPtapeDownTable.push(tapeResponse)}))}updatedSenStat=statResponse,updatedSenStat.status="Deployed",$scope.sensor=updatedSensor;var allStatusHolder=thisSensor.instrument_status;thisSensor=updatedSensor,$scope.DeployedSensorStat=updatedSenStat,$scope.DeployedSensorStat.time_stamp=getDateTimeParts($scope.DeployedSensorStat.time_stamp),thisSensor.instrument_status=allStatusHolder;var ind=thisSensor.instrument_status.map(function(i){
return i.status_type_id}).indexOf(1);thisSensor.instrument_status[ind]=$scope.DeployedSensorStat,$scope.sensor.instrument_status=thisSensor.instrument_status,$scope.depStuffCopy=[],$scope.depTapeCopy=[],$scope.IntervalType={type:"Seconds"},$scope.view.DEPval="detail",toastr.success("Sensor Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelDepEdit=function(){$scope.view.DEPval="detail",$scope.depStuffCopy=[],$scope.depTapeCopy=[];for(var i=0;i<$scope.DEPOPsForTapeDown.length;i++){for(var y=0;y<$scope.DEPtapeDownTable.length;y++)$scope.DEPtapeDownTable[y].objective_point_id==$scope.DEPOPsForTapeDown[i].objective_point_id?($scope.DEPOPsForTapeDown[i].selected=!0,y=$scope.DEPtapeDownTable.length):$scope.DEPOPsForTapeDown[i].selected=!1;0===$scope.DEPtapeDownTable.length&&($scope.DEPOPsForTapeDown[i].selected=!1)}},$scope.wannaEditRet=function(){$scope.view.RETval="edit",$scope.retStuffCopy=[angular.copy($scope.sensor),angular.copy($scope.RetrievedSensorStat)],$scope.retTapeCopy=angular.copy($scope.RETtapeDownTable)},$scope.saveRetrieved=function(valid){if(valid){var updatedRetSensor={};dealWithTimeStampb4Send("retrieved"),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",INSTRUMENT.update({id:$scope.retStuffCopy[0].instrument_id},$scope.retStuffCopy[0]).$promise.then(function(response){updatedRetSensor=response,updatedRetSensor.deploymentType=$scope.retStuffCopy[0].deployment_type_id>0?$scope.depTypeList.filter(function(d){return d.deployment_type_id===$scope.retStuffCopy[0].deployment_type_id})[0].method:"",updatedRetSensor.housingType=$scope.retStuffCopy[0].housing_type_id>0?$scope.houseTypeList.filter(function(h){return h.housing_type_id===$scope.retStuffCopy[0].housing_type_id})[0].type_name:"",updatedRetSensor.sensorBrand=$scope.sensorBrandList.filter(function(s){return s.sensor_brand_id===$scope.retStuffCopy[0].sensor_brand_id})[0].brand_name,updatedRetSensor.sensorType=$scope.sensorTypeList.filter(function(t){return t.sensor_type_id===$scope.retStuffCopy[0].sensor_type_id})[0].sensor,updatedRetSensor.instCollection=$scope.collectCondList.filter(function(i){return i.id===$scope.retStuffCopy[0].inst_collection_id})[0].condition,$scope.sensor=updatedRetSensor;var statsHolder=thisSensor.instrument_status;thisSensor=updatedRetSensor,thisSensor.instrument_status=statsHolder,INSTRUMENT_STATUS.update({id:$scope.retStuffCopy[1].instrument_status_id},$scope.retStuffCopy[1]).$promise.then(function(statResponse){$scope.mostRecentStatus=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat=statResponse,$scope.RetrievedSensorStat.status=2==statResponse.status_type_id?"Retrieved":"Lost",$scope.RetrievedSensorStat.time_stamp=getDateTimeParts($scope.RetrievedSensorStat.time_stamp),thisSensor.instrument_status[0]=$scope.RetrievedSensorStat;for(var rt=0;rt<$scope.RETremoveOPList.length;rt++){var RETidToRemove=$scope.RETremoveOPList[rt];OP_MEASURE["delete"]({id:RETidToRemove}).$promise}$scope.RETtapeDownTable=$scope.retTapeCopy.length>0?[]:$scope.RETtapeDownTable;for(var at=0;at<$scope.retTapeCopy.length;at++){var RETthisTape=$scope.retTapeCopy[at];void 0!==RETthisTape.op_measurements_id?OP_MEASURE.update({id:RETthisTape.op_measurements_id},RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}):(RETthisTape.instrument_status_id=statResponse.instrument_status_id,OP_MEASURE.save(RETthisTape).$promise.then(function(tapeResponse){tapeResponse.op_name=RETthisTape.op_name,tapeResponse.Vdatum=RETthisTape.Vdatum,$scope.RETtapeDownTable.push(tapeResponse)}))}$scope.retStuffCopy=[],$scope.retTapeCopy=[],$scope.view.RETval="detail",toastr.success("Sensor updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor's status: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor's status: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving sensor: "+errorResponse.headers(["usgswim-messages"]):"Error saving sensor: "+errorResponse.statusText)})}},$scope.cancelRetEdit=function(){$scope.view.RETval="detail",$scope.retStuffCopy=[],$scope.retTapeCopy=[];for(var i=0;i<$scope.RETOPsForTapeDown.length;i++){for(var y=0;y<$scope.RETtapeDownTable.length;y++)$scope.RETtapeDownTable[y].objective_point_id==$scope.RETOPsForTapeDown[i].objective_point_id?($scope.RETOPsForTapeDown[i].selected=!0,y=$scope.RETtapeDownTable.length):$scope.RETOPsForTapeDown[i].selected=!1;0===$scope.RETtapeDownTable.length&&($scope.RETOPsForTapeDown[i].selected=!1)}},$scope.deleteS=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.sensor},what:function(){return"Sensor"}}});DeleteModalInstance.result.then(function(sensorToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:sensorToRemove.instrument_id}).$promise.then(function(){$scope.sensorFiles=[],$scope.sensImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].instrument_id==sensorToRemove.instrument_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Sensor Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting sensor: "+errorResponse.statusText)})})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){if(void 0==$scope.aFile.File&&void 0==$scope.aFile.File1)alert("You need to choose a file first");else{$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo=2==$scope.aFile.filetype_id?"DataFile File":"Sensor File",1===fresponse.filetype_id&&($scope.sensImageFiles.splice($scope.existIMGFileIndex,1),$scope.sensImageFiles.push(fresponse)),$scope.sensorFiles[$scope.existFileIndex]=fresponse,$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},$scope.datafile={},0!==file){if($scope.existFileIndex=$scope.sensorFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.sensImageFiles.length>0?$scope.sensImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)}),void 0!==file.data_file_id&&($scope.ApprovalInfo={},DATA_FILE.query({id:file.data_file_id}).$promise.then(function(df){$scope.datafile=df,$scope.processor=allMembers.filter(function(m){return m.member_id==$scope.datafile.processor_id})[0],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),void 0!==df.approval_id&&null!==df.approval_id&&df.approval_id>=1&&DATA_FILE.getDFApproval({id:df.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file approval: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file approval: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)}))}else{$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.processor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0];var dt=getTimeZoneStamp();$scope.datafile.collect_date=dt[0],$scope.datafile.time_zone=dt[1],$scope.datafile.good_start=null,$scope.datafile.good_end=null}$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(void 0==s||void 0==e){valid=!1;var missingDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good data start date or good data end date is missing. Either choose a date, or click Preview Data to get a chart of the data, where you can choose the dates.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});missingDate.result.then(function(){valid=!1})}}if(valid)if($scope.fullSenfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",2==$scope.aFile.filetype_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}$scope.datafile.instrument_id=thisSensor.instrument_id,$scope.datafile.processor_id=$cookies.get("mID");var datafileID=0;DATA_FILE.save($scope.datafile).$promise.then(function(dfResponse){datafileID=dfResponse.data_file_id;var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,data_file_id:dfResponse.data_file_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="DataFile File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisSensorSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Sensor File",$scope.sensorFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.sensImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("You need to choose a file first")},$scope.saveFile=function(valid){if(2==$scope.aFile.filetype_id){var s=$scope.datafile.good_start,e=$scope.datafile.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.fullSenfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.datafile.data_file_id){if("UTC"!=$scope.datafile.time_zone){var utcStartDateTime=new Date($scope.datafile.good_start).toUTCString(),utcEndDateTime=new Date($scope.datafile.good_end).toUTCString();$scope.datafile.good_start=utcStartDateTime,$scope.datafile.good_end=utcEndDateTime,$scope.datafile.time_zone="UTC"}else{var si=$scope.datafile.good_start.toString().indexOf("GMT")+3,ei=$scope.datafile.good_end.toString().indexOf("GMT")+3;$scope.datafile.good_start=$scope.datafile.good_start.toString().substring(0,si),$scope.datafile.good_end=$scope.datafile.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.datafile.data_file_id},$scope.datafile).$promise.then(function(){FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}else{var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Sensor File",$scope.sensorFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fullSenfileIsUploading=!1},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.fullSenfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.showFileForm=!1,$scope.showProcessing=!1,$scope.stormSection=!1,$scope.eventDataFiles=[],$scope.is4Hz={selected:!1}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})})},$scope.runAirScript=function(){if(void 0!==$scope.DeployedSensorStat.sensor_elevation&&void 0!==$scope.RetrievedSensorStat.sensor_elevation)if("true"==$scope.aFile.script_parent){var rerunModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Air Script has already been processed for this sensor data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theFile",function($scope,$uibModalInstance,theFile){$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){$uibModalInstance.close(theFile)}}],size:"sm",resolve:{theFile:function(){return $scope.aFile}}});rerunModal.result.then(function(afile){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==afile.file_id.toString()}),matchCnt=0;0==processedFileCount&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()),$scope.sensorFiles.forEach(function(f){f.script_parent==afile.file_id.toString()&&FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&(DATA_FILE.runAirScript({airDFID:afile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile())},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})})})}else $scope.showProcessing=!0,DATA_FILE.runAirScript({airDFID:$scope.datafile.data_file_id,username:$cookies.get("STNUsername")}).$promise.then(function(){$scope.showProcessing=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile();else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This Pressure Transducer Sensor does not have a sensor elevation.</p><p>Please update the sensor, providing a sensor elevation for both the deployed section and retrieved section. This is required for the script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.showStormSection=function(){$scope.stormSection=!0;angular.forEach(allEventDataFiles,function(df){df.selected=!1,df.distance=calcDistance(df.latitude_dd,df.longitude_dd),(void 0===df.script_parent||"true"==df.script_parent)&&$scope.eventDataFiles.push(df)}),$scope.eventDataFiles.sort(function(a,b){return parseFloat(a.distance)-parseFloat(b.distance)})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.pagination={currentPage:1,maxPaginationSize:200},$scope.itemsPerPage=10,$scope.updatePageIndexes=function(a){console.log("Page changed to: "+$scope.pagination.currentPage),$scope.firstIndex=($scope.pagination.currentPage-1)*$scope.itemsPerPage,$scope.lastIndex=$scope.pagination.currentPage*$scope.itemsPerPage},$scope.updatePageIndexes(),$scope.updateChosenAirRadio=function(dfile){for(var i=0;i<$scope.eventDataFiles.length;i++)dfile.data_file_id!=$scope.eventDataFiles[i].data_file_id&&($scope.eventDataFiles[i].selected="false")};var runTheStormScript=function(airDF){INSTRUMENT.getFullInstrument({id:airDF.instrument_id}).$promise.then(function(airSensor){var waterDF=(airSensor.instrument_status,$scope.datafile.data_file_id),boolVal=$scope.is4Hz.selected;DATA_FILE.runStormScript({seaDFID:waterDF,airDFID:airDF.data_file_id,hertz:boolVal,username:$cookies.get("STNUsername")}).$promise.then(function(){},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error running Air Script: "+errorResponse.headers(["usgswim-messages"]):"Error running Air Script: "+errorResponse.statusText)}),Site_Script.setIsScriptRunning("true"),$scope.cancelFile()},function(error){toastr.error("Error retrieving Air Sensor: "+error.statusText)})};if($scope.runStormScript=function(){var airDF=$scope.eventDataFiles.filter(function(d){return"true"==d.selected})[0];if(void 0!==airDF){var waterFile=$scope.sensorFiles.filter(function(f){return f.data_file_id==$scope.datafile.data_file_id})[0],watAirIDS=waterFile.file_id+"_"+airDF.file_id,alreadyRan=!1;if($scope.sensorFiles.forEach(function(sensFile){sensFile.script_parent==watAirIDS&&(alreadyRan=!0)}),alreadyRan){var rerunStormModal=$uibModal.open({backdrop:"static",keyboard:!1,template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The Storm Script has already been processed for this sensor data file with this air data file. Would you like to delete the output files and rerun the script?</p><div class="modal-footer"><button class="btn btn-warning" ng-enter="no()" ng-click="no()">Cancel</button><button class="btn btn-primary" ng-enter="yes()" ng-click="yes()">Rerun Script</button></div>',controller:["$scope","$uibModalInstance","theAirFile","theWaterFile",function($scope,$uibModalInstance,theAirFile,theWaterFile){
$scope.no=function(){$uibModalInstance.dismiss()},$scope.yes=function(){var filesArray=[theAirFile,theWaterFile];$uibModalInstance.close(filesArray)}}],size:"sm",resolve:{theAirFile:function(){return airDF},theWaterFile:function(){return waterFile}}});rerunStormModal.result.then(function(bothFiles){$scope.showProcessing=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds");var processedFileCount=$scope.sensorFiles.filter(function(f){return f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()}),matchCnt=0;$scope.sensorFiles.forEach(function(f){if(f.script_parent==bothFiles[1].file_id.toString()+"_"+bothFiles[0].file_id.toString()){{f.file_id}FILE["delete"]({id:f.file_id}).$promise.then(function(){matchCnt++,$scope.sensorFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.sensImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),matchCnt==processedFileCount.length&&runTheStormScript(airDF)},function(errorResponse){toastr.error("Error deleting output file: "+errorResponse.statusText)})}})})}else runTheStormScript(airDF)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please choose an air data file to use for the storm script.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartOptions2={},$scope.chartData=[],Array.prototype.zip=function(arr){return this.map(function(e,i){return[e,arr[i]]})},$scope.runChopper=function(){if($scope.chartData=[],$scope.chartOptions2={},$scope.chopperResponse2=!1,$scope.chopperResponse2Keys=[],$scope.chartObj&&($scope.chartObj.xAxis[0].removePlotLine("start"),$scope.chartObj.xAxis[0].removePlotLine("end")),void 0!==$scope.aFile.File){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var fileParts={FileEntity:{site_id:$scope.thisSensorSite.site_id,instrument_id:thisSensor.instrument_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),$scope.smlallLoaderGo=!0,DATA_FILE.runChopperScript(fd).$promise.then(function(response){if($scope.smlallLoaderGo=!1,$scope.chopperResponse2Keys=Object.keys(response),response.Error){var errorMessage=response.Error;$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error running the chopper.</p><p>Error: {{errorMessage}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance","message",function($scope,$uibModalInstance,message){$scope.errorMessage=message,$scope.ok=function(){$uibModalInstance.dismiss()}}],resolve:{message:function(){return errorMessage}},size:"sm"})}else $scope.chartData=response.time.zip(response.pressure),$scope.chartOptions2={chart:{events:{load:function(){$scope.chartObj=this}},zoomType:"x",panning:!0,panKey:"shift"},boostThreshold:2e3,plotOptions:{series:{events:{click:function(event){var pointClick=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Would you like to set this ({{thisDate}}) as:</p><div style="text-align:center;"><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="start" />Good Start Date</span><span class="radio-inline"><input type="radio" name="whichDate" ng-model="whichDate" value="end" />Good End Date</span></div></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance","chosenDate","xEvent",function($scope,$uibModalInstance,chosenDate,xEvent){$scope.ok=function(){if(""==$scope.whichDate)alert("No Date chosen");else{var parts=[$scope.whichDate,chosenDate,xEvent];$uibModalInstance.close(parts)}},$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.whichDate="",$scope.thisDate=new Date(chosenDate)}],resolve:{chosenDate:event.point.category,xEvent:event.chartX},size:"sm"});pointClick.result.then(function(parts){var chart=$scope.chartObj.xAxis[0];chart.removePlotLine(parts[0]),chart.addPlotLine({value:chart.toValue(parts[2]),color:"start"==parts[0]?"#00ff00":"#ff0000",width:2,id:parts[0],zIndex:19999,label:{text:parts[0]}});var theDate=new Date(parts[1]).toISOString(),d=getDateTimeParts(theDate);"start"==parts[0]?$scope.datafile.good_start=d:$scope.datafile.good_end=d})}},allowPointSelect:!0,cursor:"pointer",point:{events:{mouseOver:function(){this.series.halo&&this.series.halo.attr({"class":"highcharts-tracker"}).toFront()}}},marker:{enabled:!1}}},title:{text:"Preview of Pressure Data"},subtitle:{text:"Click and drag to zoom in. Hold down shift key to pan. To select Good Start/End Date, click point on line."},xAxis:{title:{text:$scope.chopperResponse2Keys[1]},type:"datetime",dateTimeLabelFormats:{second:"%Y-%m-%d<br/>%H:%M:%S",minute:"%Y-%m-%d<br/>%H:%M",hour:"%Y-%m-%d<br/>%H:%M",day:"%Y<br/>%m-%d",week:"%Y<br/>%m-%d",month:"%Y-%m",year:"%Y"},offset:10},yAxis:{title:{text:$scope.chopperResponse2Keys[0]},labels:{format:"{value} psi"},offset:10},series:[{data:$scope.chartData}]},$scope.chopperResponse2=!0},function(error){console.log(error)})}else alert("You need to choose a file first")},$scope.sensorDataNWIS){$scope.sensorNWISFiles=[];for(var ai=$scope.sensorFiles.length-1;ai>=0;ai--)1==$scope.sensorFiles[ai].is_nwis&&($scope.sensorNWISFiles.push($scope.sensorFiles[ai]),$scope.sensorFiles.splice(ai,1));var dt=getTimeZoneStamp();$scope.NWISFile={},$scope.NWISDF={}}$scope.showNWISFile=function(f){$scope.existFileIndex=-1,$scope.allSFileIndex=-1,0!==f?($scope.existFileIndex=$scope.sensorNWISFiles.indexOf(f),$scope.allSFileIndex=$scope.allSFiles.indexOf(f),$scope.NWISFile=angular.copy(f),$scope.NWISFile.file_date=new Date($scope.NWISFile.file_date),$scope.NWISFile.FileType="Data",DATA_FILE.query({id:f.data_file_id}).$promise.then(function(df){$scope.NWISDF=df,$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$scope.NWISDF.processor_id})[0],$scope.NWISDF.collect_date=new Date($scope.NWISDF.collect_date),$scope.NWISDF.good_start=getDateTimeParts($scope.NWISDF.good_start),$scope.NWISDF.good_end=getDateTimeParts($scope.NWISDF.good_end)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})):($scope.NWISFile={file_date:new Date,filetype_id:2,name:"https://waterdata.usgs.gov/nwis/uv?site_no="+$scope.thisSensorSite.usgs_sid,path:"<link>",FileType:"Data",site_id:$scope.sensor.site_id,data_file_id:0,instrument_id:$scope.sensor.instrument_id,is_nwis:1},$scope.NWISDF={processor_id:$cookies.get("mID"),instrument_id:$scope.sensor.instrument_id,collect_date:dt[0],time_zone:dt[1],good_start:new Date,good_end:new Date},$scope.nwisProcessor=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]),$scope.showNWISFileForm=!0};var postApprovalForNWISfile=function(DFid){DATA_FILE.approveNWISDF({id:DFid}).$promise.then(function(approvalResponse){$scope.NWISFile.approval_id=approvalResponse.approval_id},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving nwis data file: "+errorResponse.statusText)})};$scope.createNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}var datafileID=0;DATA_FILE.save($scope.NWISDF).$promise.then(function(NdfResponse){datafileID=NdfResponse.data_file_id,$scope.NWISFile.data_file_id=NdfResponse.data_file_id,postApprovalForNWISfile(NdfResponse.data_file_id),FILE.save($scope.NWISFile).$promise.then(function(Fresponse){toastr.success("File Data saved"),Fresponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles.push(Fresponse),$scope.allSFiles.push(Fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){DATA_FILE["delete"]({id:datafileID}),$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file's data file: "+errorResponse.statusText)})}},$scope.saveNWISFile=function(valid){var s=$scope.NWISDF.good_start,e=$scope.NWISDF.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}if(valid){if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json","UTC"!=$scope.NWISDF.time_zone){var utcStartDateTime=new Date($scope.NWISDF.good_start).toUTCString(),utcEndDateTime=new Date($scope.NWISDF.good_end).toUTCString();$scope.NWISDF.good_start=utcStartDateTime,$scope.NWISDF.good_end=utcEndDateTime,$scope.NWISDF.time_zone="UTC"}else{var si=$scope.NWISDF.good_start.toString().indexOf("GMT")+3,ei=$scope.NWISDF.good_end.toString().indexOf("GMT")+3;$scope.NWISDF.good_start=$scope.NWISDF.good_start.toString().substring(0,si),$scope.NWISDF.good_end=$scope.NWISDF.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.NWISDF.data_file_id},$scope.NWISDF).$promise.then(function(){FILE.update({id:$scope.NWISFile.file_id},$scope.NWISFile).$promise.then(function(fileResponse){toastr.success("File Data Updated"),fileResponse.fileBelongsTo="DataFile File",$scope.sensorNWISFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis file: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving nwis data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving nwis data file: "+errorResponse.statusText)})}},$scope.deleteNWISFile=function(){var DeleteModalInstance=$uibModal.open({backdrop:"static",keyboard:!1,templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.NWISFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.sensorNWISFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showNWISFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelNWISFile=function(){$scope.NWISFile={},$scope.NWISDF={},$scope.showNWISFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("sensorCtrl",["$scope","$rootScope","$q","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Instrument_Service","thisSiteSensors","allSensorBrands","allAgencies","allVertDatums","allDeployTypes","allSensorTypes","allHousingTypes","allEvents","allFileTypes","INSTRUMENT","INSTRUMENT_STATUS","SITE","MEMBER","DEPLOYMENT_TYPE","STATUS_TYPE","INST_COLL_CONDITION","DATA_FILE",function($scope,$rootScope,$q,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Instrument_Service,thisSiteSensors,allSensorBrands,allAgencies,allVertDatums,allDeployTypes,allSensorTypes,allHousingTypes,allEvents,allFileTypes,INSTRUMENT,INSTRUMENT_STATUS,SITE,MEMBER,DEPLOYMENT_TYPE,STATUS_TYPE,INST_COLL_CONDITION,DATA_FILE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.sensorCount={total:thisSiteSensors.length},$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.sensDepTypes=allSensorTypes,$scope.showProposed=!1;for(var s=0;s<thisSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=thisSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);thisSiteSensors[s].instrument_status=[],thisSiteSensors[s].instrument_status=correctOrderSS}$scope.SiteSensors=thisSiteSensors,Instrument_Service.setAllSiteSensors($scope.SiteSensors);var SensFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype});$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,event_id:response.event_id,location_description:response.location_description,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.SiteSensors.push(createdPropSensor),$scope.sensorCount={total:$scope.SiteSensors.length};for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating sensor: "+errorResponse.statusText)})}},$scope.showRetrieveModal=function(sensorClicked){var indexClicked=$scope.SiteSensors.indexOf(sensorClicked),allindex=thisSiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"SensorRetrievalModal.html",controller:"sensorRetrievalModalCtrl",size:"lg",backdrop:"static",windowClass:"rep-dialog",resolve:{thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allEventList:function(){return allEvents},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allVDatumList:function(){return allVertDatums}}});modalInstance.result.then(function(retrievedSensor){if("retrieved"==retrievedSensor[1]&&($scope.SiteSensors[indexClicked]=retrievedSensor[0],thisSiteSensors[allindex]=retrievedSensor[0]),"deletedR"==retrievedSensor[1]){var indexClicked1=$scope.SiteSensors.indexOf(sensorClicked);$scope.SiteSensors.splice(indexClicked1,1),$scope.sensorCount.total=$scope.SiteSensors.length}$rootScope.stateIsLoading.showLoading=!1})},$scope.showProposedSensor=function(proposedSensorClicked){var propIndex=$scope.SiteSensors.indexOf(proposedSensorClicked),propModalInstance=$uibModal.open({templateUrl:"ProposedSensor.html",controller:["$scope","$uibModalInstance","proposedSensor",function($scope,$uibModalInstance,proposedSensor){$scope.thisProposedSensor=proposedSensor,$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.deleteProposed=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return"Proposed Sensor"},what:function(){return"Proposed Sensor"}}});DeleteModalInstance.result.then(function(){$uibModalInstance.close("delete")})}}],size:"sm",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{proposedSensor:function(){return proposedSensorClicked}}});propModalInstance.result.then(function(d){"delete"==d&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),INSTRUMENT["delete"]({id:proposedSensorClicked.instrument_id}).$promise.then(function(){thisSiteSensors.splice(propIndex,1),$scope.SiteSensors=thisSiteSensors,$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors),toastr.success("Proposed sensor deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error deleting proposed sensor: "+errorResponse.statusText)}))})},$scope.showSensorModal=function(sensorClicked){var passAllLists=[allSensorTypes,allSensorBrands,allHousingTypes,allEvents,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:0===sensorClicked||4===sensorClicked.instrument_status[0].status_type_id?"Sensormodal.html":"DepSensormodal.html",controller:"sensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdSensor){var i=$scope.SiteSensors.indexOf(sensorClicked),si=thisSiteSensors.indexOf(sensorClicked);"proposedDeployed"==createdSensor[1]&&($scope.SiteSensors[i]=createdSensor[0],thisSiteSensors[si]=createdSensor[0],Instrument_Service.setAllSiteSensors($scope.SiteSensors)),"newDeployed"==createdSensor[1]&&($scope.SiteSensors.push(createdSensor[0]),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),void 0===createdSensor[1]&&($scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1),"deleted"==createdSensor[1]&&($scope.SiteSensors.splice(i,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)),$rootScope.stateIsLoading.showLoading=!1})},$scope.showFullSensorModal=function(sensorClicked){var deployedStuff=[allSensorTypes,allSensorBrands,allHousingTypes,SensFileTypes,allVertDatums],indexClicked=$scope.SiteSensors.indexOf(sensorClicked);$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"fullSensormodal.html",controller:"fullSensorModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDepDropdowns:function(){return deployedStuff},allStatusTypes:function(){return STATUS_TYPE.getAll().$promise},allInstCollCond:function(){return INST_COLL_CONDITION.getAll().$promise},allEvents:function(){return allEvents},allDepTypes:function(){return DEPLOYMENT_TYPE.getAll().$promise},thisSensor:function(){return 0!==sensorClicked?sensorClicked:"empty"},SensorSite:function(){return SITE.query({id:thisSite.site_id}).$promise},siteOPs:function(){return SITE.getSiteOPs({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventDataFiles:function(){return DATA_FILE.getEventDataView({eventId:sensorClicked.event_id}).$promise}}});modalInstance.result.then(function(createdSensor){"deleted"==createdSensor[1]?($scope.SiteSensors.splice(indexClicked,1),$scope.sensorCount.total=$scope.SiteSensors.length,Instrument_Service.setAllSiteSensors($scope.SiteSensors)):$scope.SiteSensors[indexClicked]=createdSensor[0],$rootScope.stateIsLoading.showLoading=!1})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteSensors=thisSiteSensors.filter(function(h){return h.event_id==$cookies.get("SessionEventID")||4==h.instrument_status[0].status_type_id}),$scope.sensorCount={total:$scope.SiteSensors.length}):($scope.SiteSensors=thisSiteSensors,$scope.sensorCount={total:$scope.SiteSensors.length})})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("submitReportCtrl",["$scope","$http","$cookies","$uibModal","$state","CONTACT","REPORT",function($scope,$http,$cookies,$uibModal,$state,CONTACT,REPORT){if($scope.$parent.needToComplete!==!0)$scope.$parent.newReport={report_date:new Date};else{var yr=$scope.newReport.report_date.substr(0,4),mo=$scope.newReport.report_date.substr(5,2),day=$scope.newReport.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr)}$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.status={openContacts:!1,openCounts:!1,openPersonnel:!1};$scope.$parent.needToComplete=!1,void 0===$scope.newReport.reporting_metrics_id&&($scope.disabled=!0),$scope.getEventName=function(evID){var name,thisEvent=$scope.events.filter(function(e){return e.event_id==evID})[0];return name=thisEvent.event_name};var getReportContacts=function(reportID){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:reportID},function(response){$scope.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise,$scope.disabled=!1},postReportContacts=function(reportID){angular.equals({},$scope.DeployStaff)||void 0===$scope.DeployStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:1},$scope.DeployStaff,function(response1){toastr.success("Deploy Staff Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse.statusText)}).$promise,angular.equals({},$scope.GenStaff)||void 0===$scope.GenStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:2},$scope.GenStaff,function(response2){toastr.success("General Staff Updated")},function(errorResponse2){toastr.error(void 0!==errorResponse2.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse2.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse2.statusText)}).$promise,angular.equals({},$scope.InlandStaff)||void 0===$scope.InlandStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:3},$scope.InlandStaff,function(response3){toastr.success("Inland Staff Updated")},function(errorResponse3){toastr.error(void 0!==errorResponse3.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse3.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse3.statusText)}).$promise,angular.equals({},$scope.CoastStaff)||void 0===$scope.CoastStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:4},$scope.CoastStaff,function(response4){toastr.success("Coastal Staff Updated")},function(errorResponse4){toastr.error(void 0!==errorResponse4.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse4.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse4.statusText)}).$promise,angular.equals({},$scope.WaterStaff)||void 0===$scope.WaterStaff||REPORT.addReportContact({reportId:reportID,contactTypeId:5},$scope.WaterStaff,function(response5){toastr.success("Water Staff Updated")},function(errorResponse5){toastr.error(void 0!==errorResponse5.headers(["usgswim-messages"])?"Error adding report contact: "+errorResponse5.headers(["usgswim-messages"]):"Error adding report contact: "+errorResponse5.statusText)}).$promise},removeIncomplete=function(){for(var index=0,i=0;i<$scope.memberIncompletes.length;i++)$scope.memberIncompletes[i].reporting_metrics_id==$scope.newReport.reporting_metrics_id&&(index=i,i=$scope.memberIncompletes.length);$scope.memberIncompletes.splice(index,1)},PostPutReportAndReportContacts=function(){$scope.newReport.report_date=$scope.newReport.report_date.toDateString(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.newReport.reporting_metrics_id?REPORT.update({id:$scope.newReport.reporting_metrics_id},$scope.newReport,function(response){toastr.success("Report Updated"),$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id),1==$scope.newReport.complete&&(removeIncomplete(),$scope.isCompleted=!0),postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating report: "+errorResponse.headers(["usgswim-messages"]):"Error updating report: "+errorResponse.statusText)}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")}):REPORT.save($scope.newReport,function(response){toastr.success("Report Created"),$scope.reports.push(response),1==$scope.newReport.complete?(removeIncomplete(),$scope.isCompleted=!0,$scope.newReport.event_name=$scope.getEventName($scope.newReport.event_id)):$scope.memberIncompletes.push(response),$scope.newReport.reporting_metrics_id=response.reporting_metrics_id,postReportContacts($scope.newReport.reporting_metrics_id)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving report: "+errorResponse.headers(["usgswim-messages"]):"Error saving report: "+errorResponse.statusText);

}).$promise.then(function(){$scope.fullReportForm.submit.$setPristine(),$scope.fullReportForm.submit.event_id.$viewValue=void 0,$state.go("reporting.reportDash")})};$scope.populateYestTots=function(){if(void 0!==$scope.newReport.report_date&&void 0!==$scope.newReport.state&&void 0!==$scope.newReport.event_id){var formatDate=new Date($scope.newReport.report_date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var myDate=formatDate,theState=$scope.newReport.state,eID=$scope.newReport.event_id;$scope.disabled=!1,$scope.newReport={report_date:$scope.newReport.report_date,state:theState,event_id:eID},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={};var previousDay=new Date(myDate);previousDay.setHours(0,0,0,0),previousDay=previousDay.toISOString().substr(0,10);var yesterdayRpt=$scope.reports.filter(function(r){var repDate=r.report_date.toString().substring(0,10);return r.event_id==$scope.newReport.event_id&&r.state==$scope.newReport.state&&repDate==previousDay})[0];$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==yesterdayRpt?($scope.newReport.yest_fieldpers=yesterdayRpt.tod_fieldpers,$scope.newReport.yest_officepers=yesterdayRpt.tod_officepers,getReportContacts(yesterdayRpt.reporting_metrics_id)):($scope.newReport.yest_fieldpers=0,$scope.newReport.yest_officepers=0),REPORT.getDailyReportTots({Date:myDate,Event:$scope.newReport.event_id,State:$scope.newReport.state},function(response6){$scope.newReport.dep_rapdepl_gage=response6.dep_rapdepl_gage,$scope.newReport.rec_rapdepl_gage=response6.rec_rapdepl_gage,$scope.newReport.lost_rapdepl_gage=response6.lost_rapdepl_gage,$scope.newReport.dep_wtrlev_sensor=response6.dep_wtrlev_sensor,$scope.newReport.rec_wtrlev_sensor=response6.rec_wtrlev_sensor,$scope.newReport.lost_wtrlev_sensor=response6.lost_wtrlev_sensor,$scope.newReport.dep_wv_sens=response6.dep_wv_sens,$scope.newReport.rec_wv_sens=response6.rec_wv_sens,$scope.newReport.lost_wv_sens=response6.lost_wv_sens,$scope.newReport.dep_barometric=response6.dep_barometric,$scope.newReport.rec_barometric=response6.rec_barometric,$scope.newReport.lost_barometric=response6.lost_barometric,$scope.newReport.dep_meteorological=response6.dep_meteorological,$scope.newReport.rec_meteorological=response6.rec_meteorological,$scope.newReport.lost_meteorological=response6.lost_meteorological,$scope.newReport.hwm_flagged=response6.hwm_flagged,$scope.newReport.hwm_collected=response6.hwm_collected},function(errorResponse6){toastr.error(void 0!==errorResponse6.headers(["usgswim-messages"])?"Error getting report totals: "+errorResponse6.headers(["usgswim-messages"]):"Error getting report totals: "+errorResponse6.statusText)})}else alert("Please choose a date, event and state first.")},$scope.saveReport=function(valid){if(void 0===$scope.newReport.complete||0===$scope.newReport.complete){var modalInstance=$uibModal.open({templateUrl:"saveReportModal.html",controller:"confirmReportModalCtrl",size:"sm"});modalInstance.result.then(function(){$scope.newReport.complete=0,$scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()})}else valid?($scope.newReport.member_id=$scope.MemberLoggedIn.member_id,PostPutReportAndReportContacts()):($scope.status.openContacts=!0,$scope.status.openCounts=!0,$scope.status.openPersonnel=!0,angular.element("[name='"+$scope.fullReportForm.submit.$name+"']").find(".ng-invalid:visible:first").focus())},$scope.populateDeployer=function(){$scope.DeployStaff=$scope.MemberLoggedIn},$scope.getIncompleteReport=function(){var reportId=this.ir.reporting_metrics_id;REPORT.query({id:reportId},function(response){$scope.newReport=response;var yr=response.report_date.substr(0,4),mo=response.report_date.substr(5,2),day=response.report_date.substr(8,2);$scope.newReport.report_date=new Date(mo+"/"+day+"/"+yr),$scope.fullReportForm.submit.$setDirty(),getReportContacts(reportId)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)}).$promise},void 0!==$scope.newReport.reporting_metrics_id&&getReportContacts($scope.newReport.reporting_metrics_id)}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("reportModalCtrl",["$scope","$uibModalInstance","report","submitPerson","contacts",function($scope,$uibModalInstance,report,submitPerson,contacts){$scope.ReportView={},$scope.ReportView.Report=report,$scope.ReportView.submitter=submitPerson,$scope.ReportView.deployStaff=contacts.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.ReportView.generalStaff=contacts.filter(function(d){return"General"==d.contactType})[0],$scope.ReportView.inlandStaff=contacts.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.ReportView.coastStaff=contacts.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.ReportView.waterStaff=contacts.filter(function(d){return"Water Quality"==d.contactType})[0],$scope.print=function(){window.print()},$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingDashCtrl",["$scope","$cookies","$filter","$uibModal","$state","$http","CONTACT","MEMBER","allReportsAgain",function($scope,$cookies,$filter,$uibModal,$state,$http,CONTACT,MEMBER,allReportsAgain){$scope.reportsToDate=allReportsAgain,$scope.todayRpts=[],$scope.yesterdayRpts=[],$scope.pickDateRpts=[],$scope.pickAdateReports=!1,$scope.today=new Date,$scope.today.setHours(0,0,0,0),$scope.yesterday=new Date($scope.today),$scope.yesterday.setDate($scope.today.getDate()-1),$scope.today=$scope.today.toISOString().substr(0,10),$scope.yesterday=$scope.yesterday.toISOString().substr(0,10),$scope.THIS_DATE={},$scope.ViewReport=function(r){var modalInstance=$uibModal.open({templateUrl:"ViewReport.html",controller:"reportModalCtrl",size:"lg",windowClass:"rep-dialog",resolve:{report:function(){return r},submitPerson:function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var member={};return MEMBER.query({id:r.member_id},function(response){member.mem=response;var memberAgency=$scope.agencies.filter(function(a){return a.agency_id==member.mem.agency_id})[0];member.agency_name=memberAgency.agency_name,member.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,member},contacts:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:r.reporting_metrics_id}).$promise}}});modalInstance.result.then(function(r){})};var formatReport=function(repList){for(var returnList=[],i=0;i<repList.length;i++){var rep=repList[i],event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];rep.event_name=event.event_name,returnList.push(rep)}return returnList},todayReports=$scope.reportsToDate.filter(function(todayrep){var reportDate=todayrep.report_date.toString().substring(0,10);return reportDate==$scope.today});$scope.todayRpts=formatReport(todayReports);var yesterdayReports=$scope.reportsToDate.filter(function(yestrep){var reportDate=yestrep.report_date.toString().substring(0,10);return reportDate==$scope.yesterday});$scope.yesterdayRpts=formatReport(yesterdayReports),$scope.getReportsByDate=function(){if(void 0!==$scope.THIS_DATE.date){var formatDate=new Date($scope.THIS_DATE.date);formatDate.setHours(0,0,0,0),formatDate=formatDate.toISOString().substr(0,10);var thisDateReports=$scope.reportsToDate.filter(function(tdate){var reportDate=tdate.report_date.toString().substring(0,10);return reportDate==formatDate});$scope.pickDateRpts=formatReport(thisDateReports),$scope.pickAdateReports=!0}else alert("Pick a date first.")},$scope.CompleteThisReport=function(rep){$scope.$parent.newReport=rep,$scope.$parent.disabled=!1,$scope.$parent.needToComplete=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",CONTACT.getContactModel({ReportMetric:rep.reporting_metrics_id},function(response){response.length>=1?($scope.$parent.DeployStaff=response.filter(function(d){return"Deployed Staff"==d.contactType})[0],$scope.$parent.GenStaff=response.filter(function(d){return"General"==d.contactType})[0],$scope.$parent.InlandStaff=response.filter(function(d){return"Inland Flood"==d.contactType})[0],$scope.$parent.CoastStaff=response.filter(function(d){return"Coastal Flood"==d.contactType})[0],$scope.$parent.WaterStaff=response.filter(function(d){return"Water Quality"==d.contactType})[0]):($scope.$parent.DeployStaff={},$scope.$parent.GenStaff={},$scope.$parent.InlandStaff={},$scope.$parent.CoastStaff={},$scope.$parent.WaterStaff={})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating landowner contact: "+errorResponse.headers(["usgswim-messages"]):"Error creating landowner contact: "+errorResponse.statusText)}).$promise.then(function(){$state.go("reporting.submitReport")})},$scope.getProjectAlertText=function(rep){$scope.ProjectAlertParts={},$scope.ProjectAlertParts.Report=rep,$scope.ProjectAlertParts.totYestFieldPers=rep.yest_fieldpers,$scope.ProjectAlertParts.totYestOfficPers=rep.yest_officepers,$scope.ProjectAlertParts.measureCts=rep.tot_discharge_meas;var eventReports=$scope.reportsToDate.filter(function(r){return r.event_id==rep.event_id}),test=$filter("countBy")(eventReports,"state");$scope.ProjectAlertParts.stateCount=0,angular.forEach(test,function(er){$scope.ProjectAlertParts.stateCount++}),$scope.ProjectAlertParts.Event=$scope.events.filter(function(e){return e.event_id==rep.event_id})[0];var modalInstance=$uibModal.open({templateUrl:1==$scope.ProjectAlertParts.Event.event_type_id?"FloodPA.html":"HurricanePA.html",controller:"ProjAlertModalCtrl",size:"md",windowClass:"rep-dialog",resolve:{ProjAlert:function(){return $scope.ProjectAlertParts}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting report: "+errorResponse.headers(["usgswim-messages"]):"Error getting report: "+errorResponse.statusText)})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting csv: "+errorResponse.headers(["usgswim-messages"]):"Error getting csv: "+errorResponse.statusText)}))})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("reportingCtrl",["$scope","$rootScope","$cookies","$location","$http","$uibModal","memberReports","allEvents","allStates","allReports","allEventTypes","allEventStatus","allAgencies","SERVER_URL","REPORT","MEMBER",function($scope,$rootScope,$cookies,$location,$http,$uibModal,memberReports,allEvents,allStates,allReports,allEventTypes,allEventStatus,allAgencies,SERVER_URL,REPORT,MEMBER){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Reporting",$rootScope.activeMenu="report",$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){var formIsPopulated=!1;switch(fromState.url){case"/SubmitReport":void 0!==$scope.fullReportForm.submit&&(formIsPopulated=$scope.fullReportForm.submit.$dirty,formIsPopulated=void 0!==$scope.fullReportForm.submit.event_id.$viewValue?!0:formIsPopulated)}formIsPopulated&&(console.log("toState.name: "+toState.name),console.log("fromState.name: "+fromState.name),confirm("Are you sure you want to leave the Submit Report Tab? Any unsaved information will be lost.")?console.log("go to: "+toState.name):(console.log("stay at state: "+fromState.name),$rootScope.stateIsLoading.showLoading=!1,event.preventDefault()))}),$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.formatDate=function(d){var currentDt=new Date(d),mm=currentDt.getMonth()+1;mm=10>mm?"0"+mm:mm;var dd=currentDt.getDate(),yyyy=currentDt.getFullYear(),date=mm+"/"+dd+"/"+yyyy;return date},$scope.serverURL=SERVER_URL,$scope.fullReportForm={},$scope.newReport={},$scope.DeployStaff={},$scope.GenStaff={},$scope.InlandStaff={},$scope.CoastStaff={},$scope.WaterStaff={},$scope.disabled=!0,$scope.needToComplete=!1,$scope.memberIncompletes=memberReports.filter(function(ir){return 0===ir.complete}),$scope.events=allEvents,$scope.states=allStates,$scope.reports=allReports,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")},function(response){$scope.MemberLoggedIn=response;var memberAgency=allAgencies.filter(function(a){return a.agency_id==$scope.MemberLoggedIn.agency_id})[0];$scope.MemberLoggedIn.agency_name=memberAgency.agency_name,$scope.MemberLoggedIn.agency_address=memberAgency.address+", "+memberAgency.city+" "+memberAgency.state+" "+memberAgency.zip}).$promise,MEMBER.getAll().$promise.then(function(response){$scope.members=response}),$scope.agencies=allAgencies,$scope.eventTypes=allEventTypes,$scope.eventStats=allEventStatus,$scope.Statemodel={},$scope.genSummary={},$scope.filteredReports=[],$scope.genRepChange=function(){$scope.EventName=$scope.events.filter(function(e){return e.event_id==$scope.genSummary.event_id})[0];var names=[],abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){names.push(state.state_name),abbrevs.push(state.state_abbrev)}),$scope.StateNames=names.join(","),$scope.StateAbbrevs=abbrevs.join(",")},$scope.MetricDisplayModel=[],$scope.displayMetricSum=function(valid){if(valid){$scope.MetricDisplayModel=[],$scope.GenRepEventModel={},$scope.totalRow={},$scope.totalRow.notAcctForEmps=0,$scope.totalRow.cumPField=0,$scope.totalRow.yesPField=0,$scope.totalRow.todPField=0,$scope.totalRow.tomPField=0,$scope.totalRow.cumPOffice=0,$scope.totalRow.yesPOffice=0,$scope.totalRow.todPOffice=0,$scope.totalRow.tomPOffice=0,$scope.totalRow.truck=0,$scope.totalRow.boat=0,$scope.totalRow.other=0,$scope.totalRow.gageVisits=0,$scope.totalRow.gagesDown=0,$scope.totalRow.disCtoDate=0,$scope.totalRow.disCPlanned=0,$scope.totalRow.CheckMeasToDate=0,$scope.totalRow.CheckMeasPlanned=0,$scope.totalRow.indMeas=0,$scope.totalRow.ratExt=0,$scope.totalRow.peaksOfRec=0,$scope.totalRow.QWGageVis=0,$scope.totalRow.contQWGageVis=0,$scope.totalRow.contQWGageDown=0,$scope.totalRow.disQWSamples=0,$scope.totalRow.sedSamples=0,$scope.totalRow.rdgPlan=0,$scope.totalRow.rdgDep=0,$scope.totalRow.rdgRec=0,$scope.totalRow.rdgLost=0,$scope.totalRow.waterPlan=0,$scope.totalRow.waterDep=0,$scope.totalRow.waterRec=0,$scope.totalRow.waterLost=0,$scope.totalRow.wavePlan=0,$scope.totalRow.waveDep=0,$scope.totalRow.waveRec=0,$scope.totalRow.waveLost=0,$scope.totalRow.baroPlan=0,$scope.totalRow.baroDep=0,$scope.totalRow.baroRec=0,$scope.totalRow.baroLost=0,$scope.totalRow.metPlan=0,$scope.totalRow.metDep=0,$scope.totalRow.metRec=0,$scope.totalRow.metLost=0,$scope.totalRow.hwmFlag=0,$scope.totalRow.hwmCol=0;var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);REPORT.getFilteredReports({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var thisRPModel={};thisRPModel.report=result[x],$scope.totalRow.notAcctForEmps+=thisRPModel.report.sw_fieldpers_notacct+thisRPModel.report.wq_fieldpers_notacct,$scope.totalRow.cumPField+=thisRPModel.report.yest_fieldpers+thisRPModel.report.tod_fieldpers+thisRPModel.report.tmw_fieldpers,$scope.totalRow.yesPField+=thisRPModel.report.yest_fieldpers,$scope.totalRow.todPField+=thisRPModel.report.tod_fieldpers,$scope.totalRow.tomPField+=thisRPModel.report.tmw_fieldpers,$scope.totalRow.cumPOffice+=thisRPModel.report.yest_officepers+thisRPModel.report.tod_officepers+thisRPModel.report.tmw_officepers,$scope.totalRow.yesPOffice+=thisRPModel.report.yest_officepers,$scope.totalRow.todPOffice+=thisRPModel.report.tod_officepers,$scope.totalRow.tomPOffice+=thisRPModel.report.tmw_officepers,$scope.totalRow.gageVisits+=thisRPModel.report.gage_visit,$scope.totalRow.gagesDown+=thisRPModel.report.gage_down,$scope.totalRow.disCtoDate+=thisRPModel.report.tot_discharge_meas,$scope.totalRow.disCPlanned+=thisRPModel.report.plan_discharge_meas,$scope.totalRow.indMeas+=thisRPModel.report.plan_indirect_meas,$scope.totalRow.ratExt+=thisRPModel.report.rating_extens,$scope.totalRow.peaksOfRec+=thisRPModel.report.gage_peak_record,$scope.totalRow.disQWSamples+=thisRPModel.report.qw_discr_samples,$scope.totalRow.sedSamples+=thisRPModel.report.coll_sedsamples,$scope.totalRow.rdgPlan+=thisRPModel.report.plan_rapdepl_gage,$scope.totalRow.rdgDep+=thisRPModel.report.dep_rapdepl_gage,$scope.totalRow.rdgRec+=thisRPModel.report.rec_rapdepl_gage,$scope.totalRow.rdgLost+=thisRPModel.report.lost_rapdepl_gage,$scope.totalRow.waterPlan+=thisRPModel.report.plan_wtrlev_sensor,$scope.totalRow.waterDep+=thisRPModel.report.dep_wtrlev_sensor,$scope.totalRow.waterRec+=thisRPModel.report.rec_wtrlev_sensor,$scope.totalRow.waterLost+=thisRPModel.report.lost_wtrlev_sensor,$scope.totalRow.wavePlan+=thisRPModel.report.plan_wv_sens,$scope.totalRow.waveDep+=thisRPModel.report.dep_wv_sens,$scope.totalRow.waveRec+=thisRPModel.report.rec_wv_sens,$scope.totalRow.waveLost+=thisRPModel.report.lost_wv_sens,$scope.totalRow.baroPlan+=thisRPModel.report.plan_barometric,$scope.totalRow.baroDep+=thisRPModel.report.dep_barometric,$scope.totalRow.baroRec+=thisRPModel.report.rec_barometric,$scope.totalRow.baroLost+=thisRPModel.report.lost_barometric,$scope.totalRow.metPlan+=thisRPModel.report.plan_meteorological,$scope.totalRow.metDep+=thisRPModel.report.dep_meteorological,$scope.totalRow.metRec+=thisRPModel.report.rec_meteorological,$scope.totalRow.metLost+=thisRPModel.report.lost_meteorological,$scope.totalRow.hwmFlag+=thisRPModel.report.hwm_flagged,$scope.totalRow.hwmCol=thisRPModel.report.hwm_collected,$scope.MetricDisplayModel.push(thisRPModel)}$scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.GenRepEventModel.Event.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0];

var modalInstance=$uibModal.open({templateUrl:"MetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{thisReport:function(){return $scope.MetricDisplayModel},thisEvent:function(){return $scope.GenRepEventModel},theTotalRow:function(){return $scope.totalRow}},controller:["$scope","$uibModalInstance","thisReport","thisEvent","theTotalRow",function($scope,$uibModalInstance,thisReport,thisEvent,theTotalRow){$scope.Report=thisReport,$scope.Event=thisEvent,$scope.totals=theTotalRow,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})})}},$scope.displayContactsSum=function(valid){if(valid){var abbrevs=[];angular.forEach($scope.Statemodel.value,function(state){abbrevs.push(state.state_abbrev)});var abbrevString=abbrevs.join(","),thisDate=$scope.formatDate($scope.genSummary.sum_date);$scope.reportModel=[],$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",REPORT.getReportwithContacts({Event:$scope.EventName.event_id,States:abbrevString,Date:thisDate}).$promise.then(function(result){for(var x=0;x<result.length;x++){var rep={};rep.repID=result[x].reporting_metrics_id,rep.State=result[x].state,rep.report_date=result[x].report_date;var submitter=$scope.members.filter(function(m){return m.member_id==result[x].member_id})[0],submitterAgency=$scope.agencies.filter(function(a){return a.agency_id==submitter.agency_id})[0],sub={};sub.fname=submitter.fname,sub.lname=submitter.lname,sub.email=submitter.email,sub.phone=submitter.phone,sub.agencyname=submitterAgency.agency_name,sub.agencyadd=submitterAgency.city+" "+submitterAgency.state+" "+submitterAgency.zip,rep.submitter=sub,rep.depC=result[x].ReportContacts.filter(function(x){return"Deployed Staff"==x.type})[0],rep.genC=result[x].ReportContacts.filter(function(x){return"General"==x.type})[0],rep.inlC=result[x].ReportContacts.filter(function(x){return"Inland Flood"==x.type})[0],rep.coastC=result[x].ReportContacts.filter(function(x){return"Coastal Flood"==x.type})[0],rep.waterC=result[x].ReportContacts.filter(function(x){return"Water Quality"==x.type})[0],$scope.reportModel.push(rep)}setTimeout(function(){showModal()},3e3);var showModal=function(){var modalInstance=$uibModal.open({templateUrl:"ContactMetricsSummary.html",size:"lg",windowClass:"rep-dialog",resolve:{theseReports:function(){return $scope.reportModel},thisEvent:function(){return $scope.GenRepEventModel={},$scope.GenRepEventModel.Event=$scope.EventName,$scope.GenRepEventModel.EventType=$scope.eventTypes.filter(function(et){return et.event_type_id==$scope.EventName.event_type_id})[0],$scope.GenRepEventModel.EventStat=$scope.eventStats.filter(function(es){return es.event_status_id==$scope.EventName.event_status_id})[0],$scope.GenRepEventModel.Coordinator=$scope.members.filter(function(m){return m.member_id==$scope.EventName.event_coordinator})[0],$scope.GenRepEventModel.CoordAgency=$scope.agencies.filter(function(a){return a.agency_id==$scope.GenRepEventModel.Coordinator.agency_id})[0],$scope.GenRepEventModel}},controller:["$scope","$http","$uibModalInstance","theseReports","thisEvent",function($scope,$http,$uibModalInstance,theseReports,thisEvent){$scope.Reports=theseReports,$scope.Event=thisEvent,$scope.ok=function(){$uibModalInstance.dismiss("cancel")},$scope.print=function(){window.print()}}]});modalInstance.result.then(function(){})}})}},$scope.getCSVfile=function(valid){valid&&($http.defaults.headers.common.Accept="text/csv",REPORT.getReportsCSV({Event:$scope.genSummary.event_id,States:$scope.StateAbbrevs,Date:$scope.genSummary.sum_date}).$promise.then(function(result){var anchor=angular.element("<a/>"),joinedResponse=result.join(""),file=new Blob([joinedResponse],{type:"application/csv"}),fileURL=URL.createObjectURL(file);anchor.href=fileURL,anchor.download="report.csv",anchor.click()}),function(){console.log("error")})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ProjAlertModalCtrl",["$scope","$uibModalInstance","ProjAlert",function($scope,$uibModalInstance,ProjAlert){$scope.ProjAlertParts=ProjAlert,$scope.ok=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("confirmReportModalCtrl",["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("peakModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","allVertDatums","allCollectConditions","thisPeak","peakSite","allMembers","allEventHWMs","allSiteSensors","allSiteFiles","thisPeakDFs","DATA_FILE","PEAK","HWM",function($scope,$rootScope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,allVertDatums,allCollectConditions,thisPeak,peakSite,allMembers,allEventHWMs,allSiteSensors,allSiteFiles,thisPeakDFs,DATA_FILE,PEAK,HWM){$scope.serverURL=SERVER_URL,$scope.VDatumsList=allVertDatums,$scope.thisSite=peakSite,$scope.memberList=allMembers,$scope.loggedInRole=$cookies.get("usersRole");for(var determineDFPresent=function(f){for(var x=0;x<f.length;x++)if(2==f[x].filetype_id)return!0;return!1},sf=0;sf<allSiteFiles.length;sf++)("DataFile File"==allSiteFiles[sf].fileBelongsTo||"Sensor File"==allSiteFiles[sf].fileBelongsTo)&&(allSiteFiles[sf].selected=!1);for(var s=0;s<allSiteSensors.length;s++){var correctOrderSS=[],sensorStatuses=allSiteSensors[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);allSiteSensors[s].instrument_status=[],allSiteSensors[s].instrument_status=correctOrderSS}$scope.eventSiteHWMs=allEventHWMs.filter(function(h){return h.site_id==peakSite.site_id}),angular.forEach($scope.eventSiteHWMs,function(esh){esh.selected=!1,esh.files=allSiteFiles.filter(function(sf){return sf.hwm_id==esh.hwm_id&&"HWM File"==sf.fileBelongsTo})}),$scope.eventSiteSensors=allSiteSensors.filter(function(s){return s.event_id==$cookies.get("SessionEventID")});for(var evSiteSen=0;evSiteSen<$scope.eventSiteSensors.length;evSiteSen++)$scope.eventSiteSensors[evSiteSen].CollectCondition=null!==$scope.eventSiteSensors[evSiteSen].inst_collection_id&&$scope.eventSiteSensors[evSiteSen].inst_collection_id>0?allCollectConditions.filter(function(cc){return cc.id==$scope.eventSiteSensors[evSiteSen].inst_collection_id})[0].condition:"",$scope.eventSiteSensors[evSiteSen].isRetrieved="Retrieved"==$scope.eventSiteSensors[evSiteSen].instrument_status[0].status?!0:!1,$scope.eventSiteSensors[evSiteSen].files=allSiteFiles.filter(function(sf){return sf.instrument_id==$scope.eventSiteSensors[evSiteSen].instrument_id&&("DataFile File"==sf.fileBelongsTo||"Sensor File"==sf.fileBelongsTo)}),(2==$scope.eventSiteSensors[evSiteSen].sensor_type_id||5==$scope.eventSiteSensors[evSiteSen].sensor_type_id||6==$scope.eventSiteSensors[evSiteSen].sensor_type_id)&&(0===$scope.eventSiteSensors[evSiteSen].files.length?$scope.eventSiteSensors[evSiteSen].NeedDF=!0:determineDFPresent($scope.eventSiteSensors[evSiteSen].files)||($scope.eventSiteSensors[evSiteSen].NeedDF=!0));$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.chosenHWMList=[],$scope.removedChosenHWMList=[],$scope.chosenDFList=[],$scope.removedChosenDFList=[],$scope.hwmDetail=!1,$scope.HWMBox={},$scope.sensorDetail=!1,$scope.SensorBox={},$scope.dataFileDetail=!1,$scope.DFBox={},$scope.aPeak={};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate},getTimeZoneStamp=function(dsent){var d,sendThis=[];d=void 0!==dsent?new Date(dsent):new Date;var offset=d.toString().substring(35),zone="";switch(offset.substr(0,3)){case"Cen":zone="CST";break;case"Eas":zone="EST";break;case"Mou":zone="MST";break;case"Pac":zone="PST"}return sendThis=[d,zone]};$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var dealWithTimeStampb4Send=function(){if("UTC"!=$scope.aPeak.time_zone){var utcDateTime=new Date($scope.aPeak.peak_date).toUTCString();$scope.aPeak.peak_date=utcDateTime,$scope.aPeak.time_zone="UTC"}else{var i=$scope.aPeak.peak_date.toString().indexOf("GMT")+3;$scope.aPeak.peak_date=$scope.aPeak.peak_date.toString().substring(0,i)}};if($scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1,$uibModalInstance.dismiss("cancel")},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},"empty"!=thisPeak){$scope.aPeak=angular.copy(thisPeak),$scope.aPeak.peak_date={date:getDateTimeParts($scope.aPeak.peak_date),time:getDateTimeParts($scope.aPeak.peak_date)},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$scope.aPeak.member_id})[0];for(var h=0;h<$scope.eventSiteHWMs.length;h++)$scope.eventSiteHWMs[h].peak_summary_id==$scope.aPeak.peak_summary_id&&($scope.eventSiteHWMs[h].selected=!0);for(var ess=0;ess<$scope.eventSiteSensors.length;ess++)for(var essI=ess,df=0;df<$scope.eventSiteSensors[essI].files.length;df++){var isThere=thisPeakDFs.filter(function(pdf){return pdf.data_file_id==$scope.eventSiteSensors[essI].files[df].data_file_id})[0];void 0!==isThere&&($scope.eventSiteSensors[essI].files[df].selected=!0)}}else{var timeParts=getTimeZoneStamp();$scope.aPeak={peak_date:{date:timeParts[0],time:timeParts[0]},time_zone:timeParts[1],member_id:$cookies.get("mID")},$scope.PeakCreator=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0]}$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})};var formatSelectedHWM=function(h){var fhwm={};return fhwm.approval_id=h.approval_id,fhwm.hwm_label=h.hwm_label,fhwm.bank=h.bank,fhwm.elev_ft=h.elev_ft,fhwm.event_id=h.event_id,fhwm.flag_date=h.flag_date,fhwm.flag_member_id=h.flag_member_id,fhwm.hcollect_method_id=h.hcollect_method_id,fhwm.hdatum_id=h.hdatum_id,fhwm.height_above_gnd=h.height_above_gnd,fhwm.hwm_environment=h.hwm_environment,fhwm.hwm_id=h.hwm_id,fhwm.hwm_locationdescription=h.hwm_locationdescription,fhwm.hwm_notes=h.hwm_notes,fhwm.hwm_uncertainty=h.hwm_uncertainty,fhwm.uncertainty=h.uncertainty,fhwm.hwm_quality_id=h.hwm_quality_id,fhwm.hwm_type_id=h.hwm_type_id,fhwm.latitude_dd=h.latitude_dd,fhwm.longitude_dd=h.longitude_dd,fhwm.marker_id=h.marker_id,fhwm.peak_summary_id=h.peak_summary_id,fhwm.site_id=h.site_id,fhwm.stillwater="No"==h.stillwater?0:1,fhwm.survey_date=h.survey_date,fhwm.survey_member_id=h.survey_member_id,fhwm.vcollect_method_id=h.vcollect_method_id,fhwm.vdatum_id=h.vdatum_id,fhwm.waterbody=h.waterbody,fhwm};$scope.addHWM=function(h){var aHWM=formatSelectedHWM(h);if(h.selected===!0)$scope.chosenHWMList.push(aHWM);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenHWMList.push(dataFile),$scope.chosenHWMList.length>0){var ind=$scope.chosenHWMList.map(function(hwm){return hwm.hwm_id}).indexOf(aHWM.hwm_id);$scope.chosenHWMList.splice(ind,1)}},$scope.showHWMDetails=function(h){$scope.hwmDetail=!0,$scope.sensorDetail=!1,$scope.dataFileDetail=!1,$scope.HWMBox=h},$scope.primaryHWM=function(h){var setPrimHWM=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary HWM? Doing so will populate the Peak Date (not including time), Stage, Vertical Datum and Height Above Ground.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimHWM.result.then(function(setIt){if("Yes"==setIt){$scope.aPeak.peak_date.date=new Date(h.flag_date),$scope.aPeak.peak_stage=h.elev_ft,$scope.aPeak.vdatum_id=h.vdatum_id,$scope.aPeak.height_above_gnd=h.height_above_gnd;var hIndex=$scope.eventSiteHWMs.indexOf(h);$scope.eventSiteHWMs[hIndex].selected=!0}})},$scope.closeDetail=function(){$scope.sensorDetail=!1,$scope.hwmDetail=!1,$scope.dataFileDetail=!1},$scope.addDataFile=function(datafile){var dataFile={};DATA_FILE.query({id:datafile.data_file_id}).$promise.then(function(response){if(dataFile=response,datafile.selected===!0)$scope.chosenDFList.push(dataFile);else if(void 0!==$scope.aPeak.peak_summary_id&&$scope.removedChosenDFList.push(dataFile),$scope.chosenDFList.length>0){var ind=$scope.chosenDFList.map(function(df){return df.data_file_id}).indexOf(datafile.data_file_id);$scope.chosenDFList.splice(ind,1)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.showSensorDetails=function(s){$scope.sensorDetail=!0,$scope.hwmDetail=!1,$scope.dataFileDetail=!1,$scope.SensorBox=s},$scope.showDataFileDetails=function(f){DATA_FILE.query({id:f.data_file_id},function(response){$scope.DFBox=response,$scope.DFBox.filePath=f.path,$scope.DFBox.fileID=f.file_id,$scope.DFBox.fileDesc=f.description,$scope.DFBox.processedBy=allMembers.filter(function(m){return m.member_id==response.processor_id})[0],$scope.DFBox.nwisFile=1==f.is_nwis?!0:!1,$scope.DFBox.fileURL=f.name,$scope.dataFileDetail=!0,$scope.hwmDetail=!1,$scope.sensorDetail=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})},$scope.primaryDataFile=function(f){var setPrimeDF=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Set as Primary</h3></div><div class="modal-body"><p>Are you sure you want to set this as the Primary Data file?</p><p>(Coming soon: Script processing to populate the Peak date, time and time zone, Stage, Vertical Datum and Height above ground)</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="SetIt()">Set as Primary</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.SetIt=function(){$uibModalInstance.close("Yes")}}],size:"sm"});setPrimeDF.result.then(function(setIt){if("Yes"==setIt){var sens=$scope.eventSiteSensors.filter(function(s){return s.instrument_id==f.instrument_id})[0],sIndex=$scope.eventSiteSensors.indexOf(sens),fIndex=sens.files.indexOf(f);$scope.eventSiteSensors[sIndex].files[fIndex].selected=!0}})},$scope.savePeak=function(valid){if(valid){var updatedPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.update({id:$scope.aPeak.peak_summary_id},$scope.aPeak).$promise.then(function(response){if($scope.removedChosenDFList.length>0)for(var remd=0;remd<$scope.removedChosenDFList.length;remd++)$scope.removedChosenDFList[remd].peak_summary_id=null,DATA_FILE.update({id:$scope.removedChosenDFList[remd].data_file_id},$scope.removedChosenDFList[remd]).$promise;if($scope.removedChosenHWMList.length>0)for(var remh=0;remh<$scope.removedChosenHWMList.length;remh++)$scope.removedChosenHWMList[remh].peak_summary_id=null,HWM.update({id:$scope.removedChosenHWMList[remh].data_file_id},$scope.removedChosenHWMList[remh]).$promise;for(var addh=0;addh<$scope.chosenHWMList.length;addh++)$scope.chosenHWMList[addh].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[addh].hwm_id},$scope.chosenHWMList[addh]).$promise;for(var addd=0;addd<$scope.chosenDFList.length;addd++)$scope.chosenDFList[addd].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[addd].data_file_id},$scope.chosenDFList[addd]).$promise;toastr.success("Peak updated"),updatedPeak=response;var sendBack=[updatedPeak,"updated"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving peak: "+errorResponse.headers(["usgswim-messages"]):"Error saving peak: "+errorResponse.statusText)})}};var updateDFwoPeakID=function(df_id){DATA_FILE.query({id:df_id}).$promise.then(function(res){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",res.peak_summary_id=null,DATA_FILE.update({id:res.data_file_id},res).$promise},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting data file: "+errorResponse.headers(["usgswim-messages"]):"Error getting data file: "+errorResponse.statusText)})};$scope.deletePeak=function(){var deletePeakMdl=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Remove Peak</h3></div><div class="modal-body"><p>Are you sure you want to delete this Peak?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button><button class="btn btn-warning" ng-click="cancel()">Cancel</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});deletePeakMdl.result.then(function(){var datetime=($scope.aPeak.peak_summary_id,new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds()));$scope.aPeak.peak_date=datetime,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK["delete"]({id:$scope.aPeak.peak_summary_id}).$promise.then(function(){for(var i=0;i<$scope.eventSiteSensors.length;i++)for(var thisS=$scope.eventSiteSensors[i],f=0;f<thisS.files.length;f++){var thisF=thisS.files[f];thisF.selected&&updateDFwoPeakID(thisF.data_file_id)}for(var h=0;h<$scope.eventSiteHWMs.length;h++){var thisH=$scope.eventSiteHWMs[h];if(thisH.selected){thisH.peak_summary_id=null;var updateThisHWM=formatSelectedHWM(thisH);HWM.update({id:thisH.hwm_id},updateThisHWM).$promise}}toastr.success("Peak Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting peak: "+errorResponse.headers(["usgswim-messages"]):"Error deleting peak: "+errorResponse.statusText)})})},$scope.createPeak=function(valid){var isHwmChecked=!1,isDFChecked=!1;if(angular.forEach($scope.eventSiteHWMs,function(shwm){shwm.selected&&(isHwmChecked=!0)}),angular.forEach($scope.eventSiteSensors,function(ssen){for(var fI=0;fI<ssen.files.length;fI++)ssen.files[fI].selected&&(isDFChecked=!0,fI=ssen.files.length)}),isHwmChecked||isDFChecked){if(valid){var createdPeak={},datetime=new Date($scope.aPeak.peak_date.date.getFullYear(),$scope.aPeak.peak_date.date.getMonth(),$scope.aPeak.peak_date.date.getDate(),$scope.aPeak.peak_date.time.getHours(),$scope.aPeak.peak_date.time.getMinutes(),$scope.aPeak.peak_date.time.getSeconds());$scope.aPeak.peak_date=datetime,dealWithTimeStampb4Send(),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",PEAK.save($scope.aPeak).$promise.then(function(response){createdPeak=response;for(var h=0;h<$scope.chosenHWMList.length;h++)$scope.chosenHWMList[h].peak_summary_id=response.peak_summary_id,HWM.update({id:$scope.chosenHWMList[h].hwm_id},$scope.chosenHWMList[h]).$promise;for(var d=0;d<$scope.chosenDFList.length;d++)$scope.chosenDFList[d].peak_summary_id=response.peak_summary_id,DATA_FILE.update({id:$scope.chosenDFList[d].data_file_id},$scope.chosenDFList[d]).$promise;toastr.success("Peak created");var sendBack=[createdPeak,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating peak: "+errorResponse.headers(["usgswim-messages"]):"Error creating peak: "+errorResponse.statusText)})}}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose at least one HWM or Data File to use for interpretation for this Peak Summary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.showIncompleteDFInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete Data File</h3></div><div class="modal-body"><p>All RDGs, Met Station, and Rain Gage sensors require data file information in order to use as primary in the Peak summary.</p><p>Please revisit the Retrieved Sensor and click on NWIS Data Connection to add a link to the NWIS data if you want to use as primary.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showIncompleteHWMInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Incomplete HWM</h3></div><div class="modal-body"><p>Survey date and elevation are required in order to use as primary in the Peak summary.</p><p>Please revisit the HWM and add Survey date and elevation if you want to use as primary.</p><p>The HWM can be used for interpreation withouth a final elevation.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$scope.showRetrieveInfo=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Deployed Sensor</h3></div><div class="modal-body"><p>This senosr needs to be retrieved before a Peak can be created.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="Ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.Ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("peakCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","Site_Files","thisSitePeaks","allVertDatums","allHWMQualities","allHWMTypes","PEAK","HWM","MEMBER","SITE","INST_COLL_CONDITION",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,Site_Files,thisSitePeaks,allVertDatums,allHWMQualities,allHWMTypes,PEAK,HWM,MEMBER,SITE,INST_COLL_CONDITION){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.peakCount={total:thisSitePeaks.length},$scope.SitePeaks=thisSitePeaks,$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SitePeaks=thisSitePeaks.filter(function(p){return p.event_name==$scope.sessionEventName}),$scope.peakCount={total:$scope.SitePeaks.length}):($scope.SitePeaks=thisSitePeaks,$scope.peakCount={total:$scope.SitePeaks.length})}),$scope.showPeakModal=function(peakClicked){$rootScope.stateIsLoading.showLoading=!0;var indexClicked=$scope.SitePeaks.indexOf(peakClicked),modalInstance=$uibModal.open({templateUrl:"PEAKmodal.html",controller:"peakModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return allVertDatums},thisPeak:function(){return 0!==peakClicked?PEAK.query({id:peakClicked.peak_summary_id}).$promise:"empty"},thisPeakDFs:function(){return 0!==peakClicked?PEAK.getPeakSummaryDFs({id:peakClicked.peak_summary_id}).$promise:void 0},peakSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$cookies.get("SessionEventID"),EventStatus:0}).$promise},allSiteFiles:function(){return Site_Files.getAllSiteFiles()},allSiteSensors:function(){return SITE.getSiteSensors({id:thisSite.site_id}).$promise}}});modalInstance.result.then(function(createdPeak){"created"==createdPeak[1]&&($scope.SitePeaks.push(createdPeak[0]),$scope.peakCount.total=$scope.SitePeaks.length),"updated"==createdPeak[1]&&($scope.SitePeaks[indexClicked]=createdPeak[0]),"deleted"==createdPeak[1]&&($scope.SitePeaks.splice(indexClicked,1),$scope.peakCount.total=$scope.SitePeaks.length),$rootScope.stateIsLoading.showLoading=!1})})}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("OPmodalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","Site_Files","allDropdowns","thisOP","thisOPControls","opSite","agencyList","allMembers","OBJECTIVE_POINT","OP_CONTROL_IDENTIFIER","OP_MEASURE","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,Site_Files,allDropdowns,thisOP,thisOPControls,opSite,agencyList,allMembers,OBJECTIVE_POINT,OP_CONTROL_IDENTIFIER,OP_MEASURE,SOURCE,FILE){$scope.serverURL=SERVER_URL,$scope.view={OPval:"detail"},$scope.fileIsUploading=!1,$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.OPTypeList=allDropdowns[0],$scope.HDList=allDropdowns[1],$scope.HCollectMethodList=allDropdowns[2],$scope.VDatumList=allDropdowns[3],$scope.VCollectMethodList=allDropdowns[4],$scope.OPQualityList=allDropdowns[5],$scope.fileTypeList=allDropdowns[6],$scope.htmlDescriptionTip=$sce.trustAsHtml("Please describe location and type of mark <em>ie. 'chiseled square on third sidewalk block on the south side of the street'</em>"),$scope.HWMfileIsUploading=!1,$scope.OP={},$scope.removeOPCarray=[],$scope.thisOPsite=opSite,$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.DMS={},$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.OPFiles="empty"!==thisOP?$scope.allSFiles.filter(function(sf){return sf.objective_point_id==thisOP.objective_point_id}):[],$scope.opImageFiles=$scope.OPFiles.filter(function(opf){return 1===opf.filetype_id}),$scope.showFileForm=!1,$scope.UnquantChecked=function(){void 0!==$scope.opCopy&&1==$scope.opCopy.unquantified&&($scope.opCopy.uncertainty="")},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.OPFiles.push(fresponse),1===fresponse.filetype_id&&($scope.opImageFiles.splice($scope.existFileIndex,1),$scope.opImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.OPFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.opImageFiles.length>0?$scope.opImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),
$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid&&($scope.fileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",null!==$scope.aSource.agency_id)){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisOPsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,objective_point_id:$scope.OP.objective_point_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Objective Point File",$scope.OPFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),FILE_STAMP.setStamp(),1===fresponse.filetype_id&&$scope.opImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.fileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="Objective Point File",$scope.OPFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.fileIsUploading=!1},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.fileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.OPFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.opImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisOP?($scope.opModalHeader="Datum Location Information",$scope.createOReditOP="edit",$scope.OP=angular.copy(thisOP),$scope.OP.date_established=makeAdate($scope.OP.date_established),0===$scope.OP.vdatum_id&&delete $scope.OP.vdatum_id,null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),thisOPControls.length>0&&($scope.addedIdentifiers=thisOPControls,$scope.showControlIDinput=!0),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:""):($scope.opModalHeader="Create new Datum Location",$scope.createOReditOP="create",$scope.OP.latitude_dd=opSite.latitude_dd,$scope.OP.longitude_dd=opSite.longitude_dd,$scope.OP.hdatum_id=opSite.hdatum_id,$scope.OP.date_established=makeAdate("")),$scope.OP.decDegORdms="dd",$scope.OP.FTorMETER="ft",$scope.OP.FTorCM="ft",$scope.addNewIdentifier=function(){"edit"==$scope.createOReditOP?$scope.addedIdentifiersCopy.push({objective_point_id:$scope.OP.objective_point_id,identifier:"",identifier_type:""}):$scope.addedIdentifiers.push({identifier:"",identifier_type:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditOP){if("dd"==$scope.opCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.opCopy.decDegORdms="dms"})}else if(void 0!==$scope.opCopy.latitude_dd){var latDMS=deg_to_dms($scope.opCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.opCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.opCopy.latitude_dd=void 0,$scope.opCopy.longitude_dd=void 0}}else if("dd"==$scope.OP.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.OP.decDegORdms="dms"})}else if(void 0!==$scope.OP.latitude_dd){var create_latDMS=deg_to_dms($scope.OP.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.OP.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.OP.latitude_dd=void 0,$scope.OP.longitude_dd=void 0}};var trimOP=function(op){var OBJ_PT={name:op.name,description:op.description,elev_ft:void 0!==op.elev_ft?op.elev_ft:null,date_established:op.date_established,op_is_destroyed:void 0!==op.op_is_destroyed?op.op_is_destroyed:0,op_notes:void 0!==op.op_notes?op.op_notes:null,site_id:$scope.thisOPsite.site_id,vdatum_id:void 0!==op.vdatum_id?op.vdatum_id:0,latitude_dd:op.latitude_dd,longitude_dd:op.longitude_dd,hdatum_id:void 0!==op.hdatum_id?op.hdatum_id:0,hcollect_method_id:void 0!==op.hcollect_method_id?op.hcollect_method_id:0,vcollect_method_id:void 0!==op.vcollect_method_id?op.vcollect_method_id:0,op_type_id:op.op_type_id,date_recovered:void 0!==op.date_recovered?op.date_recovered:null,uncertainty:void 0!==op.uncertainty&&""!==op.uncertainty?op.uncertainty:null,unquantified:void 0!==op.unquantified?op.unquantified:null,op_quality_id:void 0!==op.op_quality_id?op.op_quality_id:null};return OBJ_PT};$scope.cancel=function(){$uibModalInstance.close()};var formatDefaults=function(theOP,fromWhere){"create"==fromWhere?("meter"==theOP.FTorMETER&&($scope.OP.FTorMETER="ft",$scope.OP.elev_ft=3.2808*$scope.OP.elev_ft),"cm"==theOP.FTorCM&&($scope.OP.FTorCM="ft",$scope.OP.uncertainty=parseFloat($scope.OP.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.OP.decDegORdms="dd",$scope.OP.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.OP.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.OP.site_id=$scope.thisOPsite.site_id)):("meter"==theOP.FTorMETER&&($scope.opCopy.FTorMETER="ft",$scope.opCopy.elev_ft=3.2808*$scope.opCopy.elev_ft),"cm"==theOP.FTorCM&&($scope.opCopy.FTorCM="ft",$scope.opCopy.uncertainty=parseFloat($scope.opCopy.uncertainty/30.48).toFixed(6)),"dms"==theOP.decDegORdms&&($scope.opCopy.decDegORdms="dd",$scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={},$scope.opCopy.site_id=$scope.thisOPsite.site_id))};$scope.create=function(){if(this.OPForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdOP={};if(formatDefaults($scope.OP,"create"),$scope.OP.latitude_dd<0||$scope.OP.latitude_dd>73||isNaN($scope.OP.latitude_dd))openLatModal("latlong"),isNaN($scope.OP.latitude_dd)&&($scope.OP.latitude_dd=void 0);else if($scope.OP.longitude_dd<-175||$scope.OP.longitude_dd>-60||isNaN($scope.OP.longitude_dd))openLongModal("latlong"),isNaN($scope.OP.longitude_dd)&&($scope.OP.longitude_dd=void 0);else{var OPtoPOST=trimOP($scope.OP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(toastr.success("Datum Location created"),createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++){var thisOne=$scope.addedIdentifiers[opc];thisOne.objective_point_id=response.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOne).$promise}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating datum location: "+errorResponse.headers(["usgswim-messages"]):"Error creating datum location: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdOP,"created"];$uibModalInstance.close(sendBack)})}}},$scope.RemoveID=function(opControl){if(void 0!==$scope.addedIdentifiersCopy){var i=$scope.addedIdentifiersCopy.indexOf(opControl);void 0!==opControl.op_control_identifier_id?($scope.removeOPCarray.push(opControl),$scope.addedIdentifiersCopy.splice(i,1)):$scope.addedIdentifiersCopy.splice(i,1)}else{var ci=$scope.addedIdentifiers.indexOf(opControl);$scope.addedIdentifiers.splice(ci,1)}},$scope.save=function(valid){if(valid)if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.DMS.LADeg&&($scope.opCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.opCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.opCopy.latitude_dd<0||$scope.opCopy.latitude_dd>73||isNaN($scope.opCopy.latitude_dd))openLatModal("latlong"),isNaN($scope.opCopy.latitude_dd)&&($scope.opCopy.latitude_dd=void 0);else if($scope.opCopy.longitude_dd<-175||$scope.opCopy.longitude_dd>-60||isNaN($scope.opCopy.longitude_dd))openLongModal("latlong"),isNaN($scope.opCopy.longitude_dd)&&($scope.opCopy.longitude_dd=void 0);else{if($scope.addedIdentifiersCopy.length>0)for(var i=0;i<$scope.addedIdentifiersCopy.length;i++)if(void 0!==$scope.addedIdentifiersCopy[i].op_control_identifier_id){var existIndex=$scope.addedIdentifiers.map(function(i){return i.op_control_identifier_id}).indexOf($scope.addedIdentifiersCopy[i].op_control_identifier_id);OP_CONTROL_IDENTIFIER.update({id:$scope.addedIdentifiersCopy[i].op_control_identifier_id},$scope.addedIdentifiersCopy[i]).$promise.then(function(response){$scope.addedIdentifiers[existIndex]=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error saving control identifier: "+errorResponse.statusText)})}else{var thisOPControlID=$scope.addedIdentifiersCopy[i];thisOPControlID.objective_point_id=$scope.OP.objective_point_id,OP_CONTROL_IDENTIFIER.save(thisOPControlID).$promise.then(function(response){$scope.addedIdentifiers.push(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error creating control identifier: "+errorResponse.statusText)})}if($scope.removeOPCarray.length>0)for(var r=0;r<$scope.removeOPCarray.length;r++){var deIndex=$scope.addedIdentifiers.map(function(ri){return ri.op_control_identifier_id}).indexOf($scope.removeOPCarray[r].op_control_identifier_id);OP_CONTROL_IDENTIFIER["delete"]({id:$scope.removeOPCarray[r].op_control_identifier_id}).$promise.then(function(){$scope.addedIdentifiers.splice(deIndex,1)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting control identifier: "+errorResponse.headers(["usgswim-messages"]):"Error deleting control identifier: "+errorResponse.statusText)})}formatDefaults($scope.opCopy,"edit");var OPtoPOST=trimOP($scope.opCopy);OPtoPOST.objective_point_id=$scope.opCopy.objective_point_id,OBJECTIVE_POINT.update({id:OPtoPOST.objective_point_id},OPtoPOST,function(response){toastr.success("Datum Location updated"),$scope.OP=response,thisOP=response,$scope.OP.date_established=makeAdate($scope.OP.date_established),null!==$scope.OP.date_recovered&&($scope.OP.date_recovered=makeAdate($scope.OP.date_recovered)),$scope.OP.opType=$scope.OP.op_type_id>0?$scope.OPTypeList.filter(function(t){return t.objective_point_type_id==$scope.OP.op_type_id})[0].op_type:"",$scope.OP.quality=$scope.OP.op_quality_id>0?$scope.OPQualityList.filter(function(q){return q.op_quality_id==$scope.OP.op_quality_id})[0].quality:"",$scope.OP.hdatum=$scope.OP.hdatum_id>0?$scope.HDList.filter(function(hd){return hd.datum_id==$scope.OP.hdatum_id})[0].datum_name:"",$scope.OP.hCollectMethod=$scope.OP.hcollect_method_id>0?$scope.HCollectMethodList.filter(function(hc){return hc.hcollect_method_id==$scope.OP.hcollect_method_id})[0].hcollect_method:"",$scope.OP.vDatum=$scope.OP.vdatum_id>0?$scope.VDatumList.filter(function(vd){return vd.datum_id==$scope.OP.vdatum_id})[0].datum_name:"",$scope.OP.vCollectMethod=$scope.OP.vcollect_method_id>0?$scope.VCollectMethodList.filter(function(vc){return vc.vcollect_method_id==$scope.OP.vcollect_method_id})[0].vcollect_method:"",$scope.opCopy={},$scope.addedIdentifiersCopy=[],$scope.view.OPval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving datum location: "+errorResponse.headers(["usgswim-messages"]):"Error saving datum location: "+errorResponse.statusText)}).$promise}},$scope.deleteOP=function(){OP_MEASURE.getDatumLocationOPMeasures({objectivePointId:$scope.OP.objective_point_id}).$promise.then(function(result){if(result.length>0){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Cannot Delete</h3></div><div class="modal-body"><p>This Datum Location is being used for one or more sensor tape downs. Please delete the tape down before deleting the datum location.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}else{var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.OP},what:function(){return"Objective Point"}}});DeleteModalInstance.result.then(function(opToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),OBJECTIVE_POINT["delete"]({id:opToRemove.objective_point_id},opToRemove).$promise.then(function(){$scope.OPFiles=[],$scope.opImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].objective_point_id==opToRemove.objective_point_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("Datum Location Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting datum location: "+errorResponse.headers(["usgswim-messages"]):"Error deleting datum location: "+errorResponse.statusText)})})}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting datum location measures: "+errorResponse.headers(["usgswim-messages"]):"Error getting datum location measures: "+errorResponse.statusText)})};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d)($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)&&(openLatModal("dms"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0)),($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)&&(openLongModal("dms"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0));else{var op="edit"==$scope.view.OPval?$scope.opCopy:$scope.OP;(op.latitude_dd<0||op.latitude_dd>73||isNaN(op.latitude_dd))&&(openLatModal("latlong"),isNaN(op.latitude_dd)&&(op.latitude_dd=void 0)),(op.longitude_dd<-175||op.longitude_dd>-60||isNaN(op.longitude_dd))&&(openLongModal("latlong"),isNaN(op.longitude_dd)&&(op.longitude_dd=void 0))}},$scope.wannaEditOP=function(){$scope.view.OPval="edit",$scope.opCopy=angular.copy($scope.OP),$scope.opCopy.decDegORdms="dd",$scope.opCopy.FTorMETER="ft",$scope.opCopy.FTorCM="ft",$scope.addedIdentifiersCopy=angular.copy($scope.addedIdentifiers)},$scope.cancelOPEdit=function(){$scope.view.OPval="detail",$scope.opCopy=[]},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("objectivePointCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","OBJECTIVE_POINT","MEMBER","SITE","thisSite","thisSiteOPs","allOPTypes","allHorDatums","allHorCollMethods","allVertDatums","allVertColMethods","allOPQualities","allFileTypes","allAgencies",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,OBJECTIVE_POINT,MEMBER,SITE,thisSite,thisSiteOPs,allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,allFileTypes,allAgencies){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.opCount={total:thisSiteOPs.length},$scope.SiteObjectivePoints=thisSiteOPs,$scope.showOPModal=function(OPclicked){$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});{var passAllLists=[allOPTypes,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allOPQualities,$scope.opFileTypes];$scope.SiteObjectivePoints.indexOf(OPclicked)}$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"OPmodal.html",controller:"OPmodalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisOP:function(){return 0!==OPclicked?OPclicked:"empty"},thisOPControls:function(){return 0!==OPclicked?OBJECTIVE_POINT.getOPControls({id:OPclicked.objective_point_id}).$promise:void 0},opSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdOP){if($rootScope.stateIsLoading={showLoading:!1},void 0!==createdOP){if("created"==createdOP[1]&&($scope.SiteObjectivePoints.push(createdOP[0]),$scope.opCount.total=$scope.SiteObjectivePoints.length),void 0===createdOP[1]){var iClicked=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints[iClicked]=createdOP}if("deleted"==createdOP[1]){var indexClicked1=$scope.SiteObjectivePoints.indexOf(OPclicked);$scope.SiteObjectivePoints.splice(indexClicked1,1),$scope.opCount.total=$scope.SiteObjectivePoints.length}}})})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","$sce","roleList","agencyList","thisMember","MEMBER",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,$sce,roleList,agencyList,thisMember,MEMBER){switch($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.agencyList=agencyList,$scope.pass={newP:"",confirmP:""},$scope.newPass="",$scope.loggedInUser={},$scope.loggedInUser.Name=$cookies.get("usersName"),$scope.loggedInUser.ID=$cookies.get("mID"),$scope.loggedInUser.Role=$cookies.get("usersRole"),$scope.loggedInUser.Role){case"Admin":$scope.roleList=roleList.filter(function(r){return r.role_id<=3});break;case"Manager":$scope.roleList=roleList.filter(function(r){return 3==r.role_id})}"empty"!=thisMember?($scope.matchingUsers=thisMember.member_id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=angular.copy(thisMember),$scope.aMember.Role=roleList.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.DontChangePass=function(){$scope.changePass=!1}):($scope.aMember={},1==$scope.roleList.length&&($scope.aMember.role_id=$scope.roleList[0].role_id)),$scope.create=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.aMember.password=btoa($scope.pass.confirmP);var createdMember={};MEMBER.save($scope.aMember,function(response){toastr.success("Member Created"),createdMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];createdMember.Agency=ag.agency_name,createdMember.Role=ro.role_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating member: "+errorResponse.headers(["usgswim-messages"]):"Error creating member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdMember,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var formattedMember=angular.copy($scope.aMember);""!==$scope.pass.newP?formattedMember.password=btoa($scope.pass.newP):(delete formattedMember.password,delete formattedMember.salt);var updatedMember={};Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},delete formattedMember.Role,delete formattedMember.Agency,MEMBER.update({id:formattedMember.member_id},formattedMember,function(response){updatedMember=response;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=roleList.filter(function(r){return r.role_id==response.role_id})[0];if(updatedMember.Agency=ag.agency_name,updatedMember.Role=ro.role_name,$scope.loggedInUser.ID==response.member_id){if(""!==$scope.pass.newP){var enc=btoa(updatedMember.username.concat(":",$scope.pass.newP)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate})}$cookies.put("STNUsername",updatedMember.username);var usersNAME=updatedMember.fname+" "+updatedMember.lname;$cookies.put("usersName",usersNAME)}toastr.success("Member Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving member: "+errorResponse.headers(["usgswim-messages"]):"Error saving member: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedMember,"updated"];$uibModalInstance.close(sendBack)})}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.DeleteMember=function(mem){
var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(memToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:memToRemove.member_id},function(response){toastr.success("Member Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting member: "+errorResponse.headers(["usgswim-messages"]):"Error deleting member: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close()},$rootScope.stateIsLoading={showLoading:!1}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$stateParams","$filter","$sce","allRoles","MEMBER","thisMember",function($scope,$cookies,$location,$http,$uibModal,$stateParams,$filter,$sce,allRoles,MEMBER,thisMember){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.aMember={},$scope.matchingUsers=!0,$scope.usernameTooltip=$sce.trustAsHtml("Active Directory user ID. ie: 'mpeppler' not 'mpeppler@usgs.gov'."),$scope.DeleteMember=function(mem){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return mem},what:function(){return"Member"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),MEMBER.deleteMember({id:nameToRemove.member_id},function(response){var delMem={};delMem.member_id=nameToRemove.member_id,delMem.Name=nameToRemove.fname+" "+nameToRemove.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==nameToRemove.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==nameToRemove.role_id})[0];delMem.Agency=ag.agency_name,delMem.Role=ro.role_name,$scope.memberList.splice($scope.memberList.indexOf(delMem),1),toastr.success("Member Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Members/MembersList").replace()})})},$scope.pass={newP:"",confirmP:""},$scope.newPass="",void 0!==thisMember?($scope.matchingUsers=$stateParams.id==$scope.loggedInUser.ID?!0:!1,$scope.aMember=thisMember,$scope.aMember.Role=allRoles.filter(function(r){return r.role_id==$scope.aMember.role_id})[0].role_name,$scope.changePass=!1,$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.update({id:$scope.aMember.member_id},$scope.aMember,function(response){toastr.success("Member Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.changeMyPassBtn=function(evt){$scope.changePass=$scope.changePass===!1?!0:!1},$scope.ChangePassword=function(){if(""===$scope.pass.newP||""===$scope.pass.confirmP){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must first enter a new password.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}else MEMBER.changePW({username:$scope.aMember.username,newPass:$scope.pass.newP},function(response){if(toastr.success("Password Updated"),$scope.aMember.member_id==$scope.loggedInUser.member_id){var enc=btoa($scope.aMember.username.concat(":",$scope.pass.newP));$cookies.put("STNCreds",enc),$cookies.put("STNUsername",$scope.aMember.username),$cookies.put("usersName",$scope.loggedInUser.Name),$cookies.put("mID",$scope.aMember.member_id);var roleName;switch($scope.aMember.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName)}$scope.changePass=!1,$scope.pass.newP="",$scope.pass.confirmP=""},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)})},$scope.DontChangePass=function(){$scope.changePass=!1}):$scope.save=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.addMember({pass:$scope.pass.confirmP},$scope.aMember,function(response){toastr.success("Member Created");var nm={};nm.member_id=response.member_id,nm.Name=response.fname+" "+response.lname;var ag=$scope.agencyList.filter(function(a){return a.agency_id==response.agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response.role_id})[0];nm.Agency=ag.agency_name,nm.Role=ro.role_name,$scope.memberList.push(nm)}).$promise.then(function(){$location.path("/Members/MembersList").replace()}))})}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("memberCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","allRoles","allAgencies","userProfileId",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,allRoles,allAgencies,userProfileId){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($rootScope.thisPage="Settings/Members",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showMemberModal=function(memberClicked){var indexClicked=$scope.memberList.indexOf(memberClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"memberModal.html",controller:"memberModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisMember:function(){return 0!==memberClicked?memberClicked:"empty"},agencyList:function(){return allAgencies},roleList:function(){return allRoles}}});modalInstance.result.then(function(createdMember){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdMember&&("created"==createdMember[1]&&$scope.memberList.push(createdMember[0]),"updated"===createdMember[1]&&($scope.memberList[indexClicked]=createdMember[0]),"deleted"==createdMember[1]&&$scope.memberList.splice(indexClicked,1))})},$scope.agencyList=allAgencies,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise.then(function(response){$scope.memberList=[];for(var x=0;x<response.length;x++){var eachM=response[x],ag=$scope.agencyList.filter(function(a){return a.agency_id==response[x].agency_id})[0],ro=allRoles.filter(function(r){return r.role_id==response[x].role_id})[0];eachM.Agency=ag.agency_name,eachM.Role=ro.role_name,$scope.memberList.push(eachM)}void 0!==userProfileId&&null!==userProfileId&&MEMBER.query({id:userProfileId}).$promise.then(function(resp){$scope.showMemberModal(resp)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting member: "+errorResponse.headers(["usgswim-messages"]):"Error getting member: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting members: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}))}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSiteInfoController",["$scope","$http","$rootScope","$cookies","$location","SITE","leafletMarkerEvents","leafletBoundsHelpers","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,leafletMarkerEvents,leafletBoundsHelpers,$state,spinnerService){$scope.status={siteOpen:!0},$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.aSite=siteParts[0],$scope.aSite.latitude_dd=parseFloat($scope.aSite.latitude_dd.toFixed(6)),$scope.aSite.longitude_dd=parseFloat($scope.aSite.longitude_dd.toFixed(6)),spinnerService.hide("siteInfoSpinner")}),$scope.goToSiteDashboard=function(){$state.go("site.dashboard",{id:$scope.aSite.site_id})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapSensorProposeController",["$scope","$http","$timeout","$rootScope","$cookies","$location","SITE","INSTRUMENT","INSTRUMENT_STATUS","allDeployTypes","allSensDeps","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$http,$timeout,$rootScope,$cookies,$location,SITE,INSTRUMENT,INSTRUMENT_STATUS,allDeployTypes,allSensDeps,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.thisSite=siteParts[0],$scope.status.sensorOpen=!1,$scope.ProposedSensors4Site=[],$scope.showProposed=!1}),$scope.deployTypeList=angular.copy(allDeployTypes);for(var tempDepTypeID=0,d=0;d<$scope.deployTypeList.length;d++)"Temperature"===$scope.deployTypeList[d].method&&(tempDepTypeID=$scope.deployTypeList[d].deployment_type_id,$scope.deployTypeList[d].method="Temperature (Met sensor)");$scope.deployTypeList.push({deployment_type_id:tempDepTypeID,method:"Temperature (Pressure Transducer)"}),$scope.getProposedSensors=function(){SITE.getSiteSensors({id:$scope.thisSite.site_id}).$promise.then(function(sResponse){for(var s=0;s<sResponse.length;s++){var correctOrderSS=[],sensorStatuses=sResponse[s].instrument_status;if(sensorStatuses.length>1){var proposedStat=sensorStatuses.filter(function(ps){return"Proposed"==ps.status})[0],deployedStat=sensorStatuses.filter(function(ps){return"Deployed"==ps.status})[0],retLostStat=sensorStatuses.filter(function(ps){return"Retrieved"==ps.status||"Lost"==ps.status})[0];retLostStat&&correctOrderSS.push(retLostStat),deployedStat&&correctOrderSS.push(deployedStat),proposedStat&&correctOrderSS.push(proposedStat)}else correctOrderSS.push(sensorStatuses[0]);sResponse[s].instrument_status=[],sResponse[s].instrument_status=correctOrderSS}$scope.ProposedSensors4Site=sResponse.filter(function(ss){return 4==ss.instrument_status[0].status_type_id})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site sensors: "+errorResponse.headers(["usgswim-messages"]):"Error getting site sensors: "+errorResponse.statusText)})},$scope.sensDepTypes=allSensDeps,$scope.showProposed=!1,$scope.status={sensorOpen:!1},$scope.showHideProposed=function(){$scope.showProposed=!$scope.showProposed},$scope.cancelProposing=function(){$scope.showProposed=!1},$scope.AddProposed=function(){for(var Time_STAMP=new Date,dt=0;dt<$scope.deployTypeList.length;dt++)if($scope.deployTypeList[dt].selected===!0){var proposedToAdd={},propStatToAdd={};if("Temp"==$scope.deployTypeList[dt].method.substring(0,4))proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:"Temperature (Pressure Transducer)"==$scope.deployTypeList[dt].method?1:2};else{var sID=0;angular.forEach($scope.sensDepTypes,function(sdt){for(var x=0;x<sdt.deploymenttypes.length;x++)sdt.deploymenttypes[x].deployment_type_id==$scope.deployTypeList[dt].deployment_type_id&&(sID=sdt.sensor_type_id)}),proposedToAdd={event_id:0,location_description:"Proposed sensor at this site. Change description when deploying sensor.",deployment_type_id:$scope.deployTypeList[dt].deployment_type_id,site_id:$scope.thisSite.site_id,sensor_type_id:sID}}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var instrumentID=0;INSTRUMENT.save(proposedToAdd).$promise.then(function(response){instrumentID=response.instrument_id;var createdPropSensor={deployment_type_id:response.deployment_type_id,site_id:response.site_id,sensor_type_id:response.sensor_type_id,instrument_id:response.instrument_id,deploymentType:$scope.deployTypeList.filter(function(dtl){return dtl.deployment_type_id==response.deployment_type_id})[0].method,sensorType:$scope.sensDepTypes.filter(function(s){return s.sensor_type_id==response.sensor_type_id})[0].sensor};propStatToAdd={instrument_id:response.instrument_id,status_type_id:4,member_id:$cookies.get("mID"),time_stamp:Time_STAMP,time_zone:"UTC"},INSTRUMENT_STATUS.save(propStatToAdd).$promise.then(function(statResponse){propStatToAdd.status="Proposed",propStatToAdd.instrument_status_id=statResponse.instrument_status_id,createdPropSensor.instrument_status=[propStatToAdd],$scope.ProposedSensors4Site.push(createdPropSensor);for(var dep=0;dep<$scope.deployTypeList.length;dep++)$scope.deployTypeList[dep].selected=!1;$timeout(function(){$scope.showProposed=!1,toastr.success("Proposed sensor created")})},function(errorResponse){INSTRUMENT["delete"]({id:instrumentID}),angular.forEach($scope.deployTypeList,function(dt){dt.selected=!1}),toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating proposed sensor: "+errorResponse.headers(["usgswim-messages"]):"Error creating proposed sensor: "+errorResponse.statusText)})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapPeaksController",["$scope","$rootScope","$http","$cookies","$location","leafletMarkerEvents","leafletBoundsHelpers","$state",function($scope,$rootScope,$http,$cookies,$location,leafletMarkerEvents,leafletBoundsHelpers,$state){$rootScope.$on("mapSiteClickResults",function(event,siteParts){$scope.sitePeaks=[];for(var allSitePeaks=siteParts[1],p=0;p<allSitePeaks.length;p++)allSitePeaks[p].event_name==$cookies.get("SessionEventName")&&$scope.sitePeaks.push(allSitePeaks[p]);$scope.showPeaks=!0}),$scope.showPeaks=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapFiltersController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Filter","$state","stateList","sensorTypes","networkNames","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Filter,$state,stateList,sensorTypes,networkNames,spinnerService){$scope.status={siteOpen:!0},$scope.states=stateList,$scope.senTypes=sensorTypes,$scope.netNames=networkNames,$scope.surveyOptions=[{id:!0,value:"Surveyed HWMs"},{id:!1,value:"Unsurveyed HWMs"}],$scope.Chosen={network:null,sensor:null,survey:null},$scope.chosenStates=[],$scope.siteResponse=!1,$scope.checkboxModel={eventSitesOnly:"1",hwmOnly:"0",senOnly:"0",rdgOnly:"0",opDefined:"0"},$scope.searchSites=function(){if(spinnerService.show("mapSpinner"),"1"===$scope.checkboxModel.eventSitesOnly&&$scope.sessionEventExists===!0){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[];var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$rootScope.searchParams={event:evID,state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},SITE.getFilteredSites({Event:evID,State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}else if("0"===$scope.checkboxModel.eventSitesOnly||$scope.sessionEventExists===!1){var stateString=$scope.chosenStates.join();$scope.siteResponse=!1,$scope.siteList=[],$rootScope.searchParams={state:$scope.chosenStates,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined};var sp=$rootScope.searchParams;if("0"===sp.HWMOnly&&null===sp.HWMSurveyed&&null===sp.NetworkName&&"0"===sp.OPDefined&&"0"===sp.RDGOnly&&"0"===sp.SensorOnly&&null===sp.SensorType&&0===sp.state.length)return spinnerService.hide("mapSpinner"),toastr.options.positionClass="toast-bottom-right",void toastr.warning("Please select at least one search parameter.","Map Filters");SITE.getFilteredSites({State:stateString,SensorType:$scope.Chosen.sensor,NetworkName:$scope.Chosen.network,HWMOnly:$scope.checkboxModel.hwmOnly,HWMSurveyed:$scope.Chosen.survey,SensorOnly:$scope.checkboxModel.senOnly,RDGOnly:$scope.checkboxModel.rdgOnly,OPDefined:$scope.checkboxModel.opDefined},function(response){spinnerService.hide("mapSpinner"),Map_Filter.setFilteredSites(response)},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered sites: "+errorResponse.statusText)})}},$scope.stateClick=function(data){if(data.selected===!0&&$scope.chosenStates.push(data.state_abbrev),data.selected===!1){var ind=$scope.chosenStates.indexOf(data.state_abbrev);ind>=0&&$scope.chosenStates.splice(ind,1)}},$scope.clearFilters=function(){spinnerService.show("mapSpinner"),$scope.checkboxModel={eventSitesOnly:1,hwmOnly:0,senOnly:0,rdgOnly:0,opDefined:0},$scope.Chosen={},$scope.chosenStates=[],angular.forEach($scope.states,function(st){st.selected=!1});var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0;$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){Map_Filter.setFilteredSites(response),spinnerService.hide("mapSpinner")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText)})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("MapController",["$scope","$http","$rootScope","$cookies","$location","SITE","EVENT","Map_Site","leafletMarkerEvents","leafletBoundsHelpers","leafletData","$state","spinnerService",function($scope,$http,$rootScope,$cookies,$location,SITE,EVENT,Map_Site,leafletMarkerEvents,leafletBoundsHelpers,leafletData,$state,spinnerService){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Map",$rootScope.activeMenu="map",$scope.message="Many of the supplemental GIS data layers found in the map are from a range of sources and are not maintained by WiM. We offer these map layers as a decision support supplement to the STN sites layer, but we cannot guarantee their performance and availability. Many of these externally maintained layers are large datasets and may load slowly depending on network latency. In some cases they may fail to load entirely when network latency is high.",$rootScope.$on("filterSitesClick",function(event,filteredSitesArray){filteredSitesArray.length>0?($scope.paths={},$scope.selectedMarkerNum=0,showEventSites(filteredSitesArray)):(toastr.options.positionClass="toast-bottom-right",toastr.warning("Your filter returned no results.","Map Filters"))});var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},stnGray:{type:"div",iconSize:[10,10],className:"stnSiteGray"},newSite:{type:"div",iconSize:[10,10],className:"newSiteIcon",iconAnchor:[5,5]},selected:{type:"div",iconSize:[12,12],className:"selectedIcon"},nwis:L.divIcon({iconSize:[10,10],className:"arrow-up"}),action:L.icon({iconUrl:"images/action.png",popupAnchor:[10,10]}),low_threshold:L.icon({iconUrl:"images/low_threshold.png",popupAnchor:[10,10]}),major:L.icon({iconUrl:"images/major.png",popupAnchor:[10,10]}),minor:L.icon({iconUrl:"images/minor.png",popupAnchor:[10,10]}),moderate:L.icon({iconUrl:"images/moderate.png",popupAnchor:[10,10]}),no_flooding:L.icon({iconUrl:"images/no_flooding.png",popupAnchor:[10,10]}),not_defined:L.icon({iconUrl:"images/not_defined.png",popupAnchor:[10,10]}),obs_not_current:L.icon({iconUrl:"images/obs_not_current.png",popupAnchor:[10,10]}),out_of_service:L.icon({iconUrl:"images/out_of_service.png",popupAnchor:[10,10]})},showEventSites=function(response){var sitesArray=response;$scope.sites=sitesArray,$scope.markers=[],$scope.markersLatLngArray=[],leafletData.getDirectiveControls().then(function(controls){controls.markers.create({},$scope.markers);for(var markers=[],i=0;i<sitesArray.length;i++){var a=sitesArray[i];markers.push({layer:"stnSites",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:"STN Site",icon:icons.stn}),$scope.markersLatLngArray.push([a.latitude_dd,a.longitude_dd])}controls.markers.create(markers,$scope.markers),$scope.markers=markers})};$scope.pathsObj={circleMarker:{type:"circleMarker",radius:20,weight:3,color:"#000099",latlngs:{}}},$scope.selectedMarkerNum=0,$scope.$on("leafletDirectiveMarker.click",function(event,args){if("newSite"!=args.model.site_id){spinnerService.show("siteInfoSpinner"),$scope.markers[$scope.selectedMarkerNum].icon=icons.stn,delete $scope.markers[$scope.selectedMarkerNum].label;var siteID=args.model.site_id;Map_Site.setMapSiteParts(siteID),$scope.selectedMarkerNum=parseInt(args.modelName),$scope.markers[$scope.selectedMarkerNum].icon=icons.selected,$scope.markers[$scope.selectedMarkerNum].label={message:"Site "+siteID,options:{noHide:!0,offset:[25,-15],className:"siteLabel"}},$scope.mapCenter.zoom<=9?$scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:10}:$scope.mapCenter.zoom>=10&&($scope.mapCenter={lat:args.model.lat,lng:args.model.lng,zoom:$scope.mapCenter.zoom});var addShape=function(){$scope.paths={},$scope.pathsObj.circleMarker.latlngs={lat:args.model.lat,lng:args.model.lng},$scope.paths.circleMarker=$scope.pathsObj.circleMarker};addShape()}}),$scope.$watch(function(){return $cookies.get("SessionEventID")},function(newValue){if(void 0===newValue)return toastr.options.positionClass="toast-bottom-right",toastr.options.timeOut="8000",toastr.options.closeButton=!0,void toastr.warning("No sites are showing because you have no filters applied. Please select at least one search parameter.","Map Filters");$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events";var evID=newValue;spinnerService.show("mapSpinner"),$scope.selectedMarkerNum=0,$scope.paths={},$scope.sitesPromise=EVENT.getEventSites({id:evID},function(response){spinnerService.hide("mapSpinner"),showEventSites(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting sites: "+errorResponse.headers(["usgswim-messages"]):"Error getting sites: "+errorResponse.statusText),$scope.error="Could not fetch sites"})}),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1});$scope.$on("leafletDirectiveMap.click",function(event,args){if($scope.createSiteModeActive===!0){removeUserCreatedSite();var leafEvent=args.leafletEvent;$scope.userCreatedSite={latitude:leafEvent.latlng.lat,longitude:leafEvent.latlng.lng},$scope.markers.push({layer:"newSite",lat:$scope.userCreatedSite.latitude,lng:$scope.userCreatedSite.longitude,site_id:"newSite",icon:icons.newSite,message:"New draggable STN site",draggable:!0,focus:!1,label:{message:"New Site",options:{noHide:!0,className:"newSiteLabel"}}})}});var removeUserCreatedSite=function(){var createdSiteIndex=$scope.markers.map(function(obj){return obj.site_id}).indexOf("newSite");createdSiteIndex>-1&&($scope.markers.splice(createdSiteIndex,1),$scope.userCreatedSite={})};$scope.$on("leafletDirectiveMarker.dragend",function(event,args){var dragendLocation=args.model;$scope.userCreatedSite={latitude:dragendLocation.lat,longitude:dragendLocation.lng}}),$scope.$watch("createSiteModeActive",function(){$scope.createSiteButtonText=$scope.createSiteModeActive?"Cancel Create Site Mode":"Create New Site on Map",$scope.mapStyle=$scope.createSiteModeActive?{cursor:"crosshair"}:{cursor:"grab"},$scope.createSiteModeActive||removeUserCreatedSite()}),$scope.createSiteFromMap=function(){void 0!==$scope.userCreatedSite.latitude&&void 0!==$scope.userCreatedSite.longitude?$state.go("site.dashboard",{id:0,latitude:$scope.userCreatedSite.latitude,longitude:$scope.userCreatedSite.longitude}):alert("Please click a location on the map to create a site this way.")},leafletData.getMap().then(function(map){var geoSearchControl=new L.Control.GeoSearch({provider:new L.GeoSearch.Provider.Esri,position:"topleft",zoomLevel:15});geoSearchControl.addTo(map)}),delete $http.defaults.headers.common.Authorization,angular.extend($scope,{events:{markers:{enable:leafletMarkerEvents.getAvailableEvents()}},mapCenter:{lat:41.278,lng:-92.336,zoom:4,minZoom:4},controls:{},markersWatchOptions:{doWatch:!0,isDeep:!0,individual:{doWatch:!0,isDeep:!1}},paths:{},markers:[],markersLatLngArray:[],createSiteModeActive:!1,userCreatedSite:{},layers:{baselayers:{gray:{name:"Gray",type:"agsBase",layer:"Gray",visible:!1},streets:{name:"Streets",type:"agsBase",layer:"Streets",visible:!1},topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1},national:{name:"National Geographic",type:"agsBase",layer:"NationalGeographic",visible:!1},oceans:{name:"Oceans",type:"agsBase",layer:"Oceans",visible:!1},darkgray:{name:"DarkGray",type:"agsBase",layer:"DarkGray",visible:!1},imagery:{name:"Imagery",type:"agsBase",layer:"Imagery",visible:!1},shadedrelief:{name:"Shaded Relief",type:"agsBase",layer:"ShadedRelief",visible:!1},terrain:{name:"Terrain",type:"agsBase",layer:"Terrain",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnSitesAll:{type:"group",name:"STN Sites All",visible:!0},newSite:{type:"group",name:"newSite",visible:!0,layerParams:{showOnSelector:!1}},ahps:{name:"AHPS Gages",type:"agsFeature",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/ahps_riv_gauges/MapServer/0",visible:!1,layerOptions:{opacity:1,pointToLayer:function(geojson,latlng){return L.marker(latlng,{icon:icons[geojson.properties.status]})},onEachFeature:function(feature,layer){var graphURL="https://water.weather.gov/resources/hydrographs/"+feature.properties.gaugelid.toLowerCase()+"_hg.png";layer.bindPopup("<b>Gage ID: </b>"+feature.properties.gaugelid+"</br><a target='_blank' href='"+feature.properties.url+"'><img title='Click for details page' width=300 src='"+graphURL+"'/></a>")}}},radar:{name:"Weather Radar",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Observations/radar_base_reflectivity/MapServer",visible:!1,layerOptions:{layers:[0],opacity:1}},watchWarn:{name:"NWS Watches & Warnings",type:"agsDynamic",url:"https://idpgis.ncep.noaa.gov/arcgis/rest/services/NWS_Forecasts_Guidance_Warnings/watch_warn_adv/MapServer",visible:!1,layerOptions:{layers:[1],opacity:1}}}}})}}])}(),function(){"use strict";var LogInOutController=angular.module("LogInOutController",[]);LogInOutController.controller("loginCtrl",["$scope","$state","$location","$uibModal","$sce","$http","$cookies","$rootScope","$document","SERVER_URL","ENVIRONMENT","Login",function($scope,$state,$location,$uibModal,$sce,$http,$cookies,$rootScope,$document,SERVER_URL,ENVIRONMENT,Login){if($scope.newsTitle="",$scope.newsFeed=[],Login.getNewsFeed({},function(response){$scope.newsTitle=response.title;var paragraphTags=[];paragraphTags=response.body.storage.value.split("<p>"),paragraphTags.forEach(function(p){$scope.newsFeed.push($sce.trustAsHtml(p))})},function(errorResponse){$scope.newsTitle="STN Notices",$scope.newsFeed.push("Currently not available.")}),$("[type=password]").keypress(function(e){var $password=$(this),tooltipVisible=$(".tooltip").is(":visible"),s=String.fromCharCode(e.which);s.toUpperCase()!==s||s.toLowerCase()===s||e.shiftKey?tooltipVisible&&$password.tooltip("hide"):tooltipVisible||$password.tooltip("show"),$password.blur(function(e){$password.tooltip("hide")})}),void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}Date.prototype.addHours=function(h){return this.setHours(this.getHours()+h),this},$scope.serverURL=SERVER_URL,$rootScope.environment=ENVIRONMENT,$scope.submit=function(){$rootScope.stateIsLoading.showLoading=!0;var up=({username:$scope.username,password:$scope.password},$scope.username+":"+$scope.password);$http.defaults.headers.common.Authorization="Basic "+btoa(up),$http.defaults.headers.common.Accept="application/json",Login.login({},function(response){var user=response;if(void 0!==user){var usersNAME=user.fname+" "+user.lname,enc=btoa($scope.username.concat(":",$scope.password)),expireDate=(new Date).addHours(8);$cookies.put("STNCreds",enc,{expires:expireDate}),$cookies.put("STNUsername",$scope.username),$cookies.put("usersName",usersNAME),$cookies.put("mID",user.member_id);var roleName;switch(user.role_id){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.put("usersRole",roleName),$rootScope.isAuth.val=!0,$rootScope.usersName=usersNAME,$rootScope.userID=user.member_id,$rootScope.userRole=$cookies.get("usersRole"),void 0!==$rootScope.returnToState?$state.go($rootScope.returnToState,{id:$rootScope.returnToStateParams}):$state.go("map")}else $rootScope.stateIsLoading.showLoading=!1,$scope.error="Login Failed"},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1;
var modalInstance=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>There was an error.</p><p>Error: {{status}} - {{statusText}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.status=errorResponse.status,$scope.statusText=errorResponse.statusText}],size:"sm"});modalInstance.result.then(function(fieldFocus){$location.path("/login")})})}}]),LogInOutController.controller("logoutCtrl",["$scope","$rootScope","$cookies","$location",function($scope,$rootScope,$cookies,$location){$scope.logout=function(){$cookies.remove("STNCreds"),$cookies.remove("STNUsername"),$cookies.remove("usersName"),$cookies.remove("usersRole"),$cookies.remove("mID"),$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.thisPage=void 0,$rootScope.returnToState=void 0,$rootScope.returnToStateParams=void 0,$rootScope.stateIsLoading=void 0,$rootScope.activeMenu=void 0,$rootScope.sessionEvent=void 0,$rootScope.isAuth=void 0,$rootScope.searchTerm=void 0,$rootScope.searchParams=void 0,$rootScope.approvalSearch=void 0,$rootScope.userID=void 0,$rootScope.userRole=void 0,$rootScope.usersName=void 0,$rootScope.environment=void 0,$location.path("/login")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("mainCtrl",["$scope","$rootScope","$document","$cookies","$uibModal","$location","$state",function($scope,$rootScope,$document,$cookies,$uibModal,$location,$state){if($rootScope.isAuth={},$rootScope.activeMenu="home",void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")||void 0===$cookies.get("STNUsername"))$rootScope.isAuth.val=!1,$location.path("/login");else{if(void 0!==$document[0].documentMode){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>This application uses functionality that is not completely supported by Internet Explorer. The preferred browser is Chrome (bison connect).</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}$rootScope.isAuth.val=!0,$rootScope.usersName=$cookies.get("usersName"),$rootScope.userID=$cookies.get("mID"),$rootScope.userRole=$cookies.get("usersRole");var EventName=$cookies.get("SessionEventName");null!==EventName&&void 0!==EventName&&($rootScope.sessionEvent="Session Event: "+EventName+"."),$state.go("map")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("quickHWMCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","allHorDatums","allHorCollMethods","allStates","allCounties","allOPTypes","allVertDatums","allVertColMethods","allOPQualities","allHWMTypes","allHWMQualities","allMarkers","SITE","OBJECTIVE_POINT","HWM",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,allHorDatums,allHorCollMethods,allStates,allCounties,allOPTypes,allVertDatums,allVertColMethods,allOPQualities,allHWMTypes,allHWMQualities,allMarkers,SITE,OBJECTIVE_POINT,HWM){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Quick HWM",$scope.qhwmForm={};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};$scope.decDegORdms={},$scope.aSite={MEMBER_ID:$cookies.get("mID")},$scope.aOP={DATE_ESTABLISHED:makeAdate("")},$scope.aHWM={HWM_ENVIRONMENT:"Riverine",BANK:"N/A",FLAG_DATE:makeAdate(""),STILLWATER:0},$scope.status={siteOpen:!0,opOpen:!1,hwmOpen:!1},$scope.removeOPCarray=[],$scope.addedIdentifiers=[],$scope.showControlIDinput=!1,$scope.horDatumList=allHorDatums,$scope.horCollMethodList=allHorCollMethods,$scope.stateList=allStates,$scope.allCountyList=allCounties,$scope.stateCountyList=[],$scope.opTypeList=allOPTypes,$scope.vertDatumList=allVertDatums,$scope.vertCollMethodList=allVertColMethods,$scope.opQualList=allOPQualities,$scope.hwmTypeList=allHWMTypes,$scope.hwmQualList=allHWMQualities,$scope.markerList=allMarkers,$scope.FTorMETER="ft",$scope.FTorCM="ft",$scope.addNewIdentifier=function(){$scope.addedIdentifiers.push({OBJECTIVE_POINT_ID:$scope.aOP.OBJECTIVE_POINT_ID,IDENTIFIER:"",IDENTIFIER_TYPE:""}),$scope.showControlIDinput=!0},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.decDegORdms.val="dd",$scope.DMS={};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("dd"==$scope.decDegORdms.val){if(void 0!==$scope.DMS.LADeg){$scope.aSite.LATITUDE_DD=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aSite.LONGITUDE_DD=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)}}else if(void 0!==$scope.aSite.LATITUDE_DD){var latDMS=deg_to_dms($scope.aSite.LATITUDE_DD).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.aSite.LONGITUDE_DD),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2]}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.getAddress=function(){delete $scope.aSite.ADDRESS,delete $scope.aSite.CITY,delete $scope.aSite.STATE,$scope.stateCountyList=[],delete $scope.aSite.ZIP,$rootScope.stateIsLoading.showLoading=!0;var geocoder=new google.maps.Geocoder,latlng=new google.maps.LatLng($scope.aSite.LATITUDE_DD,$scope.aSite.LONGITUDE_DD);geocoder.geocode({latLng:latlng},function(results,status){if(status==google.maps.GeocoderStatus.OK){var address_components=results[0].address_components,components={};$.each(address_components,function(k,v1){$.each(v1.types,function(k2,v2){components[v2]=v1.long_name})}),$scope.aSite.ADDRESS=void 0!==components.street_number?components.street_number+" "+components.route:components.route,$scope.aSite.CITY=components.locality;var thisState=$scope.stateList.filter(function(s){return s.STATE_NAME==components.administrative_area_level_1})[0];void 0!==thisState?($scope.aSite.STATE=thisState.STATE_ABBREV,$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID}),$scope.aSite.COUNTY=components.administrative_area_level_2,$scope.aSite.ZIP=components.postal_code,$rootScope.stateIsLoading.showLoading=!1,$scope.$apply()):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a location within the U.S."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("There was an error getting address. Please try again.")})},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1}),$scope.updateCountyList=function(s){var thisState=$scope.stateList.filter(function(st){return st.STATE_ABBREV==s})[0];$scope.stateCountyList=$scope.allCountyList.filter(function(c){return c.STATE_ID==thisState.STATE_ID})},$scope.UnquantChecked=function(){1==$scope.aOP.UNQUANTIFIED&&($scope.aOP.UNCERTAINTY=null)};var trimOP=function(op){var OBJ_PT={OBJECTIVE_POINT_ID:void 0!==op.OBJECTIVE_POINT_ID?op.OBJECTIVE_POINT_ID:0,NAME:op.NAME,DESCRIPTION:op.DESCRIPTION,ELEV_FT:void 0!==op.ELEV_FT?op.ELEV_FT:null,DATE_ESTABLISHED:op.DATE_ESTABLISHED,OP_IS_DESTROYED:void 0!==op.OP_IS_DESTROYED?op.OP_IS_DESTROYED:0,OP_NOTES:void 0!==op.OP_NOTES?op.OP_NOTES:null,SITE_ID:op.SITE_ID,VDATUM_ID:void 0!==op.VDATUM_ID?op.VDATUM_ID:0,LATITUDE_DD:op.LATITUDE_DD,LONGITUDE_DD:op.LONGITUDE_DD,HDATUM_ID:void 0!==op.HDATUM_ID?op.HDATUM_ID:0,HCOLLECT_METHOD_ID:void 0!==op.HCOLLECT_METHOD_ID?op.HCOLLECT_METHOD_ID:0,VCOLLECT_METHOD_ID:void 0!==op.VCOLLECT_METHOD_ID?op.VCOLLECT_METHOD_ID:0,OP_TYPE_ID:op.OP_TYPE_ID,DATE_RECOVERED:void 0!==op.DATE_RECOVERED?op.DATE_RECOVERED:null,UNCERTAINTY:void 0!==op.UNCERTAINTY?op.UNCERTAINTY:null,UNQUANTIFIED:void 0!==op.UNQUANTIFIED?op.UNQUANTIFIED:null,OP_QUALITY_ID:void 0!==op.OP_QUALITY_ID?op.OP_QUALITY_ID:null};return OBJ_PT},formatDefaults=function(theOP){"meter"==theOP.FTorMETER&&($scope.aOP.FTorMETER="ft",$scope.aOP.ELEV_FT=3.2808*$scope.aOP.ELEV_FT),"cm"==theOP.FTorCM&&($scope.aOP.FTorCM="ft",$scope.aOP.UNCERTAINTY=$scope.aOP.UNCERTAINTY/30.48)};$scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,$scope.create=function(){$rootScope.stateIsLoading.showLoading=!0;var theForm=$scope.qhwmForm.quickHWM;if($scope.siteErrors=!1,$scope.opErrors=!1,$scope.hwmErrors=!1,theForm.$valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdSiteID=0;$scope.aSite.LONGITUDE_DD>0&&($scope.aSite.LONGITUDE_DD=-1*$scope.aSite.LONGITUDE_DD),SITE.save($scope.aSite,function(response){createdSiteID=response.SITE_ID,$scope.aOP.SITE_ID=createdSiteID,$scope.aOP.LATITUDE_DD=response.LATITUDE_DD,$scope.aOP.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aOP.HDATUM_ID=response.HDATUM_ID,$scope.aOP.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.SITE_ID=createdSiteID,$scope.aHWM.WATERBODY=response.WATERBODY,$scope.aHWM.LATITUDE_DD=response.LATITUDE_DD,$scope.aHWM.LONGITUDE_DD=response.LONGITUDE_DD,$scope.aHWM.HCOLLECT_METHOD_ID=response.HCOLLECT_METHOD_ID,$scope.aHWM.HDATUM_ID=response.HDATUM_ID,$scope.aHWM.FLAG_TEAM_ID=response.MEMBER_ID,$scope.aHWM.EVENT_ID=$cookies.get("SessionEventID");var createdOP={};formatDefaults($scope.aOP);var OPtoPOST=trimOP($scope.aOP);OBJECTIVE_POINT.save(OPtoPOST,function(response){if(createdOP=response,$scope.addedIdentifiers.length>0)for(var opc=0;opc<$scope.addedIdentifiers.length;opc++)OBJECTIVE_POINT.createOPControlID({id:response.OBJECTIVE_POINT_ID},$scope.addedIdentifiers[opc]).$promise;void 0!==$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),void 0!==$scope.aHWM.ELEV_FT&&(void 0===$scope.aHWM.SURVEY_DATE&&($scope.aHWM.SURVEY_DATE=makeAdate("")),$scope.aHWM.SURVEY_TEAM_ID=$scope.aHWM.FLAG_TEAM_ID),HWM.save($scope.aHWM).$promise.then(function(response){toastr.success("Quick HWM created"),$rootScope.stateIsLoading.showLoading=!1,$location.path("/Site/"+createdSiteID+"/SiteDashboard").replace(),$scope.apply})})})}else $rootScope.stateIsLoading.showLoading=!1,$scope.status.siteOpen=!0,$scope.status.opOpen=!0,$scope.status.hwmOpen=!0,angular.element("[name='"+theForm.$name+"']").find(".ng-invalid:visible:first").focus(),(theForm.SITE_DESCRIPTION.$invalid||theForm.LATITUDE_DD.$invalid||theForm.LONGITUDE_DD.$invalid||theForm.HDATUM_ID.$invalid||theForm.HCOLLECT_METHOD_ID.$invalid||theForm.WATERBODY.$invalid||theForm.STATE.$invalidv||theForm.COUNTY.$invalid)&&($scope.siteErrors=!0),(theForm.OP_TYPE_ID.$invalid||theForm.NAME.$invalid||theForm.DESCRIPTION.$invalid||theForm.de.$invalid)&&($scope.opErrors=!0),(theForm.HWM_TYPE_ID.$invalid||theForm.HWM_ENVIRONMENT.$invalid||theForm.HWM_QUALITY_ID.$invalid||theForm.fd.$invalid)&&($scope.hwmErrors=!0),toastr.error("Quick HWM not created.")}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("hwmModalCtrl",["$scope","$rootScope","$cookies","$http","$sce","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","allDropdowns","Site_Files","thisHWM","allSiteHWMs","hwmApproval","agencyList","hwmSite","allMembers","HWM","SOURCE","FILE",function($scope,$rootScope,$cookies,$http,$sce,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,allDropdowns,Site_Files,thisHWM,allSiteHWMs,hwmApproval,agencyList,hwmSite,allMembers,HWM,SOURCE,FILE){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.fileTypeList=allDropdowns[8],$scope.allSFiles=Site_Files.getAllSiteFiles(),$scope.HWMFiles="empty"!==thisHWM?$scope.allSFiles.filter(function(sf){return sf.hwm_id==thisHWM.hwm_id}):[],$scope.hwmImageFiles=$scope.HWMFiles.filter(function(hf){return 1===hf.filetype_id}),$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.FlagMember="",$scope.SurveyMember="",$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.ChangeEvent=function(){$scope.EventName=$scope.eventList.filter(function(el){return el.event_id==$scope.adminChanged.event_id})[0].event_name},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.DMS={},$scope.thisHWMsite=hwmSite,$scope.ApprovalInfo={},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var azimuth=function(deg,min,sec){var azi=0;return 0>deg?(azi=-1*deg+1*min/60+1*sec/3600,(-1*azi).toFixed(5)):(azi=1*deg+1*min/60+1*sec/3600,azi.toFixed(5))},deg_to_dms=function(deg){0>deg&&(deg=deg.toString(),deg=deg.substring(1));var d=Math.floor(deg),minfloat=60*(deg-d),m=Math.floor(minfloat),s=(60*(minfloat-m)).toFixed(3);return""+d+":"+m+":"+s};$scope.latLongChange=function(){if("edit"==$scope.createOReditHWM){if("dd"==$scope.hwmCopy.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSddModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSddModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.hwmCopy.decDegORdms="dms"})}else if(void 0!==$scope.hwmCopy.latitude_dd){var latDMS=deg_to_dms($scope.hwmCopy.latitude_dd).toString(),ladDMSarray=latDMS.split(":");$scope.DMS.LADeg=ladDMSarray[0],$scope.DMS.LAMin=ladDMSarray[1],$scope.DMS.LASec=ladDMSarray[2];var longDMS=deg_to_dms($scope.hwmCopy.longitude_dd),longDMSarray=longDMS.split(":");$scope.DMS.LODeg=-1*longDMSarray[0],$scope.DMS.LOMin=longDMSarray[1],$scope.DMS.LOSec=longDMSarray[2],$scope.hwmCopy.latitude_dd=void 0,$scope.hwmCopy.longitude_dd=void 0}}else if("dd"==$scope.aHWM.decDegORdms)if(void 0!==$scope.DMS.LADeg&&void 0!==$scope.DMS.LAMin&&void 0!==$scope.DMS.LASec&&void 0!==$scope.DMS.LODeg&&void 0!==$scope.DMS.LOMin&&void 0!==$scope.DMS.LOSec)$scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),$scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),$scope.DMS={};else{var DMSModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all three inputs for conversion from DMS to Decimal Degrees to work.</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});DMSModal.result.then(function(){(void 0!==$scope.DMS.LADeg||void 0!==$scope.DMS.LAMin||void 0!==$scope.DMS.LASec)&&$("#LaDeg").focus(),(void 0!==$scope.DMS.LODeg||void 0!==$scope.DMS.LOMin||void 0!==$scope.DMS.LOSec)&&$("#LoDeg").focus(),$scope.aHWM.decDegORdms="dms"})}else if(void 0!==$scope.aHWM.latitude_dd){var create_latDMS=deg_to_dms($scope.aHWM.latitude_dd).toString(),create_ladDMSarray=create_latDMS.split(":");$scope.DMS.LADeg=create_ladDMSarray[0],$scope.DMS.LAMin=create_ladDMSarray[1],$scope.DMS.LASec=create_ladDMSarray[2];var create_longDMS=deg_to_dms($scope.aHWM.longitude_dd),create_longDMSarray=create_longDMS.split(":");$scope.DMS.LODeg=-1*create_longDMSarray[0],$scope.DMS.LOMin=create_longDMSarray[1],$scope.DMS.LOSec=create_longDMSarray[2],$scope.aHWM.latitude_dd=void 0,$scope.aHWM.longitude_dd=void 0}};var openLatModal=function(w,message){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Latitude must be between 0 and 73.0"),"distance"==show&&($scope.message="Latitude places the HWM more than 232 ft from the site's latitude. Please verify before continuing.")}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w,message){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>{{message}}</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',resolve:{show:function(){return message}},controller:["$scope","$uibModalInstance","show",function($scope,$uibModalInstance,show){$scope.ok=function(){$uibModalInstance.close()},"range"==show&&($scope.message="The Longitude must be between -175.0 and -60.0"),"distance"==show&&($scope.message="Longitude places the HWM more than 232 ft from the site's longitude. Please verify before continuing")}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(d){if("dms"==d){if($scope.DMS.LADeg<0||$scope.DMS.LADeg>73||isNaN($scope.DMS.LADeg)&&void 0!==$scope.DMS.LADeg||isNaN($scope.DMS.LAMin)&&void 0!==$scope.DMS.LAMin||isNaN($scope.DMS.LASec)&&void 0!==$scope.DMS.LASec)openLatModal("dms","range"),isNaN($scope.DMS.LADeg)&&($scope.DMS.LADeg=void 0),isNaN($scope.DMS.LAMin)&&($scope.DMS.LAMin=void 0),isNaN($scope.DMS.LASec)&&($scope.DMS.LASec=void 0);else{var lat=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec),latDis=hwmSite.latitude_dd-lat;Math.abs(latDis)>5e-4&&openLatModal("dms","distance")}if($scope.DMS.LODeg<-175||$scope.DMS.LODeg>-60||isNaN($scope.DMS.LODeg)&&void 0!==$scope.DMS.LODeg||isNaN($scope.DMS.LOMin)&&void 0!==$scope.DMS.LOMin||isNaN($scope.DMS.LOSec)&&void 0!==$scope.DMS.LOSec)openLongModal("dms","range"),isNaN($scope.DMS.LODeg)&&($scope.DMS.LODeg=void 0),isNaN($scope.DMS.LOMin)&&($scope.DMS.LOMin=void 0),isNaN($scope.DMS.LOSec)&&($scope.DMS.LOSec=void 0);else{var lo=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec),loDis=hwmSite.longitude_dd-lo;Math.abs(loDis)>5e-4&&openLongModal("dms","distance")}}else{var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))openLatModal("latlong","range"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0);else{var latDistance=hwmSite.latitude_dd-h.latitude_dd;Math.abs(latDistance)>5e-4&&openLatModal("latlong","distance")}if(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))openLongModal("latlong","range"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0);else{var longDistance=hwmSite.longitude_dd-h.longitude_dd;Math.abs(longDistance)>5e-4&&openLongModal("latlong","distance")}}},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};"empty"!=thisHWM?($scope.createOReditHWM="edit",$scope.aHWM=angular.copy(thisHWM),$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",void 0!==$scope.aHWM.approval_id&&HWM.getHWMApproval({id:$scope.aHWM.hwm_id}).$promise.then(function(response){$scope.ApprovalInfo.approvalDate=new Date(response.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==response.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm approval info: "+errorResponse.statusText)}),$scope.hwmModalHeader="HWM Information",$scope.EventName=$scope.aHWM.event_id>0?$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name:"None provided",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0]):($scope.hwmModalHeader="Create new HWM",$scope.createOReditHWM="create",$scope.aHWM={site_id:$scope.thisHWMsite.site_id,event_id:$cookies.get("SessionEventID"),hwm_environment:"Riverine",bank:"N/A",hwm_label:"no_label",stillwater:0,latitude_dd:hwmSite.latitude_dd,longitude_dd:hwmSite.longitude_dd,waterbody:hwmSite.waterbody,hdatum_id:hwmSite.hdatum_id,hcollect_method_id:hwmSite.hcollect_method_id,flag_date:makeAdate(""),flag_member_id:$scope.LoggedInMember.member_id},$scope.EventName=$cookies.get("SessionEventName"),$scope.FlagMember=$scope.LoggedInMember),$scope.aHWM.decDegORdms="dd",$scope.aHWM.FTorCM="ft",$scope.create=function(valid){if(valid){var createdHWM={};void 0!==$scope.DMS.LADeg&&($scope.aHWM.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.aHWM.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.aHWM.latitude_dd<0||$scope.aHWM.latitude_dd>73||isNaN($scope.aHWM.latitude_dd)?(openLatModal("latlong","range"),isNaN($scope.aHWM.latitude_dd)&&($scope.aHWM.latitude_dd=void 0)):$scope.aHWM.longitude_dd<-175||$scope.aHWM.longitude_dd>-60||isNaN($scope.aHWM.longitude_dd)?(openLongModal("latlong","range"),isNaN($scope.aHWM.longitude_dd)&&($scope.aHWM.longitude_dd=void 0)):(void 0!==$scope.aHWM.survey_date&&null!==$scope.aHWM.survey_date&&($scope.aHWM.survey_member_id=$scope.flag_member_id),"cm"==$scope.aHWM.FTorCM&&($scope.aHWM.FTorCM="ft",void 0!==$scope.aHWM.uncertainty&&($scope.aHWM.uncertainty=parseFloat($scope.aHWM.uncertainty/30.48).toFixed(6))),void 0!==$scope.aHWM.elev_ft&&null!==$scope.aHWM.elev_ft&&(void 0===$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate("")),$scope.aHWM.survey_member_id=$scope.aHWM.flag_member_id),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.save($scope.aHWM).$promise.then(function(response){createdHWM=response,toastr.success("HWM created");var sendBack=[createdHWM,"created"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error creating hwm: "+errorResponse.statusText)}))}},$scope.approveHWM=function(){var thisHWM=$scope.aHWM,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWM</h3></div><div class='modal-body'><p>Are you ready to approve this HWM?</p><p>The surveyed elevation is {{approveHWM.elev_ft || '---'}}</p><p>The height above ground is {{approveHWM.height_above_gnd || '---'}}</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});approveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:h.hwm_id}).$promise.then(function(approvalResponse){h.approval_id=approvalResponse.approval_id,toastr.success("HWM Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error approving hwm: "+errorResponse.statusText)})},function(){})},$scope.unApproveHWM=function(){var thisHWM=$scope.aHWM,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this HWM?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.approveHWM=thisHWM,$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisHWM)}}],size:"sm"});unapproveModal.result.then(function(h){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.unApproveHWM({id:h.hwm_id}).$promise.then(function(){h.approval_id=null,toastr.success("HWM Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving hwm: "+errorResponse.statusText)})},function(){})};var formatHWM=function(h){var formattedHWM={hwm_id:h.hwm_id,waterbody:h.waterbody,site_id:h.site_id,event_id:h.event_id,hwm_type_id:h.hwm_type_id,hwm_quality_id:h.hwm_quality_id,hwm_locationdescription:h.hwm_locationdescription,latitude_dd:h.latitude_dd,longitude_dd:h.longitude_dd,survey_date:h.survey_date,elev_ft:h.elev_ft,vdatum_id:h.vdatum_id,vcollect_method_id:h.vcollect_method_id,bank:h.bank,approval_id:h.approval_id,marker_id:h.marker_id,height_above_gnd:h.height_above_gnd,hcollect_method_id:h.hcollect_method_id,peak_summary_id:h.peak_summary_id,hwm_notes:h.hwm_notes,hwm_environment:h.hwm_environment,flag_date:h.flag_date,stillwater:h.stillwater,hdatum_id:h.hdatum_id,flag_member_id:h.flag_member_id,survey_member_id:h.survey_member_id,uncertainty:h.uncertainty,hwm_uncertainty:h.hwm_uncertainty,hwm_label:h.hwm_label};return formattedHWM};$scope.save=function(valid){if(valid){if(void 0!==$scope.DMS.LADeg&&($scope.hwmCopy.latitude_dd=azimuth($scope.DMS.LADeg,$scope.DMS.LAMin,$scope.DMS.LASec)),void 0!==$scope.DMS.LODeg&&($scope.hwmCopy.longitude_dd=azimuth($scope.DMS.LODeg,$scope.DMS.LOMin,$scope.DMS.LOSec)),$scope.hwmCopy.latitude_dd<0||$scope.hwmCopy.latitude_dd>73||isNaN($scope.hwmCopy.latitude_dd))openLatModal("latlong","range"),isNaN($scope.hwmCopy.latitude_dd)&&($scope.hwmCopy.latitude_dd=void 0);else if($scope.hwmCopy.longitude_dd<-175||$scope.hwmCopy.longitude_dd>-60||isNaN($scope.hwmCopy.longitude_dd))openLongModal("latlong","range"),isNaN($scope.hwmCopy.longitude_dd)&&($scope.hwmCopy.longitude_dd=void 0);else{void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),"cm"==$scope.hwmCopy.FTorCM&&($scope.hwmCopy.FTorCM="ft",void 0!==$scope.hwmCopy.uncertainty&&($scope.hwmCopy.uncertainty=parseFloat($scope.hwmCopy.uncertainty/30.48).toFixed(6))),
void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var cleanHWM=formatHWM($scope.hwmCopy);HWM.update({id:cleanHWM.hwm_id},cleanHWM).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,$scope.aHWM.hwm_type=$scope.hwmTypeList.filter(function(ht){return ht.hwm_type_id==$scope.aHWM.hwm_type_id})[0].hwm_type,null!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.Marker=$scope.aHWM.marker_id>0?$scope.markerList.filter(function(m){return m.marker_id==$scope.aHWM.marker_id})[0].marker1:"",$scope.aHWM.Quality=$scope.aHWM.hwm_quality_id>0?$scope.hwmQualList.filter(function(hq){return hq.hwm_quality_id==$scope.aHWM.hwm_quality_id})[0].hwm_quality:"",$scope.aHWM.hdatum=$scope.aHWM.hdatum_id>0?$scope.HDatumsList.filter(function(hd){return hd.datum_id==$scope.aHWM.hdatum_id})[0].datum_name:"",$scope.aHWM.hCollectMethod=$scope.aHWM.hcollect_method_id>0?$scope.hCollMList.filter(function(hc){return hc.hcollect_method_id==$scope.aHWM.hcollect_method_id})[0].hcollect_method:"",$scope.aHWM.vDatum=$scope.aHWM.vdatum_id>0?$scope.VDatumsList.filter(function(vd){return vd.datum_id==$scope.aHWM.vdatum_id})[0].datum_name:"",$scope.aHWM.vCollectMethod=$scope.aHWM.vcollect_method_id>0?$scope.vCollMList.filter(function(vc){return vc.vcollect_method_id==$scope.aHWM.vcollect_method_id})[0].vcollect_method:"",$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),void 0!==hwmApproval&&($scope.ApprovalInfo.approvalDate=new Date(hwmApproval.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==hwmApproval.member_id})[0]),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date),$scope.SurveyMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.survey_member_id})[0]),$scope.FlagMember=allMembers.filter(function(m){return m.member_id==$scope.aHWM.flag_member_id})[0],$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}}},$scope.deleteHWM=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aHWM},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],$scope.hwmImageFiles=[];for(var l=$scope.allSFiles.length;l--;)$scope.allSFiles[l].hwm_id==hwmToRemove.hwm_id&&$scope.allSFiles.splice(l,1);Site_Files.setAllSiteFiles($scope.allSFiles),toastr.success("HWM Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=$scope.aHWM;$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.hwmCopy.decDegORdms="dd",$scope.hwmCopy.FTorCM="ft"},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.allSFiles[$scope.allSFileIndex]=fresponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.allSFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.allSFileIndex=$scope.allSFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.allSFiles.push(fresponse),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){$scope.aFile.source_id=response.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.allSFiles[$scope.allSFileIndex]=fileResponse,Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.allSFiles.splice($scope.allSFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),Site_Files.setAllSiteFiles($scope.allSFiles),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("hwmCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","$uibModal","$filter","$timeout","thisSite","thisSiteHWMs","HWM_Service","allAgencies","allHWMTypes","allHWMQualities","allHorDatums","allMarkers","allHorCollMethods","allVertDatums","allVertColMethods","allEvents","allFileTypes","MEMBER","HWM","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,$uibModal,$filter,$timeout,thisSite,thisSiteHWMs,HWM_Service,allAgencies,allHWMTypes,allHWMQualities,allHorDatums,allMarkers,allHorCollMethods,allVertDatums,allVertColMethods,allEvents,allFileTypes,MEMBER,HWM,SITE){void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds")?($scope.auth=!1,$location.path("/login")):($scope.hwmCount={total:thisSiteHWMs.length},$scope.SiteHWMs=thisSiteHWMs,HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue?($scope.SiteHWMs=thisSiteHWMs.filter(function(h){return h.event_id==$cookies.get("SessionEventID")}),$scope.hwmCount={total:$scope.SiteHWMs.length}):($scope.SiteHWMs=thisSiteHWMs,$scope.hwmCount={total:$scope.SiteHWMs.length})}),$scope.showHWMModal=function(HWMclicked){{var hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),passAllLists=[allHWMTypes,allHWMQualities,allHorDatums,allHorCollMethods,allVertDatums,allVertColMethods,allMarkers,allEvents,hwmFileTypes];$scope.SiteHWMs.indexOf(HWMclicked)}$rootScope.stateIsLoading.showLoading=!0;var modalInstance=$uibModal.open({templateUrl:"HWMmodal.html",controller:"hwmModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return 0!==HWMclicked?HWMclicked:"empty"},allSiteHWMs:function(){return $scope.SiteHWMs},hwmApproval:function(){return 0!==HWMclicked&&void 0!==HWMclicked.approval_id&&HWMclicked.approval_id>0?HWM.getHWMApproval({id:HWMclicked.hwm_id}).$promise:void 0},hwmSite:function(){return SITE.query({id:thisSite.site_id}).$promise},agencyList:function(){return allAgencies},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise}}});modalInstance.result.then(function(createdHWM){if("created"==createdHWM[1]&&($scope.SiteHWMs.push(createdHWM[0]),HWM_Service.setAllSiteHWMs($scope.SiteHWMs),$scope.hwmCount.total=$scope.SiteHWMs.length),void 0===createdHWM[1]){var indexClicked=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs[indexClicked]=createdHWM,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}if("deleted"==createdHWM[1]){var indexClicked1=$scope.SiteHWMs.indexOf(HWMclicked);$scope.SiteHWMs.splice(indexClicked1,1),$scope.hwmCount.total=$scope.SiteHWMs.length,HWM_Service.setAllSiteHWMs($scope.SiteHWMs)}})})}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("historicHWMCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","SITE","HWM","OBJECTIVE_POINT","GEOCODE","thisEvent","HDatums","HCollectMeths","States","Counties","OPTypes","VDatums","HTypes","HWMQuals",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,SITE,HWM,OBJECTIVE_POINT,GEOCODE,thisEvent,HDatums,HCollectMeths,States,Counties,OPTypes,VDatums,HTypes,HWMQuals){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[140,76,84,220,220,100,150,120,120,180,120,140,140,120,140,140,140,120],$scope.Changes=[],$scope.invalids=[],$scope.event=thisEvent,$scope.hDatumList=HDatums,$scope.hDatumArray=[],$scope.hCollectList=HCollectMeths,$scope.hcollectArray=[],$scope.stateList=States,$scope.stateArray=[],$scope.countyList=Counties,$scope.countyArray=[],$scope.opTypeList=OPTypes,$scope.opTypeArray=[],$scope.vDatumList=VDatums,$scope.vDatumArray=[],$scope.hwmTypeList=HTypes,$scope.hwmTypeArray=[],$scope.hwmEnvirList=["Coastal","Riverine"],$scope.hwmQualityList=HWMQuals,$scope.hwmQualityArray=[],$scope.historicHWMs=[],angular.forEach($scope.hDatumList,function(l){$scope.hDatumArray.push(l.datum_name)}),angular.forEach($scope.hCollectList,function(l){$scope.hcollectArray.push(l.hcollect_method)}),angular.forEach($scope.stateList,function(l){$scope.stateArray.push(l.state_name)}),angular.forEach($scope.countyList,function(l){$scope.countyArray.push(l.county_name)}),angular.forEach($scope.opTypeList,function(l){$scope.opTypeArray.push(l.op_type)}),angular.forEach($scope.vDatumList,function(l){$scope.vDatumArray.push(l.datum_abbreviation)}),angular.forEach($scope.hwmTypeList,function(l){$scope.hwmTypeArray.push(l.hwm_type)}),angular.forEach($scope.hwmQualityList,function(l){$scope.hwmQualityArray.push(l.hwm_quality)}),$scope.getStateCo=function(c,r){var rowValues=$scope.hotInstance.getDataAtRow(r);if(""!==rowValues[1]&&null!==rowValues[1]&&""!==rowValues[2]&&null!==rowValues[2])$rootScope.stateIsLoading.showLoading=!0,$http.defaults.headers.common.Accept="application/json",delete $http.defaults.headers.common.Authorization,GEOCODE.getAddressParts({Longitude:rowValues[2],Latitude:rowValues[1]},function(response){if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.countyList.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.stateList.filter(function(s){return s.state_id==thisStateID})[0];if(void 0!==thisState){$scope.hotInstance.setDataAtCell(r,7,thisState.state_name);var stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(r,8,"source",$scope.countyArray),$scope.hotInstance.setDataAtCell(r,8,countyName),$rootScope.stateIsLoading.showLoading=!1}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown.")}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address location.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)});else{$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Get State/County</p></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}},$scope.UpdateCounties=function(theChange){var thisState=$scope.stateList.filter(function(s){return s.state_name==theChange[3]})[0],stateCountyList=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id});$scope.countyArray=[],angular.forEach(stateCountyList,function(l){$scope.countyArray.push(l.county_name)}),$scope.hotInstance.setCellMeta(theChange[0],8,"source",$scope.countyArray)};var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})};$scope.latValidator=function(value,callback){if(0>value||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Latitude must be greater than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))},$scope.longValidator=function(value,callback){if(value>0||isNaN(value)){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Longitude must be less than 0.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}callback(!1)}else value?callback(!0):(requiredModal(),callback(!1))};var colorRenderer=function(instance,td,row,col,prop,value,cellProperties){var $button=$('<button type="button" class="btn bnt-primary"></button>');return $button.html("Get State/County"),$(td).empty().append($button),td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Are you sure you want to clear the table?</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.historicHWMs=[],$scope.invalids=[]})},$scope.tableSettings={colHeaders:!0,rowHeaders:!0,contextMenu:["row_above","row_below","remove_row"],minSpareRows:3,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){if(6==col){var cellprops={};return cellprops.renderer=colorRenderer,cellprops}},onBeforeChange:function(data){for(var i=0;i<data.length;i++)"state"==data[i][1]&&data[i][3]!==data[i][2]&&$scope.UpdateCounties(data[i])},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.Changes.push(change[i])},afterOnCellMouseDown:function(event,coords,td){6==coords.col&&$scope.getStateCo(coords.col,coords.row)},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMCtrl",["$scope","$state","$rootScope","$cookies","$http","$q","$filter","$uibModal","SITE","HWM","MEMBER","FILE","INST_COLL_CONDITION","PEAK","SOURCE","SERVER_URL","eventList","stateList","countyList","hwmTypeList","markerList","hwmQualList","horizDatumList","horCollMethList","vertDatumList","vertCollMethList","fileTypesList","agenciesList",function($scope,$state,$rootScope,$cookies,$http,$q,$filter,$uibModal,SITE,HWM,MEMBER,FILE,INST_COLL_CONDITION,PEAK,SOURCE,SERVER_URL,eventList,stateList,countyList,hwmTypeList,markerList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,fileTypesList,agenciesList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.showTips=!0,$scope.status={hwmOpen:!0},$scope.serverURL=SERVER_URL,$scope.hwmTypes=hwmTypeList,$scope.markers=markerList,$scope.hwmQuals=hwmQualList,$scope.horDatums=horizDatumList,$scope.horCollMeths=horCollMethList,$scope.vertDatums=vertDatumList,$scope.vertCollMeths=vertCollMethList,$scope.states=stateList,$scope.counties=countyList,$scope.showLoading=!1,$scope.max=0,$scope.dynamic=0,$scope.showProgressBar=!1,$scope.hotInstance,$scope.columnWidths=[180,150,180,180,150,170,180,100,200,140,150,180,220,100,130,120,130,160,190,160,200,200,120],$scope.siteNoArrowClicked=!1,$scope.uploadHWMs=[],$scope.postedHWMs=[],$scope.invalids=[],$scope.events=eventList,$scope.notValid=!0,$scope.hwmTypeArray=[],angular.forEach(hwmTypeList,function(ht){$scope.hwmTypeArray.push(ht.hwm_type)}),$scope.envirArray=["Coastal","Riverine"],$scope.markerArray=[],angular.forEach(markerList,function(m){$scope.markerArray.push(m.marker1)}),$scope.qualArray=[],angular.forEach(hwmQualList,function(hq){$scope.qualArray.push(hq.hwm_quality)}),$scope.bankArray=["Left","Right","N/A"],$scope.hdatumArray=[],angular.forEach(horizDatumList,function(hd){$scope.hdatumArray.push(hd.datum_name)}),$scope.hcollMethArray=[],angular.forEach(horCollMethList,function(hcm){$scope.hcollMethArray.push(hcm.hcollect_method)}),$scope.vdatumArray=[],angular.forEach(vertDatumList,function(vd){$scope.vdatumArray.push(vd.datum_abbreviation)}),$scope.vcollMethArray=[],angular.forEach(vertCollMethList,function(vcm){$scope.vcollMethArray.push(vcm.vcollect_method)}),$scope.tranqArray=["Yes","No"],$scope.chosenEvent=0,$scope.chosenEventName="",$scope.delIndex=-1,$scope.sitePeakarray=[],$scope.addApprovalFile=function(){var approvedFILEmodal=$uibModal.open({templateUrl:"BulkApprovalFILE_modal.html",controller:["$scope","$cookies","$uibModal","$uibModalInstance","fileTypeList","agencyList","thisMember",function($scope,$cookies,$uibModal,$uibModalInstance,fileTypeList,agencyList,thisMember){$scope.hwmFileTypes=fileTypeList.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.aFile={},$scope.aFile.filetype_id=7,$scope.aFile.description="PDF of Approval Memo",$scope.aSource={},$scope.agencies=agencyList,$scope.approval_type=7,$scope.updateFileType=function(){$scope.aFile.filetype_id=Number($scope.approval_type),$scope.aFile.description="7"==$scope.approval_type?"PDF of Approval Memo":"Report Link"},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=thisMember,$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.addFile=function(valid){if(valid)if($scope.aFile.name||$scope.aFile.File){var fileParts=[$scope.aFile,$scope.aSource];$uibModalInstance.close(fileParts)}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must upload a File for Approval Memo or a File URL for Report Link.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}},$scope.cancelFile=function(){$uibModalInstance.dismiss()}}],size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileTypeList:function(){return fileTypesList},agencyList:function(){return agenciesList},thisMember:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.query({id:$cookies.get("mID")}).$promise}}});approvedFILEmodal.result.then(function(createdFile){$scope.approvalFile=createdFile[0],$scope.approvalSource=createdFile[1]})};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},getFindSiteModal=function(r,c,hwmParts){angular.element("#loadingDiv").removeClass("noShow");var dataAtRow=$scope.hotInstance.getDataAtRow(r);if(setTimeout(function(){$scope.hotInstance.deselectCell()},100),""!==dataAtRow[9]&&""!==dataAtRow[10]&&null!==dataAtRow[9]&&null!==dataAtRow[10]){angular.element("#loadingDiv").addClass("noShow");var siteModal=$uibModal.open({templateUrl:"associateSitemodal.html",backdrop:"static",keyboard:!1,resolve:{nearBySites:function(){return SITE.getProximitySites({Latitude:dataAtRow[9],Longitude:dataAtRow[10],Buffer:5e-4}).$promise},HWMparts:function(){return hwmParts},siteNoAlreadyThere:function(){return dataAtRow[22]},hdatums:function(){return $scope.horDatums},hcolMeths:function(){return $scope.horCollMeths},vdatums:function(){return $scope.vertDatums},vcolMeths:function(){return $scope.vertCollMeths},states:function(){return $scope.states},counties:function(){return $scope.counties}},controller:"hwmSiteModalCtrl",size:"sm"});siteModal.result.then(function(thisSite){angular.element("#loadingDiv").addClass("noShow"),void 0!==thisSite&&$scope.hotInstance.setDataAtCell(r,c,thisSite.site_no)})}else{angular.element("#loadingDiv").addClass("noShow");{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate this row\'s latitude and longitude before finding a site to associate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',
backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}};$scope.requiredValidator=function(value,callback){if($scope.siteNoArrowClicked)$scope.siteNoArrowClicked=!1,callback(!0);else{var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)}},$scope.latValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(22>value||value>55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Latitude must be between 22.0 and 55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.longValidator=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),(-130>value||value>-55||isNaN(value))&&otherDataInRow)setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("Longitude must be between -130.0 and -55.0 (dec deg)."),callback(!1);else if(!value&&otherDataInRow){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)},$scope.numericValidator=function(value,callback){var whichOne=$scope.hotInstance.getColHeader(this.col);if(""!==value&&null!==value&&isNaN(Number(value)))setTimeout(function(){$scope.hotInstance.deselectCell()},100),toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" must be an numeric value (ex: 0.03)."),callback(!1);else if("HWM Uncertainty (ft)"==whichOne&&""!==value&&null!==value){var hwmQualValue=$scope.hotInstance.getDataAtCell(this.row,6);if(null!==hwmQualValue&&""!==hwmQualValue){var appropriateHWMQual="";appropriateHWMQual=value>.4?"VP: > 0.40 ft":.05>value?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=value&&h.max_range>=value})[0].hwm_quality,appropriateHWMQual!==hwmQualValue?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" does not have a matching HWM Quality for row "+Number(this.row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)},$scope.matchingDDValue=function(value,callback){var row=this.row,col=this.col,dataAtRow=$scope.hotInstance.getDataAtRow(row),otherDataInRow=!1;if(angular.forEach(dataAtRow,function(d,index){null!==d&&""!==d&&index!==col&&(otherDataInRow=!0)}),""!==value&&null!==value){var prop=this.prop,hasError=!1;switch(prop){case"hwm_type_id":$scope.hwmTypeArray.map(function(hwT){return hwT}).indexOf(value)<0&&(hasError=!0);break;case"marker_id":$scope.markerArray.map(function(hwM){return hwM}).indexOf(value)<0&&(hasError=!0);break;case"hwm_environment":$scope.envirArray.map(function(hwE){return hwE}).indexOf(value)<0&&(hasError=!0);break;case"hwm_quality_id":$scope.qualArray.map(function(hwQ){return hwQ}).indexOf(value)<0&&(hasError=!0);break;case"bank":$scope.bankArray.map(function(hwB){return hwB}).indexOf(value)<0&&(hasError=!0);break;case"hdatum_id":$scope.hdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"hcollect_method_id":$scope.hcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"vdatum_id":$scope.vdatumArray.map(function(hD){return hD}).indexOf(value)<0&&(hasError=!0);break;case"vcollect_method_id":$scope.vcollMethArray.map(function(hC){return hC}).indexOf(value)<0&&(hasError=!0);break;case"stillwater":$scope.tranqArray.map(function(t){return t}).indexOf(value)<0&&(hasError=!0)}if(hasError)callback(!1);else if("hwm_quality_id"==prop){var uncertValue=$scope.hotInstance.getDataAtCell(row,5);if(null!==uncertValue&&""!==uncertValue){var appropriatequal="";appropriatequal=uncertValue>.4?"VP: > 0.40 ft":.05>uncertValue?"Excellent: +/- 0.05 ft":$scope.hwmQuals.filter(function(h){return h.min_range<=uncertValue&&h.max_range>=uncertValue})[0].hwm_quality,appropriatequal!==value?(toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error("HWM Quality does not have a matching HWM uncertainty range value for row "+Number(row+1)),callback(!1)):callback(!0)}else callback(!0)}else callback(!0)}else if(!value&&otherDataInRow&&[3,7,17,18,21].indexOf(this.col)<0){var whichOne=$scope.hotInstance.getColHeader(col);toastr.options.timeOut="6000",toastr.options.closeButton=!0,toastr.error(whichOne+" is a required field."),callback(!1)}else callback(!0)};var removeThisUploadHWM=function(successfulHWM){for(var spliceIndex=-1,bank=successfulHWM.bank,hcmName=horCollMethList.filter(function(hcm){return hcm.hcollect_method_id==successfulHWM.hcollect_method_id})[0].hcollect_method,hdName=horizDatumList.filter(function(hd){return hd.datum_id==successfulHWM.hdatum_id})[0].datum_name,hwmQName=hwmQualList.filter(function(hq){return hq.hwm_quality_id==successfulHWM.hwm_quality_id})[0].hwm_quality,hwmTName=hwmTypeList.filter(function(ht){return ht.hwm_type_id==successfulHWM.hwm_type_id})[0].hwm_type,mark=void 0!==successfulHWM.marker_id?markerList.filter(function(m){return m.marker_id==successfulHWM.marker_id})[0].marker1:void 0,vcmName=void 0!==successfulHWM.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method_id==successfulHWM.vcollect_method_id})[0].vcollect_method:void 0,vdName=void 0!==successfulHWM.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_id==successfulHWM.vdatum_id})[0].datum_abbreviation:void 0,hag=void 0!==successfulHWM.height_above_gnd?Number(successfulHWM.height_above_gnd):void 0,elFt=void 0!==successfulHWM.elev_ft?Number(successfulHWM.elev_ft):void 0,unc=void 0!==successfulHWM.uncertainty?Number(successfulHWM.uncertainty):void 0,hwmUnc=void 0!==successfulHWM.hwm_uncertainty?Number(successfulHWM.hwm_uncertainty):void 0,hwmI=0;hwmI<$scope.uploadHWMs.length;hwmI++){if(void 0!==$scope.uploadHWMs[hwmI].site_no){var upload_hwmUnc=""!==$scope.uploadHWMs[hwmI].hwm_uncertainty&&void 0!==$scope.uploadHWMs[hwmI].hwm_uncertainty?Number($scope.uploadHWMs[hwmI].hwm_uncertainty):void 0,upload_mark=""!==$scope.uploadHWMs[hwmI].marker_id&&void 0!==$scope.uploadHWMs[hwmI].marker_id?$scope.uploadHWMs[hwmI].marker_id:void 0,upload_unc=""!==$scope.uploadHWMs[hwmI].uncertainty&&void 0!==$scope.uploadHWMs[hwmI].uncertainty?Number($scope.uploadHWMs[hwmI].uncertainty):void 0,upload_hag=""!==$scope.uploadHWMs[hwmI].height_above_gnd&&void 0!==$scope.uploadHWMs[hwmI].height_above_gnd?Number($scope.uploadHWMs[hwmI].height_above_gnd):void 0,upload_elFt=""!==$scope.uploadHWMs[hwmI].elev_ft&&void 0!==$scope.uploadHWMs[hwmI].elev_ft?Number($scope.uploadHWMs[hwmI].elev_ft):void 0,upload_vcollMeth=""!==$scope.uploadHWMs[hwmI].vcollect_method_id&&void 0!==$scope.uploadHWMs[hwmI].vcollect_method_id?$scope.uploadHWMs[hwmI].vcollect_method_id:void 0,upload_vdat=""!==$scope.uploadHWMs[hwmI].vdatum_id&&void 0!==$scope.uploadHWMs[hwmI].vdatum_id?$scope.uploadHWMs[hwmI].vdatum_id:void 0;$scope.uploadHWMs[hwmI].site_no==successfulHWM.site_no&&$scope.uploadHWMs[hwmI].waterbody==successfulHWM.waterbody&&upload_hwmUnc==hwmUnc&&$scope.uploadHWMs[hwmI].bank==bank&&$scope.uploadHWMs[hwmI].hwm_locationdescription==successfulHWM.hwm_locationdescription&&Number($scope.uploadHWMs[hwmI].latitude_dd)==successfulHWM.latitude_dd&&Number($scope.uploadHWMs[hwmI].longitude_dd)==successfulHWM.longitude_dd&&upload_hag==hag&&$scope.uploadHWMs[hwmI].hcollect_method_id==hcmName&&$scope.uploadHWMs[hwmI].hdatum_id==hdName&&$scope.uploadHWMs[hwmI].hwm_quality_id==hwmQName&&$scope.uploadHWMs[hwmI].hwm_type_id==hwmTName&&upload_mark==mark&&upload_vcollMeth==vcmName&&upload_vdat==vdName&&upload_elFt==elFt&&upload_unc==unc&&$scope.uploadHWMs[hwmI].hwm_notes==successfulHWM.hwm_notes&&(spliceIndex=hwmI)}spliceIndex>=0&&($scope.uploadHWMs.splice(spliceIndex,1),hwmI=$scope.uploadHWMs.length)}$scope.dynamic==$scope.max&&($scope.showProgressBar=!1),$scope.showLoading="false"};$scope.validateTable=function(){$scope.showLoading=!0,angular.element("#loadingDiv").removeClass("noShow");var haveData=$scope.hotInstance.getDataAtCell(0,2);if(null!==haveData)$scope.hotInstance.validateCells(function(valid){if(valid){{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Valid</h3></div><div class="modal-body"><p>Validation successful!</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}$scope.notValid=!1}else{$scope.notValid=!0;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Invalid!</h3></div><div class="modal-body"><p>The table is not valid. Please correct red cells and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$rootScope","$uibModalInstance",function($scope,$rootScope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()},$scope.showLoading=!1,angular.element("#loadingDiv").addClass("noShow")}],size:"sm"})}angular.element("#loadingDiv").addClass("noShow")}});else{angular.element("#loadingDiv").addClass("noShow"),$scope.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Not enough data in the table to validate.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},$scope.save=function(){$scope.dynamic=0,$scope.chosenEventName=$scope.events.filter(function(e){return e.event_id==$scope.chosenEvent})[0].event_name;for(var pastedHWMs=angular.copy($scope.uploadHWMs),i=pastedHWMs.length;i--;)(void 0===pastedHWMs[i].site_no||null===pastedHWMs[i].site_no||""===pastedHWMs[i].site_no)&&pastedHWMs.splice(i,1);$scope.max=pastedHWMs.length,$scope.showLoading="true",$scope.notValid=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.showProgressBar=!0,angular.forEach(pastedHWMs,function(hwm,index){SITE.getSearchedSite({bySiteNo:hwm.site_no}).$promise.then(function(response){SITE.getSitePeaks({id:response.site_id},function(peakResponse){for(var p=0;p<peakResponse.length;p++)peakResponse[p].event_name==$scope.chosenEventName&&$scope.sitePeakarray.push([response.site_id,peakResponse[p].peak_summary_id]);hwm.site_id=response.site_id,hwm.event_id=$scope.chosenEvent,hwm.flag_member_id=$scope.$parent.userID,hwm.flag_date=makeAdate(hwm.flag_date),""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_date=makeAdate(hwm.survey_date)),hwm.hcollect_method_id=horCollMethList.filter(function(hcm){return hcm.hcollect_method==hwm.hcollect_method_id})[0].hcollect_method_id,hwm.hdatum_id=horizDatumList.filter(function(hd){return hd.datum_name==hwm.hdatum_id})[0].datum_id,hwm.hwm_quality_id=hwmQualList.filter(function(hq){return hq.hwm_quality==hwm.hwm_quality_id})[0].hwm_quality_id,hwm.hwm_type_id=hwmTypeList.filter(function(ht){return ht.hwm_type==hwm.hwm_type_id})[0].hwm_type_id,hwm.marker_id=""!==hwm.marker_id&&void 0!==hwm.marker_id?markerList.filter(function(m){return m.marker1==hwm.marker_id})[0].marker_id:void 0,""!==hwm.stillwater&&void 0!==hwm.stillwater&&(hwm.stillwater="No"==hwm.stillwater?"0":"1"),hwm.vcollect_method_id=""!==hwm.vcollect_method_id&&void 0!==hwm.vcollect_method_id?vertCollMethList.filter(function(vcm){return vcm.vcollect_method==hwm.vcollect_method_id})[0].vcollect_method_id:void 0,hwm.vdatum_id=""!==hwm.vdatum_id&&void 0!==hwm.vdatum_id?vertDatumList.filter(function(vd){return vd.datum_abbreviation==hwm.vdatum_id})[0].datum_id:void 0,""!==hwm.survey_date&&void 0!==hwm.survey_date&&(hwm.survey_member_id=$scope.$parent.userID);var siteNo=hwm.site_no;delete hwm.site_no,HWM.save(hwm).$promise.then(function(hwmResponse){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM.approveHWM({id:hwmResponse.hwm_id}).$promise.then(function(approvalResponse){hwmResponse.approval_id=approvalResponse.approval_id,hwmResponse.site_no=siteNo,hwmResponse.stillwater=void 0!==hwmResponse.stillwater?hwmResponse.stillwater>0?"Yes":"No":"";var sitePeakId=$scope.sitePeakarray.filter(function(sp){return sp[0]==hwmResponse.site_id})[0];void 0!==sitePeakId&&(hwmResponse.PeakSummary=sitePeakId);var theSource={source_name:$scope.approvalSource.FULLname,agency_id:$scope.approvalSource.agency_id};SOURCE.save(theSource).$promise.then(function(sourceResponse){if(8!==$scope.approvalFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.approvalFile.filetype_id,name:$scope.approvalFile.File.name,file_date:$scope.approvalFile.file_date,photo_date:$scope.approvalFile.photo_date,description:$scope.approvalFile.description,site_id:hwmResponse.site_id,source_id:sourceResponse.source_id,photo_direction:$scope.approvalFile.photo_direction,latitude_dd:$scope.approvalFile.latitude_dd,longitude_dd:$scope.approvalFile.longitude_dd,hwm_id:hwmResponse.hwm_id},File:$scope.approvalFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error uploading file: "+errorResponse.headers(["usgswim-messages"]):"Error uploading file: "+errorResponse.statusText)})}else $scope.approvalFile.source_id=sourceResponse.source_id,$scope.approvalFile.site_id=hwmResponse.site_id,$scope.approvalFile.hwm_id=hwmResponse.hwm_id,$scope.approvalFile.path="<link>",FILE.save($scope.approvalFile).$promise.then(function(fresponse){hwmResponse.HWMFiles=[],hwmResponse.HWMFiles.push(fresponse),$scope.postedHWMs.map(function(p){return p.hwm_id}).indexOf(hwmResponse.hwm_id)<0?(toastr.success("HWM uploaded: hwm_id:"+hwmResponse.hwm_id),$scope.postedHWMs.push(hwmResponse)):toastr.error("HWM "+hwmResponse.hwm_id+" is already in the successfully uploaded list below."),$scope.dynamic++,removeThisUploadHWM(hwmResponse)},function(errorResponse){$scope.HWMfileIsUploading=!1,$scope.showProgressBar=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(sourceError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==sourceError.headers(["usgswim-messages"])?"Error uploading approval File Source: "+sourceError.headers(["usgswim-messages"]):"Error uploading approval File Source: "+sourceError.statusText)})},function(approveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==approveError.headers(["usgswim-messages"])?"Error approving hwm: "+approveError.headers(["usgswim-messages"]):"Error approving hwm: "+approveError.statusText)})},function(hwmSaveError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==hwmSaveError.headers(["usgswim-messages"])?"Error uploading hwm: "+hwmSaveError.headers(["usgswim-messages"]):"Error uploading hwm: "+hwmSaveError.statusText)})},function(getSitePeakError){$scope.showProgressBar=!1,toastr.error(void 0!==getSitePeakError.headers(["usgswim-messages"])?"Error getting site peak: "+getSitePeakError.headers(["usgswim-messages"]):"Error getting site peak: "+getSitePeakError.statusText)})},function(getHwmSiteError){$scope.showLoading="false",toastr.options.timeOut="0",toastr.options.closeButton=!0,$scope.showProgressBar=!1,toastr.error(void 0!==getHwmSiteError.headers(["usgswim-messages"])?"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.headers(["usgswim-messages"]):"Error getting site info ("+hwm.site_no+"): "+getHwmSiteError.statusText)})})},$scope.clearTable=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will remove all hwms from the table.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.uploadHWMs=[],$scope.invalids=[],$scope.notValid=!0})},$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Bulk HWM Uploader.<br />In doing so, you will no longer be able to see the list of successfully uploaded HWMs.</p><p>Are you sure you want to leave this page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})},$scope.DeleteHWM=function(hwm){$scope.delIndex=$scope.postedHWMs.indexOf(hwm);var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return hwm},what:function(){return"HWM"}}});DeleteModalInstance.result.then(function(hwmToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),HWM["delete"]({id:hwmToRemove.hwm_id},hwmToRemove).$promise.then(function(){$scope.HWMFiles=[],toastr.success("HWM Removed"),$scope.postedHWMs.splice($scope.delIndex,1),$scope.delIndex=-1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting hwm: "+errorResponse.headers(["usgswim-messages"]):"Error deleting hwm: "+errorResponse.statusText)})})},$scope.OpenHWMEdit=function(HWMclicked){var passAllLists=[hwmTypeList,hwmQualList,horizDatumList,horCollMethList,vertDatumList,vertCollMethList,markerList,eventList],indexClicked=$scope.postedHWMs.indexOf(HWMclicked),siteNo=HWMclicked.site_no;$rootScope.stateIsLoading.showLoading=!0;var hwmEditInstance=$uibModal.open({templateUrl:"HWM_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allDropdowns:function(){return passAllLists},thisHWM:function(){return HWMclicked},siteHMWs:function(){return HWM.getEventSiteHWMs({siteId:HWMclicked.site_id,Event:HWMclicked.event_id}).$promise},hwmSite:function(){return SITE.query({id:HWMclicked.site_id}).$promise},agencyList:function(){return agenciesList},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileTypes:function(){return fileTypesList}},controller:"hwmEditModalCtrl"});hwmEditInstance.result.then(function(hwmUpdatedANDFileCnt){var h=hwmUpdatedANDFileCnt[0],files=hwmUpdatedANDFileCnt[1];h.site_no=siteNo,h.HWMFiles=files,h.stillwater=void 0!==h.stillwater?h.stillwater>0?"Yes":"No":"",$scope.postedHWMs[indexClicked]=h})},$scope.OpenPeakEdit=function(peakId,siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakEditInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return PEAK.query({id:peakId}).$promise},thisPeakDFs:function(){return PEAK.getPeakSummaryDFs({id:peakId}).$promise},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakEditInstance.result.then(function(updated){})},$scope.OpenPeakCreate=function(siteId,eventId){$rootScope.stateIsLoading.showLoading=!0;var peakCreateInstance=$uibModal.open({templateUrl:"PeakEdit_Modal.html",size:"sm",backdrop:"static",keyboard:!1,resolve:{allCollectConditions:function(){return INST_COLL_CONDITION.getAll().$promise},allVertDatums:function(){return vertDatumList},thisPeak:function(){return"empty"},thisPeakDFs:function(){return"empty"},peakSite:function(){return SITE.query({id:siteId}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},allEventHWMs:function(){return HWM.getFilteredHWMs({Event:$scope.chosenEvent,EventStatus:0}).$promise},allSiteFiles:function(){return SITE.getSiteFiles({id:siteId})},allSiteSensors:function(){return SITE.getSiteSensors({id:siteId}).$promise}},controller:"peakModalCtrl"});peakCreateInstance.result.then(function(createdPk){angular.forEach($scope.postedHWMs,function(pHWM){pHWM.site_id==siteId&&(pHWM.PeakSummary=[siteId,createdPk[0].peak_summary_id])})})},$scope.tableSettings={colHeaders:['<span title="Required">Waterbody *</span>','<span title="Identifying Label. If left blank, defaults to &quot;no_label&quot;">HWM Label</span>','<span title="Required">HWM Type *</span>',"Marker",'<span title="Required">HWM Environment *</span>',"HWM Uncertainty (ft)",'<span title="Required">HWM Quality *</span>',"Bank","Loc. Description",'<span title="Required">HWM Latitude *</span>','<span title="Required">HWM Longitude *</span>','<span title="Required">Horizontal Datum *</span>','<span title="Required">Horizontal Collect Method *</span>','<span title="Height above ground">HAG (ft)</span>','<span title="Required">Flag/Found Date *</span>',"Survey Date","Surveyed Elev (ft)","Vertical Datum","Vertical Collect Method","Survey Uncertainty (ft)","Notes","Tranquil/Stillwater",'<span title="Site Number, Required"> Site No *</span>'],rowHeaders:!0,minSpareRows:10,maxRows:10,afterInit:function(){$scope.hotInstance=this},columnSorting:!1,manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,afterOnCellMouseDown:function(event,coords,td){if(22===coords.col&&"htAutocompleteArrow"==event.realTarget.className){$scope.siteNoArrowClicked=!0;var passHWMvals=[];passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,0)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,9)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,10)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,11)),passHWMvals.push($scope.hotInstance.getDataAtCell(coords.row,12)),getFindSiteModal(coords.row,coords.col,passHWMvals)}},contextMenu:["remove_row"],onAfterValidate:function(isValid,value,row,prop,source){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},onAfterChange:function(change,source){if("loadData"!=source)for(var i=0;i<change.length;i++)change[i][2]!==change[i][3]&&$scope.notValid===!1&&($scope.notValid=!0)},onAfterRemoveRow:function(index,amount){var selected=$scope.hotInstance.getSelected();if(amount>1){var eachRowIndexArray=[],cnt=selected[2]-selected[0]+1;eachRowIndexArray.push(selected[0]);for(var c=1;cnt>c;c++)eachRowIndexArray.push(selected[0]+1);for(var Mi=$scope.invalids.length;Mi--;)eachRowIndexArray.indexOf($scope.invalids[Mi].row)>-1&&$scope.invalids.splice(Mi,1)}else for(var i=$scope.invalids.length;i--;)$scope.invalids[i].row==index&&$scope.invalids.splice(i,1)}}}}]),STNControllers.controller("hwmSiteModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModalInstance","nearBySites","HWMparts","siteNoAlreadyThere","hdatums","hcolMeths","vdatums","vcolMeths","states","counties","leafletData","leafletMarkerEvents","GEOCODE","SITE",function($scope,$rootScope,$http,$cookies,$uibModalInstance,nearBySites,HWMparts,siteNoAlreadyThere,hdatums,hcolMeths,vdatums,vcolMeths,states,counties,leafletData,leafletMarkerEvents,GEOCODE,SITE){$scope.localSites=nearBySites,$scope.horDatums=hdatums,$scope.horCollMeths=hcolMeths,$scope.vertDatums=vdatums,$scope.vertCollMeths=vcolMeths,$scope.states=states,$scope.counties=counties,$scope.showSiteCreateArea=!1,$scope.disableOK=!1,$scope.createChecked="0",$scope.showMap=!1,$scope.showHideMap="Show",$scope.showHideCreateSiteDiv=function(){$scope.showSiteCreateArea=!$scope.showSiteCreateArea,angular.forEach($scope.localSites,function(s){delete s.selected}),$scope.showSiteCreateArea?($scope.disableOK=!0,$scope.showMap=!1,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.newSite.waterbody=""!==HWMparts[0]&&null!==HWMparts[0]?HWMparts[0]:"",$scope.newSite.latitude_dd=""!==HWMparts[1]&&null!==HWMparts[1]?HWMparts[1]:"",$scope.newSite.longitude_dd=""!==HWMparts[2]&&null!==HWMparts[2]?HWMparts[2]:"",$scope.newSite.hdatum_id=""!==HWMparts[3]&&null!==HWMparts[3]?$scope.horDatums.filter(function(hd){return hd.datum_name==HWMparts[3]})[0].datum_id:"",$scope.newSite.hcollect_method_id=""!==HWMparts[4]&&null!==HWMparts[4]?$scope.horCollMeths.filter(function(hd){return hd.hcollect_method==HWMparts[4]})[0].hcollect_method_id:"",$scope.getAddress()):$scope.disableOK=!1,angular.forEach($scope.markers,function(mm){"stnSites"==mm.layer&&(mm.icon=icons.stn)})},$scope.unchkCreate=function(checkedSite){$scope.createChecked="0",$scope.showSiteCreateArea=!1,angular.forEach($scope.markers,function(m){"stnSites"==m.layer&&(m.lat==checkedSite.latitude_dd&&m.lng==checkedSite.longitude_dd?(delete m.icon,m.icon=icons.selectedStn):m.icon=icons.stn)}),$scope.disableOK=!1},$scope.showSitesOnMap=function(){$scope.showMap=!$scope.showMap,$scope.showHideMap="Show"==$scope.showHideMap?"Hide":"Show",$scope.showMap&&fitMapBounds()},$scope.markers=[];for(var icons={stn:{type:"div",iconSize:[10,10],className:"stnSiteIcon"},selectedStn:{type:"div",iconSize:[14,14],className:"newSiteIcon"},hwmIcon:{type:"div",iconSize:[16,20],className:"stnHWMIcon"}},i=0;i<$scope.localSites.length;i++){var a=$scope.localSites[i];$scope.markers.push({layer:"stnSites",message:"<div><b>Site Number:</b> "+a.site_no+"<br /><b>Site Name:</b> "+a.site_name+"<br /><b>Waterbody:</b> "+a.waterbody+"<br /><b>Latitude/Longitude:</b> "+a.latitude_dd+" "+a.longitude_dd+"<br /></div>",lat:a.latitude_dd,lng:a.longitude_dd,site_id:a.site_id,title:a.site_no,icon:icons.stn})}$scope.markers.push({layer:"stnHWM",message:"<div><b>HWM</b><br/><b>Latitude:</b> "+HWMparts[1]+"<br/><b>Lontitude:</b> "+HWMparts[2]+"<br/></div>",lat:Number(HWMparts[1]),lng:Number(HWMparts[2]),title:"HWM",icon:icons.hwmIcon});var bounds=[];angular.forEach($scope.localSites,function(s){bounds.push([s.latitude_dd,s.longitude_dd])});var fitMapBounds=function(){leafletData.getMap("associatedSiteMap").then(function(map){map.fitBounds(bounds,{padding:[20,20]})})};fitMapBounds(),angular.extend($scope,{markers:$scope.markers,layers:{baselayers:{topo:{name:"World Topographic",type:"agsBase",layer:"Topographic",visible:!1}},overlays:{stnSites:{type:"group",name:"STN Sites",visible:!0},stnHWM:{type:"group",name:"HWM",visible:!0}}}}),""!==siteNoAlreadyThere&&null!==siteNoAlreadyThere&&angular.forEach($scope.localSites,function(s){if(s.site_no==siteNoAlreadyThere){s.selected="true";var selectedMarker=$scope.markers.filter(function(m){return m.lat==s.latitude_dd&&m.lng==s.longitude_dd})[0];selectedMarker.icon=icons.selectedStn}}),$scope.newSite={};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#SITE_longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(direction){"lat"==direction&&($scope.newSite.latitude_dd<0||$scope.newSite.latitude_dd>73||isNaN($scope.newSite.latitude_dd))&&(openLatModal("latlong"),isNaN($scope.newSite.latitude_dd)&&($scope.newSite.latitude_dd=void 0)),"long"==direction&&($scope.newSite.longitude_dd<-175||$scope.newSite.longitude_dd>-60||isNaN($scope.newSite.longitude_dd))&&(openLongModal("latlong"),isNaN($scope.newSite.longitude_dd)&&($scope.newSite.longitude_dd=void 0))},$scope.updateCountyList=function(s){var thisState=$scope.states.filter(function(st){return st.state_abbrev==s})[0];$scope.stateCountyList=$scope.counties.filter(function(c){
return c.state_id==thisState.state_id})},$scope.getAddress=function(){if(delete $scope.newSite.address,delete $scope.newSite.city,delete $scope.newSite.state,$scope.stateCountyList=[],delete $scope.newSite.zip,void 0===$scope.newSite.latitude_dd||void 0===$scope.newSite.longitude_dd||isNaN($scope.newSite.latitude_dd)||isNaN($scope.newSite.longitude_dd)){$rootScope.stateIsLoading.showLoading=!1;{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please provide a Latitude and Longitude before clicking Verify Location</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}}else $rootScope.stateIsLoading.showLoading=!0,delete $http.defaults.headers.common.Authorization,$http.defaults.headers.common.Accept="application/json",GEOCODE.getAddressParts({Longitude:$scope.newSite.longitude_dd,Latitude:$scope.newSite.latitude_dd},function(response){if(void 0!==response.result)if(response.result.geographies.Counties.length>0){var stateFIPS=response.result.geographies.Counties[0].STATE,countyName=response.result.geographies.Counties[0].NAME,thisStateID=$scope.counties.filter(function(c){return c.state_fip==stateFIPS})[0].state_id,thisState=$scope.states.filter(function(s){return s.state_id==thisStateID})[0];void 0!==thisState?($scope.newSite.state=thisState.state_abbrev,$scope.stateCountyList=$scope.counties.filter(function(c){return c.state_id==thisState.state_id}),$scope.newSite.county=countyName,$rootScope.stateIsLoading.showLoading=!1):($rootScope.stateIsLoading.showLoading=!1,toastr.error("The Latitude/Longitude did not return a recognized state. Please choose one from the dropdown."))}else $rootScope.stateIsLoading.showLoading=!1,toastr.error("No location information came back from that lat/long");else $rootScope.stateIsLoading.showLoading=!1,toastr.error("Error getting address. Choose State and County from dropdowns.")},function(errorResponse){$rootScope.stateIsLoading.showLoading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting address: "+errorResponse.headers(["usgswim-messages"]):"Error getting address: "+errorResponse.statusText)})},$scope.createNewSite=function(valid){valid&&($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.newSite.member_id=$scope.$parent.userID,SITE.save($scope.newSite,function(response){$uibModalInstance.close(response)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating site: "+errorResponse.headers(["usgswim-messages"]):"Error creating site: "+errorResponse.statusText)}))},$scope.ok=function(){var selectedSite=nearBySites.filter(function(s){return"true"==s.selected})[0];$uibModalInstance.close(selectedSite)},$scope.cancel=function(){$uibModalInstance.dismiss()}}]),STNControllers.controller("hwmEditModalCtrl",["$scope","$rootScope","$http","$cookies","$uibModal","$uibModalInstance","allDropdowns","thisHWM","siteHMWs","agencyList","allMembers","fileTypes","hwmSite","SERVER_URL","HWM","FILE","SOURCE","FILE_STAMP",function($scope,$rootScope,$http,$cookies,$uibModal,$uibModalInstance,allDropdowns,thisHWM,siteHMWs,agencyList,allMembers,fileTypes,hwmSite,SERVER_URL,HWM,FILE,SOURCE,FILE_STAMP){$scope.view={HWMval:"detail"},$scope.h={hOpen:!0,hFileOpen:!1},$scope.hwmTypeList=allDropdowns[0],$scope.hwmQualList=allDropdowns[1],$scope.HDatumsList=allDropdowns[2],$scope.hCollMList=allDropdowns[3],$scope.VDatumsList=allDropdowns[4],$scope.vCollMList=allDropdowns[5],$scope.markerList=allDropdowns[6],$scope.eventList=allDropdowns[7],$scope.thisHWMsite=hwmSite,$scope.fileTypeList=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.hwmImageFiles=[],$scope.showFileForm=!1,$scope.userRole=$cookies.get("usersRole"),$scope.showEventDD=!1,$scope.adminChanged={},$scope.serverURL=SERVER_URL,$scope.showChangeEventDD=function(){$scope.showEventDD=!$scope.showEventDD},$scope.LoggedInMember=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aHWM={},$scope.HWMFiles=[],$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0};var openLatModal=function(w){var latModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Latitude must be between 0 and 73.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});latModal.result.then(function(fieldFocus){"latlong"==w?$("#latitude_dd").focus():$("#LaDeg").focus()})},openLongModal=function(w){var longModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The Longitude must be between -175.0 and -60.0</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});longModal.result.then(function(fieldFocus){"latlong"==w?$("#longitude_dd").focus():$("#LoDeg").focus()})};$scope.checkValue=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;(h.latitude_dd<0||h.latitude_dd>73||isNaN(h.latitude_dd))&&(openLatModal("latlong"),isNaN(h.latitude_dd)&&(h.latitude_dd=void 0)),(h.longitude_dd<-175||h.longitude_dd>-60||isNaN(h.longitude_dd))&&(openLongModal("latlong"),isNaN(h.longitude_dd)&&(h.longitude_dd=void 0))},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.chooseQuality=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty);h.hwm_quality_id=x>.4?5:.05>x?1:$scope.hwmQualList.filter(function(h){return h.min_range<=x&&h.max_range>=x})[0].hwm_quality_id}},$scope.compareToUncertainty=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;if(""!==h.hwm_uncertainty&&void 0!==h.hwm_uncertainty){var x=Number(h.hwm_uncertainty),matchingQualId=$scope.hwmQualList.filter(function(h){return void 0!==h.min_range?h.min_range<=x&&h.max_range>=x:void 0})[0].hwm_quality_id;if(h.hwm_quality_id!==matchingQualId){var incongruentModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>There is a mismatch between the hwm quality chosen and the hwm uncertainty above. Please correct your hwm uncertainty.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});incongruentModal.result.then(function(){angular.element("[name='hwm_uncertainty']").focus()})}}};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if($scope.aHWM=angular.copy(thisHWM),delete $scope.aHWM.site_no,$scope.aHWM.HWMFiles)for(var f=0;f<$scope.aHWM.HWMFiles.length;f++)$scope.HWMFiles.push($scope.aHWM.HWMFiles[f]);delete $scope.aHWM.HWMFiles,$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.save=function(valid){if(valid){void 0!==$scope.adminChanged.event_id&&($scope.hwmCopy.event_id=$scope.adminChanged.event_id),void 0!==$scope.hwmCopy.survey_date&&null!==$scope.hwmCopy.survey_date&&void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID")),void 0!==$scope.hwmCopy.elev_ft&&null!==$scope.hwmCopy.elev_ft&&(void 0===$scope.hwmCopy.survey_date&&($scope.hwmCopy.survey_date=makeAdate("")),void 0===$scope.hwmCopy.survey_member_id&&($scope.hwmCopy.survey_member_id=$cookies.get("mID"))),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.update({id:$scope.hwmCopy.hwm_id},$scope.hwmCopy).$promise.then(function(response){toastr.success("HWM updated"),$scope.aHWM=response,thisHWM=response,void 0!==$scope.aHWM.stillwater&&($scope.aHWM.Tranquil=$scope.aHWM.stillwater>0?"Yes":"No"),$scope.aHWM.flag_date=makeAdate($scope.aHWM.flag_date),null!==$scope.aHWM.survey_date&&void 0!==$scope.aHWM.survey_date&&($scope.aHWM.survey_date=makeAdate($scope.aHWM.survey_date)),$scope.hwmCopy={},$scope.view.HWMval="detail"},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving hwm: "+errorResponse.headers(["usgswim-messages"]):"Error saving hwm: "+errorResponse.statusText)})}},$scope.cancel=function(){$rootScope.stateIsLoading.showLoading=!1;var sendBack=[$scope.aHWM,$scope.HWMFiles];$uibModalInstance.close(sendBack)},$scope.wannaEditHWM=function(){$scope.view.HWMval="edit",$scope.hwmCopy=angular.copy($scope.aHWM),$scope.adminChanged.event_id=$scope.aHWM.event_id},$scope.cancelHWMEdit=function(){$scope.view.HWMval="detail",$scope.hwmCopy=[],$scope.adminChanged={},$scope.EventName=$scope.eventList.filter(function(e){return e.event_id==$scope.aHWM.event_id})[0].event_name},$scope.ensurehwmLabelUnique=function(){var h="edit"==$scope.view.HWMval?$scope.hwmCopy:$scope.aHWM;angular.forEach(siteHMWs,function(hwm){if(hwm.hwm_label==h.hwm_label){h.hwm_label=void 0!==h.hwm_id?$scope.aHWM.hwm_label:"hwm-"+(parseFloat(siteHMWs.length)+1);var uniqueModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning</h3></div><div class="modal-body"><p>The hwm label must be unique from all other hwms at this site for this event.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});uniqueModal.result.then(function(){angular.element("[name='hwm_label']").focus()})}})},$scope.stamp=FILE_STAMP.getStamp(),$scope.fileItemExists=!0,$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,photo_date:$scope.aFile.photo_date},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.isPhoto=$scope.aFile.File1.type.indexOf("image")>-1?!0:!1,$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&($scope.hwmImageFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.push(fresponse)),$scope.fileItemExists=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFile=function(file){if($scope.fileTypes=$scope.fileTypeList,$scope.agencies=agencyList,$scope.existFileIndex=-1,$scope.existIMGFileIndex=-1,$scope.aFile={},$scope.aSource={},0!==file){if($scope.existFileIndex=$scope.HWMFiles.indexOf(file),$scope.existIMGFileIndex=$scope.hwmImageFiles.length>0?$scope.hwmImageFiles.indexOf(file):-1,$scope.aFile=angular.copy(file),8!==file.filetype_id&&FILE.getFileItem({id:$scope.aFile.file_id}).$promise.then(function(response){$scope.fileItemExists=response.Length>0?!0:!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting file item: "+errorResponse.headers(["usgswim-messages"]):"Error getting file item: "+errorResponse.statusText)}),$scope.aFile.fileType=$scope.fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),null!==file.source_id&&SOURCE.query({id:file.source_id}).$promise.then(function(s){$scope.aSource=s,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting source: "+errorResponse.headers(["usgswim-messages"]):"Error getting source: "+errorResponse.statusText)})}else $scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.showFileForm=!0,$scope.updateAgencyForCaption=function(){1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name)}},$scope.createFile=function(valid){if(void 0!==$scope.aFile.File){if(valid){$scope.HWMfileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.thisHWMsite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,hwm_id:$scope.aHWM.hwm_id},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),1===fresponse.filetype_id&&$scope.hwmImageFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.source_id=response.source_id,$scope.aFile.site_id=$scope.thisHWMsite.site_id,$scope.aFile.hwm_id=$scope.aHWM.hwm_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("Link saved"),fresponse.fileBelongsTo="HWM File",$scope.HWMFiles.push(fresponse),$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}else alert("Need to choose a file first")},$scope.saveFile=function(valid){if(valid){$scope.HWMfileIsUploading=!0;{$scope.aFile.fileBelongsTo}if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.aSource.source_id){var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aFile.source_id=sResponse.source_id,FILE.update({id:$scope.aFile.file_id},$scope.aFile).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo="HWM File",$scope.HWMFiles[$scope.existFileIndex]=fileResponse,$scope.showFileForm=!1,$scope.HWMfileIsUploading=!1},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.HWMfileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}}},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed"),$scope.HWMFiles.splice($scope.existFileIndex,1),$scope.hwmImageFiles.splice($scope.existIMGFileIndex,1),$scope.showFileForm=!1},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.cancelFile=function(){$scope.aFile={},$scope.aSource={},$scope.showFileForm=!1},$rootScope.stateIsLoading.showLoading=!1}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("bulkHWMAdjCtrl",["$scope","$state","$rootScope","$cookies","$http","$filter","$uibModal","SITE","HWM","HWM_Service","eventList","stateList","countyList",function($scope,$state,$rootScope,$cookies,$http,$filter,$uibModal,SITE,HWM,HWM_Service,eventList,stateList,countyList){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.querySearch={},$scope.showLoading=!1,$scope.dynamic=0,$scope.max=0,$scope.hotInstance,$scope.columnWidths=[84,120,120,120,220,120,120,150,130,160,180],$scope.Changes=[],$scope.invalids=[],$scope.events=eventList,$scope.states=stateList,$scope.HWM_params={},$scope.countyList=countyList,$scope.countyArray=[],$scope.result={searchClicked:!1};var makeAdate=function(d){var aDate=new Date;""!==d&&void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};if($scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.hwmCount="",$scope.UpdateCounties=function(){if(null!==$scope.HWM_params.state_abbrev){var thisState=$scope.states.filter(function(st){return st.state_abbrev==$scope.HWM_params.state_abbrev})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.getHWMs=function(valid){if(valid){$scope.result={},$scope.result.searchClicked=!0;var countyNames=[];angular.forEach($scope.HWM_params.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.querySearch={},$scope.querySearch.Event=$scope.HWM_params.event_id,$scope.querySearch.State=$scope.HWM_params.state_abbrev,$scope.querySearch.Counties=countiesCommaSep,HWM_Service.setBulkHWMSearch($scope.querySearch),HWM.getFilteredHWMs({Event:$scope.HWM_params.event_id,States:$scope.HWM_params.state_abbrev,County:countiesCommaSep},function(response){$scope.hwmCount=response.length,$scope.result.isResponse=$scope.hwmCount>0?!0:!1;for(var i=0;i<response.length;i++){var one={};one.hwm_id=response[i].hwm_id,one.waterbody=response[i].waterbody,one.hwm_label=response[i].hwm_label,one.site_id=response[i].site_id,one.site_no=response[i].site_no,one.hwm_locationdescription=response[i].hwm_locationdescription,one.latitude_dd=response[i].latitude_dd,one.longitude_dd=response[i].longitude_dd,""!==response[i].survey_date&&(one.survey_date=makeAdate(response[i].survey_date)),one.elev_ft=response[i].elev_ft,one.uncertainty=response[i].uncertainty,one.hwm_notes=response[i].hwm_notes,$scope.adjustHWMs.push(one)}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})}},!angular.equals({},HWM_Service.getBulkHWMSearch())){var theSearch=HWM_Service.getBulkHWMSearch();if($scope.HWM_params.event_id=theSearch.Event,$scope.HWM_params.state_abbrev=theSearch.State,$scope.UpdateCounties(),""!==theSearch.Counties){var counties=theSearch.Counties.split(",");$scope.HWM_params.counties=[],angular.forEach($scope.countyArray,function(c){counties.map(function(cA){return cA}).indexOf(c.county_name)>-1&&(c.selected=!0,$scope.HWM_params.counties.push(c))})}$scope.getHWMs(!0)}var requiredModal=function(){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>This field is required.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}},size:"sm"})},colorRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.style.background="#F7F5F5",td},siteNoRenderer=function(instance,td,row,col,prop,value,cellProperties){return Handsontable.renderers.TextRenderer.apply(this,arguments),td.innerHTML='<a ng-click="goToSite()">'+value+"</a>",td.style.background="#F7F5F5",td};$scope.requiredValidator=function(value,callback){value?callback(!0):(requiredModal(),callback(!1))},$scope.numberValidator=function(value,callback){callback(!0)},$scope.save=function(){HWM.getEventStateHWMs({eventId:$scope.HWM_params.event_id,state:$scope.HWM_params.state_abbrev}).$promise.then(function(response){$scope.eventStateHWMs=response;for(var updateTheseHWMs=[],evH=0;evH<$scope.eventStateHWMs.length;evH++){var theyHaveItHere=$scope.adjustHWMs.filter(function(a){return a.hwm_id==$scope.eventStateHWMs[evH].hwm_id})[0];void 0!==theyHaveItHere&&($scope.eventStateHWMs[evH].survye_date=theyHaveItHere.survey_date,$scope.eventStateHWMs[evH].elev_ft=theyHaveItHere.elev_ft,$scope.eventStateHWMs[evH].uncertainty=theyHaveItHere.uncertainty,$scope.eventStateHWMs[evH].hwm_notes=theyHaveItHere.hwm_notes,updateTheseHWMs.push($scope.eventStateHWMs[evH]))}$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",angular.forEach(updateTheseHWMs,function(u){HWM.update({id:u.hwm_id},u).$promise.then(function(){toastr.success("HWMs updated"),$scope.adjustHWMs=[],$scope.eventStateHWMs=[],$scope.invalids=[],$scope.getHWMs(!0)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error updating hwm: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm: "+errorResponse.statusText)})})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting hwms: "+errorResponse.statusText)})},$scope.reset=function(){var resetModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title"></h3></div><div class="modal-body"><p>Warning! This will revert the hwm data to the last saved version. All unsaved edits will be lost.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-click="ok()">OK</button><button class="btn btn-primary" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.cancel=function(){$uibModalInstance.dismiss()}}],size:"sm"});resetModal.result.then(function(){$scope.adjustHWMs=[],HWM_Service.setBulkHWMSearch({}),$scope.invalids=[],$scope.getHWMs(!0)})},$scope.tableSettings={rowHeaders:!0,minSpareRows:0,afterInit:function(){$scope.hotInstance=this},manualColumnResize:!0,manualRowResize:!0,wordWrap:!1,preventOverflow:"horizontal",viewportColumnRenderingOffsetNumber:1,colWidths:$scope.columnWidths,cells:function(row,col,prop){var cellprops={};return 6>=col&&(cellprops.renderer=colorRenderer),3==col&&(cellprops.renderer=siteNoRenderer),cellprops},onBeforeChange:function(data){for(var i=data.length-1;i>=0;i--)if(("elev_ft"==data[i][1]||"uncertainty"==data[i][1])&&""!==data[i][3]&&isNaN(data[i][3])){data.splice(i,1),setTimeout(function(){$scope.hotInstance.deselectCell()},100);{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Value must be a number.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},afterOnCellMouseDown:function(event,coords,td){if(3==coords.col){var site_number=$scope.hotInstance.getDataAtCell(coords.row,coords.col),siteId=$scope.adjustHWMs.filter(function(h){return h.site_no==site_number})[0].site_id;$state.go("site.dashboard",{id:siteId})}},onAfterValidate:function(isValid,value,row,prop,souce){if(isValid||$scope.invalids.push({isValid:isValid,row:row,prop:prop}),isValid){for(var vIndex=-1,vI=0;vI<$scope.invalids.length;vI++)if($scope.invalids[vI].row==row&&$scope.invalids[vI].prop==prop){vIndex=vI;break}vIndex>-1&&$scope.invalids.splice(vIndex,1)}},fillHandle:{autoInsertRow:!1},rowHeights:50}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("helpCtrl",["$scope",function($scope){$scope.helpInfo={},$scope.helpInfo.fact="Some really interesting help will be here."}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("siteFileModalCtrl",["$scope","$cookies","$http","$uibModalInstance","$uibModal","SERVER_URL","FILE_STAMP","fileTypeList","thisFile","fileExists","allMembers","fileSource","dataFile","agencyList","fileSite","FILE","SOURCE","DATA_FILE",function($scope,$cookies,$http,$uibModalInstance,$uibModal,SERVER_URL,FILE_STAMP,fileTypeList,thisFile,fileExists,allMembers,fileSource,dataFile,agencyList,fileSite,FILE,SOURCE,DATA_FILE){$scope.serverURL=SERVER_URL,$scope.userRole=$cookies.get("usersRole"),$scope.view={FILEval:"detail"},$scope.sFileIsUploading=!1,$scope.fileTypes=fileTypeList,$scope.agencies=agencyList,$scope.theSite=fileSite,$scope.aFile={},$scope.aSource={},$scope.datafile={},$scope.isNum=function(evt){var theEvent=evt||window.event,key=theEvent.keyCode||theEvent.which;46!=key&&45!=key&&key>31&&(48>key||key>57)&&(theEvent.returnValue=!1,theEvent.preventDefault&&theEvent.preventDefault())},$scope.fileItemExists=void 0===fileExists||fileExists.Length>0?!0:!1,$scope.datepickrs={},$scope.dateOptions={startingDay:1,showWeeks:!1},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.updateAgencyForCaption=function(){"create"==$scope.createOReditFile?1==$scope.aFile.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name):1==$scope.fileCopy.filetype_id&&($scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.sourceCopy.agency_id})[0].agency_name)};var getDateTimeParts=function(d){var y=d.substr(0,4),m=d.substr(5,2)-1,da=d.substr(8,2),h=d.substr(11,2),mi=d.substr(14,2),sec=d.substr(17,2),theDate=new Date(y,m,da,h,mi,sec);return theDate};if(void 0!==thisFile){if($scope.createOReditFile="edit",$scope.whoseFile=thisFile.fileBelongsTo,"Objective Point File"==$scope.whoseFile&&($scope.whoseFile="Datum Location File"),$scope.aFile=thisFile,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,void 0!==$scope.aFile.name){var fI=$scope.aFile.name.lastIndexOf("."),fileExt=$scope.aFile.name.substring(fI+1);$scope.isPhoto=fileExt.match(/(jpg|JPG|jpeg|JPEG|png|PNG|gif|GIF)$/)?!0:!1}if($scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),void 0!==fileSource&&($scope.aSource=fileSource,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.agencyNameForCap=$scope.aSource.agencyName),void 0!==dataFile){$scope.ApprovalInfo={},$scope.datafile=dataFile,$scope.timeZoneList=["UTC","PST","MST","CST","EST"],$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end),
void 0!==$scope.datafile.approval_id&&null!==$scope.datafile.approval_id&&$scope.datafile.approval_id>=1&&DATA_FILE.getDFApproval({id:$scope.datafile.data_file_id},function(approvalResponse){$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting approval info: "+errorResponse.headers(["usgswim-messages"]):"Error getting approval info: "+errorResponse.statusText)});var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:""}}else $scope.whoseFile="Site File",$scope.createOReditFile="create",$scope.aFile.file_date=new Date,$scope.aFile.photo_date=new Date,$scope.aSource=allMembers.filter(function(m){return m.member_id==$cookies.get("mID")})[0],$scope.aSource.FULLname=$scope.aSource.fname+" "+$scope.aSource.lname,$scope.agencyNameForCap=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name;$scope.cancel=function(){$scope.sFileIsUploading=!1;var sendBack=$scope.aFile;$uibModalInstance.close(sendBack)},$scope.create=function(valid){if(valid){$scope.sFileIsUploading=!0,$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var theSource={source_name:$scope.aSource.FULLname,agency_id:$scope.aSource.agency_id};SOURCE.save(theSource).$promise.then(function(response){if(8!==$scope.aFile.filetype_id){var fileParts={FileEntity:{filetype_id:$scope.aFile.filetype_id,name:$scope.aFile.File.name,file_date:$scope.aFile.file_date,photo_date:$scope.aFile.photo_date,description:$scope.aFile.description,site_id:$scope.theSite.site_id,source_id:response.source_id,photo_direction:$scope.aFile.photo_direction},File:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})}else $scope.aFile.site_id=$scope.theSite.site_id,$scope.aFile.source_id=response.source_id,FILE.save($scope.aFile).$promise.then(function(fresponse){toastr.success("File Uploaded"),fresponse.fileBelongsTo="Site File";var state="created",sendBack=[fresponse,state];$scope.sFileIsUploading=!1,$uibModalInstance.close(sendBack)},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating file: "+errorResponse.headers(["usgswim-messages"]):"Error creating file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating source: "+errorResponse.headers(["usgswim-messages"]):"Error creating source: "+errorResponse.statusText)})}},$scope.changedFileType=function(){},$scope.save=function(valid){if(2==$scope.fileCopy.filetype_id){var s=$scope.dfCopy.good_start,e=$scope.dfCopy.good_end;if(new Date(e)<new Date(s)){valid=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The good end date must be after the good start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){valid=!1})}}if(valid){$scope.sFileIsUploading=!0;var whatkind=$scope.aFile.fileBelongsTo;if($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",void 0!==$scope.sourceCopy.source_id){var theSource={source_name:$scope.sourceCopy.FULLname,agency_id:$scope.sourceCopy.agency_id};SOURCE.save(theSource).$promise.then(function(sResponse){$scope.aSource=sResponse,$scope.aSource.FULLname=$scope.aSource.source_name,$scope.aSource.agencyName=$scope.agencies.filter(function(a){return a.agency_id==$scope.aSource.agency_id})[0].agency_name,$scope.fileCopy.source_id=sResponse.source_id,FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.sourceCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving source: "+errorResponse.headers(["usgswim-messages"]):"Error saving source: "+errorResponse.statusText)})}else{if("UTC"!=$scope.dfCopy.time_zone){var utcStartDateTime=new Date($scope.dfCopy.good_start).toUTCString(),utcEndDateTime=new Date($scope.dfCopy.good_end).toUTCString();$scope.dfCopy.good_start=utcStartDateTime,$scope.dfCopy.good_end=utcEndDateTime,$scope.dfCopy.time_zone="UTC"}else{var si=$scope.dfCopy.good_start.toString().indexOf("GMT")+3,ei=$scope.dfCopy.good_end.toString().indexOf("GMT")+3;$scope.dfCopy.good_start=$scope.dfCopy.good_start.toString().substring(0,si),$scope.dfCopy.good_end=$scope.dfCopy.good_end.toString().substring(0,ei)}DATA_FILE.update({id:$scope.dfCopy.data_file_id},$scope.dfCopy).$promise.then(function(dfResponse){$scope.datafile=dfResponse,$scope.datafile.collect_date=new Date($scope.datafile.collect_date),$scope.datafile.good_start=getDateTimeParts($scope.datafile.good_start),$scope.datafile.good_end=getDateTimeParts($scope.datafile.good_end);var aProcessor=null!==$scope.datafile.processor_id?allMembers.filter(function(amem){return amem.member_id==$scope.datafile.processor_id})[0]:{};$scope.processor=void 0!==aProcessor.fname?aProcessor.fname+" "+aProcessor.lname:"",FILE.update({id:$scope.fileCopy.file_id},$scope.fileCopy).$promise.then(function(fileResponse){toastr.success("File Updated"),fileResponse.fileBelongsTo=whatkind,$scope.aFile=fileResponse,$scope.aFile.fileType=fileTypeList.filter(function(ft){return ft.filetype_id==$scope.aFile.filetype_id})[0].filetype,$scope.aFile.file_date=new Date($scope.aFile.file_date),void 0!==$scope.aFile.photo_date&&($scope.aFile.photo_date=new Date($scope.aFile.photo_date)),$scope.fileCopy={},$scope.dfCopy={},$scope.view.FILEval="detail",$scope.sFileIsUploading=!1},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file's data file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file's data file: "+errorResponse.statusText)})}}},$scope.saveFileUpload=function(){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",$scope.sFileIsUploading=!0;var fileParts={FileEntity:{file_id:$scope.aFile.file_id,name:$scope.aFile.name,description:$scope.aFile.description,photo_direction:$scope.aFile.photo_direction,latitude_dd:$scope.aFile.latitude_dd,longitude_dd:$scope.aFile.longitude_dd,file_date:$scope.aFile.file_date,hwm_id:$scope.aFile.hwm_id,site_id:$scope.aFile.site_id,filetype_id:$scope.aFile.filetype_id,source_id:$scope.aFile.source_id,path:$scope.aFile.path,data_file_id:$scope.aFile.data_file_id,instrument_id:$scope.aFile.instrument_id,photo_date:$scope.aFile.photo_date,is_nwis:$scope.aFile.is_nwis,objective_point_id:$scope.aFile.objective_point_id},File:void 0!==$scope.aFile.File1?$scope.aFile.File1:$scope.aFile.File},fd=new FormData;fd.append("FileEntity",JSON.stringify(fileParts.FileEntity)),fd.append("File",fileParts.File),FILE.uploadFile(fd).$promise.then(function(fresponse){toastr.success("File Uploaded"),$scope.src=$scope.serverURL+"/Files/"+$scope.aFile.file_id+"/Item"+FILE_STAMP.getStamp(),FILE_STAMP.setStamp(),$scope.stamp=FILE_STAMP.getStamp(),$scope.aFile.name=fresponse.name,$scope.aFile.path=fresponse.path,$scope.isPhoto=void 0!==$scope.aFile.File1?$scope.aFile.File1.type.indexOf("image")>-1?!0:!1:$scope.aFile.File.type.indexOf("image")>-1?!0:!1,void 0!==$scope.aFile.File1&&($scope.aFile.File=$scope.aFile.File1,$scope.aFile.File1=void 0),$scope.sFileIsUploading=!1,$scope.fileItemExists=!0},function(errorResponse){$scope.sFileIsUploading=!1,toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving file: "+errorResponse.headers(["usgswim-messages"]):"Error saving file: "+errorResponse.statusText)})},$scope.deleteFile=function(){var DeleteModalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return $scope.aFile},what:function(){return"File"}}});DeleteModalInstance.result.then(function(fileToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),FILE["delete"]({id:fileToRemove.file_id}).$promise.then(function(){toastr.success("File Removed");var sendBack=["de","deleted"];$uibModalInstance.close(sendBack)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting file: "+errorResponse.headers(["usgswim-messages"]):"Error deleting file: "+errorResponse.statusText)})})},$scope.wannaEditFILE=function(){$scope.view.FILEval="edit",$scope.fileCopy=angular.copy($scope.aFile),$scope.dfCopy=angular.copy($scope.datafile),$scope.sourceCopy=angular.copy($scope.aSource)},$scope.cancelFILEEdit=function(){$scope.view.FILEval="detail",$scope.fileCopy={},$scope.dfCopy={},$scope.sourceCopy={}},$scope.approveDF=function(){var thisDF=$scope.datafile,approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve Data File</h3></div><div class='modal-body'><p>Are you ready to approve this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});approveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.approveDF({id:df.data_file_id}).$promise.then(function(approvalResponse){df.approval_id=approvalResponse.approval_id,$scope.datafile=df,toastr.success("Data File Approved"),$scope.ApprovalInfo.approvalDate=new Date(approvalResponse.approval_date),$scope.ApprovalInfo.Member=allMembers.filter(function(amem){return amem.member_id==approvalResponse.member_id})[0]},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error approving data file: "+errorResponse.headers(["usgswim-messages"]):"Error approving data file: "+errorResponse.statusText)})},function(){})},$scope.unApproveDF=function(){var thisDF=$scope.datafile,unapproveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Remove Approval</h3></div><div class='modal-body'><p>Are you sure you wan to unapprove this Data File?</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='unApproveIt()'>Unapprove</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.unApproveIt=function(){$uibModalInstance.close(thisDF)}}],size:"sm"});unapproveModal.result.then(function(df){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),DATA_FILE.unApproveDF({id:df.data_file_id}).$promise.then(function(){df.approval_id=null,$scope.datafile=df,toastr.success("Data File Unapproved"),$scope.ApprovalInfo={}},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error unapproving data file: "+errorResponse.headers(["usgswim-messages"]):"Error unapproving data file: "+errorResponse.statusText)})},function(){})}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("fileCtrl",["$scope","$rootScope","$cookies","$location","$state","$http","SERVER_URL","FILE_STAMP","Site_Files","HWM_Service","Instrument_Service","$uibModal","$filter","$timeout","thisSite","thisSiteFiles","allFileTypes","allAgencies","thisSiteSensors","thisSiteOPs","thisSiteHWMs","FILE","DATA_FILE","MEMBER","SOURCE","SITE",function($scope,$rootScope,$cookies,$location,$state,$http,SERVER_URL,FILE_STAMP,Site_Files,HWM_Service,Instrument_Service,$uibModal,$filter,$timeout,thisSite,thisSiteFiles,allFileTypes,allAgencies,thisSiteSensors,thisSiteOPs,thisSiteHWMs,FILE,DATA_FILE,MEMBER,SOURCE,SITE){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.serverURL=SERVER_URL,$scope.stamp=FILE_STAMP.getStamp(),$rootScope.$on("fileStampSet",function(event,st){$scope.stamp=st}),$scope.siteHWMs=thisSiteHWMs,$scope.siteSensors=thisSiteSensors;for(var sf=0;sf<thisSiteFiles.length;sf++){var whatKindaFile="";if(thisSiteFiles[sf].hwm_id>0&&null!==thisSiteFiles[sf].hwm_id&&(whatKindaFile="HWM File"),thisSiteFiles[sf].data_file_id>0&&null!==thisSiteFiles[sf].data_file_id&&(whatKindaFile="DataFile File"),thisSiteFiles[sf].instrument_id>0&&null!==thisSiteFiles[sf].instrument_id){whatKindaFile="Sensor File";var thisIns=thisSiteSensors.filter(function(s){return s.instrument_id==thisSiteFiles[sf].instrument_id})[0];thisSiteFiles[sf].typeName=thisIns.serial_number}thisSiteFiles[sf].objective_point_id>0&&null!==thisSiteFiles[sf].objective_point_id&&(whatKindaFile="Objective Point File",thisSiteFiles[sf].typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==thisSiteFiles[sf].objective_point_id})[0].name),""===whatKindaFile&&(whatKindaFile="Site File"),thisSiteFiles[sf].fileBelongsTo=whatKindaFile}Site_Files.setAllSiteFiles(thisSiteFiles),$scope.SiteFiles=Site_Files.getAllSiteFiles(),$scope.siteImageFiles=[];for(var s=0;s<$scope.SiteFiles.length;s++){var extI=$scope.SiteFiles[s].name.indexOf("."),extString=$scope.SiteFiles[s].name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push($scope.SiteFiles[s])}$scope.$on("siteFilesUpdated",function(event,sitefiles){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=sitefiles.filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name)});var hwmFiles=sitefiles.filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=sitefiles.filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id});if(void 0!==$cookies.get("SessionEventID"))for(var Ehf=0;Ehf<hwmFiles.length;Ehf++)for(var Ehwm=0;Ehwm<$scope.siteHWMs.length;Ehwm++)hwmFiles[Ehf].hwm_id==$scope.siteHWMs[Ehwm].hwm_id&&$scope.siteHWMs[Ehwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[Ehf]);else for(var hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.SiteFiles.push(hwmFiles[hf]);if(void 0!==$cookies.get("SessionEventID"))for(var Esf=0;Esf<sensFiles.length;Esf++)for(var Einst=0;Einst<$scope.siteSensors.length;Einst++)sensFiles[Esf].instrument_id==$scope.siteSensors[Einst].instrument_id&&$scope.siteSensors[Einst].event_id==$cookies.get("SessionEventID")&&(sensFiles[Esf].typeName=$scope.siteSensors[Einst].serial_number,$scope.SiteFiles.push(sensFiles[Esf]));else for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]));$scope.siteImageFiles=[],angular.forEach($scope.SiteFiles,function(sf){var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)})},!0),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){if($scope.sessionEventName=void 0!==newValue?newValue:"All Events",$scope.sessionEventExists="All Events"!=$scope.sessionEventName?!0:!1,void 0!==newValue){$scope.siteHWMs=HWM_Service.getAllSiteHWMs(),$scope.siteSensors=Instrument_Service.getAllSiteSensors(),$scope.SiteFiles=Site_Files.getAllSiteFiles().filter(function(h){return"Site File"==h.fileBelongsTo||"Objective Point File"==h.fileBelongsTo}),angular.forEach($scope.SiteFiles,function(sf){"Objective Point File"==sf.fileBelongsTo&&(sf.typeName=thisSiteOPs.filter(function(op){return op.objective_point_id==sf.objective_point_id})[0].name),$scope.siteImageFiles=[];var extI=sf.name.indexOf("."),extString=sf.name.substring(extI+1);["jpg","JPG","jpeg","JPEG","png","PNG","gif","GIF"].indexOf(extString)>-1&&$scope.siteImageFiles.push(sf)});for(var hwmFiles=Site_Files.getAllSiteFiles().filter(function(sfiles){return"HWM File"==sfiles.fileBelongsTo}),sensFiles=Site_Files.getAllSiteFiles().filter(function(sfi){return sfi.instrument_id>0&&null!==sfi.instrument_id}),hf=0;hf<hwmFiles.length;hf++)for(var hwm=0;hwm<$scope.siteHWMs.length;hwm++)hwmFiles[hf].hwm_id==$scope.siteHWMs[hwm].hwm_id&&$scope.siteHWMs[hwm].event_id==$cookies.get("SessionEventID")&&$scope.SiteFiles.push(hwmFiles[hf]);for(var sf=0;sf<sensFiles.length;sf++)for(var inst=0;inst<$scope.siteSensors.length;inst++)sensFiles[sf].instrument_id==$scope.siteSensors[inst].instrument_id&&$scope.siteSensors[inst].event_id==$cookies.get("SessionEventID")&&(sensFiles[sf].typeName=$scope.siteSensors[inst].serial_number,$scope.SiteFiles.push(sensFiles[sf]))}else $scope.SiteFiles=Site_Files.getAllSiteFiles()},!0),$scope.showImageModal=function(image){$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Image File Preview</h3></div><div class="modal-body"><img ng-src="{{setSRC}}" /></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()},$scope.imageId=image,$scope.setSRC=SERVER_URL+"/Files/"+$scope.imageId+"/Item"}],size:"md"})},$scope.showFileModal=function(FileClicked){var SindexClicked=$scope.SiteFiles.indexOf(FileClicked);$scope.siteFileTypes=allFileTypes.filter(function(ft){return"Photo"===ft.filetype||"Historic Citation"===ft.filetype||"Field Sheets"===ft.filetype||"Level Notes"===ft.filetype||"Site Sketch"===ft.filetype||"Other"===ft.filetype||"Link"===ft.filetype||"Sketch"===ft.filetype||"Landowner Permission Form"===ft.filetype}),$scope.hwmFileTypes=allFileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Link"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorFileTypes=allFileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Link"===sft.filetype||"Sketch"===sft.filetype}),$scope.opFileTypes=allFileTypes.filter(function(oft){return"Photo"===oft.filetype||"Field Sheets"===oft.filetype||"Level Notes"===oft.filetype||"Other"===oft.filetype||"NGS Datasheet"===oft.filetype||"Sketch"===oft.filetype});var modalInstance=$uibModal.open({templateUrl:0!==FileClicked?"FILEmodal.html":"FileCreateModal.html",controller:"siteFileModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{fileExists:function(){return 0!==FileClicked?FILE.getFileItem({id:FileClicked.file_id}).$promise:void 0},fileTypeList:function(){if(0===FileClicked)return $scope.siteFileTypes;switch(FileClicked.fileBelongsTo){case"HWM File":return $scope.hwmFileTypes;case"DataFile File":return $scope.sensorFileTypes;case"Sensor File":return $scope.sensorFileTypes;case"Objective Point File":return $scope.opFileTypes;case"Site File":return $scope.siteFileTypes}},agencyList:function(){return allAgencies},thisFile:function(){return 0!==FileClicked?FileClicked:void 0},fileSite:function(){return SITE.query({id:thisSite.site_id}).$promise},allMembers:function(){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll().$promise},fileSource:function(){return 0!==FileClicked&&void 0!==FileClicked.source_id?SOURCE.query({id:FileClicked.source_id}).$promise:void 0},dataFile:function(){return 0!==FileClicked&&void 0!==FileClicked.data_file_id?DATA_FILE.query({id:FileClicked.data_file_id}).$promise:void 0}}});modalInstance.result.then(function(createdFile){"created"==createdFile[1]&&($scope.SiteFiles.push(createdFile[0]),Site_Files.setAllSiteFiles($scope.SiteFiles)),void 0===createdFile[1]&&($scope.SiteFiles[SindexClicked]=createdFile,Site_Files.setAllSiteFiles($scope.SiteFiles),$scope.stamp=FILE_STAMP.getStamp()),"deleted"==createdFile[1]&&($scope.SiteFiles.splice(SindexClicked,1),Site_Files.setAllSiteFiles($scope.SiteFiles))})}}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("eventSessionModalCtrl",["$scope","$rootScope","$cookies","$uibModalInstance","allEvents","allEventTypes","allStates","EVENT",function($scope,$rootScope,$cookies,$uibModalInstance,allEvents,allEventTypes,allStates,EVENT){$scope.EventList=allEvents,$scope.EventTypeList=allEventTypes,$scope.StateList=allStates;var chosenEv=$cookies.get("SessionEventID");$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.filterEvents=function(){var d=null!==$scope.event.DATE&&void 0!==$scope.event.DATE?$scope.event.DATE:null,t=null!==$scope.event.type&&void 0!==$scope.event.type?$scope.event.type:0,s=null!==$scope.event.state&&void 0!==$scope.event.state?$scope.event.state:null;EVENT.getFilteredEvents({Date:d,Type:t,State:s}).$promise.then(function(response){$scope.EventList=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting filtered events: "+errorResponse.headers(["usgswim-messages"]):"Error getting filtered events: "+errorResponse.statusText)})},$scope.clearFilters=function(){$scope.event={EventChosen:void 0!==chosenEv?Number(chosenEv):""},$scope.EventList=allEvents},$scope.setEvent=function(){if($scope.evID=$scope.event.EventChosen,""!==$scope.evID){var eventName=allEvents.filter(function(x){return x.event_id==$scope.evID})[0];$cookies.put("SessionEventID",$scope.evID),$cookies.put("SessionEventName",eventName.event_name),$rootScope.sessionEvent="Session Event: "+eventName.event_name+".",$uibModalInstance.dismiss("cancel")}else toastr.error("You must choose an Event first.")},$scope.clearEvent=function(){$scope.event={},$cookies.remove("SessionEventID"),$cookies.remove("SessionEventName"),$rootScope.sessionEvent="",$uibModalInstance.dismiss("cancel")},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.close=function(){$uibModalInstance.dismiss("cancel")}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("eventSessionCtrl",["$scope","$rootScope","$cookies","$uibModal","$location","$state","EVENT","EVENT_TYPE","STATE",function($scope,$rootScope,$cookies,$uibModal,$location,$state,EVENT,EVENT_TYPE,STATE){$scope.openEventModal=function(){var modalInstance=$uibModal.open({templateUrl:"ChooseEvent.html",controller:"eventSessionModalCtrl",size:"md",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{allEvents:function(){return EVENT.getAll().$promise},allEventTypes:function(){return EVENT_TYPE.getAll().$promise},allStates:function(){return STATE.getAll().$promise}}});modalInstance.result.then(function(r){})}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventModalCtrl",["$scope","$rootScope","$cookies","$http","$uibModal","$uibModalInstance","$filter","thisEvent","eventTypeList","eventStatusList","adminList","fileTypes","eventSites","allStates","allCounties","EVENT","FILE","SERVER_URL",function($scope,$rootScope,$cookies,$http,$uibModal,$uibModalInstance,$filter,thisEvent,eventTypeList,eventStatusList,adminList,fileTypes,eventSites,allStates,allCounties,EVENT,FILE,SERVER_URL){$scope.serverURL=SERVER_URL,$scope.downloadZipUrl="",$scope.objectChoices=["HWMs","Sensors"],$scope.anEvent={},$scope.eventTypes=eventTypeList,$scope.eventStatuses=eventStatusList,$scope.adminMembers=adminList,$scope.loggedInRole=$cookies.get("usersRole"),$scope.view={EVval:"detail"},$scope.dl={dlOpen:!0,dlFileOpen:!1},$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.wannaEditEV=function(){$scope.view.EVval="edit",$scope.evCopy=angular.copy($scope.anEvent)},$scope.cancelEVEdit=function(){$scope.view.EVval="detail",$scope.evCopy=[]};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime},dateWOtime=function(d){var year=d.getFullYear(),month=d.getMonth(),day=("0"+d.getDate()).slice(-2),monthNames=["01","02","03","04","05","06","07","08","09","10","11","12"],dateWOtime=monthNames[month]+"/"+day+"/"+year;return dateWOtime};"empty"!==thisEvent?($scope.createOReditEV="edit",$scope.evModalHeader="Event Information",$scope.anEvent=angular.copy(thisEvent),$scope.anEvent.event_start_date=void 0!==$scope.anEvent.event_start_date?makeAdate($scope.anEvent.event_start_date):"",$scope.anEvent.event_end_date=void 0!==$scope.anEvent.event_end_date?makeAdate($scope.anEvent.event_end_date):""):($scope.createOReditEV="create",$scope.anEvent.event_start_date=makeAdate());var compareDates=function(v,sd,ed){if(new Date(ed)<new Date(sd)){v=!1;var fixDate=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>The event end date must be after the event start date.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"});fixDate.result.then(function(){v=!1})}else(""===ed||""===sd)&&(v=!1);return v};if($scope.create=function(valid){if(void 0!==$scope.anEvent.event_start_date&&null!==$scope.anEvent.event_start_date&&void 0!==$scope.anEvent.event_end_date&&null!==$scope.anEvent.event_end_date&&(valid=compareDates(valid,$scope.anEvent.event_start_date,$scope.anEvent.event_end_date)),valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var createdEvent={};EVENT.save($scope.anEvent,function(response){toastr.success("Event Created"),createdEvent=response,createdEvent.event_id=response.event_id,createdEvent.Name=response.event_name,createdEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,createdEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];createdEvent.StartDate=response.event_start_date,createdEvent.EndDate=response.event_end_date,createdEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:""},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error creating new event: "+errorResponse.headers(["usgswim-messages"]):"Error creating new event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[createdEvent,"created"];$uibModalInstance.close(sendBack)})}},$scope.save=function(valid){if(void 0!==$scope.evCopy.event_start_date&&null!==$scope.evCopy.event_start_date&&void 0!==$scope.evCopy.event_end_date&&null!==$scope.evCopy.event_end_date&&(valid=compareDates(valid,$scope.evCopy.event_start_date,$scope.evCopy.event_end_date)),valid){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json";var updatedEvent={};EVENT.update({id:$scope.evCopy.event_id},$scope.evCopy,function(response){updatedEvent=response,updatedEvent.event_id=response.event_id,updatedEvent.Name=response.event_name,updatedEvent.Type=$scope.eventTypes.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,updatedEvent.Status=$scope.eventStatuses.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.adminMembers.filter(function(c){return c.member_id==response.event_coordinator})[0];updatedEvent.StartDate=response.event_start_date,updatedEvent.EndDate=response.event_end_date,updatedEvent.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",toastr.success("Event Updated")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error saving: "+errorResponse.headers(["usgswim-messages"]):"Error saving event: "+errorResponse.statusText)}).$promise.then(function(){var sendBack=[updatedEvent,"updated"];$uibModalInstance.close(sendBack)})}},$scope.deleteEV=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(eventToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:eventToRemove.event_id},function(response){toastr.success("Event Deleted")},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error deleting: "+errorResponse.headers(["usgswim-messages"]):"Error deleting event: "+errorResponse.statusText)}).$promise.then(function(){$uibModalInstance.close(["de","deleted"])})})},$scope.cancel=function(){$uibModalInstance.close();

},$rootScope.stateIsLoading={showLoading:!1},"empty"!==thisEvent){if($scope.zipFileParams={filesFor:"",stateName:"",countyName:"",fromDate:"",toDate:""},$scope.siteCountyList=[],$scope.countyArray=[],$scope.eventStates=[],void 0!==eventSites)for(var st=0;st<allStates.length;st++)for(var es=0;es<eventSites.length;es++)eventSites[es].state==allStates[st].state_abbrev&&($scope.eventStates.push(allStates[st]),es=eventSites.length);else $scope.eventStates=allStates;for(var ci=0;ci<eventSites.length;ci++)$scope.siteCountyList.map(function(scl){return scl.county_name}).indexOf(eventSites[ci].county)<0&&$scope.siteCountyList.push({state_abbrev:eventSites[ci].state,county_name:eventSites[ci].county,state_id:allStates.filter(function(s){return s.state_abbrev==eventSites[ci].state})[0].state_id});$scope.UpdateCounties=function(){if(void 0!==$scope.zipFileParams.stateName){var thisState=$scope.eventStates.filter(function(st){return st.state_abbrev==$scope.zipFileParams.stateName})[0];$scope.countyArray=$scope.siteCountyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},$scope.HWMfileTypes=fileTypes.filter(function(hft){return"Photo"===hft.filetype||"Historic Citation"===hft.filetype||"Field Sheets"===hft.filetype||"Level Notes"===hft.filetype||"Other"===hft.filetype||"Sketch"===hft.filetype}),$scope.sensorfileTypes=fileTypes.filter(function(sft){return"Photo"===sft.filetype||"Data"===sft.filetype||"Historic Citation"===sft.filetype||"Field Sheets"===sft.filetype||"Level Notes"===sft.filetype||"Other"===sft.filetype||"Sketch"===sft.filetype}),$scope.updatefileTypeChecks=function(){$scope.hwmFileTypesWanted=[];$scope.hwmFileTypesString="",$scope.sensorFileTypesString="",angular.forEach($scope.HWMfileTypes,function(hwmFT){hwmFT.selected=!1}),angular.forEach($scope.sensorfileTypes,function(senFT){senFT.selected=!1}),"HWMs"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.HWMfileTypes),"Sensors"==$scope.zipFileParams.filesFor&&($scope.fileTypeCheckList=$scope.sensorfileTypes),$scope.filesWantedChosen=!0},$scope.checkedFile=function(f){"HWMs"==$scope.zipFileParams.filesFor&&($scope.hwmFileTypesWanted=[],angular.forEach($scope.HWMfileTypes,function(hf){hf.selected&&$scope.hwmFileTypesWanted.push(hf.filetype_id)}),$scope.hwmFileTypesString=$scope.hwmFileTypesWanted.join(",")),"Sensors"==$scope.zipFileParams.filesFor&&($scope.sensorFileTypesWanted=[],angular.forEach($scope.sensorfileTypes,function(sf){sf.selected&&$scope.sensorFileTypesWanted.push(sf.filetype_id)}),$scope.sensorFileTypesString=$scope.sensorFileTypesWanted.join(","))},$scope.DownloadZip=function(){var formattedFromDate="",formattedToDate="";if(""!==$scope.zipFileParams.fromDate&&(formattedFromDate=dateWOtime($scope.zipFileParams.fromDate)),""!==$scope.zipFileParams.toDate&&(formattedToDate=dateWOtime($scope.zipFileParams.toDate)),""!==$scope.zipFileParams.filesFor){var filepath=$scope.serverURL+"/Events/"+$scope.anEvent.event_id+"/EventFileItems?State="+$scope.zipFileParams.stateName+"&County="+$scope.zipFileParams.countyName+"&FromDate="+formattedFromDate+"&ToDate="+formattedToDate+"&FilesFor="+$scope.zipFileParams.filesFor+"&HWMFileType="+$scope.hwmFileTypesString+"&SensorFileTypes="+$scope.sensorFileTypesString,xhr=new XMLHttpRequest;xhr.open("GET",filepath),toastr.options={closeButton:!0,positionClass:"toast-bottom-right",onclick:null,timeOut:"0",extendedTimeOut:"0"},toastr.warning("Zip file is downloading."),xhr.responseType="blob",xhr.setRequestHeader("Content-type","application/*; charset=utf-8"),xhr.setRequestHeader("Authorization","Basic "+$cookies.get("STNCreds")),xhr.onreadystatechange=function(){if(4===xhr.readyState)if("Internal Server Error"!==xhr.statusText){var usgsWiMmessage=xhr.getResponseHeader("usgswim-messages");if("info: FileCount:0,Count: 0"==usgsWiMmessage){toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">No Files</h3></div><div class="modal-body"><p>There are no files that match your query.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}else{var blob=new Blob([xhr.response],{type:"application/octet-stream"}),a=document.createElement("a"),urlCreator=window.URL||window.webkitURL||window.mozURL||window.msURL,fileURL=urlCreator.createObjectURL(blob);a.style="display: none",a.href=fileURL,a.download="EventFileDownload.zip",a.target="_blank",document.body.appendChild(a),a.click(),toastr.clear()}}else{toastr.clear();{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Download was unsuccessful. Possible cause is that the zip file is too large to download.</p><p>Please narrow your search and try again.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}},xhr.send()}else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>You must choose either HWM files or Sensor files before a downloaded zip file can be requested.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.dismiss()}}],size:"sm"})}}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventInfoCtrl",["$scope","$cookies","$location","$http","$uibModal","$filter","EVENT","thisEvent",function($scope,$cookies,$location,$http,$uibModal,$filter,EVENT,thisEvent){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$scope.datepickrs={},$scope.open=function($event,which){$event.preventDefault(),$event.stopPropagation(),$scope.datepickrs[which]=!0},$scope.anEvent={},$scope.DeleteEvent=function(ev){var modalInstance=$uibModal.open({templateUrl:"removemodal.html",controller:"ConfirmModalCtrl",size:"sm",resolve:{nameToRemove:function(){return ev},what:function(){return"Event"}}});modalInstance.result.then(function(nameToRemove){$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),EVENT["delete"]({id:nameToRemove.event_id},function(response){var delEv={};delEv.event_id=nameToRemove.event_id,delEv.Name=nameToRemove.event_name,delEv.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==nameToRemove.event_type_id})[0].type,delEv.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==nameToRemove.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==nameToRemove.event_coordinator})[0];delEv.StartDate=nameToRemove.event_start_date,delEv.EndDate=nameToRemove.event_end_date,delEv.Coord=void 0!==coord?coord.fname+" "+coord.lname:"";for(var index=0,i=0;i<$scope.eventList.length;i++)$scope.eventList[i].event_id==delEv.event_id&&(index=i,i=$scope.eventList.length);$scope.eventList.splice(index,1),toastr.success("Event Deleted")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})})};var makeAdate=function(d){var aDate=new Date;void 0!==d&&(aDate=new Date(d));var year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=new Date(monthNames[month]+" "+day+", "+year);return dateWOtime};if(void 0!==thisEvent){$scope.anEvent=thisEvent,$scope.anEvent.event_start_date=makeAdate($scope.anEvent.event_start_date),$scope.anEvent.event_end_date=makeAdate($scope.anEvent.event_end_date),$scope.thisEventType=$scope.eventTypeList.filter(function(a){return a.event_type_id==thisEvent.event_type_id})[0].type,$scope.thisEventStatus=$scope.eventStatList.filter(function(r){return r.event_status_id==thisEvent.event_status_id})[0].status;var EC=$scope.eventCoordList.filter(function(c){return c.member_id==thisEvent.event_coordinator})[0];$scope.thisEventCoord=void 0!==EC?EC.fname+" "+EC.lname:""}else $scope.anEvent.event_start_date=makeAdate(),$scope.anEvent.event_end_date=makeAdate();$scope.SaveOnBlur=function(v){if(v)$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",EVENT.update({id:$scope.anEvent.event_id},$scope.anEvent,function(response){toastr.success("Event Updated")},function(errorResponse){toastr.error("Error: "+errorResponse.statusText)});else{$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Error</h3></div><div class="modal-body"><p>Please populate all required fields.</p></div><div class="modal-footer"><button class="btn btn-primary" ng-enter="ok()" ng-click="ok()">OK</button></div>',controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.ok=function(){$uibModalInstance.close()}}],size:"sm"})}},$scope.save=function(valid){valid&&EVENT.save($scope.anEvent,function(response){toastr.success("Event Created");var E={};E.event_id=response.event_id,E.Name=response.event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==response.event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==response.event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==response.event_coordinator})[0];E.StartDate=response.event_start_date,E.EndDate=response.event_end_date,E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}).$promise.then(function(){$location.path("/Events/EventsList").replace()})}}}])}(),function(){"use strict";var SettingsControllers=angular.module("SettingsControllers");SettingsControllers.controller("eventCtrl",["$scope","$rootScope","$cookies","$location","$http","$filter","$uibModal","MEMBER","FILE_TYPE","EVENT","STATE","COUNTIES","allCoordMembers","allEvents","allEventTypes","allEventStats",function($scope,$rootScope,$cookies,$location,$http,$filter,$uibModal,MEMBER,FILE_TYPE,EVENT,STATE,COUNTIES,allCoordMembers,allEvents,allEventTypes,allEventStats){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{$rootScope.thisPage="Settings/Events",$scope.loggedInRole=$cookies.get("usersRole"),$scope.isAdmin="Admin"==$scope.loggedInRole?!0:!1,$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")};var makeAdate=function(d){var Tindex=d.indexOf("T"),theDate=d.substring(0,Tindex);return theDate};$scope.eventTypeList=allEventTypes,$scope.eventStatList=allEventStats,$scope.eventCoordList=allCoordMembers,$scope.eventList=[];for(var x=0;x<allEvents.length;x++){var E=allEvents[x];E.Name=allEvents[x].event_name,E.Type=$scope.eventTypeList.filter(function(a){return a.event_type_id==allEvents[x].event_type_id})[0].type,E.Status=$scope.eventStatList.filter(function(r){return r.event_status_id==allEvents[x].event_status_id})[0].status;var coord=$scope.eventCoordList.filter(function(c){return c.member_id==allEvents[x].event_coordinator})[0];E.StartDate=void 0!==allEvents[x].event_start_date?makeAdate(allEvents[x].event_start_date):"",E.EndDate=void 0!==allEvents[x].event_end_date?makeAdate(allEvents[x].event_end_date):"",E.Coord=void 0!==coord?coord.fname+" "+coord.lname:"",$scope.eventList.push(E)}$scope.showEventModal=function(eventClicked){var indexClicked=$scope.eventList.indexOf(eventClicked);$rootScope.stateIsLoading={showLoading:!0};var modalInstance=$uibModal.open({templateUrl:"eventModal.html",controller:"eventModalCtrl",size:"lg",backdrop:"static",keyboard:!1,windowClass:"rep-dialog",resolve:{thisEvent:function(){return 0!==eventClicked?eventClicked:"empty"},eventTypeList:function(){return allEventTypes},eventStatusList:function(){return allEventStats},adminList:function(){return allCoordMembers},fileTypes:function(){return FILE_TYPE.getAll().$promise},eventSites:function(){return 0!==eventClicked?EVENT.getEventSites({id:eventClicked.event_id}).$promise:void 0},allStates:function(){return STATE.getAll().$promise},allCounties:function(){return COUNTIES.getAll().$promise}}});modalInstance.result.then(function(createdEvent){$rootScope.stateIsLoading={showLoading:!1},void 0!==createdEvent&&("created"==createdEvent[1]&&$scope.eventList.push(createdEvent[0]),"updated"===createdEvent[1]&&($scope.eventList[indexClicked]=createdEvent[0]),"deleted"==createdEvent[1]&&$scope.eventList.splice(indexClicked,1))})}}}])}(),function(){"use strict";var STNControllers=angular.module("STNControllers");STNControllers.controller("approvalCtrl",["$scope","$state","$cookies","$rootScope","$location","$http","$uibModal","stateList","countyList","instrumentList","allSensorTypes","allDepTypes","hwmQualList","hwmTypeList","HWM","DATA_FILE","INSTRUMENT","SITE","MEMBER",function($scope,$state,$cookies,$rootScope,$location,$http,$uibModal,stateList,countyList,instrumentList,allSensorTypes,allDepTypes,hwmQualList,hwmTypeList,HWM,DATA_FILE,INSTRUMENT,SITE,MEMBER){if(void 0===$cookies.get("STNCreds")||""===$cookies.get("STNCreds"))$scope.auth=!1,$location.path("/login");else{if($rootScope.thisPage="Approval",$rootScope.activeMenu="approval",$scope.sort_by=function(newSortingOrder){$scope.sortingOrder==newSortingOrder&&($scope.reverse=!$scope.reverse),$scope.sortingOrder=newSortingOrder,$("th i").each(function(){$(this).removeClass().addClass("glyphicon glyphicon-sort")}),$("th."+newSortingOrder+" i").removeClass().addClass($scope.reverse?"glyphicon glyphicon-chevron-up":"glyphicon glyphicon-chevron-down")},$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"}),$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",MEMBER.getAll(function(response){$scope.allMembers=response},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting memebers: "+errorResponse.headers(["usgswim-messages"]):"Error getting members: "+errorResponse.statusText)}).$promise,$scope.allStates=stateList,$scope.countyList=countyList,$scope.countyArray=[],$scope.allInstruments=instrumentList,$scope.allSensorTypes=allSensorTypes,$scope.allDeploymentTypes=allDepTypes,$scope.hwmQuals=hwmQualList,$scope.hwmTypes=hwmTypeList,$scope.ChosenEvent={},$scope.ChosenState={},$scope.ChosenCounties={},$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1,$scope.search=function(){$scope.unApprovedHWMs=[],$scope.showHWMbox=!1,$scope.unApprovedDFs=[],$scope.showDFbox=!1,$scope.sitesWOpeaks=[],$scope.showPeakbox=!1;var evID=null!==$cookies.get("SessionEventID")&&void 0!==$cookies.get("SessionEventID")?$cookies.get("SessionEventID"):0,sID=void 0!==$scope.ChosenState.id?$scope.ChosenState.id:0,chosenCounties=void 0!==$scope.ChosenCounties.counties?$scope.ChosenCounties.counties:[];$rootScope.approvalSearch={eventID:evID,stateID:sID,counties:chosenCounties};var countyNames=[];angular.forEach(chosenCounties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:evID,State:sID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)}),SITE.getPeaklessSites({id:evID},function(resp2){$scope.sitesWOpeaks=resp2,$scope.showPeakbox=!0})},$scope.UpdateCounties=function(){if(null!==$scope.ChosenState.id){var thisState=$scope.allStates.filter(function(st){return st.state_abbrev==$scope.ChosenState.id})[0];$scope.countyArray=$scope.countyList.filter(function(c){return c.state_id==thisState.state_id})}else $scope.countyArray=[]},void 0!==$rootScope.approvalSearch){var thisSearch=$rootScope.approvalSearch;$scope.sessionEvent=Number(thisSearch.eventID),$scope.ChosenState.id=thisSearch.stateID,thisSearch.stateID&&$scope.UpdateCounties();for(var caI=0;caI<$scope.countyArray.length;caI++){for(var cI=0;cI<thisSearch.counties.length;cI++)thisSearch.counties[cI].county_id==$scope.countyArray[caI].county_id?($scope.countyArray[caI].selected=!0,cI=thisSearch.counties.length):$scope.countyArray[caI].selected=!1;0===thisSearch.counties.length&&($scope.countyArray[caI].selected=!1)}var countyNames=[];$scope.ChosenCounties.counties=thisSearch.counties,angular.forEach(thisSearch.counties,function(c){countyNames.push(c.county_name)});var countiesCommaSep=countyNames.join(",");$http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",HWM.getUnapprovedHWMs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response){angular.forEach(response,function(h){SITE.query({id:h.site_id}).$promise.then(function(sresponse){h.site_no=sresponse.site_no,h.stillwater=h.stillwater>0?"Yes":"No",h.selected=!1,$scope.unApprovedHWMs.push(h)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting hwm site ("+h.site_id+"): "+errorResponse.headers(["usgswim-messages"]):"Error getting hwm site ("+h.site_id+"): "+errorResponse.statusText)})}),$scope.showHWMbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved hwms: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved hwms: "+errorResponse.statusText)}),DATA_FILE.getUnapprovedDFs({IsApproved:"false",Event:thisSearch.eventID,State:thisSearch.stateID,Counties:countiesCommaSep},function(response1){var DFs=response1;angular.forEach(DFs,function(df){var thisdfInst=$scope.allInstruments.filter(function(i){return i.instrument_id==df.instrument_id})[0],formattedDF={},siteID=thisdfInst.site_id;formattedDF.SiteId=siteID,formattedDF.senType=$scope.allSensorTypes.filter(function(s){return s.sensor_type_id==thisdfInst.sensor_type_id})[0].sensor;var depType=$scope.allDeploymentTypes.filter(function(d){return d.deployment_type_id==thisdfInst.deployment_type_id})[0];formattedDF.depType=void 0!==depType?depType.method:void 0,formattedDF.InstrID=thisdfInst.instrument_id,SITE.query({id:siteID}).$promise.then(function(response2){formattedDF.SiteNo=response2.site_no,$scope.unApprovedDFs.push(formattedDF)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}),$scope.showDFbox=!0},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting unapproved data files: "+errorResponse.headers(["usgswim-messages"]):"Error getting unapproved data files: "+errorResponse.statusText)})}$scope.approveCheck=function(hArray){return hArray?hArray.some(function(h){return h.selected===!0}):void 0},$scope.approveThese=function(){var approveModal=$uibModal.open({template:"<div class='modal-header'><h3 class='modal-title'>Approve HWMs</h3></div><div class='modal-body'><p>Are you sure you want to approve these HWMs? Doing so will remove them from this list of unapproved HWMs.</p></div><div class='modal-footer'><button class='btn btn-primary' ng-click='approveIt()'>Approve</button><button class='btn btn-warning' ng-click='cancel()'>Cancel</button></div>",controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss("cancel")},$scope.approveIt=function(){$uibModalInstance.close()}}],size:"sm"});approveModal.result.then(function(){$scope.unApprovedHWMs})},$scope.goToSiteDash=function(siteID){var warningModal=$uibModal.open({template:'<div class="modal-header"><h3 class="modal-title">Warning!</h3></div><div class="modal-body"><p>You are about to leave the Approval page and be taken to the Site Dashboard.<br/>Are you sure you want to leave the Approval page?</p></div><div class="modal-footer"><button class="btn btn-warning" ng-enter="ok()" ng-click="ok()">Yes</button><button class="btn btn-primary" ng-enter="cancel()" ng-click="cancel()">Cancel</button></div>',backdrop:"static",keyboard:!1,controller:["$scope","$uibModalInstance",function($scope,$uibModalInstance){$scope.cancel=function(){$uibModalInstance.dismiss()},$scope.ok=function(){$uibModalInstance.close(siteID)}}],size:"sm"});warningModal.result.then(function(siteId){$state.go("site.dashboard",{id:siteId})})}}}])}(),function(){"use strict";var STNResource=angular.module("STNResource",["ngResource"]),rootURL="https://stn.wim.usgs.gov/STNServices";STNResource.factory("GEOCODE",["$resource",function($resource){return $resource(rootURL+"/Geocode/location",{},{getAddressParts:{method:"GET",params:{Latitude:"@Latitude",Longitude:"@Longitude"}}})}]),STNResource.factory("AGENCY",["$resource",function($resource){return $resource(rootURL+"/Agencies/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT_TYPE",["$resource",function($resource){return $resource(rootURL+"/ContactTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("CONTACT",["$resource",function($resource){return $resource(rootURL+"/Contacts/:id.json",{},{query:{},getContactModel:{method:"GET",isArray:!0},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("COUNTIES",["$resource",function($resource){return $resource(rootURL+"/Counties/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DATA_FILE",["$resource",function($resource){return $resource(rootURL+"/DataFiles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getDFApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/:id/Approval.json"},getUnapprovedDFs:{method:"GET",isArray:!0,cache:!1},getEventDataView:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/DataFileView?EventId=:eventId"},runStormScript:{method:"GET",url:rootURL+"/DataFiles/RunStormScript?SeaDataFileID=:seaDFID&AirDataFileID=:airDFID&Hertz=:hertz&Username=:username"},runAirScript:{method:"GET",url:rootURL+"/DataFiles/RunAirScript?AirDataFileID=:airDFID&Username=:username"},runChopperScript:{method:"POST",url:rootURL+"/Files/RunChopperScript",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},approveDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/Approve.json"},approveNWISDF:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/datafiles/:id/NWISApprove.json"},unApproveDF:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/datafiles/:id/Unapprove.json"},stormScript:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/DataFiles/RunScript?SeaDataFileID=:seaDataFileId&AirDataFileID=:airDataFileId&Hertz=:hertz&Username=username"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_PRIORITY",["$resource",function($resource){return $resource(rootURL+"/DeploymentPriorities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("DEPLOYMENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/DeploymentTypes/:id.json",{},{query:{},getDepSensType:{method:"GET",isArray:!1,url:rootURL+"/DeploymentTypes/:id/SensorType.json"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT",["$resource",function($resource){return $resource(rootURL+"/Events/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/Sites.json"},getFilteredEvents:{method:"GET",isArray:!0,url:rootURL+"/Events/FilteredEvents.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/EventStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("EVENT_TYPE",["$resource",function($resource){return $resource(rootURL+"/EventTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE",["$resource",function($resource){return $resource(rootURL+"/Files/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getFileItem:{method:"GET",isArray:!1,url:rootURL+"/Files/:id/Item"},getTESTdata:{method:"GET",url:rootURL+"/Files/testDataFile"},update:{method:"PUT",cache:!1,isArray:!1},uploadFile:{method:"POST",url:rootURL+"/Files/bytes",headers:{"Content-Type":void 0},transformRequest:angular.identity,cache:!1,isArray:!1},downloadZip:{method:"GET",responseType:"arraybuffer",cache:!1,url:rootURL+"/Events/:eventId/EventFileItems"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("FILE_STAMP",["$rootScope",function($rootScope){return{getStamp:function(){var stamp="?"+(new Date).getTime();return stamp},setStamp:function(){var stamp="?"+(new Date).getTime();$rootScope.$broadcast("fileStampSet",stamp)}}}]),STNResource.factory("FILE_TYPE",["$resource",function($resource){return $resource(rootURL+"/FileTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_COLL_METHODS",["$resource",function($resource){return $resource(rootURL+"/HorizontalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HORIZONTAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/HorizontalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HOUSING_TYPE",["$resource",function($resource){return $resource(rootURL+"/HousingTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM",["$resource",function($resource){return $resource(rootURL+"/hwms/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getEventStateHWMs:{method:"GET",isArray:!0,url:rootURL+"/Events/:eventId/stateHWMs.json?State=:state"},getEventSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:siteId/EventHWMs.json"},getFilteredHWMs:{method:"GET",isArray:!0,url:rootURL+"/HWMs/FilteredHWMs.json"},getUnapprovedHWMs:{method:"GET",isArray:!0,cache:!1},getHWMApproval:{method:"GET",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Approval.json"},approveHWM:{method:"POST",cache:!1,isArray:!1,params:{id:"@id"},url:rootURL+"/hwms/:id/Approve.json"},unApproveHWM:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/hwms/:id/Unapprove.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_Service",[function(){var allSiteHWMs=[],bulkSearch={};return{getAllSiteHWMs:function(){return allSiteHWMs},setAllSiteHWMs:function(sh){allSiteHWMs=sh},setBulkHWMSearch:function(searchTerms){bulkSearch=searchTerms},getBulkHWMSearch:function(){return bulkSearch}}}]),STNResource.factory("HWM_QUALITY",["$resource",function($resource){return $resource(rootURL+"/HWMQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("HWM_TYPE",["$resource",function($resource){return $resource(rootURL+"/HWMTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INSTRUMENT",["$resource",function($resource){return $resource(rootURL+"/Instruments/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0
},getSensorView:{method:"GET",isArray:!0,url:rootURL+"/SensorViews.json"},getstatusInstruments:{method:"GET",isArray:!0,url:rootURL+"/Instruments.json"},getFullInstrument:{method:"GET",url:rootURL+"/Instruments/:id/FullInstrument.json"},getInstrumentStatus:{method:"GET",url:rootURL+"/Instruments/:id/InstrumentStatus.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Instrument_Service",[function(){var allSiteSensors=[];return{getAllSiteSensors:function(){return allSiteSensors},setAllSiteSensors:function(ss){allSiteSensors=ss}}}]),STNResource.factory("INSTRUMENT_STATUS",["$resource",function($resource){return $resource(rootURL+"/InstrumentStatus/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("INST_COLL_CONDITION",["$resource",function($resource){return $resource(rootURL+"/InstrCollectConditions/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("LANDOWNER_CONTACT",["$resource",function($resource){return $resource(rootURL+"/LandOwners/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Map_Site",["SITE","$rootScope","$cookies",function(SITE,$rootScope,$cookies){var MapSiteParts=[];return{getMapSiteParts:function(){return MapSiteParts},setMapSiteParts:function(siteId){MapSiteParts=[],SITE.query({id:siteId}).$promise.then(function(response){MapSiteParts.push(response),SITE.getSitePeaks({id:siteId}).$promise.then(function(pResponse){MapSiteParts.push(pResponse),$rootScope.$broadcast("mapSiteClickResults",MapSiteParts)},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site peak: "+errorResponse.headers(["usgswim-messages"]):"Error getting site peak: "+errorResponse.statusText)})},function(errorResponse){toastr.error(void 0!==errorResponse.headers(["usgswim-messages"])?"Error getting site: "+errorResponse.headers(["usgswim-messages"]):"Error getting site: "+errorResponse.statusText)})}}}]),STNResource.factory("Map_Filter",["$rootScope",function($rootScope){var filteredSites=[];return{setFilteredSites:function(sitesArray){filteredSites=sitesArray,$rootScope.$broadcast("filterSitesClick",filteredSites)}}}]),STNResource.factory("MARKER",["$resource",function($resource){return $resource(rootURL+"/Markers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("MEMBER",["$resource",function($resource){return $resource(rootURL+"/Members/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getRoleMembers:{method:"GET",isArray:!0,url:rootURL+"/Roles/:roleId/Members.json"},getEventPeople:{method:"GET",isArray:!0,url:rootURL+"/Events/:Eventid/Members.json"},changePW:{method:"GET",isArray:!1,url:rootURL+"/Members.json"},addMember:{method:"POST",cache:!1,isArray:!1,url:rootURL+"/Members/:pass/addMember"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},deleteMember:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/Members/:id"}})}]),STNResource.factory("NETWORK_NAME",["$resource",function($resource){return $resource(rootURL+"/NetworkNames/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("NETWORK_TYPE",["$resource",function($resource){return $resource(rootURL+"/NetworkTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OBJECTIVE_POINT",["$resource",function($resource){return $resource(rootURL+"/ObjectivePoints/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},getOPFiles:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:id/Files"},getOPControls:{method:"GET",cache:!1,isArray:!0,url:rootURL+"/ObjectivePoints/:id/OPControls.json"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_CONTROL_IDENTIFIER",["$resource",function($resource){return $resource(rootURL+"/OPControlIdentifiers/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_MEASURE",["$resource",function($resource){return $resource(rootURL+"/OPMeasurements/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getInstStatOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/InstrumentStatus/:instrumentStatusId/OPMeasurements"},getDatumLocationOPMeasures:{method:"GET",isArray:!0,url:rootURL+"/ObjectivePoints/:objectivePointId/OPMeasurements"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_QUALITY",["$resource",function($resource){return $resource(rootURL+"/ObjectivePointQualities/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("OP_TYPE",["$resource",function($resource){return $resource(rootURL+"/OPTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("PEAK",["$resource",function($resource){return $resource(rootURL+"/PeakSummaries/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getPeakSummaryDFs:{method:"GET",isArray:!0,cache:!1,url:rootURL+"/PeakSummaries/:id/DataFiles.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("REPORT",["$resource",function($resource){return $resource(rootURL+"/ReportingMetrics/:id.json",{},{query:{},getReportByEvSt:{method:"GET",isArray:!0},getDailyReportTots:{method:"GET",url:rootURL+"/ReportingMetrics/DailyReportTotals"},getMemberReports:{method:"GET",isArray:!0,url:rootURL+"/Members/:memberId/Reports.json"},getFilteredReports:{method:"GET",isArray:!0,url:rootURL+"/ReportingMetrics/FilteredReports.json"},getReportwithContacts:{method:"GET",isArray:!0,url:rootURL+"/ReportResource/FilteredReportModel.json"},getReportsCSV:{method:"GET",url:rootURL+"/ReportingMetrics/FilteredReports.csv"},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},addReportContact:{method:"POST",cache:!1,isArray:!1,params:{ReportId:"@reportId",ContactTypeId:"@contactTypeId"},url:rootURL+"/ReportingMetrics/:reportId/AddContactType/:contactTypeId"},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("ROLE",["$resource",function($resource){return $resource(rootURL+"/Roles/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0}})}]),STNResource.factory("SENSOR_BRAND",["$resource",function($resource){return $resource(rootURL+"/SensorBrands/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SENSOR_TYPE",["$resource",function($resource){return $resource(rootURL+"/SensorTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},getSensorDeploymentTypes:{method:"GET",isArray:!0,url:rootURL+"/SensorTypes/:id/DeploymentTypes.json"},addSensorDeploymentType:{method:"POST",cache:!1,isArray:!0,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/addDeploymentType"},removeSensorDeploymentType:{method:"POST",isArray:!1,params:{sensorTypeId:"@sensorTypeId",DeploymentTypeId:"@deploymentTypeId"},url:rootURL+"/SensorTypes/:sensorTypeId/removeDeploymentType"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE",["$resource",function($resource){return $resource(rootURL+"/Sites/:id.json",{},{query:{},sensorScriptRunning:{method:"GET",isArray:!1,transformResponse:function(data){return{value:angular.fromJson(data)}},url:rootURL+"/Sites/:id/GetDataFileScript.json"},getProximitySites:{method:"GET",isArray:!0,params:{Latitude:"@latitude",Longitude:"@longitude",Buffer:"@buffer"}},getAll:{method:"GET",isArray:!0},getSearchedSite:{method:"GET",isArray:!1,url:rootURL+"/Sites/Search"},getFilteredSites:{method:"GET",isArray:!0,url:rootURL+"/Sites/FilteredSites.json"},getSiteLandOwner:{method:"GET",url:rootURL+"/Sites/:id/LandOwner.json"},getSiteNetworkTypes:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkTypes.json"},postSiteNetworkType:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkTypeId:"@networkTypeId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkType"},deleteSiteNetworkType:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkType?NetworkTypeId=:networkTypeId"},getSiteNetworkNames:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/networkNames.json"},postSiteNetworkName:{method:"POST",cache:!1,params:{siteId:"@siteId",NetworkNameId:"@networkNameId"},isArray:!0,url:rootURL+"/sites/:siteId/AddNetworkName"},deleteSiteNetworkName:{method:"DELETE",cache:!1,isArray:!1,url:rootURL+"/sites/:siteId/removeNetworkName?NetworkNameId=:networkNameId"},getSiteHousings:{method:"GET",isArray:!0,url:rootURL+"/sites/:id/SiteHousings.json"},getSiteOPs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/ObjectivePoints.json"},getSiteSensors:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/SiteFullInstrumentList.json"},getSiteHWMs:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/HWMs.json"},getSiteFiles:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/Files.json"},getSitePeaks:{method:"GET",isArray:!0,url:rootURL+"/Sites/:id/PeakSummaryView.json"},getPeaklessSites:{method:"GET",isArray:!0,url:rootURL+"/Events/:id/PeaklessSites.json"},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Site_Script",["$cookies","$rootScope",function($cookies,$rootScope){var isRunning;return{getIsScriptRunning:function(){return isRunning},setIsScriptRunning:function(running){isRunning=running,$rootScope.$broadcast("siteDFScriptRunning",isRunning)}}}]),STNResource.factory("Site_Files",["$cookies","$rootScope",function($cookies,$rootScope){var allSiteFiles=[];return{getAllSiteFiles:function(){return allSiteFiles},setAllSiteFiles:function(sf){allSiteFiles=sf,$rootScope.$broadcast("siteFilesUpdated",allSiteFiles)}}}]),STNResource.factory("STATE",["$resource",function($resource){return $resource(rootURL+"/States/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SITE_HOUSING",["$resource",function($resource){return $resource(rootURL+"/SiteHousings/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("STATUS_TYPE",["$resource",function($resource){return $resource(rootURL+"/StatusTypes/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("SOURCE",["$resource",function($resource){return $resource(rootURL+"/Sources/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_COLL_METHOD",["$resource",function($resource){return $resource(rootURL+"/VerticalMethods/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("VERTICAL_DATUM",["$resource",function($resource){return $resource(rootURL+"/VerticalDatums/:id.json",{},{query:{},getAll:{method:"GET",isArray:!0},update:{method:"PUT",cache:!1,isArray:!1},save:{method:"POST",cache:!1,isArray:!1},"delete":{method:"DELETE",cache:!1,isArray:!1}})}]),STNResource.factory("Login",["$resource",function($resource){return $resource(rootURL+"/login",{},{login:{method:"GET",cache:!1,isArray:!1},getNewsFeed:{method:"GET",url:rootURL+"/Confluence/STNNewsFeed"}})}])}(),function(){"use strict";var STNBusinessServices=angular.module("STNBusinessServices",["ngCookies"]);STNBusinessServices.factory("setCreds",["$cookies",function($cookies){return function(un,pw,userName,userRole,userID){var token=un.concat(":",pw);$cookies.STNCreds=token,$cookies.STNUsername=un,$cookies.usersName=userName,$cookies.mID=userID;var roleName;switch(userRole){case 1:roleName="Admin";break;case 2:roleName="Manager";break;case 3:roleName="Field";break;case 4:roleName="Public";break;default:roleName="CitizenManager"}$cookies.usersRole=roleName}}]),STNBusinessServices.factory("setSessionEvent",["$cookies",function($cookies){return function(evId,evName){$cookies.SessionEventID=evId,$cookies.SessionEventName=evName}}]),STNBusinessServices.factory("setSessionTeam",["$cookies",function($cookies){return function(tId,tName){$cookies.SessionTeaID=tId,$cookies.SessionTeamName=tName}}]),STNBusinessServices.factory("setLoggedIn",["$cookies",function($cookies){var loggedIn=!1;return{isLoggedIn:function(){return loggedIn},changeLoggedIn:function(YesOrNo){loggedIn=YesOrNo}}}]),STNBusinessServices.factory("checkCreds",["$cookies",function($cookies){return function(){var returnVal=!1,STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=!0),returnVal}}]),STNBusinessServices.factory("getCreds",["$cookies",function($cookies){return function(){var returnVal="",STNCreds=$cookies.STNCreds;return void 0!==STNCreds&&""!==STNCreds&&(returnVal=btoa(STNCreds)),returnVal}}]),STNBusinessServices.factory("getUsersNAME",["$cookies",function($cookies){return function(){var returnVal="",usesName=$cookies.usersName;return void 0!==usesName&&""!==usesName&&(returnVal=usesName),returnVal}}]),STNBusinessServices.factory("getUserID",["$cookies",function($cookies){return function(){var returnVal="",userID=$cookies.mID;return void 0!==userID&&""!==userID&&(returnVal=userID),returnVal}}]),STNBusinessServices.factory("getUsername",["$cookies",function($cookies){return function(){var returnVal="",STNUsername=$cookies.STNUsername;return void 0!==STNUsername&&""!==STNUsername&&(returnVal=STNUsername),returnVal}}]),STNBusinessServices.factory("getUserRole",["$cookies",function($cookies){return function(){var returnVal="",userRole=$cookies.usersRole;return void 0!==userRole&&""!==userRole&&(returnVal=userRole),returnVal}}]),STNBusinessServices.factory("deleteCreds",["$cookies",function($cookies){return function(){$cookies.STNCreds="",$cookies.STNUsername="",$cookies.usersName="",$cookies.usersRole=""}}])}(),function(){"use strict";var ModalControllers=angular.module("ModalControllers");ModalControllers.controller("ConfirmModalCtrl",["$scope","$uibModalInstance","nameToRemove","what",function($scope,$uibModalInstance,nameToRemove,what){switch(what){case"Member":$scope.nameToRmv=nameToRemove.fname+" "+nameToRemove.lname;break;case"Event":$scope.nameToRmv=nameToRemove.event_name;break;case"Agency":$scope.nameToRmv=nameToRemove.agency_name;break;case"Contact Type":$scope.nameToRmv=nameToRemove.type;break;case"Deployment Priority":$scope.nameToRmv=nameToRemove.priority_name;break;case"Event Status":$scope.nameToRmv=nameToRemove.status;break;case"File Type":$scope.nameToRmv=nameToRemove.filetype;break;case"Horizontal Collection Method":$scope.nameToRmv=nameToRemove.hcollect_method;break;case"Horizontal Datum":$scope.nameToRmv=nameToRemove.datum_name;break;case"Housing Type":$scope.nameToRmv=nameToRemove.type_name;break;case"HWM Quality":$scope.nameToRmv=nameToRemove.hwm_quality;break;case"HWM Type":$scope.nameToRmv=nameToRemove.hwm_type;break;case"Instrument Collection Condition":$scope.nameToRmv=nameToRemove.condition;break;case"Marker":$scope.nameToRmv=nameToRemove.marker1;break;case"Network Name":$scope.nameToRmv=nameToRemove.name;break;case"Objective Point Quality":$scope.nameToRmv=nameToRemove.quality;break;case"Objective Point Type":$scope.nameToRmv=nameToRemove.op_type;break;case"Sensor Brand":$scope.nameToRmv=nameToRemove.brand_name;break;case"Deployment Type":$scope.nameToRmv=nameToRemove.method;break;case"Status Type":$scope.nameToRmv=nameToRemove.status;break;case"Sensor Type":$scope.nameToRmv=nameToRemove.sensor;break;case"Network Type":$scope.nameToRmv=nameToRemove.network_type_name;break;case"Vertical Collection Method":$scope.nameToRmv=nameToRemove.vcollect_method;break;case"Vertical Datum":$scope.nameToRmv=nameToRemove.datum_abbreviation;break;case"Objective Point":$scope.nameToRmv=nameToRemove.name;break;case"HWM":var aDate=new Date(nameToRemove.flag_date),year=aDate.getFullYear(),month=aDate.getMonth(),day=("0"+aDate.getDate()).slice(-2),monthNames=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateWOtime=monthNames[month]+" "+day+", "+year;$scope.nameToRmv="Flagged on: "+dateWOtime;break;case"Sensor":$scope.nameToRmv=nameToRemove.deploymentType;break;case"Proposed Sensor":$scope.nameToRmv="Proposed Sensor";break;case"File":var f=void 0!==nameToRemove.name||null!==nameToRemove.name?nameToRemove.name:nameToRemove.file_date;f=null!==f||void 0!==f?f:nameToRemove.file_id,$scope.nameToRmv=f;break;case"Peak":$scope.nameToRmv=nameToRemove.peak_summary_id}$scope.what=what,$scope.ok=function(){$uibModalInstance.close(nameToRemove)},$scope.cancel=function(){$uibModalInstance.dismiss("cancel")}}])}(),!function($){function Inputmask(alias,options){return this instanceof Inputmask?("object"==typeof alias?options=alias:(options=options||{},options.alias=alias),this.el=void 0,this.opts=$.extend(!0,{},this.defaults,options),this.noMasksCache=options&&void 0!==options.definitions,this.userOptions=options||{},void resolveAlias(this.opts.alias,options,this.opts)):new Inputmask(alias,options)}function isInputEventSupported(eventName){var el=document.createElement("input"),evName="on"+eventName,isSupported=evName in el;return isSupported||(el.setAttribute(evName,"return;"),isSupported="function"==typeof el[evName]),el=null,isSupported}function isInputTypeSupported(inputType){var isSupported="text"===inputType||"tel"===inputType||"password"===inputType;if(!isSupported){var el=document.createElement("input");el.setAttribute("type",inputType),isSupported="text"===el.type,el=null}return isSupported}function resolveAlias(aliasStr,options,opts){var aliasDefinition=opts.aliases[aliasStr];return aliasDefinition?(aliasDefinition.alias&&resolveAlias(aliasDefinition.alias,void 0,opts),$.extend(!0,opts,aliasDefinition),$.extend(!0,opts,options),!0):(null===opts.mask&&(opts.mask=aliasStr),!1)}function importAttributeOptions(npt,opts,userOptions){function importOption(option,optionData){optionData=void 0!==optionData?optionData:npt.getAttribute("data-inputmask-"+option),null!==optionData&&("string"==typeof optionData&&(0===option.indexOf("on")?optionData=window[optionData]:"false"===optionData?optionData=!1:"true"===optionData&&(optionData=!0)),"mask"===option&&0===optionData.indexOf("[")?(userOptions[option]=optionData.replace(/[\s[\]]/g,"").split(","),userOptions[option][0]=userOptions[option][0].replace("'",""),userOptions[option][userOptions[option].length-1]=userOptions[option][userOptions[option].length-1].replace("'","")):userOptions[option]=optionData)}var option,dataoptions,optionData,attrOptions=npt.getAttribute("data-inputmask");attrOptions&&""!==attrOptions&&(attrOptions=attrOptions.replace(new RegExp("'","g"),'"'),dataoptions=JSON.parse("{"+attrOptions+"}"));for(option in opts){if(dataoptions){optionData=void 0;for(var p in dataoptions)if(p.toLowerCase()===option.toLowerCase()){optionData=dataoptions[p];break}}importOption(option,optionData)}if(userOptions.alias){resolveAlias(userOptions.alias,userOptions,opts);for(option in opts)importOption(option)}return $.extend(!0,opts,userOptions),opts}function generateMaskSet(opts,nocache){function analyseMask(mask){function MaskToken(isGroup,isOptional,isQuantifier,isAlternator){this.matches=[],this.isGroup=isGroup||!1,this.isOptional=isOptional||!1,this.isQuantifier=isQuantifier||!1,this.isAlternator=isAlternator||!1,this.quantifier={min:1,max:1}}function insertTestDefinition(mtoken,element,position){var maskdef=opts.definitions[element];position=void 0!==position?position:mtoken.matches.length;var prevMatch=mtoken.matches[position-1];if(maskdef&&!escaped){maskdef.placeholder=$.isFunction(maskdef.placeholder)?maskdef.placeholder(opts):maskdef.placeholder;for(var prevalidators=maskdef.prevalidator,prevalidatorsL=prevalidators?prevalidators.length:0,i=1;i<maskdef.cardinality;i++){var prevalidator=prevalidatorsL>=i?prevalidators[i-1]:[],validator=prevalidator.validator,cardinality=prevalidator.cardinality;mtoken.matches.splice(position++,0,{fn:validator?"string"==typeof validator?new RegExp(validator):new function(){this.test=validator}:new RegExp("."),cardinality:cardinality?cardinality:1,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element}),prevMatch=mtoken.matches[position-1]}mtoken.matches.splice(position++,0,{fn:maskdef.validator?"string"==typeof maskdef.validator?new RegExp(maskdef.validator):new function(){this.test=maskdef.validator}:new RegExp("."),cardinality:maskdef.cardinality,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==(maskdef.definitionSymbol||element),casing:maskdef.casing,def:maskdef.definitionSymbol||element,placeholder:maskdef.placeholder,mask:element})}else mtoken.matches.splice(position++,0,{fn:null,cardinality:0,optionality:mtoken.isOptional,newBlockMarker:void 0===prevMatch||prevMatch.def!==element,casing:null,def:element,placeholder:void 0,mask:element}),escaped=!1}function verifyGroupMarker(lastMatch,isOpenGroup){lastMatch.isGroup&&(lastMatch.isGroup=!1,insertTestDefinition(lastMatch,opts.groupmarker.start,0),isOpenGroup!==!0&&insertTestDefinition(lastMatch,opts.groupmarker.end))}function maskCurrentToken(m,currentToken,lastMatch,extraCondition){currentToken.matches.length>0&&(void 0===extraCondition||extraCondition)&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch)),insertTestDefinition(currentToken,m)}function defaultCase(){if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],maskCurrentToken(m,currentOpeningToken,lastMatch,!currentOpeningToken.isAlternator),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else maskCurrentToken(m,currentToken,lastMatch)}function reverseTokens(maskToken){function reverseStatic(st){return st===opts.optionalmarker.start?st=opts.optionalmarker.end:st===opts.optionalmarker.end?st=opts.optionalmarker.start:st===opts.groupmarker.start?st=opts.groupmarker.end:st===opts.groupmarker.end&&(st=opts.groupmarker.start),st}maskToken.matches=maskToken.matches.reverse();for(var match in maskToken.matches){var intMatch=parseInt(match);if(maskToken.matches[match].isQuantifier&&maskToken.matches[intMatch+1]&&maskToken.matches[intMatch+1].isGroup){var qt=maskToken.matches[match];maskToken.matches.splice(match,1),maskToken.matches.splice(intMatch+1,0,qt)}maskToken.matches[match]=void 0!==maskToken.matches[match].matches?reverseTokens(maskToken.matches[match]):reverseStatic(maskToken.matches[match])}return maskToken}for(var match,m,openingToken,currentOpeningToken,alternator,lastMatch,groupToken,tokenizer=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,escaped=!1,currentToken=new MaskToken,openenings=[],maskTokens=[];match=tokenizer.exec(mask);)if(m=match[0],escaped)defaultCase();else switch(m.charAt(0)){case opts.escapeChar:escaped=!0;break;case opts.optionalmarker.end:case opts.groupmarker.end:if(openingToken=openenings.pop(),void 0!==openingToken)if(openenings.length>0){if(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(openingToken),currentOpeningToken.isAlternator){alternator=openenings.pop();for(var mndx=0;mndx<alternator.matches.length;mndx++)alternator.matches[mndx].isGroup=!1;openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],currentOpeningToken.matches.push(alternator)):currentToken.matches.push(alternator)}}else currentToken.matches.push(openingToken);else defaultCase();break;case opts.optionalmarker.start:openenings.push(new MaskToken(!1,!0));break;case opts.groupmarker.start:openenings.push(new MaskToken(!0));break;case opts.quantifiermarker.start:var quantifier=new MaskToken(!1,!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(("*"===mq1||"+"===mq1)&&(mq0="*"===mq1?0:1),quantifier.quantifier={min:mq0,max:mq1},openenings.length>0){var matches=openenings[openenings.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifier)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new MaskToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifier);break;case opts.alternatormarker:openenings.length>0?(currentOpeningToken=openenings[openenings.length-1],lastMatch=currentOpeningToken.matches.pop()):lastMatch=currentToken.matches.pop(),lastMatch.isAlternator?openenings.push(lastMatch):(alternator=new MaskToken(!1,!1,!1,!0),alternator.matches.push(lastMatch),openenings.push(alternator));break;default:defaultCase()}for(;openenings.length>0;)openingToken=openenings.pop(),verifyGroupMarker(openingToken,!0),currentToken.matches.push(openingToken);return currentToken.matches.length>0&&(lastMatch=currentToken.matches[currentToken.matches.length-1],verifyGroupMarker(lastMatch),maskTokens.push(currentToken)),opts.numericInput&&reverseTokens(maskTokens[0]),maskTokens}function generateMask(mask,metadata){if(null===mask||""===mask)return void 0;if(1===mask.length&&opts.greedy===!1&&0!==opts.repeat&&(opts.placeholder=""),opts.repeat>0||"*"===opts.repeat||"+"===opts.repeat){var repeatStart="*"===opts.repeat?0:"+"===opts.repeat?1:opts.repeat;mask=opts.groupmarker.start+mask+opts.groupmarker.end+opts.quantifiermarker.start+repeatStart+","+opts.repeat+opts.quantifiermarker.end}var masksetDefinition;return void 0===Inputmask.prototype.masksCache[mask]||nocache===!0?(masksetDefinition={mask:mask,maskToken:analyseMask(mask),validPositions:{},_buffer:void 0,buffer:void 0,tests:{},metadata:metadata},nocache!==!0&&(Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]=masksetDefinition,masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]))):masksetDefinition=$.extend(!0,{},Inputmask.prototype.masksCache[opts.numericInput?mask.split("").reverse().join(""):mask]),masksetDefinition}function preProcessMask(mask){return mask=mask.toString()}var ms;if($.isFunction(opts.mask)&&(opts.mask=opts.mask(opts)),$.isArray(opts.mask)){if(opts.mask.length>1){opts.keepStatic=null===opts.keepStatic?!0:opts.keepStatic;var altMask="(";return $.each(opts.numericInput?opts.mask.reverse():opts.mask,function(ndx,msk){altMask.length>1&&(altMask+=")|("),altMask+=preProcessMask(void 0===msk.mask||$.isFunction(msk.mask)?msk:msk.mask)}),altMask+=")",generateMask(altMask,opts.mask)}opts.mask=opts.mask.pop()}return opts.mask&&(ms=void 0===opts.mask.mask||$.isFunction(opts.mask.mask)?generateMask(preProcessMask(opts.mask),opts.mask):generateMask(preProcessMask(opts.mask.mask),opts.mask)),ms}function maskScope(actionObj,maskset,opts){function getMaskTemplate(baseOnInput,minimalPos,includeInput){minimalPos=minimalPos||0;var ndxIntlzr,test,testPos,maskTemplate=[],pos=0;do{if(baseOnInput===!0&&getMaskSet().validPositions[pos]){var validPos=getMaskSet().validPositions[pos];test=validPos.match,ndxIntlzr=validPos.locator.slice(),maskTemplate.push(includeInput===!0?validPos.input:getPlaceholder(pos,test))}else testPos=getTestTemplate(pos,ndxIntlzr,pos-1),test=testPos.match,ndxIntlzr=testPos.locator.slice(),maskTemplate.push(getPlaceholder(pos,test));pos++}while((void 0===maxLength||maxLength>pos-1)&&null!==test.fn||null===test.fn&&""!==test.def||minimalPos>=pos);return maskTemplate.pop(),maskTemplate}function getMaskSet(){return maskset}function resetMaskSet(soft){var maskset=getMaskSet();maskset.buffer=void 0,maskset.tests={},soft!==!0&&(maskset._buffer=void 0,maskset.validPositions={},maskset.p=0)}function getLastValidPosition(closestTo,strict){var maskset=getMaskSet(),lastValidPosition=-1,valids=maskset.validPositions;void 0===closestTo&&(closestTo=-1);var before=lastValidPosition,after=lastValidPosition;for(var posNdx in valids){var psNdx=parseInt(posNdx);valids[psNdx]&&(strict||null!==valids[psNdx].match.fn)&&(closestTo>=psNdx&&(before=psNdx),psNdx>=closestTo&&(after=psNdx))}return lastValidPosition=-1!==before&&closestTo-before>1||closestTo>after?before:after}function setValidPosition(pos,validTest,fromSetValid){if(opts.insertMode&&void 0!==getMaskSet().validPositions[pos]&&void 0===fromSetValid){var i,positionsClone=$.extend(!0,{},getMaskSet().validPositions),lvp=getLastValidPosition();for(i=pos;lvp>=i;i++)delete getMaskSet().validPositions[i];getMaskSet().validPositions[pos]=validTest;var j,valid=!0,vps=getMaskSet().validPositions;for(i=j=pos;lvp>=i;i++){var t=positionsClone[i];if(void 0!==t)for(var posMatch=j,prevPosMatch=-1;posMatch<getMaskLength()&&(null==t.match.fn&&vps[i]&&(vps[i].match.optionalQuantifier===!0||vps[i].match.optionality===!0)||null!=t.match.fn);){if(null===t.match.fn||!opts.keepStatic&&vps[i]&&(void 0!==vps[i+1]&&getTests(i+1,vps[i].locator.slice(),i).length>1||void 0!==vps[i].alternation)?posMatch++:posMatch=seekNext(j),positionCanMatchDefinition(posMatch,t.match.def)){valid=isValid(posMatch,t.input,!0,!0)!==!1,j=posMatch;break}if(valid=null==t.match.fn,prevPosMatch===posMatch)break;prevPosMatch=posMatch}if(!valid)break}if(!valid)return getMaskSet().validPositions=$.extend(!0,{},positionsClone),resetMaskSet(!0),!1}else getMaskSet().validPositions[pos]=validTest;return resetMaskSet(!0),!0}function stripValidPositions(start,end,nocheck,strict){var i,startPos=start;for(getMaskSet().p=start,i=startPos;end>i;i++)void 0!==getMaskSet().validPositions[i]&&(nocheck===!0||opts.canClearPosition(getMaskSet(),i,getLastValidPosition(),strict,opts)!==!1)&&delete getMaskSet().validPositions[i];

for(i=startPos+1;i<=getLastValidPosition();){for(;void 0!==getMaskSet().validPositions[startPos];)startPos++;var s=getMaskSet().validPositions[startPos];if(startPos>i&&(i=startPos+1),void 0===getMaskSet().validPositions[i]&&isMask(i)||void 0!==s)i++;else{var t=getTestTemplate(i);positionCanMatchDefinition(startPos,t.match.def)?isValid(startPos,t.input||getPlaceholder(i),!0)!==!1&&(delete getMaskSet().validPositions[i],i++):isMask(i)||(i++,startPos--),startPos++}}var lvp=getLastValidPosition(),ml=getMaskLength();for(strict!==!0&&nocheck!==!0&&void 0!==getMaskSet().validPositions[lvp]&&getMaskSet().validPositions[lvp].input===opts.radixPoint&&delete getMaskSet().validPositions[lvp],i=lvp+1;ml>=i;i++)getMaskSet().validPositions[i]&&delete getMaskSet().validPositions[i];resetMaskSet(!0)}function getTestTemplate(pos,ndxIntlzr,tstPs){var testPos=getMaskSet().validPositions[pos];if(void 0===testPos)for(var testPositions=getTests(pos,ndxIntlzr,tstPs),lvp=getLastValidPosition(),lvTest=getMaskSet().validPositions[lvp]||getTests(0)[0],lvTestAltArr=void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation].toString().split(","):[],ndx=0;ndx<testPositions.length&&(testPos=testPositions[ndx],!(testPos.match&&(opts.greedy&&testPos.match.optionalQuantifier!==!0||(testPos.match.optionality===!1||testPos.match.newBlockMarker===!1)&&testPos.match.optionalQuantifier!==!0)&&(void 0===lvTest.alternation||lvTest.alternation!==testPos.alternation||void 0!==testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAltArr))));ndx++);return testPos}function getTest(pos){return getMaskSet().validPositions[pos]?getMaskSet().validPositions[pos].match:getTests(pos)[0].match}function positionCanMatchDefinition(pos,def){for(var valid=!1,tests=getTests(pos),tndx=0;tndx<tests.length;tndx++)if(tests[tndx].match&&tests[tndx].match.def===def){valid=!0;break}return valid}function getTests(pos,ndxIntlzr,tstPs,cacheable){function resolveTestFromToken(maskToken,ndxInitializer,loopNdx,quantifierRecurse){function handleMatch(match,loopNdx,quantifierRecurse){if(testPos>1e4)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+getMaskSet().mask;if(testPos===pos&&void 0===match.matches)return matches.push({match:match,locator:loopNdx.reverse()}),!0;if(void 0!==match.matches){if(match.isGroup&&quantifierRecurse!==match){if(match=handleMatch(maskToken.matches[$.inArray(match,maskToken.matches)+1],loopNdx))return!0}else if(match.isOptional){var optionalToken=match;if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse)){if(latestMatch=matches[matches.length-1].match,isFirstMatch=0===$.inArray(latestMatch,optionalToken.matches),!isFirstMatch)return!0;insertStop=!0,testPos=pos}}else if(match.isAlternator){var maltMatches,alternateToken=match,malternateMatches=[],currentMatches=matches.slice(),loopNdxCnt=loopNdx.length,altIndex=ndxInitializer.length>0?ndxInitializer.shift():-1;if(-1===altIndex||"string"==typeof altIndex){var currentPos=testPos,ndxInitializerClone=ndxInitializer.slice(),altIndexArr=[];"string"==typeof altIndex&&(altIndexArr=altIndex.split(","));for(var amndx=0;amndx<alternateToken.matches.length;amndx++){if(matches=[],match=handleMatch(alternateToken.matches[amndx],[amndx].concat(loopNdx),quantifierRecurse)||match,match!==!0&&void 0!==match&&altIndexArr[altIndexArr.length-1]<alternateToken.matches.length){var ntndx=maskToken.matches.indexOf(match)+1;maskToken.matches.length>ntndx&&(match=handleMatch(maskToken.matches[ntndx],[ntndx].concat(loopNdx.slice(1,loopNdx.length)),quantifierRecurse),match&&(altIndexArr.push(ntndx.toString()),$.each(matches,function(ndx,lmnt){lmnt.alternation=loopNdx.length-1})))}maltMatches=matches.slice(),testPos=currentPos,matches=[];for(var i=0;i<ndxInitializerClone.length;i++)ndxInitializer[i]=ndxInitializerClone[i];for(var ndx1=0;ndx1<maltMatches.length;ndx1++){var altMatch=maltMatches[ndx1];altMatch.alternation=altMatch.alternation||loopNdxCnt;for(var ndx2=0;ndx2<malternateMatches.length;ndx2++){var altMatch2=malternateMatches[ndx2];if(altMatch.match.mask===altMatch2.match.mask&&("string"!=typeof altIndex||-1!==$.inArray(altMatch.locator[altMatch.alternation].toString(),altIndexArr))){maltMatches.splice(ndx1,1),ndx1--,altMatch2.locator[altMatch.alternation]=altMatch2.locator[altMatch.alternation]+","+altMatch.locator[altMatch.alternation],altMatch2.alternation=altMatch.alternation;break}}}malternateMatches=malternateMatches.concat(maltMatches)}"string"==typeof altIndex&&(malternateMatches=$.map(malternateMatches,function(lmnt,ndx){if(isFinite(ndx)){var mamatch,alternation=lmnt.alternation,altLocArr=lmnt.locator[alternation].toString().split(",");lmnt.locator[alternation]=void 0,lmnt.alternation=void 0;for(var alndx=0;alndx<altLocArr.length;alndx++)mamatch=-1!==$.inArray(altLocArr[alndx],altIndexArr),mamatch&&(void 0!==lmnt.locator[alternation]?(lmnt.locator[alternation]+=",",lmnt.locator[alternation]+=altLocArr[alndx]):lmnt.locator[alternation]=parseInt(altLocArr[alndx]),lmnt.alternation=alternation);if(void 0!==lmnt.locator[alternation])return lmnt}})),matches=currentMatches.concat(malternateMatches),testPos=pos,insertStop=matches.length>0}else match=alternateToken.matches[altIndex]?handleMatch(alternateToken.matches[altIndex],[altIndex].concat(loopNdx),quantifierRecurse):!1;if(match)return!0}else if(match.isQuantifier&&quantifierRecurse!==maskToken.matches[$.inArray(match,maskToken.matches)-1])for(var qt=match,qndx=ndxInitializer.length>0?ndxInitializer.shift():0;qndx<(isNaN(qt.quantifier.max)?qndx+1:qt.quantifier.max)&&pos>=testPos;qndx++){var tokenGroup=maskToken.matches[$.inArray(qt,maskToken.matches)-1];if(match=handleMatch(tokenGroup,[qndx].concat(loopNdx),tokenGroup)){if(latestMatch=matches[matches.length-1].match,latestMatch.optionalQuantifier=qndx>qt.quantifier.min-1,isFirstMatch=0===$.inArray(latestMatch,tokenGroup.matches)){if(qndx>qt.quantifier.min-1){insertStop=!0,testPos=pos;break}return!0}return!0}}else if(match=resolveTestFromToken(match,ndxInitializer,loopNdx,quantifierRecurse))return!0}else testPos++}for(var tndx=ndxInitializer.length>0?ndxInitializer.shift():0;tndx<maskToken.matches.length;tndx++)if(maskToken.matches[tndx].isQuantifier!==!0){var match=handleMatch(maskToken.matches[tndx],[tndx].concat(loopNdx),quantifierRecurse);if(match&&testPos===pos)return match;if(testPos>pos)break}}var latestMatch,isFirstMatch,maskTokens=getMaskSet().maskToken,testPos=ndxIntlzr?tstPs:0,ndxInitializer=ndxIntlzr||[0],matches=[],insertStop=!1;if(cacheable===!0&&getMaskSet().tests[pos])return getMaskSet().tests[pos];if(void 0===ndxIntlzr){for(var test,previousPos=pos-1;void 0===(test=getMaskSet().validPositions[previousPos])&&previousPos>-1&&(!getMaskSet().tests[previousPos]||void 0===(test=getMaskSet().tests[previousPos][0]));)previousPos--;void 0!==test&&previousPos>-1&&(testPos=previousPos,ndxInitializer=test.locator.slice())}for(var mtndx=ndxInitializer.shift();mtndx<maskTokens.length;mtndx++){var match=resolveTestFromToken(maskTokens[mtndx],ndxInitializer,[mtndx]);if(match&&testPos===pos||testPos>pos)break}return(0===matches.length||insertStop)&&matches.push({match:{fn:null,cardinality:0,optionality:!0,casing:null,def:""},locator:[]}),getMaskSet().tests[pos]=$.extend(!0,[],matches),getMaskSet().tests[pos]}function getBufferTemplate(){return void 0===getMaskSet()._buffer&&(getMaskSet()._buffer=getMaskTemplate(!1,1)),getMaskSet()._buffer}function getBuffer(noCache){return(void 0===getMaskSet().buffer||noCache===!0)&&(noCache===!0&&(getMaskSet().test={}),getMaskSet().buffer=getMaskTemplate(!0,getLastValidPosition(),!0)),getMaskSet().buffer}function refreshFromBuffer(start,end,buffer){var i;if(buffer=buffer,start===!0)resetMaskSet(),start=0,end=buffer.length;else for(i=start;end>i;i++)delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(i=start;end>i;i++)resetMaskSet(!0),buffer[i]!==opts.skipOptionalPartCharacter&&isValid(i,buffer[i],!0,!0)}function casing(elem,test){switch(test.casing){case"upper":elem=elem.toUpperCase();break;case"lower":elem=elem.toLowerCase()}return elem}function checkAlternationMatch(altArr1,altArr2){for(var altArrC=opts.greedy?altArr2:altArr2.slice(0,1),isMatch=!1,alndx=0;alndx<altArr1.length;alndx++)if(-1!==$.inArray(altArr1[alndx],altArrC)){isMatch=!0;break}return isMatch}function isValid(pos,c,strict,fromSetValid){function _isValid(position,c,strict,fromSetValid){var rslt=!1;return $.each(getTests(position),function(ndx,tst){for(var test=tst.match,loopend=c?1:0,chrs="",i=test.cardinality;i>loopend;i--)chrs+=getBufferElement(position-(i-1));if(c&&(chrs+=c),getBuffer(!0),rslt=null!=test.fn?test.fn.test(chrs,getMaskSet(),position,strict,opts):c!==test.def&&c!==opts.skipOptionalPartCharacter||""===test.def?!1:{c:test.def,pos:position},rslt!==!1){var elem=void 0!==rslt.c?rslt.c:c;elem=elem===opts.skipOptionalPartCharacter&&null===test.fn?test.def:elem;var validatedPos=position,possibleModifiedBuffer=getBuffer();if(void 0!==rslt.remove&&($.isArray(rslt.remove)||(rslt.remove=[rslt.remove]),$.each(rslt.remove.sort(function(a,b){return b-a}),function(ndx,lmnt){stripValidPositions(lmnt,lmnt+1,!0)})),void 0!==rslt.insert&&($.isArray(rslt.insert)||(rslt.insert=[rslt.insert]),$.each(rslt.insert.sort(function(a,b){return a-b}),function(ndx,lmnt){isValid(lmnt.pos,lmnt.c,!0)})),rslt.refreshFromBuffer){var refresh=rslt.refreshFromBuffer;if(strict=!0,refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,possibleModifiedBuffer),void 0===rslt.pos&&void 0===rslt.c)return rslt.pos=getLastValidPosition(),!1;if(validatedPos=void 0!==rslt.pos?rslt.pos:position,validatedPos!==position)return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1}else if(rslt!==!0&&void 0!==rslt.pos&&rslt.pos!==position&&(validatedPos=rslt.pos,refreshFromBuffer(position,validatedPos,getBuffer().slice()),validatedPos!==position))return rslt=$.extend(rslt,isValid(validatedPos,elem,!0)),!1;return rslt!==!0&&void 0===rslt.pos&&void 0===rslt.c?!1:(ndx>0&&resetMaskSet(!0),setValidPosition(validatedPos,$.extend({},tst,{input:casing(elem,test)}),fromSetValid)||(rslt=!1),!1)}}),rslt}function alternate(pos,c,strict,fromSetValid){for(var lastAlt,alternation,isValidRslt,altPos,i,validPos,validPsClone=$.extend(!0,{},getMaskSet().validPositions),lAlt=getLastValidPosition();lAlt>=0&&(altPos=getMaskSet().validPositions[lAlt],!altPos||void 0===altPos.alternation||(lastAlt=lAlt,alternation=getMaskSet().validPositions[lastAlt].alternation,getTestTemplate(lastAlt).locator[altPos.alternation]===altPos.locator[altPos.alternation]));lAlt--);if(void 0!==alternation){lastAlt=parseInt(lastAlt);for(var decisionPos in getMaskSet().validPositions)if(decisionPos=parseInt(decisionPos),altPos=getMaskSet().validPositions[decisionPos],decisionPos>=lastAlt&&void 0!==altPos.alternation){var altNdxs=getMaskSet().validPositions[lastAlt].locator[alternation].toString().split(","),decisionTaker=altPos.locator[alternation]||altNdxs[0];decisionTaker.length>0&&(decisionTaker=decisionTaker.split(",")[0]);for(var mndx=0;mndx<altNdxs.length;mndx++)if(decisionTaker<altNdxs[mndx]){for(var possibilityPos,possibilities,dp=decisionPos;dp>=0;dp--)if(possibilityPos=getMaskSet().validPositions[dp],void 0!==possibilityPos){possibilities=possibilityPos.locator[alternation],possibilityPos.locator[alternation]=parseInt(altNdxs[mndx]);break}if(decisionTaker!==possibilityPos.locator[alternation]){var validInputs=[],staticInputsBeforePos=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&(null!=validPos.match.fn?validInputs.push(validPos.input):pos>i&&staticInputsBeforePos++),delete getMaskSet().validPositions[i],delete getMaskSet().tests[i];for(resetMaskSet(!0),opts.keepStatic=!opts.keepStatic,isValidRslt=!0;validInputs.length>0;){var input=validInputs.shift();if(input!==opts.skipOptionalPartCharacter&&!(isValidRslt=isValid(getLastValidPosition()+1,input,!1,!0)))break}if(possibilityPos.alternation=alternation,possibilityPos.locator[alternation]=possibilities,isValidRslt){var targetLvp=getLastValidPosition(pos)+1,staticInputsBeforePosAlternate=0;for(i=decisionPos+1;i<getLastValidPosition()+1;i++)validPos=getMaskSet().validPositions[i],validPos&&null==validPos.match.fn&&pos>i&&staticInputsBeforePosAlternate++;pos+=staticInputsBeforePosAlternate-staticInputsBeforePos,isValidRslt=isValid(pos>targetLvp?targetLvp:pos,c,strict,fromSetValid)}if(opts.keepStatic=!opts.keepStatic,isValidRslt)return isValidRslt;resetMaskSet(),getMaskSet().validPositions=$.extend(!0,{},validPsClone)}}break}}return!1}function trackbackAlternations(originalPos,newPos){for(var vp=getMaskSet().validPositions[newPos],targetLocator=vp.locator,tll=targetLocator.length,ps=originalPos;newPos>ps;ps++)if(!isMask(ps)){var tests=getTests(ps),bestMatch=tests[0],equality=-1;$.each(tests,function(ndx,tst){for(var i=0;tll>i;i++)tst.locator[i]&&checkAlternationMatch(tst.locator[i].toString().split(","),targetLocator[i].toString().split(","))&&i>equality&&(equality=i,bestMatch=tst)}),setValidPosition(ps,$.extend({},bestMatch,{input:bestMatch.match.def}),!0)}}strict=strict===!0;for(var buffer=getBuffer(),pndx=pos-1;pndx>-1&&!getMaskSet().validPositions[pndx];pndx--);for(pndx++;pos>pndx;pndx++)void 0===getMaskSet().validPositions[pndx]&&((!isMask(pndx)||buffer[pndx]!==getPlaceholder(pndx))&&getTests(pndx).length>1||buffer[pndx]===opts.radixPoint||"0"===buffer[pndx]&&$.inArray(opts.radixPoint,buffer)<pndx)&&_isValid(pndx,buffer[pndx],!0);var maskPos=pos,result=!1,positionsClone=$.extend(!0,{},getMaskSet().validPositions);if(maskPos<getMaskLength()&&(result=_isValid(maskPos,c,strict,fromSetValid),(!strict||fromSetValid)&&result===!1)){var currentPosValid=getMaskSet().validPositions[maskPos];if(!currentPosValid||null!==currentPosValid.match.fn||currentPosValid.match.def!==c&&c!==opts.skipOptionalPartCharacter){if((opts.insertMode||void 0===getMaskSet().validPositions[seekNext(maskPos)])&&!isMask(maskPos))for(var nPos=maskPos+1,snPos=seekNext(maskPos);snPos>=nPos;nPos++)if(result=_isValid(nPos,c,strict,fromSetValid),result!==!1){trackbackAlternations(maskPos,nPos),maskPos=nPos;break}}else result={caret:seekNext(maskPos)}}if(result===!1&&opts.keepStatic&&isComplete(buffer)&&(result=alternate(pos,c,strict,fromSetValid)),result===!0&&(result={pos:maskPos}),$.isFunction(opts.postValidation)&&result!==!1&&!strict){var postValidResult=opts.postValidation(getBuffer(!0),opts);if(postValidResult){if(postValidResult.refreshFromBuffer){var refresh=postValidResult.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,postValidResult.buffer),resetMaskSet(!0),result=postValidResult}}else resetMaskSet(!0),getMaskSet().validPositions=$.extend(!0,{},positionsClone),result=!1}return result}function isMask(pos){var test=getTest(pos);if(null!=test.fn)return test.fn;if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var tests=getTests(pos),staticAlternations=!0,i=0;i<tests.length;i++)if(""!==tests[i].match.def&&(void 0===tests[i].alternation||tests[i].locator[tests[i].alternation].length>1)){staticAlternations=!1;break}return staticAlternations}return!1}function getMaskLength(){var maskLength;maxLength=void 0!==el?el.maxLength:void 0,-1===maxLength&&(maxLength=void 0);var pos,lvp=getLastValidPosition(),testPos=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==testPos?testPos.locator.slice():void 0;for(pos=lvp+1;void 0===testPos||null!==testPos.match.fn||null===testPos.match.fn&&""!==testPos.match.def;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice();var lastTest=getTest(pos-1);return maskLength=""!==lastTest.def?pos:pos-1,void 0===maxLength||maxLength>maskLength?maskLength:maxLength}function seekNext(pos,newBlock){var maskL=getMaskLength();if(pos>=maskL)return maskL;for(var position=pos;++position<maskL&&(newBlock===!0&&(getTest(position).newBlockMarker!==!0||!isMask(position))||newBlock!==!0&&!isMask(position)&&(opts.nojumps!==!0||opts.nojumpsThreshold>position)););return position}function seekPrevious(pos,newBlock){var position=pos;if(0>=position)return 0;for(;--position>0&&(newBlock===!0&&getTest(position).newBlockMarker!==!0||newBlock!==!0&&!isMask(position)););return position}function getBufferElement(position){return void 0===getMaskSet().validPositions[position]?getPlaceholder(position):getMaskSet().validPositions[position].input}function writeBuffer(input,buffer,caretPos,event,triggerInputEvent){if(event&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite.call(input,event,buffer,caretPos,opts);if(result){if(result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer||buffer),buffer=getBuffer(!0)}void 0!==caretPos&&(caretPos=void 0!==result.caret?result.caret:caretPos)}}input.inputmask._valueSet(buffer.join("")),void 0===caretPos||void 0!==event&&"blur"===event.type||caret(input,caretPos),triggerInputEvent===!0&&(skipInputEvent=!0,$(input).trigger("input"))}function getPlaceholder(pos,test){if(test=test||getTest(pos),void 0!==test.placeholder)return test.placeholder;if(null===test.fn){if(pos>-1&&!opts.keepStatic&&void 0===getMaskSet().validPositions[pos]){for(var prevTest,tests=getTests(pos),hasAlternations=!1,i=0;i<tests.length;i++){if(prevTest&&""!==tests[i].match.def&&tests[i].match.def!==prevTest.match.def&&(void 0===tests[i].alternation||tests[i].alternation===prevTest.alternation)){hasAlternations=!0;break}tests[i].match.optionality!==!0&&tests[i].match.optionalQuantifier!==!0&&(prevTest=tests[i])}if(hasAlternations)return opts.placeholder.charAt(pos%opts.placeholder.length)}return test.def}return opts.placeholder.charAt(pos%opts.placeholder.length)}function checkVal(input,writeOut,strict,nptvl){function isTemplateMatch(){var isMatch=!1,charCodeNdx=getBufferTemplate().slice(initialNdx,seekNext(initialNdx)).join("").indexOf(charCodes);if(-1!==charCodeNdx&&!isMask(initialNdx)){isMatch=!0;for(var bufferTemplateArr=getBufferTemplate().slice(initialNdx,initialNdx+charCodeNdx),i=0;i<bufferTemplateArr.length;i++)if(" "!==bufferTemplateArr[i]){isMatch=!1;break}}return isMatch}var inputValue=nptvl.slice(),charCodes="",initialNdx=0;if(resetMaskSet(),getMaskSet().p=seekNext(-1),!strict)if(opts.autoUnmask!==!0){var staticInput=getBufferTemplate().slice(0,seekNext(-1)).join(""),matches=inputValue.join("").match(new RegExp("^"+Inputmask.escapeRegex(staticInput),"g"));matches&&matches.length>0&&(inputValue.splice(0,matches.length*staticInput.length),initialNdx=seekNext(initialNdx))}else initialNdx=seekNext(initialNdx);$.each(inputValue,function(ndx,charCode){var keypress=$.Event("keypress");keypress.which=charCode.charCodeAt(0),charCodes+=charCode;var lvp=getLastValidPosition(void 0,!0),lvTest=getMaskSet().validPositions[lvp],nextTest=getTestTemplate(lvp+1,lvTest?lvTest.locator.slice():void 0,lvp);if(!isTemplateMatch()||strict||opts.autoUnmask){var pos=strict?ndx:null==nextTest.match.fn&&nextTest.match.optionality&&lvp+1<getMaskSet().p?lvp+1:getMaskSet().p;keypressEvent.call(input,keypress,!0,!1,strict,pos),initialNdx=pos+1,charCodes=""}else keypressEvent.call(input,keypress,!0,!1,!0,lvp+1)}),writeOut&&writeBuffer(input,getBuffer(),document.activeElement===input?seekNext(getLastValidPosition(0)):void 0,$.Event("checkval"))}function unmaskedvalue(input){if(input&&void 0===input.inputmask)return input.value;var umValue=[],vps=getMaskSet().validPositions;for(var pndx in vps)vps[pndx].match&&null!=vps[pndx].match.fn&&umValue.push(vps[pndx].input);var unmaskedValue=0===umValue.length?null:(isRTL?umValue.reverse():umValue).join("");if(null!==unmaskedValue){var bufferValue=(isRTL?getBuffer().slice().reverse():getBuffer()).join("");$.isFunction(opts.onUnMask)&&(unmaskedValue=opts.onUnMask.call(input,bufferValue,unmaskedValue,opts)||unmaskedValue)}return unmaskedValue}function caret(input,begin,end){function translatePosition(pos){if(isRTL&&"number"==typeof pos&&(!opts.greedy||""!==opts.placeholder)){var bffrLght=getBuffer().join("").length;pos=bffrLght-pos}return pos}var range;if("number"!=typeof begin)return input.setSelectionRange?(begin=input.selectionStart,end=input.selectionEnd):window.getSelection?(range=window.getSelection().getRangeAt(0),(range.commonAncestorContainer.parentNode===input||range.commonAncestorContainer===input)&&(begin=range.startOffset,end=range.endOffset)):document.selection&&document.selection.createRange&&(range=document.selection.createRange(),begin=0-range.duplicate().moveStart("character",-1e5),end=begin+range.text.length),{begin:translatePosition(begin),end:translatePosition(end)};begin=translatePosition(begin),end=translatePosition(end),end="number"==typeof end?end:begin;var scrollCalc=parseInt(((input.ownerDocument.defaultView||window).getComputedStyle?(input.ownerDocument.defaultView||window).getComputedStyle(input,null):input.currentStyle).fontSize)*end;if(input.scrollLeft=scrollCalc>input.scrollWidth?scrollCalc:0,androidchrome||opts.insertMode!==!1||begin!==end||end++,input.setSelectionRange)input.selectionStart=begin,input.selectionEnd=end;else if(window.getSelection){if(range=document.createRange(),void 0===input.firstChild){var textNode=document.createTextNode("");input.appendChild(textNode)}range.setStart(input.firstChild,begin<input.inputmask._valueGet().length?begin:input.inputmask._valueGet().length),range.setEnd(input.firstChild,end<input.inputmask._valueGet().length?end:input.inputmask._valueGet().length),range.collapse(!0);var sel=window.getSelection();sel.removeAllRanges(),sel.addRange(range)}else input.createTextRange&&(range=input.createTextRange(),range.collapse(!0),range.moveEnd("character",end),range.moveStart("character",begin),range.select())}function determineLastRequiredPosition(returnDefinition){var pos,testPos,buffer=getBuffer(),bl=buffer.length,lvp=getLastValidPosition(),positions={},lvTest=getMaskSet().validPositions[lvp],ndxIntlzr=void 0!==lvTest?lvTest.locator.slice():void 0;for(pos=lvp+1;pos<buffer.length;pos++)testPos=getTestTemplate(pos,ndxIntlzr,pos-1),ndxIntlzr=testPos.locator.slice(),positions[pos]=$.extend(!0,{},testPos);var lvTestAlt=lvTest&&void 0!==lvTest.alternation?lvTest.locator[lvTest.alternation]:void 0;for(pos=bl-1;pos>lvp&&(testPos=positions[pos],(testPos.match.optionality||testPos.match.optionalQuantifier||lvTestAlt&&(lvTestAlt!==positions[pos].locator[lvTest.alternation]&&null!=testPos.match.fn||null===testPos.match.fn&&testPos.locator[lvTest.alternation]&&checkAlternationMatch(testPos.locator[lvTest.alternation].toString().split(","),lvTestAlt.toString().split(","))&&""!==getTests(pos)[0].def))&&buffer[pos]===getPlaceholder(pos,testPos.match));pos--)bl--;return returnDefinition?{l:bl,def:positions[bl]?positions[bl].match:void 0}:bl}function clearOptionalTail(buffer){for(var rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),buffer}function isComplete(buffer){if($.isFunction(opts.isComplete))return opts.isComplete.call(el,buffer,opts);if("*"===opts.repeat)return void 0;var complete=!1,lrp=determineLastRequiredPosition(!0),aml=seekPrevious(lrp.l);if(void 0===lrp.def||lrp.def.newBlockMarker||lrp.def.optionality||lrp.def.optionalQuantifier){complete=!0;for(var i=0;aml>=i;i++){var test=getTestTemplate(i).match;if(null!==test.fn&&void 0===getMaskSet().validPositions[i]&&test.optionality!==!0&&test.optionalQuantifier!==!0||null===test.fn&&buffer[i]!==getPlaceholder(i,test)){complete=!1;break}}}return complete}function isSelection(begin,end){return isRTL?begin-end>1||begin-end===1&&opts.insertMode:end-begin>1||end-begin===1&&opts.insertMode}function wrapEventRuler(eventHandler){return function(e){var inComposition=!1,keydownPressed=!1;if(void 0===this.inputmask){var imOpts=$.data(this,"_inputmask_opts");imOpts?new Inputmask(imOpts).mask(this):$(this).off(".inputmask")}else{if("setvalue"===e.type||!(this.disabled||this.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||opts.tabThrough===!1&&e.keyCode===Inputmask.keyCode.TAB))){switch(e.type){case"input":if(skipInputEvent===!0||inComposition===!0)return skipInputEvent=!1,e.preventDefault();keydownPressed=!1;break;case"keydown":skipKeyPressEvent=!1,inComposition=!1,keydownPressed=!0;break;case"keypress":if(skipKeyPressEvent===!0)return e.preventDefault();skipKeyPressEvent=!0;break;case"compositionstart":inComposition=!0;break;case"compositionupdate":skipInputEvent=keydownPressed;break;case"compositionend":inComposition=!1,keydownPressed=!1;break;case"cut":skipInputEvent=!0}return eventHandler.apply(this,arguments)}e.preventDefault()}}}function patchValueProperty(npt){function patchValhook(type){if($.valHooks&&(void 0===$.valHooks[type]||$.valHooks[type].inputmaskpatch!==!0)){var valhookGet=$.valHooks[type]&&$.valHooks[type].get?$.valHooks[type].get:function(elem){return elem.value},valhookSet=$.valHooks[type]&&$.valHooks[type].set?$.valHooks[type].set:function(elem,value){return elem.value=value,elem};$.valHooks[type]={get:function(elem){if(elem.inputmask){if(elem.inputmask.opts.autoUnmask)return elem.inputmask.unmaskedvalue();var result=valhookGet(elem),maskset=elem.inputmask.maskset,bufferTemplate=maskset._buffer;return bufferTemplate=bufferTemplate?bufferTemplate.join(""):"",result!==bufferTemplate?result:""}return valhookGet(elem)},set:function(elem,value){var result,$elem=$(elem);return result=valhookSet(elem,value),elem.inputmask&&$elem.trigger("setvalue.inputmask"),result},inputmaskpatch:!0}}}function getter(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():valueGet.call(this)!==getBufferTemplate().join("")?document.activeElement===this&&opts.clearMaskOnLostFocus?(isRTL?clearOptionalTail(getBuffer()).reverse():clearOptionalTail(getBuffer())).join(""):valueGet.call(this):"":valueGet.call(this)}function setter(value){valueSet.call(this,value),this.inputmask&&$(this).trigger("setvalue.inputmask")}function installNativeValueSetFallback(npt){$(npt).on("mouseenter.inputmask",wrapEventRuler(function(event){var $input=$(this),input=this,value=input.inputmask._valueGet();""!==value&&value!==getBuffer().join("")&&$input.trigger("setvalue.inputmask")}))}var valueGet,valueSet;npt.inputmask.__valueGet||(Object.getOwnPropertyDescriptor&&void 0===npt.value?(valueGet=function(){return this.textContent},valueSet=function(value){this.textContent=value},Object.defineProperty(npt,"value",{get:getter,set:setter})):document.__lookupGetter__&&npt.__lookupGetter__("value")?(valueGet=npt.__lookupGetter__("value"),valueSet=npt.__lookupSetter__("value"),npt.__defineGetter__("value",getter),npt.__defineSetter__("value",setter)):(valueGet=function(){return npt.value},valueSet=function(value){npt.value=value},patchValhook(npt.type),installNativeValueSetFallback(npt)),npt.inputmask.__valueGet=valueGet,npt.inputmask._valueGet=function(overruleRTL){return isRTL&&overruleRTL!==!0?valueGet.call(this.el).split("").reverse().join(""):valueGet.call(this.el)},npt.inputmask.__valueSet=valueSet,npt.inputmask._valueSet=function(value,overruleRTL){valueSet.call(this.el,null===value||void 0===value?"":overruleRTL!==!0&&isRTL?value.split("").reverse().join(""):value)})}function handleRemove(input,k,pos,strict){function generalize(){if(opts.keepStatic){resetMaskSet(!0);var lastAlt,validInputs=[],positionsClone=$.extend(!0,{},getMaskSet().validPositions);for(lastAlt=getLastValidPosition();lastAlt>=0;lastAlt--){var validPos=getMaskSet().validPositions[lastAlt];if(validPos&&(null!=validPos.match.fn&&validInputs.push(validPos.input),delete getMaskSet().validPositions[lastAlt],void 0!==validPos.alternation&&validPos.locator[validPos.alternation]===getTestTemplate(lastAlt).locator[validPos.alternation]))break}if(lastAlt>-1)for(;validInputs.length>0;){getMaskSet().p=seekNext(getLastValidPosition());var keypress=$.Event("keypress");keypress.which=validInputs.pop().charCodeAt(0),keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}else getMaskSet().validPositions=$.extend(!0,{},positionsClone)}}if((opts.numericInput||isRTL)&&(k===Inputmask.keyCode.BACKSPACE?k=Inputmask.keyCode.DELETE:k===Inputmask.keyCode.DELETE&&(k=Inputmask.keyCode.BACKSPACE),isRTL)){var pend=pos.end;pos.end=pos.begin,pos.begin=pend}k===Inputmask.keyCode.BACKSPACE&&(pos.end-pos.begin<1||opts.insertMode===!1)?(pos.begin=seekPrevious(pos.begin),void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.begin--):k===Inputmask.keyCode.DELETE&&pos.begin===pos.end&&(pos.end=isMask(pos.end)?pos.end+1:seekNext(pos.end)+1,void 0===getMaskSet().validPositions[pos.begin]||getMaskSet().validPositions[pos.begin].input!==opts.groupSeparator&&getMaskSet().validPositions[pos.begin].input!==opts.radixPoint||pos.end++),stripValidPositions(pos.begin,pos.end,!1,strict),strict!==!0&&generalize();var lvp=getLastValidPosition(pos.begin);lvp<pos.begin?(-1===lvp&&resetMaskSet(),getMaskSet().p=seekNext(lvp)):strict!==!0&&(getMaskSet().p=pos.begin)}function keydownEvent(e){var input=this,$input=$(input),k=e.keyCode,pos=caret(input);k===Inputmask.keyCode.BACKSPACE||k===Inputmask.keyCode.DELETE||iphone&&127===k||e.ctrlKey&&88===k&&!isInputEventSupported("cut")?(e.preventDefault(),88===k&&(undoValue=getBuffer().join("")),handleRemove(input,k,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")?$input.trigger("cleared"):isComplete(getBuffer())===!0&&$input.trigger("complete"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)):k===Inputmask.keyCode.END||k===Inputmask.keyCode.PAGE_DOWN?setTimeout(function(){var caretPos=seekNext(getLastValidPosition());opts.insertMode||caretPos!==getMaskLength()||e.shiftKey||caretPos--,caret(input,e.shiftKey?pos.begin:caretPos,caretPos)},0):k===Inputmask.keyCode.HOME&&!e.shiftKey||k===Inputmask.keyCode.PAGE_UP?caret(input,0,e.shiftKey?pos.begin:0):(opts.undoOnEscape&&k===Inputmask.keyCode.ESCAPE||90===k&&e.ctrlKey)&&e.altKey!==!0?(checkVal(input,!0,!1,undoValue.split("")),$input.trigger("click")):k!==Inputmask.keyCode.INSERT||e.shiftKey||e.ctrlKey?opts.tabThrough===!0&&k===Inputmask.keyCode.TAB?(e.shiftKey===!0?(null===getTest(pos.begin).fn&&(pos.begin=seekNext(pos.begin)),pos.end=seekPrevious(pos.begin,!0),pos.begin=seekPrevious(pos.end,!0)):(pos.begin=seekNext(pos.begin,!0),pos.end=seekNext(pos.begin,!0),pos.end<getMaskLength()&&pos.end--),pos.begin<getMaskLength()&&(e.preventDefault(),caret(input,pos.begin,pos.end))):opts.insertMode!==!1||e.shiftKey||(k===Inputmask.keyCode.RIGHT?setTimeout(function(){var caretPos=caret(input);caret(input,caretPos.begin)},0):k===Inputmask.keyCode.LEFT&&setTimeout(function(){var caretPos=caret(input);caret(input,isRTL?caretPos.begin+1:caretPos.begin-1)},0)):(opts.insertMode=!opts.insertMode,caret(input,opts.insertMode||pos.begin!==getMaskLength()?pos.begin:pos.begin-1)),opts.onKeyDown(e,getBuffer(),caret(input).begin,opts),ignorable=-1!==$.inArray(k,opts.ignorables)}function keypressEvent(e,checkval,writeOut,strict,ndx){var input=this,$input=$(input),k=e.which||e.charCode||e.keyCode;if(!(checkval===!0||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||ignorable))return k===Inputmask.keyCode.ENTER&&undoValue!==getBuffer().join("")&&(undoValue=getBuffer().join(""),e.preventDefault(),setTimeout(function(){$input.trigger("change")},0)),!0;if(k){46===k&&e.shiftKey===!1&&","===opts.radixPoint&&(k=44);var forwardPosition,pos=checkval?{begin:ndx,end:ndx}:caret(input),c=String.fromCharCode(k),isSlctn=isSelection(pos.begin,pos.end);isSlctn&&(getMaskSet().undoPositions=$.extend(!0,{},getMaskSet().validPositions),handleRemove(input,Inputmask.keyCode.DELETE,pos,!0),pos.begin=getMaskSet().p,
opts.insertMode||(opts.insertMode=!opts.insertMode,setValidPosition(pos.begin,strict),opts.insertMode=!opts.insertMode),isSlctn=!opts.multi),getMaskSet().writeOutBuffer=!0;var p=isRTL&&!isSlctn?pos.end:pos.begin,valResult=isValid(p,c,strict);if(valResult!==!1){if(valResult!==!0&&(p=void 0!==valResult.pos?valResult.pos:p,c=void 0!==valResult.c?valResult.c:c),resetMaskSet(!0),void 0!==valResult.caret)forwardPosition=valResult.caret;else{var vps=getMaskSet().validPositions;forwardPosition=!opts.keepStatic&&(void 0!==vps[p+1]&&getTests(p+1,vps[p].locator.slice(),p).length>1||void 0!==vps[p].alternation)?p+1:seekNext(p)}getMaskSet().p=forwardPosition}if(writeOut!==!1){var self=this;if(setTimeout(function(){opts.onKeyValidation.call(self,valResult,opts)},0),getMaskSet().writeOutBuffer&&valResult!==!1){var buffer=getBuffer();writeBuffer(input,buffer,checkval?void 0:opts.numericInput?seekPrevious(forwardPosition):forwardPosition,e,checkval!==!0),checkval!==!0&&setTimeout(function(){isComplete(buffer)===!0&&$input.trigger("complete")},0)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions)}else isSlctn&&(getMaskSet().buffer=void 0,getMaskSet().validPositions=getMaskSet().undoPositions);if(opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask),checkval&&$.isFunction(opts.onBeforeWrite)){var result=opts.onBeforeWrite(e,getBuffer(),forwardPosition,opts);if(result&&result.refreshFromBuffer){var refresh=result.refreshFromBuffer;refreshFromBuffer(refresh===!0?refresh:refresh.start,refresh.end,result.buffer),resetMaskSet(!0),result.caret&&(getMaskSet().p=result.caret)}}if(e.preventDefault(),checkval)return valResult}}function pasteEvent(e){var input=this,ev=e.originalEvent||e,$input=$(input),inputValue=input.inputmask._valueGet(!0),caretPos=caret(input);if("propertychange"===e.type&&input.inputmask._valueGet().length<=getMaskLength())return!0;if("paste"===e.type){var valueBeforeCaret=inputValue.substr(0,caretPos.begin),valueAfterCaret=inputValue.substr(caretPos.end,inputValue.length);valueBeforeCaret===getBufferTemplate().slice(0,caretPos.begin).join("")&&(valueBeforeCaret=""),valueAfterCaret===getBufferTemplate().slice(caretPos.end).join("")&&(valueAfterCaret=""),window.clipboardData&&window.clipboardData.getData?inputValue=valueBeforeCaret+window.clipboardData.getData("Text")+valueAfterCaret:ev.clipboardData&&ev.clipboardData.getData&&(inputValue=valueBeforeCaret+ev.clipboardData.getData("text/plain")+valueAfterCaret)}var pasteValue=inputValue;if($.isFunction(opts.onBeforePaste)){if(pasteValue=opts.onBeforePaste.call(input,inputValue,opts),pasteValue===!1)return e.preventDefault(),!1;pasteValue||(pasteValue=inputValue)}return checkVal(input,!1,!1,isRTL?pasteValue.split("").reverse():pasteValue.toString().split("")),writeBuffer(input,getBuffer(),void 0,e,!0),$input.trigger("click"),isComplete(getBuffer())===!0&&$input.trigger("complete"),!1}function inputFallBackEvent(e){var input=this;checkVal(input,!0,!1,input.inputmask._valueGet().split("")),isComplete(getBuffer())===!0&&$(input).trigger("complete"),e.preventDefault()}function mobileInputEvent(e){var input=this,caretPos=caret(input),currentValue=input._valueGet();currentValue=currentValue.replace(new RegExp("("+Inputmask.escapeRegex(getBufferTemplate().join(""))+")*"),""),caretPos.begin>currentValue.length&&(caret(input,currentValue.length),caretPos=caret(input)),getBuffer().length-currentValue.length!==1||currentValue.charAt(caretPos.begin)===getBuffer()[caretPos.begin]||currentValue.charAt(caretPos.begin+1)===getBuffer()[caretPos.begin]||isMask(caretPos.begin)?inputFallBackEvent.call(this,e):(e.keyCode=opts.keyCode.BACKSPACE,keydownEvent.call(input,e)),e.preventDefault()}function compositionStartEvent(e){var ev=e.originalEvent||e;undoValue=getBuffer().join(""),""===compositionData||0!==ev.data.indexOf(compositionData)}function compositionUpdateEvent(e){var input=this,ev=e.originalEvent||e;0===ev.data.indexOf(compositionData)&&(resetMaskSet(),getMaskSet().p=seekNext(-1),skipInputEvent=!0);for(var newData=ev.data,i=0;i<newData.length;i++){var keypress=$.Event("keypress");keypress.which=newData.charCodeAt(i),skipKeyPressEvent=!1,ignorable=!1,keypressEvent.call(input,keypress,!0,!1,!1,getMaskSet().p)}setTimeout(function(){var forwardPosition=getMaskSet().p;writeBuffer(input,getBuffer(),opts.numericInput?seekPrevious(forwardPosition):forwardPosition)},0),compositionData=ev.data}function compositionEndEvent(e){}function setValueEvent(e){var input=this,value=input.inputmask._valueGet();checkVal(input,!0,!1,($.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(input,value,opts)||value:value).split("")),undoValue=getBuffer().join(""),(opts.clearMaskOnLostFocus||opts.clearIncomplete)&&input.inputmask._valueGet()===getBufferTemplate().join("")&&input.inputmask._valueSet("")}function focusEvent(e){var input=this,nptValue=input.inputmask._valueGet();opts.showMaskOnFocus&&(!opts.showMaskOnHover||opts.showMaskOnHover&&""===nptValue)?input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer(),seekNext(getLastValidPosition())):mouseEnter===!1&&caret(input,seekNext(getLastValidPosition())),opts.positionCaretOnTab===!0&&setTimeout(function(){caret(input,seekNext(getLastValidPosition()))},0),undoValue=getBuffer().join("")}function mouseleaveEvent(e){var input=this;if(mouseEnter=!1,opts.clearMaskOnLostFocus){var buffer=getBuffer().slice(),nptValue=input.inputmask._valueGet();document.activeElement!==input&&nptValue!==input.getAttribute("placeholder")&&""!==nptValue&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer),writeBuffer(input,buffer))}}function clickEvent(e){function doRadixFocus(clickPos){if(opts.radixFocus&&""!==opts.radixPoint){var vps=getMaskSet().validPositions;if(void 0===vps[clickPos]||vps[clickPos].input===getPlaceholder(clickPos)){if(clickPos<seekNext(-1))return!0;var radixPos=$.inArray(opts.radixPoint,getBuffer());if(-1!==radixPos){for(var vp in vps)if(vp>radixPos&&vps[vp].input!==getPlaceholder(vp))return!1;return!0}}}return!1}var input=this;if(document.activeElement===input){var selectedCaret=caret(input);if(selectedCaret.begin===selectedCaret.end)if(doRadixFocus(selectedCaret.begin))caret(input,$.inArray(opts.radixPoint,getBuffer()));else{var clickPosition=selectedCaret.begin,lvclickPosition=getLastValidPosition(clickPosition),lastPosition=seekNext(lvclickPosition);lastPosition>clickPosition?caret(input,isMask(clickPosition)||isMask(clickPosition-1)?clickPosition:seekNext(clickPosition)):caret(input,opts.numericInput?0:lastPosition)}}}function dblclickEvent(e){var input=this;setTimeout(function(){caret(input,0,seekNext(getLastValidPosition()))},0)}function cutEvent(e){var input=this,$input=$(input),pos=caret(input),ev=e.originalEvent||e,clipboardData=window.clipboardData||ev.clipboardData,clipData=isRTL?getBuffer().slice(pos.end,pos.begin):getBuffer().slice(pos.begin,pos.end);clipboardData.setData("text",isRTL?clipData.reverse().join(""):clipData.join("")),document.execCommand&&document.execCommand("copy"),handleRemove(input,Inputmask.keyCode.DELETE,pos),writeBuffer(input,getBuffer(),getMaskSet().p,e,undoValue!==getBuffer().join("")),input.inputmask._valueGet()===getBufferTemplate().join("")&&$input.trigger("cleared"),opts.showTooltip&&(input.title=opts.tooltip||getMaskSet().mask)}function blurEvent(e){var $input=$(this),input=this;if(input.inputmask){var nptValue=input.inputmask._valueGet(),buffer=getBuffer().slice();undoValue!==buffer.join("")&&setTimeout(function(){$input.trigger("change"),undoValue=buffer.join("")},0),""!==nptValue&&(opts.clearMaskOnLostFocus&&(-1===getLastValidPosition()&&nptValue===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),isComplete(buffer)===!1&&(setTimeout(function(){$input.trigger("incomplete")},0),opts.clearIncomplete&&(resetMaskSet(),buffer=opts.clearMaskOnLostFocus?[]:getBufferTemplate().slice())),writeBuffer(input,buffer,void 0,e))}}function mouseenterEvent(e){var input=this;mouseEnter=!0,document.activeElement!==input&&opts.showMaskOnHover&&input.inputmask._valueGet()!==getBuffer().join("")&&writeBuffer(input,getBuffer())}function mask(elem){if(el=elem,$el=$(el),opts.showTooltip&&(el.title=opts.tooltip||getMaskSet().mask),("rtl"===el.dir||opts.rightAlign)&&(el.style.textAlign="right"),("rtl"===el.dir||opts.numericInput)&&(el.dir="ltr",el.removeAttribute("dir"),el.inputmask.isRTL=!0,isRTL=!0),$el.off(".inputmask"),patchValueProperty(el),("INPUT"===el.tagName&&isInputTypeSupported(el.getAttribute("type"))||el.isContentEditable)&&($(el.form).on("submit",function(){undoValue!==getBuffer().join("")&&$el.trigger("change"),opts.clearMaskOnLostFocus&&-1===getLastValidPosition()&&el.inputmask._valueGet&&el.inputmask._valueGet()===getBufferTemplate().join("")&&el.inputmask._valueSet(""),opts.removeMaskOnSubmit&&(el.inputmask._valueSet(el.inputmask.unmaskedvalue(),!0),setTimeout(function(){writeBuffer(el,getBuffer())},0))}).on("reset",function(){setTimeout(function(){$el.trigger("setvalue.inputmask")},0)}),$el.on("mouseenter.inputmask",wrapEventRuler(mouseenterEvent)).on("blur.inputmask",wrapEventRuler(blurEvent)).on("focus.inputmask",wrapEventRuler(focusEvent)).on("mouseleave.inputmask",wrapEventRuler(mouseleaveEvent)).on("click.inputmask",wrapEventRuler(clickEvent)).on("dblclick.inputmask",wrapEventRuler(dblclickEvent)).on(PasteEventType+".inputmask dragdrop.inputmask drop.inputmask",wrapEventRuler(pasteEvent)).on("cut.inputmask",wrapEventRuler(cutEvent)).on("complete.inputmask",wrapEventRuler(opts.oncomplete)).on("incomplete.inputmask",wrapEventRuler(opts.onincomplete)).on("cleared.inputmask",wrapEventRuler(opts.oncleared)).on("keydown.inputmask",wrapEventRuler(keydownEvent)).on("keypress.inputmask",wrapEventRuler(keypressEvent)),androidfirefox||$el.on("compositionstart.inputmask",wrapEventRuler(compositionStartEvent)).on("compositionupdate.inputmask",wrapEventRuler(compositionUpdateEvent)).on("compositionend.inputmask",wrapEventRuler(compositionEndEvent)),"paste"===PasteEventType&&$el.on("input.inputmask",wrapEventRuler(inputFallBackEvent)),(android||androidfirefox||androidchrome||kindle)&&($el.off("input.inputmask"),$el.on("input.inputmask",wrapEventRuler(mobileInputEvent)))),$el.on("setvalue.inputmask",wrapEventRuler(setValueEvent)),""!==el.inputmask._valueGet()||opts.clearMaskOnLostFocus===!1){var initialValue=$.isFunction(opts.onBeforeMask)?opts.onBeforeMask.call(el,el.inputmask._valueGet(),opts)||el.inputmask._valueGet():el.inputmask._valueGet();checkVal(el,!0,!1,initialValue.split(""));var buffer=getBuffer().slice();undoValue=buffer.join(""),isComplete(buffer)===!1&&opts.clearIncomplete&&resetMaskSet(),opts.clearMaskOnLostFocus&&(buffer.join("")===getBufferTemplate().join("")?buffer=[]:clearOptionalTail(buffer)),writeBuffer(el,buffer),document.activeElement===el&&caret(el,seekNext(getLastValidPosition()))}}var undoValue,compositionData,el,$el,maxLength,valueBuffer,isRTL=!1,skipKeyPressEvent=!1,skipInputEvent=!1,ignorable=!1,mouseEnter=!0;if(void 0!==actionObj)switch(actionObj.action){case"isComplete":return el=actionObj.el,isComplete(getBuffer());case"unmaskedvalue":return el=actionObj.el,void 0!==el&&void 0!==el.inputmask?(maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,valueBuffer=isRTL?el.inputmask._valueGet().split("").reverse().join(""):el.inputmask._valueGet()):valueBuffer=actionObj.value,opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(valueBuffer,opts)||valueBuffer:valueBuffer).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),unmaskedvalue(el);case"mask":el=actionObj.el,maskset=el.inputmask.maskset,opts=el.inputmask.opts,isRTL=el.inputmask.isRTL,undoValue=getBuffer().join(""),mask(el);break;case"format":return opts.numericInput&&(isRTL=!0),valueBuffer=($.isFunction(opts.onBeforeMask)?opts.onBeforeMask(actionObj.value,opts)||actionObj.value:actionObj.value).split(""),checkVal(void 0,!1,!1,isRTL?valueBuffer.reverse():valueBuffer),$.isFunction(opts.onBeforeWrite)&&opts.onBeforeWrite(void 0,getBuffer(),0,opts),actionObj.metadata?{value:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join(""),metadata:maskScope({action:"getmetadata"},maskset,opts)}:isRTL?getBuffer().slice().reverse().join(""):getBuffer().join("");case"isValid":opts.numericInput&&(isRTL=!0),valueBuffer=actionObj.value.split(""),checkVal(void 0,!1,!0,isRTL?valueBuffer.reverse():valueBuffer);for(var buffer=getBuffer(),rl=determineLastRequiredPosition(),lmib=buffer.length-1;lmib>rl&&!isMask(lmib);lmib--);return buffer.splice(rl,lmib+1-rl),isComplete(buffer)&&actionObj.value===buffer.join("");case"getemptymask":return getBufferTemplate();case"remove":el=actionObj.el,$el=$(el),maskset=el.inputmask.maskset,opts=el.inputmask.opts,el.inputmask._valueSet(unmaskedvalue(el)),$el.off(".inputmask");var valueProperty;Object.getOwnPropertyDescriptor&&(valueProperty=Object.getOwnPropertyDescriptor(el,"value")),valueProperty&&valueProperty.get?el.inputmask.__valueGet&&Object.defineProperty(el,"value",{get:el.inputmask.__valueGet,set:el.inputmask.__valueSet}):document.__lookupGetter__&&el.__lookupGetter__("value")&&el.inputmask.__valueGet&&(el.__defineGetter__("value",el.inputmask.__valueGet),el.__defineSetter__("value",el.inputmask.__valueSet)),el.inputmask=void 0;break;case"getmetadata":if($.isArray(maskset.metadata)){for(var alternation,lvp=getLastValidPosition(),firstAlt=lvp;firstAlt>=0;firstAlt--)if(getMaskSet().validPositions[firstAlt]&&void 0!==getMaskSet().validPositions[firstAlt].alternation){alternation=getMaskSet().validPositions[firstAlt].alternation;break}return void 0!==alternation?maskset.metadata[getMaskSet().validPositions[lvp].locator[alternation]]:maskset.metadata[0]}return maskset.metadata}}Inputmask.prototype={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},alternatormarker:"|",escapeChar:"\\",mask:null,oncomplete:$.noop,onincomplete:$.noop,oncleared:$.noop,repeat:0,greedy:!0,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},alias:null,onKeyDown:$.noop,onBeforeMask:null,onBeforePaste:function(pastedValue,opts){return $.isFunction(opts.onBeforeMask)?opts.onBeforeMask(pastedValue,opts):pastedValue},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:$.noop,skipOptionalPartCharacter:" ",showTooltip:!1,tooltip:void 0,numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",groupSeparator:"",radixFocus:!1,nojumps:!1,nojumpsThreshold:0,keepStatic:null,positionCaretOnTab:!1,tabThrough:!1,supportsInputType:[],definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-z--]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[0-9A-Za-z--]",cardinality:1}},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],isComplete:null,canClearPosition:$.noop,postValidation:null},masksCache:{},mask:function(elems){var that=this;return"string"==typeof elems&&(elems=document.querySelectorAll(elems)),elems=elems.nodeName?[elems]:elems,$.each(elems,function(ndx,el){var scopedOpts=$.extend(!0,{},that.opts);importAttributeOptions(el,scopedOpts,$.extend(!0,{},that.userOptions));var maskset=generateMaskSet(scopedOpts,that.noMasksCache);void 0!==maskset&&(void 0!==el.inputmask&&el.inputmask.remove(),el.inputmask=new Inputmask,el.inputmask.opts=scopedOpts,el.inputmask.noMasksCache=that.noMasksCache,el.inputmask.userOptions=$.extend(!0,{},that.userOptions),el.inputmask.el=el,el.inputmask.maskset=maskset,el.inputmask.isRTL=!1,$.data(el,"_inputmask_opts",scopedOpts),maskScope({action:"mask",el:el}))}),elems?elems[0].inputmask||this:this},option:function(options){return"string"==typeof options?this.opts[options]:"object"==typeof options?($.extend(this.opts,options),$.extend(this.userOptions,options),this.el&&(void 0!==options.mask||void 0!==options.alias?this.mask(this.el):($.data(this.el,"_inputmask_opts",this.opts),maskScope({action:"mask",el:this.el}))),this):void 0},unmaskedvalue:function(value){return maskScope({action:"unmaskedvalue",el:this.el,value:value},this.el&&this.el.inputmask?this.el.inputmask.maskset:generateMaskSet(this.opts,this.noMasksCache),this.opts)},remove:function(){return this.el?(maskScope({action:"remove",el:this.el}),this.el.inputmask=void 0,this.el):void 0},getemptymask:function(){return maskScope({action:"getemptymask"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return maskScope({action:"isComplete",el:this.el},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},getmetadata:function(){return maskScope({action:"getmetadata"},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},isValid:function(value){return maskScope({action:"isValid",value:value},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)},format:function(value,metadata){return maskScope({action:"format",value:value,metadata:metadata},this.maskset||generateMaskSet(this.opts,this.noMasksCache),this.opts)}},Inputmask.extendDefaults=function(options){$.extend(!0,Inputmask.prototype.defaults,options)},Inputmask.extendDefinitions=function(definition){$.extend(!0,Inputmask.prototype.defaults.definitions,definition)},Inputmask.extendAliases=function(alias){$.extend(!0,Inputmask.prototype.defaults.aliases,alias)},Inputmask.format=function(value,options,metadata){return Inputmask(options).format(value,metadata)},Inputmask.unmask=function(value,options){return Inputmask(options).unmaskedvalue(value)},Inputmask.isValid=function(value,options){return Inputmask(options).isValid(value)},Inputmask.remove=function(elems){$.each(elems,function(ndx,el){el.inputmask&&el.inputmask.remove()})},Inputmask.escapeRegex=function(str){var specials=["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"];return str.replace(new RegExp("(\\"+specials.join("|\\")+")","gim"),"\\$1")},Inputmask.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91};var ua=navigator.userAgent,iphone=null!==ua.match(new RegExp("iphone","i")),android=null!==ua.match(new RegExp("android.*safari.*","i")),androidchrome=null!==ua.match(new RegExp("android.*chrome.*","i")),androidfirefox=null!==ua.match(new RegExp("android.*firefox.*","i")),kindle=/Kindle/i.test(ua)||/Silk/i.test(ua)||/KFTT/i.test(ua)||/KFOT/i.test(ua)||/KFJWA/i.test(ua)||/KFJWI/i.test(ua)||/KFSOWI/i.test(ua)||/KFTHWA/i.test(ua)||/KFTHWI/i.test(ua)||/KFAPWA/i.test(ua)||/KFAPWI/i.test(ua),PasteEventType=isInputEventSupported("paste")?"paste":isInputEventSupported("input")?"input":"propertychange";return window.Inputmask=Inputmask,Inputmask}(jQuery),function($,Inputmask){return void 0===$.fn.inputmask&&($.fn.inputmask=function(fn,options){var nptmask,input;if(options=options||{},"string"==typeof fn)switch(fn){case"mask":return nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)});case"unmaskedvalue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.unmaskedvalue():$(input).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getemptymask():"";case"hasMaskedValue":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.hasMaskedValue():!1;case"isComplete":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.isComplete():!0;case"getmetadata":return input=this.jquery&&this.length>0?this[0]:this,input.inputmask?input.inputmask.getmetadata():void 0;case"setvalue":input=this.jquery&&this.length>0?this[0]:this,$(input).val(options),void 0!==input.inputmask&&$(input).triggerHandler("setvalue.inputmask");break;case"option":if("string"!=typeof options)return this.each(function(){return void 0!==this.inputmask?this.inputmask.option(options):void 0});if(input=this.jquery&&this.length>0?this[0]:this,void 0!==input.inputmask)return input.inputmask.option(options);break;default:return options.alias=fn,nptmask=new Inputmask(options),this.each(function(){nptmask.mask(this)})}else{if("object"==typeof fn)return nptmask=new Inputmask(fn),this.each(void 0===fn.mask&&void 0===fn.alias?function(){return void 0!==this.inputmask?this.inputmask.option(fn):void nptmask.mask(this)}:function(){nptmask.mask(this)});if(void 0===fn)return this.each(function(){nptmask=new Inputmask(options),nptmask.mask(this)})}}),$.fn.inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({h:{validator:"[01][0-9]|2[0-3]",cardinality:2,prevalidator:[{validator:"[0-2]",cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:"[0-5]",cardinality:1}]},d:{validator:"0[1-9]|[12][0-9]|3[01]",cardinality:2,prevalidator:[{validator:"[0-3]",cardinality:1}]},m:{validator:"0[1-9]|1[012]",cardinality:2,prevalidator:[{validator:"[01]",cardinality:1}]},y:{validator:"(19|20)\\d{2}",cardinality:4,prevalidator:[{validator:"[12]",cardinality:1},{validator:"(19|20)",cardinality:2},{validator:"(19|20)\\d",cardinality:3}]}}),Inputmask.extendAliases({"dd/mm/yyyy":{mask:"1/2/y",placeholder:"dd/mm/yyyy",regex:{val1pre:new RegExp("[0-3]"),val1:new RegExp("0[1-9]|[12][0-9]|3[01]"),val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9]|3[01])"+escapedSeparator+"[01])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|[12][0-9])"+escapedSeparator+"(0[1-9]|1[012]))|(30"+escapedSeparator+"(0[13-9]|1[012]))|(31"+escapedSeparator+"(0[13578]|1[02]))")}},leapday:"29/02/",separator:"/",yearrange:{minyear:1900,maxyear:2099},isInYearRange:function(chrs,minyear,maxyear){if(isNaN(chrs))return!1;var enteredyear=parseInt(chrs.concat(minyear.toString().slice(chrs.length))),enteredyear2=parseInt(chrs.concat(maxyear.toString().slice(chrs.length)));return(isNaN(enteredyear)?!1:enteredyear>=minyear&&maxyear>=enteredyear)||(isNaN(enteredyear2)?!1:enteredyear2>=minyear&&maxyear>=enteredyear2)},determinebaseyear:function(minyear,maxyear,hint){var currentyear=(new Date).getFullYear();if(minyear>currentyear)return minyear;if(currentyear>maxyear){for(var maxYearPrefix=maxyear.toString().slice(0,2),maxYearPostfix=maxyear.toString().slice(2,4);maxYearPrefix+hint>maxyear;)maxYearPrefix--;var maxxYear=maxYearPrefix+maxYearPostfix;return minyear>maxxYear?minyear:maxxYear}return currentyear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getDate().toString()+(today.getMonth()+1).toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}},getFrontValue:function(mask,buffer,opts){for(var start=0,length=0,i=0;i<mask.length&&"2"!==mask.charAt(i);i++){var definition=opts.definitions[mask.charAt(i)];definition?(start+=length,length=definition.cardinality):length++}return buffer.join("").substr(start,length)},definitions:{1:{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.val1.test(chrs);return strict||isValid||chrs.charAt(1)!==opts.separator&&-1==="-./".indexOf(chrs.charAt(1))||!(isValid=opts.regex.val1.test("0"+chrs.charAt(0)))?isValid:(maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)})},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var pchrs=chrs;isNaN(maskset.buffer[pos+1])||(pchrs+=maskset.buffer[pos+1]);var isValid=1===pchrs.length?opts.regex.val1pre.test(pchrs):opts.regex.val1.test(pchrs);if(!strict&&!isValid){if(isValid=opts.regex.val1.test(chrs+"0"))return maskset.buffer[pos]=chrs,maskset.buffer[++pos]="0",{pos:pos,c:"0"};if(isValid=opts.regex.val1.test("0"+chrs))return maskset.buffer[pos]="0",pos++,{pos:pos}}return isValid},cardinality:1}]},2:{validator:function(chrs,maskset,pos,strict,opts){var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=opts.regex.val2(opts.separator).test(frontValue+chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.separator||-1!=="-./".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",{refreshFromBuffer:{start:pos-1,end:pos},pos:pos,c:chrs.charAt(0)};if(opts.mask.indexOf("2")===opts.mask.length-1&&isValid){var dayMonthValue=maskset.buffer.join("").substr(4,4)+chrs;if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(maskset.buffer.join("").substr(0,4),10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){isNaN(maskset.buffer[pos+1])||(chrs+=maskset.buffer[pos+1]);var frontValue=opts.getFrontValue(maskset.mask,maskset.buffer,opts);-1!==frontValue.indexOf(opts.placeholder[0])&&(frontValue="01"+opts.separator);var isValid=1===chrs.length?opts.regex.val2pre(opts.separator).test(frontValue+chrs):opts.regex.val2(opts.separator).test(frontValue+chrs);return strict||isValid||!(isValid=opts.regex.val2(opts.separator).test(frontValue+"0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},y:{validator:function(chrs,maskset,pos,strict,opts){if(opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)return!0;var year=parseInt(chrs,10);return year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}return!1},cardinality:4,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,1);if(isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs+"0").toString().slice(0,2),isValid=opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos}}return isValid},cardinality:1},{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear);if(!strict&&!isValid){var yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2);if(isValid=opts.isInYearRange(chrs[0]+yearPrefix[1]+chrs[1],opts.yearrange.minyear,opts.yearrange.maxyear))return maskset.buffer[pos++]=yearPrefix.charAt(1),{pos:pos};if(yearPrefix=opts.determinebaseyear(opts.yearrange.minyear,opts.yearrange.maxyear,chrs).toString().slice(0,2),opts.isInYearRange(yearPrefix+chrs,opts.yearrange.minyear,opts.yearrange.maxyear)){var dayMonthValue=maskset.buffer.join("").substr(0,6);if(dayMonthValue!==opts.leapday)isValid=!0;else{var year=parseInt(chrs,10);isValid=year%4===0?year%100===0?year%400===0?!0:!1:!0:!1}}else isValid=!1;if(isValid)return maskset.buffer[pos-1]=yearPrefix.charAt(0),maskset.buffer[pos++]=yearPrefix.charAt(1),maskset.buffer[pos++]=chrs.charAt(0),{refreshFromBuffer:{start:pos-3,end:pos},pos:pos}}return isValid},cardinality:2},{validator:function(chrs,maskset,pos,strict,opts){return opts.isInYearRange(chrs,opts.yearrange.minyear,opts.yearrange.maxyear)},cardinality:3}]}},insertMode:!1,autoUnmask:!1},"mm/dd/yyyy":{placeholder:"mm/dd/yyyy",alias:"dd/mm/yyyy",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"yyyy/mm/dd":{mask:"y/1/2",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",leapday:"/02/29",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val(today.getFullYear().toString()+(today.getMonth()+1).toString()+today.getDate().toString()),$input.trigger("setvalue.inputmask")}}},"dd.mm.yyyy":{mask:"1.2.y",placeholder:"dd.mm.yyyy",leapday:"29.02.",separator:".",alias:"dd/mm/yyyy"},"dd-mm-yyyy":{mask:"1-2-y",placeholder:"dd-mm-yyyy",leapday:"29-02-",separator:"-",alias:"dd/mm/yyyy"},"mm.dd.yyyy":{mask:"1.2.y",placeholder:"mm.dd.yyyy",leapday:"02.29.",separator:".",alias:"mm/dd/yyyy"},"mm-dd-yyyy":{mask:"1-2-y",placeholder:"mm-dd-yyyy",leapday:"02-29-",separator:"-",alias:"mm/dd/yyyy"},"yyyy.mm.dd":{mask:"y.1.2",placeholder:"yyyy.mm.dd",leapday:".02.29",separator:".",alias:"yyyy/mm/dd"},"yyyy-mm-dd":{mask:"y-1-2",placeholder:"yyyy-mm-dd",leapday:"-02-29",separator:"-",alias:"yyyy/mm/dd"},datetime:{mask:"1/2/y h:s",placeholder:"dd/mm/yyyy hh:mm",alias:"dd/mm/yyyy",regex:{hrspre:new RegExp("[012]"),hrs24:new RegExp("2[0-4]|1[3-9]"),hrs:new RegExp("[01][0-9]|2[0-4]"),ampm:new RegExp("^[a|p|A|P][m|M]"),mspre:new RegExp("[0-5]"),ms:new RegExp("[0-5][0-9]")},timeseparator:":",hourFormat:"24",definitions:{h:{validator:function(chrs,maskset,pos,strict,opts){if("24"===opts.hourFormat&&24===parseInt(chrs,10))return maskset.buffer[pos-1]="0",maskset.buffer[pos]="0",{refreshFromBuffer:{start:pos-1,end:pos},c:"0"};var isValid=opts.regex.hrs.test(chrs);if(!strict&&!isValid&&(chrs.charAt(1)===opts.timeseparator||-1!=="-.:".indexOf(chrs.charAt(1)))&&(isValid=opts.regex.hrs.test("0"+chrs.charAt(0))))return maskset.buffer[pos-1]="0",maskset.buffer[pos]=chrs.charAt(0),pos++,{refreshFromBuffer:{start:pos-2,end:pos},pos:pos,c:opts.timeseparator};if(isValid&&"24"!==opts.hourFormat&&opts.regex.hrs24.test(chrs)){var tmp=parseInt(chrs,10);return 24===tmp?(maskset.buffer[pos+5]="a",maskset.buffer[pos+6]="m"):(maskset.buffer[pos+5]="p",maskset.buffer[pos+6]="m"),tmp-=12,10>tmp?(maskset.buffer[pos]=tmp.toString(),maskset.buffer[pos-1]="0"):(maskset.buffer[pos]=tmp.toString().charAt(1),maskset.buffer[pos-1]=tmp.toString().charAt(0)),{refreshFromBuffer:{start:pos-1,end:pos+6},c:maskset.buffer[pos]}}return isValid},cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.hrspre.test(chrs);return strict||isValid||!(isValid=opts.regex.hrs.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},s:{validator:"[0-5][0-9]",cardinality:2,prevalidator:[{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.regex.mspre.test(chrs);return strict||isValid||!(isValid=opts.regex.ms.test("0"+chrs))?isValid:(maskset.buffer[pos]="0",pos++,{pos:pos})},cardinality:1}]},t:{validator:function(chrs,maskset,pos,strict,opts){
return opts.regex.ampm.test(chrs+"m")},casing:"lower",cardinality:1}},insertMode:!1,autoUnmask:!1},datetime12:{mask:"1/2/y h:s t\\m",placeholder:"dd/mm/yyyy hh:mm xm",alias:"datetime",hourFormat:"12"},"mm/dd/yyyy hh:mm xm":{mask:"1/2/y h:s t\\m",placeholder:"mm/dd/yyyy hh:mm xm",alias:"datetime12",regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[13-9]|1[012])"+escapedSeparator+"[0-3])|(02"+escapedSeparator+"[0-2])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[13-9]|1[012])"+escapedSeparator+"30)|((0[13578]|1[02])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},leapday:"02/29/",onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey&&e.keyCode===Inputmask.keyCode.RIGHT){var today=new Date;$input.val((today.getMonth()+1).toString()+today.getDate().toString()+today.getFullYear().toString()),$input.trigger("setvalue.inputmask")}}},"hh:mm t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"h:s t":{mask:"h:s t\\m",placeholder:"hh:mm xm",alias:"datetime",hourFormat:"12"},"hh:mm:ss":{mask:"h:s:s",placeholder:"hh:mm:ss",alias:"datetime",autoUnmask:!1},"hh:mm":{mask:"h:s",placeholder:"hh:mm",alias:"datetime",autoUnmask:!1},date:{alias:"dd/mm/yyyy"},"mm/yyyy":{mask:"1/y",placeholder:"mm/yyyy",leapday:"donotuse",separator:"/",alias:"mm/dd/yyyy"},shamsi:{regex:{val2pre:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"[0-3])")},val2:function(separator){var escapedSeparator=Inputmask.escapeRegex.call(this,separator);return new RegExp("((0[1-9]|1[012])"+escapedSeparator+"(0[1-9]|[12][0-9]))|((0[1-9]|1[012])"+escapedSeparator+"30)|((0[1-6])"+escapedSeparator+"31)")},val1pre:new RegExp("[01]"),val1:new RegExp("0[1-9]|1[012]")},yearrange:{minyear:1300,maxyear:1499},mask:"y/1/2",leapday:"/12/30",placeholder:"yyyy/mm/dd",alias:"mm/dd/yyyy",clearIncomplete:!0}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendDefinitions({A:{validator:"[A-Za-z--]",cardinality:1,casing:"upper"},"&":{validator:"[0-9A-Za-z--]",cardinality:1,casing:"upper"},"#":{validator:"[0-9A-Fa-f]",cardinality:1,casing:"upper"}}),Inputmask.extendAliases({url:{mask:"ir",placeholder:"",separator:"",defaultPrefix:"http://",regex:{urlpre1:new RegExp("[fh]"),urlpre2:new RegExp("(ft|ht)"),urlpre3:new RegExp("(ftp|htt)"),urlpre4:new RegExp("(ftp:|http|ftps)"),urlpre5:new RegExp("(ftp:/|ftps:|http:|https)"),urlpre6:new RegExp("(ftp://|ftps:/|http:/|https:)"),urlpre7:new RegExp("(ftp://|ftps://|http://|https:/)"),urlpre8:new RegExp("(ftp://|ftps://|http://|https://)")},definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return!0},cardinality:8,prevalidator:function(){for(var result=[],prefixLimit=8,i=0;prefixLimit>i;i++)result[i]=function(){var j=i;return{validator:function(chrs,maskset,pos,strict,opts){if(opts.regex["urlpre"+(j+1)]){var k,tmp=chrs;j+1-chrs.length>0&&(tmp=maskset.buffer.join("").substring(0,j+1-chrs.length)+""+tmp);var isValid=opts.regex["urlpre"+(j+1)].test(tmp);if(!strict&&!isValid){for(pos-=j,k=0;k<opts.defaultPrefix.length;k++)maskset.buffer[pos]=opts.defaultPrefix[k],pos++;for(k=0;k<tmp.length-1;k++)maskset.buffer[pos]=tmp[k],pos++;return{pos:pos}}return isValid}return!1},cardinality:j}}();return result}()},r:{validator:".",cardinality:50}},insertMode:!1,autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(chrs,maskset,pos,strict,opts){return pos-1>-1&&"."!==maskset.buffer[pos-1]?(chrs=maskset.buffer[pos-1]+chrs,chrs=pos-2>-1&&"."!==maskset.buffer[pos-2]?maskset.buffer[pos-2]+chrs:"0"+chrs):chrs="00"+chrs,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(chrs)},cardinality:1}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,64}]@*{1,64}[.*{2,64}][.*{2,6}][.*{1,2}]",greedy:!1,onBeforePaste:function(pastedValue,opts){return pastedValue=pastedValue.toLowerCase(),pastedValue.replace("mailto:","")},definitions:{"*":{validator:"[0-9A-Za-z!#$%&'*+/=?^_`{|}~-]",cardinality:1,casing:"lower"}},onUnMask:function(maskedValue,unmaskedValue,opts){return maskedValue}},mac:{mask:"##:##:##:##:##:##"}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({numeric:{mask:function(opts){function autoEscape(txt){for(var escapedTxt="",i=0;i<txt.length;i++)escapedTxt+=opts.definitions[txt.charAt(i)]?"\\"+txt.charAt(i):txt.charAt(i);return escapedTxt}if(0!==opts.repeat&&isNaN(opts.integerDigits)&&(opts.integerDigits=opts.repeat),opts.repeat=0,opts.groupSeparator===opts.radixPoint&&(opts.groupSeparator="."===opts.radixPoint?",":","===opts.radixPoint?".":"")," "===opts.groupSeparator&&(opts.skipOptionalPartCharacter=void 0),opts.autoGroup=opts.autoGroup&&""!==opts.groupSeparator,opts.autoGroup&&("string"==typeof opts.groupSize&&isFinite(opts.groupSize)&&(opts.groupSize=parseInt(opts.groupSize)),isFinite(opts.integerDigits))){var seps=Math.floor(opts.integerDigits/opts.groupSize),mod=opts.integerDigits%opts.groupSize;opts.integerDigits=parseInt(opts.integerDigits)+(0===mod?seps-1:seps),opts.integerDigits<1&&(opts.integerDigits="*")}opts.placeholder.length>1&&(opts.placeholder=opts.placeholder.charAt(0)),opts.radixFocus=opts.radixFocus&&""!==opts.placeholder&&opts.integerOptional===!0,opts.definitions[";"]=opts.definitions["~"],opts.definitions[";"].definitionSymbol="~",opts.numericInput===!0&&(opts.radixFocus=!1,opts.digitsOptional=!1,isNaN(opts.digits)&&(opts.digits=2),opts.decimalProtect=!1);var mask=autoEscape(opts.prefix);return mask+="[+]",mask+=opts.integerOptional===!0?"~{1,"+opts.integerDigits+"}":"~{"+opts.integerDigits+"}",void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0)&&(mask+=opts.digitsOptional?"["+(opts.decimalProtect?":":opts.radixPoint)+";{1,"+opts.digits+"}]":(opts.decimalProtect?":":opts.radixPoint)+";{"+opts.digits+"}"),""!==opts.negationSymbol.back&&(mask+="[-]"),mask+=autoEscape(opts.suffix),opts.greedy=!1,mask},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,radixPoint:".",radixFocus:!0,groupSize:3,groupSeparator:"",autoGroup:!1,allowPlus:!0,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,postFormat:function(buffer,pos,reformatOnly,opts){opts.numericInput===!0&&(buffer=buffer.reverse(),isFinite(pos)&&(pos=buffer.join("").length-pos-1));var i,l,suffixStripped=!1;buffer.length>=opts.suffix.length&&buffer.join("").indexOf(opts.suffix)===buffer.length-opts.suffix.length&&(buffer.length=buffer.length-opts.suffix.length,suffixStripped=!0),pos=pos>=buffer.length?buffer.length-1:pos<opts.prefix.length?opts.prefix.length:pos;var needsRefresh=!1,charAtPos=buffer[pos];if(""===opts.groupSeparator||opts.numericInput!==!0&&-1!==$.inArray(opts.radixPoint,buffer)&&pos>$.inArray(opts.radixPoint,buffer)||new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]").test(charAtPos)){if(suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return{pos:pos}}var cbuf=buffer.slice();charAtPos===opts.groupSeparator&&(cbuf.splice(pos--,1),charAtPos=cbuf[pos]),reformatOnly?charAtPos!==opts.radixPoint&&(cbuf[pos]="?"):cbuf.splice(pos,0,"?");var bufVal=cbuf.join(""),bufValOrigin=bufVal;if(bufVal.length>0&&opts.autoGroup||reformatOnly&&-1!==bufVal.indexOf(opts.groupSeparator)){var escapedGroupSeparator=Inputmask.escapeRegex(opts.groupSeparator);needsRefresh=0===bufVal.indexOf(opts.groupSeparator),bufVal=bufVal.replace(new RegExp(escapedGroupSeparator,"g"),"");var radixSplit=bufVal.split(opts.radixPoint);if(bufVal=""===opts.radixPoint?bufVal:radixSplit[0],bufVal!==opts.prefix+"?0"&&bufVal.length>=opts.groupSize+opts.prefix.length)for(var reg=new RegExp("([-+]?[\\d?]+)([\\d?]{"+opts.groupSize+"})");reg.test(bufVal);)bufVal=bufVal.replace(reg,"$1"+opts.groupSeparator+"$2"),bufVal=bufVal.replace(opts.groupSeparator+opts.groupSeparator,opts.groupSeparator);""!==opts.radixPoint&&radixSplit.length>1&&(bufVal+=opts.radixPoint+radixSplit[1])}for(needsRefresh=bufValOrigin!==bufVal,buffer.length=bufVal.length,i=0,l=bufVal.length;l>i;i++)buffer[i]=bufVal.charAt(i);var newPos=$.inArray("?",buffer);if(-1===newPos&&charAtPos===opts.radixPoint&&(newPos=$.inArray(opts.radixPoint,buffer)),reformatOnly?buffer[newPos]=charAtPos:buffer.splice(newPos,1),!needsRefresh&&suffixStripped)for(i=0,l=opts.suffix.length;l>i;i++)buffer.push(opts.suffix.charAt(i));return newPos=opts.numericInput&&isFinite(pos)?buffer.join("").length-newPos-1:newPos,opts.numericInput&&(buffer=buffer.reverse(),$.inArray(opts.radixPoint,buffer)<newPos&&buffer.join("").length-opts.suffix.length!==newPos&&(newPos-=1)),{pos:newPos,refreshFromBuffer:needsRefresh,buffer:buffer}},onBeforeWrite:function(e,buffer,caretPos,opts){if(e&&("blur"===e.type||"checkval"===e.type)){var maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");if(processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)&&isFinite(opts.min)&&parseFloat(processValue)<parseFloat(opts.min))return $.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts));if(opts.numericInput!==!0){var tmpBufSplit=""!==opts.radixPoint?buffer.join("").split(opts.radixPoint):[buffer.join("")],matchRslt=tmpBufSplit[0].match(opts.regex.integerPart(opts)),matchRsltDigits=2===tmpBufSplit.length?tmpBufSplit[1].match(opts.regex.integerNPart(opts)):void 0;if(matchRslt){matchRslt[0]!==opts.negationSymbol.front+"0"&&matchRslt[0]!==opts.negationSymbol.front&&"+"!==matchRslt[0]||void 0!==matchRsltDigits&&!matchRsltDigits[0].match(/^0+$/)||buffer.splice(matchRslt.index,1);var radixPosition=$.inArray(opts.radixPoint,buffer);if(-1!==radixPosition){if(isFinite(opts.digits)&&!opts.digitsOptional){for(var i=1;i<=opts.digits;i++)(void 0===buffer[radixPosition+i]||buffer[radixPosition+i]===opts.placeholder.charAt(0))&&(buffer[radixPosition+i]="0");return{refreshFromBuffer:maskedValue!==buffer.join(""),buffer:buffer}}if(radixPosition===buffer.length-opts.suffix.length-1)return buffer.splice(radixPosition,1),{refreshFromBuffer:!0,buffer:buffer}}}}}if(opts.autoGroup){var rslt=opts.postFormat(buffer,opts.numericInput?caretPos:caretPos-1,!0,opts);return rslt.caret=caretPos<=opts.prefix.length?rslt.pos:rslt.pos+1,rslt}},regex:{integerPart:function(opts){return new RegExp("["+Inputmask.escapeRegex(opts.negationSymbol.front)+"+]?\\d+")},integerNPart:function(opts){return new RegExp("[\\d"+Inputmask.escapeRegex(opts.groupSeparator)+"]+")}},signHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs){var matchRslt=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(matchRslt&&matchRslt[0].length>0)return maskset.buffer[matchRslt.index]===("-"===chrs?"+":opts.negationSymbol.front)?"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos,insert:{pos:maskset.buffer.length-opts.suffix.length-1,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,remove:matchRslt.index,caret:pos}:""!==opts.negationSymbol.back?{pos:matchRslt.index,c:"+",remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos}:{pos:matchRslt.index,c:"+",remove:matchRslt.index,caret:pos}:maskset.buffer[matchRslt.index]===("-"===chrs?opts.negationSymbol.front:"+")?"-"===chrs&&""!==opts.negationSymbol.back?{remove:[matchRslt.index,maskset.buffer.length-opts.suffix.length-1],caret:pos-1}:{remove:matchRslt.index,caret:pos-1}:"-"===chrs?""!==opts.negationSymbol.back?{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1,insert:{pos:maskset.buffer.length-opts.suffix.length,c:opts.negationSymbol.back}}:{pos:matchRslt.index,c:opts.negationSymbol.front,caret:pos+1}:{pos:matchRslt.index,c:chrs,caret:pos+1}}return!1},radixHandler:function(chrs,maskset,pos,strict,opts){if(!strict&&(-1!==$.inArray(chrs,[",","."])&&(chrs=opts.radixPoint),chrs===opts.radixPoint&&void 0!==opts.digits&&(isNaN(opts.digits)||parseInt(opts.digits)>0))){var radixPos=$.inArray(opts.radixPoint,maskset.buffer),integerValue=maskset.buffer.join("").match(opts.regex.integerPart(opts));if(-1!==radixPos&&maskset.validPositions[radixPos])return maskset.validPositions[radixPos-1]?{caret:radixPos+1}:{pos:integerValue.index,c:integerValue[0],caret:radixPos+1};if(!integerValue||"0"===integerValue[0]&&integerValue.index+1!==pos)return maskset.buffer[integerValue?integerValue.index:pos]="0",{pos:(integerValue?integerValue.index:pos)+1,c:opts.radixPoint}}return!1},leadingZeroHandler:function(chrs,maskset,pos,strict,opts){if(opts.numericInput===!0){if("0"===maskset.buffer[maskset.buffer.length-opts.prefix.length-1])return{pos:pos,remove:maskset.buffer.length-opts.prefix.length-1}}else{var matchRslt=maskset.buffer.join("").match(opts.regex.integerNPart(opts)),radixPosition=$.inArray(opts.radixPoint,maskset.buffer);if(matchRslt&&!strict&&(-1===radixPosition||radixPosition>=pos))if(0===matchRslt[0].indexOf("0")){pos<opts.prefix.length&&(pos=matchRslt.index);var _radixPosition=$.inArray(opts.radixPoint,maskset._buffer),digitsMatch=maskset._buffer&&maskset.buffer.slice(radixPosition).join("")===maskset._buffer.slice(_radixPosition).join("")||0===parseInt(maskset.buffer.slice(radixPosition+1).join("")),integerMatch=maskset._buffer&&maskset.buffer.slice(matchRslt.index,radixPosition).join("")===maskset._buffer.slice(opts.prefix.length,_radixPosition).join("")||"0"===maskset.buffer.slice(matchRslt.index,radixPosition).join("");if(-1===radixPosition||digitsMatch&&integerMatch)return maskset.buffer.splice(matchRslt.index,1),pos=pos>matchRslt.index?pos-1:matchRslt.index,{pos:pos,remove:matchRslt.index};if(matchRslt.index+1===pos||"0"===chrs)return maskset.buffer.splice(matchRslt.index,1),pos=matchRslt.index,{pos:pos,remove:matchRslt.index}}else if("0"===chrs&&pos<=matchRslt.index&&matchRslt[0]!==opts.groupSeparator)return!1}return!0},postValidation:function(buffer,opts){var isValid=!0,maskedValue=buffer.join(""),processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),processValue=processValue.replace(new RegExp("^"+Inputmask.escapeRegex(opts.negationSymbol.front)),"-"),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.negationSymbol.back)+"$"),""),processValue=processValue===opts.negationSymbol.front?processValue+"0":processValue,isFinite(processValue)&&(null!==opts.max&&isFinite(opts.max)&&(isValid=parseFloat(processValue)<=parseFloat(opts.max)),isValid&&null!==opts.min&&isFinite(opts.min)&&(0>=processValue||processValue.toString().length>=opts.min.toString().length)&&(isValid=parseFloat(processValue)>=parseFloat(opts.min),isValid||(isValid=$.extend(!0,{refreshFromBuffer:!0,buffer:(opts.prefix+opts.min).split("")},opts.postFormat((opts.prefix+opts.min).split(""),0,!0,opts)),isValid.refreshFromBuffer=!0))),isValid},definitions:{"~":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid&&(isValid=opts.radixHandler(chrs,maskset,pos,strict,opts),!isValid&&(isValid=strict?new RegExp("[0-9"+Inputmask.escapeRegex(opts.groupSeparator)+"]").test(chrs):new RegExp("[0-9]").test(chrs),isValid===!0&&(isValid=opts.leadingZeroHandler(chrs,maskset,pos,strict,opts),isValid===!0)))){var radixPosition=$.inArray(opts.radixPoint,maskset.buffer);isValid=-1!==radixPosition&&opts.digitsOptional===!1&&opts.numericInput!==!0&&pos>radixPosition&&!strict?{pos:pos,remove:pos}:{pos:pos}}return isValid},cardinality:1,prevalidator:null},"+":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&(strict&&opts.allowMinus&&chrs===opts.negationSymbol.front||opts.allowMinus&&"-"===chrs||opts.allowPlus&&"+"===chrs)&&(isValid="-"===chrs?""!==opts.negationSymbol.back?{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1,insert:{pos:maskset.buffer.length,c:opts.negationSymbol.back}}:{pos:pos,c:"-"===chrs?opts.negationSymbol.front:"+",caret:pos+1}:!0),isValid},cardinality:1,prevalidator:null,placeholder:""},"-":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);return!isValid&&strict&&opts.allowMinus&&chrs===opts.negationSymbol.back&&(isValid=!0),isValid},cardinality:1,prevalidator:null,placeholder:""},":":{validator:function(chrs,maskset,pos,strict,opts){var isValid=opts.signHandler(chrs,maskset,pos,strict,opts);if(!isValid){var radix="["+Inputmask.escapeRegex(opts.radixPoint)+",\\.]";isValid=new RegExp(radix).test(chrs),isValid&&maskset.validPositions[pos]&&maskset.validPositions[pos].match.placeholder===opts.radixPoint&&(isValid={caret:pos+1})}return isValid?{c:opts.radixPoint}:isValid},cardinality:1,prevalidator:null,placeholder:function(opts){return opts.radixPoint}}},onUnMask:function(maskedValue,unmaskedValue,opts){var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),opts.unmaskAsNumber?(""!==opts.radixPoint&&-1!==processValue.indexOf(opts.radixPoint)&&(processValue=processValue.replace(Inputmask.escapeRegex.call(this,opts.radixPoint),".")),Number(processValue)):processValue},isComplete:function(buffer,opts){var maskedValue=buffer.join(""),bufClone=buffer.slice();if(opts.postFormat(bufClone,0,!0,opts),bufClone.join("")!==maskedValue)return!1;var processValue=maskedValue.replace(opts.prefix,"");return processValue=processValue.replace(opts.suffix,""),processValue=processValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""),","===opts.radixPoint&&(processValue=processValue.replace(Inputmask.escapeRegex(opts.radixPoint),".")),isFinite(processValue)},onBeforeMask:function(initialValue,opts){if(""!==opts.radixPoint&&isFinite(initialValue))initialValue=initialValue.toString().replace(".",opts.radixPoint);else{var kommaMatches=initialValue.match(/,/g),dotMatches=initialValue.match(/\./g);dotMatches&&kommaMatches?dotMatches.length>kommaMatches.length?(initialValue=initialValue.replace(/\./g,""),initialValue=initialValue.replace(",",opts.radixPoint)):kommaMatches.length>dotMatches.length?(initialValue=initialValue.replace(/,/g,""),initialValue=initialValue.replace(".",opts.radixPoint)):initialValue=initialValue.indexOf(".")<initialValue.indexOf(",")?initialValue.replace(/\./g,""):initialValue=initialValue.replace(/,/g,""):initialValue=initialValue.replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")}if(0===opts.digits&&(-1!==initialValue.indexOf(".")?initialValue=initialValue.substring(0,initialValue.indexOf(".")):-1!==initialValue.indexOf(",")&&(initialValue=initialValue.substring(0,initialValue.indexOf(",")))),""!==opts.radixPoint&&isFinite(opts.digits)&&-1!==initialValue.indexOf(opts.radixPoint)){var valueParts=initialValue.split(opts.radixPoint),decPart=valueParts[1].match(new RegExp("\\d*"))[0];if(parseInt(opts.digits)<decPart.toString().length){var digitsFactor=Math.pow(10,parseInt(opts.digits));initialValue=initialValue.replace(Inputmask.escapeRegex(opts.radixPoint),"."),initialValue=Math.round(parseFloat(initialValue)*digitsFactor)/digitsFactor,initialValue=initialValue.toString().replace(".",opts.radixPoint)}}return initialValue.toString()},canClearPosition:function(maskset,position,lvp,strict,opts){var positionInput=maskset.validPositions[position].input,canClear=positionInput!==opts.radixPoint||null!==maskset.validPositions[position].match.fn&&opts.decimalProtect===!1||isFinite(positionInput)||position===lvp||positionInput===opts.groupSeparator||positionInput===opts.negationSymbol.front||positionInput===opts.negationSymbol.back;if(canClear&&isFinite(positionInput)){var matchRslt,radixPos=$.inArray(opts.radixPoint,maskset.buffer),radixInjection=!1;if(void 0===maskset.validPositions[radixPos]&&(maskset.validPositions[radixPos]={input:opts.radixPoint},radixInjection=!0),!strict&&maskset.buffer){matchRslt=maskset.buffer.join("").substr(0,position).match(opts.regex.integerNPart(opts));var pos=position+1,isNull=null==matchRslt||0===parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),""));if(isNull)for(;maskset.validPositions[pos]&&(maskset.validPositions[pos].input===opts.groupSeparator||"0"===maskset.validPositions[pos].input);)delete maskset.validPositions[pos],pos++}var buffer=[];for(var vp in maskset.validPositions)void 0!==maskset.validPositions[vp].input&&buffer.push(maskset.validPositions[vp].input);if(radixInjection&&delete maskset.validPositions[radixPos],radixPos>0){var bufVal=buffer.join("");if(matchRslt=bufVal.match(opts.regex.integerNPart(opts)))if(radixPos>=position)if(0===matchRslt[0].indexOf("0"))canClear=matchRslt.index!==position||"0"===opts.placeholder;else{var intPart=parseInt(matchRslt[0].replace(new RegExp(Inputmask.escapeRegex(opts.groupSeparator),"g"),"")),radixPart=parseInt(bufVal.split(opts.radixPoint)[1]);10>intPart&&maskset.validPositions[position]&&("0"!==opts.placeholder||radixPart>0)&&(maskset.validPositions[position].input="0",maskset.p=opts.prefix.length+1,canClear=!1)}else 0===matchRslt[0].indexOf("0")&&3===bufVal.length&&(maskset.validPositions={},canClear=!1)}}return canClear},onKeyDown:function(e,buffer,caretPos,opts){var $input=$(this);if(e.ctrlKey)switch(e.keyCode){case Inputmask.keyCode.UP:$input.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(opts.step)),$input.trigger("setvalue.inputmask");break;case Inputmask.keyCode.DOWN:$input.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(opts.step)),$input.trigger("setvalue.inputmask")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowPlus:!1,allowMinus:!1}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({phone:{url:"phone-codes/phone-codes.js",countrycode:"",mask:function(opts){opts.definitions["#"]=opts.definitions[9];var maskList=[];return $.ajax({url:opts.url,async:!1,dataType:"json",success:function(response){maskList=response},error:function(xhr,ajaxOptions,thrownError){alert(thrownError+" - "+opts.url)}}),maskList=maskList.sort(function(a,b){return(a.mask||a)<(b.mask||b)?-1:1})},keepStatic:!1,nojumps:!0,nojumpsThreshold:1,onBeforeMask:function(value,opts){var processedValue=value.replace(/^0/g,"");return(processedValue.indexOf(opts.countrycode)>1||-1===processedValue.indexOf(opts.countrycode))&&(processedValue="+"+opts.countrycode+processedValue),processedValue}},phonebe:{alias:"phone",url:"phone-codes/phone-be.js",countrycode:"32",nojumpsThreshold:4}}),Inputmask}(jQuery,Inputmask),function($,Inputmask){return Inputmask.extendAliases({Regex:{mask:"r",greedy:!1,repeat:"*",regex:null,regexTokens:null,tokenizer:/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,quantifierFilter:/[0-9]+[^,]/,isComplete:function(buffer,opts){return new RegExp(opts.regex).test(buffer.join(""))},definitions:{r:{validator:function(chrs,maskset,pos,strict,opts){function RegexToken(isGroup,isQuantifier){this.matches=[],this.isGroup=isGroup||!1,this.isQuantifier=isQuantifier||!1,this.quantifier={min:1,max:1},this.repeaterPart=void 0}function analyseRegex(){var match,m,currentToken=new RegexToken,opengroups=[];for(opts.regexTokens=[];match=opts.tokenizer.exec(opts.regex);)switch(m=match[0],m.charAt(0)){case"(":opengroups.push(new RegexToken(!0));break;case")":groupToken=opengroups.pop(),opengroups.length>0?opengroups[opengroups.length-1].matches.push(groupToken):currentToken.matches.push(groupToken);break;case"{":case"+":case"*":var quantifierToken=new RegexToken(!1,!0);m=m.replace(/[{}]/g,"");var mq=m.split(","),mq0=isNaN(mq[0])?mq[0]:parseInt(mq[0]),mq1=1===mq.length?mq0:isNaN(mq[1])?mq[1]:parseInt(mq[1]);if(quantifierToken.quantifier={min:mq0,max:mq1},opengroups.length>0){var matches=opengroups[opengroups.length-1].matches;match=matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),matches.push(match),matches.push(quantifierToken)}else match=currentToken.matches.pop(),match.isGroup||(groupToken=new RegexToken(!0),groupToken.matches.push(match),match=groupToken),currentToken.matches.push(match),currentToken.matches.push(quantifierToken);break;default:opengroups.length>0?opengroups[opengroups.length-1].matches.push(m):currentToken.matches.push(m)}currentToken.matches.length>0&&opts.regexTokens.push(currentToken)}function validateRegexToken(token,fromGroup){var isvalid=!1;fromGroup&&(regexPart+="(",openGroupCount++);for(var mndx=0;mndx<token.matches.length;mndx++){var matchToken=token.matches[mndx];if(matchToken.isGroup===!0)isvalid=validateRegexToken(matchToken,!0);else if(matchToken.isQuantifier===!0){var crrntndx=$.inArray(matchToken,token.matches),matchGroup=token.matches[crrntndx-1],regexPartBak=regexPart;if(isNaN(matchToken.quantifier.max)){for(;matchToken.repeaterPart&&matchToken.repeaterPart!==regexPart&&matchToken.repeaterPart.length>regexPart.length&&!(isvalid=validateRegexToken(matchGroup,!0)););isvalid=isvalid||validateRegexToken(matchGroup,!0),isvalid&&(matchToken.repeaterPart=regexPart),regexPart=regexPartBak+matchToken.quantifier.max}else{for(var i=0,qm=matchToken.quantifier.max-1;qm>i&&!(isvalid=validateRegexToken(matchGroup,!0));i++);regexPart=regexPartBak+"{"+matchToken.quantifier.min+","+matchToken.quantifier.max+"}"}}else if(void 0!==matchToken.matches)for(var k=0;k<matchToken.length&&!(isvalid=validateRegexToken(matchToken[k],fromGroup));k++);else{var testExp;if("["==matchToken.charAt(0)){testExp=regexPart,testExp+=matchToken;for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");isvalid=exp.test(bufferStr)}else for(var l=0,tl=matchToken.length;tl>l;l++)if("\\"!==matchToken.charAt(l)){testExp=regexPart,testExp+=matchToken.substr(0,l+1),testExp=testExp.replace(/\|$/,"");for(var j=0;openGroupCount>j;j++)testExp+=")";var exp=new RegExp("^("+testExp+")$");if(isvalid=exp.test(bufferStr))break}regexPart+=matchToken}if(isvalid)break}return fromGroup&&(regexPart+=")",openGroupCount--),isvalid}var groupToken,cbuffer=maskset.buffer.slice(),regexPart="",isValid=!1,openGroupCount=0;null===opts.regexTokens&&analyseRegex(),cbuffer.splice(pos,0,chrs);for(var bufferStr=cbuffer.join(""),i=0;i<opts.regexTokens.length;i++){var regexToken=opts.regexTokens[i];if(isValid=validateRegexToken(regexToken,regexToken.isGroup))break}return isValid},cardinality:1}}}}),Inputmask}(jQuery,Inputmask),function(){"use strict";var app=angular.module("app",["ngResource","ui.router","ngCookies","ui.mask","ui.bootstrap","isteven-multi-select","ngInputModified","ui.validate","cgBusy","angular.filter","xeditable","checklist-model","ngFileUpload","STNResource","ui.bootstrap.datetimepicker","leaflet-directive","ngHandsontable","STNControllers","LogInOutController","ModalControllers","SettingsControllers","WiM.Services","WiM.Event","wim_angular","angularSpinners"]);app.constant("SERVER_URL","https://stn.wim.usgs.gov/STNServices"),app.constant("ENVIRONMENT","Production"),app.run(["$rootScope","$uibModalStack","$cookies","$state","ENVIRONMENT",function($rootScope,$uibModalStack,$cookies,$state,ENVIRONMENT){$rootScope.$on("$stateChangeStart",function(event,toState,toParams,fromState,fromParams){void 0!==$cookies.get("STNCreds")&&""!==$cookies.get("STNCreds")||!toState.authenticate?($rootScope.stateIsLoading={showLoading:!0},$uibModalStack.dismissAll(),"/"==toState.url&&$("#userNameFocus").focus()):($rootScope.returnToState=toState.name,$rootScope.returnToStateParams=toParams.id,event.preventDefault(),$state.go("entry")),$rootScope.environment=ENVIRONMENT}),$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1}),$rootScope.$on("$stateChangeError",function(event,toState,toParams,fromState,fromParams,error){$rootScope.stateIsLoading.showLoading=!1,alert("Error occurred: Status"+error.status+", "+error.statusText+". The following request was unsuccessful: "+error.config.url+" Please refresh and try again.")})}]),app.config(["$stateProvider","$urlRouterProvider",function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/"),$stateProvider.state("entry",{url:"/",templateUrl:"component/main/mainView.html",controller:"mainCtrl"}).state("map",{url:"/Map",views:{"":{controller:"MapController",templateUrl:"component/map/map.html"},"mapFilters@map":{templateUrl:"component/map/mapFilters.html",controller:"MapFiltersController",resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise}}},"mapSiteInfo@map":{templateUrl:"component/site/mapSiteInfoView.html",controller:"MapSiteInfoController"},"mapPeaksView@map":{templateUrl:"component/peak/mapPeaksView.html",controller:"MapPeaksController"},"mapSensorPropose@map":{templateUrl:"component/sensor/mapSensorPropose.html",resolve:{dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},sd:"SENSOR_TYPE",allSensDeps:function(sd){return sd.getAll().$promise}},controller:"MapSensorProposeController"}}}).state("approval",{url:"/Approval",templateUrl:"component/approval/approval.html",controller:"approvalCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},i:"INSTRUMENT",instrumentList:function(i){return i.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDepTypes:function(dt){return dt.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise}}}).state("siteSearch",{url:"/SiteSearch",templateUrl:"component/siteSearch/siteSearch.html",controller:"siteSearchCtrl",authenticate:!0,resolve:{s:"STATE",stateList:function(s){return s.getAll().$promise},sensT:"SENSOR_TYPE",sensorTypes:function(sensT){return sensT.getAll().$promise},netwN:"NETWORK_NAME",networkNames:function(netwN){return netwN.getAll().$promise}}}).state("reporting",{url:"/Reporting","abstract":!0,templateUrl:"component/reporting/reporting.html",controller:"reportingCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},state:"STATE",allStates:function(state){return state.getAll().$promise},r:"REPORT",allReports:function(r){return r.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStatus:function(es){return es.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){
return ag.getAll().$promise},memberReports:function(r,$cookies){var mID=$cookies.get("mID");return r.getMemberReports({memberId:mID}).$promise}}}).state("reporting.reportDash",{url:"/Dashboard",templateUrl:"component/reporting/reportingDashboard.html",controller:"reportingDashCtrl",authenticate:!0,resolve:{r:"REPORT",allReportsAgain:function(r){return r.getAll().$promise}}}).state("reporting.submitReport",{url:"/SubmitReport",templateUrl:"component/reporting/submitReport.html",controller:"submitReportCtrl",authenticate:!0}).state("reporting.generateReport",{url:"/GenerateReport",templateUrl:"component/reporting/generateReport.html",authenticate:!0}).state("settings",{url:"/Settings",templateUrl:"component/settings/settings.html",controller:"settingsCtrl",authenticate:!0}).state("members",{url:"/Members",params:{id:null},"abstract":!0,template:"<div ui-view></div>",controller:"memberCtrl",authenticate:!0,resolve:{r:"ROLE",allRoles:function(r){return r.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise},userProfileId:function($stateParams){return void 0!==$stateParams.id?$stateParams.id:void 0}}}).state("members.MembersList",{url:"/MembersList",templateUrl:"component/member/membersList.html",authenticate:!0}).state("events",{url:"/Events","abstract":!0,template:"<div ui-view></div>",controller:"eventCtrl",authenticate:!0,resolve:{e:"EVENT",allEvents:function(e){return e.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},m:"MEMBER",allCoordMembers:function(m,$http,$cookies){return $http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",m.getRoleMembers({roleId:1}).$promise}}}).state("events.EventsList",{url:"/EventsList",templateUrl:"component/event/eventsList.html",authenticate:!0}).state("events.EventInfo",{url:"/eventInfo/:id",templateUrl:"component/event/eventInfo.html",controller:"eventInfoCtrl",authenticate:!0,resolve:{e:"EVENT",thisEvent:function(e,$stateParams){var eventId=$stateParams.id;return eventId>0?e.query({id:eventId}).$promise:void 0}}}).state("resources",{url:"/Resources","abstract":!0,template:"<div ui-view></div>",controller:"resourcesCtrl",authenticate:!0,resolve:{state:"STATE",allStates:function(state){return state.getAll().$promise},ag:"AGENCY",allAgencies:function(ag){return ag.getAll().$promise},c:"CONTACT_TYPE",allContactTypes:function(c){return c.getAll().$promise},d:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(d){return d.getAll().$promise},es:"EVENT_STATUS",allEventStats:function(es){return es.getAll().$promise},et:"EVENT_TYPE",allEventTypes:function(et){return et.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},ht:"HOUSING_TYPE",allHouseTypes:function(ht){return ht.getAll().$promise},hq:"HWM_QUALITY",allHWMqualities:function(hq){return hq.getAll().$promise},hwmT:"HWM_TYPE",allHWMtypes:function(hwmT){return hwmT.getAll().$promise},icc:"INST_COLL_CONDITION",allInstCollectConditions:function(icc){return icc.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},opq:"OP_QUALITY",allObjPtQualities:function(opq){return opq.getAll().$promise},opt:"OP_TYPE",allObjPtTypes:function(opt){return opt.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeploymentTypes:function(dt){return dt.getAll().$promise},sstat:"STATUS_TYPE",allStatusTypes:function(sstat){return sstat.getAll().$promise},st:"SENSOR_TYPE",allSensorTypes:function(st){return st.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",allVerticalCollMethods:function(vcm){return vcm.getAll().$promise},vd:"VERTICAL_DATUM",allVerticalDatums:function(vd){return vd.getAll().$promise}}}).state("resources.ResourcesList",{url:"/ResourcesList",templateUrl:"component/resources/resourcesList.html",authenticate:!0}).state("resources.ResourcesList.agency",{url:"/Agencies",templateUrl:"component/resources/agency.html",authenticate:!0}).state("resources.ResourcesList.ContactType",{url:"/ContactTypes",templateUrl:"component/resources/contactType.html",authenticate:!0}).state("resources.ResourcesList.DepPriority",{url:"/DeploymentPriorities",templateUrl:"component/resources/deploymentPriority.html",authenticate:!0}).state("resources.ResourcesList.EventStatus",{url:"/EventStatus",templateUrl:"component/resources/eventStatus.html",authenticate:!0}).state("resources.ResourcesList.EventType",{url:"/EventTypes",templateUrl:"component/resources/eventType.html",authenticate:!0}).state("resources.ResourcesList.FileType",{url:"/FileTypes",templateUrl:"component/resources/fileType.html",authenticate:!0}).state("resources.ResourcesList.HorCollMethd",{url:"/HorizontalCollMethods",templateUrl:"component/resources/horizontalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.HorDatum",{url:"/HorizontalDatums",templateUrl:"component/resources/horizontalDatum.html",authenticate:!0}).state("resources.ResourcesList.HousingType",{url:"/HousingTypes",templateUrl:"component/resources/housingType.html",authenticate:!0}).state("resources.ResourcesList.HWMQual",{url:"/HWMQualities",templateUrl:"component/resources/hwmQuality.html",authenticate:!0}).state("resources.ResourcesList.HWMType",{url:"/HWMTypes",templateUrl:"component/resources/hwmType.html",authenticate:!0}).state("resources.ResourcesList.InstrCollCondition",{url:"/InstrCollConditions",templateUrl:"component/resources/instrumentCollectionCondition.html",authenticate:!0}).state("resources.ResourcesList.Marker",{url:"/Markers",templateUrl:"component/resources/marker.html",authenticate:!0}).state("resources.ResourcesList.NetworkNames",{url:"/NetworkNames",templateUrl:"component/resources/networkNames.html",authenticate:!0}).state("resources.ResourcesList.OPquality",{url:"/ObjPointQualities",templateUrl:"component/resources/objectivePointQuality.html",authenticate:!0}).state("resources.ResourcesList.OPType",{url:"/ObjPointType",templateUrl:"component/resources/objectivePointType.html",authenticate:!0}).state("resources.ResourcesList.SensorBrand",{url:"/SensorBrands",templateUrl:"component/resources/sensorBrand.html",authenticate:!0}).state("resources.ResourcesList.SenDepType",{url:"/SensorDeploymentTypes",templateUrl:"component/resources/deploymentType.html",authenticate:!0}).state("resources.ResourcesList.StatusType",{url:"/StatusTypes",templateUrl:"component/resources/statusType.html",authenticate:!0}).state("resources.ResourcesList.SensorType",{url:"/SensorTypes",templateUrl:"component/resources/sensorType.html",authenticate:!0}).state("resources.ResourcesList.NetworkType",{url:"/NetworkTypes",templateUrl:"component/resources/networkType.html",authenticate:!0}).state("resources.ResourcesList.VertCollMethod",{url:"/VerticalCollMethods",templateUrl:"component/resources/verticalCollectionMethod.html",authenticate:!0}).state("resources.ResourcesList.VertDatum",{url:"/VerticalDatums",templateUrl:"component/resources/verticalDatum.html",authenticate:!0}).state("bulkHWMAdj",{url:"/BulkHWM_adjustments",templateUrl:"component/hwm/bulkHWMAdj.html",authenticate:!0,controller:"bulkHWMAdjCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise}}}).state("bulkHWM",{url:"/HistoricHWM_Upload",templateUrl:"component/hwm/bulkHWM.html",authenticate:!0,controller:"bulkHWMCtrl",resolve:{e:"EVENT",eventList:function(e){return e.getAll().$promise},s:"STATE",stateList:function(s){return s.getAll().$promise},c:"COUNTIES",countyList:function(c){return c.getAll().$promise},ht:"HWM_TYPE",hwmTypeList:function(ht){return ht.getAll().$promise},m:"MARKER",markerList:function(m){return m.getAll().$promise},hq:"HWM_QUALITY",hwmQualList:function(hq){return hq.getAll().$promise},hd:"HORIZONTAL_DATUM",horizDatumList:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",horCollMethList:function(hcm){return hcm.getAll().$promise},vd:"VERTICAL_DATUM",vertDatumList:function(vd){return vd.getAll().$promise},vcm:"VERTICAL_COLL_METHOD",vertCollMethList:function(vcm){return vcm.getAll().$promise},f:"FILE_TYPE",fileTypesList:function(f){return f.getAll().$promise},a:"AGENCY",agenciesList:function(a){return a.getAll().$promise}}}).state("site",{url:"/Site/:id","abstract":!0,params:{id:null,latitude:{value:null,squash:!0},longitude:{value:null,squash:!0}},templateUrl:"component/site/site.html",authenticate:!0,controller:["$scope","$stateParams","Site_Script","runningScript",function($scope,$stateParams,Site_Script,runningScript){$scope.siteID=$stateParams.id,Site_Script.setIsScriptRunning("0"!=$scope.siteID?runningScript.value:"false")}],resolve:{s:"SITE",runningScript:function(s,$stateParams){return $stateParams.id>0?s.sensorScriptRunning({id:$stateParams.id}).$promise:void 0},thisSite:function(s,$stateParams){return $stateParams.id>0?s.query({id:$stateParams.id}).$promise:void 0},latlong:function($stateParams){if($stateParams.latitude){var latlongarray=[$stateParams.latitude,$stateParams.longitude];return latlongarray}},thisSiteNetworkNames:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkNames({id:$stateParams.id}).$promise:void 0},thisSiteNetworkTypes:function(s,$stateParams){return $stateParams.id>0?s.getSiteNetworkTypes({id:$stateParams.id}).$promise:void 0},thisSiteHousings:function(s,$stateParams){return $stateParams.id>0?s.getSiteHousings({id:$stateParams.id}).$promise:void 0},thisSiteOPs:function(s,$stateParams){return $stateParams.id>0?s.getSiteOPs({id:$stateParams.id}).$promise:void 0},thisSiteSensors:function(s,$stateParams){return $stateParams.id>0?s.getSiteSensors({id:$stateParams.id}).$promise:void 0},thisSiteHWMs:function(s,$stateParams,$http,$cookies){return $stateParams.id>0?($http.defaults.headers.common.Authorization="Basic "+$cookies.get("STNCreds"),$http.defaults.headers.common.Accept="application/json",s.getSiteHWMs({id:$stateParams.id}).$promise):void 0},thisSiteFiles:function(s,$stateParams){return $stateParams.id>0?s.getSiteFiles({id:$stateParams.id}).$promise:void 0},thisSitePeaks:function(s,$stateParams){return $stateParams.id>0?s.getSitePeaks({id:$stateParams.id}).$promise:void 0},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise},nn:"NETWORK_NAME",allNetworkNames:function(nn){return nn.getAll().$promise},nt:"NETWORK_TYPE",allNetworkTypes:function(nt){return nt.getAll().$promise},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},dp:"DEPLOYMENT_PRIORITY",allDeployPriorities:function(dp){return dp.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},e:"EVENT",allEvents:function(e){return e.getAll().$promise},sent:"SENSOR_TYPE",allSensorTypes:function(sent){return sent.getAll().$promise},sb:"SENSOR_BRAND",allSensorBrands:function(sb){return sb.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt){return hwmt.getAll().$promise},hq:"HWM_QUALITY",allHWMQualities:function(hq){return hq.getAll().$promise},m:"MARKER",allMarkers:function(m){return m.getAll().$promise},ft:"FILE_TYPE",allFileTypes:function(ft){return ft.getAll().$promise},a:"AGENCY",allAgencies:function(a){return a.getAll().$promise}}}).state("site.dashboard",{url:"/SiteDashboard",authenticate:!0,views:{siteNo:{controller:["$scope","$cookies","thisSite",function($scope,$cookies,thisSite){void 0!==thisSite&&($scope.SiteNo=thisSite.site_no),$scope.$watch(function(){return $cookies.get("SessionEventName")},function(newValue){$scope.sessionEvent=null!==$cookies.get("SessionEventName")&&void 0!==$cookies.get("SessionEventName")?$cookies.get("SessionEventName"):"All Events"})}],template:'<div><h2 style="margin-top:0">Site {{SiteNo}} - For {{sessionEvent}}</h2></div><hr />'},aMap:{controller:"siteMapCtrl",templateUrl:"component/site/siteMapView.html",resolve:{aSite:function(thisSite){return void 0!==thisSite?thisSite:void 0},dt:"DEPLOYMENT_TYPE",deploymentTypes:function(thisSite,dt){return void 0!==thisSite?dt.getAll().$promise:void 0},s:"SITE",siteHWMs:function(thisSite,s){return void 0!==thisSite?s.getSiteHWMs({id:thisSite.site_id}).$promise:void 0},i:"INSTRUMENT",baroSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"baro_view"}).$promise:void 0},metSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"met_view"}).$promise:void 0},rdgSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"rdg_view"}).$promise:void 0},stormSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"stormtide_view"}).$promise:void 0},waveSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"waveheight_view"}).$promise:void 0},presTempSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"pressuretemp_view"}).$promise:void 0},thermSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"therm_view"}).$promise:void 0},webcamSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"webcam_view"}).$promise:void 0},raingageSensors:function(thisSite,i){return void 0!==thisSite?i.getSensorView({ViewType:"raingage_view"}).$promise:void 0}}},aSite:{controller:"siteCtrl",templateUrl:"component/site/siteInfoView.html"},op:{controller:"objectivePointCtrl",templateUrl:"component/objectivePoint/objectivePointList.html"},sensor:{controller:"sensorCtrl",templateUrl:"component/sensor/sensorList.html"},hwm:{controller:"hwmCtrl",templateUrl:"component/hwm/hwmList.html"},file:{controller:"fileCtrl",templateUrl:"component/file/fileList.html"},peak:{controller:"peakCtrl",templateUrl:"component/peak/peakList.html"}}}).state("quickCreate",{url:"/QuickCreate/:id",templateUrl:"component/site/quickCreate.html",controller:"quickCreateCtrl",authenticate:!0,resolve:{whichQuick:function($stateParams){return $stateParams.id},hd:"HORIZONTAL_DATUM",allHorDatums:function(hd){return hd.getAll().$promise},hcm:"HORIZONTAL_COLL_METHODS",allHorCollMethods:function(hcm){return hcm.getAll().$promise},st:"STATE",allStates:function(st){return st.getAll().$promise},c:"COUNTIES",allCounties:function(c){return c.getAll().$promise},opt:"OP_TYPE",allOPTypes:function(opt){return opt.getAll().$promise},vertDats:"VERTICAL_DATUM",allVertDatums:function(vertDats){return vertDats.getAll().$promise},vertColMet:"VERTICAL_COLL_METHOD",allVertColMethods:function(vertColMet){return vertColMet.getAll().$promise},opQual:"OP_QUALITY",allOPQualities:function(opQual){return opQual.getAll().$promise},hwmt:"HWM_TYPE",allHWMTypes:function(hwmt,$stateParams){return"HWM"==$stateParams.id?hwmt.getAll().$promise:void 0},hq:"HWM_QUALITY",allHWMQualities:function(hq,$stateParams){return"HWM"==$stateParams.id?hq.getAll().$promise:void 0},m:"MARKER",allMarkers:function(m,$stateParams){return"HWM"==$stateParams.id?m.getAll().$promise:void 0},dt:"DEPLOYMENT_TYPE",allDeployTypes:function(dt){return dt.getAll().$promise},e:"EVENT",allEvents:function(e,$stateParams){return"Sensor"==$stateParams.id?e.getAll().$promise:void 0},sent:"SENSOR_TYPE",allSensorTypes:function(sent,$stateParams){return"Sensor"==$stateParams.id?sent.getAll().$promise:void 0},sb:"SENSOR_BRAND",allSensorBrands:function(sb,$stateParams){return"Sensor"==$stateParams.id?sb.getAll().$promise:void 0},ht:"HOUSING_TYPE",allHousingTypes:function(ht){return ht.getAll().$promise}}})}])}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudC9TVE5DdHJsLmpzIiwic2hhcmVkL2RpcmVjdGl2ZXMvU1RORGlyZWN0aXZlcy5qcyIsImNvbXBvbmVudC9zaXRlU2VhcmNoL3NpdGVTZWFyY2hDdHJsLmpzIiwiY29tcG9uZW50L3NpdGUvc2l0ZU1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9zaXRlL3NpdGVNYXBDdHJsLmpzIiwiY29tcG9uZW50L3NpdGUvc2l0ZUN0cmwuanMiLCJjb21wb25lbnQvc2l0ZS9xdWlja0NyZWF0ZUN0cmwuanMiLCJjb21wb25lbnQvc2V0dGluZ3Mvc2V0dGluZ3NDdHJsLmpzIiwiY29tcG9uZW50L3Jlc291cmNlcy9yZXNvdXJjZXNDdHJsLmpzIiwiY29tcG9uZW50L3NlbnNvci9zZW5zb3JNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvc2Vuc29yL3NlbnNvckN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3N1Ym1pdFJlcG9ydEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL3JlcG9ydE1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nRGFzaGJvYXJkQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC5qcyIsImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nQ3RybC1jNGI4YzYxMzU0LmpzIiwiY29tcG9uZW50L3JlcG9ydGluZy9wcm9qZWN0QWxlcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvcmVwb3J0aW5nL2NvbmZpcm1SZXBvcnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvcGVhay9wZWFrTW9kYWxDdHJsLmpzIiwiY29tcG9uZW50L3BlYWsvcGVha0N0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvT2JqZWN0aXZlUG9pbnRNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvb2JqZWN0aXZlUG9pbnRDdHJsLmpzIiwiY29tcG9uZW50L21lbWJlci9tZW1iZXJNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvbWVtYmVyL21lbWJlckluZm9DdHJsLmpzIiwiY29tcG9uZW50L21lbWJlci9tZW1iZXJDdHJsLmpzIiwiY29tcG9uZW50L21hcC9NYXBTaXRlSW5mb0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcFNlbnNvclByb3Bvc2VDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9NYXBQZWFrc0NvbnRyb2xsZXIuanMiLCJjb21wb25lbnQvbWFwL01hcEZpbHRlcnNDb250cm9sbGVyLmpzIiwiY29tcG9uZW50L21hcC9tYXBDdHJsLmpzIiwiY29tcG9uZW50L2xvZ0luT3V0L2xvZ0luT3V0Q3RybC5qcyIsImNvbXBvbmVudC9tYWluL21haW5DdHJsLmpzIiwiY29tcG9uZW50L2h3bS9xdWlja0hXTUN0cmwuanMiLCJjb21wb25lbnQvaHdtL2h3bU1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9od20vaHdtQ3RybC5qcyIsImNvbXBvbmVudC9od20vaGlzdG9yaWNIV01DdHJsLmpzIiwiY29tcG9uZW50L2h3bS9idWxrSFdNQ3RybC5qcyIsImNvbXBvbmVudC9od20vYnVsa0hXTUFkakN0cmwuanMiLCJjb21wb25lbnQvaGVscC9oZWxwQ3RybC5qcyIsImNvbXBvbmVudC9maWxlL2ZpbGVNb2RhbEN0cmwuanMiLCJjb21wb25lbnQvZmlsZS9maWxlQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudFNlc3Npb25Nb2RhbEN0cmwuanMiLCJjb21wb25lbnQvZXZlbnQvZXZlbnRTZXNzaW9uQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudE1vZGFsQ3RybC5qcyIsImNvbXBvbmVudC9ldmVudC9ldmVudEluZm9DdHJsLmpzIiwiY29tcG9uZW50L2V2ZW50L2V2ZW50Q3RybC5qcyIsImNvbXBvbmVudC9hcHByb3ZhbC9hcHByb3ZhbEN0cmwuanMiLCJzZXJ2aWNlcy9TVE5SZXNvdXJjZS5qcyIsInNlcnZpY2VzL2J1c2luZXNzU2VydmljZXMuanMiLCJjb21wb25lbnQvTW9kYWxzQ3RybC5qcyIsImNvbXBvbmVudC9qcXVlcnkuaW5wdXRtYXNrLmJ1bmRsZS5qcyIsImFwcC5qcyJdLCJuYW1lcyI6WyJTVE5Db250cm9sbGVycyIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb25zdGFudCIsIlBBU1NXT1JEIiwiZGlyZWN0aXZlIiwiJHBhcnNlIiwiZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCIsInJlc3RyaWN0IiwicmVwbGFjZSIsInNjb3BlIiwiZGF0YSIsImxpbmsiLCJlbGVtZW50IiwiYXR0cnMiLCJjaGFydCIsImVsZXZhdGlvbkRhdGEiLCJzcGxpdCIsImQzIiwic2VsZWN0IiwiYXBwZW5kIiwiYXR0ciIsInNlbGVjdEFsbCIsImVudGVyIiwidHJhbnNpdGlvbiIsImVhc2UiLCJzdHlsZSIsImQiLCJ0ZXh0IiwiJHdhdGNoIiwibmV3VmFsdWUiLCJvbGRWYWx1ZSIsIm1vZGVsIiwic2VhcmNoQnkiLCJzZWFyY2hUZXJtIiwidGVtcGxhdGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJHN0YXRlIiwiJGh0dHAiLCJTSVRFIiwiJHVpYk1vZGFsIiwidmFsIiwicGxhY2Vob2xkZXIiLCJJbmRleFNlYXJjaFNpdGVzIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwiQWNjZXB0IiwiZ2V0U2VhcmNoZWRTaXRlIiwiYnlTaXRlTm8iLCJyZXNwIiwic2l0ZVNlYXJjaFJlc3BvbnNlIiwiZXJyb3JSZXNwb25zZSIsImJ5U2l0ZUlkIiwiYnlTaXRlTmFtZSIsInMiLCJ1bmRlZmluZWQiLCJzdGF0dXMiLCJlcnJvck1vZGFsIiwib3BlbiIsIiR1aWJNb2RhbEluc3RhbmNlIiwib2siLCJjbG9zZSIsInNpemUiLCJyZXN1bHQiLCJ0aGVuIiwiZ28iLCJpZCIsInNpdGVfaWQiLCJiaW5kIiwiZXZlbnQiLCJ3aGljaCIsIiRhcHBseSIsIiRldmFsIiwibmdFbnRlciIsInByZXZlbnREZWZhdWx0IiwicmVxdWlyZSIsIm1vZGVsQ3RybCIsIiRwYXJzZXJzIiwicHVzaCIsImlucHV0VmFsdWUiLCJ0cmFuc2Zvcm1lZElucHV0IiwiJHNldFZpZXdWYWx1ZSIsIiRyZW5kZXIiLCIkZm9ybWF0dGVycyIsInNoaWZ0IiwiYXR0cmlidXRlcyIsImZvY3VzIiwiZ29CYWNrIiwiaGlzdG9yeSIsImJhY2siLCJyZWdleCIsImVsbSIsImN0cmwiLCJ1bmJpbmQiLCJ2aWV3VmFsdWUiLCJ0ZXN0IiwidGFyZ2V0IiwidmFsdWUiLCIkc2V0VmFsaWRpdHkiLCJzYW1lQXMiLCIkbW9kZWxWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsIiR0aW1lb3V0IiwiaW5pdGlhbEhlaWdodCIsImhlaWdodCIsInJlc2l6ZSIsInNjcm9sbEhlaWdodCIsIm9uIiwiZWwiLCJpbnB1dG1hc2siLCJteUlucHV0TWFzayIsIm5nTW9kZWwiLCJmaWxlTW9kZWwiLCJtb2RlbFNldHRlciIsImFzc2lnbiIsImZpbGVzIiwibmdNb2RlbEN0cmwiLCJmcm9tVXNlciIsInBhdHRlcm4iLCJlbGVtIiwibGltaXQiLCJwYXJzZUludCIsImxhYmVsTGltaXRMZW5ndGgiLCJlIiwidGhpcyIsImxlbmd0aCIsIm9wdGlvbnMiLCJIaWdoY2hhcnRzIiwiJGNvb2tpZXMiLCIkcm9vdFNjb3BlIiwiJGxvY2F0aW9uIiwic3RhdGVMaXN0Iiwic2Vuc29yVHlwZXMiLCJuZXR3b3JrTmFtZXMiLCJnZXQiLCJhdXRoIiwicGF0aCIsInRoaXNQYWdlIiwiYWN0aXZlTWVudSIsInNlc3Npb25FdmVudCIsInN0YXRlcyIsInNlblR5cGVzIiwibmV0TmFtZXMiLCJDaG9zZW4iLCJjaG9zZW5TdGF0ZXMiLCJzaXRlUmVzcG9uc2UiLCJjaGVja2JveE1vZGVsIiwiaHdtT25seSIsInNlbk9ubHkiLCJyZGdPbmx5Iiwib3BEZWZpbmVkIiwic29ydF9ieSIsIm5ld1NvcnRpbmdPcmRlciIsInNvcnRpbmdPcmRlciIsInJldmVyc2UiLCIkIiwiZWFjaCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJzZWFyY2hQYXJhbXMiLCJ0aGlzU2VhcmNoIiwiTnVtYmVyIiwiaSIsInkiLCJzdGF0ZSIsInN0YXRlX2FiYnJldiIsInNlbGVjdGVkIiwic2Vuc29yIiwiU2Vuc29yVHlwZSIsIm5ldHdvcmsiLCJOZXR3b3JrTmFtZSIsInN1cnZleSIsIkhXTVN1cnZleWVkIiwiSFdNT25seSIsIlNlbnNvck9ubHkiLCJSREdPbmx5IiwiT1BEZWZpbmVkIiwiZ2V0RmlsdGVyZWRTaXRlcyIsIkV2ZW50IiwiU3RhdGUiLCJqb2luIiwicmVzcG9uc2UiLCJzaXRlTGlzdCIsInN0YXRlSXNMb2FkaW5nIiwic2hvd0xvYWRpbmciLCJ0b2FzdHIiLCJlcnJvciIsInN0YXR1c1RleHQiLCJzZWFyY2hTaXRlcyIsInN0YXRlU3RyaW5nIiwiZXZJRCIsInN0YXRlQ2xpY2siLCJpbmQiLCJpbmRleE9mIiwic3BsaWNlIiwiY2xlYXJGaWx0ZXJzIiwiZm9yRWFjaCIsInN0IiwiTW9kYWxDb250cm9sbGVycyIsIiRxIiwiJHNjZSIsIiRmaWx0ZXIiLCJsZWFmbGV0TWFya2VyRXZlbnRzIiwiYWxsRHJvcERvd25QYXJ0cyIsImZpbGVUeXBlcyIsImFnZW5jeUxpc3QiLCJsYXRsb25nIiwidGhpc1NpdGVTdHVmZiIsImFsbE1lbWJlcnMiLCJTSVRFX0hPVVNJTkciLCJTaXRlX0ZpbGVzIiwiTUVNQkVSIiwiSU5TVFJVTUVOVCIsIklOU1RSVU1FTlRfU1RBVFVTIiwiTEFORE9XTkVSX0NPTlRBQ1QiLCJHRU9DT0RFIiwiRklMRV9TVEFNUCIsIkZJTEUiLCJTT1VSQ0UiLCJTRVJWRVJfVVJMIiwiSG9yaXpvbnRhbERhdHVtTGlzdCIsIkhvckNvbGxNZXRob2RMaXN0IiwiU3RhdGVMaXN0IiwiQWxsQ291bnR5TGlzdCIsInN0YXRlQ291bnR5TGlzdCIsIkRNUyIsImFsbEhvdXNpbmdUeXBlTGlzdCIsIkRlcFByaW9yaXR5TGlzdCIsIk5ldE5hbWVMaXN0IiwiTmV0VHlwZUxpc3QiLCJQcm9wb3NlZFNlbnMiLCJTZW5zb3JEZXBsb3ltZW50IiwidXNlclJvbGUiLCJjbG9zZVNpdGVzIiwic2hvd01hcCIsInNpdGVMYXQiLCJzaXRlTG9uZyIsImh0bWxEZXNjcmlwdGlvblRpcCIsInRydXN0QXNIdG1sIiwibWFwQ2VudGVyIiwibGF0IiwibG5nIiwiem9vbSIsImV2ZW50cyIsIm1hcE1hcmtlcnMiLCJlbmFibGUiLCJnZXRBdmFpbGFibGVFdmVudHMiLCJpY29ucyIsInN0biIsInR5cGUiLCJpY29uU2l6ZSIsImNsYXNzTmFtZSIsIm5ld1NUTiIsImljb25BbmNob3IiLCJhemltdXRoIiwiZGVnIiwibWluIiwic2VjIiwiYXppIiwidG9GaXhlZCIsInVwZGF0ZUFkZHJlc3NPbmx5IiwiTEFEZWciLCJhU2l0ZSIsImxhdGl0dWRlX2RkIiwiTEFNaW4iLCJMQVNlYyIsIkxPRGVnIiwibG9uZ2l0dWRlX2RkIiwiTE9NaW4iLCJMT1NlYyIsIkF1dGhvcml6YXRpb24iLCJnZXRBZGRyZXNzUGFydHMiLCJMb25naXR1ZGUiLCJMYXRpdHVkZSIsImdlb2dyYXBoaWVzIiwiQ291bnRpZXMiLCJzdGF0ZUZJUFMiLCJTVEFURSIsImNvdW50eU5hbWUiLCJOQU1FIiwidGhpc1N0YXRlSUQiLCJmaWx0ZXIiLCJjIiwic3RhdGVfZmlwIiwic3RhdGVfaWQiLCJ0aGlzU3RhdGUiLCJjb3VudHkiLCIkb24iLCJhcmdzIiwiZHJhZ2VuZExvY2F0aW9uIiwicGFyc2VGbG9hdCIsImxhdERNUyIsImRlZ190b19kbXMiLCJ0b1N0cmluZyIsImxhZERNU2FycmF5IiwibG9uZ0RNUyIsImxvbmdETVNhcnJheSIsImdldEFkZHJlc3MiLCJpc05hTiIsImdldFByb3hpbWl0eVNpdGVzIiwiQnVmZmVyIiwiYSIsInNpdGVfbm8iLCJpY29uIiwibWVzc2FnZSIsImRyYWdnYWJsZSIsIiRwcm9taXNlIiwiaG91c2VEaXJ0eSIsIm5ldFR5cGVEaXJ0eSIsInNpdGVIb3VzZVR5cGVzVGFibGUiLCJoZGF0dW1faWQiLCJoY29sbGVjdF9tZXRob2RfaWQiLCJkZWNEZWdPUmRtcyIsIm9yaWdpbmFsU2l0ZUhvdXNpbmdzIiwiY2hlY2tlZCIsImNoZWNrZWROYW1lIiwibGFuZG93bmVyIiwiYWRkTGFuZG93bmVyIiwiZGlzYWJsZVNlbnNvclBhcnRzIiwic2hvd1NpdGVIb3VzZVRhYmxlIiwic2l0ZUhvdXNlc01vZGVsIiwic2l0ZUhvdXNlc1RvUmVtb3ZlIiwiTmV0d29ya05BTUVUb0FkZCIsIk5ldHdvcmtOQU1FVG9SZW1vdmUiLCJOZXR3b3JrVFlQRVRvQWRkIiwiTmV0d29ya1RZUEVUb1JlbW92ZSIsInNpdGVOZXR3b3JrTmFtZXMiLCJzaXRlTmV0d29ya1R5cGVzIiwic2VydmVyVVJMIiwiZmlsZVR5cGVMaXN0IiwiZnQiLCJmaWxldHlwZSIsImFsbFNGaWxlcyIsImdldEFsbFNpdGVGaWxlcyIsIlNJVEVGaWxlcyIsInNmIiwiaHdtX2lkIiwiaW5zdHJ1bWVudF9pZCIsIm9iamVjdGl2ZV9wb2ludF9pZCIsInNpdGVJbWFnZUZpbGVzIiwiaGYiLCJmaWxldHlwZV9pZCIsInNob3dGaWxlRm9ybSIsInN0YW1wIiwiZ2V0U3RhbXAiLCJmaWxlSXRlbUV4aXN0cyIsInNhdmVGaWxlVXBsb2FkIiwic0ZpbGVJc1VwbG9hZGluZyIsImZpbGVQYXJ0cyIsIkZpbGVFbnRpdHkiLCJmaWxlX2lkIiwiYUZpbGUiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJwaG90b19kaXJlY3Rpb24iLCJmaWxlX2RhdGUiLCJzb3VyY2VfaWQiLCJwaG90b19kYXRlIiwiaXNfbndpcyIsIkZpbGUiLCJGaWxlMSIsImZkIiwiRm9ybURhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwidXBsb2FkRmlsZSIsImZyZXNwb25zZSIsInN1Y2Nlc3MiLCJzcmMiLCJzZXRTdGFtcCIsImlzUGhvdG8iLCJmaWxlQmVsb25nc1RvIiwiZXhpc3RGaWxlSW5kZXgiLCJhbGxTRmlsZUluZGV4Iiwic2V0QWxsU2l0ZUZpbGVzIiwic2hvd0ltYWdlTW9kYWwiLCJpbWFnZSIsImltYWdlSWQiLCJzZXRTUkMiLCJzaG93RmlsZSIsImZpbGUiLCJhZ2VuY2llcyIsImV4aXN0SU1HRmlsZUluZGV4IiwiYVNvdXJjZSIsImNvcHkiLCJnZXRGaWxlSXRlbSIsIkxlbmd0aCIsImZpbGVUeXBlIiwiZkkiLCJsYXN0SW5kZXhPZiIsImZpbGVFeHQiLCJzdWJzdHJpbmciLCJtYXRjaCIsIkRhdGUiLCJxdWVyeSIsIkZVTExuYW1lIiwic291cmNlX25hbWUiLCJhZ2VuY3lOYW1lRm9yQ2FwIiwiYWdlbmN5X2lkIiwiYWdlbmN5X25hbWUiLCJtIiwibWVtYmVyX2lkIiwiZm5hbWUiLCJsbmFtZSIsInVwZGF0ZUFnZW5jeUZvckNhcHRpb24iLCJjcmVhdGVGaWxlIiwidmFsaWQiLCJTSVRFZmlsZUlzVXBsb2FkaW5nIiwidGhlU291cmNlIiwic2F2ZSIsInNhdmVGaWxlIiwidXBkYXRlIiwiZmlsZVJlc3BvbnNlIiwiZGVsZXRlRmlsZSIsIkRlbGV0ZU1vZGFsSW5zdGFuY2UiLCJ0ZW1wbGF0ZVVybCIsInJlc29sdmUiLCJuYW1lVG9SZW1vdmUiLCJ3aGF0IiwiZmlsZVRvUmVtb3ZlIiwiY2FuY2VsRmlsZSIsIm9wZW5MYXRNb2RhbCIsInciLCJsYXRNb2RhbCIsImZpZWxkRm9jdXMiLCJvcGVuTG9uZ01vZGFsIiwibG9uZ01vZGFsIiwiY2hlY2tWYWx1ZSIsImRpcmVjdGlvbiIsIk1hdGgiLCJmbG9vciIsIm1pbmZsb2F0IiwibGF0TG9uZ0NoYW5nZSIsIkRNU01vZGFsIiwibmV0VHlwZUNoZyIsIm50IiwibWFwIiwibmV0d29ya190eXBlX2lkIiwid2hpY2hPbmUiLCJuIiwibmV0d29ya19uYW1lX2lkIiwibm4iLCJkaW1BY3Rpb24iLCJzZW5zb3Jfbm90X2FwcHJvcHJpYXRlIiwieCIsImlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCIsInVzZVNpdGVBZGRyZXNzIiwidXNlQWRkcmVzc2ZvckxPIiwiYWRkcmVzcyIsImNpdHkiLCJ6aXAiLCJsYW5kb3duZXJjb250YWN0X2lkIiwicHV0U2l0ZUFuZFBhcnRzIiwidGl0bGUiLCJwcmltYXJ5cGhvbmUiLCJsYW5kb3duZXJjb250YWN0aWQiLCJ1cGRhdGVTaXRlIiwiQ3JlYXRvciIsIkhvcml6b250YWxDb2xsZWN0TWV0aG9kIiwiSG9yaXpvbnRhbERhdHVtIiwiUHJpb3JpdHlOYW1lIiwiUmVtb3ZlUHJvbWlzZXMiLCJkZWZlciIsIkFkZFByb21pc2VzIiwic2hJRCIsImRlbFNIUHJvbSIsIm5uTCIsImRlbE5OUHJvbSIsImRlbGV0ZVNpdGVOZXR3b3JrTmFtZSIsInNpdGVJZCIsIm5ldHdvcmtOYW1lSWQiLCJudEwiLCJkZWxOVFByb20iLCJkZWxldGVTaXRlTmV0d29ya1R5cGUiLCJuZXR3b3JrVHlwZUlkIiwiaHQiLCJhZGRIdFByb20iLCJzaXRlX2hvdXNpbmdfaWQiLCJBbm5MIiwiYWRkTk5Qcm9tIiwicG9zdFNpdGVOZXR3b3JrTmFtZSIsIkFuVEwiLCJuZXR3b3JrX3R5cGVfbmFtZSIsImFkZE5UUHJvbSIsInBvc3RTaXRlTmV0d29ya1R5cGUiLCJhbGwiLCJzZW5kQmFjayIsIm1zZyIsImNvbnNvbGUiLCJmaW5pc2hQT1NUIiwic0lEIiwicG9zdFByb21pc2VzIiwiaHR5cGUiLCJ0eXBlX25hbWUiLCJoVFByb21pc2UiLCJuTmFtZSIsIm5OUHJvbWlzZSIsIm5UeXBlIiwiblRQcm9taXNlIiwiZGlzbWlzcyIsImNyZWF0ZSIsInBvc3RTaXRlQW5kUGFydHMiLCJjcmVhdGVkU2l0ZUlEIiwic2VsZWN0ZWRQcm9wb3NlZFNlbnNvcnMiLCJwIiwicHJvcFNlbnMiLCJpbmRleCIsInNkdCIsImRlcGxveW1lbnR0eXBlcyIsImRlcGxveW1lbnRfdHlwZV9pZCIsInNlbnNvcl90eXBlX2lkIiwic2Vuc29yVHlwZUlEIiwiaW5zdCIsImV2ZW50X2lkIiwibG9jYXRpb25fZGVzY3JpcHRpb24iLCJpbnN0cnVtZW50SUQiLCJpbnNSZXNwb25zZSIsImluc3RTdGF0Iiwic3RhdHVzX3R5cGVfaWQiLCJ0aW1lX3N0YW1wIiwidGltZV96b25lIiwiaG91c2luZ190eXBlX2lkIiwicHJvak5OYW1lcyIsInByb2pOVHlwZSIsIm5pIiwibnkiLCJzT3BlbiIsInNGaWxlT3BlbiIsImFjY2Vzc19ncmFudGVkIiwiaXNOdW0iLCJldnQiLCJ0aGVFdmVudCIsIndpbmRvdyIsImtleSIsImtleUNvZGUiLCJyZXR1cm5WYWx1ZSIsIkhvdXNlVHlwZUNsaWNrIiwiaG91c2VUIiwibWF0ZXJpYWwiLCJub3RlcyIsImFtb3VudCIsInNIX0lEIiwiaCIsInNob3dMYW5kT3duZXJQYXJ0IiwidXBkYXRlQ291bnR5TGlzdCIsImNhbmNlbCIsImRlbGV0ZVNpdGUiLCJ0aGlzU2l0ZSIsImRTaXRlTW9kYWwiLCJzaXRlTm8iLCJkZWxldGVJdCIsInNpdGVIV01zIiwiZGVwbG95bWVudFR5cGVzIiwiYmFyb1NlbnNvcnMiLCJtZXRTZW5zb3JzIiwicmRnU2Vuc29ycyIsInN0b3JtU2Vuc29ycyIsIndhdmVTZW5zb3JzIiwicHJlc1RlbXBTZW5zb3JzIiwidGhlcm1TZW5zb3JzIiwid2ViY2FtU2Vuc29ycyIsInJhaW5nYWdlU2Vuc29ycyIsImxlYWZsZXREYXRhIiwibWFwU3R1ZmYiLCJhbGxTaXRlSFdNcyIsImFsbFNpdGVCYXJvU2Vuc29ycyIsImJzIiwiYWxsU2l0ZU1ldFNlbnNvcnMiLCJhbGxTaXRlUkRHU2Vuc29ycyIsImFsbFNpdGVTdG9ybVNlbnNvcnMiLCJhbGxTaXRlV2F2ZVNlbnNvcnMiLCJhbGxTaXRlUHJlc1RlbXBTZW5zb3JzIiwiYWxsU2l0ZVRoZXJtU2Vuc29ycyIsImFsbFNpdGVXZWJTZW5zb3JzIiwiYWxsU2l0ZVJhaW5TZW5zb3JzIiwiYWxsRGVwbG95bWVudFR5cGVzIiwicGF0aHMiLCJtYXJrZXJzIiwibGF5ZXIiLCJldmVudElEIiwiZWFjaEhXTSIsImh3bV9sYWJlbCIsImh3bUljb24iLCJhZGRTZW5zb3JzIiwibm9FdmVudEgiLCJlYWNobm9FSFdNIiwiYlNlbnNvciIsImJhcm9JY29uIiwibXMiLCJtU2Vuc29yIiwibWV0aG9kIiwibWV0SWNvbiIsInJzIiwiclNlbnNvciIsInJkZ0ljb24iLCJzcyIsInNTZW5zb3IiLCJzdG9ybUljb24iLCJ3cyIsIndTZW5zb3IiLCJ3YXZlSWNvbiIsInBzIiwicFNlbnNvciIsInByZXNzdXJlSWNvbiIsInRzIiwidFNlbnNvciIsInRoZXJtSWNvbiIsIndlYnMiLCJ3ZWJTZW5zb3IiLCJ3ZWJjYW1JY29uIiwicmFpbnMiLCJyYWluU2Vuc29yIiwicmFpbmdhZ2VJY29uIiwibm9FYnMiLCJub0ViU2Vuc29yIiwibm9FbXMiLCJub0VtU2Vuc29yIiwibm9FcnMiLCJub0VyU2Vuc29yIiwibm9Fc3MiLCJub0VzU2Vuc29yIiwibm9Fd3MiLCJub0V3U2Vuc29yIiwibm9FcHMiLCJub0VwU2Vuc29yIiwibm9FdHMiLCJub0V0U2Vuc29yIiwibm9Fd2VicyIsIm5vRXdlYlNlbnNvciIsIm5vRXJhaW5zIiwibm9FcmFpblNlbnNvciIsInBhdGhzT2JqIiwiY2lyY2xlTWFya2VyIiwicmFkaXVzIiwid2VpZ2h0IiwiY29sb3IiLCJsYXRsbmdzIiwiYWRkU2hhcGUiLCJleHRlbmQiLCJtaW5ab29tIiwibWFya2Vyc0xhdExuZ0FycmF5IiwibGF5ZXJzIiwiYmFzZWxheWVycyIsInRvcG8iLCJ2aXNpYmxlIiwib3ZlcmxheXMiLCJzdG5TaXRlcyIsInRoaXNTaXRlTmV0d29ya05hbWVzIiwidGhpc1NpdGVOZXR3b3JrVHlwZXMiLCJ0aGlzU2l0ZUhvdXNpbmdzIiwiRklMRV9UWVBFIiwiQUdFTkNZIiwiU2l0ZV9TY3JpcHQiLCJhbGxIb3JEYXR1bXMiLCJhbGxIb3JDb2xsTWV0aG9kcyIsImFsbFN0YXRlcyIsImFsbENvdW50aWVzIiwiYWxsRGVwbG95UHJpb3JpdGllcyIsImFsbEhvdXNpbmdUeXBlcyIsImFsbE5ldHdvcmtOYW1lcyIsImFsbE5ldHdvcmtUeXBlcyIsImFsbERlcGxveVR5cGVzIiwiYWxsU2Vuc29yVHlwZXMiLCJzaG93U2NyaXB0VG9hc3QiLCJ3YXJuaW5nIiwiY2xvc2VCdXR0b24iLCJwb3NpdGlvbkNsYXNzIiwib25jbGljayIsInRpbWVPdXQiLCJleHRlbmRlZFRpbWVPdXQiLCJnZXRJc1NjcmlwdFJ1bm5pbmciLCJydW5uaW5nU2NyaXB0IiwiY2xlYXIiLCJtYXBPcGVuIiwic2l0ZU9wZW4iLCJvcE9wZW4iLCJzZW5zb3JPcGVuIiwiaHdtT3BlbiIsImZpbGVzT3BlbiIsInBlYWtPcGVuIiwidGhpc1NpdGVIb3VzZVR5cGVNb2RlbCIsIm9wZW5TaXRlQ3JlYXRlIiwiZHJvcGRvd25QYXJ0cyIsInNpdGVOTmFtZXNUb1Bhc3MiLCJhTk4iLCJzaXRlTlR5cGVzVG9QYXNzIiwiYU5UIiwibW9kYWxJbnN0YW5jZSIsImtleWJvYXJkIiwiYmFja2Ryb3AiLCJ3aW5kb3dDbGFzcyIsIm9yaWdTaXRlSG91c2VzIiwic0hvdXNlVHlwZU1vZGVsIiwic05ldE5hbWVzIiwic05ldFR5cGVzIiwibG8iLCJzaXRlUmVsYXRlZFN0dWZmIiwiZ2V0QWxsIiwiciIsImdldExhbmRPd25lckNvbnRhY3QiLCJoZCIsImRhdHVtX2lkIiwiZGF0dW1fbmFtZSIsImhjIiwiaGNvbGxlY3RfbWV0aG9kIiwicHJpb3JpdHlfaWQiLCJkcCIsInByaW9yaXR5X25hbWUiLCJ6IiwiaG91c2VUeXBlTmFtZSIsImIiLCJzZW5zb3JOb3RBcHByIiwiZ2V0U2l0ZUxhbmRPd25lciIsImFwcGx5Iiwid2hpY2hRdWljayIsImFsbE9QVHlwZXMiLCJhbGxWZXJ0RGF0dW1zIiwiYWxsVmVydENvbE1ldGhvZHMiLCJhbGxPUFF1YWxpdGllcyIsImFsbEhXTVR5cGVzIiwiYWxsSFdNUXVhbGl0aWVzIiwiYWxsTWFya2VycyIsImFsbEV2ZW50cyIsImFsbFNlbnNvckJyYW5kcyIsIk9CSkVDVElWRV9QT0lOVCIsIkhXTSIsIk9QX01FQVNVUkUiLCJPUF9DT05UUk9MX0lERU5USUZJRVIiLCJDcmVhdGVXaGF0IiwibG9nZ2VkSW5NZW1iZXIiLCJxdWlja0Zvcm0iLCJtYWtlQWRhdGUiLCJhRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiZ2V0TW9udGgiLCJkYXkiLCJnZXREYXRlIiwic2xpY2UiLCJtb250aE5hbWVzIiwiZGF0ZVdPdGltZSIsIkV2ZW50TmFtZSIsImFPUCIsImRhdGVfZXN0YWJsaXNoZWQiLCJyZW1vdmVPUENhcnJheSIsImFkZGVkSWRlbnRpZmllcnMiLCJzaG93Q29udHJvbElEaW5wdXQiLCJob3JEYXR1bUxpc3QiLCJob3JDb2xsTWV0aG9kTGlzdCIsImFsbENvdW50eUxpc3QiLCJvcFR5cGVMaXN0IiwidmVydERhdHVtTGlzdCIsInZlcnRDb2xsTWV0aG9kTGlzdCIsIm9wUXVhbExpc3QiLCJhSFdNIiwiaHdtX2Vudmlyb25tZW50IiwiYmFuayIsImZsYWdfZGF0ZSIsInN0aWxsd2F0ZXIiLCJmbGFnX21lbWJlcl9pZCIsImh3bVR5cGVMaXN0IiwiaHdtUXVhbExpc3QiLCJtYXJrZXJMaXN0IiwiZ2V0VGltZVpvbmVTdGFtcCIsImRzZW50Iiwic2VuZFRoaXMiLCJvZmZzZXQiLCJ6b25lIiwic3Vic3RyIiwiZGVwVHlwZUxpc3QiLCJob3VzZVR5cGVMaXN0IiwidGltZVpvbmVMaXN0IiwiYVNlbnNvciIsImFTZW5zU3RhdHVzIiwiZXZlbnRMaXN0Iiwic2Vuc29yVHlwZUxpc3QiLCJzZW5zb3JCcmFuZExpc3QiLCJJbnRlcnZhbFR5cGUiLCJEZXB0aW1lUGFydHMiLCJnZXREZXBUeXBlcyIsImZpbHRlcmVkRGVwbG95bWVudFR5cGVzIiwibWF0Y2hpbmdTZW5zRGVwbGlzdCIsInNkIiwiRlRvck1FVEVSIiwiRlRvckNNIiwiYWRkTmV3SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJpZGVudGlmaWVyX3R5cGUiLCJkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCIsInV0Y0RhdGVUaW1lIiwidG9VVENTdHJpbmciLCJkYXRlcGlja3JzIiwiJGV2ZW50Iiwic3RvcFByb3BhZ2F0aW9uIiwiY2hvb3NlUXVhbGl0eSIsImh3bV91bmNlcnRhaW50eSIsImh3bV9xdWFsaXR5X2lkIiwibWluX3JhbmdlIiwibWF4X3JhbmdlIiwiY29tcGFyZVRvVW5jZXJ0YWludHkiLCJtYXRjaGluZ1F1YWxJZCIsImluY29uZ3J1ZW50TW9kYWwiLCJzZXNzaW9uRXZlbnROYW1lIiwic2Vzc2lvbkV2ZW50RXhpc3RzIiwiVW5xdWFudENoZWNrZWQiLCJ1bnF1YW50aWZpZWQiLCJ1bmNlcnRhaW50eSIsInRyaW1PUCIsIm9wIiwiT0JKX1BUIiwiZWxldl9mdCIsIm9wX2lzX2Rlc3Ryb3llZCIsIm9wX25vdGVzIiwidmRhdHVtX2lkIiwidmNvbGxlY3RfbWV0aG9kX2lkIiwib3BfdHlwZV9pZCIsImRhdGVfcmVjb3ZlcmVkIiwib3BfcXVhbGl0eV9pZCIsIlJlbW92ZUlEIiwib3BDb250cm9sIiwib3BfY29udHJvbF9pZGVudGlmaWVyX2lkIiwiZm9ybWF0RGVmYXVsdHMiLCJ0aGVPUCIsInRhcGVkb3duIiwiT3BlbiIsInNob3dOZWVkT1BmaXJzdE1vZGFsIiwibmVlZE9QTW9kYWwiLCJ0YXBlRG93blRhYmxlIiwicmVtb3ZlT1AiLCJyZW1vdmVPUE1lYXMiLCJ5ZXNPck5vIiwiT1BzRm9yVGFwZURvd24iLCJPUE1lYXN1cmUiLCJhZGRUYXBlZG93biIsInNlbnNvcl9lbGV2YXRpb24iLCJ3c19lbGV2YXRpb24iLCJnc19lbGV2YXRpb24iLCJzaG93VGFwZWRvd25QYXJ0Iiwib3BfbmFtZSIsImVsZXZhdGlvbiIsIlZkYXR1bSIsInZkIiwiZGF0dW1fYWJicmV2aWF0aW9uIiwic2l0ZUVycm9ycyIsIm9wRXJyb3JzIiwiaHdtRXJyb3JzIiwidGhlRm9ybSIsInF1aWNrIiwiJHZhbGlkIiwid2F0ZXJib2R5IiwiY3JlYXRlZE9QIiwiT1B0b1BPU1QiLCJvcGMiLCJ0aGlzT1BDb250cm9sSUQiLCJzdXJ2ZXlfZGF0ZSIsInN1cnZleV9tZW1iZXJfaWQiLCJjcmVhdGVkU2Vuc29yIiwiaW50ZXJ2YWwiLCJzdGF0UmVzcG9uc2UiLCJ0aGlzVGFwZSIsImluc3RydW1lbnRfc3RhdHVzX2lkIiwiJG5hbWUiLCJmaW5kIiwic2l0ZV9kZXNjcmlwdGlvbiIsIiRpbnZhbGlkIiwiJGludmFsaWR2IiwiZGUiLCJod21fdHlwZV9pZCIsIlNldHRpbmdzQ29udHJvbGxlcnMiLCJzZXR0aW5ncyIsImNoYW5nZVZpZXciLCJ2aWV3IiwiQ09OVEFDVF9UWVBFIiwiREVQTE9ZTUVOVF9QUklPUklUWSIsIkVWRU5UX1NUQVRVUyIsIkVWRU5UX1RZUEUiLCJIT1JJWk9OVEFMX0NPTExfTUVUSE9EUyIsIkhPUklaT05UQUxfREFUVU0iLCJIT1VTSU5HX1RZUEUiLCJIV01fUVVBTElUWSIsIkhXTV9UWVBFIiwiSU5TVF9DT0xMX0NPTkRJVElPTiIsIk1BUktFUiIsIk5FVFdPUktfTkFNRSIsIk9QX1FVQUxJVFkiLCJPUF9UWVBFIiwiU0VOU09SX0JSQU5EIiwiREVQTE9ZTUVOVF9UWVBFIiwiU0VOU09SX1RZUEUiLCJORVRXT1JLX1RZUEUiLCJTVEFUVVNfVFlQRSIsIlZFUlRJQ0FMX0NPTExfTUVUSE9EIiwiVkVSVElDQUxfREFUVU0iLCJhbGxBZ2VuY2llcyIsImFsbENvbnRhY3RUeXBlcyIsImFsbEV2ZW50U3RhdHMiLCJhbGxFdmVudFR5cGVzIiwiYWxsRmlsZVR5cGVzIiwiYWxsSG91c2VUeXBlcyIsImFsbEhXTXF1YWxpdGllcyIsImFsbEhXTXR5cGVzIiwiYWxsSW5zdENvbGxlY3RDb25kaXRpb25zIiwiYWxsT2JqUHRRdWFsaXRpZXMiLCJhbGxPYmpQdFR5cGVzIiwiYWxsU3RhdHVzVHlwZXMiLCJhbGxWZXJ0aWNhbENvbGxNZXRob2RzIiwiYWxsVmVydGljYWxEYXR1bXMiLCJhY2NvdW50Um9sZSIsImxvb2t1cEZvcm0iLCJzaG93QWRkQWdGb3JtIiwiYWRkQWdCdXR0b25TaG93aW5nIiwibmV3QWciLCJzaG93QWRkQWdDbGlja2VkIiwiTmV2ZXJNaW5kQWciLCJBZGRBZ2VuY3kiLCJzYXZlQWdlbmN5IiwicmV0dXIiLCJkZWxldGVBZ2VuY3kiLCJhZyIsImtleVRvUmVtb3ZlIiwic2hvd1N0YXRlQWJicmV2IiwiY29udGFjdFR5cGVMaXN0Iiwic2hvd0FkZENURm9ybSIsImFkZENUQnV0dG9uU2hvd2luZyIsIm5ld0NUIiwic2hvd0FkZENUQ2xpY2tlZCIsIk5ldmVyTWluZENUIiwiQWRkQ29udGFjdFR5cGUiLCJzYXZlQ29udGFjdFR5cGUiLCJkZWxldGVDb250YWN0VHlwZSIsImN0IiwiY29udGFjdF90eXBlX2lkIiwiZGVwbG95UHJpb3JpdHlMaXN0Iiwic2hvd0FkZERQRm9ybSIsImFkZERQQnV0dG9uU2hvd2luZyIsIm5ld0RQIiwic2hvd0FkZERQQ2xpY2tlZCIsIk5ldmVyTWluZERQIiwiQWRkRGVwUHJpb3JpdHkiLCJzYXZlRGVwUHJpb3JpdHkiLCJkZWxldGVEZXBQcmlvcml0eSIsImV2ZW50U3RhdExpc3QiLCJzaG93QWRkRVNGb3JtIiwiYWRkRVNCdXR0b25TaG93aW5nIiwibmV3RVMiLCJzaG93QWRkRVNDbGlja2VkIiwiTmV2ZXJNaW5kRVMiLCJBZGRFdmVudFN0YXQiLCJzYXZlRXZlbnRTdGF0IiwiZGVsZXRlRXZlbnRTdGF0IiwiZXMiLCJldmVudF9zdGF0dXNfaWQiLCJldmVudFR5cGVMaXN0Iiwic2hvd0FkZEVURm9ybSIsImFkZEVUQnV0dG9uU2hvd2luZyIsIm5ld0VUIiwic2hvd0FkZEVUQ2xpY2tlZCIsIk5ldmVyTWluZEVUIiwiQWRkRXZlbnRUeXBlIiwic2F2ZUV2ZW50VHlwZSIsImRlbGV0ZUV2ZW50VHlwZSIsImV0IiwiZXZlbnRfdHlwZV9pZCIsInNob3dBZGRGVEZvcm0iLCJhZGRGVEJ1dHRvblNob3dpbmciLCJuZXdGVCIsInNob3dBZGRGVENsaWNrZWQiLCJOZXZlck1pbmRGVCIsIkFkZEZpbGVUeXBlIiwic2F2ZUZpbGVUeXBlIiwiZGVsZXRlRmlsZVR5cGUiLCJob3JDb2xNZXRoTGlzdCIsInNob3dBZGRIQ01Gb3JtIiwiYWRkSENNQnV0dG9uU2hvd2luZyIsIm5ld0hDTSIsInNob3dBZGRIQ01DbGlja2VkIiwiTmV2ZXJNaW5kSENNIiwiQWRkSG9yQ29sbE1ldGhvZCIsInNhdmVIb3JDb2xsTWV0aG9kIiwiZGVsZXRlSG9yQ29sbE1ldGhvZCIsImhjbSIsImhvckRhdExpc3QiLCJzaG93QWRkSERGb3JtIiwiYWRkSERCdXR0b25TaG93aW5nIiwibmV3SEQiLCJzaG93QWRkSERDbGlja2VkIiwiTmV2ZXJNaW5kSEQiLCJBZGRIb3JEYXR1bSIsInNhdmVIb3JEYXR1bSIsImRlbGV0ZUhvckRhdHVtIiwic2hvd0FkZEhURm9ybSIsImFkZEhUQnV0dG9uU2hvd2luZyIsIm5ld0hUIiwic2hvd0FkZEhUQ2xpY2tlZCIsIk5ldmVyTWluZEhUIiwiQWRkSG91c2VUeXBlIiwic2F2ZUhvdXNlVHlwZSIsImRlbGV0ZUhvdXNlVHlwZSIsInNob3dBZGRIV01RRm9ybSIsImFkZEhXTVFCdXR0b25TaG93aW5nIiwibmV3SFdNUSIsInNob3dBZGRIV01RQ2xpY2tlZCIsIk5ldmVyTWluZEhXTVEiLCJBZGRId21RdWFsaXR5Iiwic2F2ZUh3bVF1YWxpdHkiLCJkZWxldGVId21RdWFsaXR5IiwiaHdtcSIsInNob3dBZGRIV01URm9ybSIsImFkZEhXTVRCdXR0b25TaG93aW5nIiwibmV3SFdNVCIsInNob3dBZGRIV01UQ2xpY2tlZCIsIk5ldmVyTWluZEhXTVQiLCJBZGRId21UeXBlIiwic2F2ZUh3bVR5cGUiLCJkZWxldGVId21UeXBlIiwiaHdtdCIsImluc3RDb2xDb25kTGlzdCIsInNob3dBZGRJQ0NGb3JtIiwiYWRkSUNDQnV0dG9uU2hvd2luZyIsIm5ld0lDQyIsInNob3dBZGRJQ0NDbGlja2VkIiwiTmV2ZXJNaW5kSUNDIiwiQWRkSW5zdENvbENvbmQiLCJzYXZlSW5zdENvbENvbmQiLCJkZWxldGVJbnN0Q29sQ29uZCIsImljYyIsIm1hcmtMaXN0Iiwic2hvd0FkZE1Gb3JtIiwiYWRkTUJ1dHRvblNob3dpbmciLCJuZXdNIiwic2hvd0FkZE1DbGlja2VkIiwiTmV2ZXJNaW5kTSIsIkFkZE1hcmtlciIsInNhdmVNYXJrZXIiLCJkZWxldGVNYXJrZXIiLCJtYXJrZXJfaWQiLCJuZXROYW1lTGlzdCIsInNob3dBZGROTkZvcm0iLCJhZGROTkJ1dHRvblNob3dpbmciLCJuZXdOTiIsInNob3dBZGROTkNsaWNrZWQiLCJOZXZlck1pbmROTiIsIkFkZE5ldHdvcmtOYW1lIiwic2F2ZU5ldHdvcmtOYW1lIiwiZGVsZXRlTmV0d29ya05hbWUiLCJzaG93QWRkT1BRRm9ybSIsImFkZE9QUUJ1dHRvblNob3dpbmciLCJuZXdPUFEiLCJzaG93QWRkT1BRQ2xpY2tlZCIsIk5ldmVyTWluZE9QUSIsIkFkZE9QUXVhbGl0eSIsInNhdmVPUFF1YWxpdHkiLCJkZWxldGVPUFF1YWxpdHkiLCJvcHEiLCJzaG93QWRkT1BURm9ybSIsImFkZE9QVEJ1dHRvblNob3dpbmciLCJuZXdPUFQiLCJzaG93QWRkT1BUQ2xpY2tlZCIsIk5ldmVyTWluZE9QVCIsIkFkZE9QVHlwZSIsInNhdmVPUFR5cGUiLCJkZWxldGVPUFR5cGUiLCJvcHQiLCJvYmplY3RpdmVfcG9pbnRfdHlwZV9pZCIsInNlbnNCcmFuZExpc3QiLCJzaG93QWRkU0JGb3JtIiwiYWRkU0JCdXR0b25TaG93aW5nIiwibmV3U0IiLCJzaG93QWRkU0JDbGlja2VkIiwiTmV2ZXJNaW5kU0IiLCJBZGRTZW5zb3JCcmFuZCIsInNhdmVTZW5zb3JCcmFuZCIsImRlbGV0ZVNlbnNvckJyYW5kIiwic2IiLCJzZW5zb3JfYnJhbmRfaWQiLCJzaG93QWRkRFRGb3JtIiwiYWRkRFRCdXR0b25TaG93aW5nIiwibmV3RFQiLCJzaG93QWRkRFRDbGlja2VkIiwiTmV2ZXJNaW5kRFQiLCJBZGREZXBUeXBlIiwic2F2ZURlcFR5cGUiLCJkZWxldGVEZXBUeXBlIiwiZHQiLCJzdGF0VHlwZUxpc3QiLCJzaG93QWRkU3RhdFRGb3JtIiwiYWRkU3RhdFRCdXR0b25TaG93aW5nIiwibmV3U3RhdFQiLCJzaG93QWRkU3RhdFRDbGlja2VkIiwiTmV2ZXJNaW5kU3RhdFQiLCJBZGRTdGF0dXNUeXBlIiwibmV3U3RhdFRUIiwic2F2ZVN0YXR1c1R5cGUiLCJkZWxldGVTdGF0dXNUeXBlIiwic3RhdFQiLCJzZW5zVHlwZUxpc3QiLCJuZXdEZXBUeXBlUmVsYXRpbmciLCJjb21tYVNlcERlcE1FVEhPRFMiLCJmb3JtYXR0ZWRTZW5zVHlwZUxpc3QiLCJzZW5zVHlwZSIsImdldFNlbnNvckRlcGxveW1lbnRUeXBlcyIsImRlcHMiLCJEZXBUeXBlcyIsIkRlcE1TdHJpbmdzIiwiRGVwTUVUSE9EU3RyaW5ncyIsInNob3dEZXBUeXBlcyIsIlNlblQiLCJyZW1vdmVUaGVzZURlcFR5cGVzIiwiY2hlY2tMaXN0Q2hlY2siLCJvcmlnaW5hbENoZWNrZWQiLCJub3dDaGVja2VkIiwib2MiLCJkZWxldGVEZXAiLCJzaG93QWRkU2VuVEZvcm0iLCJhZGRTZW5UQnV0dG9uU2hvd2luZyIsIm5ld1NlblQiLCJzaG93QWRkU2VuVENsaWNrZWQiLCJOZXZlck1pbmRTZW5UIiwiYWRkRGVwVHlwZVRvTmV3U2VuVCIsIkFkZFNlbnNvclR5cGUiLCJuZXdTZW5zb3IiLCJyZWxhdGVkRGVwcyIsIm5kdCIsImFkZFNlbnNvckRlcGxveW1lbnRUeXBlIiwic2Vuc29yVHlwZUlkIiwiZGVwbG95bWVudFR5cGVJZCIsInJlc3BvbnNlMSIsInNhdmVTZW5zb3JUeXBlIiwiRFRzIiwidGhpc0RUIiwiZXJyb3JSZXNwb25zZTEiLCJyZHQiLCJyZW1vdmVTZW5zb3JEZXBsb3ltZW50VHlwZSIsIkRlcGxveW1lbnRUeXBlSWQiLCJyZXNwb25zZTIiLCJkZWxldGVTZW5zb3JUeXBlIiwic2VuVCIsIlNUIiwibmV0VHlwZUxpc3QiLCJzaG93QWRkTlRGb3JtIiwiYWRkTlRCdXR0b25TaG93aW5nIiwibmV3TlQiLCJzaG93QWRkTlRDbGlja2VkIiwiTmV2ZXJNaW5kTlQiLCJBZGROZXRUeXBlIiwic2F2ZU5ldFR5cGUiLCJkZWxldGVOZXRUeXBlIiwidmVydENvbE1ldGhMaXN0Iiwic2hvd0FkZFZDTUZvcm0iLCJhZGRWQ01CdXR0b25TaG93aW5nIiwibmV3VkNNIiwic2hvd0FkZFZDTUNsaWNrZWQiLCJOZXZlck1pbmRWQ00iLCJBZGRWZXJ0Q29sTWV0aCIsInNhdmVWZXJ0Q29sTWV0aCIsImRlbGV0ZVZlcnRDb2xNZXRoIiwidmNtIiwidmVydERhdExpc3QiLCJzaG93QWRkVkRGb3JtIiwiYWRkVkRCdXR0b25TaG93aW5nIiwibmV3VkQiLCJzaG93QWRkVkRDbGlja2VkIiwiTmV2ZXJNaW5kVkQiLCJBZGRWZXJ0RGF0dW0iLCJzYXZlVmVydERhdHVtIiwiZGVsZXRlVmVydERhdHVtIiwiYWxsRHJvcGRvd25zIiwiYWxsRGVwVHlwZXMiLCJ0aGlzU2Vuc29yIiwiU2Vuc29yU2l0ZSIsInNpdGVPUHMiLCJEQVRBX0ZJTEUiLCJkZXBTZW5maWxlSXNVcGxvYWRpbmciLCJEZXBTZW5zb3JGaWxlcyIsImRlcFNlbnNJbWFnZUZpbGVzIiwic2hvd05XSVNGaWxlRm9ybSIsIk9Qc1ByZXNlbnQiLCJyZW1vdmVPUExpc3QiLCJzaG93RXZlbnRERCIsImFkbWluQ2hhbmdlZCIsIndoaWNoQnV0dG9uIiwibndpc0hlYWRlclRpcCIsIkRFUHZhbCIsIlJFVHZhbCIsInNlbnNvckRhdGFOV0lTIiwiZGVwT3BlbiIsIk5XSVNGaWxlT3BlbiIsImNob3BwZXJSZXNwb25zZTEiLCJjaG9wcGVyUmVzcG9uc2UxS2V5cyIsImNoYXJ0T3B0aW9uczEiLCJjaGFydERhdGEiLCJBcnJheSIsInByb3RvdHlwZSIsImFyciIsInJ1bkNob3BwZXIiLCJjaGFydE9iaiIsInhBeGlzIiwicmVtb3ZlUGxvdExpbmUiLCJ0aGlzU2Vuc29yU2l0ZSIsInNtbGFsbExvYWRlckdvIiwicnVuQ2hvcHBlclNjcmlwdCIsIk9iamVjdCIsImtleXMiLCJFcnJvciIsImVycm9yTWVzc2FnZSIsInRpbWUiLCJwcmVzc3VyZSIsInNEYXRlIiwidG9JU09TdHJpbmciLCJlRGF0ZSIsImdldERhdGVUaW1lUGFydHMiLCJlZCIsImRhdGFmaWxlIiwiZ29vZF9zdGFydCIsImdvb2RfZW5kIiwibG9hZCIsInpvb21UeXBlIiwicmVzZXRab29tQnV0dG9uIiwicG9zaXRpb24iLCJhbGlnbiIsInZlcnRpY2FsQWxpZ24iLCJwYW5uaW5nIiwicGFuS2V5IiwiYm9vc3RUaHJlc2hvbGQiLCJwbG90T3B0aW9ucyIsInNlcmllcyIsImNsaWNrIiwicG9pbnRDbGljayIsImNob3NlbkRhdGUiLCJ4RXZlbnQiLCJ3aGljaERhdGUiLCJhbGVydCIsInBhcnRzIiwidGhpc0RhdGUiLCJwb2ludCIsImNhdGVnb3J5IiwiY2hhcnRYIiwiYWRkUGxvdExpbmUiLCJ0b1ZhbHVlIiwid2lkdGgiLCJ6SW5kZXgiLCJsYWJlbCIsInRoZURhdGUiLCJhbGxvd1BvaW50U2VsZWN0IiwiY3Vyc29yIiwibW91c2VPdmVyIiwiaGFsbyIsImNsYXNzIiwidG9Gcm9udCIsIm1hcmtlciIsImVuYWJsZWQiLCJzdWJ0aXRsZSIsImRhdGVUaW1lTGFiZWxGb3JtYXRzIiwic2Vjb25kIiwibWludXRlIiwiaG91ciIsIndlZWsiLCJ5QXhpcyIsImxhYmVscyIsImZvcm1hdCIsImxvZyIsImlzRGF0ZSIsImNhbGwiLCJkYSIsIm1pIiwiZGF0ZU9wdGlvbnMiLCJzdGFydGluZ0RheSIsInNob3dXZWVrcyIsImRhdGFfZmlsZV9pZCIsImRmIiwicHJvY2Vzc29yIiwicHJvY2Vzc29yX2lkIiwiY29sbGVjdF9kYXRlIiwiZml4RGF0ZSIsIm1pc3NpbmdEYXRlIiwidXRjU3RhcnREYXRlVGltZSIsInV0Y0VuZERhdGVUaW1lIiwic2kiLCJlaSIsImRhdGFmaWxlSUQiLCJkZlJlc3BvbnNlIiwic2hvd05XSVNGaWxlIiwiZiIsInNlbnNvck5XSVNGaWxlcyIsIk5XSVNGaWxlIiwiRmlsZVR5cGUiLCJOV0lTREYiLCJud2lzUHJvY2Vzc29yIiwidXNnc19zaWQiLCJwb3N0QXBwcm92YWxGb3JOV0lTZmlsZSIsIkRGaWQiLCJhcHByb3ZlTldJU0RGIiwiYXBwcm92YWxSZXNwb25zZSIsImFwcHJvdmFsX2lkIiwiY3JlYXRlTldJU0ZpbGUiLCJkZXBOV0lTU2VuZmlsZUlzVXBsb2FkaW5nIiwiTmRmUmVzcG9uc2UiLCJGcmVzcG9uc2UiLCJzYXZlTldJU0ZpbGUiLCJkZWxldGVOV0lTRmlsZSIsImNhbmNlbE5XSVNGaWxlIiwiT1BjaG9zZW4iLCJvcENob3NlbiIsIm9wSSIsIm8iLCJkZXBUYXBlQ29weSIsImRlcFN0dWZmQ29weSIsImNyZWF0ZU9yRWRpdCIsInRhcGVEb3duVG9SZW1vdmUiLCJ0SW5kIiwib3BfbWVhc3VyZW1lbnRzX2lkIiwic2hvd0NoYW5nZUV2ZW50REQiLCJDaGFuZ2VFdmVudCIsImV2ZW50X25hbWUiLCJMb2dnZWRJbk1lbWJlciIsInNlbnNvck9iamVjdFRvU2VuZEJhY2siLCJ1dGNEYXRlVGltZVMiLCJ1dGNEYXRlVGltZUQiLCJEaSIsInVwZGF0ZWRTZW5zb3IiLCJ1cGRhdGVkU2VuU3RhdCIsImRlcGxveW1lbnRUeXBlIiwiaG91c2luZ1R5cGUiLCJzZW5zb3JCcmFuZCIsImJyYW5kX25hbWUiLCJzZW5zb3JUeXBlIiwidCIsInJ0IiwiaWRUb1JlbW92ZSIsImF0IiwiREVQdGhpc1RhcGUiLCJ0YXBlUmVzcG9uc2UiLCJpbnN0cnVtZW50X3N0YXR1c2VzSG9sZGVyIiwiaW5zdHJ1bWVudF9zdGF0dXMiLCJkZXBsb3kiLCJTZW5zb3JGb3JtIiwiZGVwU2VuU3RhdCIsInByZXZpb3VzU3RhdGVTdGF0dXMiLCJkZWxldGVTIiwic2Vuc29yVG9SZW1vdmUiLCJsIiwiYWkiLCJ0aW1lUGFydHMiLCJEZXBsb3llciIsImdldEluc3RTdGF0T1BNZWFzdXJlcyIsImluc3RydW1lbnRTdGF0dXNJZCIsInNlbnNNZWFzdXJlcyIsIndoaWNoT1AiLCJteURhdGEiLCJ3YW5uYUVkaXREZXAiLCJjYW5jZWxEZXBFZGl0IiwiYWxsRXZlbnRMaXN0IiwiYWxsVkRhdHVtTGlzdCIsImFsbEluc3RDb2xsQ29uZCIsImRlcFNlbnNTdGF0dXMiLCJWRGF0dW0iLCJ2IiwiREVQdGFwZURvd25UYWJsZSIsInN0YXR1c1R5cGVMaXN0IiwiY29sbGVjdENvbmRMaXN0IiwiYVJldHJpZXZhbCIsImR0cGFydHMiLCJSZXRyaWV2ZXIiLCJhbSIsImRlcFRpbWVTdGFtcGI0U2VuZCIsInJldHVyblRoaXMiLCJyZXRyaWV2ZVMiLCJkZXBTZW5UUyIsInJldFNlblRTIiwidHJpZ2dlciIsImNyZWF0ZVJldFNlbnMiLCJpbnN0Q29sbGVjdGlvbiIsImluc3RfY29sbGVjdGlvbl9pZCIsImNvbmRpdGlvbiIsImFsbERlcERyb3Bkb3ducyIsImFsbEV2ZW50RGF0YUZpbGVzIiwiY2FsY0Rpc3RhbmNlIiwibGF0MSIsImxvbjEiLCJyYWRsYXQxIiwiUEkiLCJyYWRsYXQyIiwidGhldGEiLCJyYWR0aGV0YSIsImRpc3QiLCJzaW4iLCJjb3MiLCJhY29zIiwiZnVsbFNlbmZpbGVJc1VwbG9hZGluZyIsInNob3dQcm9jZXNzaW5nIiwic3Rvcm1TZWN0aW9uIiwic2Vuc29yRmlsZXMiLCJzZW5zSW1hZ2VGaWxlcyIsIkRFUE9Qc0ZvclRhcGVEb3duIiwiUkVUT1BzRm9yVGFwZURvd24iLCJldmVudERhdGFGaWxlcyIsImlzNEh6IiwiRGVwbG95ZWRTZW5zb3JTdGF0IiwiREVQcmVtb3ZlT1BMaXN0IiwiREVQT1BjaG9zZW4iLCJERVBvcENob3NlbiIsIkRFUE9QTWVhc3VyZSIsIkRFUHJlbW92ZU9QTWVhcyIsIkRFUG9rIiwiREVQY2FuY2VsIiwiREVQdGFwZURvd25Ub1JlbW92ZSIsIkRFUHRJbmQiLCJERVByZXNwb25zZSIsIkRFUHNlbnNNZWFzdXJlcyIsIlJldHJpZXZlZFNlbnNvclN0YXQiLCJtb3N0UmVjZW50U3RhdHVzIiwidmRhdHVtTmFtZSIsIlJFVHJlbW92ZU9QTGlzdCIsIlJFVHRhcGVEb3duVGFibGUiLCJSRVRPUGNob3NlbiIsIlJFVG9wQ2hvc2VuIiwiUkVUT1BNZWFzdXJlIiwicmV0VGFwZUNvcHkiLCJyZXRTdHVmZkNvcHkiLCJSRVRyZW1vdmVPUE1lYXMiLCJSRVRvayIsIlJFVGNhbmNlbCIsIlJFVHRhcGVEb3duVG9SZW1vdmUiLCJSRVR0SW5kIiwiUkVUcmVzcG9uc2UiLCJSRVRzZW5zTWVhc3VyZXMiLCJyZXRPcGVuIiwic2F2ZURlcGxveWVkIiwiREVQaWRUb1JlbW92ZSIsImFsbFN0YXR1c0hvbGRlciIsIndhbm5hRWRpdFJldCIsInNhdmVSZXRyaWV2ZWQiLCJ1cGRhdGVkUmV0U2Vuc29yIiwic3RhdHNIb2xkZXIiLCJSRVRpZFRvUmVtb3ZlIiwiUkVUdGhpc1RhcGUiLCJjYW5jZWxSZXRFZGl0IiwiQXBwcm92YWxJbmZvIiwiZ2V0REZBcHByb3ZhbCIsImFwcHJvdmFsRGF0ZSIsImFwcHJvdmFsX2RhdGUiLCJNZW1iZXIiLCJhbWVtIiwiYXBwcm92ZURGIiwidGhpc0RGIiwiYXBwcm92ZU1vZGFsIiwiYXBwcm92ZUl0IiwidW5BcHByb3ZlREYiLCJ1bmFwcHJvdmVNb2RhbCIsInVuQXBwcm92ZUl0IiwicnVuQWlyU2NyaXB0Iiwic2NyaXB0X3BhcmVudCIsInJlcnVuTW9kYWwiLCJ0aGVGaWxlIiwibm8iLCJ5ZXMiLCJhZmlsZSIsInByb2Nlc3NlZEZpbGVDb3VudCIsIm1hdGNoQ250IiwiYWlyREZJRCIsInVzZXJuYW1lIiwic2V0SXNTY3JpcHRSdW5uaW5nIiwic2hvd1N0b3JtU2VjdGlvbiIsImRpc3RhbmNlIiwic29ydCIsInBhZ2luYXRpb24iLCJjdXJyZW50UGFnZSIsIm1heFBhZ2luYXRpb25TaXplIiwiaXRlbXNQZXJQYWdlIiwidXBkYXRlUGFnZUluZGV4ZXMiLCJmaXJzdEluZGV4IiwibGFzdEluZGV4IiwidXBkYXRlQ2hvc2VuQWlyUmFkaW8iLCJkZmlsZSIsInJ1blRoZVN0b3JtU2NyaXB0IiwiYWlyREYiLCJnZXRGdWxsSW5zdHJ1bWVudCIsImFpclNlbnNvciIsIndhdGVyREYiLCJib29sVmFsIiwicnVuU3Rvcm1TY3JpcHQiLCJzZWFERklEIiwiaGVydHoiLCJ3YXRlckZpbGUiLCJ3YXRBaXJJRFMiLCJhbHJlYWR5UmFuIiwic2Vuc0ZpbGUiLCJyZXJ1blN0b3JtTW9kYWwiLCJ0aGVBaXJGaWxlIiwidGhlV2F0ZXJGaWxlIiwiZmlsZXNBcnJheSIsImJvdGhGaWxlcyIsImNob3BwZXJSZXNwb25zZTIiLCJjaG9wcGVyUmVzcG9uc2UyS2V5cyIsImNoYXJ0T3B0aW9uczIiLCJJbnN0cnVtZW50X1NlcnZpY2UiLCJ0aGlzU2l0ZVNlbnNvcnMiLCJzZW5zb3JDb3VudCIsInRvdGFsIiwiZGVwbG95VHlwZUxpc3QiLCJ0ZW1wRGVwVHlwZUlEIiwic2Vuc0RlcFR5cGVzIiwic2hvd1Byb3Bvc2VkIiwiY29ycmVjdE9yZGVyU1MiLCJzZW5zb3JTdGF0dXNlcyIsInByb3Bvc2VkU3RhdCIsImRlcGxveWVkU3RhdCIsInJldExvc3RTdGF0IiwiU2l0ZVNlbnNvcnMiLCJzZXRBbGxTaXRlU2Vuc29ycyIsIlNlbnNGaWxlVHlwZXMiLCJzZnQiLCJzaG93SGlkZVByb3Bvc2VkIiwiQWRkUHJvcG9zZWQiLCJUaW1lX1NUQU1QIiwicHJvcG9zZWRUb0FkZCIsInByb3BTdGF0VG9BZGQiLCJjcmVhdGVkUHJvcFNlbnNvciIsImR0bCIsImRlcCIsInNob3dSZXRyaWV2ZU1vZGFsIiwic2Vuc29yQ2xpY2tlZCIsImluZGV4Q2xpY2tlZCIsImFsbGluZGV4IiwiZ2V0U2l0ZU9QcyIsInJldHJpZXZlZFNlbnNvciIsImluZGV4Q2xpY2tlZDEiLCJzaG93UHJvcG9zZWRTZW5zb3IiLCJwcm9wb3NlZFNlbnNvckNsaWNrZWQiLCJwcm9wSW5kZXgiLCJwcm9wTW9kYWxJbnN0YW5jZSIsInByb3Bvc2VkU2Vuc29yIiwidGhpc1Byb3Bvc2VkU2Vuc29yIiwiZGVsZXRlUHJvcG9zZWQiLCJzaG93U2Vuc29yTW9kYWwiLCJwYXNzQWxsTGlzdHMiLCJzaG93RnVsbFNlbnNvck1vZGFsIiwiZGVwbG95ZWRTdHVmZiIsImdldEV2ZW50RGF0YVZpZXciLCJldmVudElkIiwiQ09OVEFDVCIsIlJFUE9SVCIsIiRwYXJlbnQiLCJuZWVkVG9Db21wbGV0ZSIsIm5ld1JlcG9ydCIsInJlcG9ydF9kYXRlIiwieXIiLCJtbyIsIkRlcGxveVN0YWZmIiwiR2VuU3RhZmYiLCJJbmxhbmRTdGFmZiIsIkNvYXN0U3RhZmYiLCJXYXRlclN0YWZmIiwib3BlbkNvbnRhY3RzIiwib3BlbkNvdW50cyIsIm9wZW5QZXJzb25uZWwiLCJyZXBvcnRpbmdfbWV0cmljc19pZCIsImRpc2FibGVkIiwiZ2V0RXZlbnROYW1lIiwidGhpc0V2ZW50IiwiZ2V0UmVwb3J0Q29udGFjdHMiLCJyZXBvcnRJRCIsImdldENvbnRhY3RNb2RlbCIsIlJlcG9ydE1ldHJpYyIsImNvbnRhY3RUeXBlIiwicG9zdFJlcG9ydENvbnRhY3RzIiwiZXF1YWxzIiwiYWRkUmVwb3J0Q29udGFjdCIsInJlcG9ydElkIiwiY29udGFjdFR5cGVJZCIsImVycm9yUmVzcG9uc2UyIiwicmVzcG9uc2UzIiwiZXJyb3JSZXNwb25zZTMiLCJyZXNwb25zZTQiLCJlcnJvclJlc3BvbnNlNCIsInJlc3BvbnNlNSIsImVycm9yUmVzcG9uc2U1IiwicmVtb3ZlSW5jb21wbGV0ZSIsIm1lbWJlckluY29tcGxldGVzIiwiUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzIiwidG9EYXRlU3RyaW5nIiwiY29tcGxldGUiLCJpc0NvbXBsZXRlZCIsImZ1bGxSZXBvcnRGb3JtIiwic3VibWl0IiwiJHNldFByaXN0aW5lIiwiJHZpZXdWYWx1ZSIsInJlcG9ydHMiLCJwb3B1bGF0ZVllc3RUb3RzIiwiZm9ybWF0RGF0ZSIsInNldEhvdXJzIiwibXlEYXRlIiwidGhlU3RhdGUiLCJlSUQiLCJwcmV2aW91c0RheSIsInllc3RlcmRheVJwdCIsInJlcERhdGUiLCJ5ZXN0X2ZpZWxkcGVycyIsInRvZF9maWVsZHBlcnMiLCJ5ZXN0X29mZmljZXBlcnMiLCJ0b2Rfb2ZmaWNlcGVycyIsImdldERhaWx5UmVwb3J0VG90cyIsInJlc3BvbnNlNiIsImRlcF9yYXBkZXBsX2dhZ2UiLCJyZWNfcmFwZGVwbF9nYWdlIiwibG9zdF9yYXBkZXBsX2dhZ2UiLCJkZXBfd3RybGV2X3NlbnNvciIsInJlY193dHJsZXZfc2Vuc29yIiwibG9zdF93dHJsZXZfc2Vuc29yIiwiZGVwX3d2X3NlbnMiLCJyZWNfd3Zfc2VucyIsImxvc3Rfd3Zfc2VucyIsImRlcF9iYXJvbWV0cmljIiwicmVjX2Jhcm9tZXRyaWMiLCJsb3N0X2Jhcm9tZXRyaWMiLCJkZXBfbWV0ZW9yb2xvZ2ljYWwiLCJyZWNfbWV0ZW9yb2xvZ2ljYWwiLCJsb3N0X21ldGVvcm9sb2dpY2FsIiwiaHdtX2ZsYWdnZWQiLCJod21fY29sbGVjdGVkIiwiZXJyb3JSZXNwb25zZTYiLCJzYXZlUmVwb3J0IiwiTWVtYmVyTG9nZ2VkSW4iLCJwb3B1bGF0ZURlcGxveWVyIiwiZ2V0SW5jb21wbGV0ZVJlcG9ydCIsImlyIiwiJHNldERpcnR5IiwicmVwb3J0Iiwic3VibWl0UGVyc29uIiwiY29udGFjdHMiLCJSZXBvcnRWaWV3IiwiUmVwb3J0Iiwic3VibWl0dGVyIiwiZGVwbG95U3RhZmYiLCJnZW5lcmFsU3RhZmYiLCJpbmxhbmRTdGFmZiIsImNvYXN0U3RhZmYiLCJ3YXRlclN0YWZmIiwicHJpbnQiLCJhbGxSZXBvcnRzQWdhaW4iLCJyZXBvcnRzVG9EYXRlIiwidG9kYXlScHRzIiwieWVzdGVyZGF5UnB0cyIsInBpY2tEYXRlUnB0cyIsInBpY2tBZGF0ZVJlcG9ydHMiLCJ0b2RheSIsInllc3RlcmRheSIsInNldERhdGUiLCJUSElTX0RBVEUiLCJWaWV3UmVwb3J0IiwibWVtYmVyIiwibWVtIiwibWVtYmVyQWdlbmN5IiwiYWdlbmN5X2FkZHJlc3MiLCJmb3JtYXRSZXBvcnQiLCJyZXBMaXN0IiwicmV0dXJuTGlzdCIsInJlcCIsInRvZGF5UmVwb3J0cyIsInRvZGF5cmVwIiwicmVwb3J0RGF0ZSIsInllc3RlcmRheVJlcG9ydHMiLCJ5ZXN0cmVwIiwiZ2V0UmVwb3J0c0J5RGF0ZSIsImRhdGUiLCJ0aGlzRGF0ZVJlcG9ydHMiLCJ0ZGF0ZSIsIkNvbXBsZXRlVGhpc1JlcG9ydCIsImdldFByb2plY3RBbGVydFRleHQiLCJQcm9qZWN0QWxlcnRQYXJ0cyIsInRvdFllc3RGaWVsZFBlcnMiLCJ0b3RZZXN0T2ZmaWNQZXJzIiwibWVhc3VyZUN0cyIsInRvdF9kaXNjaGFyZ2VfbWVhcyIsImV2ZW50UmVwb3J0cyIsInN0YXRlQ291bnQiLCJlciIsIlByb2pBbGVydCIsIm1lbWJlclJlcG9ydHMiLCJhbGxSZXBvcnRzIiwiYWxsRXZlbnRTdGF0dXMiLCJ0b1N0YXRlIiwidG9QYXJhbXMiLCJmcm9tU3RhdGUiLCJmcm9tUGFyYW1zIiwiZm9ybUlzUG9wdWxhdGVkIiwidXJsIiwiJGRpcnR5IiwiY29uZmlybSIsImN1cnJlbnREdCIsIm1tIiwiZGQiLCJ5eXl5IiwibWVtYmVycyIsImV2ZW50VHlwZXMiLCJldmVudFN0YXRzIiwiU3RhdGVtb2RlbCIsImdlblN1bW1hcnkiLCJmaWx0ZXJlZFJlcG9ydHMiLCJnZW5SZXBDaGFuZ2UiLCJuYW1lcyIsImFiYnJldnMiLCJzdGF0ZV9uYW1lIiwiU3RhdGVOYW1lcyIsIlN0YXRlQWJicmV2cyIsIk1ldHJpY0Rpc3BsYXlNb2RlbCIsImRpc3BsYXlNZXRyaWNTdW0iLCJHZW5SZXBFdmVudE1vZGVsIiwidG90YWxSb3ciLCJub3RBY2N0Rm9yRW1wcyIsImN1bVBGaWVsZCIsInllc1BGaWVsZCIsInRvZFBGaWVsZCIsInRvbVBGaWVsZCIsImN1bVBPZmZpY2UiLCJ5ZXNQT2ZmaWNlIiwidG9kUE9mZmljZSIsInRvbVBPZmZpY2UiLCJ0cnVjayIsImJvYXQiLCJvdGhlciIsImdhZ2VWaXNpdHMiLCJnYWdlc0Rvd24iLCJkaXNDdG9EYXRlIiwiZGlzQ1BsYW5uZWQiLCJDaGVja01lYXNUb0RhdGUiLCJDaGVja01lYXNQbGFubmVkIiwiaW5kTWVhcyIsInJhdEV4dCIsInBlYWtzT2ZSZWMiLCJRV0dhZ2VWaXMiLCJjb250UVdHYWdlVmlzIiwiY29udFFXR2FnZURvd24iLCJkaXNRV1NhbXBsZXMiLCJzZWRTYW1wbGVzIiwicmRnUGxhbiIsInJkZ0RlcCIsInJkZ1JlYyIsInJkZ0xvc3QiLCJ3YXRlclBsYW4iLCJ3YXRlckRlcCIsIndhdGVyUmVjIiwid2F0ZXJMb3N0Iiwid2F2ZVBsYW4iLCJ3YXZlRGVwIiwid2F2ZVJlYyIsIndhdmVMb3N0IiwiYmFyb1BsYW4iLCJiYXJvRGVwIiwiYmFyb1JlYyIsImJhcm9Mb3N0IiwibWV0UGxhbiIsIm1ldERlcCIsIm1ldFJlYyIsIm1ldExvc3QiLCJod21GbGFnIiwiaHdtQ29sIiwiYWJicmV2U3RyaW5nIiwic3VtX2RhdGUiLCJnZXRGaWx0ZXJlZFJlcG9ydHMiLCJTdGF0ZXMiLCJ0aGlzUlBNb2RlbCIsInN3X2ZpZWxkcGVyc19ub3RhY2N0Iiwid3FfZmllbGRwZXJzX25vdGFjY3QiLCJ0bXdfZmllbGRwZXJzIiwidG13X29mZmljZXBlcnMiLCJnYWdlX3Zpc2l0IiwiZ2FnZV9kb3duIiwicGxhbl9kaXNjaGFyZ2VfbWVhcyIsInBsYW5faW5kaXJlY3RfbWVhcyIsInJhdGluZ19leHRlbnMiLCJnYWdlX3BlYWtfcmVjb3JkIiwicXdfZGlzY3Jfc2FtcGxlcyIsImNvbGxfc2Vkc2FtcGxlcyIsInBsYW5fcmFwZGVwbF9nYWdlIiwicGxhbl93dHJsZXZfc2Vuc29yIiwicGxhbl93dl9zZW5zIiwicGxhbl9iYXJvbWV0cmljIiwicGxhbl9tZXRlb3JvbG9naWNhbCIsIkV2ZW50VHlwZSIsIkV2ZW50U3RhdCIsIkNvb3JkaW5hdG9yIiwiZXZlbnRfY29vcmRpbmF0b3IiLCJDb29yZEFnZW5jeSIsInRoaXNSZXBvcnQiLCJ0aGVUb3RhbFJvdyIsInRvdGFscyIsImRpc3BsYXlDb250YWN0c1N1bSIsInJlcG9ydE1vZGVsIiwiZ2V0UmVwb3J0d2l0aENvbnRhY3RzIiwicmVwSUQiLCJzdWJtaXR0ZXJBZ2VuY3kiLCJzdWIiLCJlbWFpbCIsInBob25lIiwiYWdlbmN5bmFtZSIsImFnZW5jeWFkZCIsImRlcEMiLCJSZXBvcnRDb250YWN0cyIsImdlbkMiLCJpbmxDIiwiY29hc3RDIiwid2F0ZXJDIiwic2V0VGltZW91dCIsInNob3dNb2RhbCIsInRoZXNlUmVwb3J0cyIsIlJlcG9ydHMiLCJnZXRDU1ZmaWxlIiwiZ2V0UmVwb3J0c0NTViIsImFuY2hvciIsImpvaW5lZFJlc3BvbnNlIiwiQmxvYiIsImZpbGVVUkwiLCJVUkwiLCJjcmVhdGVPYmplY3RVUkwiLCJocmVmIiwiZG93bmxvYWQiLCJQcm9qQWxlcnRQYXJ0cyIsImFsbENvbGxlY3RDb25kaXRpb25zIiwidGhpc1BlYWsiLCJwZWFrU2l0ZSIsImFsbEV2ZW50SFdNcyIsImFsbFNpdGVTZW5zb3JzIiwiYWxsU2l0ZUZpbGVzIiwidGhpc1BlYWtERnMiLCJQRUFLIiwiVkRhdHVtc0xpc3QiLCJtZW1iZXJMaXN0IiwibG9nZ2VkSW5Sb2xlIiwiZGV0ZXJtaW5lREZQcmVzZW50IiwiZXZlbnRTaXRlSFdNcyIsImVzaCIsImV2ZW50U2l0ZVNlbnNvcnMiLCJldlNpdGVTZW4iLCJDb2xsZWN0Q29uZGl0aW9uIiwiY2MiLCJpc1JldHJpZXZlZCIsIk5lZWRERiIsImNob3NlbkhXTUxpc3QiLCJyZW1vdmVkQ2hvc2VuSFdNTGlzdCIsImNob3NlbkRGTGlzdCIsInJlbW92ZWRDaG9zZW5ERkxpc3QiLCJod21EZXRhaWwiLCJIV01Cb3giLCJzZW5zb3JEZXRhaWwiLCJTZW5zb3JCb3giLCJkYXRhRmlsZURldGFpbCIsIkRGQm94IiwiYVBlYWsiLCJwZWFrX2RhdGUiLCJQZWFrQ3JlYXRvciIsInBlYWtfc3VtbWFyeV9pZCIsImVzcyIsImVzc0kiLCJpc1RoZXJlIiwicGRmIiwiZm9ybWF0U2VsZWN0ZWRIV00iLCJmaHdtIiwiaGVpZ2h0X2Fib3ZlX2duZCIsImh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uIiwiaHdtX25vdGVzIiwiYWRkSFdNIiwiZGF0YUZpbGUiLCJod20iLCJzaG93SFdNRGV0YWlscyIsInByaW1hcnlIV00iLCJzZXRQcmltSFdNIiwiU2V0SXQiLCJzZXRJdCIsInBlYWtfc3RhZ2UiLCJoSW5kZXgiLCJjbG9zZURldGFpbCIsImFkZERhdGFGaWxlIiwic2hvd1NlbnNvckRldGFpbHMiLCJzaG93RGF0YUZpbGVEZXRhaWxzIiwiZmlsZVBhdGgiLCJmaWxlSUQiLCJmaWxlRGVzYyIsInByb2Nlc3NlZEJ5Iiwibndpc0ZpbGUiLCJwcmltYXJ5RGF0YUZpbGUiLCJzZXRQcmltZURGIiwic2VucyIsInNJbmRleCIsImZJbmRleCIsInNhdmVQZWFrIiwidXBkYXRlZFBlYWsiLCJkYXRldGltZSIsImdldEhvdXJzIiwiZ2V0TWludXRlcyIsImdldFNlY29uZHMiLCJyZW1kIiwicmVtaCIsImFkZGgiLCJhZGRkIiwidXBkYXRlREZ3b1BlYWtJRCIsImRmX2lkIiwicmVzIiwiZGVsZXRlUGVhayIsImRlbGV0ZVBlYWtNZGwiLCJPayIsInRoaXNTIiwidGhpc0YiLCJ0aGlzSCIsInVwZGF0ZVRoaXNIV00iLCJjcmVhdGVQZWFrIiwiaXNId21DaGVja2VkIiwiaXNERkNoZWNrZWQiLCJzaHdtIiwic3NlbiIsImNyZWF0ZWRQZWFrIiwic2hvd0luY29tcGxldGVERkluZm8iLCJzaG93SW5jb21wbGV0ZUhXTUluZm8iLCJzaG93UmV0cmlldmVJbmZvIiwidGhpc1NpdGVQZWFrcyIsInBlYWtDb3VudCIsIlNpdGVQZWFrcyIsInNob3dQZWFrTW9kYWwiLCJwZWFrQ2xpY2tlZCIsImdldFBlYWtTdW1tYXJ5REZzIiwiZ2V0RmlsdGVyZWRIV01zIiwiRXZlbnRTdGF0dXMiLCJnZXRTaXRlU2Vuc29ycyIsInRoaXNPUCIsInRoaXNPUENvbnRyb2xzIiwib3BTaXRlIiwiT1B2YWwiLCJmaWxlSXNVcGxvYWRpbmciLCJkbCIsImRsT3BlbiIsImRsRmlsZU9wZW4iLCJPUFR5cGVMaXN0IiwiSERMaXN0IiwiSENvbGxlY3RNZXRob2RMaXN0IiwiVkRhdHVtTGlzdCIsIlZDb2xsZWN0TWV0aG9kTGlzdCIsIk9QUXVhbGl0eUxpc3QiLCJIV01maWxlSXNVcGxvYWRpbmciLCJPUCIsInRoaXNPUHNpdGUiLCJPUEZpbGVzIiwib3BJbWFnZUZpbGVzIiwib3BmIiwib3BDb3B5Iiwib3BNb2RhbEhlYWRlciIsImNyZWF0ZU9SZWRpdE9QIiwib3BUeXBlIiwib3BfdHlwZSIsInF1YWxpdHkiLCJxIiwiaGRhdHVtIiwiaENvbGxlY3RNZXRob2QiLCJ2RGF0dW0iLCJ2Q29sbGVjdE1ldGhvZCIsInZjIiwidmNvbGxlY3RfbWV0aG9kIiwiYWRkZWRJZGVudGlmaWVyc0NvcHkiLCJETVNkZE1vZGFsIiwiY3JlYXRlX2xhdERNUyIsImNyZWF0ZV9sYWRETVNhcnJheSIsImNyZWF0ZV9sb25nRE1TIiwiY3JlYXRlX2xvbmdETVNhcnJheSIsImZyb21XaGVyZSIsIk9QRm9ybSIsInRoaXNPbmUiLCJjaSIsImV4aXN0SW5kZXgiLCJkZUluZGV4IiwicmkiLCJkZWxldGVPUCIsImdldERhdHVtTG9jYXRpb25PUE1lYXN1cmVzIiwib2JqZWN0aXZlUG9pbnRJZCIsIm9wVG9SZW1vdmUiLCJ3YW5uYUVkaXRPUCIsImNhbmNlbE9QRWRpdCIsInRoaXNTaXRlT1BzIiwib3BDb3VudCIsIlNpdGVPYmplY3RpdmVQb2ludHMiLCJzaG93T1BNb2RhbCIsIk9QY2xpY2tlZCIsIm9wRmlsZVR5cGVzIiwib2Z0IiwiZ2V0T1BDb250cm9scyIsImlDbGlja2VkIiwicm9sZUxpc3QiLCJ0aGlzTWVtYmVyIiwiYU1lbWJlciIsIm1hdGNoaW5nVXNlcnMiLCJ1c2VybmFtZVRvb2x0aXAiLCJwYXNzIiwibmV3UCIsImNvbmZpcm1QIiwibmV3UGFzcyIsImxvZ2dlZEluVXNlciIsIk5hbWUiLCJJRCIsIlJvbGUiLCJyb2xlX2lkIiwicm9sZV9uYW1lIiwiY2hhbmdlUGFzcyIsImNoYW5nZU15UGFzc0J0biIsIkRvbnRDaGFuZ2VQYXNzIiwicGFzc3dvcmQiLCJidG9hIiwiY3JlYXRlZE1lbWJlciIsInJvIiwiQWdlbmN5IiwiZm9ybWF0dGVkTWVtYmVyIiwic2FsdCIsInVwZGF0ZWRNZW1iZXIiLCJhZGRIb3VycyIsImVuYyIsImNvbmNhdCIsImV4cGlyZURhdGUiLCJwdXQiLCJleHBpcmVzIiwidXNlcnNOQU1FIiwiRGVsZXRlTWVtYmVyIiwibWVtVG9SZW1vdmUiLCJkZWxldGVNZW1iZXIiLCIkc3RhdGVQYXJhbXMiLCJhbGxSb2xlcyIsImRlbE1lbSIsIlNhdmVPbkJsdXIiLCJDaGFuZ2VQYXNzd29yZCIsImNoYW5nZVBXIiwicm9sZU5hbWUiLCJhZGRNZW1iZXIiLCJubSIsInVzZXJQcm9maWxlSWQiLCJzaG93TWVtYmVyTW9kYWwiLCJtZW1iZXJDbGlja2VkIiwiZWFjaE0iLCJsZWFmbGV0Qm91bmRzSGVscGVycyIsInNwaW5uZXJTZXJ2aWNlIiwic2l0ZVBhcnRzIiwiaGlkZSIsImdvVG9TaXRlRGFzaGJvYXJkIiwiYWxsU2Vuc0RlcHMiLCJQcm9wb3NlZFNlbnNvcnM0U2l0ZSIsImdldFByb3Bvc2VkU2Vuc29ycyIsInNSZXNwb25zZSIsImNhbmNlbFByb3Bvc2luZyIsInNpdGVQZWFrcyIsImFsbFNpdGVQZWFrcyIsInNob3dQZWFrcyIsIkVWRU5UIiwiTWFwX0ZpbHRlciIsInN1cnZleU9wdGlvbnMiLCJldmVudFNpdGVzT25seSIsInNob3ciLCJzZXRGaWx0ZXJlZFNpdGVzIiwic3AiLCJzaXRlc1Byb21pc2UiLCJnZXRFdmVudFNpdGVzIiwiTWFwX1NpdGUiLCJmaWx0ZXJlZFNpdGVzQXJyYXkiLCJzZWxlY3RlZE1hcmtlck51bSIsInNob3dFdmVudFNpdGVzIiwic3RuR3JheSIsIm5ld1NpdGUiLCJud2lzIiwiTCIsImRpdkljb24iLCJhY3Rpb24iLCJpY29uVXJsIiwicG9wdXBBbmNob3IiLCJsb3dfdGhyZXNob2xkIiwibWFqb3IiLCJtaW5vciIsIm1vZGVyYXRlIiwibm9fZmxvb2RpbmciLCJub3RfZGVmaW5lZCIsIm9ic19ub3RfY3VycmVudCIsIm91dF9vZl9zZXJ2aWNlIiwic2l0ZXNBcnJheSIsInNpdGVzIiwiZ2V0RGlyZWN0aXZlQ29udHJvbHMiLCJjb250cm9scyIsInNpdGVJRCIsInNldE1hcFNpdGVQYXJ0cyIsIm1vZGVsTmFtZSIsIm5vSGlkZSIsImNyZWF0ZVNpdGVNb2RlQWN0aXZlIiwicmVtb3ZlVXNlckNyZWF0ZWRTaXRlIiwibGVhZkV2ZW50IiwibGVhZmxldEV2ZW50IiwidXNlckNyZWF0ZWRTaXRlIiwibGF0aXR1ZGUiLCJsYXRsbmciLCJsb25naXR1ZGUiLCJjcmVhdGVkU2l0ZUluZGV4Iiwib2JqIiwiY3JlYXRlU2l0ZUJ1dHRvblRleHQiLCJtYXBTdHlsZSIsImNyZWF0ZVNpdGVGcm9tTWFwIiwiZ2V0TWFwIiwiZ2VvU2VhcmNoQ29udHJvbCIsIkNvbnRyb2wiLCJHZW9TZWFyY2giLCJwcm92aWRlciIsIlByb3ZpZGVyIiwiRXNyaSIsInpvb21MZXZlbCIsImFkZFRvIiwibWFya2Vyc1dhdGNoT3B0aW9ucyIsImRvV2F0Y2giLCJpc0RlZXAiLCJpbmRpdmlkdWFsIiwiZ3JheSIsInN0cmVldHMiLCJuYXRpb25hbCIsIm9jZWFucyIsImRhcmtncmF5IiwiaW1hZ2VyeSIsInNoYWRlZHJlbGllZiIsInRlcnJhaW4iLCJzdG5TaXRlc0FsbCIsImxheWVyUGFyYW1zIiwic2hvd09uU2VsZWN0b3IiLCJhaHBzIiwibGF5ZXJPcHRpb25zIiwib3BhY2l0eSIsInBvaW50VG9MYXllciIsImdlb2pzb24iLCJwcm9wZXJ0aWVzIiwib25FYWNoRmVhdHVyZSIsImZlYXR1cmUiLCJncmFwaFVSTCIsImdhdWdlbGlkIiwidG9Mb3dlckNhc2UiLCJiaW5kUG9wdXAiLCJyYWRhciIsIndhdGNoV2FybiIsIkxvZ0luT3V0Q29udHJvbGxlciIsIiRkb2N1bWVudCIsIkVOVklST05NRU5UIiwiTG9naW4iLCJuZXdzVGl0bGUiLCJuZXdzRmVlZCIsImdldE5ld3NGZWVkIiwicGFyYWdyYXBoVGFncyIsImJvZHkiLCJzdG9yYWdlIiwia2V5cHJlc3MiLCIkcGFzc3dvcmQiLCJ0b29sdGlwVmlzaWJsZSIsImlzIiwiU3RyaW5nIiwiZnJvbUNoYXJDb2RlIiwidG9VcHBlckNhc2UiLCJzaGlmdEtleSIsInRvb2x0aXAiLCJibHVyIiwiZG9jdW1lbnRNb2RlIiwiZW52aXJvbm1lbnQiLCJ1cCIsImxvZ2luIiwidXNlciIsImlzQXV0aCIsInVzZXJzTmFtZSIsInVzZXJJRCIsInJldHVyblRvU3RhdGUiLCJyZXR1cm5Ub1N0YXRlUGFyYW1zIiwibG9nb3V0IiwicmVtb3ZlIiwiYXBwcm92YWxTZWFyY2giLCJxaHdtRm9ybSIsIk1FTUJFUl9JRCIsIkRBVEVfRVNUQUJMSVNIRUQiLCJIV01fRU5WSVJPTk1FTlQiLCJCQU5LIiwiRkxBR19EQVRFIiwiU1RJTExXQVRFUiIsIk9CSkVDVElWRV9QT0lOVF9JRCIsIklERU5USUZJRVIiLCJJREVOVElGSUVSX1RZUEUiLCJMQVRJVFVERV9ERCIsIkxPTkdJVFVERV9ERCIsIkFERFJFU1MiLCJDSVRZIiwiWklQIiwiZ2VvY29kZXIiLCJnb29nbGUiLCJtYXBzIiwiR2VvY29kZXIiLCJMYXRMbmciLCJnZW9jb2RlIiwibGF0TG5nIiwicmVzdWx0cyIsIkdlb2NvZGVyU3RhdHVzIiwiT0siLCJhZGRyZXNzX2NvbXBvbmVudHMiLCJjb21wb25lbnRzIiwiayIsInYxIiwidHlwZXMiLCJrMiIsInYyIiwibG9uZ19uYW1lIiwic3RyZWV0X251bWJlciIsInJvdXRlIiwibG9jYWxpdHkiLCJTVEFURV9OQU1FIiwiYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8xIiwiU1RBVEVfQUJCUkVWIiwiU1RBVEVfSUQiLCJDT1VOVFkiLCJhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzIiLCJwb3N0YWxfY29kZSIsIlVOUVVBTlRJRklFRCIsIlVOQ0VSVEFJTlRZIiwiREVTQ1JJUFRJT04iLCJFTEVWX0ZUIiwiT1BfSVNfREVTVFJPWUVEIiwiT1BfTk9URVMiLCJTSVRFX0lEIiwiVkRBVFVNX0lEIiwiSERBVFVNX0lEIiwiSENPTExFQ1RfTUVUSE9EX0lEIiwiVkNPTExFQ1RfTUVUSE9EX0lEIiwiT1BfVFlQRV9JRCIsIkRBVEVfUkVDT1ZFUkVEIiwiT1BfUVVBTElUWV9JRCIsInF1aWNrSFdNIiwiV0FURVJCT0RZIiwiRkxBR19URUFNX0lEIiwiRVZFTlRfSUQiLCJjcmVhdGVPUENvbnRyb2xJRCIsIlNVUlZFWV9EQVRFIiwiU1VSVkVZX1RFQU1fSUQiLCJTSVRFX0RFU0NSSVBUSU9OIiwiSFdNX1RZUEVfSUQiLCJIV01fUVVBTElUWV9JRCIsInRoaXNIV00iLCJod21BcHByb3ZhbCIsImh3bVNpdGUiLCJIV012YWwiLCJoT3BlbiIsImhGaWxlT3BlbiIsIkhEYXR1bXNMaXN0IiwiaENvbGxNTGlzdCIsInZDb2xsTUxpc3QiLCJIV01GaWxlcyIsImh3bUltYWdlRmlsZXMiLCJGbGFnTWVtYmVyIiwiU3VydmV5TWVtYmVyIiwidGhpc0hXTXNpdGUiLCJjcmVhdGVPUmVkaXRIV00iLCJod21Db3B5IiwibGF0RGlzIiwiYWJzIiwibG9EaXMiLCJsYXREaXN0YW5jZSIsImxvbmdEaXN0YW5jZSIsImh3bV90eXBlIiwiVHJhbnF1aWwiLCJNYXJrZXIiLCJtYXJrZXIxIiwiUXVhbGl0eSIsImhxIiwiaHdtX3F1YWxpdHkiLCJnZXRIV01BcHByb3ZhbCIsImh3bU1vZGFsSGVhZGVyIiwiY3JlYXRlZEhXTSIsImFwcHJvdmVIV00iLCJ1bkFwcHJvdmVIV00iLCJmb3JtYXRIV00iLCJmb3JtYXR0ZWRIV00iLCJjbGVhbkhXTSIsImRlbGV0ZUhXTSIsImh3bVRvUmVtb3ZlIiwid2FubmFFZGl0SFdNIiwiY2FuY2VsSFdNRWRpdCIsInRoaXNTaXRlSFdNcyIsIkhXTV9TZXJ2aWNlIiwiaHdtQ291bnQiLCJTaXRlSFdNcyIsInNldEFsbFNpdGVIV01zIiwic2hvd0hXTU1vZGFsIiwiSFdNY2xpY2tlZCIsImh3bUZpbGVUeXBlcyIsImhmdCIsIkhEYXR1bXMiLCJIQ29sbGVjdE1ldGhzIiwiT1BUeXBlcyIsIlZEYXR1bXMiLCJIVHlwZXMiLCJIV01RdWFscyIsImR5bmFtaWMiLCJtYXgiLCJob3RJbnN0YW5jZSIsImNvbHVtbldpZHRocyIsIkNoYW5nZXMiLCJpbnZhbGlkcyIsImhEYXR1bUxpc3QiLCJoRGF0dW1BcnJheSIsImhDb2xsZWN0TGlzdCIsImhjb2xsZWN0QXJyYXkiLCJzdGF0ZUFycmF5IiwiY291bnR5TGlzdCIsImNvdW50eUFycmF5Iiwib3BUeXBlQXJyYXkiLCJ2RGF0dW1MaXN0IiwidkRhdHVtQXJyYXkiLCJod21UeXBlQXJyYXkiLCJod21FbnZpckxpc3QiLCJod21RdWFsaXR5TGlzdCIsImh3bVF1YWxpdHlBcnJheSIsImhpc3RvcmljSFdNcyIsImNvdW50eV9uYW1lIiwiZ2V0U3RhdGVDbyIsInJvd1ZhbHVlcyIsImdldERhdGFBdFJvdyIsInNldERhdGFBdENlbGwiLCJzZXRDZWxsTWV0YSIsIlVwZGF0ZUNvdW50aWVzIiwidGhlQ2hhbmdlIiwicmVxdWlyZWRNb2RhbCIsImxhdFZhbGlkYXRvciIsImNhbGxiYWNrIiwibG9uZ1ZhbGlkYXRvciIsImNvbG9yUmVuZGVyZXIiLCJpbnN0YW5jZSIsInRkIiwicm93IiwiY29sIiwicHJvcCIsImNlbGxQcm9wZXJ0aWVzIiwiJGJ1dHRvbiIsImh0bWwiLCJlbXB0eSIsInJlcXVpcmVkVmFsaWRhdG9yIiwicmVzZXQiLCJyZXNldE1vZGFsIiwidGFibGVTZXR0aW5ncyIsImNvbEhlYWRlcnMiLCJyb3dIZWFkZXJzIiwiY29udGV4dE1lbnUiLCJtaW5TcGFyZVJvd3MiLCJhZnRlckluaXQiLCJtYW51YWxDb2x1bW5SZXNpemUiLCJtYW51YWxSb3dSZXNpemUiLCJ3b3JkV3JhcCIsInZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyIiwiY29sV2lkdGhzIiwiY2VsbHMiLCJjZWxscHJvcHMiLCJyZW5kZXJlciIsIm9uQmVmb3JlQ2hhbmdlIiwib25BZnRlckNoYW5nZSIsImNoYW5nZSIsInNvdXJjZSIsImFmdGVyT25DZWxsTW91c2VEb3duIiwiY29vcmRzIiwib25BZnRlclZhbGlkYXRlIiwiaXNWYWxpZCIsInNvdWNlIiwidkluZGV4IiwidkkiLCJyb3dIZWlnaHRzIiwiaG9yaXpEYXR1bUxpc3QiLCJob3JDb2xsTWV0aExpc3QiLCJ2ZXJ0Q29sbE1ldGhMaXN0IiwiZmlsZVR5cGVzTGlzdCIsImFnZW5jaWVzTGlzdCIsInNob3dUaXBzIiwiaHdtVHlwZXMiLCJod21RdWFscyIsImhvckRhdHVtcyIsImhvckNvbGxNZXRocyIsInZlcnREYXR1bXMiLCJ2ZXJ0Q29sbE1ldGhzIiwiY291bnRpZXMiLCJzaG93UHJvZ3Jlc3NCYXIiLCJzaXRlTm9BcnJvd0NsaWNrZWQiLCJ1cGxvYWRIV01zIiwicG9zdGVkSFdNcyIsIm5vdFZhbGlkIiwiZW52aXJBcnJheSIsIm1hcmtlckFycmF5IiwicXVhbEFycmF5IiwiYmFua0FycmF5IiwiaGRhdHVtQXJyYXkiLCJoY29sbE1ldGhBcnJheSIsInZkYXR1bUFycmF5IiwidmNvbGxNZXRoQXJyYXkiLCJ0cmFucUFycmF5IiwiY2hvc2VuRXZlbnQiLCJjaG9zZW5FdmVudE5hbWUiLCJkZWxJbmRleCIsInNpdGVQZWFrYXJyYXkiLCJhZGRBcHByb3ZhbEZpbGUiLCJhcHByb3ZlZEZJTEVtb2RhbCIsImFwcHJvdmFsX3R5cGUiLCJ1cGRhdGVGaWxlVHlwZSIsImFkZEZpbGUiLCJjcmVhdGVkRmlsZSIsImFwcHJvdmFsRmlsZSIsImFwcHJvdmFsU291cmNlIiwiZ2V0RmluZFNpdGVNb2RhbCIsImh3bVBhcnRzIiwiZGF0YUF0Um93IiwiZGVzZWxlY3RDZWxsIiwic2l0ZU1vZGFsIiwibmVhckJ5U2l0ZXMiLCJIV01wYXJ0cyIsInNpdGVOb0FscmVhZHlUaGVyZSIsImhkYXR1bXMiLCJoY29sTWV0aHMiLCJ2ZGF0dW1zIiwidmNvbE1ldGhzIiwib3RoZXJEYXRhSW5Sb3ciLCJnZXRDb2xIZWFkZXIiLCJudW1lcmljVmFsaWRhdG9yIiwiaHdtUXVhbFZhbHVlIiwiZ2V0RGF0YUF0Q2VsbCIsImFwcHJvcHJpYXRlSFdNUXVhbCIsIm1hdGNoaW5nRERWYWx1ZSIsImhhc0Vycm9yIiwiaHdUIiwiaHdNIiwiaHdFIiwiaHdRIiwiaHdCIiwiaEQiLCJoQyIsInVuY2VydFZhbHVlIiwiYXBwcm9wcmlhdGVxdWFsIiwicmVtb3ZlVGhpc1VwbG9hZEhXTSIsInN1Y2Nlc3NmdWxIV00iLCJzcGxpY2VJbmRleCIsImhjbU5hbWUiLCJoZE5hbWUiLCJod21RTmFtZSIsImh3bVROYW1lIiwibWFyayIsInZjbU5hbWUiLCJ2ZE5hbWUiLCJoYWciLCJlbEZ0IiwidW5jIiwiaHdtVW5jIiwiaHdtSSIsInVwbG9hZF9od21VbmMiLCJ1cGxvYWRfbWFyayIsInVwbG9hZF91bmMiLCJ1cGxvYWRfaGFnIiwidXBsb2FkX2VsRnQiLCJ1cGxvYWRfdmNvbGxNZXRoIiwidXBsb2FkX3ZkYXQiLCJ2YWxpZGF0ZVRhYmxlIiwiaGF2ZURhdGEiLCJ2YWxpZGF0ZUNlbGxzIiwicGFzdGVkSFdNcyIsImdldFNpdGVQZWFrcyIsInBlYWtSZXNwb25zZSIsImh3bVJlc3BvbnNlIiwic2l0ZVBlYWtJZCIsIlBlYWtTdW1tYXJ5Iiwic291cmNlUmVzcG9uc2UiLCJzb3VyY2VFcnJvciIsImFwcHJvdmVFcnJvciIsImh3bVNhdmVFcnJvciIsImdldFNpdGVQZWFrRXJyb3IiLCJnZXRId21TaXRlRXJyb3IiLCJjbGVhclRhYmxlIiwiZ29Ub1NpdGVEYXNoIiwid2FybmluZ01vZGFsIiwiRGVsZXRlSFdNIiwiT3BlbkhXTUVkaXQiLCJod21FZGl0SW5zdGFuY2UiLCJzaXRlSE1XcyIsImdldEV2ZW50U2l0ZUhXTXMiLCJod21VcGRhdGVkQU5ERmlsZUNudCIsIk9wZW5QZWFrRWRpdCIsInBlYWtJZCIsInBlYWtFZGl0SW5zdGFuY2UiLCJnZXRTaXRlRmlsZXMiLCJ1cGRhdGVkIiwiT3BlblBlYWtDcmVhdGUiLCJwZWFrQ3JlYXRlSW5zdGFuY2UiLCJjcmVhdGVkUGsiLCJwSFdNIiwibWF4Um93cyIsImNvbHVtblNvcnRpbmciLCJwcmV2ZW50T3ZlcmZsb3ciLCJyZWFsVGFyZ2V0IiwicGFzc0hXTXZhbHMiLCJvbkFmdGVyUmVtb3ZlUm93IiwiZ2V0U2VsZWN0ZWQiLCJlYWNoUm93SW5kZXhBcnJheSIsImNudCIsIk1pIiwibG9jYWxTaXRlcyIsInNob3dTaXRlQ3JlYXRlQXJlYSIsImRpc2FibGVPSyIsImNyZWF0ZUNoZWNrZWQiLCJzaG93SGlkZU1hcCIsInNob3dIaWRlQ3JlYXRlU2l0ZURpdiIsInVuY2hrQ3JlYXRlIiwiY2hlY2tlZFNpdGUiLCJzZWxlY3RlZFN0biIsInNob3dTaXRlc09uTWFwIiwiZml0TWFwQm91bmRzIiwic2l0ZV9uYW1lIiwiYm91bmRzIiwiZml0Qm91bmRzIiwicGFkZGluZyIsInN0bkhXTSIsInNlbGVjdGVkTWFya2VyIiwiY3JlYXRlTmV3U2l0ZSIsInNlbGVjdGVkU2l0ZSIsImVuc3VyZWh3bUxhYmVsVW5pcXVlIiwidW5pcXVlTW9kYWwiLCJxdWVyeVNlYXJjaCIsIkhXTV9wYXJhbXMiLCJzZWFyY2hDbGlja2VkIiwiYWRqdXN0SFdNcyIsImV2ZW50U3RhdGVIV01zIiwiZ2V0SFdNcyIsImNvdW50eU5hbWVzIiwiY291bnRpZXNDb21tYVNlcCIsInNldEJ1bGtIV01TZWFyY2giLCJDb3VudHkiLCJpc1Jlc3BvbnNlIiwib25lIiwiZ2V0QnVsa0hXTVNlYXJjaCIsInRoZVNlYXJjaCIsImNBIiwiSGFuZHNvbnRhYmxlIiwicmVuZGVyZXJzIiwiVGV4dFJlbmRlcmVyIiwiYXJndW1lbnRzIiwiYmFja2dyb3VuZCIsInNpdGVOb1JlbmRlcmVyIiwiaW5uZXJIVE1MIiwibnVtYmVyVmFsaWRhdG9yIiwiZ2V0RXZlbnRTdGF0ZUhXTXMiLCJ1cGRhdGVUaGVzZUhXTXMiLCJldkgiLCJ0aGV5SGF2ZUl0SGVyZSIsInN1cnZ5ZV9kYXRlIiwidSIsInNpdGVfbnVtYmVyIiwiZmlsbEhhbmRsZSIsImF1dG9JbnNlcnRSb3ciLCJoZWxwSW5mbyIsImZhY3QiLCJ0aGlzRmlsZSIsImZpbGVFeGlzdHMiLCJmaWxlU291cmNlIiwiZmlsZVNpdGUiLCJGSUxFdmFsIiwidGhlU2l0ZSIsImNyZWF0ZU9SZWRpdEZpbGUiLCJmaWxlQ29weSIsInNvdXJjZUNvcHkiLCJ3aG9zZUZpbGUiLCJhZ2VuY3lOYW1lIiwiYVByb2Nlc3NvciIsImNoYW5nZWRGaWxlVHlwZSIsImRmQ29weSIsIndoYXRraW5kIiwid2FubmFFZGl0RklMRSIsImNhbmNlbEZJTEVFZGl0IiwidGhpc1NpdGVGaWxlcyIsInNpdGVTZW5zb3JzIiwid2hhdEtpbmRhRmlsZSIsInRoaXNJbnMiLCJ0eXBlTmFtZSIsInNlcmlhbF9udW1iZXIiLCJTaXRlRmlsZXMiLCJleHRJIiwiZXh0U3RyaW5nIiwic2l0ZWZpbGVzIiwiZ2V0QWxsU2l0ZUhXTXMiLCJnZXRBbGxTaXRlU2Vuc29ycyIsImh3bUZpbGVzIiwic2ZpbGVzIiwic2Vuc0ZpbGVzIiwic2ZpIiwiRWhmIiwiRWh3bSIsIkVzZiIsIkVpbnN0Iiwic2hvd0ZpbGVNb2RhbCIsIkZpbGVDbGlja2VkIiwiU2luZGV4Q2xpY2tlZCIsInNpdGVGaWxlVHlwZXMiLCJzZW5zb3JGaWxlVHlwZXMiLCJFdmVudExpc3QiLCJFdmVudFR5cGVMaXN0IiwiY2hvc2VuRXYiLCJFdmVudENob3NlbiIsImZpbHRlckV2ZW50cyIsIkRBVEUiLCJnZXRGaWx0ZXJlZEV2ZW50cyIsIlR5cGUiLCJzZXRFdmVudCIsImV2ZW50TmFtZSIsImNsZWFyRXZlbnQiLCJvcGVuRXZlbnRNb2RhbCIsImV2ZW50U3RhdHVzTGlzdCIsImFkbWluTGlzdCIsImV2ZW50U2l0ZXMiLCJkb3dubG9hZFppcFVybCIsIm9iamVjdENob2ljZXMiLCJhbkV2ZW50IiwiZXZlbnRTdGF0dXNlcyIsImFkbWluTWVtYmVycyIsIkVWdmFsIiwid2FubmFFZGl0RVYiLCJldkNvcHkiLCJjYW5jZWxFVkVkaXQiLCJjcmVhdGVPUmVkaXRFViIsImV2TW9kYWxIZWFkZXIiLCJldmVudF9zdGFydF9kYXRlIiwiZXZlbnRfZW5kX2RhdGUiLCJjb21wYXJlRGF0ZXMiLCJjcmVhdGVkRXZlbnQiLCJTdGF0dXMiLCJjb29yZCIsIlN0YXJ0RGF0ZSIsIkVuZERhdGUiLCJDb29yZCIsInVwZGF0ZWRFdmVudCIsImRlbGV0ZUVWIiwiZXYiLCJldmVudFRvUmVtb3ZlIiwiemlwRmlsZVBhcmFtcyIsImZpbGVzRm9yIiwic3RhdGVOYW1lIiwiZnJvbURhdGUiLCJ0b0RhdGUiLCJzaXRlQ291bnR5TGlzdCIsImV2ZW50U3RhdGVzIiwic2NsIiwiSFdNZmlsZVR5cGVzIiwic2Vuc29yZmlsZVR5cGVzIiwidXBkYXRlZmlsZVR5cGVDaGVja3MiLCJod21GaWxlVHlwZXNXYW50ZWQiLCJod21GaWxlVHlwZXNTdHJpbmciLCJzZW5zb3JGaWxlVHlwZXNTdHJpbmciLCJod21GVCIsInNlbkZUIiwiZmlsZVR5cGVDaGVja0xpc3QiLCJmaWxlc1dhbnRlZENob3NlbiIsImNoZWNrZWRGaWxlIiwic2Vuc29yRmlsZVR5cGVzV2FudGVkIiwiRG93bmxvYWRaaXAiLCJmb3JtYXR0ZWRGcm9tRGF0ZSIsImZvcm1hdHRlZFRvRGF0ZSIsImZpbGVwYXRoIiwieGhyIiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInVzZ3NXaU1tZXNzYWdlIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJibG9iIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwidXJsQ3JlYXRvciIsIndlYmtpdFVSTCIsIm1velVSTCIsIm1zVVJMIiwiYXBwZW5kQ2hpbGQiLCJzZW5kIiwiRGVsZXRlRXZlbnQiLCJkZWxFdiIsImV2ZW50Q29vcmRMaXN0IiwidGhpc0V2ZW50VHlwZSIsInRoaXNFdmVudFN0YXR1cyIsIkVDIiwidGhpc0V2ZW50Q29vcmQiLCJFIiwiQ09VTlRJRVMiLCJhbGxDb29yZE1lbWJlcnMiLCJpc0FkbWluIiwiVGluZGV4Iiwic2hvd0V2ZW50TW9kYWwiLCJldmVudENsaWNrZWQiLCJpbnN0cnVtZW50TGlzdCIsImFsbEluc3RydW1lbnRzIiwiQ2hvc2VuRXZlbnQiLCJDaG9zZW5TdGF0ZSIsIkNob3NlbkNvdW50aWVzIiwidW5BcHByb3ZlZEhXTXMiLCJzaG93SFdNYm94IiwidW5BcHByb3ZlZERGcyIsInNob3dERmJveCIsInNpdGVzV09wZWFrcyIsInNob3dQZWFrYm94Iiwic2VhcmNoIiwiY2hvc2VuQ291bnRpZXMiLCJzdGF0ZUlEIiwiZ2V0VW5hcHByb3ZlZEhXTXMiLCJJc0FwcHJvdmVkIiwic3Jlc3BvbnNlIiwiZ2V0VW5hcHByb3ZlZERGcyIsIkRGcyIsInRoaXNkZkluc3QiLCJmb3JtYXR0ZWRERiIsIlNpdGVJZCIsInNlblR5cGUiLCJkZXBUeXBlIiwiSW5zdHJJRCIsIlNpdGVObyIsImdldFBlYWtsZXNzU2l0ZXMiLCJyZXNwMiIsImNhSSIsImNJIiwiY291bnR5X2lkIiwiYXBwcm92ZUNoZWNrIiwiaEFycmF5Iiwic29tZSIsImFwcHJvdmVUaGVzZSIsIlNUTlJlc291cmNlIiwicm9vdFVSTCIsImZhY3RvcnkiLCIkcmVzb3VyY2UiLCJwYXJhbXMiLCJpc0FycmF5IiwiY2FjaGUiLCJkZWxldGUiLCJDb250ZW50LVR5cGUiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiaWRlbnRpdHkiLCJzdG9ybVNjcmlwdCIsImdldERlcFNlbnNUeXBlIiwiZ2V0VEVTVGRhdGEiLCJkb3dubG9hZFppcCIsImdldFRpbWUiLCIkYnJvYWRjYXN0IiwiYnVsa1NlYXJjaCIsInNoIiwic2VhcmNoVGVybXMiLCJnZXRTZW5zb3JWaWV3IiwiZ2V0c3RhdHVzSW5zdHJ1bWVudHMiLCJnZXRJbnN0cnVtZW50U3RhdHVzIiwiTWFwU2l0ZVBhcnRzIiwiZ2V0TWFwU2l0ZVBhcnRzIiwicFJlc3BvbnNlIiwiZmlsdGVyZWRTaXRlcyIsImdldFJvbGVNZW1iZXJzIiwiZ2V0RXZlbnRQZW9wbGUiLCJnZXRPUEZpbGVzIiwiZ2V0UmVwb3J0QnlFdlN0IiwiZ2V0TWVtYmVyUmVwb3J0cyIsIlJlcG9ydElkIiwiQ29udGFjdFR5cGVJZCIsInNlbnNvclNjcmlwdFJ1bm5pbmciLCJ0cmFuc2Zvcm1SZXNwb25zZSIsImZyb21Kc29uIiwiZ2V0U2l0ZU5ldHdvcmtUeXBlcyIsIk5ldHdvcmtUeXBlSWQiLCJnZXRTaXRlTmV0d29ya05hbWVzIiwiTmV0d29ya05hbWVJZCIsImdldFNpdGVIb3VzaW5ncyIsImdldFNpdGVIV01zIiwiaXNSdW5uaW5nIiwicnVubmluZyIsIlNUTkJ1c2luZXNzU2VydmljZXMiLCJ1biIsInB3IiwidXNlck5hbWUiLCJ0b2tlbiIsIlNUTkNyZWRzIiwiU1ROVXNlcm5hbWUiLCJtSUQiLCJ1c2Vyc1JvbGUiLCJldklkIiwiZXZOYW1lIiwiU2Vzc2lvbkV2ZW50SUQiLCJTZXNzaW9uRXZlbnROYW1lIiwidElkIiwidE5hbWUiLCJTZXNzaW9uVGVhSUQiLCJTZXNzaW9uVGVhbU5hbWUiLCJsb2dnZWRJbiIsImlzTG9nZ2VkSW4iLCJjaGFuZ2VMb2dnZWRJbiIsIlllc09yTm8iLCJyZXR1cm5WYWwiLCJ1c2VzTmFtZSIsIm5hbWVUb1JtdiIsIklucHV0bWFzayIsImFsaWFzIiwib3B0cyIsIm5vTWFza3NDYWNoZSIsImRlZmluaXRpb25zIiwidXNlck9wdGlvbnMiLCJyZXNvbHZlQWxpYXMiLCJpc0lucHV0RXZlbnRTdXBwb3J0ZWQiLCJpc1N1cHBvcnRlZCIsInNldEF0dHJpYnV0ZSIsImlzSW5wdXRUeXBlU3VwcG9ydGVkIiwiaW5wdXRUeXBlIiwiYWxpYXNTdHIiLCJhbGlhc0RlZmluaXRpb24iLCJhbGlhc2VzIiwibWFzayIsImltcG9ydEF0dHJpYnV0ZU9wdGlvbnMiLCJucHQiLCJpbXBvcnRPcHRpb24iLCJvcHRpb24iLCJvcHRpb25EYXRhIiwiZ2V0QXR0cmlidXRlIiwiZGF0YW9wdGlvbnMiLCJhdHRyT3B0aW9ucyIsIlJlZ0V4cCIsInBhcnNlIiwiZ2VuZXJhdGVNYXNrU2V0Iiwibm9jYWNoZSIsImFuYWx5c2VNYXNrIiwiTWFza1Rva2VuIiwiaXNHcm91cCIsImlzT3B0aW9uYWwiLCJpc1F1YW50aWZpZXIiLCJpc0FsdGVybmF0b3IiLCJtYXRjaGVzIiwicXVhbnRpZmllciIsImluc2VydFRlc3REZWZpbml0aW9uIiwibXRva2VuIiwibWFza2RlZiIsInByZXZNYXRjaCIsImVzY2FwZWQiLCJpc0Z1bmN0aW9uIiwicHJldmFsaWRhdG9ycyIsInByZXZhbGlkYXRvciIsInByZXZhbGlkYXRvcnNMIiwiY2FyZGluYWxpdHkiLCJ2YWxpZGF0b3IiLCJmbiIsIm9wdGlvbmFsaXR5IiwibmV3QmxvY2tNYXJrZXIiLCJkZWYiLCJkZWZpbml0aW9uU3ltYm9sIiwiY2FzaW5nIiwidmVyaWZ5R3JvdXBNYXJrZXIiLCJsYXN0TWF0Y2giLCJpc09wZW5Hcm91cCIsImdyb3VwbWFya2VyIiwic3RhcnQiLCJlbmQiLCJtYXNrQ3VycmVudFRva2VuIiwiY3VycmVudFRva2VuIiwiZXh0cmFDb25kaXRpb24iLCJkZWZhdWx0Q2FzZSIsIm9wZW5lbmluZ3MiLCJjdXJyZW50T3BlbmluZ1Rva2VuIiwiYWx0ZXJuYXRvciIsInBvcCIsIm1uZHgiLCJyZXZlcnNlVG9rZW5zIiwibWFza1Rva2VuIiwicmV2ZXJzZVN0YXRpYyIsIm9wdGlvbmFsbWFya2VyIiwiaW50TWF0Y2giLCJxdCIsIm9wZW5pbmdUb2tlbiIsImdyb3VwVG9rZW4iLCJ0b2tlbml6ZXIiLCJtYXNrVG9rZW5zIiwiZXhlYyIsImNoYXJBdCIsImVzY2FwZUNoYXIiLCJxdWFudGlmaWVybWFya2VyIiwibXEiLCJtcTAiLCJtcTEiLCJhbHRlcm5hdG9ybWFya2VyIiwibnVtZXJpY0lucHV0IiwiZ2VuZXJhdGVNYXNrIiwibWV0YWRhdGEiLCJncmVlZHkiLCJyZXBlYXQiLCJyZXBlYXRTdGFydCIsIm1hc2tzZXREZWZpbml0aW9uIiwibWFza3NDYWNoZSIsInZhbGlkUG9zaXRpb25zIiwiX2J1ZmZlciIsImJ1ZmZlciIsInRlc3RzIiwicHJlUHJvY2Vzc01hc2siLCJrZWVwU3RhdGljIiwiYWx0TWFzayIsIm5keCIsIm1zayIsIm1hc2tTY29wZSIsImFjdGlvbk9iaiIsIm1hc2tzZXQiLCJnZXRNYXNrVGVtcGxhdGUiLCJiYXNlT25JbnB1dCIsIm1pbmltYWxQb3MiLCJpbmNsdWRlSW5wdXQiLCJuZHhJbnRsenIiLCJ0ZXN0UG9zIiwibWFza1RlbXBsYXRlIiwicG9zIiwiZ2V0TWFza1NldCIsInZhbGlkUG9zIiwibG9jYXRvciIsImlucHV0IiwiZ2V0UGxhY2Vob2xkZXIiLCJnZXRUZXN0VGVtcGxhdGUiLCJtYXhMZW5ndGgiLCJyZXNldE1hc2tTZXQiLCJzb2Z0IiwiZ2V0TGFzdFZhbGlkUG9zaXRpb24iLCJjbG9zZXN0VG8iLCJzdHJpY3QiLCJsYXN0VmFsaWRQb3NpdGlvbiIsInZhbGlkcyIsImJlZm9yZSIsImFmdGVyIiwicG9zTmR4IiwicHNOZHgiLCJzZXRWYWxpZFBvc2l0aW9uIiwidmFsaWRUZXN0IiwiZnJvbVNldFZhbGlkIiwiaW5zZXJ0TW9kZSIsInBvc2l0aW9uc0Nsb25lIiwibHZwIiwiaiIsInZwcyIsInBvc01hdGNoIiwicHJldlBvc01hdGNoIiwiZ2V0TWFza0xlbmd0aCIsIm9wdGlvbmFsUXVhbnRpZmllciIsImdldFRlc3RzIiwiYWx0ZXJuYXRpb24iLCJzZWVrTmV4dCIsInBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uIiwic3RyaXBWYWxpZFBvc2l0aW9ucyIsIm5vY2hlY2siLCJzdGFydFBvcyIsImNhbkNsZWFyUG9zaXRpb24iLCJpc01hc2siLCJtbCIsInJhZGl4UG9pbnQiLCJ0c3RQcyIsInRlc3RQb3NpdGlvbnMiLCJsdlRlc3QiLCJsdlRlc3RBbHRBcnIiLCJjaGVja0FsdGVybmF0aW9uTWF0Y2giLCJnZXRUZXN0IiwidG5keCIsImNhY2hlYWJsZSIsInJlc29sdmVUZXN0RnJvbVRva2VuIiwibmR4SW5pdGlhbGl6ZXIiLCJsb29wTmR4IiwicXVhbnRpZmllclJlY3Vyc2UiLCJoYW5kbGVNYXRjaCIsImluQXJyYXkiLCJvcHRpb25hbFRva2VuIiwibGF0ZXN0TWF0Y2giLCJpc0ZpcnN0TWF0Y2giLCJpbnNlcnRTdG9wIiwibWFsdE1hdGNoZXMiLCJhbHRlcm5hdGVUb2tlbiIsIm1hbHRlcm5hdGVNYXRjaGVzIiwiY3VycmVudE1hdGNoZXMiLCJsb29wTmR4Q250IiwiYWx0SW5kZXgiLCJjdXJyZW50UG9zIiwibmR4SW5pdGlhbGl6ZXJDbG9uZSIsImFsdEluZGV4QXJyIiwiYW1uZHgiLCJudG5keCIsImxtbnQiLCJuZHgxIiwiYWx0TWF0Y2giLCJuZHgyIiwiYWx0TWF0Y2gyIiwiaXNGaW5pdGUiLCJtYW1hdGNoIiwiYWx0TG9jQXJyIiwiYWxuZHgiLCJxbmR4IiwidG9rZW5Hcm91cCIsInByZXZpb3VzUG9zIiwibXRuZHgiLCJnZXRCdWZmZXJUZW1wbGF0ZSIsImdldEJ1ZmZlciIsIm5vQ2FjaGUiLCJyZWZyZXNoRnJvbUJ1ZmZlciIsInNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIiLCJhbHRBcnIxIiwiYWx0QXJyMiIsImFsdEFyckMiLCJpc01hdGNoIiwiX2lzVmFsaWQiLCJyc2x0IiwidHN0IiwibG9vcGVuZCIsImNocnMiLCJnZXRCdWZmZXJFbGVtZW50IiwidmFsaWRhdGVkUG9zIiwicG9zc2libGVNb2RpZmllZEJ1ZmZlciIsImluc2VydCIsInJlZnJlc2giLCJhbHRlcm5hdGUiLCJsYXN0QWx0IiwiaXNWYWxpZFJzbHQiLCJhbHRQb3MiLCJ2YWxpZFBzQ2xvbmUiLCJsQWx0IiwiZGVjaXNpb25Qb3MiLCJhbHROZHhzIiwiZGVjaXNpb25UYWtlciIsInBvc3NpYmlsaXR5UG9zIiwicG9zc2liaWxpdGllcyIsInZhbGlkSW5wdXRzIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zIiwidGFyZ2V0THZwIiwic3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlIiwidHJhY2tiYWNrQWx0ZXJuYXRpb25zIiwib3JpZ2luYWxQb3MiLCJuZXdQb3MiLCJ2cCIsInRhcmdldExvY2F0b3IiLCJ0bGwiLCJiZXN0TWF0Y2giLCJlcXVhbGl0eSIsInBuZHgiLCJtYXNrUG9zIiwiY3VycmVudFBvc1ZhbGlkIiwiblBvcyIsInNuUG9zIiwiY2FyZXQiLCJpc0NvbXBsZXRlIiwicG9zdFZhbGlkYXRpb24iLCJwb3N0VmFsaWRSZXN1bHQiLCJzdGF0aWNBbHRlcm5hdGlvbnMiLCJtYXNrTGVuZ3RoIiwibGFzdFRlc3QiLCJuZXdCbG9jayIsIm1hc2tMIiwibm9qdW1wcyIsIm5vanVtcHNUaHJlc2hvbGQiLCJzZWVrUHJldmlvdXMiLCJ3cml0ZUJ1ZmZlciIsImNhcmV0UG9zIiwidHJpZ2dlcklucHV0RXZlbnQiLCJvbkJlZm9yZVdyaXRlIiwiX3ZhbHVlU2V0Iiwic2tpcElucHV0RXZlbnQiLCJwcmV2VGVzdCIsImhhc0FsdGVybmF0aW9ucyIsImNoZWNrVmFsIiwid3JpdGVPdXQiLCJucHR2bCIsImlzVGVtcGxhdGVNYXRjaCIsImNoYXJDb2RlTmR4IiwiaW5pdGlhbE5keCIsImNoYXJDb2RlcyIsImJ1ZmZlclRlbXBsYXRlQXJyIiwiYXV0b1VubWFzayIsInN0YXRpY0lucHV0IiwiZXNjYXBlUmVnZXgiLCJjaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJuZXh0VGVzdCIsImtleXByZXNzRXZlbnQiLCJhY3RpdmVFbGVtZW50IiwidW5tYXNrZWR2YWx1ZSIsInVtVmFsdWUiLCJ1bm1hc2tlZFZhbHVlIiwiaXNSVEwiLCJidWZmZXJWYWx1ZSIsIm9uVW5NYXNrIiwiYmVnaW4iLCJ0cmFuc2xhdGVQb3NpdGlvbiIsImJmZnJMZ2h0IiwicmFuZ2UiLCJzZXRTZWxlY3Rpb25SYW5nZSIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiZ2V0U2VsZWN0aW9uIiwiZ2V0UmFuZ2VBdCIsImNvbW1vbkFuY2VzdG9yQ29udGFpbmVyIiwicGFyZW50Tm9kZSIsInN0YXJ0T2Zmc2V0IiwiZW5kT2Zmc2V0Iiwic2VsZWN0aW9uIiwiY3JlYXRlUmFuZ2UiLCJkdXBsaWNhdGUiLCJtb3ZlU3RhcnQiLCJzY3JvbGxDYWxjIiwib3duZXJEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImN1cnJlbnRTdHlsZSIsImZvbnRTaXplIiwic2Nyb2xsTGVmdCIsInNjcm9sbFdpZHRoIiwiYW5kcm9pZGNocm9tZSIsImZpcnN0Q2hpbGQiLCJ0ZXh0Tm9kZSIsImNyZWF0ZVRleHROb2RlIiwic2V0U3RhcnQiLCJfdmFsdWVHZXQiLCJzZXRFbmQiLCJjb2xsYXBzZSIsInNlbCIsInJlbW92ZUFsbFJhbmdlcyIsImFkZFJhbmdlIiwiY3JlYXRlVGV4dFJhbmdlIiwibW92ZUVuZCIsImRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uIiwicmV0dXJuRGVmaW5pdGlvbiIsImJsIiwicG9zaXRpb25zIiwibHZUZXN0QWx0IiwiY2xlYXJPcHRpb25hbFRhaWwiLCJybCIsImxtaWIiLCJscnAiLCJhbWwiLCJpc1NlbGVjdGlvbiIsIndyYXBFdmVudFJ1bGVyIiwiZXZlbnRIYW5kbGVyIiwiaW5Db21wb3NpdGlvbiIsImtleWRvd25QcmVzc2VkIiwiaW1PcHRzIiwib2ZmIiwicmVhZE9ubHkiLCJjdHJsS2V5IiwidGFiVGhyb3VnaCIsIlRBQiIsInNraXBLZXlQcmVzc0V2ZW50IiwicGF0Y2hWYWx1ZVByb3BlcnR5IiwicGF0Y2hWYWxob29rIiwidmFsSG9va3MiLCJpbnB1dG1hc2twYXRjaCIsInZhbGhvb2tHZXQiLCJ2YWxob29rU2V0Iiwic2V0IiwiYnVmZmVyVGVtcGxhdGUiLCIkZWxlbSIsImdldHRlciIsInZhbHVlR2V0IiwiY2xlYXJNYXNrT25Mb3N0Rm9jdXMiLCJzZXR0ZXIiLCJ2YWx1ZVNldCIsImluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrIiwiJGlucHV0IiwiX192YWx1ZUdldCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInRleHRDb250ZW50IiwiZGVmaW5lUHJvcGVydHkiLCJfX2xvb2t1cEdldHRlcl9fIiwiX19sb29rdXBTZXR0ZXJfXyIsIl9fZGVmaW5lR2V0dGVyX18iLCJfX2RlZmluZVNldHRlcl9fIiwib3ZlcnJ1bGVSVEwiLCJfX3ZhbHVlU2V0IiwiaGFuZGxlUmVtb3ZlIiwiZ2VuZXJhbGl6ZSIsIkJBQ0tTUEFDRSIsIkRFTEVURSIsInBlbmQiLCJncm91cFNlcGFyYXRvciIsImtleWRvd25FdmVudCIsImlwaG9uZSIsInVuZG9WYWx1ZSIsInNob3dUb29sdGlwIiwiRU5EIiwiUEFHRV9ET1dOIiwiSE9NRSIsIlBBR0VfVVAiLCJ1bmRvT25Fc2NhcGUiLCJFU0NBUEUiLCJhbHRLZXkiLCJJTlNFUlQiLCJSSUdIVCIsIkxFRlQiLCJvbktleURvd24iLCJpZ25vcmFibGUiLCJpZ25vcmFibGVzIiwiY2hlY2t2YWwiLCJtZXRhS2V5IiwiRU5URVIiLCJmb3J3YXJkUG9zaXRpb24iLCJpc1NsY3RuIiwidW5kb1Bvc2l0aW9ucyIsIm11bHRpIiwid3JpdGVPdXRCdWZmZXIiLCJ2YWxSZXN1bHQiLCJzZWxmIiwib25LZXlWYWxpZGF0aW9uIiwicGFzdGVFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJ2YWx1ZUJlZm9yZUNhcmV0IiwidmFsdWVBZnRlckNhcmV0IiwiY2xpcGJvYXJkRGF0YSIsImdldERhdGEiLCJwYXN0ZVZhbHVlIiwib25CZWZvcmVQYXN0ZSIsImlucHV0RmFsbEJhY2tFdmVudCIsIm1vYmlsZUlucHV0RXZlbnQiLCJjb21wb3NpdGlvblN0YXJ0RXZlbnQiLCJjb21wb3NpdGlvbkRhdGEiLCJjb21wb3NpdGlvblVwZGF0ZUV2ZW50IiwibmV3RGF0YSIsImNvbXBvc2l0aW9uRW5kRXZlbnQiLCJzZXRWYWx1ZUV2ZW50Iiwib25CZWZvcmVNYXNrIiwiY2xlYXJJbmNvbXBsZXRlIiwiZm9jdXNFdmVudCIsIm5wdFZhbHVlIiwic2hvd01hc2tPbkZvY3VzIiwic2hvd01hc2tPbkhvdmVyIiwibW91c2VFbnRlciIsInBvc2l0aW9uQ2FyZXRPblRhYiIsIm1vdXNlbGVhdmVFdmVudCIsImNsaWNrRXZlbnQiLCJkb1JhZGl4Rm9jdXMiLCJjbGlja1BvcyIsInJhZGl4Rm9jdXMiLCJyYWRpeFBvcyIsInNlbGVjdGVkQ2FyZXQiLCJjbGlja1Bvc2l0aW9uIiwibHZjbGlja1Bvc2l0aW9uIiwibGFzdFBvc2l0aW9uIiwiZGJsY2xpY2tFdmVudCIsImN1dEV2ZW50IiwiY2xpcERhdGEiLCJzZXREYXRhIiwiZXhlY0NvbW1hbmQiLCJibHVyRXZlbnQiLCJtb3VzZWVudGVyRXZlbnQiLCIkZWwiLCJkaXIiLCJyaWdodEFsaWduIiwidGV4dEFsaWduIiwicmVtb3ZlQXR0cmlidXRlIiwidGFnTmFtZSIsImlzQ29udGVudEVkaXRhYmxlIiwiZm9ybSIsInJlbW92ZU1hc2tPblN1Ym1pdCIsIlBhc3RlRXZlbnRUeXBlIiwib25jb21wbGV0ZSIsIm9uaW5jb21wbGV0ZSIsIm9uY2xlYXJlZCIsImFuZHJvaWRmaXJlZm94IiwiYW5kcm9pZCIsImtpbmRsZSIsImluaXRpYWxWYWx1ZSIsInZhbHVlQnVmZmVyIiwidmFsdWVQcm9wZXJ0eSIsImZpcnN0QWx0Iiwibm9vcCIsInBhc3RlZFZhbHVlIiwic3VwcG9ydHNJbnB1dFR5cGUiLCI5IiwiKiIsImVsZW1zIiwidGhhdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJub2RlTmFtZSIsInNjb3BlZE9wdHMiLCJnZXRlbXB0eW1hc2siLCJoYXNNYXNrZWRWYWx1ZSIsImdldG1ldGFkYXRhIiwiZXh0ZW5kRGVmYXVsdHMiLCJleHRlbmREZWZpbml0aW9ucyIsImRlZmluaXRpb24iLCJleHRlbmRBbGlhc2VzIiwidW5tYXNrIiwic3RyIiwic3BlY2lhbHMiLCJBTFQiLCJDQVBTX0xPQ0siLCJDT01NQSIsIkNPTU1BTkQiLCJDT01NQU5EX0xFRlQiLCJDT01NQU5EX1JJR0hUIiwiQ09OVFJPTCIsIkRPV04iLCJNRU5VIiwiTlVNUEFEX0FERCIsIk5VTVBBRF9ERUNJTUFMIiwiTlVNUEFEX0RJVklERSIsIk5VTVBBRF9FTlRFUiIsIk5VTVBBRF9NVUxUSVBMWSIsIk5VTVBBRF9TVUJUUkFDVCIsIlBFUklPRCIsIlNISUZUIiwiU1BBQ0UiLCJVUCIsIldJTkRPV1MiLCJ1YSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImpRdWVyeSIsIm5wdG1hc2siLCJqcXVlcnkiLCJ0cmlnZ2VySGFuZGxlciIsImRkL21tL3l5eXkiLCJ2YWwxcHJlIiwidmFsMSIsInZhbDJwcmUiLCJzZXBhcmF0b3IiLCJlc2NhcGVkU2VwYXJhdG9yIiwidmFsMiIsImxlYXBkYXkiLCJ5ZWFycmFuZ2UiLCJtaW55ZWFyIiwibWF4eWVhciIsImlzSW5ZZWFyUmFuZ2UiLCJlbnRlcmVkeWVhciIsImVudGVyZWR5ZWFyMiIsImRldGVybWluZWJhc2V5ZWFyIiwiaGludCIsImN1cnJlbnR5ZWFyIiwibWF4WWVhclByZWZpeCIsIm1heFllYXJQb3N0Zml4IiwibWF4eFllYXIiLCJnZXRGcm9udFZhbHVlIiwiMSIsInBjaHJzIiwiMiIsImZyb250VmFsdWUiLCJkYXlNb250aFZhbHVlIiwieWVhclByZWZpeCIsIm1tL2RkL3l5eXkiLCJ5eXl5L21tL2RkIiwiZGQubW0ueXl5eSIsImRkLW1tLXl5eXkiLCJtbS5kZC55eXl5IiwibW0tZGQteXl5eSIsInl5eXkubW0uZGQiLCJ5eXl5LW1tLWRkIiwiaHJzcHJlIiwiaHJzMjQiLCJocnMiLCJhbXBtIiwibXNwcmUiLCJ0aW1lc2VwYXJhdG9yIiwiaG91ckZvcm1hdCIsInRtcCIsImRhdGV0aW1lMTIiLCJtbS9kZC95eXl5IGhoOm1tIHhtIiwiaGg6bW0gdCIsImg6cyB0IiwiaGg6bW06c3MiLCJoaDptbSIsIm1tL3l5eXkiLCJzaGFtc2kiLCJBIiwiJiIsIiMiLCJkZWZhdWx0UHJlZml4IiwidXJscHJlMSIsInVybHByZTIiLCJ1cmxwcmUzIiwidXJscHJlNCIsInVybHByZTUiLCJ1cmxwcmU2IiwidXJscHJlNyIsInVybHByZTgiLCJwcmVmaXhMaW1pdCIsImlwIiwibWFza2VkVmFsdWUiLCJtYWMiLCJudW1lcmljIiwiYXV0b0VzY2FwZSIsInR4dCIsImVzY2FwZWRUeHQiLCJpbnRlZ2VyRGlnaXRzIiwiYXV0b0dyb3VwIiwiZ3JvdXBTaXplIiwic2VwcyIsIm1vZCIsImludGVnZXJPcHRpb25hbCIsImRpZ2l0c09wdGlvbmFsIiwiZGlnaXRzIiwiZGVjaW1hbFByb3RlY3QiLCJwcmVmaXgiLCJuZWdhdGlvblN5bWJvbCIsInN1ZmZpeCIsImFsbG93UGx1cyIsImFsbG93TWludXMiLCJmcm9udCIsInN0ZXAiLCJ1bm1hc2tBc051bWJlciIsInBvc3RGb3JtYXQiLCJyZWZvcm1hdE9ubHkiLCJzdWZmaXhTdHJpcHBlZCIsIm5lZWRzUmVmcmVzaCIsImNoYXJBdFBvcyIsImNidWYiLCJidWZWYWwiLCJidWZWYWxPcmlnaW4iLCJlc2NhcGVkR3JvdXBTZXBhcmF0b3IiLCJyYWRpeFNwbGl0IiwicmVnIiwicHJvY2Vzc1ZhbHVlIiwidG1wQnVmU3BsaXQiLCJtYXRjaFJzbHQiLCJpbnRlZ2VyUGFydCIsIm1hdGNoUnNsdERpZ2l0cyIsImludGVnZXJOUGFydCIsInJhZGl4UG9zaXRpb24iLCJzaWduSGFuZGxlciIsInJhZGl4SGFuZGxlciIsImludGVnZXJWYWx1ZSIsImxlYWRpbmdaZXJvSGFuZGxlciIsIl9yYWRpeFBvc2l0aW9uIiwiZGlnaXRzTWF0Y2giLCJpbnRlZ2VyTWF0Y2giLCJ+IiwiKyIsIi0iLCI6IiwicmFkaXgiLCJidWZDbG9uZSIsImtvbW1hTWF0Y2hlcyIsImRvdE1hdGNoZXMiLCJ2YWx1ZVBhcnRzIiwiZGVjUGFydCIsImRpZ2l0c0ZhY3RvciIsInBvdyIsInJvdW5kIiwicG9zaXRpb25JbnB1dCIsImNhbkNsZWFyIiwicmFkaXhJbmplY3Rpb24iLCJpc051bGwiLCJpbnRQYXJ0IiwicmFkaXhQYXJ0IiwiY3VycmVuY3kiLCJkZWNpbWFsIiwiaW50ZWdlciIsInBlcmNlbnRhZ2UiLCJjb3VudHJ5Y29kZSIsIm1hc2tMaXN0IiwiYWpheCIsImFzeW5jIiwiZGF0YVR5cGUiLCJhamF4T3B0aW9ucyIsInRocm93bkVycm9yIiwicHJvY2Vzc2VkVmFsdWUiLCJwaG9uZWJlIiwiUmVnZXgiLCJyZWdleFRva2VucyIsInF1YW50aWZpZXJGaWx0ZXIiLCJSZWdleFRva2VuIiwicmVwZWF0ZXJQYXJ0IiwiYW5hbHlzZVJlZ2V4Iiwib3Blbmdyb3VwcyIsInF1YW50aWZpZXJUb2tlbiIsInZhbGlkYXRlUmVnZXhUb2tlbiIsImZyb21Hcm91cCIsImlzdmFsaWQiLCJyZWdleFBhcnQiLCJvcGVuR3JvdXBDb3VudCIsIm1hdGNoVG9rZW4iLCJjcnJudG5keCIsIm1hdGNoR3JvdXAiLCJyZWdleFBhcnRCYWsiLCJxbSIsInRlc3RFeHAiLCJleHAiLCJidWZmZXJTdHIiLCJ0bCIsImNidWZmZXIiLCJyZWdleFRva2VuIiwiYXBwIiwicnVuIiwiJHVpYk1vZGFsU3RhY2siLCJhdXRoZW50aWNhdGUiLCJkaXNtaXNzQWxsIiwiY29uZmlnIiwiJHN0YXRlUHJvdmlkZXIiLCIkdXJsUm91dGVyUHJvdmlkZXIiLCJvdGhlcndpc2UiLCJ2aWV3cyIsIm1hcEZpbHRlcnNAbWFwIiwic2Vuc1QiLCJuZXR3TiIsIm1hcFNpdGVJbmZvQG1hcCIsIm1hcFBlYWtzVmlld0BtYXAiLCJtYXBTZW5zb3JQcm9wb3NlQG1hcCIsImFic3RyYWN0IiwibWVtYmVySWQiLCJyb2xlSWQiLCJod21UIiwic3N0YXQiLCJzcXVhc2giLCJsYXRsb25nYXJyYXkiLCJ2ZXJ0RGF0cyIsInZlcnRDb2xNZXQiLCJvcFF1YWwiLCJzZW50IiwiYU1hcCIsIlZpZXdUeXBlIiwicGVhayJdLCJtYXBwaW5ncyI6IkNBQUEsV0FFQSxZQUVBLEVBQUEsR0FHQUEsaUJBSEFDLFFBQUFDLE9BQUEsdUJBQ0Esa0JBQUEsY0FBQSxpQkFBQSxZQUFBLGtCQUFBLGlCQUVBRCxRQUFBQyxPQUFBLHFCQUNBRCxTQUFBQyxPQUFBLHVCQVVBRixlQUFBRyxTQUFBLFVBQ0FDLFNBQUEsOExDbkJBLFdBRUEsWUFDQSxJQUFBSixnQkFBQUMsUUFBQUMsT0FBQSxpQkFJQUYsZ0JBQUFLLFVBQUEsYUFBQSxTQUFBLFNBQUFDLFFBQ0EsR0FBQUMsNEJBRUFDLFNBQUEsSUFFQUMsU0FBQSxFQUNBQyxPQUNBQyxLQUFBLGtCQUVBQyxLQUFBLFNBQUFGLE1BQUFHLFFBQUFDLE9BRUEsR0FFQUMsUUFGQUQsTUFBQUUsY0FBQUMsTUFBQSxLQUVBQyxHQUFBQyxPQUFBTixRQUFBLElBRUFFLE9BQUFLLE9BQUEsT0FBQUMsS0FBQSxRQUFBLFNBQ0FDLFVBQUEsT0FDQVgsS0FBQUQsTUFBQUMsTUFBQVksUUFBQUgsT0FBQSxPQUNBSSxhQUFBQyxLQUFBLFdBQ0FDLE1BQUEsUUFBQSxTQUFBQyxHQUFBLE1BQUFBLEdBQUEsTUFDQUMsS0FBQSxTQUFBRCxHQUFBLE1BQUFBLEdBQUEsTUFFQWpCLE1BQUFtQixPQUFBLE9BQUEsU0FBQUMsU0FBQUMsVUFDQXJCLE1BQUFDLEtBQUFtQixZQUlBLE9BQUF2Qiw4QkFFQVAsZUFBQUssVUFBQSxhQUFBLFdBQ0EsT0FDQUcsU0FBQSxJQUNBRSxPQUNBc0IsTUFBQSxXQUNBQyxTQUFBLElBQ0FDLFdBQUEsS0FFQXpCLFNB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IGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnLFxyXG4gICAgICBbJ25nSW5wdXRNb2RpZmllZCcsICd1aS52YWxpZGF0ZScsICdhbmd1bGFyLmZpbHRlcicsICd4ZWRpdGFibGUnLCAnY2hlY2tsaXN0LW1vZGVsJywgJ25nRmlsZVVwbG9hZCddKTtcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnLCBbXSk7XHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJywgW10pO1xyXG5cclxuICAgIC8vI3JlZ2lvbiAkY2Nva2llcyB2YXJpYWJsZXNcclxuICAgIC8qXHJcbiAgICAqIFNUTkNyZWRzLCBTVE5Vc2VybmFtZSwgdXNlcnNOYW1lLCBtSUQsIHVzZXJzUm9sZSwgU2Vzc2lvbkV2ZW50SUQsIFNlc3Npb25FdmVudE5hbWVcclxuICAgICovXHJcbiAgICAvLyNlbmRyZWdpb24gJGNvb2tpZXMgdmFyaWFibGVzXHJcblxyXG4gICAgLy8jcmVnaW9uIENPTlNUQU5UUyAgICBcclxuICAgIC8vcmVndWxhciBleHByZXNzaW9uIGZvciBhIHBhc3N3b3JkIHJlcXVpcmVtZW50IG9mIGF0IGxlYXN0IDggY2hhcmFjdGVycyBsb25nIGFuZCBhdCBsZWFzdCAzIG9mIDQgY2hhcmFjdGVyIGNhdGVnb3JpZXMgdXNlZCAodXBwZXIsIGxvd2VyLCBkaWdpdCwgc3BlY2lhbFxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29uc3RhbnQoJ1JlZ0V4cCcsIHtcclxuICAgICAgICBQQVNTV09SRDogL14oKCg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlswLTldKSl8KCg/PS4qW2Etel0pKD89LipbQS1aXSkoPz0uKlshQEA/IyQlXiZfOjstXSkpfCgoPz0uKlthLXpdKSg/PS4qWzAtOV0pKD89LipbIUBAPyMkJV4mXzo7LV0pKXwoKD89LipbQS1aXSkoPz0uKlswLTldKSg/PS4qWyFAQD8jJCVeJl86Oy1dKSkpLns4LH0kL1xyXG4gICAgfSk7XHJcbiAgICAvLyNlbmRyZWdpb24gQ09OU1RBTlRTXHJcblxyXG4gICAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgLy90cnkgdGhpcyBvbmUgTW9uZGF5Ojo6XHJcbiAgICAvL2h0dHA6Ly93d3cubmctbmV3c2xldHRlci5jb20vcG9zdHMvZDMtb24tYW5ndWxhci5odG1sXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2JhcnNDaGFydCcsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHZhciBkaXJlY3RpdmVEZWZpbml0aW9uT2JqZWN0ID0ge1xyXG4gICAgICAgICAgICAvL1dlIHJlc3RyaWN0IGl0cyB1c2UgdG8gYW4gZWxlbWVudCBhcyB1c3VhbGx5ICA8YmFycy1jaGFydD4gaXMgc2VtYW50aWNhbGx5IG1vcmUgdW5kZXJzdGFuZGFibGVcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgLy90aGlzIGlzIGltcG9ydGFudCwgd2UgZG9uJ3Qgd2FudCB0byBvdmVyd3JpdGUgb3VyIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpbiB0aGUgSFRNTCBtYXJrLXVwXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IGZhbHNlLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgZGF0YTogJz1lbGV2YXRpb25EYXRhJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnRpbmcgYWxsIGRhdGEgcGFzc2VkIHRocnUgaW50byBhbiBhcnJheVxyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGEgPSBhdHRycy5lbGV2YXRpb25EYXRhLnNwbGl0KCcsJyk7XHJcbiAgICAgICAgICAgICAgICAvL2luIEQzLCBhbnkgc2VsZWN0aW9uWzBdIGNvbnRhaW5zIHRoZSBncm91cCBzZWxlY3Rpb25bMF1bMF0gaXMgdGhlIERPTSBub2RlIGJ1dCB3ZSB3b24ndCBuZWVkIHRoYXQgdGhpcyB0aW1lXHJcbiAgICAgICAgICAgICAgICB2YXIgY2hhcnQgPSBkMy5zZWxlY3QoZWxlbWVudFswXSk7XHJcbiAgICAgICAgICAgICAgICAvL3RvIG91ciBvcmlnaW5hbCBkaXJlY3RpdmUgbWFya3VwIGJhcnMtY2hhcnQgd2UgYWRkIGEgZGl2IHdpdGggb3V0IGNoYXJ0IHN0bGluZyBhbmQgYmluZCBlYWNoIGRhdGEgZW50cnkgdG8gdGhlIGNoYXJ0XHJcbiAgICAgICAgICAgICAgICBjaGFydC5hcHBlbmQoXCJkaXZcIikuYXR0cihcImNsYXNzXCIsIFwiY2hhcnRcIilcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdkaXYnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kYXRhKHNjb3BlLmRhdGEpLmVudGVyKCkuYXBwZW5kKFwiZGl2XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKS5lYXNlKFwiZWxhc3RpY1wiKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkICsgXCIlXCI7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQgKyBcIiVcIjsgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2EgbGl0dGxlIG9mIG1hZ2ljOiBzZXR0aW5nIGl0J3Mgd2lkdGggYmFzZWQgb24gdGhlIGRhdGEgdmFsdWUgKGQpIGFuZCB0ZXh0IGFsbCB3aXRoIGEgc21vb3RoIHRyYW5zaXRpb25cclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnZGF0YScsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS5kYXRhID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGRpcmVjdGl2ZURlZmluaXRpb25PYmplY3Q7XHJcbiAgICB9XSk7XHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ3NpdGVTZWFyY2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG1vZGVsOiAnPW5nTW9kZWwnLFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoQnk6ICc9JywgLy9yZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgc2VhcmNoVGVybTogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlcGxhY2U6IHRydWUsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInNlYXJjaG5hdlwiPicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaGJ5XCI+PGI+U2VhcmNoIEJ5OjwvYj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2hieW9wdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiU2VhcmNoQnlcIiBuZy1tb2RlbD1cInNlYXJjaEJ5LnZhbFwiIHZhbHVlPVwiYnlTaXRlSWRcIiAvPklEPC9kaXY+JyArXHJcbiAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwic2VhcmNoYnlvcHRpb25cIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIlNlYXJjaEJ5XCIgbmctbW9kZWw9XCJzZWFyY2hCeS52YWxcIiB2YWx1ZT1cImJ5U2l0ZU5vXCIgLz5OdW1iZXI8L2Rpdj4nICtcclxuICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJzZWFyY2hieW9wdGlvblwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwiU2VhcmNoQnlcIiBuZy1tb2RlbD1cInNlYXJjaEJ5LnZhbFwiIHZhbHVlPVwiYnlTaXRlTmFtZVwiIC8+TmFtZTwvZGl2PjwvZGl2PicgK1xyXG4gICAgICAgICAgICAnPGRpdiBjbGFzcz1cInNlYXJjaC1pbnB1dFwiPjxpbnB1dCBuZy1mb2N1cz1cImdvU2VhcmNoXCIgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInNlYXJjaFRlcm1cIiBuZy1lbnRlcj1cIkluZGV4U2VhcmNoU2l0ZXMoKVwiIHBsYWNlaG9sZGVyPVwiU2VhcmNoIFNpdGVzLi4uXCIgLz4nICtcclxuICAgICAgICAgICAgJzxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYm9yZGVyTGVzc1wiIG5nLWNsaWNrPVwiSW5kZXhTZWFyY2hTaXRlcygpXCI+U2VhcmNoIDxpIGNsYXNzPVwiaW9uLXNlYXJjaFwiPjwvaT48L2J1dHRvbj48L2Rpdj48L2Rpdj4nLFxyXG5cclxuICAgICAgICAgICAgY29udHJvbGxlcjogW1xyXG4gICAgICAgICAgICAgICAgJyRzY29wZScsICckc3RhdGUnLCAnJGh0dHAnLCAnU0lURScsICckdWliTW9kYWwnLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCAkaHR0cCwgU0lURSwgJHVpYk1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFRlcm0gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoQnkgPSB7IHZhbDogJ2J5U2l0ZU5vJyB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wbGFjZWhvbGRlciA9ICcuLi4nO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5JbmRleFNlYXJjaFNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlYXJjaFRlcm0gIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoJHNjb3BlLnNlYXJjaEJ5LnZhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZU5vJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVObzogJHNjb3BlLnNlYXJjaFRlcm0gfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShlcnJvclJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZUlkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVJZDogJHNjb3BlLnNlYXJjaFRlcm0gfSwgZnVuY3Rpb24gKHJlc3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShyZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVTZWFyY2hSZXNwb25zZShlcnJvclJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2J5U2l0ZU5hbWUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLmdldFNlYXJjaGVkU2l0ZSh7IGJ5U2l0ZU5hbWU6ICRzY29wZS5zZWFyY2hUZXJtIH0sIGZ1bmN0aW9uIChyZXNwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UocmVzcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlU2VhcmNoUmVzcG9uc2UoZXJyb3JSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVTZWFyY2hSZXNwb25zZSA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzLnN0YXR1cyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Vycm9yc3RhdHVzIHNob3cgbW9kYWwgd2l0aCBlcnJvciBtZXNzYWdlICdubyBzaXRlIGZvdW5kJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+Tm8gc2l0ZSBmb3VuZC4gRm9yIG1vcmUgc2l0ZSBzZWFyY2ggb3B0aW9ucywgZ28gdG8gdGhlIFNpdGVzIG5hdmlnYXRpb24gdGFiIHRvIHNlYXJjaCBmb3Igc2l0ZXMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hUZXJtID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEJ5ID0geyB2YWw6ICdieVNpdGVObycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVzZXQgc2VhcmNoIGFuZCBnbyB0byB0aGUgc2l0ZSBkYXNoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VhcmNoVGVybSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlYXJjaEJ5ID0geyB2YWw6ICdieVNpdGVObycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiBzLnNpdGVfaWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBdXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vVGhpcyBkaXJlY3RpdmUgYWxsb3dzIHVzIHRvIHBhc3MgYSBmdW5jdGlvbiBpbiBvbiBhbiBlbnRlciBrZXkgdG8gZG8gd2hhdCB3ZSB3YW50LlxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCduZ0VudGVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYmluZChcImtleWRvd24ga2V5cHJlc3NcIiwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hpY2ggPT09IDEzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGV2YWwoYXR0cnMubmdFbnRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vZm9jdXMgb24gdGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIHBhZ2VcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnbnVtZXJpY09ubHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBtb2RlbEN0cmwpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBtb2RlbEN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZElucHV0ID0gaW5wdXRWYWx1ZSA/IGlucHV0VmFsdWUucmVwbGFjZSgvW15cXGQuLV0vZywgJycpIDogbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zZm9ybWVkSW5wdXQgIT0gaW5wdXRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh0cmFuc2Zvcm1lZElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lZElucHV0O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gZm9ybWF0IHRoZSBuZy1tb2RlbCBkYXRlIGFzIGRhdGUgb24gaW5pdGlhbCBsb2FkXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2RhdGVwaWNrZXJQb3B1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0VBQycsXHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjb250cm9sbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZSB0aGUgZGVmYXVsdCBmb3JtYXR0ZXIgZnJvbSB0aGUgaW5wdXQgZGlyZWN0aXZlIHRvIHByZXZlbnQgY29uZmxpY3RcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGZvcm1hdHRlcnMuc2hpZnQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2JhY2tCdXR0b24nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5iaW5kKCdjbGljaycsIGdvQmFjayk7XHJcblxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZ29CYWNrKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpc3RvcnkuYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vdmFsaWRhdGUgcGFzc3dvcmRcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgncGFzc3dvcmRWYWxpZGF0ZScsIFsnUmVnRXhwJywgZnVuY3Rpb24gKHJlZ2V4KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcclxuICAgICAgICAgICAgICAgIGVsbS51bmJpbmQoJ2tleWRvd24nKS51bmJpbmQoJ2NoYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgZWxtLmJpbmQoJ2JsdXInLCBmdW5jdGlvbiAodmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChyZWdleC5QQVNTV09SRCkudGVzdCh2aWV3VmFsdWUudGFyZ2V0LnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCBpcyB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJwYXNzd29yZFZhbGlkYXRlXCIsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQgaXMgaW52YWxpZCwgcmV0dXJuIHVuZGVmaW5lZCAtIG5vIG1vZGVsIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJwYXNzd29yZFZhbGlkYXRlXCIsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ3NhbWVBcycsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbG0sIGF0dHJzLCBjdHJsKSB7XHJcbiAgICAgICAgICAgICAgICBlbG0udW5iaW5kKCdrZXlkb3duJykudW5iaW5kKCdjaGFuZ2UnKTtcclxuICAgICAgICAgICAgICAgIGVsbS5iaW5kKCdibHVyJywgZnVuY3Rpb24gKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkcGFyc2UoYXR0cnMuc2FtZUFzKShzY29wZSkgPT09IGN0cmwuJG1vZGVsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGN1cnJlbnRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eSgncGFzc3dvcmRNaXNtYXRjaCcsIGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9tYWtlIHRleHRhcmVhIGhlaWdodCBlcXVhbCB0byBjb250ZW50IGluc2lkZSBpdCAobm8gc2Nyb2xsYmFycykgaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNzc3MjI2MC90ZXh0YXJlYS1hdXRvLWhlaWdodFxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdlbGFzdGljJywgWyckdGltZW91dCcsIGZ1bmN0aW9uICgkdGltZW91dCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbml0aWFsSGVpZ2h0ID0gJHNjb3BlLmluaXRpYWxIZWlnaHQgfHwgZWxlbWVudFswXS5zdHlsZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uc3R5bGUuaGVpZ2h0ID0gJHNjb3BlLmluaXRpYWxIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudFswXS5zdHlsZS5oZWlnaHQgPSBcIlwiICsgZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyBcInB4XCI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgZWxlbWVudC5vbihcImlucHV0IGNoYW5nZVwiLCByZXNpemUpO1xyXG4gICAgICAgICAgICAgICAgJHRpbWVvdXQocmVzaXplLCAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdteUlucHV0TWFzaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0FDJyxcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzayhzY29wZS4kZXZhbChhdHRycy5teUlucHV0TWFzaykpO1xyXG4gICAgICAgICAgICAgICAgZWwub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ01vZGVsICsgXCI9J1wiICsgZWwudmFsKCkgKyBcIidcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb3Igc2NvcGVbYXR0cnMubmdNb2RlbF0gPSBlbC52YWwoKSBpZiB5b3VyIGV4cHJlc3Npb24gZG9lc24ndCBjb250YWluIGRvdC5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vYmluZCBmaWxlIHVwbG9hZCBmaWxlIHRvIGEgbW9kZWwgc2NvcGUgdmFyXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2ZpbGVNb2RlbCcsIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtb2RlbCA9ICRwYXJzZShhdHRycy5maWxlTW9kZWwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsU2V0dGVyID0gbW9kZWwuYXNzaWduO1xyXG5cclxuICAgICAgICAgICAgICAgIGVsZW1lbnQuYmluZCgnY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsU2V0dGVyKHNjb3BlLCBlbGVtZW50WzBdLmZpbGVzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3VzZWQgb24gZXZlbnQgbmFtZSB0byBtYWtlIHN1cmUgbm8gc3BlY2lhbCBjaGFyYWN0ZXJzXHJcbiAgICBTVE5Db250cm9sbGVycy5kaXJlY3RpdmUoJ2lucHV0UmVzdHJpY3RvcicsIFtcclxuICAgICAgICBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgICAgICAgICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBuZ01vZGVsQ3RybCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1teYS16QS1aMC05LSBfXS9nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBmcm9tVXNlcih0ZXh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGV4dClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZXh0O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zZm9ybWVkSW5wdXQgPSB0ZXh0LnJlcGxhY2UocGF0dGVybiwgJycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHJhbnNmb3JtZWRJbnB1dCAhPT0gdGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZSh0cmFuc2Zvcm1lZElucHV0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWRJbnB1dDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgbmdNb2RlbEN0cmwuJHBhcnNlcnMucHVzaChmcm9tVXNlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgXSk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdsYWJlbExpbWl0TGVuZ3RoJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiBcIkFcIixcclxuICAgICAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtLCBhdHRycykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxpbWl0ID0gcGFyc2VJbnQoYXR0cnMubGFiZWxMaW1pdExlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoZWxlbSkub24oXCJrZXlwcmVzc1wiLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PSBsaW1pdCkgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gRGlyZWN0aXZlIGZvciBnZW5lcmljIGNoYXJ0LCBwYXNzIGluIGNoYXJ0IG9wdGlvbnNcclxuICAgIFNUTkNvbnRyb2xsZXJzLmRpcmVjdGl2ZSgnaGNDaGFydCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JyxcclxuICAgICAgICAgICAgc2NvcGU6IHtcclxuICAgICAgICAgICAgICAgIG9wdGlvbnM6ICc9J1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsaW5rOiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnQoZWxlbWVudFswXSwgc2NvcGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG4gICAgLyogU1ROQ29udHJvbGxlcnMuZGlyZWN0aXZlKCdoY0NoYXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdj48L2Rpdj4nLFxyXG4gICAgICAgICAgICBzY29wZToge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogJz0nXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIEhpZ2hjaGFydHMuY2hhcnQoZWxlbWVudFswXSwgc2NvcGUub3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBhdHRycy5jaGFydCA9IG5ldyBIaWdoY2hhcnRzKGVsZW1lbnRbMF0sIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbGluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UeXBlOiAneCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhbktleTogJ3NoaWZ0J1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYm9vc3RUaHJlc2hvbGQ6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0Nob3BwZXIgUmVzdWx0cydcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdDbGljayBhbmQgZHJhZyB0byB6b29tIGluLiBIb2xkIGRvd24gc2hpZnQga2V5IHRvIHBhbi4nXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdoY2hhcnRzLmNoYXJ0KGVsZW1lbnRbMF0sIHNjb3BlLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXR0cnMuc2VyaWVzO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHJzLmNoYXJ0LnNlcmllcy5zZXREYXRhKCRwYXJzZShhdHRycy5zZXJpZXMpKHNjb3BlKS5kYXRhKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH0pOyovXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZVNlYXJjaEN0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICdzdGF0ZUxpc3QnLCAnc2Vuc29yVHlwZXMnLCAnbmV0d29ya05hbWVzJywgJ1NJVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkcm9vdFNjb3BlLCAkbG9jYXRpb24sIHN0YXRlTGlzdCwgc2Vuc29yVHlwZXMsIG5ldHdvcmtOYW1lcywgU0lURSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2l0ZSBTZWFyY2hcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwic2l0ZXNcIjsgLy8gcmVwb3J0LCBzZXR0aW5nc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlblR5cGVzID0gc2Vuc29yVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZXMgPSBuZXR3b3JrTmFtZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107IC8vdXNlZCB0byBqb2luIGVhY2ggYWJicmV2IHRvIHBhc3MgdG8gY2FsbFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHdtT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICBzZW5Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHJkZ09ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BEZWZpbmVkOiAwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvcnRpbmdPcmRlciA9PSBuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAhJHNjb3BlLnJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0aW5nT3JkZXIgPSBuZXdTb3J0aW5nT3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiBzZXR1cFxyXG4gICAgICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoZXkgYXJlIGNvbWluZyBiYWNrIGhlcmUsIHNlZSBpZiBhIHNlYXJjaCBoYXMgYmVlbiBzdG9yZWQgbGFzdCB0aW1lLlxyXG4gICAgICAgICAgICAgICAgaWYgKCRyb290U2NvcGUuc2VhcmNoUGFyYW1zICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NlYXJjaCA9ICRyb290U2NvcGUuc2VhcmNoUGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnQgPSBOdW1iZXIodGhpc1NlYXJjaC5ldmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBzdGF0ZSwgc2VsZWN0ZWQ9dHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBzdGF0ZXMgYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5zdGF0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NlYXJjaC5zdGF0ZVt5XSA9PSAkc2NvcGUuc3RhdGVzW2ldLnN0YXRlX2FiYnJldikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlc1tpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLnN0YXRlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXNbaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcyA9IHRoaXNTZWFyY2guc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3Nlbi5zZW5zb3IgPSB0aGlzU2VhcmNoLlNlbnNvclR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNob3Nlbi5uZXR3b3JrID0gdGhpc1NlYXJjaC5OZXR3b3JrTmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuLnN1cnZleSA9IHRoaXNTZWFyY2guSFdNU3VydmV5ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSA9IHRoaXNTZWFyY2guSFdNT25seTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5ID0gdGhpc1NlYXJjaC5TZW5zb3JPbmx5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHkgPSB0aGlzU2VhcmNoLlJER09ubHk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkID0gdGhpc1NlYXJjaC5PUERlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRGaWx0ZXJlZFNpdGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5zZXNzaW9uRXZlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlOiAkc2NvcGUuY2hvc2VuU3RhdGVzLmpvaW4oKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9maWx0ZXIgb3B0aW9ucyBjaG9zZW4sIGdvIGdldCB0aGVzZSBzaXRlcyB0byBzaG93IGluIGEgdGFibGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2hTaXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zdG9yZSBzZWFyY2ggaW4gY2FzZSB0aGV5IGxlYXZlIGFuZCBjbGljayBiYWNrXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZVN0cmluZyA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuam9pbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXZJRCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gbnVsbCAmJiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSA6IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZTogJHNjb3BlLmNob3NlblN0YXRlcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0RmlsdGVyZWRTaXRlcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiBldklELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZTogc3RhdGVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVMaXN0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVJlc3BvbnNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIHNlYXJjaFNpdGVzIGNsaWNrIGFjdGlvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vYWRkIGVhY2ggc3RhdGUgdG8gYW4gYXJyYXkgdG8gYmUgam9pbmVkIGluIHRoZSBHRVRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzLnB1c2goZGF0YS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5zZWxlY3RlZCA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuaW5kZXhPZihkYXRhLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcy5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGVhciB0aGUgZmlsdGVyIGNob2ljZXMgKHN0YXJ0IG92ZXIpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2JveE1vZGVsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBod21Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZGdPbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcERlZmluZWQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW4gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc3RhdGVzLCBmdW5jdGlvbiAoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Quc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckcScsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyRzY2UnLCAnJHRpbWVvdXQnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyRmaWx0ZXInLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdhbGxEcm9wRG93blBhcnRzJyxcclxuICAgICAgICAnZmlsZVR5cGVzJywgJ2FnZW5jeUxpc3QnLCAnbGF0bG9uZycsICd0aGlzU2l0ZVN0dWZmJywgJ2FsbE1lbWJlcnMnLCAnU0lURScsICdTSVRFX0hPVVNJTkcnLCAnU2l0ZV9GaWxlcycsICdNRU1CRVInLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdMQU5ET1dORVJfQ09OVEFDVCcsICdHRU9DT0RFJywgJ0ZJTEVfU1RBTVAnLCAnRklMRScsICdTT1VSQ0UnLCAnU0VSVkVSX1VSTCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRxLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICRzY2UsICR0aW1lb3V0LCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlsdGVyLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBhbGxEcm9wRG93blBhcnRzLCBmaWxlVHlwZXMsIGFnZW5jeUxpc3QsIGxhdGxvbmcsIHRoaXNTaXRlU3R1ZmYsIGFsbE1lbWJlcnMsIFNJVEUsXHJcbiAgICAgICAgICAgIFNJVEVfSE9VU0lORywgU2l0ZV9GaWxlcywgTUVNQkVSLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgTEFORE9XTkVSX0NPTlRBQ1QsIEdFT0NPREUsIEZJTEVfU1RBTVAsIEZJTEUsIFNPVVJDRSwgU0VSVkVSX1VSTCkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3ducyBcclxuICAgICAgICAgICAgJHNjb3BlLkhvcml6b250YWxEYXR1bUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSG9yQ29sbE1ldGhvZExpc3QgPSBhbGxEcm9wRG93blBhcnRzWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuU3RhdGVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLkFsbENvdW50eUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTsgLy9ob2xkZXIgb2YgZGVnIG1pbiBzZWMgdmFsdWVzXHJcbiAgICAgICAgICAgICRzY29wZS5hbGxIb3VzaW5nVHlwZUxpc3QgPSBhbGxEcm9wRG93blBhcnRzWzRdO1xyXG4gICAgICAgICAgICAkc2NvcGUuRGVwUHJpb3JpdHlMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s1XTtcclxuICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s2XTtcclxuICAgICAgICAgICAgJHNjb3BlLk5ldFR5cGVMaXN0ID0gYWxsRHJvcERvd25QYXJ0c1s3XTtcclxuICAgICAgICAgICAgJHNjb3BlLlByb3Bvc2VkU2VucyA9IGFsbERyb3BEb3duUGFydHNbOF07XHJcbiAgICAgICAgICAgICRzY29wZS5TZW5zb3JEZXBsb3ltZW50ID0gYWxsRHJvcERvd25QYXJ0c1s5XTtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLmNsb3NlU2l0ZXMgPSAwO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUxhdCA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlTG9uZyA9IDA7XHJcbiAgICAgICAgICAgICRzY29wZS5odG1sRGVzY3JpcHRpb25UaXAgPSAkc2NlLnRydXN0QXNIdG1sKCdSZXF1aXJlZCBieSBOV0lTLiBDYW4gYmUgbGlzdGVkIGFzIDxlbT5cXCd1bmtub3duXFwnPC9lbT4gb3IgPGVtPlxcJ0F0bGFudGljIE9jZWFuXFwnPC9lbT4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLm1hcENlbnRlciA9IHtcclxuICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnNpdGVMYXQsXHJcbiAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS5zaXRlTG9uZyxcclxuICAgICAgICAgICAgICAgIHpvb206IDE3XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0ge1xyXG4gICAgICAgICAgICAgICAgbWFwTWFya2Vyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZTogbGVhZmxldE1hcmtlckV2ZW50cy5nZXRBdmFpbGFibGVFdmVudHMoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUubWFwTWFya2VycyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgc3RuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blNpdGVJY29uJ1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIG5ld1NUTjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICduZXdTaXRlSWNvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgaWNvbkFuY2hvcjogWzUsIDVdXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICB2YXIgYXppbXV0aCA9IGZ1bmN0aW9uIChkZWcsIG1pbiwgc2VjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gLTEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVBZGRyZXNzT25seSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQsIExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnR5TmFtZSA9IHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllc1swXS5OQU1FO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuU3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGVJRDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLnN0YXRlID0gdGhpc1N0YXRlLnN0YXRlX2FiYnJldjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlIExhdGl0dWRlL0xvbmdpdHVkZSBkaWQgbm90IHJldHVybiBhIHJlY29nbml6ZWQgc3RhdGUuIFBsZWFzZSBjaG9vc2Ugb25lIGZyb20gdGhlIGRyb3Bkb3duLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiTm8gbG9jYXRpb24gaW5mb3JtYXRpb24gY2FtZSBiYWNrIGZyb20gdGhhdCBsYXQvbG9uZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsb2NhdGlvbiBpbmZvcm1hdGlvbi5cIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8vdXBkYXRlIG5ld1NpdGUgbGF0L2xuZyBhZnRlciBkcmFnZW5kXHJcbiAgICAgICAgICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFya2VyLmRyYWdlbmRcIiwgZnVuY3Rpb24gKGV2ZW50LCBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZHJhZ2VuZExvY2F0aW9uID0gYXJncy5tb2RlbDtcclxuICAgICAgICAgICAgICAgIC8vdXBkYXRlIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBwYXJzZUZsb2F0KGRyYWdlbmRMb2NhdGlvbi5sYXQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gcGFyc2VGbG9hdChkcmFnZW5kTG9jYXRpb24ubG5nLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgLy91cGRhdGUgZG1zIGFsc28gaW4gY2FzZSB0aGV5IGhhdmUgdGhhdCBzaG93aW5nXHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgIHZhciBsYWRETVNhcnJheSA9IGxhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQURlZyA9IGxhZERNU2FycmF5WzBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGxhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBsb25nRE1TID0gZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPTWluID0gbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWRkcmVzc09ubHkoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCAhPT0gdW5kZWZpbmVkICYmICFpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpICYmICFpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXBDZW50ZXIgPSB7IGxhdDogcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpLCBsbmc6IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCksIHpvb206IDE4IH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIEdFT0NPREUuZ2V0QWRkcmVzc1BhcnRzKHsgTG9uZ2l0dWRlOiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVGSVBTID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLlNUQVRFO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGVJRCA9IHN0YXRlRklQUyAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5zdGF0ZSA9IHRoaXNTdGF0ZS5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5BbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5jb3VudHkgPSBjb3VudHlOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2VlIGlmIHRoZXJlIGFyZSBhbnkgc2l0ZXMgd2l0aGluIGEgMC4wMDA1IGJ1ZmZlciBvZiBoZXJlIGZvciB0aGVtIHRvIHVzZSBpbnN0ZWFkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQsIExvbmdpdHVkZTogJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCwgQnVmZmVyOiAwLjAwMDUgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2xvc2VTaXRlcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY2xvc2VTaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhID0gJHNjb3BlLmNsb3NlU2l0ZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcE1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogYS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX25vOiBhLnNpdGVfbm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0bixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYS5zaXRlX25vLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb2N1czogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwTWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBwYXJzZUZsb2F0KCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMubmV3U1ROLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05ldyBkcmFnZ2FibGUgU1ROIHNpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9jdXM6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcHJveGltaXR5IHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGUgTGF0aXR1ZGUvTG9uZ2l0dWRlIGRpZCBub3QgcmV0dXJuIGEgcmVjb2duaXplZCBzdGF0ZS4gUGxlYXNlIGNob29zZSBvbmUgZnJvbSB0aGUgZHJvcGRvd24uXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzIGxvY2F0aW9uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBkaWQgbm90IHR5cGUgYSBsYXQvbG9uZyBmaXJzdC4uLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbXB0eUxhdExvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2dsb2JhbHMgXHJcbiAgICAgICAgICAgICRzY29wZS5ob3VzZURpcnR5ID0gZmFsc2U7ICRzY29wZS5uZXRUeXBlRGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0ge307XHJcblxyXG4gICAgICAgICAgICAvL2lmIGxhdGxvbmcsIHRoZW4gaXQncyBjb21pbmcgZnJvbSB0aGUgbWFwIHRhYi4gcG9wdWxhdGUgbGF0LGxvbmcsaGRhdHVtIGFuZCBkbyBnZW9zZWFyY2hcclxuICAgICAgICAgICAgaWYgKGxhdGxvbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gcGFyc2VGbG9hdChsYXRsb25nWzBdLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHBhcnNlRmxvYXQobGF0bG9uZ1sxXS50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5oZGF0dW1faWQgPSA0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA9IDQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcygpOyAvL2dldCB0aGUgYWRkcmVzcyB1c2luZyBwYXNzZWQgaW4gbGF0L2xvbmcgYW5kIGNoZWNrIGZvciBuZWFyYnkgc2l0ZXNcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zID0gJ2RkJztcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiXCI7ICRzY29wZS5jaGVja2VkTmFtZSA9IFwiTm90IERlZmluZWRcIjsgLy9jb21wYXJlcnMgZm9yIGRpc2FibGluZyBuZXR3b3JrIG5hbWVzIGlmICdOb3QgRGVmaW5lZCcgY2hlY2tlZFxyXG4gICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5hZGRMYW5kb3duZXIgPSBmYWxzZTsgLy9oaWRlIGxhbmRvd25lciBmaWVsZHNcclxuICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9IGZhbHNlOyAvL3RvZ2dsZSB0byBkaXNhYmxlL2VuYWJsZSBzZW5zb3IgaG91c2luZyBpbnN0YWxsZWQgYW5kIGFkZCBwcm9wb3NlZCBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSA9IFtdOyAvL2hvbGRlciBmb3Igd2hlbiBhZGRpbmcgaG91c2luZyB0eXBlIHRvIHBhZ2UgZnJvbSBtdWx0aXNlbGVjdFxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZUhvdXNlc01vZGVsID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUgPSBbXTsgLy9ob2xkZXIgZm9yIGVkaXRpbmcgc2l0ZSB0byBhZGQgcmVtb3ZpbmcgaG91c2UgdHlwZXMgdG8gZm9yIFBVVFxyXG4gICAgICAgICAgICAkc2NvcGUuTmV0d29ya05BTUVUb0FkZCA9IFtdOyAvL2hvbGRlciBmb3Igb2JqZWN0aXZlIHR5cGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlID0gW107IC8vaG9sZGVyIGZvciBvYmplY3RpdmUgdHlwZXMgcmVtb3ZlZCBvbiBleGlzdGluZyBwcm9qZWN0cyAoZWRpdClcclxuICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQgPSBbXTsgLy9ob2xkZXIgZm9yIG9iamVjdGl2ZSB0eXBlcyBhZGRlZFxyXG4gICAgICAgICAgICAkc2NvcGUuTmV0d29ya1RZUEVUb1JlbW92ZSA9IFtdOyAvL2hvbGRlciBmb3Igb2JqZWN0aXZlIHR5cGVzIHJlbW92ZWQgb24gZXhpc3RpbmcgcHJvamVjdHMgKGVkaXQpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcyA9IFtdOyAvL2hvbGRzIHRoZSBOZXR3b3JrTmFtZSAobGlzdCBvZiBzdHJpbmdzKSB0byBwYXNzIGJhY2s7XHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gW107IC8vaG9sZHMgdGhlIE5ldHdvcmtUeXBlIChsaXN0IG9mIHN0cmluZ3MpIHRvIHBhc3MgYmFjaztcclxuXHJcbiAgICAgICAgICAgIC8vU0lURSBGSUxFIFBBUlQgLy8vLy8gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBmaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IGZ0LmZpbGV0eXBlID09PSAnU2l0ZSBTa2V0Y2gnIHx8IGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZnQuZmlsZXR5cGUgPT09ICdMYW5kb3duZXIgUGVybWlzc2lvbiBGb3JtJztcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAvL2lmIHRoaXNTaXRlU3R1ZmYgaXMgbm90IHVuZGVmaW5lZCwgZmlsdGVyIHRoZSBhbGxTRmlsZXMgYW5kIGdpdmUgbWUganVzdCB0aG9zZSBmb3IgdGhlIHNpdGUgT05MWVxyXG4gICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzID0gdGhpc1NpdGVTdHVmZiAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZi5zaXRlX2lkID09IHRoaXNTaXRlU3R1ZmZbMF0uc2l0ZV9pZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2YuaHdtX2lkID09PSB1bmRlZmluZWQgfHwgc2YuaHdtX2lkID09PSAwKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoc2YuaW5zdHJ1bWVudF9pZCA9PT0gdW5kZWZpbmVkIHx8IHNmLmluc3RydW1lbnRfaWQgPT09IDApICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChzZi5vYmplY3RpdmVfcG9pbnRfaWQgPT09IHVuZGVmaW5lZCB8fCBzZi5vYmplY3RpdmVfcG9pbnRfaWQgPT09IDApO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIDogW107Ly8gaG9sZGVyIGZvciBzaXRlIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcyA9ICRzY29wZS5TSVRFRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChoZikgeyByZXR1cm4gaGYuZmlsZXR5cGVfaWQgPT09IDE7IH0pOyAvL2ltYWdlIGZpbGVzIGZvciBjYXJvdXNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7IC8vaGlkZGVuIGZvcm0gdG8gYWRkIGZpbGUgdG8gc2l0ZVxyXG5cclxuICAgICAgICAgICAgLy8gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2l0ZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZSA9IGZ1bmN0aW9uIChmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVzID0gJHNjb3BlLmZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gLTE7ICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgIC8vU0lURSB3aWxsIG5vdCBoYXZlIGRhdGFmaWxlIFxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgc2l0ZSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLlNJVEVGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLnNpdGVJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS5hU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJMaW5rIHNhdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNJVEVmaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBjcmVhdGUoKVxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURWZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHBob3RvIG9yIG90aGVyIGZpbGUgdHlwZSAobm8gZGF0YSBmaWxlIGhlcmUpXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXQgc291cmNlIG9yIGRhdGFmaWxlLCBwdXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0a2luZCA9ICRzY29wZS5hRmlsZS5maWxlQmVsb25nc1RvO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU291cmNlLnNvdXJjZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHBvc3QgYWdhaW4gKGlmIG5vIGNoYW5nZSwgd2lsbCByZXR1cm4gZXhpc3Rpbmcgb25lLiBpZiBlZGl0ZWQsIHdpbGwgY3JlYXRlIGEgbmV3IG9uZSAtLWluc3RlYWQgb2YgZWRpdGluZyBhbGwgZmlsZXMgdGhhdCB1c2UgdGhpcyBzb3VyY2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TSVRFZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU0lURUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2VuZCBGSUxFIFNUVUZGXHJcblxyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBvcGVuTG9uZ01vZGFsID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExvbmdpdHVkZSBtdXN0IGJlIGJldHdlZW4gLTE3NS4wIGFuZCAtNjAuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uIChkLCBkaXJlY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgZGVncmVlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2RtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pKSAkc2NvcGUuRE1TLkxBTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFTZWMpKSAkc2NvcGUuRE1TLkxBU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPTWluKSkgJHNjb3BlLkRNUy5MT01pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSkgJHNjb3BlLkRNUy5MT1NlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbGF0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xvbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jb252ZXJ0IGRlYyBkZWdyZWVzIHRvIGRtc1xyXG4gICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKG1pbmZsb2F0KTtcclxuICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IG1vZGFsIHRlbGxpbmcgdGhlbSB0byBwb3B1bGF0ZSBhbGwgdGhyZWUgKERNUykgZm9yIGNvbnZlcnNpb24gdG8gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERNU01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL25ldHdvcmtUeXBlIGNoZWNrIGV2ZW50IC0tdHJpZ2dlciBkaXJ0eVxyXG4gICAgICAgICAgICAkc2NvcGUubmV0VHlwZUNoZyA9IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZSB0aGlzIHRvIGhhbmRsZSBpbiBQVVQgb3IgUE9TVFxyXG4gICAgICAgICAgICAgICAgaWYgKG50LnNlbGVjdGVkKSB7IC8vc2VsZWN0ZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0d29ya1RZUEVUb0FkZC5wdXNoKG50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2lmIHRoaXMgaXMgZWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcgKHJlbW92ZSBmcm9tIHJlbW92ZSBsaXN0IGlmIHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXR3b3JrX3R5cGVfaWQ7IH0pLmluZGV4T2YobnQubmV0d29ya190eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPj0gMCkgJHNjb3BlLk5ldHdvcmtUWVBFVG9SZW1vdmUuc3BsaWNlKGksIDEpOyAvL3JlbW92ZSBmcm9tIHJlbW92ZUxpc3QgLi5pbiBjYXNlIHRoZXkgcmVtb3ZlZCBhbmQgdGhlbiBhZGRlZCBpdCBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL24uc2VsZWN0ZWQgPT0gZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kID0gJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQubWFwKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLm5ldHdvcmtfdHlwZV9pZDsgfSkuaW5kZXhPZihudC5uZXR3b3JrX3R5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPj0gMCkgJHNjb3BlLk5ldHdvcmtUWVBFVG9BZGQuc3BsaWNlKGluZCwgMSk7IC8vcmVtb3ZlIGl0IGZyb20gYWRkTGlzdCBpZiB0aGV5IGFkZGVkIHRoZW4gcmVtb3ZlZFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2VkaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtUWVBFVG9SZW1vdmUucHVzaChudCk7IC8vYWRkIGl0IHRvIHJlbW92ZUxpc3RcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL25ldHdvcmtOYW1lIGNoZWNrIGV2ZW50Li4gaWYgXCJOb3QgRGVmaW5lZFwiIGNob3NlbiwgZGlzYWJsZSB0aGUgb3RoZXIgMiBjaGVja2JveGVzXHJcbiAgICAgICAgICAgICRzY29wZS53aGljaE9uZSA9IGZ1bmN0aW9uIChuKSB7XHJcbiAgICAgICAgICAgICAgICAvL3N0b3JlIHRoaXMgdG8gaGFuZGxlIGluIFBVVCBvciBQT1NUXHJcbiAgICAgICAgICAgICAgICBpZiAobi5zZWxlY3RlZCkgeyAvL3NlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtOQU1FVG9BZGQucHVzaChuKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkgeyAvL2lmIHRoaXMgaXMgZWRpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcgKHJlbW92ZSBmcm9tIHJlbW92ZSBsaXN0IGlmIHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5uZXR3b3JrX25hbWVfaWQ7IH0pLmluZGV4T2Yobi5uZXR3b3JrX25hbWVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA+PSAwKSAkc2NvcGUuTmV0d29ya05BTUVUb1JlbW92ZS5zcGxpY2UoaSwgMSk7IC8vcmVtb3ZlIGZyb20gcmVtb3ZlTGlzdCAuLmluIGNhc2UgdGhleSByZW1vdmVkIGFuZCB0aGVuIGFkZGVkIGl0IGJhY2tcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbi5zZWxlY3RlZCA9PSBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuTmV0d29ya05BTUVUb0FkZC5tYXAoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUubmV0d29ya19uYW1lX2lkOyB9KS5pbmRleE9mKG4ubmV0d29ya19uYW1lX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5kID49IDApICRzY29wZS5OZXR3b3JrTkFNRVRvQWRkLnNwbGljZShpbmQsIDEpOyAvL3JlbW92ZSBpdCBmcm9tIGFkZExpc3QgaWYgdGhleSBhZGRlZCB0aGVuIHJlbW92ZWRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHsgLy9lZGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXR3b3JrTkFNRVRvUmVtb3ZlLnB1c2gobik7IC8vYWRkIGl0IHRvIHJlbW92ZUxpc3RcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuLm5hbWUgPT0gXCJOb3QgRGVmaW5lZFwiICYmIG4uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2hlY2tlZCBcIm5vdCBkZWZpbmVkXCJcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBubiA9IDA7IG5uIDwgJHNjb3BlLk5ldE5hbWVMaXN0Lmxlbmd0aDsgbm4rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Vuc2VsZWN0IGFsbCBidXQgbm90IGRlZmluZWQgVE9ETzo6OjogSWYgYW55LCBwdXQgdGhlbSBpbiBOZXR3b3JrTkFNRVRvUmVtb3ZlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5OZXROYW1lTGlzdFtubl0ubmFtZSAhPSBcIk5vdCBEZWZpbmVkXCIgJiYgJHNjb3BlLk5ldE5hbWVMaXN0W25uXS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldHdvcmtOQU1FVG9SZW1vdmUucHVzaCgkc2NvcGUuTmV0TmFtZUxpc3Rbbm5dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXROYW1lTGlzdFtubl0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL21ha2UgdGhlc2UgbWF0Y2ggc28gcmVzdCBnZXQgZGlzYWJsZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiTm90IERlZmluZWRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vdGhleSB0aGV5IHVuY2hlY2tlZCBub3QgZGVmaW5lLCB1bm1hdGNoIHZhcnMgc28gdGhlIG90aGVyIGJlY29tZSBlbmFibGVkXHJcbiAgICAgICAgICAgICAgICBpZiAobi5uYW1lID09IFwiTm90IERlZmluZWRcIiAmJiBuLnNlbGVjdGVkID09PSBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZCA9IFwiXCI7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3RvZ2dsZSBkaW0gb24gZGl2IGZvciBzZW5zb3Igbm90IGFwcHJvcHJpYXRlIGNsaWNrXHJcbiAgICAgICAgICAgICRzY29wZS5kaW1BY3Rpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNlbnNvcl9ub3RfYXBwcm9wcmlhdGUgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgcmFkaW8gYW5kIGNoZWNrYm94ZXMgaWYgZGlzYWJsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAkc2NvcGUuUHJvcG9zZWRTZW5zLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNbeF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnVzZVNpdGVBZGRyZXNzO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlQWRkcmVzc2ZvckxPID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS51c2VTaXRlQWRkcmVzcykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuYWRkcmVzcyA9ICRzY29wZS5hU2l0ZS5hZGRyZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuY2l0eSA9ICRzY29wZS5hU2l0ZS5jaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuc3RhdGUgPSAkc2NvcGUuYVNpdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci56aXAgPSAkc2NvcGUuYVNpdGUuemlwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIuY2l0eSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5zdGF0ZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci56aXAgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3NpdGUgUFVUXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIHNpdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZGlkIHRoZXkgYWRkIG9yIGVkaXQgdGhlIGxhbmRvd25lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZExhbmRvd25lciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVyZSdzIGEgbGFuZG93bmVyLi4gZWRpdCBvciBhZGQ/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IG51bGwgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RpZCB0aGV5IGNoYW5nZSBhbnl0aGluZyB0byB3YXJyZW50IGEgcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTEFORE9XTkVSX0NPTlRBQ1QudXBkYXRlKHsgaWQ6ICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkIH0sICRzY29wZS5sYW5kb3duZXIpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmxhbmRvd25lci5mbmFtZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIubG5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnRpdGxlICE9PSB1bmRlZmluZWQgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmNpdHkgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnByaW1hcnlwaG9uZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGFkZGVkIHNvbWV0aGluZy4uIFBPU1QgKHJhdGhlciB0aGFuIGp1c3QgY2xpY2tpbmcgYnV0dG9uIGFuZCBub3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTEFORE9XTkVSX0NPTlRBQ1Quc2F2ZSgkc2NvcGUubGFuZG93bmVyLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYW5kb3duZXJjb250YWN0X2lkID0gcmVzcG9uc2UubGFuZG93bmVyY29udGFjdGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwdXRTaXRlQW5kUGFydHMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHB1dFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgcHV0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZVxyXG4gICAgICAgICAgICB2YXIgcHV0U2l0ZUFuZFBhcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVNpdGUgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTaXRlKTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVTaXRlLkNyZWF0b3I7IGRlbGV0ZSB1cGRhdGVTaXRlLkhvcml6b250YWxDb2xsZWN0TWV0aG9kOyBkZWxldGUgdXBkYXRlU2l0ZS5Ib3Jpem9udGFsRGF0dW07IGRlbGV0ZSB1cGRhdGVTaXRlLlByaW9yaXR5TmFtZTtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVTaXRlLmRlY0RlZ09SZG1zO1xyXG4gICAgICAgICAgICAgICAgU0lURS51cGRhdGUoeyBpZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQgfSwgdXBkYXRlU2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHNpdGUgaG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVmZXIgPSAkcS5kZWZlcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBSZW1vdmVQcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBBZGRQcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIHNpdGVIb3VzaW5ncyAodGhlc2UgYXJlIGp1c3Qgc2l0ZV9ob3VzaW5nX2lkICdzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUsIGZ1bmN0aW9uIChzaElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxTSFByb20gPSBTSVRFX0hPVVNJTkcuZGVsZXRlKHsgaWQ6IHNoSUQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVByb21pc2VzLnB1c2goZGVsU0hQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL1JlbW92ZSBOZXROYW1lcyAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLk5ldHdvcmtOQU1FVG9SZW1vdmUsIGZ1bmN0aW9uIChubkwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlbE5OUHJvbSA9IFNJVEUuZGVsZXRlU2l0ZU5ldHdvcmtOYW1lKHsgc2l0ZUlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCwgbmV0d29ya05hbWVJZDogbm5MLm5ldHdvcmtfbmFtZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVtb3ZlUHJvbWlzZXMucHVzaChkZWxOTlByb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUmVtb3ZlIE5ldFR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrVFlQRVRvUmVtb3ZlLCBmdW5jdGlvbiAobnRMKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxOVFByb20gPSBTSVRFLmRlbGV0ZVNpdGVOZXR3b3JrVHlwZSh7IHNpdGVJZDogJHNjb3BlLmFTaXRlLnNpdGVfaWQsIG5ldHdvcmtUeXBlSWQ6IG50TC5uZXR3b3JrX3R5cGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlbW92ZVByb21pc2VzLnB1c2goZGVsTlRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL0FkZCBzaXRlSG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhvdXNlRGlydHkgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLCBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGRIdFByb207XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHQuc2l0ZV9ob3VzaW5nX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1BVVCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEh0UHJvbSA9IFNJVEVfSE9VU0lORy51cGRhdGUoeyBpZDogaHQuc2l0ZV9ob3VzaW5nX2lkIH0sIGh0KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHQuc2l0ZV9pZCA9ICRzY29wZS5hU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEh0UHJvbSA9IFNJVEVfSE9VU0lORy5zYXZlKGh0KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFkZFByb21pc2VzLnB1c2goYWRkSHRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIE5ldE5hbWVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrTkFNRVRvQWRkLCBmdW5jdGlvbiAoQW5uTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcy5wdXNoKEFubkwubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGROTlByb20gPSBTSVRFLnBvc3RTaXRlTmV0d29ya05hbWUoeyBzaXRlSWQ6ICRzY29wZS5hU2l0ZS5zaXRlX2lkLCBuZXR3b3JrTmFtZUlkOiBBbm5MLm5ldHdvcmtfbmFtZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQWRkUHJvbWlzZXMucHVzaChhZGROTlByb20pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vQWRkIE5ldFR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXR3b3JrVFlQRVRvQWRkLCBmdW5jdGlvbiAoQW5UTCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5wdXNoKEFuVEwubmV0d29ya190eXBlX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkTlRQcm9tID0gU0lURS5wb3N0U2l0ZU5ldHdvcmtUeXBlKHsgc2l0ZUlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCwgbmV0d29ya1R5cGVJZDogQW5UTC5uZXR3b3JrX3R5cGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFkZFByb21pc2VzLnB1c2goYWRkTlRQcm9tKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9vayBub3cgcnVuIHRoZSByZW1vdmVzLCB0aGVuIHRoZSBhZGRzIGFuZCB0aGVuIHBhc3MgdGhlIHN0dWZmIGJhY2sgb3V0IG9mIGhlcmUuXHJcbiAgICAgICAgICAgICAgICAgICAgJHEuYWxsKFJlbW92ZVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHEuYWxsKEFkZFByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgPSBbXTsgJHNjb3BlLnNpdGVOZXR3b3JrVHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuTmV0TmFtZUxpc3QsIGZ1bmN0aW9uIChubikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChubi5zZWxlY3RlZCA9PT0gdHJ1ZSkgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMucHVzaChubi5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXRUeXBlTGlzdCwgZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG50LnNlbGVjdGVkID09PSB0cnVlKSAkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcy5wdXNoKG50Lm5ldHdvcmtfdHlwZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gWyRzY29wZS5hU2l0ZSwgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMsICRzY29wZS5zaXRlTmV0d29ya1R5cGVzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNpdGUgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJGxvY2F0aW9uLnBhdGgoJy9TaXRlLycgKyAkc2NvcGUuYVNpdGUuc2l0ZV9pZCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIGVycm9yKG1zZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiBlcnJvcihtc2cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOyAvL2FsbCBhZGRlZFxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgU2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIFNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIFNJVEUuc2F2ZSguLi5cclxuICAgICAgICAgICAgfTsgLy8gZW5kIFBVVHNpdGUoKVxyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBzaXRlIGNsaWNrZWQgKDMgc2VwYXJhdGUgZnVuY3Rpb25zLi4gMTogbGFuZG93bmVyLCAyOiB0aGUgc2l0ZSBhbmQgcHJvcG9zZWQgaW5zdHJ1bWVudHMsIDM6IG5ldHdvcmsgbmFtZXMgJiB0eXBlcywgaG91c2luZyB0eXBlc1xyXG4gICAgICAgICAgICB2YXIgZmluaXNoUE9TVCA9IGZ1bmN0aW9uIChzSUQpIHtcclxuICAgICAgICAgICAgICAgIC8vZG8gYWxsIHRoZSByZXN0Li4uLlxyXG4gICAgICAgICAgICAgICAgdmFyIGRlZmVyID0gJHEuZGVmZXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb3N0UHJvbWlzZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vc2l0ZV9ob3VzaW5nVHlwZXMgKGlmIGFueSlcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZSwgZnVuY3Rpb24gKGh0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR5cGUuc2l0ZV9pZCA9IHNJRDtcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgaHR5cGUudHlwZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoVFByb21pc2UgPSBTSVRFX0hPVVNJTkcuc2F2ZShodHlwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgcG9zdFByb21pc2VzLnB1c2goaFRQcm9taXNlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaXRlX05ldHdvcmtOYW1lc1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXROYW1lTGlzdCwgZnVuY3Rpb24gKG5OYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5OYW1lLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuTlByb21pc2UgPSBTSVRFLnBvc3RTaXRlTmV0d29ya05hbWUoeyBzaXRlSWQ6IHNJRCwgbmV0d29ya05hbWVJZDogbk5hbWUubmV0d29ya19uYW1lX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UHJvbWlzZXMucHVzaChuTlByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaXRlX05ldHdvcmtUeXBlc1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5OZXRUeXBlTGlzdCwgZnVuY3Rpb24gKG5UeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5UeXBlLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuVFByb21pc2UgPSBTSVRFLnBvc3RTaXRlTmV0d29ya1R5cGUoeyBzaXRlSWQ6IHNJRCwgbmV0d29ya1R5cGVJZDogblR5cGUubmV0d29ya190eXBlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3N0UHJvbWlzZXMucHVzaChuVFByb21pc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy93aGVuIGFsbCB0aGUgcHJvbWlzZXMgYXJlIGRvbmVcclxuICAgICAgICAgICAgICAgICRxLmFsbChwb3N0UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LiAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6IHNJRCB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kICRxXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BPU1QgbGFuZG93bmVyLCBpZiB0aGV5IGFkZGVkIG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hU2l0ZS5DcmVhdG9yOyBkZWxldGUgJHNjb3BlLmFTaXRlLmRlY0RlZ09SZG1zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZExhbmRvd25lciA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sYW5kb3duZXIuZm5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmxuYW1lICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci50aXRsZSAhPT0gdW5kZWZpbmVkIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmxhbmRvd25lci5hZGRyZXNzICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5jaXR5ICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLmxhbmRvd25lci5wcmltYXJ5cGhvbmUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIExBTkRPV05FUl9DT05UQUNULnNhdmUoJHNjb3BlLmxhbmRvd25lciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA9IHJlc3BvbnNlLmxhbmRvd25lcmNvbnRhY3RpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcG9zdCB0aGUgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3N0U2l0ZUFuZFBhcnRzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbGFuZG93bmVyIGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFNpdGVBbmRQYXJ0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvLyBlbmQgbGF0L2xvbmcgYXJlIGdvb2RcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgIHZhbGlkXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHZhciBwb3N0U2l0ZUFuZFBhcnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgbG9uZ2l0dWRlIGlzIDwgMCwgb3RoZXJ3aXNlICogKC0xKSxcclxuICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2l0ZUlEID0gMDtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgIC8vUE9TVCBzaXRlXHJcbiAgICAgICAgICAgICAgICBTSVRFLnNhdmUoJHNjb3BlLmFTaXRlLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNpdGVJRCA9IHJlc3BvbnNlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kbyBwcm9wb3NlZCBzZW5zb3JzIGZpcnN0IHNpbmNlIGl0J3MgMiBwYXJ0cyB0byBpdC5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRpc2FibGVTZW5zb3JQYXJ0cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3QgZGlzYWJsZWQuLmNvdWxkIGJlIHNlbGVjdGVkIHByb3Bvc2VkIHNlbnNvcnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzID0gJHNjb3BlLlByb3Bvc2VkU2Vucy5maWx0ZXIoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuc2VsZWN0ZWQgPT09IHRydWU7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRQcm9wb3NlZFNlbnNvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzLCBmdW5jdGlvbiAocHJvcFNlbnMsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9QT1NUIGVhY2ggc2Vuc29yIGFuZCBzdGF0dXMgdHlwZSAoYWZ0ZXIgZ29pbmcgdGhydSB0aGUgc2Vuc0RlcHMgdG8gZ2V0IHRoZSBtYXRjaGluZyBkZXBsb3ltZW50dHlwZWlkIGZyb20gZWFjaCBzZW5zb3IncyBpbm5lciBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TZW5zb3JEZXBsb3ltZW50LCBmdW5jdGlvbiAoc2R0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgc2R0LmRlcGxveW1lbnR0eXBlcy5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNkdC5kZXBsb3ltZW50dHlwZXNbeF0uZGVwbG95bWVudF90eXBlX2lkID09IHByb3BTZW5zLmRlcGxveW1lbnRfdHlwZV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzSUQgPSBzZHQuc2Vuc29yX3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNvclR5cGVJRCA9IHNJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogcHJvcFNlbnMuZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBjcmVhdGVkU2l0ZUlELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogc2Vuc29yVHlwZUlEXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnNhdmUoaW5zdCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoaW5zUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudElEID0gaW5zUmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RTdGF0ID0geyBpbnN0cnVtZW50X2lkOiBpbnNSZXNwb25zZS5pbnN0cnVtZW50X2lkLCBzdGF0dXNfdHlwZV9pZDogNCwgbWVtYmVyX2lkOiAkc2NvcGUuYVNpdGUubWVtYmVyX2lkLCB0aW1lX3N0YW1wOiBuZXcgRGF0ZSgpLCB0aW1lX3pvbmU6ICdVVEMnIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlRfU1RBVFVTLnNhdmUoaW5zdFN0YXQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy93aGVuIGRvbmUgbG9vcGluZywgZ28gdG8gbGFzdCBzdGVwIGluIHRoaXMgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IHNlbGVjdGVkUHJvcG9zZWRTZW5zb3JzLmxlbmd0aCAtIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmluaXNoUE9TVChjcmVhdGVkU2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3RhdHVzIGZhaWxzLCBkZWxldGUgaW5zdHJ1bWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHN0YXR1cyBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc2Vuc29yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIuZm9yZWFjaCBvbiBwcm9wb3NlZCBzZW5zb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmaW5pc2hQT1NUKGNyZWF0ZWRTaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFBPU1QoY3JlYXRlZFNpdGVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIHBvc3RTaXRlYW5kIFBhcnRzXHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3Rpbmcgc2l0ZSBcclxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLmFTaXRlWzBdLCAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3NbMV0sICRzY29wZS5leGlzdGluZ1NpdGVIb3VzZVR5cGVzVGFibGVbMl0sIHRoaXNTaXRlTmV0d29ya05hbWVzWzNdLCBzaXRlTmV0d29ya1R5cGVzWzRdLCAkc2NvcGUubGFuZG93bmVyWzVdXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSBhbmd1bGFyLmNvcHkodGhpc1NpdGVTdHVmZlswXSk7XHJcbiAgICAgICAgICAgICAgICAvL2ZvciBzb21lIHJlYXNvbiB0aGVyZSBhcmUgdG9ucyBvZiBzaXRlcyB3aXRoIGhjb2xsZWN0X21ldGhvZF9pZCBzZXQgdG8gMCB3aGVuIGl0J3MgcmVxdWlyZWQuLm1ha2UgaXQgbnVsbCBzbyB2YWxpZGF0aW9uIHBpY2tzIHVwIG9uIHJlcXVpcmVkIGZpZWxkXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA8PSAwKSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBzaXRlIGlzIG5vdCBhcHByb3ByaWF0ZSBmb3Igc2Vuc29yLCBkaW0gbmV4dCAyIGZpZWxkc1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5zZW5zb3Jfbm90X2FwcHJvcHJpYXRlID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlU2Vuc29yUGFydHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgcmFkaW8gYW5kIGNoZWNrYm94ZXMgaWYgZGlzYWJsaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCAkc2NvcGUuUHJvcG9zZWRTZW5zLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNbeF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmlzX3Blcm1hbmVudF9ob3VzaW5nX2luc3RhbGxlZCA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL3VwZGF0ZSBjb3VudGllc0xpc3Qgd2l0aCB0aGlzIHN0YXRlJ3MgY291bnRpZXNcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuU3RhdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9hYmJyZXYgPT0gJHNjb3BlLmFTaXRlLnN0YXRlOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuQWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIGhvdXNpbmdzIGZvciBFRElUXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZlsxXS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzID0gdGhpc1NpdGVTdHVmZlsxXTsgLy9mb3IgbXVsdGlzZWxlY3QgLnNlbGVjdGVkID0gdHJ1ZS9mYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlID0gdGhpc1NpdGVTdHVmZlsyXTsgLy9mb3IgdGFibGUgdG8gc2hvdyBhbGwgaW5mbyBvbiBob3VzZSB0eXBlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBhbGxIb3VzaW5nVHlwZUxpc3QgYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBodCA9IDA7IGh0IDwgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdC5sZW5ndGg7IGh0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHRoaXNTaXRlSG91c2luZ3MgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncy5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t5XS5ob3VzaW5nX3R5cGVfaWQgPT0gJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uaG91c2luZ190eXBlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsSG91c2luZ1R5cGVMaXN0W2h0XS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbEhvdXNpbmdUeXBlTGlzdFtodF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIG5ldHdvcmsgbmFtZXMgb3IgdHlwZXNcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZVN0dWZmWzNdLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcHJvak5OYW1lcyA9IGFuZ3VsYXIuY29weSh0aGlzU2l0ZVN0dWZmWzNdKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoICRzY29wZS5OZXROYW1lTGlzdCAuLiBhZGQgLnNlbGVjdGVkIHByb3BlcnR5ID0gdHJ1ZS9mYWxzZSBpZiB0aGlzc2l0ZW5ldHdvcmtuYW1lcyA9PVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgJHNjb3BlLk5ldE5hbWVMaXN0Lmxlbmd0aDsgYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGUgPSAwOyBlIDwgcHJvak5OYW1lcy5sZW5ndGg7IGUrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOTmFtZXNbZV0ubmV0d29ya19uYW1lX2lkID09ICRzY29wZS5OZXROYW1lTGlzdFthXS5uZXR3b3JrX25hbWVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0TmFtZUxpc3RbYV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUgPSBwcm9qTk5hbWVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0W2FdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2pOTmFtZXMubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5ldE5hbWVMaXN0W2FdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTmV0TmFtZUxpc3RbMF0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHRoZXNlIG1hdGNoIHNvIHJlc3QgZ2V0IGRpc2FibGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGVja2VkID0gXCJOb3QgRGVmaW5lZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGlzU2l0ZU5ldHdvcmtOYW1lcyAhPSB1bmRlZmluZWRcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGVTdHVmZls0XS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb2pOVHlwZSA9IGFuZ3VsYXIuY29weSh0aGlzU2l0ZVN0dWZmWzRdKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoICRzY29wZS5OZXRUeXBlTGlzdCAuLiBhZGQgLnNlbGVjdGVkIHByb3BlcnR5ID0gdHJ1ZS9mYWxzZSBpZiB0aGlzc2l0ZW5ldHdvcmt0eXBlcyA9PVxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5pID0gMDsgbmkgPCAkc2NvcGUuTmV0VHlwZUxpc3QubGVuZ3RoOyBuaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG55ID0gMDsgbnkgPCBwcm9qTlR5cGUubGVuZ3RoOyBueSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvak5UeXBlW255XS5uZXR3b3JrX3R5cGVfaWQgPT0gJHNjb3BlLk5ldFR5cGVMaXN0W25pXS5uZXR3b3JrX3R5cGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTmV0VHlwZUxpc3RbbmldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IHByb2pOVHlwZS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXRUeXBlTGlzdFtuaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvak5UeXBlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OZXRUeXBlTGlzdFtuaV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhpc1NpdGVOZXR3b3JrTmFtZXMgIT0gdW5kZWZpbmVkICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy9sYW5kb3duZXIgc3R1ZmZcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZVN0dWZmWzVdICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubGFuZG93bmVyID0gdGhpc1NpdGVTdHVmZls1XTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTGFuZG93bmVyID0gJHNjb3BlLmxhbmRvd25lci5mbmFtZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5sYW5kb3duZXIubG5hbWUgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLmFkZHJlc3MgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubGFuZG93bmVyLnByaW1hcnlwaG9uZSAhPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zID0geyBzT3BlbjogZmFsc2UsIHNGaWxlT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3Rpbmcgc2l0ZSBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiB0aGlzIGlzIGEgTkVXIFNJVEUgQ1JFQVRFIChzaXRlID09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgIC8vZ2V0IGxvZ2dlZCBpbiBtZW1iZXIgdG8gbWFrZSB0aGVtIGNyZWF0b3JcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5xdWVyeSh7IGlkOiAkY29va2llcy5nZXQoJ21JRCcpIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ3JlYXRvciA9IHJlc3BvbnNlLmZuYW1lICsgXCIgXCIgKyByZXNwb25zZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubWVtYmVyX2lkID0gcmVzcG9uc2UubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5pc19wZXJtYW5lbnRfaG91c2luZ19pbnN0YWxsZWQgPSBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmFjY2Vzc19ncmFudGVkID0gXCJOb3QgTmVlZGVkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9UT0RPOiBnZXQgbWVtYmVyJ3MgaWQgaW4gdGhlcmUgdG9vXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbG9nZ2VkIGluIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucyA9IHsgc09wZW46IHRydWUgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gdGhpcyBpcyBhIE5FVyBTSVRFIENSRUFURSAoc2l0ZSA9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIH0vL2VuZCBuZXcgc2l0ZVxyXG5cclxuICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoZUV2ZW50ID0gZXZ0IHx8IHdpbmRvdy5ldmVudDtcclxuICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZUV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tdWx0aXNlbGVjdCBvbmUgY2hlY2tlZC4uXHJcbiAgICAgICAgICAgICRzY29wZS5Ib3VzZVR5cGVDbGljayA9IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvdXNlRGlydHkgPSB0cnVlOyAvL3RoZXkgY2xpY2tlZCBpdC4udXNlZCB3aGVuIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAvL2FkZC9yZW1vdmUgaG91c2UgdHlwZSBhbmQgaW5wdXRzIHRvIHRhYmxlIHJvdyAtLSBmb3JlYWNoIG9uIHBvc3Qgb3IgcHV0IHdpbGwgaGFuZGxlIHRoZSByZXN0XHJcblxyXG4gICAgICAgICAgICAgICAgLy9uZXcgc2l0ZSBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoaHQuc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaG91c2VUID0geyB0eXBlX25hbWU6IGh0LnR5cGVfbmFtZSwgaG91c2luZ190eXBlX2lkOiBodC5ob3VzaW5nX3R5cGVfaWQsIGxlbmd0aDogaHQubGVuZ3RoLCBtYXRlcmlhbDogaHQubWF0ZXJpYWwsIG5vdGVzOiBodC5ub3RlcywgYW1vdW50OiAxIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUucHVzaChob3VzZVQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUhvdXNlVGFibGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGh0LnNlbGVjdGVkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2l0ZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSF9JRCA9ICRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC50eXBlX25hbWUgPT0gaHQudHlwZV9uYW1lOyB9KVswXS5zaXRlX2hvdXNpbmdfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSG91c2VzVG9SZW1vdmUucHVzaChzSF9JRCk7IC8vZWRpdCBwYWdlLCBhZGQgc2l0ZV9ob3VzaW5nX2lkIHRvIHJlbW92ZSBsaXN0IGZvciBQVVRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5pbmRleE9mKCRzY29wZS5zaXRlSG91c2VUeXBlc1RhYmxlLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC50eXBlX25hbWUgPT0gaHQudHlwZV9uYW1lOyB9KVswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIb3VzZVR5cGVzVGFibGUuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZUhvdXNlVHlwZXNUYWJsZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB3YW50IHRvIGFkZCBhIGxhbmRvd25lciBjb250YWN0XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TGFuZE93bmVyUGFydCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRMYW5kb3duZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIHN0YXRlIGNoYW5nZXMsIHVwZGF0ZSBjb3VudHkgbGlzdFxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLlN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gczsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLkFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBTaXRlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNTaXRlID0gJHNjb3BlLmFTaXRlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRTaXRlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5EZWxldGUgU2l0ZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBzaXRlIHt7c2l0ZU5vfX0/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLWRhbmdlclwiIG5nLWNsaWNrPVwiZGVsZXRlSXQoKVwiPkRlbGV0ZTwvYnV0dG9uPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTm8gPSB0aGlzU2l0ZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzU2l0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBkU2l0ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuZGVsZXRlKHsgaWQ6IHMuc2l0ZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTaXRlIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFwiRGVsZXRlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD57e21lc3NhZ2V9fTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gZXJyb3JSZXNwb25zZS5oZWFkZXJzKFwidXNnc3dpbS1tZXNzYWdlc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSwgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdzaXRlTWFwQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICdTSVRFJywgJ3NpdGVIV01zJywgJ2RlcGxveW1lbnRUeXBlcycsXHJcbiAgICAgICAgJ2Jhcm9TZW5zb3JzJywgJ21ldFNlbnNvcnMnLCAncmRnU2Vuc29ycycsICdzdG9ybVNlbnNvcnMnLCAnd2F2ZVNlbnNvcnMnLCAncHJlc1RlbXBTZW5zb3JzJywgJ3RoZXJtU2Vuc29ycycsICd3ZWJjYW1TZW5zb3JzJywgJ3JhaW5nYWdlU2Vuc29ycycsICdsZWFmbGV0RGF0YScsICdhU2l0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCBTSVRFLCBzaXRlSFdNcywgZGVwbG95bWVudFR5cGVzLFxyXG4gICAgICAgICAgICBiYXJvU2Vuc29ycywgbWV0U2Vuc29ycywgcmRnU2Vuc29ycywgc3Rvcm1TZW5zb3JzLCB3YXZlU2Vuc29ycywgcHJlc1RlbXBTZW5zb3JzLCB0aGVybVNlbnNvcnMsIHdlYmNhbVNlbnNvcnMsIHJhaW5nYWdlU2Vuc29ycywgbGVhZmxldERhdGEsIGFTaXRlKSB7XHJcbiAgICAgICAgICAgIGlmIChhU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFwU3R1ZmYgPSBcImhlcmUncyB0aGUgbWFwIGFjY29yZGlvbiBjb250ZW50XCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGUgPSBhU2l0ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlSFdNcyA9IHNpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29ycyA9IGJhcm9TZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZU1ldFNlbnNvcnMgPSBtZXRTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVJER1NlbnNvcnMgPSByZGdTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVN0b3JtU2Vuc29ycyA9IHN0b3JtU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29ycyA9IHdhdmVTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAoYnMpIHsgcmV0dXJuIGJzLnNpdGVfaWQgPT0gYVNpdGUuc2l0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29ycyA9IHByZXNUZW1wU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKGJzKSB7IHJldHVybiBicy5zaXRlX2lkID09IGFTaXRlLnNpdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNpdGVUaGVybVNlbnNvcnMgPSB0aGVybVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlV2ViU2Vuc29ycyA9IHdlYmNhbVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMgPSByYWluZ2FnZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChicykgeyByZXR1cm4gYnMuc2l0ZV9pZCA9PSBhU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMgPSBkZXBsb3ltZW50VHlwZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8vbmVlZCB0byB3YXRjaCBmb3Igc2Vzc2lvbiBldmVudCBpZCwgZG8gbmV3IGNhbGwgdG8gc2VydmVyIHdoZW4gdGhhdCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBnZXRQcm94aW1pdHlTaXRlcygpOyAvL2dldCBhbGwgdGhvc2UgbmVhcmJ5XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHRoaXMgc2l0ZSBpblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+VGhpcyBTaXRlIE5hbWU6PC9iPiAnICsgJHNjb3BlLnRoaXNTaXRlLnNpdGVfbm8gKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc2VsZWN0ZWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IDBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBmaWx0ZXIgaHdtcyBhbmQgc2Vuc29ycyBieSBldmVudFxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZW1wdHkgbWFya2VycyBhbmQgc3RhcnQgYWdhaW4gZnJvbSBzaXRlSFdNcyB0byBtYWtlIHN1cmUgZWFjaCB0aW1lIHdlIGFyZSBmaWx0ZXJpbmcgYmFzZWQgb24gYWxsICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAkc2NvcGUuYWxsU2l0ZUhXTXMubGVuZ3RoOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoSFdNID0gJHNjb3BlLmFsbFNpdGVIV01zW2hdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hIV00uZXZlbnRfaWQgPT0gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggaHdtcyBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+SFdNOjwvYj4gJyArIGVhY2hIV00uaHdtX2xhYmVsICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogZWFjaEhXTS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBlYWNoSFdNLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuaHdtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdIV00nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBlYWNoSFdNLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgZXZlbnRfaWQgPT0gbmV3VmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maWx0ZXIgYWxsIHNlbnNvciB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZW5zb3JzKG5ld1ZhbHVlKTsgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXZlbnRIID0gMDsgbm9FdmVudEggPCAkc2NvcGUuYWxsU2l0ZUhXTXMubGVuZ3RoOyBub0V2ZW50SCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaG5vRUhXTSA9ICRzY29wZS5hbGxTaXRlSFdNc1tub0V2ZW50SF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5IV006PC9iPiAnICsgZWFjaG5vRUhXTS5od21fbGFiZWwgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IGVhY2hub0VIV00ubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBlYWNobm9FSFdNLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5od21JY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnSFdNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBlYWNobm9FSFdNLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZpbHRlciBhbGwgc2Vuc29yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFNlbnNvcnMoMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBmcm9tICR3YXRjaCBvbiBldmVudCBjaGFuZ2UgdG8gdXBkYXRlIGFsbCB0aGUgc2Vuc29yIHR5cGVzIHZpZXdlZCBmcm9tIHNpdGVtYXBcclxuICAgICAgICAgICAgICAgIHZhciBhZGRTZW5zb3JzID0gZnVuY3Rpb24gKGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRJRCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9iYXJvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGJzID0gMDsgYnMgPCAkc2NvcGUuYWxsU2l0ZUJhcm9TZW5zb3JzLmxlbmd0aDsgYnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZUJhcm9TZW5zb3JzW2JzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5CYXJvbWV0cmljIFByZXNzdXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBiU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5iYXJvSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdCYXJvIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IGJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBldmVudF9pZCA9PSBuZXdWYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtcyA9IDA7IG1zIDwgJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzLmxlbmd0aDsgbXMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1TZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZU1ldFNlbnNvcnNbbXNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1TZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbVNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBtU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG1TZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbVNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm1ldEljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnTWV0IFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG1TZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JkZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBycyA9IDA7IHJzIDwgJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzLmxlbmd0aDsgcnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVJER1NlbnNvcnNbcnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhcGlkIERlcGxveW1lbnQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyByU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogclNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJkZ0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUkRHIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHJTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3N0b3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHNzID0gMDsgc3MgPCAkc2NvcGUuYWxsU2l0ZVN0b3JtU2Vuc29ycy5sZW5ndGg7IHNzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnNbc3NdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gc1NlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBzU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHNTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogc1NlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0b3JtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdTdG9ybXRpZGUgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogc1NlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB3cyA9IDA7IHdzIDwgJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29ycy5sZW5ndGg7IHdzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3U2Vuc29yID0gJHNjb3BlLmFsbFNpdGVXYXZlU2Vuc29yc1t3c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod1NlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+V2F2ZSBIZWlnaHQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB3U2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHdTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogd1NlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLndhdmVJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dhdmVoZWlnaHQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogd1NlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJlc3N1cmVUZW1wXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBzID0gMDsgcHMgPCAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29ycy5sZW5ndGg7IHBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVQcmVzVGVtcFNlbnNvcnNbcHNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBTZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gcFNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBwU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHBTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogcFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnByZXNzdXJlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQcmVzc3VyZVRlbXAgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogcFNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlcm1vbWV0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdHMgPSAwOyB0cyA8ICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzLmxlbmd0aDsgdHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVRoZXJtU2Vuc29yc1t0c107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodFNlbnNvci5ldmVudF9pZCA9PSBldmVudElEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+VGVtcGVyYXR1cmUgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB0U2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IHRTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogdFNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnRoZXJtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUaGVybW9tZXRlciBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiB0U2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93ZWJjYW1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgd2VicyA9IDA7IHdlYnMgPCAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnMubGVuZ3RoOyB3ZWJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3ZWJTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVdlYlNlbnNvcnNbd2Vic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2ViU2Vuc29yLmV2ZW50X2lkID09IGV2ZW50SUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5XZWJjYW0gU2Vuc29yIFN0YXR1czo8L2I+ICcgKyB3ZWJTZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogd2ViU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IHdlYlNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLndlYmNhbUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV2ViY2FtIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHdlYlNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFpbmdhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmFpbnMgPSAwOyByYWlucyA8ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMubGVuZ3RoOyByYWlucysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmFpblNlbnNvciA9ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnNbcmFpbnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhaW5TZW5zb3IuZXZlbnRfaWQgPT0gZXZlbnRJRCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhaW4gZ2FnZSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIHJhaW5TZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogcmFpblNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiByYWluU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMucmFpbmdhZ2VJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JhaW5nYWdlIFNlbnNvcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IHJhaW5TZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYmFyb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0VicyA9IDA7IG5vRWJzIDwgJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29ycy5sZW5ndGg7IG5vRWJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0ViU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVCYXJvU2Vuc29yc1tub0Vic107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5CYXJvbWV0cmljIFByZXNzdXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRWJTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0ViU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5iYXJvSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Jhcm8gU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0ViU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FbXMgPSAwOyBub0VtcyA8ICRzY29wZS5hbGxTaXRlTWV0U2Vuc29ycy5sZW5ndGg7IG5vRW1zKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0VtU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVNZXRTZW5zb3JzW25vRW1zXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbm9FbVNlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VtU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9FbVNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRW1TZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm1ldEljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdNZXQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VtU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9yZGdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcnMgPSAwOyBub0VycyA8ICRzY29wZS5hbGxTaXRlUkRHU2Vuc29ycy5sZW5ndGg7IG5vRXJzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub0VyU2Vuc29yID0gJHNjb3BlLmFsbFNpdGVSREdTZW5zb3JzW25vRXJzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlJhcGlkIERlcGxveW1lbnQgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VyU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9FclNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXJTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnJkZ0ljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdSREcgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VyU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zdG9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0VzcyA9IDA7IG5vRXNzIDwgJHNjb3BlLmFsbFNpdGVTdG9ybVNlbnNvcnMubGVuZ3RoOyBub0VzcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9Fc1NlbnNvciA9ICRzY29wZS5hbGxTaXRlU3Rvcm1TZW5zb3JzW25vRXNzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPicgKyAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gbm9Fc1NlbnNvci5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCArICcgU2Vuc29yIFN0YXR1czo8L2I+ICcgKyBub0VzU2Vuc29yLnN0YXR1cyArICc8L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogbm9Fc1NlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXNTZW5zb3IubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0b3JtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1N0b3JtdGlkZSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXNTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy93YXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5vRXdzID0gMDsgbm9Fd3MgPCAkc2NvcGUuYWxsU2l0ZVdhdmVTZW5zb3JzLmxlbmd0aDsgbm9Fd3MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXdTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVdhdmVTZW5zb3JzW25vRXdzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPldhdmUgSGVpZ2h0IFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9Fd1NlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXdTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0V3U2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy53YXZlSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dhdmVoZWlnaHQgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0V3U2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcmVzc3VyZVRlbXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcHMgPSAwOyBub0VwcyA8ICRzY29wZS5hbGxTaXRlUHJlc1RlbXBTZW5zb3JzLmxlbmd0aDsgbm9FcHMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXBTZW5zb3IgPSAkc2NvcGUuYWxsU2l0ZVByZXNUZW1wU2Vuc29yc1tub0Vwc107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggc2Vuc29yIGluIHRoYXQgaGF2ZSB0aGlzIGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj4nICsgJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IG5vRXBTZW5zb3IuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgKyAnIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FcFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXBTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0VwU2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5wcmVzc3VyZUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdQcmVzc3VyZVRlbXAgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VwU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVybW9tZXRlclxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V0cyA9IDA7IG5vRXRzIDwgJHNjb3BlLmFsbFNpdGVUaGVybVNlbnNvcnMubGVuZ3RoOyBub0V0cysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FdFNlbnNvciA9ICRzY29wZS5hbGxTaXRlVGhlcm1TZW5zb3JzW25vRXRzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlRlbXBlcmF0dXJlIFNlbnNvciBTdGF0dXM6PC9iPiAnICsgbm9FdFNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXRTZW5zb3IubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiBub0V0U2Vuc29yLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy50aGVybUljb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUaGVybW9tZXRlciBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXRTZW5zb3IuZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3dlYmNhbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBub0V3ZWJzID0gMDsgbm9Fd2VicyA8ICRzY29wZS5hbGxTaXRlV2ViU2Vuc29ycy5sZW5ndGg7IG5vRXdlYnMrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vRXdlYlNlbnNvciA9ICRzY29wZS5hbGxTaXRlV2ViU2Vuc29yc1tub0V3ZWJzXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCBzZW5zb3IgaW4gdGhhdCBoYXZlIHRoaXMgZXZlbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPldlYmNhbSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXdlYlNlbnNvci5zdGF0dXMgKyAnPC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXQ6IG5vRXdlYlNlbnNvci5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IG5vRXdlYlNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMud2ViY2FtSWNvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1dlYmNhbSBTZW5zb3InLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50SUQ6IG5vRXdlYlNlbnNvci5ldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFpbmdhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbm9FcmFpbnMgPSAwOyBub0VyYWlucyA8ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnMubGVuZ3RoOyBub0VyYWlucysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm9FcmFpblNlbnNvciA9ICRzY29wZS5hbGxTaXRlUmFpblNlbnNvcnNbbm9FcmFpbnNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wdXNoIHNlbnNvciBpbiB0aGF0IGhhdmUgdGhpcyBldmVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6ICdzdG5TaXRlcycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJzxkaXY+PGI+PldlYmNhbSBTZW5zb3IgU3RhdHVzOjwvYj4gJyArIG5vRXJhaW5TZW5zb3Iuc3RhdHVzICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBub0VyYWluU2Vuc29yLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogbm9FcmFpblNlbnNvci5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMucmFpbmdhZ2VJY29uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnUmFpbmdhZ2UgU2Vuc29yJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudElEOiBub0VyYWluU2Vuc29yLmV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGFkZFNlbnNvcnMgd2hlbiBldmVudCBjaGFuZ2VzXHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGljb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0bjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TaXRlSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEyLCAxMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlbGVjdGVkSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTYsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuSFdNSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGJhcm9JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE2LCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bkJhcm9TZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0SWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMCwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5NZXRTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcmRnSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsyMiwgMjBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5SREdTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3Rvcm1JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blN0b3JtU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHdhdmVJY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bldhdmVTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcHJlc3N1cmVJY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blByZXNzdXJlU2Vuc29ySWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRoZXJtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxNiwgMjJdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5UaGVybVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB3ZWJjYW1JY29uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzIwLCAyMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0bldlYmNhbVNlbnNvckljb24nXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICByYWluZ2FnZUljb246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMjAsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuUmFpbmdhZ2VTZW5zb3JJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlTWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2lyY2xlTWFya2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDk5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczoge31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGFkZFNoYXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRoc09iai5jaXJjbGVNYXJrZXIubGF0bG5ncyA9IHsgbGF0OiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsIGxuZzogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRocy5jaXJjbGVNYXJrZXIgPSAkc2NvcGUucGF0aHNPYmouY2lyY2xlTWFya2VyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGFkZFNoYXBlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQ2VudGVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogJHNjb3BlLnRoaXNTaXRlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6ICRzY29wZS50aGlzU2l0ZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5ab29tOiAxNlxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyczogJHNjb3BlLm1hcmtlcnMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFya2Vyc0xhdExuZ0FycmF5OiBbXSwgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYXNlbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3BvOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXb3JsZCBUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlRvcG9ncmFwaGljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0blNpdGVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ21hcmtlcmNsdXN0ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTVE4gU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIgJHNjb3BlLmV4dGVuZCBzdGF0ZW1lbnRcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZ2V0UHJveGltaXR5U2l0ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiAkc2NvcGUudGhpc1NpdGUubGF0aXR1ZGVfZGQsIExvbmdpdHVkZTogJHNjb3BlLnRoaXNTaXRlLmxvbmdpdHVkZV9kZCwgQnVmZmVyOiAwLjA1IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jbG9zZVNpdGVzID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmNsb3NlU2l0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkc2NvcGUuY2xvc2VTaXRlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGEuc2l0ZV9pZCAhPT0gJHNjb3BlLnRoaXNTaXRlLnNpdGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPk5lYXJieSBTaXRlIE5hbWU6PC9iPiAnICsgYS5zaXRlX25vICsgJzwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiBhLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHByb3hpbWl0eSBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAvLyBnZXRQcm94aW1pdHlTaXRlcygpO1xyXG4gICAgICAgICAgICB9Ly9lbmQgaWYgYVNpdGUgIT09IHVuZGVmaW5lZFxyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2l0ZUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAndGhpc1NpdGUnLCAnbGF0bG9uZycsICd0aGlzU2l0ZU5ldHdvcmtOYW1lcycsICd0aGlzU2l0ZU5ldHdvcmtUeXBlcycsICd0aGlzU2l0ZUhvdXNpbmdzJyxcclxuICAgICAgICAnU0lURScsICdNRU1CRVInLCAnRklMRV9UWVBFJywgJ0FHRU5DWScsICdTaXRlX1NjcmlwdCcsICdhbGxIb3JEYXR1bXMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsU3RhdGVzJywgJ2FsbENvdW50aWVzJywgJ2FsbERlcGxveVByaW9yaXRpZXMnLCAnYWxsSG91c2luZ1R5cGVzJywgJ2FsbE5ldHdvcmtOYW1lcycsICdhbGxOZXR3b3JrVHlwZXMnLCAnYWxsRGVwbG95VHlwZXMnLCAnYWxsU2Vuc29yVHlwZXMnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgdGhpc1NpdGUsIGxhdGxvbmcsIHRoaXNTaXRlTmV0d29ya05hbWVzLCB0aGlzU2l0ZU5ldHdvcmtUeXBlcywgdGhpc1NpdGVIb3VzaW5ncywgU0lURSwgTUVNQkVSLCBGSUxFX1RZUEUsIEFHRU5DWSwgU2l0ZV9TY3JpcHQsIGFsbEhvckRhdHVtcyxcclxuICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFN0YXRlcywgYWxsQ291bnRpZXMsIGFsbERlcGxveVByaW9yaXRpZXMsIGFsbEhvdXNpbmdUeXBlcywgYWxsTmV0d29ya05hbWVzLCBhbGxOZXR3b3JrVHlwZXMsIGFsbERlcGxveVR5cGVzLCBhbGxTZW5zb3JUeXBlcykge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2l0ZSBEYXNoYm9hcmRcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gYXJlIHRoZXJlIGFueSBzY3JpcHRzIHJ1bm5pbmcgYWdhaW5zdCB0aGlzIHNpdGUgcmlnaHQgbm93IGZvciBhaXIvd2F0ZXJcclxuICAgICAgICAgICAgICAgIHZhciBzaG93U2NyaXB0VG9hc3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiRGF0YSBGaWxlIFNjcmlwdHMgYXJlIHByb2Nlc3NpbmcgZm9yIHRoaXMgc2l0ZSBhbmQgY2FuIHRha2Ugc2V2ZXJhbCBtaW51dGVzLiBDaGVjayBiYWNrIHRvIHRoZSBzaXRlIGRhc2hib2FyZCBsYXRlciBvciByZWZyZXNoIHRvIHNlZSBpZiBzY3JpcHQgaXMgY29tcGxldGUgYW5kIG5ldyBmaWxlcyBhcmUgcmVhZHkuIFRoZSBvdXRwdXQgY3N2IGZpbGUgY29udGFpbnMgc3VjY2Vzcy9lcnJvciBpbmZvcm1hdGlvbi5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeyBjbG9zZUJ1dHRvbjogdHJ1ZSwgcG9zaXRpb25DbGFzczogXCJ0b2FzdC1ib3R0b20tcmlnaHRcIiwgb25jbGljazogbnVsbCwgdGltZU91dDogMCwgZXh0ZW5kZWRUaW1lT3V0OiAwIH1cclxuICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGlmIChTaXRlX1NjcmlwdC5nZXRJc1NjcmlwdFJ1bm5pbmcoKSA9PSBcInRydWVcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNob3dTY3JpcHRUb2FzdCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2l0ZURGU2NyaXB0UnVubmluZycsIGZ1bmN0aW9uIChlLCBydW5uaW5nU2NyaXB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJ1bm5pbmdTY3JpcHQgPT0gXCJ0cnVlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NjcmlwdFRvYXN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcE9wZW46IGZhbHNlLCBzaXRlT3BlbjogdHJ1ZSwgb3BPcGVuOiBmYWxzZSwgc2Vuc29yT3BlbjogZmFsc2UsIGh3bU9wZW46IGZhbHNlLCBmaWxlc09wZW46IGZhbHNlLCBwZWFrT3BlbjogZmFsc2VcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGhpc1NpdGVIb3VzZVR5cGVNb2RlbCA9IFtdOyAvL2hvbGRlciBmb3Igd2hlbiBhZGRpbmcgaG91c2luZyB0eXBlIHRvIHBhZ2UgZnJvbSBtdWx0aXNlbGVjdFxyXG5cclxuICAgICAgICAgICAgICAgIC8vb3BlbiBtb2RhbCB0byBlZGl0IG9yIGNyZWF0ZSBhIHNpdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuU2l0ZUNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duUGFydHMgPSBbYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsU3RhdGVzLCBhbGxDb3VudGllcywgYWxsSG91c2luZ1R5cGVzLCBhbGxEZXBsb3lQcmlvcml0aWVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrTmFtZXMsIGFsbE5ldHdvcmtUeXBlcywgYWxsRGVwbG95VHlwZXMsIGFsbFNlbnNvclR5cGVzXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5OYW1lc1RvUGFzcyA9IFtdOyAvL21ha2Ugc3VyZSBvbmx5IHBhc3NpbmcgdG8gZWRpdCB0aG9zZSB0aGF0IGFyZSBvbiB0aGlzIHNpdGUgKGluIGNhc2UgdGhleSBlZGl0LCBzYXZlLCBlZGl0IGFnYWluKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZU5ldHdvcmtOYW1lcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFOTiA9IDA7IGFOTiA8IGFsbE5ldHdvcmtOYW1lcy5sZW5ndGg7IGFOTisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5hbWUgbWF0Y2hlcyBhbnkgb2YgdGhlIG5hbWVzIGluICRzY29wZS5TaXRlTmV0d29ya05hbWVzLCBnZXQgdGhlIGZ1bGwgbmV0d29ya19uYW1lIHRvIHBhc3MgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5zaXRlTmV0d29ya05hbWVzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZTsgfSkuaW5kZXhPZihhbGxOZXR3b3JrTmFtZXNbYU5OXS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU5OYW1lc1RvUGFzcy5wdXNoKGFsbE5ldHdvcmtOYW1lc1thTk5dKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5UeXBlc1RvUGFzcyA9IFtdOyAvL21ha2Ugc3VyZSBvbmx5IHBhc3NpbmcgdG8gZWRpdCB0aG9zZSB0aGF0IGFyZSBvbiB0aGlzIHNpdGUgKGluIGNhc2UgdGhleSBlZGl0LCBzYXZlLCBlZGl0IGFnYWluKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc2l0ZU5ldHdvcmtUeXBlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFOVCA9IDA7IGFOVCA8IGFsbE5ldHdvcmtUeXBlcy5sZW5ndGg7IGFOVCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5hbWUgbWF0Y2hlcyBhbnkgb2YgdGhlIG5hbWVzIGluICRzY29wZS5TaXRlTmV0d29ya05hbWVzLCBnZXQgdGhlIGZ1bGwgbmV0d29ya19uYW1lIHRvIHBhc3MgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9ICRzY29wZS5zaXRlTmV0d29ya1R5cGVzLm1hcChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZTsgfSkuaW5kZXhPZihhbGxOZXR3b3JrVHlwZXNbYU5UXS5uZXR3b3JrX3R5cGVfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVOVHlwZXNUb1Bhc3MucHVzaChhbGxOZXR3b3JrVHlwZXNbYU5UXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1NJVEVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcERvd25QYXJ0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkcm9wZG93blBhcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU3R1ZmY6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLnNpdGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ1NpdGVIb3VzZXMgPSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3MgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5ncyA6IFtdOyAvL25lZWRlZCBmb3IgbXVsdGkgc2VsZWN0IHRvIHNldCBwcm9wIHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSG91c2VUeXBlTW9kZWwgPSAkc2NvcGUudGhpc1NpdGVIb3VzZVR5cGVNb2RlbC5sZW5ndGggPiAwID8gJHNjb3BlLnRoaXNTaXRlSG91c2VUeXBlTW9kZWwgOiBbXTsgLy9oZXJlJ3Mgd2hhdCB0aGUgc2l0ZSBhbHJlYWR5IGhhc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc05ldE5hbWVzID0gc2l0ZU5OYW1lc1RvUGFzcy5sZW5ndGggPiAwID8gc2l0ZU5OYW1lc1RvUGFzcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc05ldFR5cGVzID0gc2l0ZU5UeXBlc1RvUGFzcy5sZW5ndGggPiAwID8gc2l0ZU5UeXBlc1RvUGFzcyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG8gPSAkc2NvcGUubGFuZG93bmVyICE9PSB1bmRlZmluZWQgPyAkc2NvcGUubGFuZG93bmVyIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlUmVsYXRlZFN0dWZmID0gWyRzY29wZS5hU2l0ZSwgb3JpZ1NpdGVIb3VzZXMsIHNIb3VzZVR5cGVNb2RlbCwgc05ldE5hbWVzLCBzTmV0VHlwZXMsIGxvXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpdGVSZWxhdGVkU3R1ZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGSUxFX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFHRU5DWS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRsb25nOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGxvbmcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGF0bG9uZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSAnRGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHJbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRMYW5kT3duZXJDb250YWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbERhdHVtID0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZCA+IDAgPyBhbGxIb3JEYXR1bXMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6IFwiLS0tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbENvbGxlY3RNZXRob2QgPSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyBhbGxIb3JDb2xsTWV0aG9kcy5maWx0ZXIoZnVuY3Rpb24gKGhjKSB7IHJldHVybiBoYy5oY29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLmFTaXRlLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogXCItLS1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5Qcmlvcml0eU5hbWUgPSAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQgPiAwID8gYWxsRGVwbG95UHJpb3JpdGllcy5maWx0ZXIoZnVuY3Rpb24gKGRwKSB7IHJldHVybiBkcC5wcmlvcml0eV9pZCA9PSAkc2NvcGUuYVNpdGUucHJpb3JpdHlfaWQ7IH0pWzBdLnByaW9yaXR5X25hbWUgOiBcIi0tLVwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzID0gclsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gclsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdtYXAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpcyB0aGlzIGNyZWF0ZSBuZXcgc2l0ZSBvciB2aWV3IGV4aXN0aW5nPz8gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nU2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZS5zaXRlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0gdGhpc1NpdGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuSG9yaXpvbnRhbERhdHVtID0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZCA+IDAgPyBhbGxIb3JEYXR1bXMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuZGF0dW1faWQgPT0gJHNjb3BlLmFTaXRlLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6IFwiLS0tXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5Ib3Jpem9udGFsQ29sbGVjdE1ldGhvZCA9ICRzY29wZS5hU2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/IGFsbEhvckNvbGxNZXRob2RzLmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYVNpdGUuaGNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS5oY29sbGVjdF9tZXRob2QgOiBcIi0tLVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuUHJpb3JpdHlOYW1lID0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkID4gMCA/IGFsbERlcGxveVByaW9yaXRpZXMuZmlsdGVyKGZ1bmN0aW9uIChkcCkgeyByZXR1cm4gZHAucHJpb3JpdHlfaWQgPT0gJHNjb3BlLmFTaXRlLnByaW9yaXR5X2lkOyB9KVswXS5wcmlvcml0eV9uYW1lIDogXCItLS1cIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYXBwbHkgYW55IHNpdGUgaG91c2luZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlSG91c2luZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzID0gYW5ndWxhci5jb3B5KHRoaXNTaXRlSG91c2luZ3MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlSG91c2VUYWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdCBmb3IgdGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHogPSAwOyB6IDwgJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzLmxlbmd0aDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBob3VzaW5ndHlwZWxpc3QuLm1ha2Ugc2VsZWN0ZWQgPSB0cnVlIGZvciB0aGVzZSAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXNlVHlwZU5hbWUgPSBhbGxIb3VzaW5nVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhvdXNlVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZV9uYW1lOiBob3VzZVR5cGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VzaW5nX3R5cGVfaWQ6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5ob3VzaW5nX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaG91c2luZ19pZDogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLnNpdGVfaG91c2luZ19pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuZ3RoOiAkc2NvcGUub3JpZ2luYWxTaXRlSG91c2luZ3Nbel0ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRlcmlhbDogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLm1hdGVyaWFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3RlczogJHNjb3BlLm9yaWdpbmFsU2l0ZUhvdXNpbmdzW3pdLm5vdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbW91bnQ6ICRzY29wZS5vcmlnaW5hbFNpdGVIb3VzaW5nc1t6XS5hbW91bnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzU2l0ZUhvdXNlVHlwZU1vZGVsLnB1c2goaG91c2VUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FwcGx5IGFueSBzaXRlIG5ldHdvcmsgbmFtZXMgb3IgdHlwZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOZXR3b3JrTmFtZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlTmV0d29ya05hbWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgdGhpc1NpdGVOZXR3b3JrTmFtZXMubGVuZ3RoOyBhKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm4gPSBhbGxOZXR3b3JrTmFtZXMuZmlsdGVyKGZ1bmN0aW9uIChuKSB7IHJldHVybiBuLm5ldHdvcmtfbmFtZV9pZCA9PSB0aGlzU2l0ZU5ldHdvcmtOYW1lc1thXS5uZXR3b3JrX25hbWVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya05hbWVzLnB1c2gobm4ubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hcHBseSBhbnkgc2l0ZSBuZXR3b3JrIG5hbWVzIG9yIHR5cGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZU5ldHdvcmtUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBiID0gMDsgYiA8IHRoaXNTaXRlTmV0d29ya1R5cGVzLmxlbmd0aDsgYisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG50ID0gYWxsTmV0d29ya1R5cGVzLmZpbHRlcihmdW5jdGlvbiAobnQpIHsgcmV0dXJuIG50Lm5ldHdvcmtfdHlwZV9pZCA9PSB0aGlzU2l0ZU5ldHdvcmtUeXBlc1tiXS5uZXR3b3JrX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTmV0d29ya1R5cGVzLnB1c2gobnQubmV0d29ya190eXBlX25hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUuc2Vuc29yX25vdF9hcHByb3ByaWF0ZSAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5hU2l0ZS5zZW5zb3Jfbm90X2FwcHJvcHJpYXRlID4gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOb3RBcHByID0gXCJZZXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5vdEFwcHIgPSBcIk5vXCI7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWVtYmVyIG5hbWUgZm9yIGRpc3BsYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5tZW1iZXJfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubWVtYmVyX2lkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRzY29wZS5hU2l0ZS5tZW1iZXJfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ3JlYXRvciA9IHJlc3BvbnNlLmZuYW1lICsgXCIgXCIgKyByZXNwb25zZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5DcmVhdG9yID0gXCJOb3QgcmVjb3JkZWRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmFTaXRlLkNyZWF0b3IgPSBcIk5vdCByZWNvcmRlZFwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhlIGxhbmRvd25lckNPbnRhY3Qgd2l0aCBnZXRDcmVkcyAoY2FsbGVkIHdoZW4gY29taW5nIGJhY2sgZnJvbSBtb2RhbCB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdldExhbmRPd25lckNvbnRhY3QgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IG51bGwgJiYgJHNjb3BlLmFTaXRlLmxhbmRvd25lcmNvbnRhY3RfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubGFuZG93bmVyY29udGFjdF9pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZUxhbmRPd25lcih7IGlkOiAkc2NvcGUuYVNpdGUuc2l0ZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5sYW5kb3duZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZExhbmRvd25lciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbGFuZG93bmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBsYW5kb3duZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzaXRlIGhhcyBsYW5kb3duZXJjb250YWN0IGlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldExhbmRPd25lckNvbnRhY3QoKTsgLy9jYWxsIGl0IGZyb20gaGVyZSBhbmQgZnJvbSBtb2RhbHJlc3BvbnNlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NpdGUgIT0gdW5kZWZpbmVkIGJ1dCB0aGUgc2l0ZS5zaXRlX2lkIGlzID09IHRoaXMgc2l0ZSBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoaXMgc2l0ZSBkb2VzIG5vdCBleGlzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9Ib21lJykucmVwbGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBleGlzdGluZ1NpdGVcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG1vZGFsIGlmIG5ldyBzaXRlIGZvciBjcmVhdGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BlblNpdGVDcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS8vZW5kIGVsc2UgY2hlY2tDcmVkcyBpcyBnb29kXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdxdWlja0NyZWF0ZUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHNjZScsICd3aGljaFF1aWNrJywgJ2FsbEhvckRhdHVtcycsXHJcbiAgICAgICAgJ2FsbEhvckNvbGxNZXRob2RzJywgJ2FsbFN0YXRlcycsICdhbGxDb3VudGllcycsICdhbGxPUFR5cGVzJywgJ2FsbFZlcnREYXR1bXMnLCAnYWxsVmVydENvbE1ldGhvZHMnLCAnYWxsT1BRdWFsaXRpZXMnLCAnYWxsSFdNVHlwZXMnLCAnYWxsSFdNUXVhbGl0aWVzJywgJ2FsbE1hcmtlcnMnLFxyXG4gICAgICAgICdhbGxFdmVudHMnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbERlcGxveVR5cGVzJywgJ2FsbEhvdXNpbmdUeXBlcycsICdTSVRFJywgJ09CSkVDVElWRV9QT0lOVCcsICdIV00nLCAnTUVNQkVSJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnT1BfTUVBU1VSRScsICdPUF9DT05UUk9MX0lERU5USUZJRVInLCAnR0VPQ09ERScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCAkc2NlLCB3aGljaFF1aWNrLCBhbGxIb3JEYXR1bXMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxTdGF0ZXMsIGFsbENvdW50aWVzLCBhbGxPUFR5cGVzLFxyXG4gICAgICAgICAgICBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbE1hcmtlcnMsIGFsbEV2ZW50cywgYWxsU2Vuc29yVHlwZXMsIGFsbFNlbnNvckJyYW5kcywgYWxsRGVwbG95VHlwZXMsIGFsbEhvdXNpbmdUeXBlcyxcclxuICAgICAgICAgICAgU0lURSwgT0JKRUNUSVZFX1BPSU5ULCBIV00sIE1FTUJFUiwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIE9QX01FQVNVUkUsIE9QX0NPTlRST0xfSURFTlRJRklFUiwgR0VPQ09ERSkge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9nbG9iYWwgdmFyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNyZWF0ZVdoYXQgPSB3aGljaFF1aWNrO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh0bWxEZXNjcmlwdGlvblRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ1JlcXVpcmVkIGJ5IE5XSVMuIENhbiBiZSBsaXN0ZWQgYXMgPGVtPlxcJ3Vua25vd25cXCc8L2VtPiBvciA8ZW0+XFwnQXRsYW50aWMgT2NlYW5cXCc8L2VtPicpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5NZW1iZXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGxvZ2dlZCBpbiBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbG9nZ2VkIGluIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJRdWlja1wiICsgd2hpY2hRdWljaztcclxuICAgICAgICAgICAgICAgICRzY29wZS5xdWlja0Zvcm0gPSB7fTsgLy9mb3JtcyB3aXRoaW4gdGhlIGFjY29yZGlvbiAuU2l0ZSwgLk9QLCAuSFdNXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IFwiXCIgJiYgZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlID0geyBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hT1AgPSB7IGRhdGVfZXN0YWJsaXNoZWQ6IG1ha2VBZGF0ZShcIlwiKSB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlLCBvcE9wZW46IGZhbHNlLCBod21PcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbiBmb3IgcGFydHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheSA9IFtdOyAvL2hvbGRlciBpZiB0aGV5IHJlbW92ZSBhbnkgT1AgY29udHJvbHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IGZhbHNlOyAvL2luaXRpYWxseSBoaWRlIHRoZSBhcmVhIGNvbnRhaW5pbmcgYWRkZWQgY29udHJvbCBJZGVudGlmaWVyc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0dW1MaXN0ID0gYWxsSG9yRGF0dW1zOyAkc2NvcGUuaG9yQ29sbE1ldGhvZExpc3QgPSBhbGxIb3JDb2xsTWV0aG9kcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7ICRzY29wZS5hbGxDb3VudHlMaXN0ID0gYWxsQ291bnRpZXM7ICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFR5cGVMaXN0ID0gYWxsT1BUeXBlczsgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxWZXJ0RGF0dW1zO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xsTWV0aG9kTGlzdCA9IGFsbFZlcnRDb2xNZXRob2RzOyAkc2NvcGUub3BRdWFsTGlzdCA9IGFsbE9QUXVhbGl0aWVzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaHdtIGRyb3Bkb3duc1xyXG4gICAgICAgICAgICAgICAgaWYgKHdoaWNoUXVpY2sgPT0gJ0hXTScpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTSA9IHsgaHdtX2xhYmVsOiAnaHdtLTEnLCBod21fZW52aXJvbm1lbnQ6ICdSaXZlcmluZScsIGV2ZW50X2lkOiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIGJhbms6ICdOL0EnLCBmbGFnX2RhdGU6IG1ha2VBZGF0ZShcIlwiKSwgc3RpbGx3YXRlcjogMCwgZmxhZ19tZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBhbGxIV01UeXBlczsgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsSFdNUXVhbGl0aWVzOyAkc2NvcGUubWFya2VyTGlzdCA9IGFsbE1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL3NlbnNvciBkcm9wZG93bnNcclxuICAgICAgICAgICAgICAgIGlmICh3aGljaFF1aWNrID09ICdTZW5zb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0ID0gKGQudG9TdHJpbmcoKSkuc3Vic3RyaW5nKDM1KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJDZW5cIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiRWFzXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIk1vdVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJQYWNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdCA9IGFsbERlcGxveVR5cGVzOyAvL2dldCBmcmVzaCB2ZXJzaW9uIHNvIG5vdCBtZXNzZWQgdXAgd2l0aCB0aGUgVGVtcGVyYXR1cmUgdHdpY2VcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdCA9IGFsbEhvdXNpbmdUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGltZVpvbmVMaXN0ID0gWydVVEMnLCAnUFNUJywgJ01TVCcsICdDU1QnLCAnRVNUJ107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IgPSB7IGV2ZW50X2lkOiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyksIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzID0geyBzdGF0dXNfdHlwZV9pZDogMSwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbEV2ZW50czsgJHNjb3BlLnNlbnNvclR5cGVMaXN0ID0gYWxsU2Vuc29yVHlwZXM7ICRzY29wZS5zZW5zb3JCcmFuZExpc3QgPSBhbGxTZW5zb3JCcmFuZHM7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkludGVydmFsVHlwZSA9IHsgdHlwZTogJ1NlY29uZHMnIH07IC8vZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZGlzcGxheWluZyBkYXRlIC8gdGltZSBpdCB1c2VyJ3MgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgRGVwdGltZVBhcnRzID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gRGVwdGltZVBhcnRzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSBEZXB0aW1lUGFydHNbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuRGVwbG95ZXIgPSAkc2NvcGUubG9nZ2VkSW5NZW1iZXI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IGRlcGxveW1lbnQgdHlwZXMgZm9yIHNlbnNvciB0eXBlIGNob3NlblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gYWxsU2Vuc29yVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzZCkgeyByZXR1cm4gc2Quc2Vuc29yX3R5cGVfaWQgPT0gJHNjb3BlLmFTZW5zb3Iuc2Vuc29yX3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgMSBzZW5zb3JUeXBlIHdpdGggaW5uZXIgbGlzdCBvZiAgLmRlcGxveW1lbnR0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlcy5sZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmRlcGxveW1lbnRfdHlwZV9pZCA9ICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlc1swXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9kZWZhdWx0IHJhZGlvc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRlRvckNNID0gJ2Z0JztcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gYWRkIE9QIGlkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGROZXdJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2goeyBpZGVudGlmaWVyOiBcIlwiLCBpZGVudGlmaWVyX3R5cGU6IFwiXCIgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIGFkZE5ld0lkZW50aWZpZXIgZm9yIE9QXHJcblxyXG4gICAgICAgICAgICAgICAgLy9pcyBpdCBVVEMgb3IgbG9jYWwgdGltZS4ubWFrZSBzdXJlIGl0IHN0YXlzIFVUQ1xyXG4gICAgICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCA9ICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBsYXQvbG9uZyBzdHVmZlxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWNEZWdPUmRtcy52YWwgPSAnZGQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9OyAvL2hvbGRlciBvZiBkZWcgbWluIHNlYyB2YWx1ZXNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgICAgIHZhciBhemltdXRoID0gZnVuY3Rpb24gKGRlZywgbWluLCBzZWMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhemkgPSAtMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NvbnZlcnQgZGVjIGRlZ3JlZXMgdG8gZG1zXHJcbiAgICAgICAgICAgICAgICB2YXIgZGVnX3RvX2RtcyA9IGZ1bmN0aW9uIChkZWcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9uZ2l0dWRlLCByZW1vdmUgdGhlIC0gc2lnblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IE1hdGguZmxvb3IoZGVnKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IobWluZmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gKChtaW5mbG9hdCAtIG0pICogNjApLnRvRml4ZWQoMyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3RoZXkgY2hhbmdlZCByYWRpbyBidXR0b24gZm9yIGRtcyBkZWMgZGVnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHRocmVlIGlucHV0cyBmb3IgY29udmVyc2lvbiBmcm9tIERNUyB0byBEZWNpbWFsIERlZ3JlZXMgdG8gd29yay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBETVNNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGxvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbGF0IG1vZGFsIFxyXG4gICAgICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sYXRpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjU0lURV9sb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja1ZhbHVlID0gZnVuY3Rpb24gKGQsIGRpcmVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGRlZ3JlZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdkbXMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBTWluKSkgJHNjb3BlLkRNUy5MQU1pbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykpICRzY29wZS5ETVMuTEFTZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnZG1zJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT01pbikpICRzY29wZS5ETVMuTE9NaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9TZWMpKSAkc2NvcGUuRE1TLkxPU2VjID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgbGF0aXR1ZGUvbG9uZ2l0dWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaXJlY3Rpb24gPT0gJ2xhdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsb25nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gIGxhdC9sb25nID1pcyBudW1iZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSB0aGVFdmVudC5rZXlDb2RlIHx8IHRoZUV2ZW50LndoaWNoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KSB0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWRkcmVzcyBwYXJ0cyBhbmQgZXhpc3Rpbmcgc2l0ZXMgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0QWRkcmVzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZW0gYWxsIGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hU2l0ZS5hZGRyZXNzOyBkZWxldGUgJHNjb3BlLmFTaXRlLmNpdHk7IGRlbGV0ZSAkc2NvcGUuYVNpdGUuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdOyBkZWxldGUgJHNjb3BlLmFTaXRlLnppcDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkICE9PSB1bmRlZmluZWQgJiYgIWlzTmFOKCRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCkgJiYgIWlzTmFOKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvL2xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgR0VPQ09ERS5nZXRBZGRyZXNzUGFydHMoeyBMb25naXR1ZGU6ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQsIExhdGl0dWRlOiAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlc3VsdC5nZW9ncmFwaGllcy5Db3VudGllcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lID0gcmVzcG9uc2UucmVzdWx0Lmdlb2dyYXBoaWVzLkNvdW50aWVzWzBdLk5BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGVJRCA9IHN0YXRlRklQUyAhPT0gdW5kZWZpbmVkID9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9maXAgPT0gc3RhdGVGSVBTOyB9KVswXS5zdGF0ZV9pZCA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlSUQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuc3RhdGUgPSB0aGlzU3RhdGUuc3RhdGVfYWJicmV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmNvdW50eSA9IGNvdW50eU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIk5vIGxvY2F0aW9uIGluZm9ybWF0aW9uIGNhbWUgYmFjayBmcm9tIHRoYXQgbGF0L2xvbmdcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBDaG9vc2UgU3RhdGUgYW5kIENvdW50eSBmcm9tIGRyb3Bkb3ducy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZGlkIG5vdCB0eXBlIGEgbGF0L2xvbmcgZmlyc3QuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgZ2V0QWRkcmVzcygpXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGxhdC9sb25nIHN0dWZmXHJcblxyXG4gICAgICAgICAgICAgICAgLy9od21fdW5jZXJ0YWludHkgdHlwZWQgaW4sIGNob29zZSBjb29yZXNwb25kaW5nIGh3bV9lbnZpcm9ubWVudFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob29zZVF1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcigkc2NvcGUuYUhXTS5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgRXhjZWxsZW50ICAgICstMC4wNSAgICAgICAwICAgICAgLSAgMC4wNTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIEdvb2QgICAgICAgICArLTAuMTAgICAgICAgMC4wNTEgIC0gIDAuMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICBGYWlyICAgICAgICAgKy0wLjIwICAgICAgIDAuMTAxICAtICAwLjIwMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgUG9vciAgICAgICAgICstMC40MCAgICAgICAwLjIwMSAgLSAgMC40MDBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgIFYgUG9vciAgICAgICA+IDAuNDAgICAgICAgMC40MDEgIC0gIGluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4OyB9KVswXS5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9od20gcXVhbGl0eSBjaG9zZW4gKG9yIGl0IGNoYW5nZWQgZnJvbSBhYm92ZSksIGNoZWNrIHRvIG1ha2Ugc3VyZSBpdCBpcyBjb25ncnVlbnQgd2l0aCBpbnB1dCBhYm92ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbXBhcmVUb1VuY2VydGFpbnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5od21fdW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoJHNjb3BlLmFIV00uaHdtX3VuY2VydGFpbnR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nUXVhbElkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0geCAmJiBoLm1heF9yYW5nZSA+PSB4OyB9KVswXS5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkICE9PSBtYXRjaGluZ1F1YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IHdhcm5pbmcgbW9kYWwgYW5kIGZvY3VzIGluIHVuY2VydGFpbnR5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZXJlIGlzIGEgbWlzbWF0Y2ggYmV0d2VlbiB0aGUgaHdtIHF1YWxpdHkgY2hvc2VuIGFuZCB0aGUgaHdtIHVuY2VydGFpbnR5IGFib3ZlLiBQbGVhc2UgY29ycmVjdCB5b3VyIGh3bSB1bmNlcnRhaW50eS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY29uZ3J1ZW50TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3doZW4gU0lURS5zdGF0ZSBjaGFuZ2VzLCB1cGRhdGUgY291bnR5IGxpc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS51cGRhdGVDb3VudHlMaXN0ID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gczsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5hbGxDb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCB1cGRhdGVDb3VudHlMaXN0KCkgZm9yIFNpdGVcclxuXHJcbiAgICAgICAgICAgICAgICAvL21ha2UgdW5jZXJ0YWludHkgY2xlYXJlZCBhbmQgZGlzYWJsZWQgd2hlbiAndW5xdWFudGlmaWVkJyBpcyBjaGVja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuVW5xdWFudENoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hT1AudW5xdWFudGlmaWVkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AudW5jZXJ0YWludHkgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCB1bnF1YW50Q2hlY2tlZCgpIGZvciBvcFxyXG5cclxuICAgICAgICAgICAgICAgIC8vanVzdCBuZWVkIGFuIE9CSkVDVElWRV9QT0lOVCBvYmplY3QgdG8gcG9zdC9wdXRcclxuICAgICAgICAgICAgICAgIHZhciB0cmltT1AgPSBmdW5jdGlvbiAob3ApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgT0JKX1BUID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6IG9wLm9iamVjdGl2ZV9wb2ludF9pZCAhPT0gdW5kZWZpbmVkID8gb3Aub2JqZWN0aXZlX3BvaW50X2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogb3AubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IG9wLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGV2X2Z0OiBvcC5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBvcC5lbGV2X2Z0IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZV9lc3RhYmxpc2hlZDogb3AuZGF0ZV9lc3RhYmxpc2hlZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfaXNfZGVzdHJveWVkOiBvcC5vcF9pc19kZXN0cm95ZWQgIT09IHVuZGVmaW5lZCA/IG9wLm9wX2lzX2Rlc3Ryb3llZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wX25vdGVzOiBvcC5vcF9ub3RlcyAhPT0gdW5kZWZpbmVkID8gb3Aub3Bfbm90ZXMgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBvcC5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZGF0dW1faWQ6IG9wLnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmRhdHVtX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IG9wLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IG9wLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGRhdHVtX2lkOiBvcC5oZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IG9wLmhkYXR1bV9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogb3AuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyBvcC5oY29sbGVjdF9tZXRob2RfaWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2Y29sbGVjdF9tZXRob2RfaWQ6IG9wLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gb3AudmNvbGxlY3RfbWV0aG9kX2lkIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfdHlwZV9pZDogb3Aub3BfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZV9yZWNvdmVyZWQ6IG9wLmRhdGVfcmVjb3ZlcmVkICE9PSB1bmRlZmluZWQgPyBvcC5kYXRlX3JlY292ZXJlZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuY2VydGFpbnR5OiBvcC51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gb3AudW5jZXJ0YWludHkgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1bnF1YW50aWZpZWQ6IG9wLnVucXVhbnRpZmllZCAhPT0gdW5kZWZpbmVkID8gb3AudW5xdWFudGlmaWVkIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BfcXVhbGl0eV9pZDogb3Aub3BfcXVhbGl0eV9pZCAhPT0gdW5kZWZpbmVkID8gb3Aub3BfcXVhbGl0eV9pZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gT0JKX1BUO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL1ggd2FzIGNsaWNrZWQgbmV4dCB0byBleGlzdGluZyBDb250cm9sIElkZW50aWZpZXIgdG8gaGF2ZSBpdCByZW1vdmVkLCBzdG9yZSBpbiByZW1vdmUgYXJyYXkgZm9yIFNhdmUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlJlbW92ZUlEID0gZnVuY3Rpb24gKG9wQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBhZGQgdG8gcmVtb3ZlIGxpc3QgaWYgaXQncyBhbiBleGlzdGluZyBvbmUgdG8gREVMRVRFXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5pbmRleE9mKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wQ29udHJvbC5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlT1BDYXJyYXkucHVzaChvcENvbnRyb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXggZGVmYXVsdCByYWRpb3MgYW5kIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGVmYXVsdHMgPSBmdW5jdGlvbiAodGhlT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLmVsZXZfZnQgPSAkc2NvcGUuYU9QLmVsZXZfZnQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AudW5jZXJ0YWludHkgPSAkc2NvcGUuYU9QLnVuY2VydGFpbnR5IC8gMzAuNDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50YXBlZG93biA9IHsgT3BlbjogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIC8vc2Vuc29yIHNlY3Rpb24sIGNsaWNrZWQgU2hvdy9IaWRlIFRhcGUgZG93biBpbmZvcm1hdGlvblxyXG4gICAgICAgICAgICAgICAgdmFyIHNob3dOZWVkT1BmaXJzdE1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZWVkT1BNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5ObyBEYXR1bSBMb2NhdGlvbjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkluIG9yZGVyIHRvIGFkZCB0YXBlIGRvd24gaW5mb3JtYXRpb24sIHBsZWFzZSBwb3B1bGF0ZSB0aGUgRGF0dW0gTG9jYXRpb24gc2VjdGlvbiBhYm92ZSBmaXJzdC48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cD5UaGUgZm9sbG93aW5nIGZpZWxkcyBhcmUgcmVxdWlyZWQgZm9yIHRoZSB0YXBlIGRvd24gc2VjdGlvbjogPGI+TmFtZTwvYj4sIDxiPkVsZXZhdGlvbjwvYj4gYW5kIDxiPlZlcnRpY2FsIERhdHVtPC9iPi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRPUE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVkb3duLk9wZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBmb3IgdGhlIG9wIGlmIHRoZXkgY2hvb3NlIGl0IGZyb20gdGhlIGRyb3Bkb3duIGZvciB0YXBlIGRvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3UgZG9uXFwndCB3YW50IHRvIGFkZCB0aGlzIE9QIE1lYXN1cmVtZW50IHRvIHRoaXMgcXVpY2sgc2Vuc29yPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlZG93bi5PcGVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUuc3BsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlID0ge307ICRzY29wZS5hZGRUYXBlZG93biA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnNlbnNvcl9lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFTZW5zU3RhdHVzLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMuZ3NfZWxldmF0aW9uID0gJyc7ICRzY29wZS5hU2Vuc1N0YXR1cy52ZGF0dW1faWQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRUYXBlZG93biA9IGZhbHNlOyAvL3RvZ2dsZSB0YXBlZG93biBzZWN0aW9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gW107IC8vd2lsbCBob2xkIE9QIHRoZXkgYWRkIGluIG9wIGFjY29yZGlvbi4uIGdldCB0aGlzIHdoZW4gdGhleSBjbGljayB0aGUgYnV0dG9uIGFuZCBzaG93IG1vZGFsIGlmIHRoZXkgaGF2ZW4ndCBwb3B1bGF0ZWQgaXQgeWV0LlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dUYXBlZG93blBhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGFyZSBvcGVuaW5nIHRvIGFkZCB0YXBlIGRvd24gaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hT1AubmFtZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hT1AuZWxldl9mdCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hT1AudmRhdHVtX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9ICRzY29wZS5hT1AubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuZWxldmF0aW9uID0gJHNjb3BlLmFPUC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuYU9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCgkc2NvcGUuT1BNZWFzdXJlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd24ucHVzaCgkc2NvcGUuYU9QKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRUYXBlZG93biA9IHRydWU7ICRzY29wZS50YXBlZG93bi5PcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy52ZGF0dW1faWQgPSAkc2NvcGUuYU9QLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dOZWVkT1BmaXJzdE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVGFwZWRvd24gPSB0cnVlOyAkc2NvcGUudGFwZWRvd24uT3BlbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IGZhbHNlOyAkc2NvcGUub3BFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLmh3bUVycm9ycyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRm9ybSA9ICRzY29wZS5xdWlja0Zvcm0ucXVpY2s7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLm9wRXJyb3JzID0gZmFsc2U7ICRzY29wZS5od21FcnJvcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9zaXRlIFBPU1RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPT09IHVuZGVmaW5lZCkgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgd2l0aGluIHByb3BlciByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPCAtMTc1IHx8ICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNpdGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1BPU1Qgc2l0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5zYXZlKCRzY29wZS5hU2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTaXRlSUQgPSByZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1Auc2l0ZV9pZCA9IGNyZWF0ZWRTaXRlSUQ7ICRzY29wZS5hT1AubGF0aXR1ZGVfZGQgPSByZXNwb25zZS5sYXRpdHVkZV9kZDsgJHNjb3BlLmFPUC5sb25naXR1ZGVfZGQgPSByZXNwb25zZS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5oZGF0dW1faWQgPSByZXNwb25zZS5oZGF0dW1faWQ7ICRzY29wZS5hT1AuaGNvbGxlY3RfbWV0aG9kX2lkID0gcmVzcG9uc2UuaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ3JlYXRlV2hhdCA9PSAnSFdNJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zaXRlX2lkID0gY3JlYXRlZFNpdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ud2F0ZXJib2R5ID0gcmVzcG9uc2Uud2F0ZXJib2R5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IHJlc3BvbnNlLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSByZXNwb25zZS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhjb2xsZWN0X21ldGhvZF9pZCA9IHJlc3BvbnNlLmhjb2xsZWN0X21ldGhvZF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaGRhdHVtX2lkID0gcmVzcG9uc2UuaGRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZCA9IHJlc3BvbnNlLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZXZlbnRfaWQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vT1Agc3R1ZmYgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkT1AgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUuYU9QKTsgLy8kc2NvcGUuT1AuRlRvck1FVEVSLCBGVG9yQ00sIGRlY0RlZ09SZG1zICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBPUHRvUE9TVCA9IHRyaW1PUCgkc2NvcGUuYU9QKTsgLy9tYWtlIGl0IGFuIE9CSkVDVElWRV9QT0lOVCBmb3Igc2F2aW5nXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC5zYXZlKE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRPUCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGVhY2ggb25lIFRISVMgV0lMTCBDSEFOR0UgU09PTiBUTyBIQVZFIG9iamVjdGl2ZV9wb2ludF9pZCBhbHJlYWR5IGFkZGVkIGFuZCBub3Qgc2VudCBhbG9uZyB3aXRoIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBvcGMgPSAwOyBvcGMgPCAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5sZW5ndGg7IG9wYysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNPUENvbnRyb2xJRCA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzW29wY107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc09QQ29udHJvbElELm9iamVjdGl2ZV9wb2ludF9pZCA9IHJlc3BvbnNlLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9DT05UUk9MX0lERU5USUZJRVIuc2F2ZSh0aGlzT1BDb250cm9sSUQpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vSFdNIHN0dWZmIFBPU1QgaWYgSFdNXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuQ3JlYXRlV2hhdCA9PSAnSFdNJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRIV00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhleSBlbnRlcmVkIGEgc3VydmV5IGRhdGUgb3IgZWxldmF0aW9uLCB0aGVuIHNldCBzdXJ2ZXkgbWVtYmVyIGFzIHRoZSBmbGFnIG1lbWJlciAoZmxhZ2dpbmcgYW5kIHN1cnZleWluZyBhdCBzYW1lIHRpbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uZWxldl9mdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKCRzY29wZS5hSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUXVpY2sgSFdNIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgY3JlYXRlZFNpdGVJRCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHBseTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBIV00uc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBIV00gY3JlYXRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5DcmVhdGVXaGF0ID09ICdTZW5zb3InKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFNlbnNvciA9IHt9OyB2YXIgZGVwU2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9PSBcIk1pbnV0ZXNcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9ICRzY29wZS5hU2Vuc29yLmludGVydmFsICogNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3Iuc2l0ZV9pZCA9IGNyZWF0ZWRTaXRlSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgpOyAvL1VUQyBvciBsb2NhbD9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50SUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKCRzY29wZS5hU2Vuc29yKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGUgaW5zdHJ1bWVudHN0YXR1cyB0b28gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hU2Vuc1N0YXR1cykuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkZWQgdGFwZSBkb3ducz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzVGFwZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBjcmVhdGVkT1Aub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vUE9TVCBJVC8vL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5zYXZlKHRoaXNUYXBlKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlF1aWNrIFNlbnNvciBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvU2l0ZS8nICsgY3JlYXRlZFNpdGVJRCArICcvU2l0ZURhc2hib2FyZCcpLnJlcGxhY2UoKTsvLy5ub3RpZnkoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwbHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIEluc3RydW1lbnQgU3RhdHVzIHNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgaW5zdHJ1bWVudFNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgT1Auc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBTSVRFLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLnNpdGVPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5vcE9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmh3bU9wZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiW25hbWU9J1wiICsgdGhlRm9ybS4kbmFtZSArIFwiJ11cIikuZmluZCgnLm5nLWludmFsaWQ6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5zaXRlX2Rlc2NyaXB0aW9uLiRpbnZhbGlkIHx8IHRoZUZvcm0ubGF0aXR1ZGVfZGQuJGludmFsaWQgfHwgdGhlRm9ybS5sb25naXR1ZGVfZGQuJGludmFsaWQgfHwgdGhlRm9ybS5oZGF0dW1faWQuJGludmFsaWQgfHwgdGhlRm9ybS5oY29sbGVjdF9tZXRob2RfaWQuJGludmFsaWQgfHwgdGhlRm9ybS53YXRlcmJvZHkuJGludmFsaWQgfHwgdGhlRm9ybS5zdGF0ZS4kaW52YWxpZHYgfHwgdGhlRm9ybS5jb3VudHkuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5vcF90eXBlX2lkLiRpbnZhbGlkIHx8IHRoZUZvcm0ubmFtZS4kaW52YWxpZCB8fCB0aGVGb3JtLmRlc2NyaXB0aW9uLiRpbnZhbGlkIHx8IHRoZUZvcm0uZGUuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uaHdtX3R5cGVfaWQuJGludmFsaWQgfHwgdGhlRm9ybS5od21fZW52aXJvbm1lbnQuJGludmFsaWQgfHwgdGhlRm9ybS5od21fcXVhbGl0eV9pZC4kaW52YWxpZCB8fCB0aGVGb3JtLmZkLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJRdWljayBIV00gbm90IGNyZWF0ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0vL2VuZCBlbHNlIChsb2dnZWQgaW4pXHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NldHRpbmdzQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJzZXR0aW5nc1wiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzID0gXCJXZWxjb21lIHRvIHRoZSBuZXcgU1ROIFNldHRpbmdzIFBhZ2UhIVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVZpZXcgPSBmdW5jdGlvbiAodmlldykge1xyXG4gICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyh2aWV3KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgIH1dKTtcclxuXHJcbn0oKSk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG5cclxuICAgIFNldHRpbmdzQ29udHJvbGxlcnMuY29udHJvbGxlcigncmVzb3VyY2VzQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdBR0VOQ1knLCAnQ09OVEFDVF9UWVBFJywgJ0RFUExPWU1FTlRfUFJJT1JJVFknLCAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAnRVZFTlRfVFlQRScsICdGSUxFX1RZUEUnLCAnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLCAnSE9SSVpPTlRBTF9EQVRVTScsICdIT1VTSU5HX1RZUEUnLCAnSFdNX1FVQUxJVFknLCAnSFdNX1RZUEUnLCAnSU5TVF9DT0xMX0NPTkRJVElPTicsICdNQVJLRVInLCAnTkVUV09SS19OQU1FJywgJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICdPUF9UWVBFJywgJ1NFTlNPUl9CUkFORCcsICdERVBMT1lNRU5UX1RZUEUnLCAnU0VOU09SX1RZUEUnLCAnTkVUV09SS19UWVBFJywgJ1NUQVRVU19UWVBFJywgJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJywgJ1ZFUlRJQ0FMX0RBVFVNJywgJ2FsbFN0YXRlcycsICdhbGxBZ2VuY2llcycsICdhbGxDb250YWN0VHlwZXMnLCAnYWxsRGVwbG95UHJpb3JpdGllcycsICdhbGxFdmVudFN0YXRzJywgJ2FsbEV2ZW50VHlwZXMnLFxyXG4gICAgICAgICdhbGxGaWxlVHlwZXMnLCAnYWxsSG9yQ29sbE1ldGhvZHMnLCAnYWxsSG9yRGF0dW1zJywgJ2FsbEhvdXNlVHlwZXMnLCAnYWxsSFdNcXVhbGl0aWVzJywgJ2FsbEhXTXR5cGVzJywgJ2FsbEluc3RDb2xsZWN0Q29uZGl0aW9ucycsICdhbGxNYXJrZXJzJywgJ2FsbE5ldHdvcmtOYW1lcycsICdhbGxPYmpQdFF1YWxpdGllcycsXHJcbiAgICAgICAgJ2FsbE9ialB0VHlwZXMnLCAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbERlcGxveW1lbnRUeXBlcycsICdhbGxTdGF0dXNUeXBlcycsICdhbGxTZW5zb3JUeXBlcycsICdhbGxOZXR3b3JrVHlwZXMnLCAnYWxsVmVydGljYWxDb2xsTWV0aG9kcycsICdhbGxWZXJ0aWNhbERhdHVtcycsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBBR0VOQ1ksIENPTlRBQ1RfVFlQRSwgREVQTE9ZTUVOVF9QUklPUklUWSwgRVZFTlRfU1RBVFVTLCBFVkVOVF9UWVBFLCBGSUxFX1RZUEUsXHJcbiAgICAgICAgICAgIEhPUklaT05UQUxfQ09MTF9NRVRIT0RTLCBIT1JJWk9OVEFMX0RBVFVNLCBIT1VTSU5HX1RZUEUsIEhXTV9RVUFMSVRZLCBIV01fVFlQRSwgSU5TVF9DT0xMX0NPTkRJVElPTiwgTUFSS0VSLCBORVRXT1JLX05BTUUsIE9QX1FVQUxJVFksIE9QX1RZUEUsIFNFTlNPUl9CUkFORCwgREVQTE9ZTUVOVF9UWVBFLFxyXG4gICAgICAgICAgICBTRU5TT1JfVFlQRSwgTkVUV09SS19UWVBFLCBTVEFUVVNfVFlQRSwgVkVSVElDQUxfQ09MTF9NRVRIT0QsIFZFUlRJQ0FMX0RBVFVNLCBhbGxTdGF0ZXMsIGFsbEFnZW5jaWVzLCBhbGxDb250YWN0VHlwZXMsIGFsbERlcGxveVByaW9yaXRpZXMsIGFsbEV2ZW50U3RhdHMsIGFsbEV2ZW50VHlwZXMsIGFsbEZpbGVUeXBlcyxcclxuICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbEhvckRhdHVtcywgYWxsSG91c2VUeXBlcywgYWxsSFdNcXVhbGl0aWVzLCBhbGxIV010eXBlcywgYWxsSW5zdENvbGxlY3RDb25kaXRpb25zLCBhbGxNYXJrZXJzLCBhbGxOZXR3b3JrTmFtZXMsIGFsbE9ialB0UXVhbGl0aWVzLCBhbGxPYmpQdFR5cGVzLFxyXG4gICAgICAgICAgICBhbGxTZW5zb3JCcmFuZHMsIGFsbERlcGxveW1lbnRUeXBlcywgYWxsU3RhdHVzVHlwZXMsIGFsbFNlbnNvclR5cGVzLCBhbGxOZXR3b3JrVHlwZXMsIGFsbFZlcnRpY2FsQ29sbE1ldGhvZHMsIGFsbFZlcnRpY2FsRGF0dW1zKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5ncy9SZXNvdXJjZXNcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hY2NvdW50Um9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmxvb2t1cEZvcm0gPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQWdCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5hY3RpdmVNZW51ID0gJyc7IC8vc2NvcGUgZm9yIGFjdGl2ZSBzaWRlYmFyIGl0ZW0gY2xpY2tcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEFMTCBMT09LVVBTIChhZGQvdXBkYXRlL2RlbGV0ZSlcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBBZ2VuY3kgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lMaXN0ID0gYWxsQWdlbmNpZXM7IC8vQWdcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQWdCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdBZyA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEFnRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRBZ0J1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kQWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0FnID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRBZ0Zvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRBZ2VuY3kgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFHRU5DWS5zYXZlKCRzY29wZS5uZXdBZywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3QWcgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQWdGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEFnQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkFnZW5jeSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUFnZW5jeSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgQUdFTkNZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQWdlbmN5IFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVBZ2VuY3kgPSBmdW5jdGlvbiAoYWcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJBZ2VuY3lcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5hZ2VuY3lMaXN0LmluZGV4T2YoYWcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFHRU5DWS5kZWxldGUoeyBpZDogYWcuYWdlbmN5X2lkIH0sIGFnLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJBZ2VuY3kgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBhZ2VuY3k6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgYWdlbmN5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1N0YXRlQWJicmV2ID0gZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYS5zdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZCA9ICRmaWx0ZXIoJ2ZpbHRlcicpKCRzY29wZS5zdGF0ZUxpc3QsIHsgc3RhdGVfYWJicmV2OiBhLnN0YXRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWRbMF0uc3RhdGVfYWJicmV2IDogJyc7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEFnZW5jeSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBDb250YWN0VHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvbnRhY3RUeXBlTGlzdCA9IGFsbENvbnRhY3RUeXBlczsgLy9jdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRDVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRDVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0NUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRDVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Q1QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZENURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQ1RCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZENvbnRhY3RUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBDT05UQUNUX1RZUEUuc2F2ZSgkc2NvcGUubmV3Q1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb250YWN0VHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3Q1QgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkQ1RGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZENUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvbnRhY3QgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgY29udGFjdCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVDb250YWN0VHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgQ09OVEFDVF9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiQ29udGFjdCBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwZGF0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUNvbnRhY3RUeXBlID0gZnVuY3Rpb24gKGN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiQ29udGFjdCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuY29udGFjdFR5cGVMaXN0LmluZGV4T2YoY3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENPTlRBQ1RfVFlQRS5kZWxldGUoeyBpZDogY3QuY29udGFjdF90eXBlX2lkIH0sIGN0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY29udGFjdFR5cGVMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvbnRhY3QgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNvbnRhY3QgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjb250YWN0IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gQ29udGFjdFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZGVwbG95bWVudFByaW9yaXR5IEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95UHJpb3JpdHlMaXN0ID0gYWxsRGVwbG95UHJpb3JpdGllczsgLy9kcFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREUEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGREUEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RQID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERQQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmREUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERQRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFBCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRGVwUHJpb3JpdHkgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUExPWU1FTlRfUFJJT1JJVFkuc2F2ZSgkc2NvcGUubmV3RFAsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lQcmlvcml0eUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFBGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERQQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgUHJpb3JpdHkgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZURlcFByaW9yaXR5ID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1BSSU9SSVRZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGVwbG95bWVudCBQcmlvcml0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVEZXBQcmlvcml0eSA9IGZ1bmN0aW9uIChkcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRGVwbG95bWVudCBQcmlvcml0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmRlcGxveVByaW9yaXR5TGlzdC5pbmRleE9mKGRwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1BSSU9SSVRZLmRlbGV0ZSh7IGlkOiBkcC5wcmlvcml0eV9pZCB9LCBkcCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVByaW9yaXR5TGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFByaW9yaXR5IFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCBwcmlvcml0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkZXBsb3ltZW50IHByaW9yaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGRlcGxveW1lbnRQcmlvcml0eSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBldmVudFN0YXR1cyBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdExpc3QgPSBhbGxFdmVudFN0YXRzOyAvL2VzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVTRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVTQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFU0NsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFU0Zvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVNCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEVTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdFUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFU0J1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRFdmVudFN0YXQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5uZXdFUywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVNGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVTQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFN0YXR1cyBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUV2ZW50U3RhdCA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlRfU1RBVFVTLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgU3RhdHVzIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVFdmVudFN0YXQgPSBmdW5jdGlvbiAoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkV2ZW50IFN0YXR1c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuaW5kZXhPZihlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlRfU1RBVFVTLmRlbGV0ZSh7IGlkOiBlcy5ldmVudF9zdGF0dXNfaWQgfSwgZXMsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFN0YXR1cyBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50IHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBldmVudCBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXZlbnRTdGF0dXMgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRXZlbnRUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlTGlzdCA9IGFsbEV2ZW50VHlwZXM7IC8vZXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRVRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdFVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kRVQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRFVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEVUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRFdmVudFR5cGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5UX1RZUEUuc2F2ZSgkc2NvcGUubmV3RVQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0VUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEVURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRFVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJFdmVudCBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlRXZlbnRUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBFVkVOVF9UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBldmVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlRXZlbnRUeXBlID0gZnVuY3Rpb24gKGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRXZlbnQgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuaW5kZXhPZihldCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlRfVFlQRS5kZWxldGUoeyBpZDogZXQuZXZlbnRfdHlwZV9pZCB9LCBldCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGV2ZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZXZlbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBFdmVudFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZmlsZVR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBhbGxGaWxlVHlwZXM7IC8vZnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRlRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRlRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdGVCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZUQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEZURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRGVEJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kRlQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0ZUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRGVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEZpbGVUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFX1RZUEUuc2F2ZSgkc2NvcGUubmV3RlQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RlQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEZUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGUgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGVUeXBlID0gZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5maWxlVHlwZUxpc3QuaW5kZXhPZihmdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRV9UWVBFLmRlbGV0ZSh7IGlkOiBmdC5maWxldHlwZV9pZCB9LCBmdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZSB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGZpbGVUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhvckNvbGxNZXRob2RzIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yQ29sTWV0aExpc3QgPSBhbGxIb3JDb2xsTWV0aG9kczsgLy9oY21cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSENNRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hDTSA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIQ01Gb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kSENNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIQ00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhDTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRIb3JDb2xsTWV0aG9kID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0NPTExfTUVUSE9EUy5zYXZlKCRzY29wZS5uZXdIQ00sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3JDb2xNZXRoTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIQ00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSENNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIQ01CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZCBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvcml6b250YWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSG9yQ29sbE1ldGhvZCA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3Jpem9udGFsIENvbGxlY3Rpb24gTWV0aG9kIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvcml6b250YWwgY29sbGVjdGlvbiBtZXRob2Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUhvckNvbGxNZXRob2QgPSBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhjbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmhvckNvbE1ldGhMaXN0LmluZGV4T2YoaGNtKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0NPTExfTUVUSE9EUy5kZWxldGUoeyBpZDogaGNtLmhjb2xsZWN0X21ldGhvZF9pZCB9LCBoY20sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3JDb2xNZXRoTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3Jpem9udGFsIENvbGxlY3Rpb24gTWV0aG9kIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG9yaXpvbnRhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBob3Jpem9udGFsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEhvckNvbGxNZXRob2RzIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhvckRhdHVtIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0TGlzdCA9IGFsbEhvckRhdHVtczsgLy9oZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIREZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIREJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hEID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSERGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhEQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIRCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SEQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhERm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSERCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEhvckRhdHVtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLnNhdmUoJHNjb3BlLm5ld0hELCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG9yRGF0TGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIRCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSERCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZUhvckRhdHVtID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBob3Jpem9udGFsIGRhdHVtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlSG9yRGF0dW0gPSBmdW5jdGlvbiAoaGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIb3Jpem9udGFsIERhdHVtXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaG9yRGF0TGlzdC5pbmRleE9mKGhkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1JJWk9OVEFMX0RBVFVNLmRlbGV0ZSh7IGlkOiBoZC5kYXR1bV9pZCB9LCBoZCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSG9yaXpvbnRhbCBEYXR1bSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGhvcml6b250YWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG9yaXpvbnRhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBIb3JEYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBob3VzZVR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0ID0gYWxsSG91c2VUeXBlczsgLy9odFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRIVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hUID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFRGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhUQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3SFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkSG91c2VUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIT1VTSU5HX1RZUEUuc2F2ZSgkc2NvcGUubmV3SFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhURm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3VzaW5nIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVIb3VzZVR5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhPVVNJTkdfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhvdXNpbmcgVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGhvdXNpbmcgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlSG91c2VUeXBlID0gZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIb3VzaW5nIFR5cGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5ob3VzZVR5cGVMaXN0LmluZGV4T2YoaHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhPVVNJTkdfVFlQRS5kZWxldGUoeyBpZDogaHQuaG91c2luZ190eXBlX2lkIH0sIGh0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG91c2VUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIb3VzaW5nIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBob3VzaW5nIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaG91c2luZyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGhvdXNpbmdUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGh3bVF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdCA9IGFsbEhXTXF1YWxpdGllczsgLy9od21xXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNUUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3N0YXJ0IGl0IGF0IHRydWUuLndoZW4gY2xpY2tlZCwgc2hvdyBmb3JtLCBoaWRlIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01RQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gdHJ1ZTsgLy9zaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVFCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZEhXTVEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVEgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01RQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEh3bVF1YWxpdHkgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9RVUFMSVRZLnNhdmUoJHNjb3BlLm5ld0hXTVEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01RID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZEhXTVFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFF1YWxpdHkgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSHdtUXVhbGl0eSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNX1FVQUxJVFkudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gUXVhbGl0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUh3bVF1YWxpdHkgPSBmdW5jdGlvbiAoaHdtcSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod21xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIV00gUXVhbGl0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmh3bVF1YWxMaXN0LmluZGV4T2YoaHdtcSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNX1FVQUxJVFkuZGVsZXRlKHsgaWQ6IGh3bXEuaHdtX3F1YWxpdHlfaWQgfSwgaHdtcSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBRdWFsaXR5IFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXZlbnRTdGF0dXMgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gSHdtVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsSFdNdHlwZXM7IC8vaHdtdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZEhXTVRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01UID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRIV01UQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRIV01UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdIV01UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRIV01URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkSHdtVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNX1RZUEUuc2F2ZSgkc2NvcGUubmV3SFdNVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0hXTVQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSFdNVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSFdNVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSHdtVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gVHlwZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVId21UeXBlID0gZnVuY3Rpb24gKGh3bXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh3bXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkhXTSBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuaHdtVHlwZUxpc3QuaW5kZXhPZihod210KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01fVFlQRS5kZWxldGUoeyBpZDogaHdtdC5od21fdHlwZV9pZCB9LCBod210LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod20gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBId21UeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEluc3RDb2xDb25kIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaW5zdENvbENvbmRMaXN0ID0gYWxsSW5zdENvbGxlY3RDb25kaXRpb25zOyAvL2ljY1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRJQ0NGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3SUNDID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZElDQ0Zvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRJQ0MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0lDQyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkSUNDQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZEluc3RDb2xDb25kID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUX0NPTExfQ09ORElUSU9OLnNhdmUoJHNjb3BlLm5ld0lDQywgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmluc3RDb2xDb25kTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdJQ0MgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkSUNDRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRJQ0NCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvbiBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlSW5zdENvbENvbmQgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIElOU1RfQ09MTF9DT05ESVRJT04udXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJJbnN0cnVtZW50IENvbGxlY3Rpb24gQ29uZGl0aW9uIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBpbnN0cnVtZW50IGNvbGxlY3Rpb24gY29uZGl0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUluc3RDb2xDb25kID0gZnVuY3Rpb24gKGljYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpY2M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIkluc3RydW1lbnQgQ29sbGVjdGlvbiBDb25kaXRpb25cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5pbnN0Q29sQ29uZExpc3QuaW5kZXhPZihpY2MpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIElOU1RfQ09MTF9DT05ESVRJT04uZGVsZXRlKHsgaWQ6IGljYy5pZCB9LCBpY2MsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnN0Q29sQ29uZExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSW5zdHJ1bWVudCBDb2xsZWN0aW9uIENvbmRpdGlvbiBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGluc3RydW1lbnQgY29sbGVjdGlvbiBjb25kaXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaW5zdHJ1bWVudCBjb2xsZWN0aW9uIGNvbmRpdGlvbjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBJbnN0Q29sQ29uZCBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBNYXJrZXIgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrTGlzdCA9IGFsbE1hcmtlcnM7IC8vbVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE1CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdNID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTUNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRNQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRNYXJrZXIgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BUktFUi5zYXZlKCRzY29wZS5uZXdNLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya0xpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1hcmtlciBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU1hcmtlciA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgTUFSS0VSLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWFya2VyIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWFya2VyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVNYXJrZXIgPSBmdW5jdGlvbiAobSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJNYXJrZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5tYXJrTGlzdC5pbmRleE9mKG0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1BUktFUi5kZWxldGUoeyBpZDogbS5tYXJrZXJfaWQgfSwgbSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1hcmtlciBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG1hcmtlcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBtYXJrZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gTWFya2VyIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIE5ldHdvcmtOYW1lIEFkZC9VcGRhdGUvRGVsZXRlIG5uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZUxpc3QgPSBhbGxOZXR3b3JrTmFtZXM7IC8vbm5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTk5Gb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTk5CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdOTiA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5OQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5ORm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROTkJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kTk4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld05OID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5OQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE5ldHdvcmtOYW1lID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBORVRXT1JLX05BTUUuc2F2ZSgkc2NvcGUubmV3Tk4sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXROYW1lTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdOTiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROTkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTk5CdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBOYW1lIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXR3b3JrIG5hbWU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlTmV0d29ya05hbWUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIE5FVFdPUktfTkFNRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgTmFtZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbmV0d29yayBuYW1lOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlTmV0d29ya05hbWUgPSBmdW5jdGlvbiAobm4pIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk5ldHdvcmsgTmFtZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm5ldE5hbWVMaXN0LmluZGV4T2Yobm4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5FVFdPUktfTkFNRS5kZWxldGUoeyBpZDogbm4ubmV0d29ya19uYW1lX2lkIH0sIG5uLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0TmFtZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTmV0d29yayBOYW1lIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbmV0d29yayBuYW1lOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIG5ldHdvcmsgbmFtZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBOZXR3b3JrTmFtZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBPUFF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcFF1YWxMaXN0ID0gYWxsT2JqUHRRdWFsaXRpZXM7IC8vb3BxXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QUUZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdPUFEgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BRRm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE9QUSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BRID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFFCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZE9QUXVhbGl0eSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfUVVBTElUWS5zYXZlKCRzY29wZS5uZXdPUFEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcFF1YWxMaXN0LnB1c2gocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld09QUSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFFGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE9QUUJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgdGhlIGJ1dHRvbiBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBRdWFsaXR5IEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlT1BRdWFsaXR5ID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBPUF9RVUFMSVRZLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gUXVhbGl0eSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkYXR1bSBsb2NhdGlvbiBxdWFsaXR5OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlT1BRdWFsaXR5ID0gZnVuY3Rpb24gKG9wcSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3BxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJPYmplY3RpdmUgUG9pbnQgUXVhbGl0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLm9wUXVhbExpc3QuaW5kZXhPZihvcHEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1FVQUxJVFkuZGVsZXRlKHsgaWQ6IG9wcS5vcF9xdWFsaXR5X2lkIH0sIG9wcSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wUXVhbExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gUXVhbGl0eSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHF1YWxpdHk6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0dW0gbG9jYXRpb24gcXVhbGl0eTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBPUFF1YWxpdHkgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gT1BUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BUeXBlTGlzdCA9IGFsbE9ialB0VHlwZXM7IC8vb3B0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QVEZvcm0gPSBmYWxzZTsgLy9hZGQgc29tZXRoaW5nIG5ldyB0byBhIGxvb2t1cCBjbGlja2VkICh3aWxsIHVuaGlkZSBmb3JtIGJlbG93IGl0KSBGYWxzZS0+IGZvcm06IGhpZGRlbiwgVHJ1ZS0+IGZvcm06IHZpc2libGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdPUFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRDbGlja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkT1BURm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE9QVCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRPUFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRPUFRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IGJ1dHRvbiAgIFxyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkT1BUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9UWVBFLnNhdmUoJHNjb3BlLm5ld09QVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3T1BUID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE9QVEZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkT1BUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkYXR1bSBsb2NhdGlvbiB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZU9QVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgT1BfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlT1BUeXBlID0gZnVuY3Rpb24gKG9wdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk9iamVjdGl2ZSBQb2ludCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUub3BUeXBlTGlzdC5pbmRleE9mKG9wdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BfVFlQRS5kZWxldGUoeyBpZDogb3B0Lm9iamVjdGl2ZV9wb2ludF90eXBlX2lkIH0sIG9wdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0dW0gbG9jYXRpb24gdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBPUFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU2Vuc29yQnJhbmQgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zQnJhbmRMaXN0ID0gYWxsU2Vuc29yQnJhbmRzOyAvL3NiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFNCRm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNCQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3U0IgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkNsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU0JCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZFNCID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTQiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU0JGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTQkJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRTZW5zb3JCcmFuZCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX0JSQU5ELnNhdmUoJHNjb3BlLm5ld1NCLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0JyYW5kTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTQiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTQkZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU0JCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIEJyYW5kIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlU2Vuc29yQnJhbmQgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFNFTlNPUl9CUkFORC51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBCcmFuZCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yIGJyYW5kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlU2Vuc29yQnJhbmQgPSBmdW5jdGlvbiAoc2IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lVG9SZW1vdmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlNlbnNvciBCcmFuZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnNlbnNCcmFuZExpc3QuaW5kZXhPZihzYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX0JSQU5ELmRlbGV0ZSh7IGlkOiBzYi5zZW5zb3JfYnJhbmRfaWQgfSwgc2IsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zQnJhbmRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBCcmFuZCBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciBicmFuZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzZW5zb3IgYnJhbmQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gU2Vuc29yQnJhbmQgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGVwVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0ID0gYWxsRGVwbG95bWVudFR5cGVzOyAvL2R0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZERURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZERUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGREVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZERUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGREVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkRGVwVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9UWVBFLnNhdmUoJHNjb3BlLm5ld0RULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3RFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkRFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZERUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVEZXBUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBERVBMT1lNRU5UX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVEZXBUeXBlID0gZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRGVwbG95bWVudCBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUuZGVwVHlwZUxpc3QuaW5kZXhPZihkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQTE9ZTUVOVF9UWVBFLmRlbGV0ZSh7IGlkOiBkdC5kZXBsb3ltZW50X3R5cGVfaWQgfSwgZHQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIERlcFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU3RhdHVzVHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRUeXBlTGlzdCA9IGFsbFN0YXR1c1R5cGVzOyAvL3N0YXRUXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFN0YXRURm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXRUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3U3RhdFQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTdGF0VENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTdGF0VEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU3RhdFRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZFN0YXRUID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTdGF0VCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTdGF0VEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5BZGRTdGF0dXNUeXBlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTVEFUVVNfVFlQRS5zYXZlKCRzY29wZS5uZXdTdGF0VCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRUeXBlTGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTdGF0VFQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU3RhdFRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFN0YXRUQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlN0YXR1cyBUeXBlIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVN0YXR1c1R5cGUgPSBmdW5jdGlvbiAoZGF0YSwgaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0dXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIFNUQVRVU19UWVBFLnVwZGF0ZSh7IGlkOiBpZCB9LCBkYXRhLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU3RhdHVzIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHN0YXR1cyB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVTdGF0dXNUeXBlID0gZnVuY3Rpb24gKHN0YXRUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRUO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTdGF0dXMgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnN0YXRUeXBlTGlzdC5pbmRleE9mKHN0YXRUKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTVEFUVVNfVFlQRS5kZWxldGUoeyBpZDogc3RhdFQuc3RhdHVzX3R5cGVfaWQgfSwgc3RhdFQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0VHlwZUxpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU3RhdHVzIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBzdGF0dXMgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBTdGF0dXNUeXBlIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFNlbnNvclR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zVHlwZUxpc3QgPSBhbGxTZW5zb3JUeXBlczsvLyBhbGxTZW5zb3JUeXBlczsgLy9zZW5UXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29tbWFTZXBEZXBNRVRIT0RTID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgLy9hZGQgdGhlIGRlcGxveW1lbnQgdHlwZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXR0ZWRTZW5zVHlwZUxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zVHlwZUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoc2Vuc1R5cGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS5nZXRTZW5zb3JEZXBsb3ltZW50VHlwZXMoeyBpZDogc2Vuc1R5cGUuc2Vuc29yX3R5cGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwcyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW5zVHlwZS5EZXBUeXBlcyA9IFtdOyB2YXIgRGVwTVN0cmluZ3MgPSBbXTsgc2Vuc1R5cGUuRGVwTUVUSE9EU3RyaW5ncyA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHMuZm9yRWFjaChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNUeXBlLkRlcFR5cGVzLnB1c2goZC5kZXBsb3ltZW50X3R5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlcE1TdHJpbmdzLnB1c2goZC5tZXRob2QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNUeXBlLkRlcE1FVEhPRFN0cmluZ3MgPSBEZXBNU3RyaW5ncy5qb2luKCcsICcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5wdXNoKHNlbnNUeXBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIGRlcGxveW1lbnQgdHlwZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2hlY2tsaXN0IGZvciBkZXBsb3ltZW50IHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0RlcFR5cGVzID0gZnVuY3Rpb24gKFNlblQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoU2VuVC5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZC5wdXNoKHMubWV0aG9kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZC5sZW5ndGggPyBzZWxlY3RlZC5qb2luKCcsICcpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcyA9IFtdOyAvL3RoZXNlIGFyZSB0aGUgb25lcyB0byByZW1vdmUgd2hlbiB0aGV5IGNsaWNrIHNhdmVcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGVja0xpc3RDaGVjayA9IGZ1bmN0aW9uIChvcmlnaW5hbENoZWNrZWQsIG5vd0NoZWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL29yaWdpbmFsQ2hlY2tlZCAtLSB3aGF0IHRoZSBtb2RlbCBoYWQgYmVmb3JlIHRoaXMgY2xpY2sgZXZlbnQgd2FzIHRyaWdnZXJlZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93Q2hlY2tlZCAtLSB3aGF0IGRlcGxveW1lbnQgdHlwZXMgYXJlIG5vdyBjaGVja2VkLi4gbG9vayBmb3IgZGlmZmVyZW5jZXMgYW5kIHJlbW92ZSBpZiBsZXNzIHRoYW4sIG90aGVyIHdpc2UgZG8gbm90aGluZywgdGhlIHNhdmUgd2lsbCBoYW5kbGUgYWRkaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vd0NoZWNrZWQubGVuZ3RoIDwgb3JpZ2luYWxDaGVja2VkLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VuY2hlY2tlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gob3JpZ2luYWxDaGVja2VkLCBmdW5jdGlvbiAob2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChub3dDaGVja2VkLmluZGV4T2Yob2MpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IHRoZXJlIGFueW1vcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsZXRlRGVwID0gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZHQpIHsgcmV0dXJuIGR0LmRlcGxveW1lbnRfdHlwZV9pZCA9PSBvYzsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgeW91IGRvbid0IGFkZCBpdCB0d2ljZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLnJlbW92ZVRoZXNlRGVwVHlwZXMubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlc1tkXS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gZGVsZXRlRGVwLmRlcGxveW1lbnRfdHlwZV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yZ2V0dGFib3V0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9ICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5wdXNoKGRlbGV0ZURlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcy5wdXNoKGRlbGV0ZURlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZFNlblRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdTZW5UID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkU2VuVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTZW5UQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRTZW5UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTZW5UID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZGVwVHlwZUxpc3QsIGZ1bmN0aW9uIChkKSB7IGQuc2VsZWN0ZWQgPSBmYWxzZTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkU2VuVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbmV3IHNlbnNvciB0eXBlIGJlaW5nIGFkZGVkLCB0aGV5IGNoZWNrZWQgdG8gcmVsYXRlIGEgZGVwbG95bWVudCB0eXBlLiBzdG9yZSBmb3IgdXNlIGR1cmluZyBzYXZlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRGVwVHlwZVRvTmV3U2VuVCA9IGZ1bmN0aW9uIChkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkdC5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RvbnQgYWRkIGl0IG1vcmUgdGhhbiBvbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLm5ld0RlcFR5cGVSZWxhdGluZy5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nW2RdLmRlcGxveW1lbnRfdHlwZV9pZCA9PSBkdC5kZXBsb3ltZW50X3R5cGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3JnZXR0YWJvdXQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZCA9ICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcucHVzaChkdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSAkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcucHVzaChkdCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkU2Vuc29yVHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3U2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhdGVkRGVwcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUuc2F2ZSgkc2NvcGUubmV3U2VuVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2VuVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRTZW5URm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRTZW5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBzZWUgaWYgdGhleSByZWxhdGVkIGFueSBkZXBsb3kgc2Vuc29yc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdEZXBUeXBlUmVsYXRpbmcubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUubmV3RGVwVHlwZVJlbGF0aW5nLCBmdW5jdGlvbiAobmR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBuZHQuc2VsZWN0ZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWREZXBzLnB1c2gobmR0LmRlcGxveW1lbnRfdHlwZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmFkZFNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBuZXdTZW5zb3Iuc2Vuc29yX3R5cGVfaWQsIGRlcGxveW1lbnRUeXBlSWQ6IG5kdC5kZXBsb3ltZW50X3R5cGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyBzZW5zb3IgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3U2Vuc29yLkRlcFR5cGVzID0gcmVsYXRlZERlcHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZm9ybWF0dGVkU2Vuc1R5cGVMaXN0LnB1c2gobmV3U2Vuc29yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIFR5cGUgQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2Vuc29yIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlU2Vuc29yVHlwZSA9IGZ1bmN0aW9uIChkYXRhLCBpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wdWxsIG91dCBqdXN0IHRoZSBzZW5zb3IgYW5kIHRoZW4gdGhlIGRlcGxveW1lbnQgdHlwZSB0byBwb3N0IHNlcGFyYXRlbHlcclxuICAgICAgICAgICAgICAgICAgICB2YXIgU1QgPSB7IHNlbnNvcl90eXBlX2lkOiBkYXRhLnNlbnNvcl90eXBlX2lkLCBzZW5zb3I6IGRhdGEuc2Vuc29yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERUcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ2V0IHRoZSBEZXBsb3ltZW50IFR5cGVzIGZyb20gdGhlIGxpc3Qgb2YgaWRzIGluIGRhdGEuRGVwVHlwZXNcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmRlcFR5cGVMaXN0LCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RUID0geyBkZXBsb3ltZW50X3R5cGVfaWQ6IHMuZGVwbG95bWVudF90eXBlX2lkLCBtZXRob2Q6IHMubWV0aG9kIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEVHMucHVzaCh0aGlzRFQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgdXBkYXRlIHRoZSBzZW5zb3IgYW5kIHRoZW4gYW55IERlcCBUeXBlcyB0aGV5IGFkZGVkIG9yIHJlbW92ZWRcclxuICAgICAgICAgICAgICAgICAgICBTRU5TT1JfVFlQRS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goRFRzLCBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmFkZFNlbnNvckRlcGxveW1lbnRUeXBlKHsgc2Vuc29yVHlwZUlkOiBpZCwgZGVwbG95bWVudFR5cGVJZDogbmR0LmRlcGxveW1lbnRfdHlwZV9pZCB9LCBkdCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveW1lbnQgVHlwZSBpcyBub3cgcmVsYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UxLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UxLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UxLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBUeXBlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHRob3NlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUucmVtb3ZlVGhlc2VEZXBUeXBlcywgZnVuY3Rpb24gKHJkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUucmVtb3ZlU2Vuc29yRGVwbG95bWVudFR5cGUoeyBzZW5zb3JUeXBlSWQ6IGlkLCBEZXBsb3ltZW50VHlwZUlkOiByZHQuZGVwbG95bWVudF90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEZXBsb3ltZW50IFR5cGUgaXMgbm8gbG9uZ2VyIHJlbGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bnJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5yZWxhdGluZyBkZXBsb3ltZW50IHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IG1ha2Ugc3VyZSAkc2NvcGUgbW9kZWwgaXMgdXBkYXRlZD9cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVNlbnNvclR5cGUgPSBmdW5jdGlvbiAoc2VuVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5UO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3IgVHlwZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5pbmRleE9mKHNlblQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgU1QgPSB7IHNlbnNvcl90eXBlX2lkOiBzZW5ULnNlbnNvcl90eXBlX2lkLCBzZW5zb3I6IHNlblQuc2Vuc29yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBkZWxldGUgdGhlIHJlbGF0aW9uc2hpcCBiZWZvcmUgSSBjYW4gZGVsZXRlIHRoZSBzZW5zb3IgdHlwZSAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZGVwVHlwZUxpc3QsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VuVC5EZXBUeXBlcy5pbmRleE9mKHMuZGVwbG95bWVudF90eXBlX2lkKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgaXQgYW5kIHRoZW4gZGVsZXRlIHRoZSByZWxhdGlvbnNoaXBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RUID0geyBkZXBsb3ltZW50X3R5cGVfaWQ6IHMuZGVwbG95bWVudF90eXBlX2lkLCBtZXRob2Q6IHMubWV0aG9kIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU0VOU09SX1RZUEUucmVtb3ZlU2Vuc29yRGVwbG95bWVudFR5cGUoeyBzZW5zb3JUeXBlSWQ6IFNULnNlbnNvcl90eXBlX2lkLCBEZXBsb3ltZW50VHlwZUlkOiB0aGlzRFQuZGVwbG95bWVudF90eXBlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bnJlbGF0aW5nIGRlcGxveW1lbnQgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVucmVsYXRpbmcgZGVwbG95bWVudCB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBkZWxldGUgdGhlIHNlbnNvciAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNFTlNPUl9UWVBFLmRlbGV0ZSh7IGlkOiBTVC5zZW5zb3JfdHlwZV9pZCB9LCBTVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvcm1hdHRlZFNlbnNUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhlIERlcGxveW1lbnQgVHlwZXMgZnJvbSB0aGUgbGlzdCBvZiBpZHMgaW4gZGF0YS5EZXBUeXBlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVHlwZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHNlbnNvciB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFNlbnNvclR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gTmV0VHlwZSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ldFR5cGVMaXN0ID0gYWxsTmV0d29ya1R5cGVzOyAvL250XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZE5URm9ybSA9IGZhbHNlOyAvL2FkZCBzb21ldGhpbmcgbmV3IHRvIGEgbG9va3VwIGNsaWNrZWQgKHdpbGwgdW5oaWRlIGZvcm0gYmVsb3cgaXQpIEZhbHNlLT4gZm9ybTogaGlkZGVuLCBUcnVlLT4gZm9ybTogdmlzaWJsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3TlQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Nob3cgQWRkIE5ldyAuLi4uIGNsaWNrZWQsIGhpZGUgdGhlIGJ1dHRvbiBhbmQgc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROVENsaWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGROVEZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkTlRCdXR0b25TaG93aW5nID0gZmFsc2U7IC8vaGlkZSBidXR0b24gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5ldmVyTWluZE5UID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdOVCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGROVEJ1dHRvblNob3dpbmcgPSB0cnVlOyAvL3Nob3cgYnV0dG9uICAgXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkTmV0VHlwZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkVUV09SS19UWVBFLnNhdmUoJHNjb3BlLm5ld05ULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV0VHlwZUxpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3TlQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkTlRGb3JtID0gZmFsc2U7IC8vaGlkZSB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5UQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk5ldHdvcmsgVHlwZSBBZGRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmVOZXRUeXBlID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBORVRXT1JLX1RZUEUudXBkYXRlKHsgaWQ6IGlkIH0sIGRhdGEsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXIgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIFR5cGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG5ldHdvcmsgdHlwZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXI7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZWxldGVOZXRUeXBlID0gZnVuY3Rpb24gKG50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTmV0d29yayBUeXBlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChrZXlUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcmVtb3ZlIHRoaXMga2V5d29yZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAkc2NvcGUubmV0VHlwZUxpc3QuaW5kZXhPZihudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTkVUV09SS19UWVBFLmRlbGV0ZSh7IGlkOiBudC5uZXR3b3JrX3R5cGVfaWQgfSwgbnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXRUeXBlTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJOZXR3b3JrIFR5cGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBuZXR3b3JrIHR5cGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbmV0d29yayB0eXBlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIE5ldFR5cGUgQWRkL1VwZGF0ZS9EZWxldGVcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gVmVydENvbE1ldGggQWRkL1VwZGF0ZS9EZWxldGVcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sTWV0aExpc3QgPSBhbGxWZXJ0aWNhbENvbGxNZXRob2RzOyAvL3ZjbVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWQ01Gb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc3RhcnQgaXQgYXQgdHJ1ZS4ud2hlbiBjbGlja2VkLCBzaG93IGZvcm0sIGhpZGUgYnV0dG9uXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkNNID0ge307XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zaG93IEFkZCBOZXcgLi4uLiBjbGlja2VkLCBoaWRlIHRoZSBidXR0b24gYW5kIHNob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkNNQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUZvcm0gPSB0cnVlOyAvL3Nob3cgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IGZhbHNlOyAvL2hpZGUgYnV0dG9uICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OZXZlck1pbmRWQ00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZDTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkNNRm9ybSA9IGZhbHNlOyAvL2hpZGUgdGhlIGZvcm1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZFZlcnRDb2xNZXRoID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9DT0xMX01FVEhPRC5zYXZlKCRzY29wZS5uZXdWQ00sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sTWV0aExpc3QucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3VkNNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZDTUZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkNNQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyB0aGUgYnV0dG9uIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kIEFkZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2F2ZVZlcnRDb2xNZXRoID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9DT0xMX01FVEhPRC51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIENvbGxlY3Rpb24gTWV0aG9kIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBjb2xsZWN0aW9uIG1ldGhvZDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlVmVydENvbE1ldGggPSBmdW5jdGlvbiAodmNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZjbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiVmVydGljYWwgQ29sbGVjdGlvbiBNZXRob2RcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGtleVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICRzY29wZS52ZXJ0Q29sTWV0aExpc3QuaW5kZXhPZih2Y20pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZFUlRJQ0FMX0NPTExfTUVUSE9ELmRlbGV0ZSh7IGlkOiB2Y20udmNvbGxlY3RfbWV0aG9kX2lkIH0sIHZjbSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xNZXRoTGlzdC5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJWZXJ0aWNhbCBDb2xsZWN0aW9uIE1ldGhvZCBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIHZlcnRpY2FsIGNvbGxlY3Rpb24gbWV0aG9kOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIFZlcnRDb2xNZXRoIEFkZC9VcGRhdGUvRGVsZXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIFZlcnREYXR1bSBBZGQvVXBkYXRlL0RlbGV0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZlcnREYXRMaXN0ID0gYWxsVmVydGljYWxEYXR1bXM7IC8vdmRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93QWRkVkRGb3JtID0gZmFsc2U7IC8vYWRkIHNvbWV0aGluZyBuZXcgdG8gYSBsb29rdXAgY2xpY2tlZCAod2lsbCB1bmhpZGUgZm9ybSBiZWxvdyBpdCkgRmFsc2UtPiBmb3JtOiBoaWRkZW4sIFRydWUtPiBmb3JtOiB2aXNpYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zdGFydCBpdCBhdCB0cnVlLi53aGVuIGNsaWNrZWQsIHNob3cgZm9ybSwgaGlkZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5uZXdWRCA9IHt9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBBZGQgTmV3IC4uLi4gY2xpY2tlZCwgaGlkZSB0aGUgYnV0dG9uIGFuZCBzaG93IHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZEQ2xpY2tlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0FkZFZERm9ybSA9IHRydWU7IC8vc2hvdyB0aGUgZm9ybVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRWREJ1dHRvblNob3dpbmcgPSBmYWxzZTsgLy9oaWRlIGJ1dHRvbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTmV2ZXJNaW5kVkQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1ZEID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZFZEQnV0dG9uU2hvd2luZyA9IHRydWU7IC8vc2hvdyBidXR0b24gICBcclxuXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkFkZFZlcnREYXR1bSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkVSVElDQUxfREFUVU0uc2F2ZSgkc2NvcGUubmV3VkQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0TGlzdC5wdXNoKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdWRCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dBZGRWREZvcm0gPSBmYWxzZTsgLy9oaWRlIHRoZSBmb3JtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkVkRCdXR0b25TaG93aW5nID0gdHJ1ZTsgLy9zaG93IHRoZSBidXR0b24gYWdhaW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiVmVydGljYWwgRGF0dW0gQWRkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlVmVydERhdHVtID0gZnVuY3Rpb24gKGRhdGEsIGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBWRVJUSUNBTF9EQVRVTS51cGRhdGUoeyBpZDogaWQgfSwgZGF0YSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIERhdHVtIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1ciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyB2ZXJ0aWNhbCBkYXR1bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cjtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsZXRlVmVydERhdHVtID0gZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJWZXJ0aWNhbCBEYXR1bVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoa2V5VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJHNjb3BlLnZlcnREYXRMaXN0LmluZGV4T2YodmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFZFUlRJQ0FMX0RBVFVNLmRlbGV0ZSh7IGlkOiB2ZC5kYXR1bV9pZCB9LCB2ZCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZlcnREYXRMaXN0LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlZlcnRpY2FsIERhdHVtIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgdmVydGljYWwgZGF0dW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gVmVydERhdHVtIEFkZC9VcGRhdGUvRGVsZXRlXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gQUxMIExPT0tVUFMgKGFkZC91cGRhdGUvZGVsZXRlKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICAvL2RlcGxveSBuZXcgb3IgcHJvcG9zZWQgc2Vuc29yLCBlZGl0IGRlcGxveWVkIG1vZGFsXHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NlbnNvck1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHRpbWVvdXQnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHNjZScsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAnU0VSVkVSX1VSTCcsICdGSUxFX1NUQU1QJywgJ2FsbERyb3Bkb3ducycsICdhZ2VuY3lMaXN0JywgJ1NpdGVfRmlsZXMnLCAnYWxsRGVwVHlwZXMnLCAndGhpc1NlbnNvcicsICdTZW5zb3JTaXRlJywgJ3NpdGVPUHMnLCAnYWxsTWVtYmVycycsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ0RBVEFfRklMRScsICdGSUxFJywgJ1NPVVJDRScsICdPUF9NRUFTVVJFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdGltZW91dCwgJGNvb2tpZXMsICRodHRwLCAkc2NlLCAkdWliTW9kYWxJbnN0YW5jZSwgJHVpYk1vZGFsLCBTRVJWRVJfVVJMLCBGSUxFX1NUQU1QLCBhbGxEcm9wZG93bnMsIGFnZW5jeUxpc3QsIFNpdGVfRmlsZXMsIGFsbERlcFR5cGVzLCB0aGlzU2Vuc29yLCBTZW5zb3JTaXRlLCBzaXRlT1BzLCBhbGxNZW1iZXJzLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgREFUQV9GSUxFLCBGSUxFLCBTT1VSQ0UsIE9QX01FQVNVUkUpIHtcclxuICAgICAgICAgICAgLy9kcm9wZG93bnMgWzBdYWxsU2Vuc29yVHlwZXMsIFsxXWFsbFNlbnNvckJyYW5kcywgWzJdYWxsSG91c2luZ1R5cGVzLCBbM11hbGxTZW5zRGVwcywgWzRdYWxsRXZlbnRzICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JUeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckJyYW5kTGlzdCA9IGFsbERyb3Bkb3duc1sxXTtcclxuICAgICAgICAgICAgJHNjb3BlLmhvdXNlVHlwZUxpc3QgPSBhbGxEcm9wZG93bnNbMl07XHJcbiAgICAgICAgICAgIC8vICRzY29wZS5zZW5zb3JEZXBsb3lMaXN0ID0gYWxsRHJvcGRvd25zWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0ID0gYWxsRHJvcGRvd25zWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzRdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBkZXBTZW5zIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxEcm9wZG93bnNbNV07XHJcbiAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXMgPSB0aGlzU2Vuc29yICE9PSBcImVtcHR5XCIgPyAkc2NvcGUuYWxsU0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2YpIHsgcmV0dXJuIHNmLmluc3RydW1lbnRfaWQgPT0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkOyB9KSA6IFtdOy8vIGhvbGRlciBmb3IgaHdtIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcyA9ICRzY29wZS5EZXBTZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGhmKSB7IHJldHVybiBoZi5maWxldHlwZV9pZCA9PT0gMTsgfSk7IC8vaW1hZ2UgZmlsZXMgZm9yIGNhcm91c2VsXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgZmlsZSB0byBod21cclxuICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgbndpcyBmaWxlIHRvIHNlbnNvclxyXG4gICAgICAgICAgICAkc2NvcGUuT1BzUHJlc2VudCA9IHNpdGVPUHMubGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gc2l0ZU9QcztcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZU9QTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBvZiB0YXBlZG93biBPUF9NRUFTVVJFTUVOVFNcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0ID0gYWxsRGVwVHlwZXM7IC8vZ2V0IGZyZXNoIHZlcnNpb24gc28gbm90IG1lc3NlZCB1cCB3aXRoIHRoZSBUZW1wZXJhdHVyZSB0d2ljZVxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSBmYWxzZTsgLy90b2dnbGUgdG8gc2hvdy9oaWRlIGV2ZW50IGRkIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307IC8vd2lsbCBob2xkIGV2ZW50X2lkIGlmIGFkbWluIGNoYW5nZXMgaXQuIGFwcGx5IHdoZW4gUFVUdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlID0ge307IC8vaG9sZGVyIGZvciBtaW51dGUvc2Vjb25kIHJhZGlvIGJ1dHRvbnNcclxuICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gXCJcIjsgLy9ob2xkZXIgZm9yIHNhdmUvZGVwbG95IGJ1dHRvbiBhdCBlbmQgLi4gJ2RlcGxveScgaWYgcHJvcG9zZWQtPmRlcGxveWVkLCBhbmQgZm9yIGRlcGxveWluZyBuZXcgb3Igc2F2ZSBpZiBlZGl0aW5nIGV4aXN0aW5nXHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkc2NvcGUubndpc0hlYWRlclRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ0Nvbm5lY3QgeW91ciB0cmFuc21pdHRpbmcgc2Vuc29yIHdpdGggTldJUyB2aWEgPGVtPlN0YXRpb24gSUQgZm9yIFVTR1MgZ2FnZTwvZW0+IGZyb20gdGhlIFNpdGUgZGV0YWlscy4nKTtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZXcgPSB7IERFUHZhbDogJ2RldGFpbCcsIFJFVHZhbDogJ2RldGFpbCcgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRhdGFOV0lTID0gZmFsc2U7IC8vaXMgdGhpcyBhIHJhaW4gZ2FnZSwgbWV0IHN0YXRpb24sIG9yIHJkZyBzZW5zb3IgLS0gaWYgc28sIGRhdGEgZmlsZSBtdXN0IGJlIGNyZWF0ZWQgcG9pbnRpbmcgdG8gbndpcyAod2UgZG9uJ3Qgc3RvcmUgYWN0dWFsIGZpbGUsIGp1c3QgbWV0YWRhdGEgd2l0aCBsaW5rKVxyXG4gICAgICAgICAgICAkc2NvcGUucyA9IHsgZGVwT3BlbjogdHJ1ZSwgc0ZpbGVPcGVuOiBmYWxzZSwgTldJU0ZpbGVPcGVuOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMSA9IGZhbHNlOyAvL3NldCB0byB0cnVlIGFuZCBzaG93IGhpZ2hjaGFydCB3aXRoIGNob3BwZXIgcmVzdWx0c1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMUtleXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczEgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuemlwID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlLCBhcnJbaV1dO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vJHNjb3BlLnJlbmRlcmVyID0gbmV3IEhpZ2hjaGFydHMuUmVuZGVyZXIoXHJcbiAgICAgICAgICAgICRzY29wZS5ydW5DaG9wcGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczEgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMUtleXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hhcnRPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJlbmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBzZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1bkNob3BwZXJTY3JpcHQoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMUtleXMgPSBPYmplY3Qua2V5cyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLkVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWxlZENob3BwZXIgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgd2FzIGFuIGVycm9yIHJ1bm5pbmcgdGhlIGNob3BwZXIuPC9wPjxwPkVycm9yOiB7e2Vycm9yTWVzc2FnZX19PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdtZXNzYWdlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IHJlc3BvbnNlLnRpbWUuemlwKHJlc3BvbnNlLnByZXNzdXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHJlc2V0IHRoZSBzdGFydC9lbmQgZGF0ZXMgdG8gdGhlIDFzdCBhbmQgbGFzdCBhcyB0aGUgY2hhcnREYXRhLnRpbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzRGF0ZSA9IG5ldyBEYXRlKHJlc3BvbnNlLnRpbWVbMF0pLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZURhdGUgPSBuZXcgRGF0ZShyZXNwb25zZS50aW1lW3Jlc3BvbnNlLnRpbWUubGVuZ3RoIC0gMV0pLnRvSVNPU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2QgPSBnZXREYXRlVGltZVBhcnRzKHNEYXRlKTsgdmFyIGVkID0gZ2V0RGF0ZVRpbWVQYXJ0cyhlRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IHNkOyAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPcHRpb25zMSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmogPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tVHlwZTogJ3gnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFpvb21CdXR0b246IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ246ICdsZWZ0JywgLy8gYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICdib3R0b20nLCAvLyBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8geDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiA3MFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5uaW5nOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYW5LZXk6ICdzaGlmdCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvb3N0VGhyZXNob2xkOiAyMDAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsb3RPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlcmllczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpY2s6IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnRDbGljayA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPldvdWxkIHlvdSBsaWtlIHRvIHNldCB0aGlzICh7e3RoaXNEYXRlfX0pIGFzOjwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjpjZW50ZXI7XCI+PHNwYW4gY2xhc3M9XCJyYWRpby1pbmxpbmVcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIndoaWNoRGF0ZVwiIG5nLW1vZGVsPVwid2hpY2hEYXRlXCIgdmFsdWU9XCJzdGFydFwiIC8+R29vZCBTdGFydCBEYXRlPC9zcGFuPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwicmFkaW8taW5saW5lXCI+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ3aGljaERhdGVcIiBuZy1tb2RlbD1cIndoaWNoRGF0ZVwiIHZhbHVlPVwiZW5kXCIgLz5Hb29kIEVuZCBEYXRlPC9zcGFuPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJjYW5jZWwoKVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnY2hvc2VuRGF0ZScsICd4RXZlbnQnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgY2hvc2VuRGF0ZSwgeEV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLndoaWNoRGF0ZSA9PSBcIlwiKSBhbGVydChcIk5vIERhdGUgY2hvc2VuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0cyA9IFskc2NvcGUud2hpY2hEYXRlLCBjaG9zZW5EYXRlLCB4RXZlbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UocGFydHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2hpY2hEYXRlID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc0RhdGUgPSBuZXcgRGF0ZShjaG9zZW5EYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNob3NlbkRhdGU6IGV2ZW50LnBvaW50LmNhdGVnb3J5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhFdmVudDogZXZlbnQuY2hhcnRYXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRDbGljay5yZXN1bHQudGhlbihmdW5jdGlvbiAocGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGFydCA9ICRzY29wZS5jaGFydE9iai54QXhpc1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlJ3MgYWxyZWFkeSBhIHBsb3RsaW5lIHdpdGggdGhpcyBpZCBhbmQgcmVtb3ZlIGl0IGlmIHNvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5yZW1vdmVQbG90TGluZShwYXJ0c1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdGhlIHBsb3QgbGluZSB0byB2aXN1YWxseSBzZWUgd2hlcmUgdGhleSBhZGRlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQuYWRkUGxvdExpbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjaGFydC50b1ZhbHVlKHBhcnRzWzJdKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogcGFydHNbMF0gPT0gXCJzdGFydFwiID8gJyMwMGZmMDAnIDogJyNmZjAwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXJ0c1swXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB6SW5kZXg6IDE5OTk5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7IHRleHQ6IHBhcnRzWzBdIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZURhdGUgPSBuZXcgRGF0ZShwYXJ0c1sxXSkudG9JU09TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkID0gZ2V0RGF0ZVRpbWVQYXJ0cyh0aGVEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJ0c1swXSA9PSBcInN0YXJ0XCIpICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93UG9pbnRTZWxlY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vdXNlT3ZlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VyaWVzLmhhbG8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlcmllcy5oYWxvLmF0dHIoeyAnY2xhc3MnOiAnaGlnaGNoYXJ0cy10cmFja2VyJyB9KS50b0Zyb250KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2UgLy8gdHVybiBkb3RzIG9mZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnUHJldmlldyBvZiBQcmVzc3VyZSBEYXRhJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VidGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJ0NsaWNrIGFuZCBkcmFnIHRvIHpvb20gaW4uIEhvbGQgZG93biBzaGlmdCBrZXkgdG8gcGFuLiBUbyBzZWxlY3QgR29vZCBTdGFydC9FbmQgRGF0ZSwgY2xpY2sgcG9pbnQgb24gbGluZS4nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4QXhpczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogJHNjb3BlLmNob3BwZXJSZXNwb25zZTFLZXlzWzFdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRldGltZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVUaW1lTGFiZWxGb3JtYXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmQ6ICclWS0lbS0lZDxici8+JUg6JU06JVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlOiAnJVktJW0tJWQ8YnIvPiVIOiVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdXI6ICclWS0lbS0lZDxici8+JUg6JU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF5OiAnJVk8YnIvPiVtLSVkJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdlZWs6ICclWTxici8+JW0tJWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9udGg6ICclWS0lbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ZWFyOiAnJVknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogMTBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMUtleXNbMF1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICd7dmFsdWV9IHBzaSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiAkc2NvcGUuY2hhcnREYXRhLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UxID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhlIGZpbGUgd2Fzbid0IHRoZXJlLi5cclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2Zvcm1hdHRpbmcgZGF0ZSBhbmQgdGltZSBwcm9wZXJseSBmb3IgY2hyb21lIGFuZCBmZlxyXG4gICAgICAgICAgICB2YXIgZ2V0RGF0ZVRpbWVQYXJ0cyA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBpc0RhdGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUgPT09IGZhbHNlKSB7IC8vIFwiMjAxNy0wOS0yOFQwOTozMzowOVwiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBkLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IGQuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoID0gZC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VjID0gZC5zdWJzdHIoMTcsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZURhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkYSwgaCwgbWksIHNlYyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZURhdGUgPSBkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoZURhdGU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL25ldyBkYXRldGltZXBpY2tlciBodHRwczovL2dpdGh1Yi5jb20vemhhYmVyL2FuZ3VsYXItanMtYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nRGF5OiAxLFxyXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIGZpbGUgVXBsb2FkXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgPT0gdW5kZWZpbmVkICYmICRzY29wZS5hRmlsZS5GaWxlID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IG5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9pZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUZpbGUuaHdtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhX2ZpbGVfaWQ6ICRzY29wZS5hRmlsZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNfbndpczogJHNjb3BlLmFGaWxlLmlzX253aXMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5hRmlsZS5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuYUZpbGUuRmlsZTEgOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxLnR5cGUuaW5kZXhPZihcImltYWdlXCIpID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5uYW1lID0gZnJlc3BvbnNlLm5hbWU7ICRzY29wZS5hRmlsZS5wYXRoID0gZnJlc3BvbnNlLnBhdGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZTEgPSB1bmRlZmluZWQ7IC8vcHV0IGl0IGFzIGZpbGUgYW5kIHJlbW92ZSBpdCBmcm9tIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyID8gXCJEYXRhRmlsZSBGaWxlXCIgOiBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIG9wXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgb3AgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5EZXBTZW5zb3JGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLm5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZkkgPSAkc2NvcGUuYUZpbGUubmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlRXh0Lm1hdGNoKC8oanBnfEpQR3xqcGVnfEpQRUd8cG5nfFBOR3xnaWZ8R0lGKSQvKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNyYyA9ICRzY29wZS5zZXJ2ZXJVUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuYUZpbGUuZmlsZV9pZCArICcvSXRlbScgKyBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBhZ2VuY3kgbmFtZSB0byBwaG90byBjYXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuZGF0YV9maWxlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnF1ZXJ5KHsgaWQ6IGZpbGUuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBkdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gXCJVVENcIjsvLyBkdFsxXTsgLy93aWxsIGJlIGNvbnZlcnRlZCB0byB1dGMgb24gcG9zdC9wdXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IG51bGw7Ly9uZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IG51bGw7Ly9uZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBuZXcgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkIHx8IGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGRhdGEgc3RhcnQgZGF0ZSBvciBnb29kIGRhdGEgZW5kIGRhdGUgaXMgbWlzc2luZy4gRWl0aGVyIGNob29zZSBhIGRhdGUsIG9yIGNsaWNrIFByZXZpZXcgRGF0YSB0byBnZXQgYSBjaGFydCBvZiB0aGUgZGF0YSwgd2hlcmUgeW91IGNhbiBjaG9vc2UgdGhlIGRhdGVzLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlzc2luZ0RhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IHRydWU7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHNvdXJjZSBvciBkYXRhZmlsZSBmaXJzdCB0byBnZXQgc291cmNlX2lkIG9yIGRhdGFfZmlsZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5pbnN0cnVtZW50X2lkID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YWZpbGVJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuc2F2ZSgkc2NvcGUuZGF0YWZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGRmUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZUlEID0gZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUuRmlsZS5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiBkZlJlc3BvbnNlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgJHNjb3BlLmFTb3VyY2UgPSB7fTsgJHNjb3BlLmRhdGFmaWxlID0ge307ICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsZSBkaWQgbm90IGdldCBjcmVhdGVkLCBkZWxldGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmRlbGV0ZSh7IGlkOiBkYXRhZmlsZUlEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGRhdGFmaWxlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pdCdzIG5vdCBhIGRhdGEgZmlsZSwgc28gZG8gdGhlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9Oy8vLCBTT1VSQ0VfREFURTogJHNjb3BlLmFTb3VyY2UuU09VUkNFX0RBVEUgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlX2RkOiAkc2NvcGUuYUZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLmRlcFNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbGluayBmaWxlLCBubyBmaWxlSXRlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS50aGlzU2Vuc29yU2l0ZS5zaXRlX2lkOyAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBTZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGVsc2UgKGl0J3MgYSBMaW5rIGZpbGUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFzIERBVEFfRklMRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRpbWV6b25lIGFuZCBtYWtlIHN1cmUgZGF0ZSBzdGF5cyB1dGNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkIH0sICRzY29wZS5kYXRhZmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2hhcyBTT1VSQ0VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiU2Vuc29yIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5kZXBTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJzogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2VuZCBmaWxlIFVwbG9hZFxyXG5cclxuICAgICAgICAgICAgLy8gTldJUyBDb25uZWN0aW9uXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBpZiAoZiAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWRpdCBOV0lTIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZik7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0gYW5ndWxhci5jb3B5KGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0ZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5GaWxlVHlwZSA9IFwiRGF0YVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5OV0lTREYucHJvY2Vzc29yX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmNvbGxlY3RfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLk5XSVNERi5nb29kX2VuZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0aW5nIGEgbndpcyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaHR0cHM6Ly93YXRlcmRhdGEudXNncy5nb3Yvbndpcy91dj9zaXRlX25vPScgKyAkc2NvcGUudGhpc1NlbnNvclNpdGUudXNnc19zaWQsICAvLyBpZiBbZmlsbCBpbiBpZiBub3QgaGVyZS4uIFRPRE8uLi4mYmVnaW5fZGF0ZT0yMDE2MDQxMyZlbmRfZGF0ZT0yMDE2MDQxOSAoZXZlbnQgc3RhcnQvZW5kKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAnPGxpbms+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZVR5cGU6ICdEYXRhJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFTZW5zb3Iuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9jZXNzb3JfaWQ6ICRjb29raWVzLmdldChcIm1JRFwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGVjdF9kYXRlOiBkdFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZV96b25lOiBkdFsxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9zdGFydDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ29vZF9lbmQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ud2lzUHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgfSAvL2VuZCBuZXcgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB2YXIgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUgPSBmdW5jdGlvbiAoREZpZCkge1xyXG4gICAgICAgICAgICAgICAgREFUQV9GSUxFLmFwcHJvdmVOV0lTREYoeyBpZDogREZpZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5hcHByb3ZhbF9pZCA9IGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlTldJU0ZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBkYXRhZmlsZSBmaXJzdCB0byBnZXQgb3IgZGF0YV9maWxlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgdGltZXpvbmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5zYXZlKCRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKE5kZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFmaWxlSUQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IGNyZWF0ZSBhbiBhcHByb3ZhbCB3aXRoIHRoZSBldmVudCdzIGNvb3JkaW5hdG9yIGFuZCBhZGQgdGhlIGFwcHJvdmFsX2lkLCBwdXQgaXQsIHRoZW4gcG9zdCB0aGUgZmlsZSBUT0RPIDo6OiBORVcgRU5EUE9JTlQgRk9SIFRISVNcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmRhdGFfZmlsZV9pZCA9IE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdEFwcHJvdmFsRm9yTldJU2ZpbGUoTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkKTsgLy9wcm9jZXNzIGFwcHJvdmFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuZGF0YV9maWxlX2lkID0gTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUucGF0aCA9ICc8bGluaz4nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLk5XSVNGaWxlLkZpbGVUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLk5XSVNGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChGcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMucHVzaChGcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmQgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIGRpZCBub3QgZ2V0IGNyZWF0ZWQsIGRlbGV0ZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmRlbGV0ZSh7IGlkOiBkYXRhZmlsZUlEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNGaWxlID0ge307ICRzY29wZS5OV0lTREYgPSB7fTsgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBOV0lTU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcE5XSVNTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGUncyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvLyBlbmQgY3JlYXRlIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIE5XSVMgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZU5XSVNGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgdmFyIGUgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICBpZiAobmV3IERhdGUoZSkgPCBuZXcgRGF0ZShzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuTldJU0RGLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjU3RhcnREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX2VuZCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9IHV0Y0VuZERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaSA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0ID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIHNpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi5nb29kX2VuZCA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgZWkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5OV0lTREYuZGF0YV9maWxlX2lkIH0sICRzY29wZS5OV0lTREYpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuTldJU0ZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuTldJU0ZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIERhdGEgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzWyRzY29wZS5leGlzdEZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVOV0lTRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5OV0lTRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBEZWxldGVNb2RhbC5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICB9Oy8vZW5kIGRlbGV0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsTldJU0ZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLk9QY2hvc2VuID0gZnVuY3Rpb24gKG9wQ2hvc2VuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BJID0gJHNjb3BlLk9Qc0ZvclRhcGVEb3duLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2Yob3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcENob3Nlbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBwaWNrZWQgYW4gT1AgdG8gdXNlIGZvciB0YXBlZG93blxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLm9wX25hbWUgPSBvcENob3Nlbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuZWxldmF0aW9uID0gb3BDaG9zZW4uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BNZWFzdXJlLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IG9wQ2hvc2VuLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub2JqZWN0aXZlX3BvaW50X2lkID0gb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYXJlIHdlIGxvb2tpbmcgYXQgY3JlYXRlIGRlcGxveW1lbnQgb3IgZWRpdCBkZXBsb3ltZW50O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVNlbnNvci5pbnN0cnVtZW50X2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFTZW5zU3RhdHVzLnN0YXR1c190eXBlX2lkICE9PSA0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weS5wdXNoKCRzY29wZS5PUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnZkYXR1bV9pZCA9IG9wQ2hvc2VuLnZkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKCRzY29wZS5PUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudmRhdHVtX2lkID0gb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHVuY2hlY2tlZCB0aGUgb3AgdG8gcmVtb3ZlXHJcbiAgICAgICAgICAgICAgICAgICAgLy9hc2sgdGhlbSBhcmUgdGhleSBzdXJlP1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1vdmVPUE1lYXMgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlJlbW92ZSBPUCBNZWFzdXJlPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHJlbW92ZSB0aGlzIE9QIE1lYXN1cmVtZW50IGZyb20gdGhpcyBzZW5zb3I/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byByZW1vdmUgaXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9yRWRpdCA9ICRzY29wZS5hU2Vuc29yLmluc3RydW1lbnRfaWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuYVNlbnNTdGF0dXMuc3RhdHVzX3R5cGVfaWQgIT09IDQgPyBcImVkaXRcIiA6IFwiY3JlYXRlXCI7IC8vIGVkaXQgZGVwbG95bWVudCBvciBjcmVhdGluZyBhIGRlcGxveW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXBlRG93blRvUmVtb3ZlID0gY3JlYXRlT3JFZGl0ID09ICdlZGl0JyA/ICRzY29wZS5kZXBUYXBlQ29weS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0gOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdEluZCA9IGNyZWF0ZU9yRWRpdCA9PSAnZWRpdCcgPyAkc2NvcGUuZGVwVGFwZUNvcHkubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZih0YXBlRG93blRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCkgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YodGFwZURvd25Ub1JlbW92ZS5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUucmVtb3ZlT1BMaXN0LnB1c2godGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlT3JFZGl0ID09ICdlZGl0JyA/ICRzY29wZS5kZXBUYXBlQ29weS5zcGxpY2UodEluZCwgMSkgOiAkc2NvcGUudGFwZURvd25UYWJsZS5zcGxpY2UodEluZCwgMSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGVtcHRpZXMgdGhlIHRhYmxlLCBjbGVhciB0aGUgc2Vuc1N0YXR1cyBmaWVsZHMgcmVsYXRlZCB0byB0YXBlZG93bnNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVPckVkaXQgPT0gJ2VkaXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5hU2Vuc1N0YXR1cy5nc19lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFTZW5zU3RhdHVzLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVNlbnNTdGF0dXMuc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiB0YXBlIGRvd24gc2VjdGlvbiBcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IHRpbWV6b25lIGFuZCB0aW1lc3RhbXAgZm9yIHRoZWlyIHRpbWV6b25lIGZvciBzaG93aW5nLi4gcG9zdC9wdXQgd2lsbCBjb252ZXJ0IGl0IHRvIHV0Y1xyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYnV0dG9uIGNsaWNrIHRvIHNob3cgZXZlbnQgZHJvcGRvd24gdG8gY2hhbmdlIGl0IG9uIGV4aXN0aW5nIGh3bSAoYWRtaW4gb25seSlcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dDaGFuZ2VFdmVudEREID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudEREID0gISRzY29wZS5zaG93RXZlbnRERDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2hhbmdlIGV2ZW50ID0gYXBwbHkgaXQgdG8gdGhlICRzY29wZS5FdmVudE5hbWVcclxuICAgICAgICAgICAgJHNjb3BlLkNoYW5nZUV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwuZXZlbnRfaWQgPT0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IGRlcGxveW1lbnQgdHlwZXMgZm9yIHNlbnNvciB0eXBlIGNob3NlblxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0RGVwVHlwZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc2QpIHsgcmV0dXJuIHNkLnNlbnNvcl90eXBlX2lkID09ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyAxIHNlbnNvclR5cGUgd2l0aCBpbm5lciBsaXN0IG9mICAuZGVwbG95bWVudHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZpbHRlcmVkRGVwbG95bWVudFR5cGVzLmxlbmd0aCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmRlcGxveW1lbnRfdHlwZV9pZCA9ICRzY29wZS5maWx0ZXJlZERlcGxveW1lbnRUeXBlc1swXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcblxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuTG9nZ2VkSW5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYVNlbnNvciA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS50aGlzU2Vuc29yU2l0ZSA9IFNlbnNvclNpdGU7XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi4gXHJcbiAgICAgICAgICAgICAgICB2YXIgc2Vuc29yT2JqZWN0VG9TZW5kQmFjayA9IHRoaXNTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtzZW5zb3JPYmplY3RUb1NlbmRCYWNrXTtcclxuICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGlzIGludGVydmFsIGlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2lzIGl0IFVUQyBvciBsb2NhbCB0aW1lLi5tYWtlIHN1cmUgaXQgc3RheXMgVVRDXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPT0gJ3NhdmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0RhdGVUaW1lUyA9IG5ldyBEYXRlKCRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWVTO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWVEID0gbmV3IERhdGUoJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWVEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERpID0gJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgRGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2F2ZSBhU2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFNlbnNvciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2VuU3RhdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRtaW4gY2hhbmdlZCB0aGUgZXZlbnQgZm9yIHRoaXMgc2Vuc29yLi5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZCAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWUgaWYgdGhleSB1c2VkIE1pbnV0ZXMgb3Igc2Vjb25kcyBmb3IgaW50ZXJ2YWwuIG5lZWQgdG8gc3RvcmUgaW4gc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmludGVydmFsICogNjA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCdzYXZpbmcnKTsgLy9VVEMgb3IgbG9jYWw/XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLmRlcFN0dWZmQ29weVswXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQgPiAwID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5ob3VzaW5nX3R5cGVfaWQgPiAwID8gJHNjb3BlLmhvdXNlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLmhvdXNpbmdfdHlwZV9pZCA9PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLmRlcFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlYWwgd2l0aCB0YXBlZG93bnMuIHJlbW92ZS9hZGRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHJ0ID0gMDsgcnQgPCAkc2NvcGUucmVtb3ZlT1BMaXN0Lmxlbmd0aDsgcnQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZFRvUmVtb3ZlID0gJHNjb3BlLnJlbW92ZU9QTGlzdFtydF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5kZWxldGUoeyBpZDogaWRUb1JlbW92ZSB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlID0gJHNjb3BlLmRlcFRhcGVDb3B5Lmxlbmd0aCA+IDAgPyBbXSA6ICRzY29wZS50YXBlRG93blRhYmxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYXQgPSAwOyBhdCA8ICRzY29wZS5kZXBUYXBlQ29weS5sZW5ndGg7IGF0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQdGhpc1RhcGUgPSAkc2NvcGUuZGVwVGFwZUNvcHlbYXRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERVB0aGlzVGFwZS5vcF9tZWFzdXJlbWVudHNfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2V4aXN0aW5nLCBwdXQgaW4gY2FzZSB0aGV5IGNoYW5nZWQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS51cGRhdGUoeyBpZDogREVQdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkIH0sIERFUHRoaXNUYXBlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0YXBlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5vcF9uYW1lID0gREVQdGhpc1RhcGUub3BfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5WZGF0dW0gPSBERVB0aGlzVGFwZS5WZGF0dW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKHRhcGVSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV3IG9uZSBhZGRlZCwgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBERVB0aGlzVGFwZS5pbnN0cnVtZW50X3N0YXR1c19pZCA9IHN0YXRSZXNwb25zZS5pbnN0cnVtZW50X3N0YXR1c19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5zYXZlKERFUHRoaXNUYXBlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICh0YXBlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5vcF9uYW1lID0gREVQdGhpc1RhcGUub3BfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcGVSZXNwb25zZS5WZGF0dW0gPSBERVB0aGlzVGFwZS5WZGF0dW07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZS5wdXNoKHRhcGVSZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IGFkZCBpbnN0cnVtZW50IGFuZCBpbnN0cnVtZW50IHN0YXR1cyB0byBzZW5kIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5TdGF0ID0gc3RhdFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlblN0YXQuc3RhdHVzID0gJ0RlcGxveWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnN0cnVtZW50X3N0YXR1c2VzSG9sZGVyID0gJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXM7IC8vcHV0IHRoZW0gaGVyZSBzbyB0aGV5IGNhbiBiZSB1cGRhdGVkIGFuZCByZWFkZGVkIChhbGwgdmVyc2lvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvciA9IHVwZGF0ZWRTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yID0gdXBkYXRlZFNlbnNvcjsgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IGluc3RydW1lbnRfc3RhdHVzZXNIb2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMgPSB1cGRhdGVkU2VuU3RhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCk7Ly90aGlzIGtlZXBzIGl0IGFzIHV0YyBpbiBkaXNwbGF5XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMubWFwKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLnN0YXR1c190eXBlX2lkOyB9KS5pbmRleE9mKDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1tpbmRdID0gJHNjb3BlLmFTZW5zU3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFtdOyAkc2NvcGUuSW50ZXJ2YWxUeXBlID0geyB0eXBlOiAnU2Vjb25kcycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcImVycm9yIHNhdmluZyBzZW5zb3Igc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcImVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vY3JlYXRlIChQT1NUKSBhIGRlcGxveWVkIHNlbnNvciBjbGlja1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVwbG95ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU2Vuc29yRm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTZW5zb3IubG9jYXRpb25fZGVzY3JpcHRpb24gIT09IFwiUHJvcG9zZWQgc2Vuc29yIGF0IHRoaXMgc2l0ZS4gQ2hhbmdlIGRlc2NyaXB0aW9uIHdoZW4gZGVwbG95aW5nIHNlbnNvci5cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlZSBpZiB0aGV5IHVzZWQgTWludXRlcyBvciBzZWNvbmRzIGZvciBpbnRlcnZhbC4gbmVlZCB0byBzdG9yZSBpbiBzZWNvbmRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9ICRzY29wZS5hU2Vuc29yLmludGVydmFsICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0IGV2ZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yLmV2ZW50X2lkID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNvci5zaXRlX2lkID0gU2Vuc29yU2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgnZGVwbG95Jyk7IC8vVVRDIG9yIGxvY2FsP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMuc3RhdHVzX3R5cGVfaWQgPSAxOyAvL2RlcGxveWVkIHN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgLy91c2VyIHRoYXQgbG9nZ2VkIGluIGlzIGRlcGxveWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2Vuc29yID0ge307IHZhciBkZXBTZW5TdGF0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ERVBMT1kgUFJPUE9TRUQgb3IgQ1JFQVRFIE5FVyBkZXBsb3ltZW50P1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1dCBpbnN0cnVtZW50LCBwb3N0IHN0YXR1cyBmb3IgZGVwbG95aW5nIFBST1BPU0VEIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSBpbnN0cnVtZW50c3RhdHVzIHRvbyBuZWVkOiBzdGF0dXNfdHlwZV9pZCBhbmQgaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmFTZW5zb3IuZGVwbG95bWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5ob3VzaW5nVHlwZSA9IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZCA+IDAgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PSByZXNwb25zZS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hU2Vuc1N0YXR1cykuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3RhdFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYW55IHRhcGUgZG93bnM/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8ICRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aDsgdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNUYXBlID0gJHNjb3BlLnRhcGVEb3duVGFibGVbdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vUE9TVCBJVC8vL1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZSh0aGlzVGFwZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9idWlsZCB0aGUgY3JlYXRlZFNlbnNvciB0byBzZW5kIGJhY2sgYW5kIGFkZCB0byB0aGUgbGlzdCBwYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIFN0YXR1c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0LnN0YXR1cyA9ICdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbZGVwU2VuU3RhdCwgJHNjb3BlLnByZXZpb3VzU3RhdGVTdGF0dXNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIGRlcGxveWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJHNjb3BlLndoaWNoQnV0dG9uID09ICdkZXBsb3lQJyA/ICdwcm9wb3NlZERlcGxveWVkJyA6ICduZXdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZFNlbnNvciwgc3RhdGVdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGluc3RydW1lbnQgYW5kIHN0YXR1cyBmb3IgZGVwbG95aW5nIE5FVyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuc2F2ZSgkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZSBpbnN0cnVtZW50c3RhdHVzIHRvbyBuZWVkOiBzdGF0dXNfdHlwZV9pZCBhbmQgaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkICE9PSBudWxsICYmIHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaG91c2luZ1R5cGUgPSByZXNwb25zZS5ob3VzaW5nX3R5cGVfaWQgIT09IG51bGwgJiYgcmVzcG9uc2UuaG91c2luZ190eXBlX2lkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09IHJlc3BvbnNlLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PSByZXNwb25zZS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZFNlbnNvci5zZW5zb3JUeXBlID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X2lkID0gcmVzcG9uc2UuaW5zdHJ1bWVudF9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVF9TVEFUVVMuc2F2ZSgkc2NvcGUuYVNlbnNTdGF0dXMpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSB0YXBlIGRvd25zP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdCA9IDA7IHQgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vL1BPU1QgSVQvLy9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUodGhpc1RhcGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnVpbGQgdGhlIGNyZWF0ZWRTZW5zb3IgdG8gc2VuZCBiYWNrIGFuZCBhZGQgdG8gdGhlIGxpc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0ID0gc3RhdFJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBTZW5TdGF0LnN0YXR1cyA9ICdEZXBsb3llZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbZGVwU2VuU3RhdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIGRlcGxveWVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAkc2NvcGUud2hpY2hCdXR0b24gPT0gJ2RlcGxveVAnID8gJ3Byb3Bvc2VkRGVwbG95ZWQnIDogJ25ld0RlcGxveWVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRTZW5zb3IsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdG8gdGVsbCB0aGVtIHRvIHVwZGF0ZSB0aGUgbG9jYXRpb25fZGVzY3JpcHRpb24gYmVmb3JlIGRlcGxveWluZyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZURlc2NyTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPllvdSBtdXN0IHVwZGF0ZSB0aGUgTG9jYXRpb24gRGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgYSBwcm9wb3NlZCBzZW5zb3IuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy8gZW5kIGVsc2UgbG9jYXRpb25fZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgJHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVwbG95KClcclxuXHJcbiAgICAgICAgICAgIC8vZGVsZXRlIGFTZW5zb3IgYW5kIHNlbnNvciBzdGF0dXNlc1xyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlUyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vVE9ETzo6IERlbGV0ZSB0aGUgZmlsZXMgZm9yIHRoaXMgc2Vuc29yIHRvbyBvciByZWFzc2lnbiB0byB0aGUgU2l0ZT8/IFNlcnZpY2VzIG9yIGNsaWVudCBoYW5kbGluZz9cclxuICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ0NvbmZpcm1Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJTZW5zb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNlbnNvclRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyB3aWxsIGRlbGV0ZSB0aGUgaW5zdHJ1bWVudCBhbmQgYWxsIGl0J3Mgc3RhdHVzZXNcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULmRlbGV0ZSh7IGlkOiBzZW5zb3JUb1JlbW92ZS5pbnN0cnVtZW50X2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwU2Vuc29yRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgc2Vuc29yRmlsZXMgZm9yIHRoaXMgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zSW1hZ2VGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBpbWFnZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5pbnN0cnVtZW50X2lkID09IHNlbnNvclRvUmVtb3ZlLmluc3RydW1lbnRfaWQpICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKGwsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbXCJkZVwiLCAnZGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9naWMgZm9yIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzU2Vuc29yICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy9hY3Rpb25zOiAnZGVwUHJvcCcsICdlZGl0RGVwJywgJ3JldHJpZXZlJywgJ2VkaXRSZXQnXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3RpbmcgZGVwbG95ZWQgU2Vuc29yIC4uIGJyZWFrIGFwYXJ0IHRoZSAndGhpc1NlbnNvcicgaW50byAnYVNlbnNvcicgYW5kICdhU2Vuc1N0YXR1cydcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc29yID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbMF0pO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRhdGFOV0lTID0gKCgkc2NvcGUuYVNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSAyIHx8ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDUpIHx8ICRzY29wZS5hU2Vuc29yLnNlbnNvcl90eXBlX2lkID09IDYpID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldERlcFR5cGVzKCk7Ly9wb3B1bGF0ZSAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgZm9yIGRyb3Bkb3duIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9ICdTZWNvbmRzJzsgLy9kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbnNvckRhdGFOV0lTKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9GSUxFLlZBTElEQVRFRCBiZWluZyB1c2VkIHRvIHN0b3JlIDEgaWYgdGhpcyBpcyBhbiBud2lzIGZpbGUgbWV0YWRhdGEgbGlua1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhaSA9ICRzY29wZS5EZXBTZW5zb3JGaWxlcy5sZW5ndGggLSAxOyBhaSA+PSAwOyBhaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRGVwU2Vuc29yRmlsZXNbYWldLmlzX253aXMgPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5wdXNoKCRzY29wZS5EZXBTZW5zb3JGaWxlc1thaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcFNlbnNvckZpbGVzLnNwbGljZShhaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vYXJlIHdlIGRlcGxveWluZyBhIHByb3Bvc2VkIHNlbnNvciBvciBlZGl0aW5nIGEgZGVwbG95ZWQgc2Vuc29yPz9cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdLnN0YXR1cyA9PSBcIlByb3Bvc2VkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2RlcGxveWluZyBwcm9wb3NlZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmV2aW91c1N0YXRlU3RhdHVzID0gYW5ndWxhci5jb3B5KHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbMF0pOyAvL2hvbGQgdGhlIHByb3Bvc2VkIHN0YXRlIChwcm9wb3NlZCB0byBkZXBsb3llZClcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2hpY2hCdXR0b24gPSAnZGVwbG95UCc7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPSAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9PT0gMCA/IG51bGwgOiAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbDsgLy9jbGVhciBvdXQgdGhlICcwJyB2YWx1ZSBoZXJlICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9kaXNwbGF5aW5nIGRhdGUgLyB0aW1lIGl0IHVzZXIncyB0aW1lem9uZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lUGFydHMgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSB0aW1lUGFydHNbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfem9uZSA9IHRpbWVQYXJ0c1sxXTsgLy93aWxsIGJlIGNvbnZlcnRlZCB0byB1dGMgb24gcG9zdC9wdXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgLy8gbWVtYmVyIGxvZ2dlZCBpbiBpcyBkZXBsb3lpbmcgaXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVyID0gJHNjb3BlLkxvZ2dlZEluTWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXRpbmcgZGVwbG95ZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUud2hpY2hCdXR0b24gPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IuaW50ZXJ2YWwgPSAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbCA9PT0gMCA/IG51bGwgOiAkc2NvcGUuYVNlbnNvci5pbnRlcnZhbDsgLy9jbGVhciBvdXQgdGhlICcwJyB2YWx1ZSBoZXJlICAgXHJcbiAgICAgICAgICAgICAgICAgICAgLy9nZXQgdGhpcyBkZXBsb3llZCBzZW5zb3IncyBldmVudCBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5hU2Vuc29yLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZGF0ZSBmb3JtYXR0aW5nLiB0aGlzIGtlZXBzIGl0IGluIHV0YyBmb3IgZGlzcGxheVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2Vuc1N0YXR1cy50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuYVNlbnNTdGF0dXMudGltZV9zdGFtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nZXQgY29sbGVjdGlvbiBtZW1iZXIncyBuYW1lIFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3llciA9ICRzY29wZS5hU2Vuc1N0YXR1cy5tZW1iZXJfaWQgIT09IG51bGwgfHwgJHNjb3BlLmFTZW5zU3RhdHVzLm1lbWJlcl9pZCAhPT0gdW5kZWZpbmVkID8gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5hU2Vuc1N0YXR1cy5tZW1iZXJfaWQ7IH0pWzBdIDoge307XHJcbiAgICAgICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5nZXRJbnN0U3RhdE9QTWVhc3VyZXMoeyBpbnN0cnVtZW50U3RhdHVzSWQ6ICRzY29wZS5hU2Vuc1N0YXR1cy5pbnN0cnVtZW50X3N0YXR1c19pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMDsgciA8IHJlc3BvbnNlLmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc01lYXN1cmVzID0gcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPUCA9IHNpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IHJlc3BvbnNlW3JdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zTWVhc3VyZXMuZWxldmF0aW9uID0gd2hpY2hPUC5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zTWVhc3VyZXMub3BfbmFtZSA9IHdoaWNoT1AubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50YXBlRG93blRhYmxlLnB1c2goc2Vuc01lYXN1cmVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggT1BzRm9yVGFwZURvd24gYW5kIGFkZCBzZWxlY3RlZCBQcm9wZXJ0eS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IHJlc3BvbnNlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSByZXNwb25zZS5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lbmQgaWYgdGhpc1NpdGVIb3VzaW5ncyAhPSB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV4aXN0aW5nIFNlbnNvclxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIERlcGxveWluZyBuZXcgU2Vuc29yXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUud2hpY2hCdXR0b24gPSAnZGVwbG95JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5JbnRlcnZhbFR5cGUudHlwZSA9ICdTZWNvbmRzJzsgLy9kZWZhdWx0XHJcbiAgICAgICAgICAgICAgICAvL2Rpc3BsYXlpbmcgZGF0ZSAvIHRpbWUgaXQgdXNlcidzIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICB2YXIgRGVwdGltZVBhcnRzID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBEZXB0aW1lUGFydHNbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMudGltZV96b25lID0gXCJVVENcIjsvLyBEZXB0aW1lUGFydHNbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNlbnNTdGF0dXMubWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgLy8gbWVtYmVyIGxvZ2dlZCBpbiBpcyBkZXBsb3lpbmcgaXRcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5EZXBsb3llciA9ICRzY29wZS5Mb2dnZWRJbk1lbWJlcjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBuZXcgU2Vuc29yXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5teURhdGEgPSBbJHNjb3BlLmFTZW5zU3RhdHVzLnNlbnNvcl9lbGV2YXRpb24sICRzY29wZS5hU2Vuc1N0YXR1cy53c19lbGV2YXRpb24sICRzY29wZS5hU2Vuc1N0YXR1cy5nc19lbGV2YXRpb25dO1xyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBkZXBsb3llZCBpbmZvIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFthbmd1bGFyLmNvcHkoJHNjb3BlLmFTZW5zb3IpLCBhbmd1bGFyLmNvcHkoJHNjb3BlLmFTZW5zU3RhdHVzKV07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLnRhcGVEb3duVGFibGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsRGVwRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAvL01BS0UgU1VSRSBBTEwgU0VMRUNURUQgT1AnUyBTVEFZIFNFTEVDVEVEXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5PUHNGb3JUYXBlRG93bi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCAkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGVbeV0ub2JqZWN0aXZlX3BvaW50X2lkID09ICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5vYmplY3RpdmVfcG9pbnRfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgfV0pOyAvL2VuZCBTRU5TT1JcclxuXHJcbiAgICAvLyBSZXRyaWV2ZSBhIFNlbnNvciBtb2RhbFxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdzZW5zb3JSZXRyaWV2YWxNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyR0aW1lb3V0JywgJyRjb29raWVzJywgJyRodHRwJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICd0aGlzU2Vuc29yJywgJ1NlbnNvclNpdGUnLCAnc2l0ZU9QcycsICdhbGxFdmVudExpc3QnLCAnYWxsVkRhdHVtTGlzdCcsICdhbGxNZW1iZXJzJywgJ2FsbFN0YXR1c1R5cGVzJywgJ2FsbEluc3RDb2xsQ29uZCcsICdJTlNUUlVNRU5UJywgJ0lOU1RSVU1FTlRfU1RBVFVTJywgJ09QX01FQVNVUkUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR0aW1lb3V0LCAkY29va2llcywgJGh0dHAsICR1aWJNb2RhbEluc3RhbmNlLCAkdWliTW9kYWwsIHRoaXNTZW5zb3IsIFNlbnNvclNpdGUsIHNpdGVPUHMsIGFsbEV2ZW50TGlzdCwgYWxsVkRhdHVtTGlzdCwgYWxsTWVtYmVycywgYWxsU3RhdHVzVHlwZXMsIGFsbEluc3RDb2xsQ29uZCwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIE9QX01FQVNVUkUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmFTZW5zb3IgPSB0aGlzU2Vuc29yO1xyXG4gICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gYWxsRXZlbnRMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9pZCA9PSAkc2NvcGUuYVNlbnNvci5ldmVudF9pZDsgfSlbMF0uZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFNlbnNTdGF0dXMgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXSk7XHJcbiAgICAgICAgICAgIHZhciBpc0RhdGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgICAgICAgICAgaWYgKGlzRGF0ZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciB5ID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMCwgNCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSAkc2NvcGUuZGVwU2Vuc1N0YXR1cy50aW1lX3N0YW1wLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlYyA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAuc3Vic3RyKDE3LCAyKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAgPSBuZXcgRGF0ZSh5LCBtLCBkLCBoLCBtaSwgc2VjKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmRlcFNlbnNTdGF0dXMudmRhdHVtX2lkICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmRlcFNlbnNTdGF0dXMudmRhdHVtX2lkID4gMClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTZW5zU3RhdHVzLlZEYXR1bSA9IGFsbFZEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2KSB7IHJldHVybiB2LmRhdHVtX2lkID09ICRzY29wZS5kZXBTZW5zU3RhdHVzLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLk9Qc0ZvclRhcGVEb3duID0gc2l0ZU9QcztcclxuICAgICAgICAgICAgJHNjb3BlLk9Qc1ByZXNlbnQgPSBzaXRlT1BzLmxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1MaXN0ID0gYWxsVkRhdHVtTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLnJlbW92ZU9QTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAkc2NvcGUudGFwZURvd25UYWJsZSA9IFtdOyAvL2hvbGRlciBvZiB0YXBlZG93biBPUF9NRUFTVVJFTUVOVFNcclxuICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkcyBhbnkgZGVwbG95ZWQgdGFwZWRvd25zXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuRGVwbG95ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRlcFNlbnNTdGF0dXMubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLndoaWNoQnV0dG9uID0gJ1JldHJpZXZlJztcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1c1R5cGVMaXN0ID0gYWxsU3RhdHVzVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXR1cyA9PSBcIlJldHJpZXZlZFwiIHx8IHMuc3RhdHVzID09IFwiTG9zdFwiOyB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLmNvbGxlY3RDb25kTGlzdCA9IGFsbEluc3RDb2xsQ29uZDtcclxuICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAvL2Zvcm1hdHRlciBmb3IgZGF0ZS90aW1lIGFuZCBjaG9zZW4gem9uZSBiYXNlZCBvbiB0aGVpciBsb2NhdGlvblxyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiB0YXBlIGRvd24gc2VjdGlvbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAkc2NvcGUuT1BjaG9zZW4gPSBmdW5jdGlvbiAob3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUub3BfbmFtZSA9IG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5lbGV2YXRpb24gPSBvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5PUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1BNZWFzdXJlLm9wX25hbWUgPSBvcE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUucHVzaCgkc2NvcGUuT1BNZWFzdXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC52ZGF0dW1faWQgPSBvcENob3Nlbi52ZGF0dW1faWQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSB1bmNoZWNrZWQgdGhlIG9wIHRvIHJlbW92ZVxyXG4gICAgICAgICAgICAgICAgICAgIC8vYXNrIHRoZW0gYXJlIHRoZXkgc3VyZT9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlT1BNZWFzID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5SZW1vdmUgT1AgTWVhc3VyZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byByZW1vdmUgdGhpcyBPUCBNZWFzdXJlbWVudCBmcm9tIHRoaXMgc2Vuc29yPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgncmVtb3ZlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZU9QTWVhcy5yZXN1bHQudGhlbihmdW5jdGlvbiAoeWVzT3JObykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoeWVzT3JObyA9PSAncmVtb3ZlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gcmVtb3ZlIGl0IGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXBlRG93blRvUmVtb3ZlID0gJHNjb3BlLnRhcGVEb3duVGFibGUuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRJbmQgPSAkc2NvcGUudGFwZURvd25UYWJsZS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUucmVtb3ZlT1BMaXN0LnB1c2godGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRhcGVEb3duVGFibGUuc3BsaWNlKHRJbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnZkYXR1bV9pZCA9IDA7ICRzY29wZS5hUmV0cmlldmFsLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuYVJldHJpZXZhbC53c19lbGV2YXRpb24gPSAnJzsgJHNjb3BlLmFSZXRyaWV2YWwuc2Vuc29yX2VsZXZhdGlvbiA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlciBtaW5kLCBtYWtlIGl0IHNlbGVjdGVkIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BzRm9yVGFwZURvd25bb3BJXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9nZXQgZGVwbG95IHN0YXR1cyB0YXBlZG93bnMgdG8gYWRkIHRvIHRvcCBmb3IgZGlzcGxheVxyXG4gICAgICAgICAgICBPUF9NRUFTVVJFLmdldEluc3RTdGF0T1BNZWFzdXJlcyh7IGluc3RydW1lbnRTdGF0dXNJZDogJHNjb3BlLmRlcFNlbnNTdGF0dXMuaW5zdHJ1bWVudF9zdGF0dXNfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgcmVzcG9uc2UubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc01lYXN1cmVzID0gcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT1AgPSBzaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbnNNZWFzdXJlcy5lbGV2YXRpb24gPSB3aGljaE9QLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgc2Vuc01lYXN1cmVzLm9wX25hbWUgPSB3aGljaE9QLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUucHVzaChzZW5zTWVhc3VyZXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHRhcGUgZG93biBzZWN0aW9uIFxyXG5cclxuICAgICAgICAgICAgLy9kZWZhdWx0IGZvcm1hdHRpbmcgZm9yIHJldHJpZXZhbFxyXG4gICAgICAgICAgICB2YXIgZHRwYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwgPSB7IHRpbWVfc3RhbXA6IGR0cGFydHNbMF0sIHRpbWVfem9uZTogZHRwYXJ0c1sxXSwgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpIH07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW0pIHsgcmV0dXJuIGFtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVENcclxuICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVJldHJpZXZhbC50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5hUmV0cmlldmFsLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9IHV0Y0RhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVJldHJpZXZhbC50aW1lX3N0YW1wID0gJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGRlcFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgYW5kIHNlZSBpZiB0aGV5IGFyZSBub3QgdXNpbmcgVVRDXHJcbiAgICAgICAgICAgICAgICB2YXIgcmV0dXJuVGhpcztcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9ICRzY29wZS5kZXBTZW5zU3RhdHVzLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5UaGlzID0gJHNjb3BlLmRlcFNlbnNTdGF0dXMudGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5UaGlzO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9yZXRyaWV2ZSB0aGUgc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5yZXRyaWV2ZVMgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kKCk7IC8vZm9yIHJldHJpZXZhbCBmb3IgcG9zdCBhbmQgZm9yIGNvbXBhcmlzb24gdG8gZGVwbG95ZWQgKGVuc3VyZSBpdCdzIGFmdGVyKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBTZW5UUyA9IGRlcFRpbWVTdGFtcGI0U2VuZCgpOy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJldFNlblRTID0gYW5ndWxhci5jb3B5KCRzY29wZS5hUmV0cmlldmFsLnRpbWVfc3RhbXAucmVwbGFjZSgvXFwsL2csIFwiXCIpKTsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShyZXRTZW5UUykgPCBuZXcgRGF0ZShkZXBTZW5UUykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSByZXRyaWV2YWwgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBkZXBsb3llZCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Jlc2V0IHRvIG5vd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFSZXRyaWV2YWwudGltZV9zdGFtcCA9IGdldFRpbWVab25lU3RhbXAoKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUmV0cmlldmFsLnRpbWVfem9uZSA9IGdldFRpbWVab25lU3RhbXAoKVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI3JldHJpZXZhbERhdGUnKS50cmlnZ2VyKCdmb2N1cycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5zb3IgPSB7fTsgdmFyIGNyZWF0ZVJldFNlbnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmFTZW5zb3IuaW5zdHJ1bWVudF9pZCB9LCAkc2NvcGUuYVNlbnNvcikuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIGluc3RydW1lbnRzdGF0dXMgdG9vIG5lZWQ6IHN0YXR1c190eXBlX2lkIGFuZCBpbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmFTZW5zb3IuZGVwbG95bWVudFR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmhvdXNpbmdUeXBlID0gJHNjb3BlLmFTZW5zb3IuaG91c2luZ1R5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLnNlbnNvckJyYW5kID0gJHNjb3BlLmFTZW5zb3Iuc2Vuc29yQnJhbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLnNlbnNvclR5cGUgPSAkc2NvcGUuYVNlbnNvci5zZW5zb3JUeXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5pbnN0Q29sbGVjdGlvbiA9ICRzY29wZS5jb2xsZWN0Q29uZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmlkID09PSAkc2NvcGUuYVNlbnNvci5pbnN0X2NvbGxlY3Rpb25faWQ7IH0pWzBdLmNvbmRpdGlvbjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKCRzY29wZS5hUmV0cmlldmFsKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FueSB0YXBlIGRvd25zP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGFwZURvd25UYWJsZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgJHNjb3BlLnRhcGVEb3duVGFibGUubGVuZ3RoOyB0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzVGFwZSA9ICRzY29wZS50YXBlRG93blRhYmxlW3RdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy9QT1NUIElULy8vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUodGhpc1RhcGUpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYnVpbGQgdGhlIGNyZWF0ZWRTZW5zb3IgdG8gc2VuZCBiYWNrIGFuZCBhZGQgdG8gdGhlIGxpc3QgcGFnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVJldFNlbnMgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlUmV0U2Vucy5zdGF0dXMgPSBzdGF0UmVzcG9uc2Uuc3RhdHVzX3R5cGVfaWQgPT0gMiA/ICdSZXRyaWV2ZWQnIDogJ0xvc3QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXMgPSBbY3JlYXRlUmV0U2VucywgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1c1swXV07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW55dGhpbmcgeW91IHdhbnQgY2FuIGdvIGhlcmUgYW5kIHdpbGwgc2FmZWx5IGJlIHJ1biBvbiB0aGUgbmV4dCBkaWdlc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiU2Vuc29yIHJldHJpZXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlID0gJ3JldHJpZXZlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFt1cGRhdGVkU2Vuc29yLCBzdGF0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcmV0cmlldmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCByZXRyIGRhdGUgaXMgY29ycmVjdFxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgcmV0cmlldmVTXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XSk7Ly9lbmQgc2Vuc29yUmV0cmlldmFsTW9kYWxDdHJsXHJcblxyXG4gICAgLy8gdmlldy9lZGl0IHJldHJpZXZlZCBzZW5zb3IgKGRlcGxveWVkIGluY2x1ZGVkIGhlcmUpIG1vZGFsXHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2Z1bGxTZW5zb3JNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdhbGxEZXBEcm9wZG93bnMnLFxyXG4gICAgICAgICdhZ2VuY3lMaXN0JywgJ1NpdGVfRmlsZXMnLCAnYWxsU3RhdHVzVHlwZXMnLCAnYWxsSW5zdENvbGxDb25kJywgJ2FsbEV2ZW50cycsICdhbGxEZXBUeXBlcycsICd0aGlzU2Vuc29yJywgJ1NlbnNvclNpdGUnLCAnc2l0ZU9QcycsICdhbGxNZW1iZXJzJywgJ2FsbEV2ZW50RGF0YUZpbGVzJyxcclxuICAgICAgICAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdEQVRBX0ZJTEUnLCAnRklMRScsICdTT1VSQ0UnLCAnT1BfTUVBU1VSRScsICdTaXRlX1NjcmlwdCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGZpbHRlciwgJHRpbWVvdXQsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgYWxsRGVwRHJvcGRvd25zLCBhZ2VuY3lMaXN0LCBTaXRlX0ZpbGVzLCBhbGxTdGF0dXNUeXBlcywgYWxsSW5zdENvbGxDb25kLCBhbGxFdmVudHMsXHJcbiAgICAgICAgICAgIGFsbERlcFR5cGVzLCB0aGlzU2Vuc29yLCBTZW5zb3JTaXRlLCBzaXRlT1BzLCBhbGxNZW1iZXJzLCBhbGxFdmVudERhdGFGaWxlcywgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIERBVEFfRklMRSwgRklMRSwgU09VUkNFLCBPUF9NRUFTVVJFLCBTaXRlX1NjcmlwdCkge1xyXG4gICAgICAgICAgICAvKmFsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEhvdXNpbmdUeXBlcywgYWxsU2Vuc0RlcHMqL1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IGZhbHNlOyAvLyBwcm9jZXNzaW5nIHNjcmlwdC4uLlxyXG4gICAgICAgICAgICAkc2NvcGUuc3Rvcm1TZWN0aW9uID0gZmFsc2U7IC8vIHNlY3Rpb24gaG9sZGluZyBhbGwgYmFybyBwcmVzc3VyZSBzZW5zb3JzIGZvciB0aGlzIGV2ZW50LlxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yVHlwZUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JCcmFuZExpc3QgPSBhbGxEZXBEcm9wZG93bnNbMV07XHJcbiAgICAgICAgICAgICRzY29wZS5ob3VzZVR5cGVMaXN0ID0gYWxsRGVwRHJvcGRvd25zWzJdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRGVwRHJvcGRvd25zWzNdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBkZXBTZW5zIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnREYXR1bUxpc3QgPSBhbGxEZXBEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMgPSB0aGlzU2Vuc29yICE9PSBcImVtcHR5XCIgPyAkc2NvcGUuYWxsU0ZpbGVzLmZpbHRlcihmdW5jdGlvbiAoc2YpIHsgcmV0dXJuIHNmLmluc3RydW1lbnRfaWQgPT0gdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkOyB9KSA6IFtdOy8vIGhvbGRlciBmb3IgaHdtIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zSW1hZ2VGaWxlcyA9ICRzY29wZS5zZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGhmKSB7IHJldHVybiBoZi5maWxldHlwZV9pZCA9PT0gMTsgfSk7IC8vaW1hZ2UgZmlsZXMgZm9yIGNhcm91c2VsICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgZmlsZSB0byBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTsgLy9oaWRkZW4gZm9ybSB0byBhZGQgbndpcyBmaWxlIHRvIHNlbnNvclxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGF0YU5XSVMgPSBmYWxzZTsgLy9pcyB0aGlzIGEgcmFpbiBnYWdlLCBtZXQgc3RhdGlvbiwgb3IgcmRnIHNlbnNvciAtLSBpZiBzbywgZGF0YSBmaWxlIG11c3QgYmUgY3JlYXRlZCBwb2ludGluZyB0byBud2lzICh3ZSBkb24ndCBzdG9yZSBhY3R1YWwgZmlsZSwganVzdCBtZXRhZGF0YSB3aXRoIGxpbmspXHJcbiAgICAgICAgICAgICRzY29wZS5jb2xsZWN0Q29uZExpc3QgPSBhbGxJbnN0Q29sbENvbmQ7XHJcbiAgICAgICAgICAgICRzY29wZS5PUHNQcmVzZW50ID0gc2l0ZU9Qcy5sZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24gPSBhbmd1bGFyLmNvcHkoc2l0ZU9Qcyk7XHJcbiAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93biA9IGFuZ3VsYXIuY29weShzaXRlT1BzKTtcclxuICAgICAgICAgICAgJHNjb3BlLmRlcFR5cGVMaXN0ID0gYWxsRGVwVHlwZXM7IC8vZ2V0IGZyZXNoIHZlcnNpb24gc28gbm90IG1lc3NlZCB1cCB3aXRoIHRoZSBUZW1wZXJhdHVyZSB0d2ljZVxyXG4gICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTsgLy93aWxsIGJlIHBvcHVsYXRlZCBiYXNlZCBvbiB0aGUgc2Vuc29yIHR5cGUgY2hvc2VuXHJcbiAgICAgICAgICAgICRzY29wZS50aW1lWm9uZUxpc3QgPSBbJ1VUQycsICdQU1QnLCAnTVNUJywgJ0NTVCcsICdFU1QnXTtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1c1R5cGVMaXN0ID0gYWxsU3RhdHVzVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXR1cyA9PSAnUmV0cmlldmVkJyB8fCBzLnN0YXR1cyA9PSAnTG9zdCc7IH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnREYXRhRmlsZXMgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5pczRIeiA9IHsgc2VsZWN0ZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgICAgIC8vZGVmYXVsdCBzZXR0aW5nIGZvciBpbnRlcnZhbFxyXG4gICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlID0geyB0eXBlOiAnU2Vjb25kcycgfTtcclxuICAgICAgICAgICAgLy9uZy1zaG93IGRldGVybWluZXMgd2hldGhlciB0aGV5IGFyZSBlZGl0aW5nIG9yIHZpZXdpbmcgZGV0YWlsc1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgREVQdmFsOiAnZGV0YWlsJywgUkVUdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAvL2dldCB0aW1lem9uZSBhbmQgdGltZXN0YW1wIGZvciB0aGVpciB0aW1lem9uZSBmb3Igc2hvd2luZy4uIHBvc3QvcHV0IHdpbGwgY29udmVydCBpdCB0byB1dGNcclxuICAgICAgICAgICAgdmFyIGdldFRpbWVab25lU3RhbXAgPSBmdW5jdGlvbiAoZHNlbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kVGhpcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGQ7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRzZW50ICE9PSB1bmRlZmluZWQpIGQgPSBuZXcgRGF0ZShkc2VudCk7XHJcbiAgICAgICAgICAgICAgICBlbHNlIGQgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBvZmZzZXQgPSAoZC50b1N0cmluZygpKS5zdWJzdHJpbmcoMzUpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHpvbmUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChvZmZzZXQuc3Vic3RyKDAsIDMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkNlblwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0NTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJFYXNcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdFU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTW91XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnTVNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlBhY1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ1BTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VuZFRoaXMgPSBbZCwgem9uZV07XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2VuZFRoaXM7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2Zvcm1hdHRpbmcgZGF0ZSBhbmQgdGltZSBwcm9wZXJseSBmb3IgY2hyb21lIGFuZCBmZlxyXG4gICAgICAgICAgICB2YXIgZ2V0RGF0ZVRpbWVQYXJ0cyA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZTtcclxuICAgICAgICAgICAgICAgIHZhciBpc0RhdGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZCkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICAgICAgICAgICAgICAgIGlmIChpc0RhdGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHkgPSBkLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbSA9IGQuc3Vic3RyKDUsIDIpIC0gMTsgLy9zdWJ0cmFjdCAxIGZvciBpbmRleCB2YWx1ZSAoSmFudWFyeSBpcyAwKVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IGQuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoID0gZC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaSA9IGQuc3Vic3RyKDE0LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VjID0gZC5zdWJzdHIoMTcsIDIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoZURhdGUgPSBuZXcgRGF0ZSh5LCBtLCBkYSwgaCwgbWksIHNlYyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhbHJlYWR5IGEgZGF0ZSwgcmV0dXJuIGl0IGJhY2tcclxuICAgICAgICAgICAgICAgICAgICB0aGVEYXRlID0gZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGVEYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNTZW5zb3JTaXRlID0gU2Vuc29yU2l0ZTsgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3IgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvcik7XHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zb3JEYXRhTldJUyA9ICgoJHNjb3BlLnNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSAyIHx8ICRzY29wZS5zZW5zb3Iuc2Vuc29yX3R5cGVfaWQgPT0gNSkgfHwgJHNjb3BlLnNlbnNvci5zZW5zb3JfdHlwZV9pZCA9PSA2KSA/IHRydWUgOiBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIC8vZGVwbG95IHBhcnQgLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cy5maWx0ZXIoZnVuY3Rpb24gKGluc3QpIHsgcmV0dXJuIGluc3Quc3RhdHVzID09PSBcIkRlcGxveWVkXCI7IH0pWzBdKTtcclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXApOyAvL3RoaXMga2VlcHMgaXQgYXMgdXRjIGluIGRpc3BsYXlcclxuICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09PSAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0Lm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5ERVByZW1vdmVPUExpc3QgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSBbXTsgLy9ob2xkZXIgb2YgdGFwZWRvd24gT1BfTUVBU1VSRU1FTlRTXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuREVQT1BjaG9zZW4gPSBmdW5jdGlvbiAoREVQb3BDaG9zZW4pIHtcclxuICAgICAgICAgICAgICAgIHZhciBvcEkgPSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihERVBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKERFUG9wQ2hvc2VuLnNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IHBpY2tlZCBhbiBPUCB0byB1c2UgZm9yIHRhcGVkb3duXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUE1lYXN1cmUub3BfbmFtZSA9IERFUG9wQ2hvc2VuLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5lbGV2YXRpb24gPSBERVBvcENob3Nlbi5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBPUE1lYXN1cmUuVmRhdHVtID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gREVQb3BDaG9zZW4udmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9QTWVhc3VyZS5vYmplY3RpdmVfcG9pbnRfaWQgPSBERVBvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuREVQdGFwZURvd25UYWJsZS5wdXNoKCRzY29wZS5ERVBPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weS5wdXNoKCRzY29wZS5ERVBPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udmRhdHVtX2lkID0gREVQb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FzayB0aGVtIGFyZSB0aGV5IHN1cmU/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERFUHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgT1AgTWVhc3VyZW1lbnQgZnJvbSB0aGlzIGRlcGxveWVkIHNlbnNvcj88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiREVQb2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiREVQY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQb2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVBjYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBERVByZW1vdmVPUE1lYXMucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHllc09yTm8pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHllc09yTm8gPT0gJ3JlbW92ZScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHJlbW92ZSBpdCBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQdGFwZURvd25Ub1JlbW92ZSA9ICRzY29wZS5kZXBUYXBlQ29weS5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEub2JqZWN0aXZlX3BvaW50X2lkID09IERFUG9wQ2hvc2VuLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQdEluZCA9ICRzY29wZS5kZXBUYXBlQ29weS5tYXAoZnVuY3Rpb24gKG8pIHsgcmV0dXJuIG8ub2JqZWN0aXZlX3BvaW50X2lkOyB9KS5pbmRleE9mKERFUHRhcGVEb3duVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChERVB0YXBlRG93blRvUmVtb3ZlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuREVQcmVtb3ZlT1BMaXN0LnB1c2goREVQdGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFRhcGVDb3B5LnNwbGljZShERVB0SW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vb25seSBjaGVjayBmb3IgaW5zdHJ1bWVudCBvcE1lYXN1cmVzIGlmIHRoZXJlIGFyZSBhbnkgb3BzIG9uIHRoaXMgc2l0ZSB0byBiZWdpbiB3aXRoLlxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLk9Qc1ByZXNlbnQpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0Lmluc3RydW1lbnRfc3RhdHVzX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKERFUHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgciA9IDA7IHIgPCBERVByZXNwb25zZS5sZW5ndGg7IHIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgREVQc2Vuc01lYXN1cmVzID0gREVQcmVzcG9uc2Vbcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9QID0gc2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gREVQcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQc2Vuc01lYXN1cmVzLmVsZXZhdGlvbiA9IHdoaWNoT1AuZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREVQc2Vuc01lYXN1cmVzLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IHdoaWNoT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFUHNlbnNNZWFzdXJlcy5vcF9uYW1lID0gJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBERVByZXNwb25zZVtyXS5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2goREVQc2Vuc01lYXN1cmVzKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIE9Qc0ZvclRhcGVEb3duIGFuZCBhZGQgc2VsZWN0ZWQgUHJvcGVydHkuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBERVByZXNwb25zZS5sZW5ndGg7IHkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHJlc3BvbnNlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gREVQcmVzcG9uc2UubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoREVQcmVzcG9uc2UubGVuZ3RoID09PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIGlmIHRoaXNTaXRlSG91c2luZ3MgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzZW5zb3Igc3RhdHVzIG1lYXN1cmVtZW50OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vcmV0cmlldmUgcGFydCAvLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQgPSBhbmd1bGFyLmNvcHkodGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cy5maWx0ZXIoZnVuY3Rpb24gKGluc3QpIHsgcmV0dXJuIGluc3Quc3RhdHVzID09PSBcIlJldHJpZXZlZFwiOyB9KVswXSk7XHJcbiAgICAgICAgICAgIC8vaWYgdGhlcmUgaXNuJ3Qgb25lIC4uIHRoZW4gdGhpcyBpcyBhIGxvc3Qgc3RhdHVzXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9IGFuZ3VsYXIuY29weSh0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLmZpbHRlcihmdW5jdGlvbiAoaW5zdCkgeyByZXR1cm4gaW5zdC5zdGF0dXMgPT09IFwiTG9zdFwiOyB9KVswXSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubW9zdFJlY2VudFN0YXR1cyA9IFwiTG9zdFwiO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1vc3RSZWNlbnRTdGF0dXMgPSBcIlJldHJpZXZlZFwiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1faWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC52ZGF0dW1OYW1lID0gJHNjb3BlLnZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9hYmJyZXZpYXRpb247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCk7IC8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG4gICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09PSAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUkVUcmVtb3ZlT1BMaXN0ID0gW107XHJcbiAgICAgICAgICAgICRzY29wZS5SRVR0YXBlRG93blRhYmxlID0gW107IC8vaG9sZGVyIG9mIHRhcGVkb3duIE9QX01FQVNVUkVNRU5UU1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLlJFVE9QY2hvc2VuID0gZnVuY3Rpb24gKFJFVG9wQ2hvc2VuKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgb3BJID0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLm1hcChmdW5jdGlvbiAobykgeyByZXR1cm4gby5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pLmluZGV4T2YoUkVUb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkKTtcclxuICAgICAgICAgICAgICAgIGlmIChSRVRvcENob3Nlbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBwaWNrZWQgYW4gT1AgdG8gdXNlIGZvciB0YXBlZG93blxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BNZWFzdXJlLm9wX25hbWUgPSBSRVRvcENob3Nlbi5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUuZWxldmF0aW9uID0gUkVUb3BDaG9zZW4uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUT1BNZWFzdXJlLlZkYXR1bSA9ICRzY29wZS52ZXJ0RGF0dW1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09IFJFVG9wQ2hvc2VuLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUE1lYXN1cmUub2JqZWN0aXZlX3BvaW50X2lkID0gUkVUb3BDaG9zZW4ub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRUYXBlQ29weS5wdXNoKCRzY29wZS5SRVRPUE1lYXN1cmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udmRhdHVtX2lkID0gUkVUb3BDaG9zZW4udmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoZXkgdW5jaGVja2VkIHRoZSBvcCB0byByZW1vdmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FzayB0aGVtIGFyZSB0aGV5IHN1cmU/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHJlbW92ZU9QTWVhcyA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+UmVtb3ZlIE9QIE1lYXN1cmU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgT1AgTWVhc3VyZW1lbnQgZnJvbSB0aGlzIHJldHJpZXZlZCBzZW5zb3I/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlJFVG9rKClcIj5PSzwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlJFVGNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVG9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdyZW1vdmUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVUcmVtb3ZlT1BNZWFzLnJlc3VsdC50aGVuKGZ1bmN0aW9uICh5ZXNPck5vKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZXNPck5vID09ICdyZW1vdmUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byByZW1vdmUgaXQgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRhcGVEb3duVG9SZW1vdmUgPSAkc2NvcGUucmV0VGFwZUNvcHkuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBSRVRvcENob3Nlbi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRJbmQgPSAkc2NvcGUucmV0VGFwZUNvcHkubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBvLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkuaW5kZXhPZihSRVR0YXBlRG93blRvUmVtb3ZlLm9iamVjdGl2ZV9wb2ludF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUcmVtb3ZlT1BMaXN0LnB1c2goUkVUdGFwZURvd25Ub1JlbW92ZS5vcF9tZWFzdXJlbWVudHNfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFRhcGVDb3B5LnNwbGljZShSRVR0SW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV0VGFwZUNvcHkubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldFN0dWZmQ29weVsxXS52ZGF0dW1faWQgPSAwOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLmdzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLndzX2VsZXZhdGlvbiA9ICcnOyAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnNlbnNvcl9lbGV2YXRpb24gPSAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmV2ZXIgbWluZCwgbWFrZSBpdCBzZWxlY3RlZCBhZ2FpblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW29wSV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcCBNZWFzdXJlcyBpZiB0aGVyZSBhcmUgb3BzIG9uIHRoaXMgc2l0ZVxyXG4gICAgICAgICAgICBpZiAoJHNjb3BlLk9Qc1ByZXNlbnQpIHtcclxuICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZ2V0SW5zdFN0YXRPUE1lYXN1cmVzKHsgaW5zdHJ1bWVudFN0YXR1c0lkOiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5pbnN0cnVtZW50X3N0YXR1c19pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChSRVRyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgUkVUcmVzcG9uc2UubGVuZ3RoOyByKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHNlbnNNZWFzdXJlcyA9IFJFVHJlc3BvbnNlW3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPUCA9IHNpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IFJFVHJlc3BvbnNlW3JdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFVHNlbnNNZWFzdXJlcy5lbGV2YXRpb24gPSB3aGljaE9QLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFVHNlbnNNZWFzdXJlcy5WZGF0dW0gPSAkc2NvcGUudmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSB3aGljaE9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVRzZW5zTWVhc3VyZXMub3BfbmFtZSA9ICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bi5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gUkVUcmVzcG9uc2Vbcl0ub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5wdXNoKFJFVHNlbnNNZWFzdXJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCBPUHNGb3JUYXBlRG93biBhbmQgYWRkIHNlbGVjdGVkIFByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiByZXNwb25zZSBoYXMgdGhpcyBpZCwgYWRkICdzZWxlY3RlZDp0cnVlJyBlbHNlIGFkZCAnc2VsZWN0ZWQ6ZmFsc2UnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgUkVUcmVzcG9uc2UubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChSRVRyZXNwb25zZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IFJFVHJlc3BvbnNlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJFVHJlc3BvbnNlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNlbnNvciBzdGF0dXMgbWVhc3VyZW1lbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2Vuc29yIHN0YXR1cyBtZWFzdXJlbWVudDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSBhbGxFdmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09PSAkc2NvcGUuc2Vuc29yLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG5cclxuICAgICAgICAgICAgLy9hY2NvcmRpb24gb3Blbi9jbG9zZSBnbHlwaHNcclxuICAgICAgICAgICAgJHNjb3BlLnMgPSB7IGRlcE9wZW46IGZhbHNlLCByZXRPcGVuOiB0cnVlLCBzRmlsZU9wZW46IGZhbHNlLCBOV0lTRmlsZU9wZW46IGZhbHNlIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkYXRldGltZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgIC8vIGlzIGludGVydmFsIGlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2dldCBkZXBsb3ltZW50IHR5cGVzIGZvciBzZW5zb3IgdHlwZSBjaG9zZW5cclxuICAgICAgICAgICAgJHNjb3BlLmdldERlcFR5cGVzID0gZnVuY3Rpb24gKHNlbnNUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1NlbnNEZXBsaXN0ID0gJHNjb3BlLnNlbnNvclR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc2QpIHsgcmV0dXJuIHNkLnNlbnNvcl90eXBlX2lkID09IHNlbnNUeXBlLnNlbnNvcl90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcyBpcyAxIHNlbnNvclR5cGUgd2l0aCBpbm5lciBsaXN0IG9mICAuZGVwbG95bWVudHR5cGVzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlsdGVyZWREZXBsb3ltZW50VHlwZXMgPSBtYXRjaGluZ1NlbnNEZXBsaXN0LmRlcGxveW1lbnR0eXBlcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5nZXREZXBUeXBlcygkc2NvcGUuc2Vuc29yKTsgLy9jYWxsIGl0IGZpcnN0IHRpbWUgdGhyb3VnaFxyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC4gICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3RoaXNTZW5zb3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9Eb25lIGR1cmluZyBlZGl0IFBVVCB0byBlbnN1cmUgdGltZXpvbmUgZG9lc24ndCBhZmZlY3QgZGIgdGltZSB2YWx1ZSAoaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVEMpXHJcbiAgICAgICAgICAgIHZhciBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICAvL2RlcGxveWVkIG9yIHJldHJpZXZlZD8/ICAgICAgXHJcbiAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWU7IHZhciBpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHcgPT09ICdkZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGFuZCBzZWUgaWYgdGhleSBhcmUgbm90IHVzaW5nIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB1dGNEYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gdXRjRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wID0gJHNjb3BlLmRlcFN0dWZmQ29weVsxXS50aW1lX3N0YW1wLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldFN0dWZmQ29weVsxXS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXRjRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXApLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9IHV0Y0RhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfem9uZSA9ICdVVEMnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgPSAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdLnRpbWVfc3RhbXAudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcC50b1N0cmluZygpLnN1YnN0cmluZygwLCBpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyBkZXBsb3kgZWRpdFxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBkZXBsb3llZCBpbmZvIFxyXG4gICAgICAgICAgICAkc2NvcGUud2FubmFFZGl0RGVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuREVQdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlcFN0dWZmQ29weSA9IFthbmd1bGFyLmNvcHkoJHNjb3BlLnNlbnNvciksIGFuZ3VsYXIuY29weSgkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0KV07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwVGFwZUNvcHkgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLkRFUHRhcGVEb3duVGFibGUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIERlcGxveWVkIHNlbnNvciBpbmZvXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRGVwbG95ZWQgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkU2Vuc29yID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRTZW5TdGF0ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy9zZWUgaWYgdGhleSB1c2VkIE1pbnV0ZXMgb3Igc2Vjb25kcyBmb3IgaW50ZXJ2YWwuIG5lZWQgdG8gc3RvcmUgaW4gc2Vjb25kc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuSW50ZXJ2YWxUeXBlLnR5cGUgPT0gXCJNaW51dGVzXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaW50ZXJ2YWwgPSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmludGVydmFsICogNjA7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoJ2RlcGxveWVkJyk7IC8vVVRDIG9yIGxvY2FsPyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5ULnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RydW1lbnRfaWQgfSwgJHNjb3BlLmRlcFN0dWZmQ29weVswXSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2Vuc29yLmRlcGxveW1lbnRUeXBlID0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5kZXBsb3ltZW50X3R5cGVfaWQgPiAwID8gJHNjb3BlLmRlcFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uZGVwbG95bWVudF90eXBlX2lkOyB9KVswXS5tZXRob2QgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5ob3VzaW5nVHlwZSA9ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkID4gMCA/ICRzY29wZS5ob3VzZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ob3VzaW5nX3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uaG91c2luZ190eXBlX2lkOyB9KVswXS50eXBlX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5zZW5zb3JCcmFuZCA9ICRzY29wZS5zZW5zb3JCcmFuZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl9icmFuZF9pZCA9PT0gJHNjb3BlLmRlcFN0dWZmQ29weVswXS5zZW5zb3JfYnJhbmRfaWQ7IH0pWzBdLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRTZW5zb3Iuc2Vuc29yVHlwZSA9ICRzY29wZS5zZW5zb3JUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQuc2Vuc29yX3R5cGVfaWQgPT09ICRzY29wZS5kZXBTdHVmZkNvcHlbMF0uc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlbnNvci5pbnN0Q29sbGVjdGlvbiA9ICRzY29wZS5jb2xsZWN0Q29uZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChpKSB7IHJldHVybiBpLmlkID09PSAkc2NvcGUuZGVwU3R1ZmZDb3B5WzBdLmluc3RfY29sbGVjdGlvbl9pZDsgfSlbMF0uY29uZGl0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLmRlcFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUuZGVwU3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVhbCB3aXRoIHRhcGVkb3ducy4gcmVtb3ZlL2FkZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcnQgPSAwOyBydCA8ICRzY29wZS5ERVByZW1vdmVPUExpc3QubGVuZ3RoOyBydCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERFUGlkVG9SZW1vdmUgPSAkc2NvcGUuREVQcmVtb3ZlT1BMaXN0W3J0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLmRlbGV0ZSh7IGlkOiBERVBpZFRvUmVtb3ZlIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUgPSAkc2NvcGUuZGVwVGFwZUNvcHkubGVuZ3RoID4gMCA/IFtdIDogJHNjb3BlLkRFUHRhcGVEb3duVGFibGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdCA9IDA7IGF0IDwgJHNjb3BlLmRlcFRhcGVDb3B5Lmxlbmd0aDsgYXQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERVB0aGlzVGFwZSA9ICRzY29wZS5kZXBUYXBlQ29weVthdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKERFUHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXhpc3RpbmcsIHB1dCBpbiBjYXNlIHRoZXkgY2hhbmdlZCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnVwZGF0ZSh7IGlkOiBERVB0aGlzVGFwZS5vcF9tZWFzdXJlbWVudHNfaWQgfSwgREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXcgb25lIGFkZGVkLCBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERFUHRoaXNUYXBlLmluc3RydW1lbnRfc3RhdHVzX2lkID0gc3RhdFJlc3BvbnNlLmluc3RydW1lbnRfc3RhdHVzX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9NRUFTVVJFLnNhdmUoREVQdGhpc1RhcGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHRhcGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLm9wX25hbWUgPSBERVB0aGlzVGFwZS5vcF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFwZVJlc3BvbnNlLlZkYXR1bSA9IERFUHRoaXNUYXBlLlZkYXR1bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ERVB0YXBlRG93blRhYmxlLnB1c2godGFwZVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFNlblN0YXQgPSBzdGF0UmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkU2VuU3RhdC5zdGF0dXMgPSBcIkRlcGxveWVkXCI7IC8vY2FuJ3QgY2hhbmdlIHN0YXR1cyBvbiBhIGRlcGxveWVkIGVkaXQuLnN0aWxsIGRlcGxveWVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yID0gdXBkYXRlZFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbGxTdGF0dXNIb2xkZXIgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvciA9IHVwZGF0ZWRTZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0ID0gdXBkYXRlZFNlblN0YXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveWVkU2Vuc29yU3RhdC50aW1lX3N0YW1wID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnRpbWVfc3RhbXApOy8vdGhpcyBrZWVwcyBpdCBhcyB1dGMgaW4gZGlzcGxheVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IGFsbFN0YXR1c0hvbGRlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzLm1hcChmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5zdGF0dXNfdHlwZV9pZDsgfSkuaW5kZXhPZigxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9zdGF0dXNbaW5kXSA9ICRzY29wZS5EZXBsb3llZFNlbnNvclN0YXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHkgPSBbXTsgJHNjb3BlLmRlcFRhcGVDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSW50ZXJ2YWxUeXBlID0geyB0eXBlOiAnU2Vjb25kcycgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkRFUHZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcidzIHN0YXR1czogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmVEZXBsb3llZCgpXHJcblxyXG4gICAgICAgICAgICAvL25ldmVyIG1pbmQsIGRvbid0IHdhbnQgdG8gZWRpdCBkZXBsb3llZCBzZW5zb3JcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbERlcEVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5ERVB2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBTdHVmZkNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBUYXBlQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy9NQUtFIFNVUkUgQUxMIFNFTEVDVEVEIE9QJ1MgU1RBWSBTRUxFQ1RFRFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuREVQT1BzRm9yVGFwZURvd24ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIG9uZSwgaWYgcmVzcG9uc2UgaGFzIHRoaXMgaWQsIGFkZCAnc2VsZWN0ZWQ6dHJ1ZScgZWxzZSBhZGQgJ3NlbGVjdGVkOmZhbHNlJ1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgJHNjb3BlLkRFUHRhcGVEb3duVGFibGUubGVuZ3RoOyB5KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ERVB0YXBlRG93blRhYmxlW3ldLm9iamVjdGl2ZV9wb2ludF9pZCA9PSAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0ub2JqZWN0aXZlX3BvaW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREVQT1BzRm9yVGFwZURvd25baV0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9ICRzY29wZS5ERVB0YXBlRG93blRhYmxlLmxlbmd0aDsgLy9lbnN1cmVzIGl0IGRvZXNuJ3Qgc2V0IGl0IGFzIGZhbHNlIGFmdGVyIHNldHRpbmcgaXQgYXMgdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ERVB0YXBlRG93blRhYmxlLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRFUE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBkZXBsb3kgZWRpdFxyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIFJldHJpZXZlIGVkaXRcclxuICAgICAgICAgICAgLy9lZGl0IGJ1dHRvbiBjbGlja2VkLiBtYWtlIGNvcHkgb2YgZGVwbG95ZWQgaW5mbyBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdFJldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LlJFVHZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRTdHVmZkNvcHkgPSBbYW5ndWxhci5jb3B5KCRzY29wZS5zZW5zb3IpLCBhbmd1bGFyLmNvcHkoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXRUYXBlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuUkVUdGFwZURvd25UYWJsZSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3NhdmUgUmV0cmlldmVkIHNlbnNvciBpbmZvXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlUmV0cmlldmVkID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlZFJldFNlbnNvciA9IHt9OyB2YXIgdXBkYXRlZFJldFNlblN0YXQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgncmV0cmlldmVkJyk7IC8vVVRDIG9yIGxvY2FsP1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCA9IG5ldyBEYXRlKCRzY29wZS5yZXRTdHVmZkNvcHlbMV0udGltZV9zdGFtcCk7Ly9kYXRldGltZSBpcyBhbm5veWluZ1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC51cGRhdGUoeyBpZDogJHNjb3BlLnJldFN0dWZmQ29weVswXS5pbnN0cnVtZW50X2lkIH0sICRzY29wZS5yZXRTdHVmZkNvcHlbMF0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFJldFNlbnNvci5kZXBsb3ltZW50VHlwZSA9ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uZGVwbG95bWVudF90eXBlX2lkID4gMCA/ICRzY29wZS5kZXBUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmRlcGxveW1lbnRfdHlwZV9pZDsgfSlbMF0ubWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IuaG91c2luZ1R5cGUgPSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZCA+IDAgPyAkc2NvcGUuaG91c2VUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguaG91c2luZ190eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLmhvdXNpbmdfdHlwZV9pZDsgfSlbMF0udHlwZV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3Iuc2Vuc29yQnJhbmQgPSAkc2NvcGUuc2Vuc29yQnJhbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfYnJhbmRfaWQgPT09ICRzY29wZS5yZXRTdHVmZkNvcHlbMF0uc2Vuc29yX2JyYW5kX2lkOyB9KVswXS5icmFuZF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkUmV0U2Vuc29yLnNlbnNvclR5cGUgPSAkc2NvcGUuc2Vuc29yVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0LnNlbnNvcl90eXBlX2lkID09PSAkc2NvcGUucmV0U3R1ZmZDb3B5WzBdLnNlbnNvcl90eXBlX2lkOyB9KVswXS5zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRSZXRTZW5zb3IuaW5zdENvbGxlY3Rpb24gPSAkc2NvcGUuY29sbGVjdENvbmRMaXN0LmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5pZCA9PT0gJHNjb3BlLnJldFN0dWZmQ29weVswXS5pbnN0X2NvbGxlY3Rpb25faWQ7IH0pWzBdLmNvbmRpdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgY29waWVkIHJlZmVyZW5jZXMgZm9yIHBhc3NpbmcgYmFjayB0byBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3IgPSB1cGRhdGVkUmV0U2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdHNIb2xkZXIgPSB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yID0gdXBkYXRlZFJldFNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IHN0YXRzSG9sZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy51cGRhdGUoeyBpZDogJHNjb3BlLnJldFN0dWZmQ29weVsxXS5pbnN0cnVtZW50X3N0YXR1c19pZCB9LCAkc2NvcGUucmV0U3R1ZmZDb3B5WzFdKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzdGF0UmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tb3N0UmVjZW50U3RhdHVzID0gc3RhdFJlc3BvbnNlLnN0YXR1c190eXBlX2lkID09IDIgPyBcIlJldHJpZXZlZFwiIDogXCJMb3N0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdCA9IHN0YXRSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXRyaWV2ZWRTZW5zb3JTdGF0LnN0YXR1cyA9IHN0YXRSZXNwb25zZS5zdGF0dXNfdHlwZV9pZCA9PSAyID8gXCJSZXRyaWV2ZWRcIiA6IFwiTG9zdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQudGltZV9zdGFtcCk7Ly90aGlzIGtlZXBzIGl0IGFzIHV0YyBpbiBkaXNwbGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzWzBdID0gJHNjb3BlLlJldHJpZXZlZFNlbnNvclN0YXQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWFsIHdpdGggdGFwZWRvd25zLiByZW1vdmUvYWRkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBydCA9IDA7IHJ0IDwgJHNjb3BlLlJFVHJlbW92ZU9QTGlzdC5sZW5ndGg7IHJ0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgUkVUaWRUb1JlbW92ZSA9ICRzY29wZS5SRVRyZW1vdmVPUExpc3RbcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuZGVsZXRlKHsgaWQ6IFJFVGlkVG9SZW1vdmUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUkVUdGFwZURvd25UYWJsZSA9ICRzY29wZS5yZXRUYXBlQ29weS5sZW5ndGggPiAwID8gW10gOiAkc2NvcGUuUkVUdGFwZURvd25UYWJsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGF0ID0gMDsgYXQgPCAkc2NvcGUucmV0VGFwZUNvcHkubGVuZ3RoOyBhdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIFJFVHRoaXNUYXBlID0gJHNjb3BlLnJldFRhcGVDb3B5W2F0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUkVUdGhpc1RhcGUub3BfbWVhc3VyZW1lbnRzX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9leGlzdGluZywgcHV0IGluIGNhc2UgdGhleSBjaGFuZ2VkIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUudXBkYXRlKHsgaWQ6IFJFVHRoaXNUYXBlLm9wX21lYXN1cmVtZW50c19pZCB9LCBSRVR0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IFJFVHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gUkVUdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25ldyBvbmUgYWRkZWQsIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUkVUdGhpc1RhcGUuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9QX01FQVNVUkUuc2F2ZShSRVR0aGlzVGFwZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAodGFwZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2Uub3BfbmFtZSA9IFJFVHRoaXNUYXBlLm9wX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXBlUmVzcG9uc2UuVmRhdHVtID0gUkVUdGhpc1RhcGUuVmRhdHVtO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVHRhcGVEb3duVGFibGUucHVzaCh0YXBlUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5ID0gW107ICRzY29wZS5yZXRUYXBlQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuUkVUdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlNlbnNvciB1cGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yJ3Mgc3RhdHVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzZW5zb3IncyBzdGF0dXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZVJldHJpZXZlZCgpICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAvL25ldmVyIG1pbmQsIGRvbid0IHdhbnQgdG8gZWRpdCByZXRyaWV2ZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxSZXRFZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuUkVUdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmV0U3R1ZmZDb3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmV0VGFwZUNvcHkgPSBbXTtcclxuICAgICAgICAgICAgICAgIC8vTUFLRSBTVVJFIEFMTCBTRUxFQ1RFRCBPUCdTIFNUQVkgU0VMRUNURURcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCBvbmUsIGlmIHJlc3BvbnNlIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8ICRzY29wZS5SRVR0YXBlRG93blRhYmxlLmxlbmd0aDsgeSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuUkVUdGFwZURvd25UYWJsZVt5XS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLm9iamVjdGl2ZV9wb2ludF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlJFVE9Qc0ZvclRhcGVEb3duW2ldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSAkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5sZW5ndGg7IC8vZW5zdXJlcyBpdCBkb2Vzbid0IHNldCBpdCBhcyBmYWxzZSBhZnRlciBzZXR0aW5nIGl0IGFzIHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuUkVUdGFwZURvd25UYWJsZS5sZW5ndGggPT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SRVRPUHNGb3JUYXBlRG93bltpXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gUmV0cmlldmUgZWRpdFxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgYVNlbnNvciBhbmQgc2Vuc29yIHN0YXR1c2VzXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVTID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBzZW5zb3IgdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU2Vuc29yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChzZW5zb3JUb1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3RoaXMgd2lsbCBkZWxldGUgdGhlIGluc3RydW1lbnQgYW5kIGFsbCBpdCdzIHN0YXR1c2VzXHJcbiAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogc2Vuc29yVG9SZW1vdmUuaW5zdHJ1bWVudF9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzID0gW107IC8vY2xlYXIgb3V0IHNlbnNvckZpbGVzIGZvciB0aGlzIHNlbnNvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgaW1hZ2UgZmlsZXMgZm9yIHRoaXMgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHJlbW92ZSBhbGwgdGhlc2UgZmlsZXMgZnJvbSBTaXRlRmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGwgPSAkc2NvcGUuYWxsU0ZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hbGxTRmlsZXNbbF0uaW5zdHJ1bWVudF9pZCA9PSBzZW5zb3JUb1JlbW92ZS5pbnN0cnVtZW50X2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJTZW5zb3IgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7ICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgIC8vbmVlZCB0byByZXVwbG9hZCBmaWxlSXRlbSB0byB0aGlzIGV4aXN0aW5nIGZpbGUgT1IgQ2hhbmdlIG91dCBleGlzdGluZyBmaWxlSXRlbSBmb3IgbmV3IG9uZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZUZpbGVVcGxvYWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgPT0gdW5kZWZpbmVkICYmICRzY29wZS5hRmlsZS5GaWxlMSA9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIllvdSBuZWVkIHRvIGNob29zZSBhIGZpbGUgZmlyc3RcIik7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFGaWxlLmRlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5hRmlsZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICRzY29wZS5hRmlsZS5wYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lOyAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlID0gJHNjb3BlLmFGaWxlLkZpbGUxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMiA/IFwiRGF0YUZpbGUgRmlsZVwiIDogXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdElNR0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc0ltYWdlRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIG9wXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbGUgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgb3AgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9ICRzY29wZS5zZW5zb3JGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9ICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5sZW5ndGggPiAwID8gJHNjb3BlLnNlbnNJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0UucXVlcnkoeyBpZDogZmlsZS5zb3VyY2VfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5zb3VyY2VfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIGFnZW5jeSBuYW1lIHRvIHBob3RvIGNhcHRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5kYXRhX2ZpbGVfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmaWxlLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZi5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkICYmIGRmLmFwcHJvdmFsX2lkICE9PSBudWxsICYmIGRmLmFwcHJvdmFsX2lkID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZ2V0REZBcHByb3ZhbCh7IGlkOiBkZi5kYXRhX2ZpbGVfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUoYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9kYXRlKTsgLy9pbmNsdWRlIG5vdGUgdGhhdCBpdCdzIGRpc3BsYXllZCBpbiB0aGVpciBsb2NhbCB0aW1lIGJ1dCBzdG9yZWQgaW4gVVRDXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGUgYXBwcm92YWw6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZSBhcHByb3ZhbDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5wcm9jZXNzb3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGR0ID0gZ2V0VGltZVpvbmVTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBkdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gZHRbMV07IC8vd2lsbCBiZSBjb252ZXJ0ZWQgdG8gdXRjIG9uIHBvc3QvcHV0IFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gbnVsbDsvL25ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gdHJ1ZTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUFnZW5jeUZvckNhcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBuZXcgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzID09IHVuZGVmaW5lZCB8fCBlID09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaXNzaW5nRGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBkYXRhIHN0YXJ0IGRhdGUgb3IgZ29vZCBkYXRhIGVuZCBkYXRlIGlzIG1pc3NpbmcuIEVpdGhlciBjaG9vc2UgYSBkYXRlLCBvciBjbGljayBQcmV2aWV3IERhdGEgdG8gZ2V0IGEgY2hhcnQgb2YgdGhlIGRhdGEsIHdoZXJlIHlvdSBjYW4gY2hvb3NlIHRoZSBkYXRlcy48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmdEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2Ugb3IgZGF0YWZpbGUgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZCBvciBkYXRhX2ZpbGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCA9PSAyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSB0aW1lem9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y0VuZERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuaW5zdHJ1bWVudF9pZCA9IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFmaWxlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnNhdmUoJHNjb3BlLmRhdGFmaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YWZpbGVJRCA9IGRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogdGhpc1NlbnNvci5pbnN0cnVtZW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpICRzY29wZS5zZW5zSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaWxlIGRpZCBub3QgZ2V0IGNyZWF0ZWQsIGRlbGV0ZSBkYXRhZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAkc2NvcGUuYVNvdXJjZSA9IHt9OyAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBkYXRhZmlsZS5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaXQncyBub3QgYSBkYXRhIGZpbGUsIHNvIGRvIHRoZSBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NlbnNvclNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogcmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHRoaXNTZW5zb3IuaW5zdHJ1bWVudF9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWRcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJZb3UgbmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSBlbmQgZGF0ZSBpcyBhZnRlciBzdGFydCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kOyAvL3N0dXBpZCBjb21tYSBpbiB0aGVyZSBtYWtpbmcgaXQgbm90IHRoZSBzYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpeERhdGUgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdGtpbmQgPSAkc2NvcGUuYUZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9oYXMgREFUQV9GSUxFXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdGltZXpvbmUgYW5kIG1ha2Ugc3VyZSBkYXRlIHN0YXlzIHV0Y1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRhdGFmaWxlLnRpbWVfem9uZSAhPSBcIlVUQ1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5kYXRhZmlsZS5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kID0gJHNjb3BlLmRhdGFmaWxlLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLmRhdGFmaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkIH0sICRzY29wZS5hRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkRhdGFGaWxlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsU2VuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFzIFNPVVJDRVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0IGFnYWluIChpZiBubyBjaGFuZ2UsIHdpbGwgcmV0dXJuIGV4aXN0aW5nIG9uZS4gaWYgZWRpdGVkLCB3aWxsIGNyZWF0ZSBhIG5ldyBvbmUgLS1pbnN0ZWFkIG9mIGVkaXRpbmcgYWxsIGZpbGVzIHRoYXQgdXNlIHRoaXMgc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTZW5zb3IgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZ1bGxTZW5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFNlbmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlOyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKCRzY29wZS5hbGxTRmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9ybVNlY3Rpb24gPSBmYWxzZTsgLy8gaW4gY2FzZSB0aGV5IGNsaWNrZWQgcnVuIHNjcmlwdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaXM0SHogPSB7IHNlbGVjdGVkOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgZGF0YWZpbGUgKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlREYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNERiA9ICRzY29wZS5kYXRhZmlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIERhdGEgRmlsZTwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSByZWFkeSB0byBhcHByb3ZlIHRoaXMgRGF0YSBGaWxlPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuYXBwcm92ZURGKHsgaWQ6IGRmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0YSBGaWxlIEFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBhcHByb3ZhbFJlc3BvbnNlLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGh3bSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZURGID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzREYgPSAkc2NvcGUuZGF0YWZpbGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5hcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5SZW1vdmUgQXBwcm92YWw8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FuIHRvIHVuYXBwcm92ZSB0aGlzIERhdGEgRmlsZT88L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSd1bkFwcHJvdmVJdCgpJz5VbmFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0RGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudW5BcHByb3ZlREYoeyBpZDogZGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5hcHByb3ZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdGEgRmlsZSBVbmFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyB0aGlzIGlzIGEgcHJlc3N1cmUgdHJhbnNkdWNlciBzZW5zb3IncyBkYXRhIGZpbGUsIHJ1biBhaXIgc2NyaXB0IHVzaW5nIHRoZSBkYXRhIGZpbGUgaWRcclxuICAgICAgICAgICAgJHNjb3BlLnJ1bkFpclNjcmlwdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVuc3VyZSB0aGUgYWlyIHNlbnNvciBoYXMgYSB0YXBlZG93biB3aXRoIHRoZSBzZW5zb3JfZWxldmF0aW9uIG9uIGJvdGggZGVwIGFuZCByZXRyaWV2ZWRcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRGVwbG95ZWRTZW5zb3JTdGF0LnNlbnNvcl9lbGV2YXRpb24gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuUmV0cmlldmVkU2Vuc29yU3RhdC5zZW5zb3JfZWxldmF0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnNjcmlwdF9wYXJlbnQgPT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgbW9kYWwgYXNraW5nIGlmIHRoZXkgd2FudCB0byBkZWxldGUgYWxsIHRoZSBwcm9jZXNzZWQgZmlsZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcnVuTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIEFpciBTY3JpcHQgaGFzIGFscmVhZHkgYmVlbiBwcm9jZXNzZWQgZm9yIHRoaXMgc2Vuc29yIGRhdGEgZmlsZS4gV291bGQgeW91IGxpa2UgdG8gZGVsZXRlIHRoZSBvdXRwdXQgZmlsZXMgYW5kIHJlcnVuIHRoZSBzY3JpcHQ/PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJubygpXCIgbmctY2xpY2s9XCJubygpXCI+Q2FuY2VsPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwieWVzKClcIiBuZy1jbGljaz1cInllcygpXCI+UmVydW4gU2NyaXB0PC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoZUZpbGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhlRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ubyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhlRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVGaWxlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVydW5Nb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoYWZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvY2Vzc2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSBhbGwgdGhlIG91dHB1dCBmaWxlcyB0aGF0IGhhdmUgdGhpcyBmaWxlX2lkIGFzIHRoZWlyICdzY3JpcHRfcGFyZW50JyB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2Nlc3NlZEZpbGVDb3VudCA9ICRzY29wZS5zZW5zb3JGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuc2NyaXB0X3BhcmVudCA9PSBhZmlsZS5maWxlX2lkLnRvU3RyaW5nKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoQ250ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzZWRGaWxlQ291bnQgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGRvbmUsIHJ1biBpdCBhZ2FpbiBub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQWlyU2NyaXB0KHsgYWlyREZJRDogYWZpbGUuZGF0YV9maWxlX2lkLCB1c2VybmFtZTogJGNvb2tpZXMuZ2V0KCdTVE5Vc2VybmFtZScpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9TY3JpcHQuc2V0SXNTY3JpcHRSdW5uaW5nKFwidHJ1ZVwiKTsgLy90ZWxsIHNpdGUuY3RybCB0byBzaG93IHRvYXN0ciBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZi5zY3JpcHRfcGFyZW50ID09IGFmaWxlLmZpbGVfaWQudG9TdHJpbmcoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaENudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDbnQgPT0gcHJvY2Vzc2VkRmlsZUNvdW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGRvbmUsIHJ1biBpdCBhZ2FpbiBub3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucnVuQWlyU2NyaXB0KHsgYWlyREZJRDogYWZpbGUuZGF0YV9maWxlX2lkLCB1c2VybmFtZTogJGNvb2tpZXMuZ2V0KCdTVE5Vc2VybmFtZScpIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9TY3JpcHQuc2V0SXNTY3JpcHRSdW5uaW5nKFwidHJ1ZVwiKTsgLy90ZWxsIHNpdGUuY3RybCB0byBzaG93IHRvYXN0ciBub3RpZmljYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBvdXRwdXQgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgLy9lbmQgZm9yZWFjaCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHJlcnVuTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzY3JpcHRfcGFyZW50IGlzIG5vdCB0cnVlLCBuZXZlciBiZWVuIHJ1biBiZWZvcmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1bkFpclNjcmlwdCh7IGFpckRGSUQ6ICRzY29wZS5kYXRhZmlsZS5kYXRhX2ZpbGVfaWQsIHVzZXJuYW1lOiAkY29va2llcy5nZXQoJ1NUTlVzZXJuYW1lJykgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2Nlc3NpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgcnVubmluZyBBaXIgU2NyaXB0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsRmlsZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1pc3NpbmdTZWFFbGV2ID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBQcmVzc3VyZSBUcmFuc2R1Y2VyIFNlbnNvciBkb2VzIG5vdCBoYXZlIGEgc2Vuc29yIGVsZXZhdGlvbi48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgdXBkYXRlIHRoZSBzZW5zb3IsIHByb3ZpZGluZyBhIHNlbnNvciBlbGV2YXRpb24gZm9yIGJvdGggdGhlIGRlcGxveWVkIHNlY3Rpb24gYW5kIHJldHJpZXZlZCBzZWN0aW9uLiBUaGlzIGlzIHJlcXVpcmVkIGZvciB0aGUgc2NyaXB0LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjYWxjRGlzdGFuY2UobGF0MSwgbG9uMSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5nZW9kYXRhc291cmNlLmNvbS9kZXZlbG9wZXJzL2phdmFzY3JpcHRcclxuICAgICAgICAgICAgICAgIHZhciByYWRsYXQxID0gTWF0aC5QSSAqIGxhdDEgLyAxODA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmFkbGF0MiA9IE1hdGguUEkgKiAkc2NvcGUudGhpc1NlbnNvclNpdGUubGF0aXR1ZGVfZGQgLyAxODA7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhldGEgPSBsb24xIC0gJHNjb3BlLnRoaXNTZW5zb3JTaXRlLmxvbmdpdHVkZV9kZDtcclxuICAgICAgICAgICAgICAgIHZhciByYWR0aGV0YSA9IE1hdGguUEkgKiB0aGV0YSAvIDE4MDtcclxuICAgICAgICAgICAgICAgIHZhciBkaXN0ID0gTWF0aC5zaW4ocmFkbGF0MSkgKiBNYXRoLnNpbihyYWRsYXQyKSArIE1hdGguY29zKHJhZGxhdDEpICogTWF0aC5jb3MocmFkbGF0MikgKiBNYXRoLmNvcyhyYWR0aGV0YSk7XHJcbiAgICAgICAgICAgICAgICBkaXN0ID0gTWF0aC5hY29zKGRpc3QpO1xyXG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiAxODAgLyBNYXRoLlBJO1xyXG4gICAgICAgICAgICAgICAgZGlzdCA9IGRpc3QgKiA2MCAqIDEuMTUxNTsgLy8gbWlsZXNcclxuICAgICAgICAgICAgICAgIHJldHVybiBkaXN0O1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1N0b3JtU2VjdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdG9ybVNlY3Rpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHBhcmVudEZpbGVOYW1lID0gXCJcIjtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxFdmVudERhdGFGaWxlcywgZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGYuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBkZi5kaXN0YW5jZSA9IGNhbGNEaXN0YW5jZShkZi5sYXRpdHVkZV9kZCwgZGYubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGYuc2NyaXB0X3BhcmVudCA9PT0gdW5kZWZpbmVkIHx8IGRmLnNjcmlwdF9wYXJlbnQgPT0gXCJ0cnVlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudERhdGFGaWxlcy5wdXNoKGRmKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gbm93IHNvcnQgYnkgZGlzdGFuY2UgYnkgZGVmYXVsdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50RGF0YUZpbGVzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdChhLmRpc3RhbmNlKSAtIHBhcnNlRmxvYXQoYi5kaXN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFkZCBQQUdJTkFUSU9OIHN0dWZmIFxyXG4gICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5wYWdpbmF0aW9uID0ge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXHJcbiAgICAgICAgICAgICAgICBtYXhQYWdpbmF0aW9uU2l6ZTogMjAwXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXNQZXJQYWdlID0gMTA7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgYmVnaW5uaW5nIGFuZCBlbmQgcG9pbnRzIGZvciBzaG93biBwZW9wbGVcclxuICAgICAgICAgICAgLy8gdGhpcyB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSB1c2VyIGNoYW5nZXMgcGFnZSBpbiB0aGUgcGFnaW5hdGlvbiBiYXJcclxuICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZVBhZ2VJbmRleGVzID0gZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQYWdlIGNoYW5nZWQgdG86ICcgKyAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZmlyc3RJbmRleCA9ICgkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAtIDEpICogJHNjb3BlLml0ZW1zUGVyUGFnZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5sYXN0SW5kZXggPSAkc2NvcGUucGFnaW5hdGlvbi5jdXJyZW50UGFnZSAqICRzY29wZS5pdGVtc1BlclBhZ2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVQYWdlSW5kZXhlcygpO1xyXG5cclxuICAgICAgICAgICAgLy9lbmQgUEFHSU5BVElPTiBzdHVmZiBcclxuXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVDaG9zZW5BaXJSYWRpbyA9IGZ1bmN0aW9uIChkZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuZXZlbnREYXRhRmlsZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGZpbGUuZGF0YV9maWxlX2lkICE9ICRzY29wZS5ldmVudERhdGFGaWxlc1tpXS5kYXRhX2ZpbGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudERhdGFGaWxlc1tpXS5zZWxlY3RlZCA9ICdmYWxzZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgcnVuVGhlU3Rvcm1TY3JpcHQgPSBmdW5jdGlvbiAoYWlyREYpIHtcclxuICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuZ2V0RnVsbEluc3RydW1lbnQoeyBpZDogYWlyREYuaW5zdHJ1bWVudF9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhaXJTZW5zb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudFN0YXRzID0gYWlyU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXRlckRGID0gJHNjb3BlLmRhdGFmaWxlLmRhdGFfZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYm9vbFZhbCA9ICRzY29wZS5pczRIei5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAvLyBydW4gdGhlIHNjcmlwdCBpZiBhaXJERiBhbmQgd2F0ZXJERiBhcmUgcHJlc2VudCAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1blN0b3JtU2NyaXB0KHsgc2VhREZJRDogd2F0ZXJERiwgYWlyREZJRDogYWlyREYuZGF0YV9maWxlX2lkLCBoZXJ0ejogYm9vbFZhbCwgdXNlcm5hbWU6ICRjb29raWVzLmdldCgnU1ROVXNlcm5hbWUnKSB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsbERvbmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBydW5uaW5nIEFpciBTY3JpcHQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJ0cnVlXCIpOyAvL3RlbGwgc2l0ZS5jdHJsIHRvIHNob3cgdG9hc3RyIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvciByZXRyaWV2aW5nIEFpciBTZW5zb3I6IFwiICsgZXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTsvLyBlbmQgZ2V0RnVsbEluc3RydW1lbnRcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRoaXMgaXMgYSB3YXRlciBzZW5zb3IncyBkYXRhIGZpbGUsIHJ1biBzdG9ybSBzY3JpcHQgdXNpbmcgYWlyIGFuZCB3YXRlciBkYXRhIGZpbGUgaWRzICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnJ1blN0b3JtU2NyaXB0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFpckRGID0gJHNjb3BlLmV2ZW50RGF0YUZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5zZWxlY3RlZCA9PSBcInRydWVcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICBpZiAoYWlyREYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGV5IGFkZGVkIGEgdGFwZWRvd24gd2l0aCB0aGUgcmVxdWlyZWQgZmllbGRzIGZvciB0aGUgc2NyaXB0IHRvIHJ1blxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmVkID0+IHNlYSBkZXAgYW5kIHJldHIgc3RhdHVzOiBzZW5zb3JfZWxldmF0aW9uICYmIHNlYSBkZXAgYW5kIHJldHIgc3RhdHVzOiBnc19lbGV2YXRpb24gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXRlckZpbGUgPSAkc2NvcGUuc2Vuc29yRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChmKSB7IHJldHVybiBmLmRhdGFfZmlsZV9pZCA9PSAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2F0QWlySURTID0gd2F0ZXJGaWxlLmZpbGVfaWQgKyBcIl9cIiArIGFpckRGLmZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFscmVhZHlSYW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2hhcyBzY3JpcHQgYmVlbiByYW4gYWxyZWFkeSB3aXRoIHRoaXMgd2F0ZXIvYWlyIGZpbGUgY29tYm8/XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLmZvckVhY2goZnVuY3Rpb24gKHNlbnNGaWxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zRmlsZS5zY3JpcHRfcGFyZW50ID09IHdhdEFpcklEUylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFscmVhZHlSYW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhbHJlYWR5UmFuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxyZWFkeSByYW4uIHNob3cgbW9kYWwgc3RhdGluZyB0aGUgc2NyaXB0IGhhcyBhbHJlYWR5IGJlZW4gcnVuIHdpdGggdGhpcyAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcnVuU3Rvcm1Nb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgU3Rvcm0gU2NyaXB0IGhhcyBhbHJlYWR5IGJlZW4gcHJvY2Vzc2VkIGZvciB0aGlzIHNlbnNvciBkYXRhIGZpbGUgd2l0aCB0aGlzIGFpciBkYXRhIGZpbGUuIFdvdWxkIHlvdSBsaWtlIHRvIGRlbGV0ZSB0aGUgb3V0cHV0IGZpbGVzIGFuZCByZXJ1biB0aGUgc2NyaXB0PzwvcD4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZ1wiIG5nLWVudGVyPVwibm8oKVwiIG5nLWNsaWNrPVwibm8oKVwiPkNhbmNlbDwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cInllcygpXCIgbmctY2xpY2s9XCJ5ZXMoKVwiPlJlcnVuIFNjcmlwdDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGVBaXJGaWxlJywgJ3RoZVdhdGVyRmlsZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCB0aGVBaXJGaWxlLCB0aGVXYXRlckZpbGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS55ZXMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlc0FycmF5ID0gW3RoZUFpckZpbGUsIHRoZVdhdGVyRmlsZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKGZpbGVzQXJyYXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlQWlyRmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWlyREY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVXYXRlckZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdhdGVyRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXJ1blN0b3JtTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGJvdGhGaWxlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9jZXNzaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIGFsbCB0aGUgb3V0cHV0IGZpbGVzIHRoYXQgaGF2ZSB0aGlzIGZpbGVfaWQgYXMgdGhlaXIgJ3NjcmlwdF9wYXJlbnQnIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkRmlsZUNvdW50ID0gJHNjb3BlLnNlbnNvckZpbGVzLmZpbHRlcihmdW5jdGlvbiAoZikgeyByZXR1cm4gZi5zY3JpcHRfcGFyZW50ID09IGJvdGhGaWxlc1sxXS5maWxlX2lkLnRvU3RyaW5nKCkgKyBcIl9cIiArIGJvdGhGaWxlc1swXS5maWxlX2lkLnRvU3RyaW5nKCk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoQ250ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYuc2NyaXB0X3BhcmVudCA9PSBib3RoRmlsZXNbMV0uZmlsZV9pZC50b1N0cmluZygpICsgXCJfXCIgKyBib3RoRmlsZXNbMF0uZmlsZV9pZC50b1N0cmluZygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxldGVUaGlzID0gZi5maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLmRlbGV0ZSh7IGlkOiBmLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaENudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hDbnQgPT0gcHJvY2Vzc2VkRmlsZUNvdW50Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJ1blRoZVN0b3JtU2NyaXB0KGFpckRGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgb3V0cHV0IGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIGZvcmVhY2ggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCByZXJ1bk1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5UaGVTdG9ybVNjcmlwdChhaXJERik7XHJcbiAgICAgICAgICAgICAgICAgICAgfS8vIGVuZCBpZiBzZWEgZGVwL3JldHIgaGFzIHNlbnNvcl9lbGV2YXRpb24gJiYgZ3NfZWxldmF0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgfSAvLyBlbmQgaWYgYWlyREYgIT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWlzc2luZ0luZm8gPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgY2hvb3NlIGFuIGFpciBkYXRhIGZpbGUgdG8gdXNlIGZvciB0aGUgc3Rvcm0gc2NyaXB0LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9IC8vIGVuZCBlbHNlIChhaXJERiBpcyB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgIH07IC8vIGVuZCBydW5TdG9ybVNjcmlwdCgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMiA9IGZhbHNlOyAvL3NldCB0byB0cnVlIGFuZCBzaG93IGhpZ2hjaGFydCB3aXRoIGNob3BwZXIgcmVzdWx0c1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczIgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICBBcnJheS5wcm90b3R5cGUuemlwID0gZnVuY3Rpb24gKGFycikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtlLCBhcnJbaV1dO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vJHNjb3BlLnJlbmRlcmVyID0gbmV3IEhpZ2hjaGFydHMuUmVuZGVyZXIoXHJcbiAgICAgICAgICAgICRzY29wZS5ydW5DaG9wcGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0T3B0aW9uczIgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hhcnRPYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJzdGFydFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhcnRPYmoueEF4aXNbMF0ucmVtb3ZlUGxvdExpbmUoXCJlbmRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiB0aGlzU2Vuc29yLmluc3RydW1lbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBzZW5kXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnJ1bkNob3BwZXJTY3JpcHQoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zbWxhbGxMb2FkZXJHbyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXMgPSBPYmplY3Qua2V5cyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9IHJlc3BvbnNlLkVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZhaWxlZENob3BwZXIgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgd2FzIGFuIGVycm9yIHJ1bm5pbmcgdGhlIGNob3BwZXIuPC9wPjxwPkVycm9yOiB7e2Vycm9yTWVzc2FnZX19PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdtZXNzYWdlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmVycm9yTWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcnJvck1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYXJ0RGF0YSA9IHJlc3BvbnNlLnRpbWUuemlwKHJlc3BvbnNlLnByZXNzdXJlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9wdGlvbnMyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFydE9iaiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpvb21UeXBlOiAneCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbm5pbmc6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhbktleTogJ3NoaWZ0J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9vc3RUaHJlc2hvbGQ6IDIwMDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGljazogZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb2ludENsaWNrID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+V291bGQgeW91IGxpa2UgdG8gc2V0IHRoaXMgKHt7dGhpc0RhdGV9fSkgYXM6PC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOmNlbnRlcjtcIj48c3BhbiBjbGFzcz1cInJhZGlvLWlubGluZVwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwid2hpY2hEYXRlXCIgbmctbW9kZWw9XCJ3aGljaERhdGVcIiB2YWx1ZT1cInN0YXJ0XCIgLz5Hb29kIFN0YXJ0IERhdGU8L3NwYW4+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gY2xhc3M9XCJyYWRpby1pbmxpbmVcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cIndoaWNoRGF0ZVwiIG5nLW1vZGVsPVwid2hpY2hEYXRlXCIgdmFsdWU9XCJlbmRcIiAvPkdvb2QgRW5kIERhdGU8L3NwYW4+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cImNhbmNlbCgpXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdjaG9zZW5EYXRlJywgJ3hFdmVudCcsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBjaG9zZW5EYXRlLCB4RXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUud2hpY2hEYXRlID09IFwiXCIpIGFsZXJ0KFwiTm8gRGF0ZSBjaG9zZW5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnRzID0gWyRzY29wZS53aGljaERhdGUsIGNob3NlbkRhdGUsIHhFdmVudF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShwYXJ0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS53aGljaERhdGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRGF0ZSA9IG5ldyBEYXRlKGNob3NlbkRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hvc2VuRGF0ZTogZXZlbnQucG9pbnQuY2F0ZWdvcnksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeEV2ZW50OiBldmVudC5jaGFydFhcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludENsaWNrLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChwYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoYXJ0ID0gJHNjb3BlLmNoYXJ0T2JqLnhBeGlzWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlcmUncyBhbHJlYWR5IGEgcGxvdGxpbmUgd2l0aCB0aGlzIGlkIGFuZCByZW1vdmUgaXQgaWYgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnJlbW92ZVBsb3RMaW5lKHBhcnRzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgcGxvdCBsaW5lIHRvIHZpc3VhbGx5IHNlZSB3aGVyZSB0aGV5IGFkZGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5hZGRQbG90TGluZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGNoYXJ0LnRvVmFsdWUocGFydHNbMl0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBwYXJ0c1swXSA9PSBcInN0YXJ0XCIgPyAnIzAwZmYwMCcgOiAnI2ZmMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHBhcnRzWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMTk5OTksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHsgdGV4dDogcGFydHNbMF0gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IG5ldyBEYXRlKHBhcnRzWzFdKS50b0lTT1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSBnZXREYXRlVGltZVBhcnRzKHRoZURhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnRzWzBdID09IFwic3RhcnRcIikgJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dQb2ludFNlbGVjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjogJ3BvaW50ZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnQ6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW91c2VPdmVyOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXJpZXMuaGFsbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VyaWVzLmhhbG8uYXR0cih7ICdjbGFzcyc6ICdoaWdoY2hhcnRzLXRyYWNrZXInIH0pLnRvRnJvbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiBmYWxzZSAvLyB0dXJuIGRvdHMgb2ZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICdQcmV2aWV3IG9mIFByZXNzdXJlIERhdGEnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0aXRsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAnQ2xpY2sgYW5kIGRyYWcgdG8gem9vbSBpbi4gSG9sZCBkb3duIHNoaWZ0IGtleSB0byBwYW4uIFRvIHNlbGVjdCBHb29kIFN0YXJ0L0VuZCBEYXRlLCBjbGljayBwb2ludCBvbiBsaW5lLidcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhBeGlzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAkc2NvcGUuY2hvcHBlclJlc3BvbnNlMktleXNbMV1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGV0aW1lJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZVRpbWVMYWJlbEZvcm1hdHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogJyVZLSVtLSVkPGJyLz4lSDolTTolUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6ICclWS0lbS0lZDxici8+JUg6JU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cjogJyVZLSVtLSVkPGJyLz4lSDolTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXk6ICclWTxici8+JW0tJWQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VlazogJyVZPGJyLz4lbS0lZCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb250aDogJyVZLSVtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHllYXI6ICclWSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiAxMFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeUF4aXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICRzY29wZS5jaG9wcGVyUmVzcG9uc2UyS2V5c1swXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbHM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogJ3t2YWx1ZX0gcHNpJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IDEwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJpZXM6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6ICRzY29wZS5jaGFydERhdGEsXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3BwZXJSZXNwb25zZTIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGUgZmlsZSB3YXNuJ3QgdGhlcmUuLlxyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiWW91IG5lZWQgdG8gY2hvb3NlIGEgZmlsZSBmaXJzdFwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIC8vIE5XSVMgREFUQV9GSUxFXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuc2Vuc29yRGF0YU5XSVMpIHtcclxuICAgICAgICAgICAgICAgIC8vRklMRS5WQUxJREFURUQgYmVpbmcgdXNlZCB0byBzdG9yZSAxIGlmIHRoaXMgaXMgYW4gbndpcyBmaWxlIG1ldGFkYXRhIGxpbmtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JOV0lTRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGFpID0gJHNjb3BlLnNlbnNvckZpbGVzLmxlbmd0aCAtIDE7IGFpID49IDA7IGFpLS0pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNlbnNvckZpbGVzW2FpXS5pc19ud2lzID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5wdXNoKCRzY29wZS5zZW5zb3JGaWxlc1thaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZXMuc3BsaWNlKGFpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgZHQgPSBnZXRUaW1lWm9uZVN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byBhZGQgb3IgZWRpdCBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gLTE7IC8vaW5kZXhlcyBmb3Igc3BsaWNlL2NoYW5nZVxyXG4gICAgICAgICAgICAgICAgaWYgKGYgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2VkaXQgTldJUyBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLnNlbnNvck5XSVNGaWxlcy5pbmRleE9mKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZUluZGV4ID0gJHNjb3BlLmFsbFNGaWxlcy5pbmRleE9mKGYpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IGFuZ3VsYXIuY29weShmKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLk5XSVNGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUuRmlsZVR5cGUgPSBcIkRhdGFcIjtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUucXVlcnkoeyBpZDogZi5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubndpc1Byb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuTldJU0RGLnByb2Nlc3Nvcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuY29sbGVjdF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5jb2xsZWN0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5OV0lTREYuZ29vZF9zdGFydCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZW5kIGV4aXN0aW5nIGZpbGVcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jcmVhdGluZyBhIG53aXMgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2h0dHBzOi8vd2F0ZXJkYXRhLnVzZ3MuZ292L253aXMvdXY/c2l0ZV9ubz0nICsgJHNjb3BlLnRoaXNTZW5zb3JTaXRlLnVzZ3Nfc2lkLCAgLy8gaWYgW2ZpbGwgaW4gaWYgbm90IGhlcmUuLiBUT0RPLi4uJmJlZ2luX2RhdGU9MjAxNjA0MTMmZW5kX2RhdGU9MjAxNjA0MTkgKGV2ZW50IHN0YXJ0L2VuZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJzxsaW5rPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVUeXBlOiAnRGF0YScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS5zZW5zb3Iuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6IDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2Nlc3Nvcl9pZDogJGNvb2tpZXMuZ2V0KFwibUlEXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuc2Vuc29yLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbGxlY3RfZGF0ZTogZHRbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfem9uZTogZHRbMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2Rfc3RhcnQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdvb2RfZW5kOiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubndpc1Byb2Nlc3NvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHBvc3RBcHByb3ZhbEZvck5XSVNmaWxlID0gZnVuY3Rpb24gKERGaWQpIHtcclxuICAgICAgICAgICAgICAgIERBVEFfRklMRS5hcHByb3ZlTldJU0RGKHsgaWQ6IERGaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5hcHByb3ZhbF9pZCA9IGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfaWQ7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIG53aXMgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgbndpcyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlTldJU0ZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgIHZhciBzID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0Oy8vbmVlZCB0byBnZXQgZGVwIHN0YXR1cyBkYXRlIGluIHNhbWUgZm9ybWF0IGFzIHJldHJpZXZlZCB0byBjb21wYXJlXHJcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQ7IC8vc3R1cGlkIGNvbW1hIGluIHRoZXJlIG1ha2luZyBpdCBub3QgdGhlIHNhbWVcclxuICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBnb29kIGVuZCBkYXRlIG11c3QgYmUgYWZ0ZXIgdGhlIGdvb2Qgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpeERhdGUucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3QgZGF0YWZpbGUgZmlyc3QgdG8gZ2V0IG9yIGRhdGFfZmlsZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgIC8vZGV0ZXJtaW5lIHRpbWV6b25lXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5OV0lTREYudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNTdGFydERhdGVUaW1lID0gbmV3IERhdGUoJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0KS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSB1dGNTdGFydERhdGVUaW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gdXRjRW5kRGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgJ0dNVCcgaXMgdGFja2VkIG9uIHNvIGl0IGRvZXNuJ3QgdHJ5IHRvIGFkZCBocnMgdG8gbWFrZSB0aGUgYWxyZWFkeSB1dGMgYSB1dGMgaW4gZGJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLk5XSVNERi5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWkgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgc2kpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0RGLmdvb2RfZW5kID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhZmlsZUlEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuc2F2ZSgkc2NvcGUuTldJU0RGKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChOZGZSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhZmlsZUlEID0gTmRmUmVzcG9uc2UuZGF0YV9maWxlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZS5kYXRhX2ZpbGVfaWQgPSBOZGZSZXNwb25zZS5kYXRhX2ZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RBcHByb3ZhbEZvck5XSVNmaWxlKE5kZlJlc3BvbnNlLmRhdGFfZmlsZV9pZCk7IC8vcHJvY2VzcyBhcHByb3ZhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIEZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5zYXZlKCRzY29wZS5OV0lTRmlsZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoRnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgRGF0YSBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5zZW5zb3JGaWxlcy5wdXNoKEZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnB1c2goRnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChGcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbGUgZGlkIG5vdCBnZXQgY3JlYXRlZCwgZGVsZXRlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZGVsZXRlKHsgaWQ6IGRhdGFmaWxlSUQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTldJU0ZpbGUgPSB7fTsgJHNjb3BlLk5XSVNERiA9IHt9OyAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZSdzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGRhdGFmaWxlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly8gZW5kIGNyZWF0ZSBOV0lTIGZpbGVcclxuICAgICAgICAgICAgLy91cGRhdGUgdGhpcyBOV0lTIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVOV0lTRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQ7Ly9uZWVkIHRvIGdldCBkZXAgc3RhdHVzIGRhdGUgaW4gc2FtZSBmb3JtYXQgYXMgcmV0cmlldmVkIHRvIGNvbXBhcmVcclxuICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLk5XSVNERi5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGUpIDwgbmV3IERhdGUocykpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGdvb2QgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZ29vZCBzdGFydCBkYXRlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZml4RGF0ZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRpbWV6b25lIGFuZCBtYWtlIHN1cmUgZGF0ZSBzdGF5cyB1dGNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgIT0gXCJVVENcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1dGNFbmREYXRlVGltZSA9IG5ldyBEYXRlKCRzY29wZS5OV0lTREYuZ29vZF9lbmQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9IHV0Y1N0YXJ0RGF0ZVRpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERi50aW1lX3pvbmUgPSAnVVRDJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2kgPSAkc2NvcGUuTldJU0RGLmdvb2Rfc3RhcnQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlaSA9ICRzY29wZS5OV0lTREYuZ29vZF9lbmQudG9TdHJpbmcoKS5pbmRleE9mKCdHTVQnKSArIDM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9zdGFydCA9ICRzY29wZS5OV0lTREYuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5OV0lTREYuZ29vZF9lbmQgPSAkc2NvcGUuTldJU0RGLmdvb2RfZW5kLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGVpKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuTldJU0RGLmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuTldJU0RGKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLk5XSVNGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLk5XSVNGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBEYXRhIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiRGF0YUZpbGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvck5XSVNGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TldJU0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG53aXMgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBud2lzIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU5XSVNGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk5XSVNGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yTldJU0ZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd05XSVNGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxOV0lTRmlsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5OV0lTRmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk5XSVNERiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dOV0lTRmlsZUZvcm0gPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XSk7Ly9lbmQgZnVsbFNlbnNvck1vZGFsQ3RybFxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignc2Vuc29yQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHEnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICckdGltZW91dCcsICd0aGlzU2l0ZScsICdJbnN0cnVtZW50X1NlcnZpY2UnLCAndGhpc1NpdGVTZW5zb3JzJyxcclxuICAgICAgICAnYWxsU2Vuc29yQnJhbmRzJywgJ2FsbEFnZW5jaWVzJywgJ2FsbFZlcnREYXR1bXMnLCAnYWxsRGVwbG95VHlwZXMnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsSG91c2luZ1R5cGVzJywgJ2FsbEV2ZW50cycsICdhbGxGaWxlVHlwZXMnLCAnSU5TVFJVTUVOVCcsICdJTlNUUlVNRU5UX1NUQVRVUycsICdTSVRFJywgJ01FTUJFUicsICdERVBMT1lNRU5UX1RZUEUnLCAnU1RBVFVTX1RZUEUnLFxyXG4gICAgICAgICdJTlNUX0NPTExfQ09ORElUSU9OJywgJ0RBVEFfRklMRScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJHEsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgJHRpbWVvdXQsIHRoaXNTaXRlLCBJbnN0cnVtZW50X1NlcnZpY2UsIHRoaXNTaXRlU2Vuc29ycywgYWxsU2Vuc29yQnJhbmRzLCBhbGxBZ2VuY2llcywgYWxsVmVydERhdHVtcywgYWxsRGVwbG95VHlwZXMsXHJcbiAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzLCBhbGxIb3VzaW5nVHlwZXMsIGFsbEV2ZW50cywgYWxsRmlsZVR5cGVzLCBJTlNUUlVNRU5ULCBJTlNUUlVNRU5UX1NUQVRVUywgU0lURSwgTUVNQkVSLCBERVBMT1lNRU5UX1RZUEUsIFNUQVRVU19UWVBFLCBJTlNUX0NPTExfQ09ORElUSU9OLCBEQVRBX0ZJTEUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6IHRoaXNTaXRlU2Vuc29ycy5sZW5ndGggfTsgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3QgPSBhbmd1bGFyLmNvcHkoYWxsRGVwbG95VHlwZXMpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlbXBEZXBUeXBlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgLy9maXggZGVwbG95bWVudCB0eXBlcyBzbyB0aGF0IFwiVGVtcGVyYXR1cmVcIiBiZWNvbWVzIDIgOiBUZW1wZXJhdHVyZSAoTWV0IHNlbnNvciktU2Vuc29yVHlwZToyIGFuZCBUZW1wZXJhdHVyZSAocHJlc3N1cmUgdHJhbnNkdWNlciktU2Vuc29yVHlwZToxIC0tIGp1c3QgZm9yIHByb3Bvc2VkXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZF0ubWV0aG9kID09PSBcIlRlbXBlcmF0dXJlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcERlcFR5cGVJRCA9ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5tZXRob2QgPSBcIlRlbXBlcmF0dXJlIChNZXQgc2Vuc29yKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5kZXBsb3lUeXBlTGlzdC5wdXNoKHsgZGVwbG95bWVudF90eXBlX2lkOiB0ZW1wRGVwVHlwZUlELCBtZXRob2Q6IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNEZXBUeXBlcyA9IGFsbFNlbnNvclR5cGVzOy8vIGFsbFNlbnNEZXBzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlOyAvL3RoZXkgd2FudCB0byBhZGQgYSBwcm9wb3NlZCBzZW5zb3IsIG9wZW4gb3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIG1ha2Ugc3VyZSB0aGUgaW5zdHJ1bWVudF9zdGF0dXNlcyBhcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgKFswXVJldHJpZXZlZCwgWzFdRGVwbG95ZWQsIFsyXVByb3Bvc2VkICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCB0aGlzU2l0ZVNlbnNvcnMubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29ycmVjdE9yZGVyU1MgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc29yU3RhdHVzZXMgPSB0aGlzU2l0ZVNlbnNvcnNbc10uaW5zdHJ1bWVudF9zdGF0dXM7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc29yU3RhdHVzZXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcmRlciBpZiB0aGVyZSdzIG1vcmUgdGhhbiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJQcm9wb3NlZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcGxveWVkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIkRlcGxveWVkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0TG9zdFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJSZXRyaWV2ZWRcIiB8fCBwcy5zdGF0dXMgPT0gXCJMb3N0XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBhZGQgdGhlbSBiYWNrIGluIGNvcnJlY3RseVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0TG9zdFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocmV0TG9zdFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGVwbG95ZWRTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKGRlcGxveWVkU3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9wb3NlZFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocHJvcG9zZWRTdGF0KTsgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZWN0T3JkZXJTUy5wdXNoKHNlbnNvclN0YXR1c2VzWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgcHV0IGl0IGJhY2sgaW4gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IGNvcnJlY3RPcmRlclNTO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgICAgICBJbnN0cnVtZW50X1NlcnZpY2Uuc2V0QWxsU2l0ZVNlbnNvcnMoJHNjb3BlLlNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgIC8vdG8gcGFzcyB0byB0aGUgc2Vuc29yIG1vZGFscyBmb3Igc2Vuc29yIGZpbGVzXHJcbiAgICAgICAgICAgICAgICB2YXIgU2Vuc0ZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHNmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUGhvdG8gKDEpLCBEYXRhICgyKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdEYXRhJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgc2Z0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICBzZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgc2Z0LmZpbGV0eXBlID09PSAnTGluaycgfHwgc2Z0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9zaG93L2hpZGUgcHJvcG9zZWQgc2Vuc29ycyB0byBhZGRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93SGlkZVByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWQgPSAhJHNjb3BlLnNob3dQcm9wb3NlZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvL2FkZCB0aGVzZSBjaGVja2VkIFByb3Bvc2VkIHNlbnNvcnMgdG8gdGhpcyBzaXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQWRkUHJvcG9zZWQgPSBmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB2YXIgVGltZV9TVEFNUCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZHQgPSAwOyBkdCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGR0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9wb3NlZFRvQWRkID0ge307IHZhciBwcm9wU3RhdFRvQWRkID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5tZXRob2Quc3Vic3RyaW5nKDAsIDQpID09IFwiVGVtcFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90ZW1wZXJhdHVyZSBwcm9wb3NlZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFRvQWRkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25fZGVzY3JpcHRpb246IFwiUHJvcG9zZWQgc2Vuc29yIGF0IHRoaXMgc2l0ZS4gQ2hhbmdlIGRlc2NyaXB0aW9uIHdoZW4gZGVwbG95aW5nIHNlbnNvci5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudF90eXBlX2lkOiAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogdGhpc1NpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0ubWV0aG9kID09IFwiVGVtcGVyYXR1cmUgKFByZXNzdXJlIFRyYW5zZHVjZXIpXCIgPyAxIDogMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dvIHRocm91Z2ggdGhlIG5ldyBmdWxsSW5zdHJ1bWVudCBhbmQgc2VlIGlmIGFueSBvZiB0aGUgc2Vuc29yJ3MgZGVwbG95bWVudHR5cGVzIGFyZSB0aGlzIGRlcGxveW1lbnQgdHlwZSB0byBzZXQgdGhlIHNlbnNvcl90eXBlX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNJRCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZW5zRGVwVHlwZXMsIGZ1bmN0aW9uIChzZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzZHQuZGVwbG95bWVudHR5cGVzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2R0LmRlcGxveW1lbnR0eXBlc1t4XS5kZXBsb3ltZW50X3R5cGVfaWQgPT0gJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0lEID0gc2R0LnNlbnNvcl90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbnkgb3RoZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3Bvc2VkVG9BZGQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiB0aGlzU2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogc0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBwb3N0IGl0IChJbnN0cnVtZW50IGZpcnN0LCB0aGVuIEluc3RydW1lbnQgU3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIElOU1RSVU1FTlQuc2F2ZShwcm9wb3NlZFRvQWRkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRJRCA9IHJlc3BvbnNlLmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRQcm9wU2Vuc29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXBsb3ltZW50X3R5cGVfaWQ6IHJlc3BvbnNlLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogcmVzcG9uc2Uuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6IHJlc3BvbnNlLmV2ZW50X2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogcmVzcG9uc2UubG9jYXRpb25fZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvcl90eXBlX2lkOiByZXNwb25zZS5zZW5zb3JfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogcmVzcG9uc2UuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudFR5cGU6ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGR0bCkgeyByZXR1cm4gZHRsLmRlcGxveW1lbnRfdHlwZV9pZCA9PSByZXNwb25zZS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yVHlwZTogJHNjb3BlLnNlbnNEZXBUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX3R5cGVfaWQgPT0gcmVzcG9uc2Uuc2Vuc29yX3R5cGVfaWQ7fSlbMF0uc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkID0geyBpbnN0cnVtZW50X2lkOiByZXNwb25zZS5pbnN0cnVtZW50X2lkLCBzdGF0dXNfdHlwZV9pZDogNCwgbWVtYmVyX2lkOiAkY29va2llcy5nZXQoJ21JRCcpLCB0aW1lX3N0YW1wOiBUaW1lX1NUQU1QLCB0aW1lX3pvbmU6ICdVVEMnLCB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKHByb3BTdGF0VG9BZGQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wU3RhdFRvQWRkLnN0YXR1cyA9ICdQcm9wb3NlZCc7IHByb3BTdGF0VG9BZGQuaW5zdHJ1bWVudF9zdGF0dXNfaWQgPSBzdGF0UmVzcG9uc2UuaW5zdHJ1bWVudF9zdGF0dXNfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRQcm9wU2Vuc29yLmluc3RydW1lbnRfc3RhdHVzID0gW3Byb3BTdGF0VG9BZGRdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzLnB1c2goY3JlYXRlZFByb3BTZW5zb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYW4gdXAgLi4uYWxsIHVuY2hlY2tlZCBhbmQgdGhlbiBoaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRlcCA9IDA7IGRlcCA8ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5sZW5ndGg7IGRlcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZGVwXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFueXRoaW5nIHlvdSB3YW50IGNhbiBnbyBoZXJlIGFuZCB3aWxsIHNhZmVseSBiZSBydW4gb24gdGhlIG5leHQgZGlnZXN0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQcm9wb3NlZCBzZW5zb3IgY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHN0YXR1cyBmYWlscywgbmVlZCB0byBkZWxldGUgdGhlIHNlbnNvciB0b29cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIElOU1RSVU1FTlRfU1RBVFVTLnNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIElOU1RSVU1FTlQuc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc2VsZWN0ZWQgPT0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIGRlcGxveVR5cGVMaXN0XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kIEFkZFByb3Bvc2VkKClcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhbnQgdG8gcmV0cmlldmUgdGhpcyBkZXBsb3llZCBzZW5zb3JcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UmV0cmlldmVNb2RhbCA9IGZ1bmN0aW9uIChzZW5zb3JDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHN0YXR1c1R5cGVzLCBDb2xsZWN0Q29uZGl0aW9ucyAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTsgdmFyIGFsbGluZGV4ID0gdGhpc1NpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8kKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1NlbnNvclJldHJpZXZhbE1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2Vuc29yUmV0cmlldmFsTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2Vuc29yOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbnNvckNsaWNrZWQgIT09IDAgPyBzZW5zb3JDbGlja2VkIDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU9QczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVPUHMoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXR1c1R5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNUQVRVU19UWVBFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEluc3RDb2xsQ29uZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZEYXR1bUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsVmVydERhdHVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHJldHJpZXZlZFNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmlldmVkU2Vuc29yWzFdID09ICdyZXRyaWV2ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnNbaW5kZXhDbGlja2VkXSA9IHJldHJpZXZlZFNlbnNvclswXTsgdGhpc1NpdGVTZW5zb3JzW2FsbGluZGV4XSA9IHJldHJpZXZlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmlldmVkU2Vuc29yWzFdID09ICdkZWxldGVkUicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLlNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBzaG93UmV0cmlldmVNb2RhbFxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvcG9zZWRTZW5zb3IgPSBmdW5jdGlvbiAocHJvcG9zZWRTZW5zb3JDbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BJbmRleCA9ICRzY29wZS5TaXRlU2Vuc29ycy5pbmRleE9mKHByb3Bvc2VkU2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3BNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1Byb3Bvc2VkU2Vuc29yLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICdwcm9wb3NlZFNlbnNvcicsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlLCBwcm9wb3NlZFNlbnNvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNQcm9wb3NlZFNlbnNvciA9IHByb3Bvc2VkU2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBEZWxldGVNb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnUHJvcG9zZWQgU2Vuc29yJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiUHJvcG9zZWQgU2Vuc29yXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ2RlbGV0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFNlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm9wb3NlZFNlbnNvckNsaWNrZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwcm9wTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA9PSAnZGVsZXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogcHJvcG9zZWRTZW5zb3JDbGlja2VkLmluc3RydW1lbnRfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVTZW5zb3JzLnNwbGljZShwcm9wSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycyA9IHRoaXNTaXRlU2Vuc29ycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZVNlbnNvcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUHJvcG9zZWQgc2Vuc29yIGRlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGRlcGxveSBhIHByb3Bvc2VkIHNlbnNvciwgZWRpdCBhIGRlcGxveWVkIHNlbnNvciBvciBjcmVhdGUgYSBuZXcgZGVwbG95ZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1NlbnNvck1vZGFsID0gZnVuY3Rpb24gKHNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2FsbFNlbnNvclR5cGVzLCBhbGxTZW5zb3JCcmFuZHMsIGFsbEhvdXNpbmdUeXBlcywgYWxsRXZlbnRzLCBTZW5zRmlsZVR5cGVzLCBhbGxWZXJ0RGF0dW1zXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLlNpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uLy8gJChcIi5wYWdlLWxvYWRpbmdcIikucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBhIGNyZWF0ZSwgc2hvdyB0aGUgc2Vuc29ybW9kYWwuaHRtbCwgaWYgbG9va2luZyBhdCBkZXBsb3llZCBzZW5zb3IsIGdvIHRvIHRoZSBkZXBzZW5zb3Jtb2RhbC5odG1sXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBzZW5zb3JDbGlja2VkID09PSAwIHx8IHNlbnNvckNsaWNrZWQuaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzX3R5cGVfaWQgPT09IDQgPyAnU2Vuc29ybW9kYWwuaHRtbCcgOiAnRGVwU2Vuc29ybW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzZW5zb3JNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhc3NBbGxMaXN0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBERVBMT1lNRU5UX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zb3JDbGlja2VkICE9PSAwID8gc2Vuc29yQ2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlT1BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZU9Qcyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRTZW5zb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTsgdmFyIHNpID0gdGhpc1NpdGVTZW5zb3JzLmluZGV4T2Yoc2Vuc29yQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJ2RlcGxveVAnIC0+IGNyZWF0ZWRTZW5zb3JbMV0gd2lsbCBiZTogJ3Byb3Bvc2VkRGVwbG95ZWQnIGRlcGxveSBuZXcgLT4gY3JlYXRlZFNlbnNvclsxXSB3aWxsIGJlOiAnbmV3RGVwbG95ZWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNlbnNvclsxXSA9PSAncHJvcG9zZWREZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpXSA9IGNyZWF0ZWRTZW5zb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVNlbnNvcnNbc2ldID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09ICduZXdEZXBsb3llZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29ycy5wdXNoKGNyZWF0ZWRTZW5zb3JbMF0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJbnN0cnVtZW50X1NlcnZpY2Uuc2V0QWxsU2l0ZVNlbnNvcnMoJHNjb3BlLlNpdGVTZW5zb3JzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNlbnNvclsxXSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgZnJvbSBlZGl0IC0tIHJlZnJlc2ggcGFnZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIHRoZSBsaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnNbaW5kZXhDbGlja2VkXSA9IGNyZWF0ZWRTZW5zb3JbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRTZW5zb3JbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIHNlZSB0aGUgcmV0cmlldmVkIHNlbnNvciAoY2FuIGVkaXQgZGVwbG95ZWQgcGFydCBhbmQgcmV0cmlldmVkIHBhcnQgb24gaGVyZSlcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RnVsbFNlbnNvck1vZGFsID0gZnVuY3Rpb24gKHNlbnNvckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3NlbmQgYWxsIGRlcGxveWVkIHN0dWZmIGFuZCByZXRyaWV2ZWQgc3R1ZmYgdG8gbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdHVmZiA9IFthbGxTZW5zb3JUeXBlcywgYWxsU2Vuc29yQnJhbmRzLCBhbGxIb3VzaW5nVHlwZXMsIFNlbnNGaWxlVHlwZXMsIGFsbFZlcnREYXR1bXNdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXRyaWV2ZWRTdHVmZiA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zb3JDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi4vLyAkKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Z1bGxTZW5zb3Jtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2Z1bGxTZW5zb3JNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlcGxveWVkU3R1ZmY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdHVzVHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVFVTX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW5zdENvbGxDb25kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOU1RfQ09MTF9DT05ESVRJT04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEV2ZW50cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBUeXBlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBERVBMT1lNRU5UX1RZUEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NlbnNvcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zb3JDbGlja2VkICE9PSAwID8gc2Vuc29yQ2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlT1BzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZU9Qcyh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudERhdGFGaWxlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBEQVRBX0ZJTEUuZ2V0RXZlbnREYXRhVmlldyh7IGV2ZW50SWQ6IHNlbnNvckNsaWNrZWQuZXZlbnRfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkU2Vuc29yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkU2Vuc29yWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVTZW5zb3JzLnNwbGljZShpbmRleENsaWNrZWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVTZW5zb3JzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEluc3RydW1lbnRfU2VydmljZS5zZXRBbGxTaXRlU2Vuc29ycygkc2NvcGUuU2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlU2Vuc29yc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZFNlbnNvclswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiAoaC5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpIHx8IGguaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzX3R5cGVfaWQgPT0gNDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVNlbnNvcnMgPSB0aGlzU2l0ZVNlbnNvcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlU2Vuc29ycy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSAvL2VuZCBlbHNlIG5vdCBhdXRoXHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdzdWJtaXRSZXBvcnRDdHJsJywgWyckc2NvcGUnLCAnJGh0dHAnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyRzdGF0ZScsICdDT05UQUNUJywgJ1JFUE9SVCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRjb29raWVzLCAkdWliTW9kYWwsICRzdGF0ZSwgQ09OVEFDVCwgUkVQT1JUKSB7XHJcbiAgICAgICAgICAgIC8vI21ha2Ugc3VyZSB0aGlzIGNsZWFycyBleGNlcHQgZm9yIGlmIHRoZXkgYXJlIG5lZWRpbmcgdG8gY29tcGxldGUgYSByZXBvcnRcclxuICAgICAgICAgICAgaWYgKCRzY29wZS4kcGFyZW50Lm5lZWRUb0NvbXBsZXRlICE9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5uZXdSZXBvcnQgPSB7IHJlcG9ydF9kYXRlOiBuZXcgRGF0ZSgpIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2tlZXBzIGl0IHZhbGlkIGFuZCB0ZWxscyBpdCBpdCdzIHV0YyBzbyBpdCB3aWxsIGNvbnZlcnQgcHJvcGVyIGxvY2FsXHJcbiAgICAgICAgICAgICAgICB2YXIgeXIgPSAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgIHZhciBtbyA9ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUuc3Vic3RyKDUsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUuc3Vic3RyKDgsIDIpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9IG5ldyBEYXRlKG1vICsgXCIvXCIgKyBkYXkgKyBcIi9cIiArIHlyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gbmV3IERhdGUoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5EZXBsb3lTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuR2VuU3RhZmYgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLklubGFuZFN0YWZmID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5Db2FzdFN0YWZmID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5XYXRlclN0YWZmID0ge307XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0geyBvcGVuQ29udGFjdHM6IGZhbHNlLCBvcGVuQ291bnRzOiBmYWxzZSwgb3BlblBlcnNvbm5lbDogZmFsc2UgfTsgLy9pZiBzdWJtaXQgZm9ybSBpbnZhbGlkLCBvcGVuIGNvbnRhY3RzIHRvIHNob3cgcmVxdWlyZWQgZmllbGRcclxuICAgICAgICAgICAgLy9jYWxsZWQgYSBmZXcgdGltZXMgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkICE9PSBcIlwiICYmIGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBuZXcgRGF0ZShtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAvL3Jlc2V0IGl0IGhlcmUgc28gZm9ybSB3aWxsIGNsZWFyIHdoZW4gdGhleSBsZWF2ZSBhbmQgY29tZSBiYWNrLlxyXG4gICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5uZWVkVG9Db21wbGV0ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvL2dldCB0aGlzIGV2ZW50IG5hbWUgZnJvbSB0aGUgZXZlbnRpZFxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0RXZlbnROYW1lID0gZnVuY3Rpb24gKGV2SUQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBuYW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNFdmVudCA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09IGV2SUQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgbmFtZSA9IHRoaXNFdmVudC5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gR0VUIFJlcG9ydCBDb250YWN0c1xyXG4gICAgICAgICAgICB2YXIgZ2V0UmVwb3J0Q29udGFjdHMgPSBmdW5jdGlvbiAocmVwb3J0SUQpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIENPTlRBQ1QuZ2V0Q29udGFjdE1vZGVsKHsgUmVwb3J0TWV0cmljOiByZXBvcnRJRCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiRGVwbG95ZWQgU3RhZmZcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiR2VuZXJhbFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSW5sYW5kU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJJbmxhbmQgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNvYXN0U3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJDb2FzdGFsIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5XYXRlclN0YWZmID0gcmVzcG9uc2UuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbnRhY3RUeXBlID09IFwiV2F0ZXIgUXVhbGl0eVwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIEdFVCBSZXBvcnQgQ29udGFjdHNcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBQT1NUIFJlcG9ydCBDb250YWN0c1xyXG4gICAgICAgICAgICB2YXIgcG9zdFJlcG9ydENvbnRhY3RzID0gZnVuY3Rpb24gKHJlcG9ydElEKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCAkc2NvcGUuRGVwbG95U3RhZmYpICYmICRzY29wZS5EZXBsb3lTdGFmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmFkZFJlcG9ydENvbnRhY3QoeyByZXBvcnRJZDogcmVwb3J0SUQsIGNvbnRhY3RUeXBlSWQ6IDEgfSwgJHNjb3BlLkRlcGxveVN0YWZmLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRlcGxveSBTdGFmZiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sICRzY29wZS5HZW5TdGFmZikgJiYgJHNjb3BlLkdlblN0YWZmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuYWRkUmVwb3J0Q29udGFjdCh7IHJlcG9ydElkOiByZXBvcnRJRCwgY29udGFjdFR5cGVJZDogMiB9LCAkc2NvcGUuR2VuU3RhZmYsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiR2VuZXJhbCBTdGFmZiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlMi5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlMi5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTIuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCAkc2NvcGUuSW5sYW5kU3RhZmYpICYmICRzY29wZS5JbmxhbmRTdGFmZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULmFkZFJlcG9ydENvbnRhY3QoeyByZXBvcnRJZDogcmVwb3J0SUQsIGNvbnRhY3RUeXBlSWQ6IDMgfSwgJHNjb3BlLklubGFuZFN0YWZmLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIklubGFuZCBTdGFmZiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlMy5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlMy5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTMuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHt9LCAkc2NvcGUuQ29hc3RTdGFmZikgJiYgJHNjb3BlLkNvYXN0U3RhZmYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5hZGRSZXBvcnRDb250YWN0KHsgcmVwb3J0SWQ6IHJlcG9ydElELCBjb250YWN0VHlwZUlkOiA0IH0sICRzY29wZS5Db2FzdFN0YWZmLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkNvYXN0YWwgU3RhZmYgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlNCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZTQuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTQuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYWRkaW5nIHJlcG9ydCBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2U0LnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmVxdWFscyh7fSwgJHNjb3BlLldhdGVyU3RhZmYpICYmICRzY29wZS5XYXRlclN0YWZmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBSRVBPUlQuYWRkUmVwb3J0Q29udGFjdCh7IHJlcG9ydElkOiByZXBvcnRJRCwgY29udGFjdFR5cGVJZDogNSB9LCAkc2NvcGUuV2F0ZXJTdGFmZiwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZTUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJXYXRlciBTdGFmZiBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2U1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlNS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFkZGluZyByZXBvcnQgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlNS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhZGRpbmcgcmVwb3J0IGNvbnRhY3Q6IFwiICsgZXJyb3JSZXNwb25zZTUuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBQT1NUIFJlcG9ydCBDb250YWN0c1xyXG5cclxuICAgICAgICAgICAgdmFyIHJlbW92ZUluY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZSBpdCBmcm9tIHRoZSBsaXN0IG9mIGluY29tcGxldGVzXHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm1lbWJlckluY29tcGxldGVzW2ldLnJlcG9ydGluZ19tZXRyaWNzX2lkID09ICRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpID0gJHNjb3BlLm1lbWJlckluY29tcGxldGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vUG9zdC9QdXQgdGhlIFJlcG9ydCBhbmQgUmVwb3J0IENvbnRhY3RzLiBDYWxsZWQgdHdpY2UgKGZyb20gd2l0aGluIE1vZGFsIChpbmNvbXBsZXRlKSBhbmQgb3V0c2lkZSAoY29tcGxldGUpKVxyXG4gICAgICAgICAgICB2YXIgUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9QT1NUIG9yIFBVVCAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZS50b0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1BVVFxyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC51cGRhdGUoeyBpZDogJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRpbmdfbWV0cmljc19pZCB9LCAkc2NvcGUubmV3UmVwb3J0LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUmVwb3J0IFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfbmFtZSA9ICRzY29wZS5nZXRFdmVudE5hbWUoJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LmNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUluY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc0NvbXBsZXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgdGhlIFJlcG9ydENvbnRhY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc3RSZXBvcnRDb250YWN0cygkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJHNldFByaXN0aW5lKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuZXZlbnRfaWQuJHZpZXdWYWx1ZSA9IHVuZGVmaW5lZDsvL25lZWRlZCBmb3IgdGhlIGNoYW5nZVN0YXRlIHRvIG5vdCB0aHJvdyB1cCBsZWF2aW5nIHRhYiBtZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygncmVwb3J0aW5nLnJlcG9ydERhc2gnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9QT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgUkVQT1JULnNhdmUoJHNjb3BlLm5ld1JlcG9ydCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlJlcG9ydCBDcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0cy5wdXNoKHJlc3BvbnNlKTsgLy9hZGQgdG8gdGhlIGxpc3Qgb2YgYWxsIHJlcG9ydHMgZm9yIGZpbHRlcmluZyBvbiB0aGUgZ2VuZXJhdGUgdGFiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LmNvbXBsZXRlID09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUluY29tcGxldGUoKTsgJHNjb3BlLmlzQ29tcGxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfbmFtZSA9ICRzY29wZS5nZXRFdmVudE5hbWUoJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVySW5jb21wbGV0ZXMucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgdGhlIFJlcG9ydENvbnRhY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQgPSByZXNwb25zZS5yZXBvcnRpbmdfbWV0cmljc19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zdFJlcG9ydENvbnRhY3RzKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0aW5nX21ldHJpY3NfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LiRzZXRQcmlzdGluZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZnVsbFJlcG9ydEZvcm0uc3VibWl0LmV2ZW50X2lkLiR2aWV3VmFsdWUgPSB1bmRlZmluZWQ7IC8vbmVlZGVkIGZvciB0aGUgY2hhbmdlU3RhdGUgdG8gbm90IHRocm93IHVwIGxlYXZpbmcgdGFiIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZXBvcnRpbmcucmVwb3J0RGFzaCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHBvc3RcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2V0IHZhbHVlcyBmb3IgUGVyc29ubmVsIFllc3RlcmRheXMsIGFuZCBDb250YWN0cyAoaWYgcmVwb3J0IHdhcyBkb25lIHllc3RlcmRheSksIGFuZCBhbGwgY291bnRzIGZvciBpbnN0cnVtZW50cyAmIGh3bXNcclxuICAgICAgICAgICAgJHNjb3BlLnBvcHVsYXRlWWVzdFRvdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5uZXdSZXBvcnQuc3RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0ZSA9IGZvcm1hdERhdGUudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBteURhdGUgPSBmb3JtYXREYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVTdGF0ZSA9ICRzY29wZS5uZXdSZXBvcnQuc3RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVJRCA9ICRzY29wZS5uZXdSZXBvcnQuZXZlbnRfaWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQgPSB7IHJlcG9ydF9kYXRlOiAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlLCBzdGF0ZTogdGhlU3RhdGUsIGV2ZW50X2lkOiBlSUQgfTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRGVwbG95U3RhZmYgPSB7fTsgJHNjb3BlLkdlblN0YWZmID0ge307ICRzY29wZS5JbmxhbmRTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Db2FzdFN0YWZmID0ge307ICRzY29wZS5XYXRlclN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzRGF5ID0gbmV3IERhdGUobXlEYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0RheS5zZXRIb3VycygwLCAwLCAwLCAwKTtcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c0RheSA9IHByZXZpb3VzRGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllc3RlcmRheVJwdCA9ICRzY29wZS5yZXBvcnRzLmZpbHRlcihmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwRGF0ZSA9IHIucmVwb3J0X2RhdGUudG9TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHIuZXZlbnRfaWQgPT0gJHNjb3BlLm5ld1JlcG9ydC5ldmVudF9pZCAmJiByLnN0YXRlID09ICRzY29wZS5uZXdSZXBvcnQuc3RhdGUpICYmIChyZXBEYXRlID09IHByZXZpb3VzRGF5KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh5ZXN0ZXJkYXlScHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQRVJTT05ORUwgcG9wdWxhdGluZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lnllc3RfZmllbGRwZXJzID0geWVzdGVyZGF5UnB0LnRvZF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQueWVzdF9vZmZpY2VwZXJzID0geWVzdGVyZGF5UnB0LnRvZF9vZmZpY2VwZXJzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ09OVEFDVFMgcG9wdWxhdGluZyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ2V0UmVwb3J0Q29udGFjdHMoeWVzdGVyZGF5UnB0LnJlcG9ydGluZ19tZXRyaWNzX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgeWVzdGVyZGF5UnB0ICE9IHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lnllc3RfZmllbGRwZXJzID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC55ZXN0X29mZmljZXBlcnMgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBnZXQgdG90YWxzIGZvciBhbGwgc2Vuc29ycyBhbmQgaHdtcyB0byBwb3B1bGF0ZSBpbiB0aGlzIG5ld1JlcG9ydFxyXG4gICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXREYWlseVJlcG9ydFRvdHMoeyBEYXRlOiBteURhdGUsIEV2ZW50OiAkc2NvcGUubmV3UmVwb3J0LmV2ZW50X2lkLCBTdGF0ZTogJHNjb3BlLm5ld1JlcG9ydC5zdGF0ZSB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCB0aGUgY291bnRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZGVwX3JhcGRlcGxfZ2FnZSA9IHJlc3BvbnNlNi5kZXBfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlY19yYXBkZXBsX2dhZ2UgPSByZXNwb25zZTYucmVjX3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5sb3N0X3JhcGRlcGxfZ2FnZSA9IHJlc3BvbnNlNi5sb3N0X3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5kZXBfd3RybGV2X3NlbnNvciA9IHJlc3BvbnNlNi5kZXBfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5yZWNfd3RybGV2X3NlbnNvciA9IHJlc3BvbnNlNi5yZWNfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5sb3N0X3d0cmxldl9zZW5zb3IgPSByZXNwb25zZTYubG9zdF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LmRlcF93dl9zZW5zID0gcmVzcG9uc2U2LmRlcF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlY193dl9zZW5zID0gcmVzcG9uc2U2LnJlY193dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmxvc3Rfd3Zfc2VucyA9IHJlc3BvbnNlNi5sb3N0X3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQuZGVwX2Jhcm9tZXRyaWMgPSByZXNwb25zZTYuZGVwX2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQucmVjX2Jhcm9tZXRyaWMgPSByZXNwb25zZTYucmVjX2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubG9zdF9iYXJvbWV0cmljID0gcmVzcG9uc2U2Lmxvc3RfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5kZXBfbWV0ZW9yb2xvZ2ljYWwgPSByZXNwb25zZTYuZGVwX21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlY19tZXRlb3JvbG9naWNhbCA9IHJlc3BvbnNlNi5yZWNfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubG9zdF9tZXRlb3JvbG9naWNhbCA9IHJlc3BvbnNlNi5sb3N0X21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmh3bV9mbGFnZ2VkID0gcmVzcG9uc2U2Lmh3bV9mbGFnZ2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0Lmh3bV9jb2xsZWN0ZWQgPSByZXNwb25zZTYuaHdtX2NvbGxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlNikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZTYuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydCB0b3RhbHM6IFwiICsgZXJyb3JSZXNwb25zZTYuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQgdG90YWxzOiBcIiArIGVycm9yUmVzcG9uc2U2LnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgY2hvb3NlIGEgZGF0ZSwgZXZlbnQgYW5kIHN0YXRlIGZpcnN0LlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsgLy8gZW5kIHBvcHVsYXRlWWVzdFRvdHNcclxuXHJcbiAgICAgICAgICAgIC8vc2F2ZSB0aGlzIHJlcG9ydCBhbmQgaXQncyBjb250YWN0c1xyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZVJlcG9ydCA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdSZXBvcnQuY29tcGxldGUgPT09IHVuZGVmaW5lZCB8fCAkc2NvcGUubmV3UmVwb3J0LmNvbXBsZXRlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9kb24ndCB3b3JyeSBpZiB2YWxpZCwganVzdCBwb3N0cHV0IG1vZGFsIGNvbmZpcm1pbmcgdGhleSB3YW50IHRvIHNhdmUgdGhpcyB3aXRob3V0IG1hcmtpbmcgaXQgY29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdzYXZlUmVwb3J0TW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdjb25maXJtUmVwb3J0TW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3llcywgcG9zdCB0aGlzIGFzIGluY29tcGxldGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydC5jb21wbGV0ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubWVtYmVyX2lkID0gJHNjb3BlLk1lbWJlckxvZ2dlZEluLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLy4uY29tcGxldGUgaXMgMSAuLiBjaGVjayBpZiB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZSByZXBvcnQgaXMgY29tcGxldGUgYW5kIHZhbGlkLCBqdXN0IHBvc3QvcHV0IGl0ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdSZXBvcnQubWVtYmVyX2lkID0gJHNjb3BlLk1lbWJlckxvZ2dlZEluLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgUG9zdFB1dFJlcG9ydEFuZFJlcG9ydENvbnRhY3RzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGVydChcIkFsbCBmaWVsZHMgYXJlIHJlcXVpcmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLm9wZW5Db250YWN0cyA9IHRydWU7ICRzY29wZS5zdGF0dXMub3BlbkNvdW50cyA9IHRydWU7ICRzY29wZS5zdGF0dXMub3BlblBlcnNvbm5lbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdcIiArICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJG5hbWUgKyBcIiddXCIpLmZpbmQoJy5uZy1pbnZhbGlkOnZpc2libGU6Zmlyc3QnKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5wb3B1bGF0ZURlcGxveWVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0gJHNjb3BlLk1lbWJlckxvZ2dlZEluO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2luY29tcGxldGUgcmVwb3J0IHdhcyBjbGlja2VkLCBnbyBnZXQgaXQgYW5kIHRoZSBjb250YWN0cyBmb3IgaXRcclxuICAgICAgICAgICAgJHNjb3BlLmdldEluY29tcGxldGVSZXBvcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVwb3J0SWQgPSB0aGlzLmlyLnJlcG9ydGluZ19tZXRyaWNzX2lkO1xyXG4gICAgICAgICAgICAgICAgUkVQT1JULnF1ZXJ5KHsgaWQ6IHJlcG9ydElkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBDaHJvbWUsIGZvcm1hdCBkYXRlOlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ciA9IHJlc3BvbnNlLnJlcG9ydF9kYXRlLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW8gPSByZXNwb25zZS5yZXBvcnRfZGF0ZS5zdWJzdHIoNSwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9IHJlc3BvbnNlLnJlcG9ydF9kYXRlLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3UmVwb3J0LnJlcG9ydF9kYXRlID0gbmV3IERhdGUobW8gKyBcIi9cIiArIGRheSArIFwiL1wiICsgeXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5uZXdSZXBvcnQucmVwb3J0X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybS5zdWJtaXQuJHNldERpcnR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nZXQgY29udGFjdHMgXHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0UmVwb3J0Q29udGFjdHMocmVwb3J0SWQpO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyByZXBvcnQ6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICBnZXRSZXBvcnRDb250YWN0cygkc2NvcGUubmV3UmVwb3J0LnJlcG9ydGluZ19tZXRyaWNzX2lkKTtcclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3JlcG9ydE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3JlcG9ydCcsICdzdWJtaXRQZXJzb24nLCAnY29udGFjdHMnLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgcmVwb3J0LCBzdWJtaXRQZXJzb24sIGNvbnRhY3RzKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3ID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LlJlcG9ydCA9IHJlcG9ydDtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuc3VibWl0dGVyID0gc3VibWl0UGVyc29uO1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5kZXBsb3lTdGFmZiA9IGNvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkRlcGxveWVkIFN0YWZmXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5nZW5lcmFsU3RhZmYgPSBjb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJHZW5lcmFsXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuUmVwb3J0Vmlldy5pbmxhbmRTdGFmZiA9IGNvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIklubGFuZCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgJHNjb3BlLlJlcG9ydFZpZXcuY29hc3RTdGFmZiA9IGNvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkNvYXN0YWwgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5SZXBvcnRWaWV3LndhdGVyU3RhZmYgPSBjb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJXYXRlciBRdWFsaXR5XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdyZXBvcnRpbmdEYXNoQ3RybCcsIFsnJHNjb3BlJywgJyRjb29raWVzJywgJyRmaWx0ZXInLCAnJHVpYk1vZGFsJywgJyRzdGF0ZScsICckaHR0cCcsICdDT05UQUNUJywgJ01FTUJFUicsICdhbGxSZXBvcnRzQWdhaW4nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkZmlsdGVyLCAkdWliTW9kYWwsICRzdGF0ZSwgJGh0dHAsIENPTlRBQ1QsIE1FTUJFUiwgYWxsUmVwb3J0c0FnYWluKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5yZXBvcnRzVG9EYXRlID0gYWxsUmVwb3J0c0FnYWluO1xyXG4gICAgICAgICAgICAkc2NvcGUudG9kYXlScHRzID0gW107ICRzY29wZS55ZXN0ZXJkYXlScHRzID0gW107ICRzY29wZS5waWNrRGF0ZVJwdHMgPSBbXTsgJHNjb3BlLnBpY2tBZGF0ZVJlcG9ydHMgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLnRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgJHNjb3BlLnRvZGF5LnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAkc2NvcGUueWVzdGVyZGF5ID0gbmV3IERhdGUoJHNjb3BlLnRvZGF5KTtcclxuICAgICAgICAgICAgJHNjb3BlLnllc3RlcmRheS5zZXREYXRlKCRzY29wZS50b2RheS5nZXREYXRlKCkgLSAxKTtcclxuICAgICAgICAgICAgJHNjb3BlLnRvZGF5ID0gJHNjb3BlLnRvZGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTtcclxuICAgICAgICAgICAgJHNjb3BlLnllc3RlcmRheSA9ICRzY29wZS55ZXN0ZXJkYXkudG9JU09TdHJpbmcoKS5zdWJzdHIoMCwgMTApO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLlRISVNfREFURSA9IHt9O1xyXG4gICAgICAgICAgICAvL1ZpZXcgUmVwb3J0IGJ1dHRvbiBjbGlja2VkLCBnZXQgc3R1ZmYgYW5kIG1ha2UgYSBwZGYgXHJcbiAgICAgICAgICAgICRzY29wZS5WaWV3UmVwb3J0ID0gZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnVmlld1JlcG9ydC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncmVwb3J0TW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogeyAgLy9UT0RPIDo6IENoYW5nZSB0aGlzIHRvIGdldCBSZXBvcnRNb2RlbCAtLWluY2x1ZGVzIGNvbnRhY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdFBlcnNvbjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lbWJlciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6IHIubWVtYmVyX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIubWVtID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1lbWJlckFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IG1lbWJlci5tZW0uYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW1iZXIuYWdlbmN5X25hbWUgPSBtZW1iZXJBZ2VuY3kuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVyLmFnZW5jeV9hZGRyZXNzID0gbWVtYmVyQWdlbmN5LmFkZHJlc3MgKyBcIiwgXCIgKyBtZW1iZXJBZ2VuY3kuY2l0eSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnN0YXRlICsgXCIgXCIgKyBtZW1iZXJBZ2VuY3kuemlwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIENPTlRBQ1QuZ2V0Q29udGFjdE1vZGVsKHsgUmVwb3J0TWV0cmljOiByLnJlcG9ydGluZ19tZXRyaWNzX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3RoaW5nIHRvIGRvIGhlcmVcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTsvL2VuZCBWaWV3UmVwb3J0IGNsaWNrXHJcblxyXG4gICAgICAgICAgICAvL2Z1bmN0aW9uIGNhbGwgdG8gYWRkIGV2ZW50X25hbWUgdG8gbGlzdCBvZiByZXBvcnRzXHJcbiAgICAgICAgICAgIHZhciBmb3JtYXRSZXBvcnQgPSBmdW5jdGlvbiAocmVwTGlzdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJldHVybkxpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVwTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXAgPSByZXBMaXN0W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudCA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09IHJlcC5ldmVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmVwLmV2ZW50X25hbWUgPSBldmVudC5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybkxpc3QucHVzaChyZXApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJldHVybkxpc3Q7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgdG9kYXlSZXBvcnRzID0gJHNjb3BlLnJlcG9ydHNUb0RhdGUuZmlsdGVyKGZ1bmN0aW9uICh0b2RheXJlcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcG9ydERhdGUgPSB0b2RheXJlcC5yZXBvcnRfZGF0ZS50b1N0cmluZygpLnN1YnN0cmluZygwLCAxMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwb3J0RGF0ZSA9PSAkc2NvcGUudG9kYXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUudG9kYXlScHRzID0gZm9ybWF0UmVwb3J0KHRvZGF5UmVwb3J0cyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgeWVzdGVyZGF5UmVwb3J0cyA9ICRzY29wZS5yZXBvcnRzVG9EYXRlLmZpbHRlcihmdW5jdGlvbiAoeWVzdHJlcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcG9ydERhdGUgPSB5ZXN0cmVwLnJlcG9ydF9kYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXBvcnREYXRlID09ICRzY29wZS55ZXN0ZXJkYXk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAkc2NvcGUueWVzdGVyZGF5UnB0cyA9IGZvcm1hdFJlcG9ydCh5ZXN0ZXJkYXlSZXBvcnRzKTtcclxuXHJcbiAgICAgICAgICAgIC8vZ2l2ZSBtZSB0aGUgcmVwb3J0cyBkb25lIG9uIHRoaXMgZGF0ZVxyXG4gICAgICAgICAgICAkc2NvcGUuZ2V0UmVwb3J0c0J5RGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuVEhJU19EQVRFLmRhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXREYXRlID0gbmV3IERhdGUoJHNjb3BlLlRISVNfREFURS5kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREYXRlLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGUgPSBmb3JtYXREYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RhdGVSZXBvcnRzID0gJHNjb3BlLnJlcG9ydHNUb0RhdGUuZmlsdGVyKGZ1bmN0aW9uICh0ZGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVwb3J0RGF0ZSA9IHRkYXRlLnJlcG9ydF9kYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcG9ydERhdGUgPT0gZm9ybWF0RGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGlja0RhdGVScHRzID0gZm9ybWF0UmVwb3J0KHRoaXNEYXRlUmVwb3J0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBpY2tBZGF0ZVJlcG9ydHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIlBpY2sgYSBkYXRlIGZpcnN0LlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NvbXBsZXRlIHRoZSByZXBvcnQgYnV0dG9uIGNsaWNrZWQgLS0gc2VuZCBiYWNrIHRvIHN1Ym1pdCB3aXRoIHJlcG9ydCBwb3B1bGF0ZWRcclxuICAgICAgICAgICAgJHNjb3BlLkNvbXBsZXRlVGhpc1JlcG9ydCA9IGZ1bmN0aW9uIChyZXApIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50Lm5ld1JlcG9ydCA9IHJlcDtcclxuICAgICAgICAgICAgICAgIC8vICRzY29wZS4kcGFyZW50Lm5ld1JlcG9ydC5yZXBvcnRfZGF0ZSA9IG5ldyBEYXRlKHJlcC5yZXBvcnRfZGF0ZSk7IC8va2VlcHMgaXQgdmFsaWRcclxuICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5uZWVkVG9Db21wbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBDT05UQUNULmdldENvbnRhY3RNb2RlbCh7IFJlcG9ydE1ldHJpYzogcmVwLnJlcG9ydGluZ19tZXRyaWNzX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuRGVwbG95U3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJEZXBsb3llZCBTdGFmZlwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuR2VuU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJHZW5lcmFsXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuJHBhcmVudC5JbmxhbmRTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIklubGFuZCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLiRwYXJlbnQuQ29hc3RTdGFmZiA9IHJlc3BvbnNlLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb250YWN0VHlwZSA9PSBcIkNvYXN0YWwgRmxvb2RcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LldhdGVyU3RhZmYgPSByZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29udGFjdFR5cGUgPT0gXCJXYXRlciBRdWFsaXR5XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kcGFyZW50LkRlcGxveVN0YWZmID0ge307ICRzY29wZS4kcGFyZW50LkdlblN0YWZmID0ge307ICRzY29wZS4kcGFyZW50LklubGFuZFN0YWZmID0ge307ICRzY29wZS4kcGFyZW50LkNvYXN0U3RhZmYgPSB7fTsgJHNjb3BlLiRwYXJlbnQuV2F0ZXJTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGxhbmRvd25lciBjb250YWN0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBsYW5kb3duZXIgY29udGFjdDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdyZXBvcnRpbmcuc3VibWl0UmVwb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJvamVjdCBhbGVydCB0ZXh0IGluIG1vZGFsXHJcbiAgICAgICAgICAgICRzY29wZS5nZXRQcm9qZWN0QWxlcnRUZXh0ID0gZnVuY3Rpb24gKHJlcCkge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbmVlZDogXHJcbiAgICAgICAgICAgICAgICAvLzEuIHRoaXNSZXBvcnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLlJlcG9ydCA9IHJlcDtcclxuICAgICAgICAgICAgICAgIC8vMi4gdG90YWwgb2YgWUVTVCBGSUVMRFBFUlNcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy50b3RZZXN0RmllbGRQZXJzID0gcmVwLnllc3RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgLy8zLiB0b3RhbCBvZiBPRkZJQ0VQRVJTXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMudG90WWVzdE9mZmljUGVycyA9IHJlcC55ZXN0X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAvLzQuIHRvdGFsIHRvdF9kaXNjaGFyZ2VfbWVhc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb2plY3RBbGVydFBhcnRzLm1lYXN1cmVDdHMgPSByZXAudG90X2Rpc2NoYXJnZV9tZWFzO1xyXG4gICAgICAgICAgICAgICAgLy81LiB0b3RhbCBzdGF0ZXMgcmVzcG9uZGluZyAoYWxsIHJlcG9ydHMgd2l0aCB0aGlzIGV2ZW50X2lkLCBjb3VudCBvZiBlYWNoIHN0YXRlKVxyXG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50UmVwb3J0cyA9ICRzY29wZS5yZXBvcnRzVG9EYXRlLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9pZCA9PSByZXAuZXZlbnRfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRlc3QgPSAkZmlsdGVyKCdjb3VudEJ5JykoZXZlbnRSZXBvcnRzLCAnc3RhdGUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5zdGF0ZUNvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh0ZXN0LCBmdW5jdGlvbiAoZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHMuc3RhdGVDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLzYuIHRoaXMgZXZlbnRcclxuICAgICAgICAgICAgICAgICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5FdmVudCA9ICRzY29wZS5ldmVudHMuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09IHJlcC5ldmVudF9pZDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICRzY29wZS5Qcm9qZWN0QWxlcnRQYXJ0cy5FdmVudC5ldmVudF90eXBlX2lkID09IDEgPyAnRmxvb2RQQS5odG1sJyA6ICdIdXJyaWNhbmVQQS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnUHJvakFsZXJ0TW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBQcm9qQWxlcnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuUHJvamVjdEFsZXJ0UGFydHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdGhpbmcgdG8gZG8gaGVyZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG4gICAgLy8jcmVnaW9uIFJlcG9ydGluZyBDb250cm9sbGVyXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdyZXBvcnRpbmdDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJ21lbWJlclJlcG9ydHMnLCAnYWxsRXZlbnRzJywgJ2FsbFN0YXRlcycsICdhbGxSZXBvcnRzJywgJ2FsbEV2ZW50VHlwZXMnLCAnYWxsRXZlbnRTdGF0dXMnLCAnYWxsQWdlbmNpZXMnLCAnU0VSVkVSX1VSTCcsICdSRVBPUlQnLCAnTUVNQkVSJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCBtZW1iZXJSZXBvcnRzLCBhbGxFdmVudHMsIGFsbFN0YXRlcywgYWxsUmVwb3J0cywgYWxsRXZlbnRUeXBlcywgYWxsRXZlbnRTdGF0dXMsIGFsbEFnZW5jaWVzLCBTRVJWRVJfVVJMLCBSRVBPUlQsIE1FTUJFUikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiUmVwb3J0aW5nXCI7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmFjdGl2ZU1lbnUgPSBcInJlcG9ydFwiO1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGNoYW5naW5nIHRhYnMgaGFuZGxlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtSXNQb3B1bGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZyb21TdGF0ZS51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnL1N1Ym1pdFJlcG9ydCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUlzUG9wdWxhdGVkID0gJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kZGlydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUlzUG9wdWxhdGVkID0gJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC5ldmVudF9pZC4kdmlld1ZhbHVlICE9PSB1bmRlZmluZWQgPyB0cnVlIDogZm9ybUlzUG9wdWxhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNQb3B1bGF0ZWQpIHsgLy9pcyBkaXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG9TdGF0ZS5uYW1lOiAnICsgdG9TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Zyb21TdGF0ZS5uYW1lOiAnICsgZnJvbVN0YXRlLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhlIFN1Ym1pdCBSZXBvcnQgVGFiPyBBbnkgdW5zYXZlZCBpbmZvcm1hdGlvbiB3aWxsIGJlIGxvc3QuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ28gdG86ICcgKyB0b1N0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXkgYXQgc3RhdGU6ICcgKyBmcm9tU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS4kYXBwbHkoKTsvLyBsb2FkaW5nLi4vLyQoXCIucGFnZS1sb2FkaW5nXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXZlbnQuc3RvcFByb3BhZ2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gY2hhbmdpbmcgdGFicyBoYW5kbGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vZm9ybWF0IHRoZSBkYXRlIG1tL2RkL3l5eXlcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXREYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudER0ID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1tID0gY3VycmVudER0LmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG1tID0gKG1tIDwgMTApID8gJzAnICsgbW0gOiBtbTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGQgPSBjdXJyZW50RHQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5eXl5ID0gY3VycmVudER0LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBtbSArICcvJyArIGRkICsgJy8nICsgeXl5eTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGdsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0ge307ICRzY29wZS5HZW5TdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLklubGFuZFN0YWZmID0ge307ICRzY29wZS5Db2FzdFN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuV2F0ZXJTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZWVkVG9Db21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckluY29tcGxldGVzID0gbWVtYmVyUmVwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKGlyKSB7IHJldHVybiBpci5jb21wbGV0ZSA9PT0gMDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0gYWxsRXZlbnRzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlcyA9IGFsbFN0YXRlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzID0gYWxsUmVwb3J0cztcclxuXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIucXVlcnkoeyBpZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbWJlckFnZW5jeSA9IGFsbEFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9uYW1lID0gbWVtYmVyQWdlbmN5LmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfYWRkcmVzcyA9IG1lbWJlckFnZW5jeS5hZGRyZXNzICsgXCIsIFwiICsgbWVtYmVyQWdlbmN5LmNpdHkgKyBcIiBcIiArIG1lbWJlckFnZW5jeS5zdGF0ZSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnppcDtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVycyA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXJzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFR5cGVzID0gYWxsRXZlbnRUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRzID0gYWxsRXZlbnRTdGF0dXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGdsb2JhbCB2YXJzXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEdlbmVyYXRlIFJlcG9ydCB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5TdGF0ZW1vZGVsID0ge307Ly9iaW5kaW5nIHRvIHRoZSBzdGF0ZSBtdWx0aS1zZWxlY3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZW5TdW1tYXJ5ID0ge307Ly9iaW5kaW5nIGZvciB0aGUgZXZlbnQgY2hvc2VuLCBhbmQgZGF0ZSBjaG9zZW5cclxuICAgICAgICAgICAgICAgICRzY29wZS5maWx0ZXJlZFJlcG9ydHMgPSBbXTsgLy9yZXN1bHQgb2YgZmlsdGVyIG9wdGlvbnNcclxuXHJcbiAgICAgICAgICAgICAgICAvL2VhY2ggb3B0aW9uIHRoZSBwb3B1bGF0ZSwgbmVlZCB0byBzaG93IHNlbGVjdGlvbiBpbiAnQ29uZmlybSBTZWxlY3Rpb25zJyBzZWN0aW9uIChkYXRlIHdvcmtzKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdlblJlcENoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmdlblN1bW1hcnkuZXZlbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZXMucHVzaChzdGF0ZS5zdGF0ZV9uYW1lKTsgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TdGF0ZU5hbWVzID0gbmFtZXMuam9pbignLCcpOyAkc2NvcGUuU3RhdGVBYmJyZXZzID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwgPSBbXTsgLy9ob2xkIGFsbCByZXBvcnRNb2RlbHMgZm9yICdEaXNwbGF5IE1ldHJpY3MgU3VtbWFyeSdcclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBEaXNwbGF5IE1ldHJpY3MgU3VtbWFyeSwgc2hvdyBjb250ZW50IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5TWV0cmljU3VtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBzY29wZXMgbmVlZGVkIGZvciB0aGlzIGFjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuTWV0cmljRGlzcGxheU1vZGVsID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdyA9IHt9OyAvL21vZGVsIHRvIGhvbGQgdG90YWxzIGZvciB0YWJsZXMgbGFzdCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm5vdEFjY3RGb3JFbXBzID0gMDsgJHNjb3BlLnRvdGFsUm93LmN1bVBGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy55ZXNQRmllbGQgPSAwOyAkc2NvcGUudG90YWxSb3cudG9kUEZpZWxkID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy5jdW1QT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93Lnllc1BPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cudG9kUE9mZmljZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QT2ZmaWNlID0gMDsgJHNjb3BlLnRvdGFsUm93LnRydWNrID0gMDsgJHNjb3BlLnRvdGFsUm93LmJvYXQgPSAwOyAkc2NvcGUudG90YWxSb3cub3RoZXIgPSAwO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmdhZ2VWaXNpdHMgPSAwOyAkc2NvcGUudG90YWxSb3cuZ2FnZXNEb3duID0gMDsgJHNjb3BlLnRvdGFsUm93LmRpc0N0b0RhdGUgPSAwOyAkc2NvcGUudG90YWxSb3cuZGlzQ1BsYW5uZWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuQ2hlY2tNZWFzVG9EYXRlID0gMDsgJHNjb3BlLnRvdGFsUm93LkNoZWNrTWVhc1BsYW5uZWQgPSAwOyAkc2NvcGUudG90YWxSb3cuaW5kTWVhcyA9IDA7ICRzY29wZS50b3RhbFJvdy5yYXRFeHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucGVha3NPZlJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5RV0dhZ2VWaXMgPSAwOyAkc2NvcGUudG90YWxSb3cuY29udFFXR2FnZVZpcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jb250UVdHYWdlRG93biA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNRV1NhbXBsZXMgPSAwOyAkc2NvcGUudG90YWxSb3cuc2VkU2FtcGxlcyA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cucmRnUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ0xvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdGVyTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZUxvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1BsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb0RlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9Mb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cubWV0RGVwID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldFJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXRMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lmh3bUZsYWcgPSAwOyAkc2NvcGUudG90YWxSb3cuaHdtQ29sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHNjb3BlcyBuZWVkZWQgZm9yIHRoaXMgYWN0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBtZXRyaWNzIHN1bW1hcnkgdG8gc2hvdyBpbiBuZXcgdGFiICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TdGF0ZW1vZGVsLnZhbHVlLCBmdW5jdGlvbiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFiYnJldnMucHVzaChzdGF0ZS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldlN0cmluZyA9IGFiYnJldnMuam9pbignLCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0RhdGUgPSAkc2NvcGUuZm9ybWF0RGF0ZSgkc2NvcGUuZ2VuU3VtbWFyeS5zdW1fZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vMS4gYWxsIHJlcG9ydHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkVQT1JULmdldEZpbHRlcmVkUmVwb3J0cyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudDogJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9pZCwgU3RhdGVzOiBhYmJyZXZTdHJpbmcsIERhdGU6IHRoaXNEYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCByZXBvcnQsIGdldCBhbGwgcmVwb3J0cyB3aXRoIHRoYXQgZXZlbnQgYW5kIHN0YXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlc3VsdC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzUlBNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNSUE1vZGVsLnJlcG9ydCA9IHJlc3VsdFt4XTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdG8gdG90YWxzIGZvciB0b3RhbCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubm90QWNjdEZvckVtcHMgKz0gKHRoaXNSUE1vZGVsLnJlcG9ydC5zd19maWVsZHBlcnNfbm90YWNjdCArIHRoaXNSUE1vZGVsLnJlcG9ydC53cV9maWVsZHBlcnNfbm90YWNjdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmN1bVBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9maWVsZHBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX2ZpZWxkcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy55ZXNQRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3RfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b2RQRmllbGQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG13X2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuY3VtUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9vZmZpY2VwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9vZmZpY2VwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRtd19vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy55ZXNQT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvZFBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRvZF9vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy50b21QT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfb2ZmaWNlcGVycztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmdhZ2VWaXNpdHMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfdmlzaXQ7ICRzY29wZS50b3RhbFJvdy5nYWdlc0Rvd24gKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfZG93bjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzQ3RvRGF0ZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG90X2Rpc2NoYXJnZV9tZWFzOyAkc2NvcGUudG90YWxSb3cuZGlzQ1BsYW5uZWQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fZGlzY2hhcmdlX21lYXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmluZE1lYXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5faW5kaXJlY3RfbWVhczsgJHNjb3BlLnRvdGFsUm93LnJhdEV4dCArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmF0aW5nX2V4dGVucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucGVha3NPZlJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZ2FnZV9wZWFrX3JlY29yZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzUVdTYW1wbGVzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5xd19kaXNjcl9zYW1wbGVzOyAkc2NvcGUudG90YWxSb3cuc2VkU2FtcGxlcyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuY29sbF9zZWRzYW1wbGVzO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9yYXBkZXBsX2dhZ2U7ICRzY29wZS50b3RhbFJvdy5yZGdEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnJkZ1JlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3JhcGRlcGxfZ2FnZTsgJHNjb3BlLnRvdGFsUm93LnJkZ0xvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfcmFwZGVwbF9nYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fd3RybGV2X3NlbnNvcjsgJHNjb3BlLnRvdGFsUm93LndhdGVyRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F0ZXJSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY193dHJsZXZfc2Vuc29yOyAkc2NvcGUudG90YWxSb3cud2F0ZXJMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3d0cmxldl9zZW5zb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3d2X3NlbnM7ICRzY29wZS50b3RhbFJvdy53YXZlRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfd3Zfc2VucztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3d2X3NlbnM7ICRzY29wZS50b3RhbFJvdy53YXZlTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9iYXJvbWV0cmljOyAkc2NvcGUudG90YWxSb3cuYmFyb0RlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX2Jhcm9tZXRyaWM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9SZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19iYXJvbWV0cmljOyAkc2NvcGUudG90YWxSb3cuYmFyb0xvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl9tZXRlb3JvbG9naWNhbDsgJHNjb3BlLnRvdGFsUm93Lm1ldERlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX21ldGVvcm9sb2dpY2FsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJlY19tZXRlb3JvbG9naWNhbDsgJHNjb3BlLnRvdGFsUm93Lm1ldExvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3RfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lmh3bUZsYWcgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmh3bV9mbGFnZ2VkOyAkc2NvcGUudG90YWxSb3cuaHdtQ29sID0gdGhpc1JQTW9kZWwucmVwb3J0Lmh3bV9jb2xsZWN0ZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwucHVzaCh0aGlzUlBNb2RlbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9ybG9vcCBmb3IgUmVwb3J0TW9kZWxMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzIuIHRoaXMgRXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudCA9ICRzY29wZS5FdmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGV0KSB7IHJldHVybiBldC5ldmVudF90eXBlX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFN0YXQgPSAkc2NvcGUuZXZlbnRTdGF0cy5maWx0ZXIoZnVuY3Rpb24gKGVzKSB7IHJldHVybiBlcy5ldmVudF9zdGF0dXNfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8zLiBldmVudCBDb29yZGluYXRvciBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnQuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnTWV0cmljc1N1bW1hcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1JlcG9ydDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNFdmVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5HZW5SZXBFdmVudE1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGVUb3RhbFJvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS50b3RhbFJvdztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAndGhpc1JlcG9ydCcsICd0aGlzRXZlbnQnLCAndGhlVG90YWxSb3cnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhpc1JlcG9ydCwgdGhpc0V2ZW50LCB0aGVUb3RhbFJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmVwb3J0ID0gdGhpc1JlcG9ydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxzID0gdGhlVG90YWxSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgcmVwb3J0OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB2YWxpZCA9IHRydWVcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIERpc3BsYXkgQ29udGFjdHMgU3VtbWFyeSwgc2hvdyBjb250ZW50IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICRzY29wZS5kaXNwbGF5Q29udGFjdHNTdW0gPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgbWV0cmljcyBzdW1tYXJ5IHRvIHNob3cgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnRhaW5zIHRoZSBzdGF0ZXMgY2hvc2VuICAgICAkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZTsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZXZlbnQgY2hvc2VuICAgICRzY29wZS5FdmVudE5hbWVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU3RhdGVtb2RlbC52YWx1ZSwgZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhYmJyZXZTdHJpbmcgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNEYXRlID0gJHNjb3BlLmZvcm1hdERhdGUoJHNjb3BlLmdlblN1bW1hcnkuc3VtX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0TW9kZWwgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hbGwgZmlsdGVyZWQgcmVwb3J0cyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRSZXBvcnR3aXRoQ29udGFjdHMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfaWQsIFN0YXRlczogYWJicmV2U3RyaW5nLCBEYXRlOiB0aGlzRGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vcCB0aHJvdWdoIHJlcG9ydHMgYW5kIGdldCBlYWNoJ3MgY29udGFjdHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzdWx0Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlcCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5yZXBJRCA9IHJlc3VsdFt4XS5yZXBvcnRpbmdfbWV0cmljc19pZDsgcmVwLlN0YXRlID0gcmVzdWx0W3hdLnN0YXRlOyByZXAucmVwb3J0X2RhdGUgPSByZXN1bHRbeF0ucmVwb3J0X2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pdHRlciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gcmVzdWx0W3hdLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ym1pdHRlckFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHN1Ym1pdHRlci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWIgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuZm5hbWUgPSBzdWJtaXR0ZXIuZm5hbWU7IHN1Yi5sbmFtZSA9IHN1Ym1pdHRlci5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuZW1haWwgPSBzdWJtaXR0ZXIuZW1haWw7IHN1Yi5waG9uZSA9IHN1Ym1pdHRlci5waG9uZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuYWdlbmN5bmFtZSA9IHN1Ym1pdHRlckFnZW5jeS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWIuYWdlbmN5YWRkID0gc3VibWl0dGVyQWdlbmN5LmNpdHkgKyBcIiBcIiArIHN1Ym1pdHRlckFnZW5jeS5zdGF0ZSArIFwiIFwiICsgc3VibWl0dGVyQWdlbmN5LnppcDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuc3VibWl0dGVyID0gc3ViO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5kZXBDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiRGVwbG95ZWQgU3RhZmZcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLmdlbkMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJHZW5lcmFsXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5pbmxDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiSW5sYW5kIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5jb2FzdEMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJDb2FzdGFsIEZsb29kXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC53YXRlckMgPSByZXN1bHRbeF0uUmVwb3J0Q29udGFjdHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LnR5cGUgPT0gXCJXYXRlciBRdWFsaXR5XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRNb2RlbC5wdXNoKHJlcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGZvciBsb29wIFxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBzaG93TW9kYWwoKTsgfSwgMzAwMCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgc2VuZCBpdCBhbGwgdG8gdGhlIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd01vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ0NvbnRhY3RNZXRyaWNzU3VtbWFyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhlc2VSZXBvcnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5yZXBvcnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzRXZlbnQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50ID0gJHNjb3BlLkV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudFR5cGUgPSAkc2NvcGUuZXZlbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGV0KSB7IHJldHVybiBldC5ldmVudF90eXBlX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfdHlwZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRTdGF0ID0gJHNjb3BlLmV2ZW50U3RhdHMuZmlsdGVyKGZ1bmN0aW9uIChlcykgeyByZXR1cm4gZXMuZXZlbnRfc3RhdHVzX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfc3RhdHVzX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzMuIGV2ZW50IENvb3JkaW5hdG9yIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvciA9ICRzY29wZS5tZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZGluYXRvci5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAndGhlc2VSZXBvcnRzJywgJ3RoaXNFdmVudCcsIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhlc2VSZXBvcnRzLCB0aGlzRXZlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5SZXBvcnRzID0gdGhlc2VSZXBvcnRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wcmludCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OyAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHJlcG9ydDogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGlmIHZhbGlkXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBnZW5lcmF0ZSBjc3ZcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRDU1ZmaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IHJlcG9ydHMgYW5kIGdpdmUgYSBjc3YgZmlsZSBiYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICd0ZXh0L2Nzdic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRSZXBvcnRzQ1NWKHsgRXZlbnQ6ICRzY29wZS5nZW5TdW1tYXJ5LmV2ZW50X2lkLCBTdGF0ZXM6ICRzY29wZS5TdGF0ZUFiYnJldnMsIERhdGU6ICRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IGFuZ3VsYXIuZWxlbWVudCgnPGEvPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpvaW5lZFJlc3BvbnNlID0gcmVzdWx0LmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBCbG9iKFtqb2luZWRSZXNwb25zZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2NzdicgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuaHJlZiA9IGZpbGVVUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuZG93bmxvYWQgPSAncmVwb3J0LmNzdic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9GaWxlLnNhdmVBcyhibG9iLCBcInJlcG9ydC5jc3ZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgY3N2OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgY3N2OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly8jZW5kcmVnaW9uIEdlbmVyYXRlIFJlcG9ydCB0YWJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG4vLyNyZWdpb24gUmVwb3J0aW5nIENvbnRyb2xsZXJcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3JlcG9ydGluZ0N0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckdWliTW9kYWwnLCAnbWVtYmVyUmVwb3J0cycsICdhbGxFdmVudHMnLCAnYWxsU3RhdGVzJywgJ2FsbFJlcG9ydHMnLCAnYWxsRXZlbnRUeXBlcycsICdhbGxFdmVudFN0YXR1cycsICdhbGxBZ2VuY2llcycsICdTRVJWRVJfVVJMJywgJ1JFUE9SVCcsICdNRU1CRVInLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsIG1lbWJlclJlcG9ydHMsIGFsbEV2ZW50cywgYWxsU3RhdGVzLCBhbGxSZXBvcnRzLCBhbGxFdmVudFR5cGVzLCBhbGxFdmVudFN0YXR1cywgYWxsQWdlbmNpZXMsIFNFUlZFUl9VUkwsIFJFUE9SVCwgTUVNQkVSKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJSZXBvcnRpbmdcIjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IFwicmVwb3J0XCI7IFxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGNoYW5naW5nIHRhYnMgaGFuZGxlciAvLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdGFydCcsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtSXNQb3B1bGF0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGZyb21TdGF0ZS51cmwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnL1N1Ym1pdFJlcG9ydCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUlzUG9wdWxhdGVkID0gJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC4kZGlydHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybUlzUG9wdWxhdGVkID0gJHNjb3BlLmZ1bGxSZXBvcnRGb3JtLnN1Ym1pdC5ldmVudF9pZC4kdmlld1ZhbHVlICE9PSB1bmRlZmluZWQgPyB0cnVlIDogZm9ybUlzUG9wdWxhdGVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtSXNQb3B1bGF0ZWQpIHsgLy9pcyBkaXJ0eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndG9TdGF0ZS5uYW1lOiAnICsgdG9TdGF0ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Zyb21TdGF0ZS5uYW1lOiAnICsgZnJvbVN0YXRlLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm0oXCJBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhlIFN1Ym1pdCBSZXBvcnQgVGFiPyBBbnkgdW5zYXZlZCBpbmZvcm1hdGlvbiB3aWxsIGJlIGxvc3QuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ28gdG86ICcgKyB0b1N0YXRlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXkgYXQgc3RhdGU6ICcgKyBmcm9tU3RhdGUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS4kYXBwbHkoKTsvLyBsb2FkaW5nLi4vLyQoXCIucGFnZS1sb2FkaW5nXCIpLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZXZlbnQuc3RvcFByb3BhZ2F0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gY2hhbmdpbmcgdGFicyBoYW5kbGVyIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG5cclxuICAgICAgICAgICAgICAgIC8vZm9ybWF0IHRoZSBkYXRlIG1tL2RkL3l5eXlcclxuICAgICAgICAgICAgICAgICRzY29wZS5mb3JtYXREYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudER0ID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1tID0gY3VycmVudER0LmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgICAgICAgICAgICAgIG1tID0gKG1tIDwgMTApID8gJzAnICsgbW0gOiBtbTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGQgPSBjdXJyZW50RHQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5eXl5ID0gY3VycmVudER0LmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBtbSArICcvJyArIGRkICsgJy8nICsgeXl5eTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGdsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5mdWxsUmVwb3J0Rm9ybSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1JlcG9ydCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlcGxveVN0YWZmID0ge307ICRzY29wZS5HZW5TdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLklubGFuZFN0YWZmID0ge307ICRzY29wZS5Db2FzdFN0YWZmID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuV2F0ZXJTdGFmZiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5uZWVkVG9Db21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckluY29tcGxldGVzID0gbWVtYmVyUmVwb3J0cy5maWx0ZXIoZnVuY3Rpb24gKGlyKSB7IHJldHVybiBpci5jb21wbGV0ZSA9PT0gMDsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRzID0gYWxsRXZlbnRzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlcyA9IGFsbFN0YXRlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXBvcnRzID0gYWxsUmVwb3J0cztcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICBNRU1CRVIucXVlcnkoeyBpZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbWJlckFnZW5jeSA9IGFsbEFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1lbWJlckxvZ2dlZEluLmFnZW5jeV9uYW1lID0gbWVtYmVyQWdlbmN5LmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5NZW1iZXJMb2dnZWRJbi5hZ2VuY3lfYWRkcmVzcyA9IG1lbWJlckFnZW5jeS5hZGRyZXNzICsgXCIsIFwiICsgbWVtYmVyQWdlbmN5LmNpdHkgKyBcIiBcIiArIG1lbWJlckFnZW5jeS5zdGF0ZSArIFwiIFwiICsgbWVtYmVyQWdlbmN5LnppcDtcclxuICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlcnMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY2llcyA9IGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50VHlwZXMgPSBhbGxFdmVudFR5cGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdHMgPSBhbGxFdmVudFN0YXR1cztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZ2xvYmFsIHZhcnNcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gR2VuZXJhdGUgUmVwb3J0IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlN0YXRlbW9kZWwgPSB7fTsvL2JpbmRpbmcgdG8gdGhlIHN0YXRlIG11bHRpLXNlbGVjdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdlblN1bW1hcnkgPSB7fTsvL2JpbmRpbmcgZm9yIHRoZSBldmVudCBjaG9zZW4sIGFuZCBkYXRlIGNob3NlblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbHRlcmVkUmVwb3J0cyA9IFtdOyAvL3Jlc3VsdCBvZiBmaWx0ZXIgb3B0aW9uc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZWFjaCBvcHRpb24gdGhlIHBvcHVsYXRlLCBuZWVkIHRvIHNob3cgc2VsZWN0aW9uIGluICdDb25maXJtIFNlbGVjdGlvbnMnIHNlY3Rpb24gKGRhdGUgd29ya3MpXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2VuUmVwQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkc2NvcGUuZXZlbnRzLmZpbHRlcihmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS5ldmVudF9pZCA9PSAkc2NvcGUuZ2VuU3VtbWFyeS5ldmVudF9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFiYnJldnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lcy5wdXNoKHN0YXRlLnN0YXRlX25hbWUpOyBhYmJyZXZzLnB1c2goc3RhdGUuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlN0YXRlTmFtZXMgPSBuYW1lcy5qb2luKCcsJyk7ICRzY29wZS5TdGF0ZUFiYnJldnMgPSBhYmJyZXZzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbCA9IFtdOyAvL2hvbGQgYWxsIHJlcG9ydE1vZGVscyBmb3IgJ0Rpc3BsYXkgTWV0cmljcyBTdW1tYXJ5J1xyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIERpc3BsYXkgTWV0cmljcyBTdW1tYXJ5LCBzaG93IGNvbnRlbnQgaW4gbmV3IHRhYlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc3BsYXlNZXRyaWNTdW0gPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8jcmVnaW9uIHNjb3BlcyBuZWVkZWQgZm9yIHRoaXMgYWN0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5NZXRyaWNEaXNwbGF5TW9kZWwgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93ID0ge307IC8vbW9kZWwgdG8gaG9sZCB0b3RhbHMgZm9yIHRhYmxlcyBsYXN0IHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubm90QWNjdEZvckVtcHMgPSAwOyAkc2NvcGUudG90YWxSb3cuY3VtUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93Lnllc1BGaWVsZCA9IDA7ICRzY29wZS50b3RhbFJvdy50b2RQRmllbGQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUEZpZWxkID0gMDsgJHNjb3BlLnRvdGFsUm93LmN1bVBPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cueWVzUE9mZmljZSA9IDA7ICRzY29wZS50b3RhbFJvdy50b2RQT2ZmaWNlID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBPZmZpY2UgPSAwOyAkc2NvcGUudG90YWxSb3cudHJ1Y2sgPSAwOyAkc2NvcGUudG90YWxSb3cuYm9hdCA9IDA7ICRzY29wZS50b3RhbFJvdy5vdGhlciA9IDA7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZ2FnZVZpc2l0cyA9IDA7ICRzY29wZS50b3RhbFJvdy5nYWdlc0Rvd24gPSAwOyAkc2NvcGUudG90YWxSb3cuZGlzQ3RvRGF0ZSA9IDA7ICRzY29wZS50b3RhbFJvdy5kaXNDUGxhbm5lZCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5DaGVja01lYXNUb0RhdGUgPSAwOyAkc2NvcGUudG90YWxSb3cuQ2hlY2tNZWFzUGxhbm5lZCA9IDA7ICRzY29wZS50b3RhbFJvdy5pbmRNZWFzID0gMDsgJHNjb3BlLnRvdGFsUm93LnJhdEV4dCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5wZWFrc09mUmVjID0gMDsgJHNjb3BlLnRvdGFsUm93LlFXR2FnZVZpcyA9IDA7ICRzY29wZS50b3RhbFJvdy5jb250UVdHYWdlVmlzID0gMDsgJHNjb3BlLnRvdGFsUm93LmNvbnRRV0dhZ2VEb3duID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmRpc1FXU2FtcGxlcyA9IDA7ICRzY29wZS50b3RhbFJvdy5zZWRTYW1wbGVzID0gMDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LnJkZ0RlcCA9IDA7ICRzY29wZS50b3RhbFJvdy5yZGdSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cucmRnTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclBsYW4gPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJSZWMgPSAwOyAkc2NvcGUudG90YWxSb3cud2F0ZXJMb3N0ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdmVQbGFuID0gMDsgJHNjb3BlLnRvdGFsUm93LndhdmVEZXAgPSAwOyAkc2NvcGUudG90YWxSb3cud2F2ZVJlYyA9IDA7ICRzY29wZS50b3RhbFJvdy53YXZlTG9zdCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5iYXJvUGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5iYXJvRGVwID0gMDsgJHNjb3BlLnRvdGFsUm93LmJhcm9SZWMgPSAwOyAkc2NvcGUudG90YWxSb3cuYmFyb0xvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cubWV0UGxhbiA9IDA7ICRzY29wZS50b3RhbFJvdy5tZXREZXAgPSAwOyAkc2NvcGUudG90YWxSb3cubWV0UmVjID0gMDsgJHNjb3BlLnRvdGFsUm93Lm1ldExvc3QgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaHdtRmxhZyA9IDA7ICRzY29wZS50b3RhbFJvdy5od21Db2wgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gc2NvcGVzIG5lZWRlZCBmb3IgdGhpcyBhY3Rpb25cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IG1ldHJpY3Mgc3VtbWFyeSB0byBzaG93IGluIG5ldyB0YWIgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2U3RyaW5nID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRGF0ZSA9ICRzY29wZS5mb3JtYXREYXRlKCRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkOiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8xLiBhbGwgcmVwb3J0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0RmlsdGVyZWRSZXBvcnRzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2lkLCBTdGF0ZXM6IGFiYnJldlN0cmluZywgRGF0ZTogdGhpc0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIHJlcG9ydCwgZ2V0IGFsbCByZXBvcnRzIHdpdGggdGhhdCBldmVudCBhbmQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcmVzdWx0Lmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNSUE1vZGVsID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1JQTW9kZWwucmVwb3J0ID0gcmVzdWx0W3hdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byB0b3RhbHMgZm9yIHRvdGFsIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5ub3RBY2N0Rm9yRW1wcyArPSAodGhpc1JQTW9kZWwucmVwb3J0LnN3X2ZpZWxkcGVyc19ub3RhY2N0ICsgdGhpc1JQTW9kZWwucmVwb3J0LndxX2ZpZWxkcGVyc19ub3RhY2N0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuY3VtUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X2ZpZWxkcGVycyArIHRoaXNSUE1vZGVsLnJlcG9ydC50b2RfZmllbGRwZXJzICsgdGhpc1JQTW9kZWwucmVwb3J0LnRtd19maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lnllc1BGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQueWVzdF9maWVsZHBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvZFBGaWVsZCArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX2ZpZWxkcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9tUEZpZWxkICs9IHRoaXNSUE1vZGVsLnJlcG9ydC50bXdfZmllbGRwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5jdW1QT2ZmaWNlICs9IHRoaXNSUE1vZGVsLnJlcG9ydC55ZXN0X29mZmljZXBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX29mZmljZXBlcnMgKyB0aGlzUlBNb2RlbC5yZXBvcnQudG13X29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lnllc1BPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lnllc3Rfb2ZmaWNlcGVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cudG9kUE9mZmljZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG9kX29mZmljZXBlcnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnRvbVBPZmZpY2UgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnRtd19vZmZpY2VwZXJzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmdhZ2VWaXNpdHMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfdmlzaXQ7ICRzY29wZS50b3RhbFJvdy5nYWdlc0Rvd24gKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfZG93bjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuZGlzQ3RvRGF0ZSArPSB0aGlzUlBNb2RlbC5yZXBvcnQudG90X2Rpc2NoYXJnZV9tZWFzOyAkc2NvcGUudG90YWxSb3cuZGlzQ1BsYW5uZWQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fZGlzY2hhcmdlX21lYXM7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5pbmRNZWFzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2luZGlyZWN0X21lYXM7ICRzY29wZS50b3RhbFJvdy5yYXRFeHQgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnJhdGluZ19leHRlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LnBlYWtzT2ZSZWMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmdhZ2VfcGVha19yZWNvcmQ7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5kaXNRV1NhbXBsZXMgKz0gdGhpc1JQTW9kZWwucmVwb3J0LnF3X2Rpc2NyX3NhbXBsZXM7ICRzY29wZS50b3RhbFJvdy5zZWRTYW1wbGVzICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5jb2xsX3NlZHNhbXBsZXM7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5yZGdQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX3JhcGRlcGxfZ2FnZTsgJHNjb3BlLnRvdGFsUm93LnJkZ0RlcCArPSB0aGlzUlBNb2RlbC5yZXBvcnQuZGVwX3JhcGRlcGxfZ2FnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cucmRnUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfcmFwZGVwbF9nYWdlOyAkc2NvcGUudG90YWxSb3cucmRnTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9yYXBkZXBsX2dhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LndhdGVyUGxhbiArPSB0aGlzUlBNb2RlbC5yZXBvcnQucGxhbl93dHJsZXZfc2Vuc29yOyAkc2NvcGUudG90YWxSb3cud2F0ZXJEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF93dHJsZXZfc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXRlclJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX3d0cmxldl9zZW5zb3I7ICRzY29wZS50b3RhbFJvdy53YXRlckxvc3QgKz0gdGhpc1JQTW9kZWwucmVwb3J0Lmxvc3Rfd3RybGV2X3NlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cud2F2ZVBsYW4gKz0gdGhpc1JQTW9kZWwucmVwb3J0LnBsYW5fd3Zfc2VuczsgJHNjb3BlLnRvdGFsUm93LndhdmVEZXAgKz0gdGhpc1JQTW9kZWwucmVwb3J0LmRlcF93dl9zZW5zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy53YXZlUmVjICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5yZWNfd3Zfc2VuczsgJHNjb3BlLnRvdGFsUm93LndhdmVMb3N0ICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5sb3N0X3d2X3NlbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93LmJhcm9QbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX2Jhcm9tZXRyaWM7ICRzY29wZS50b3RhbFJvdy5iYXJvRGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfYmFyb21ldHJpYztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuYmFyb1JlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX2Jhcm9tZXRyaWM7ICRzY29wZS50b3RhbFJvdy5iYXJvTG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9iYXJvbWV0cmljO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS50b3RhbFJvdy5tZXRQbGFuICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5wbGFuX21ldGVvcm9sb2dpY2FsOyAkc2NvcGUudG90YWxSb3cubWV0RGVwICs9IHRoaXNSUE1vZGVsLnJlcG9ydC5kZXBfbWV0ZW9yb2xvZ2ljYWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRvdGFsUm93Lm1ldFJlYyArPSB0aGlzUlBNb2RlbC5yZXBvcnQucmVjX21ldGVvcm9sb2dpY2FsOyAkc2NvcGUudG90YWxSb3cubWV0TG9zdCArPSB0aGlzUlBNb2RlbC5yZXBvcnQubG9zdF9tZXRlb3JvbG9naWNhbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxSb3cuaHdtRmxhZyArPSB0aGlzUlBNb2RlbC5yZXBvcnQuaHdtX2ZsYWdnZWQ7ICRzY29wZS50b3RhbFJvdy5od21Db2wgPSB0aGlzUlBNb2RlbC5yZXBvcnQuaHdtX2NvbGxlY3RlZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbC5wdXNoKHRoaXNSUE1vZGVsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3Jsb29wIGZvciBSZXBvcnRNb2RlbExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vMi4gdGhpcyBFdmVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50ID0gJHNjb3BlLkV2ZW50TmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50VHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZXQpIHsgcmV0dXJuIGV0LmV2ZW50X3R5cGVfaWQgPT0gJHNjb3BlLkV2ZW50TmFtZS5ldmVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50U3RhdCA9ICRzY29wZS5ldmVudFN0YXRzLmZpbHRlcihmdW5jdGlvbiAoZXMpIHsgcmV0dXJuIGVzLmV2ZW50X3N0YXR1c19pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3N0YXR1c19pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLzMuIGV2ZW50IENvb3JkaW5hdG9yIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yID0gJHNjb3BlLm1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudC5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5Db29yZEFnZW5jeSA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkaW5hdG9yLmFnZW5jeV9pZDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdNZXRyaWNzU3VtbWFyeS5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUmVwb3J0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk1ldHJpY0Rpc3BsYXlNb2RlbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZVRvdGFsUm93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLnRvdGFsUm93O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsICd0aGlzUmVwb3J0JywgJ3RoaXNFdmVudCcsICd0aGVUb3RhbFJvdycsICBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgdGhpc1JlcG9ydCwgdGhpc0V2ZW50LCB0aGVUb3RhbFJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmVwb3J0ID0gdGhpc1JlcG9ydDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudG90YWxzID0gdGhlVG90YWxSb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucHJpbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdGhpbmcgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdmFsaWQgPSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2xpY2tlZCBEaXNwbGF5IENvbnRhY3RzIFN1bW1hcnksIHNob3cgY29udGVudCBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGlzcGxheUNvbnRhY3RzU3VtID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IG1ldHJpY3Mgc3VtbWFyeSB0byBzaG93IGluIG5ldyB0YWJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jb250YWlucyB0aGUgc3RhdGVzIGNob3NlbiAgICAgJHNjb3BlLlN0YXRlbW9kZWwudmFsdWU7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2V2ZW50IGNob3NlbiAgICAkc2NvcGUuRXZlbnROYW1lWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlN0YXRlbW9kZWwudmFsdWUsIGZ1bmN0aW9uIChzdGF0ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWJicmV2cy5wdXNoKHN0YXRlLnN0YXRlX2FiYnJldik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWJicmV2U3RyaW5nID0gYWJicmV2cy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzRGF0ZSA9ICRzY29wZS5mb3JtYXREYXRlKCRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlcG9ydE1vZGVsID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vYWxsIGZpbHRlcmVkIHJlcG9ydHMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBSRVBPUlQuZ2V0UmVwb3J0d2l0aENvbnRhY3RzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEV2ZW50OiAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X2lkLCBTdGF0ZXM6IGFiYnJldlN0cmluZywgRGF0ZTogdGhpc0RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2xvb3AgdGhyb3VnaCByZXBvcnRzIGFuZCBnZXQgZWFjaCdzIGNvbnRhY3RzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlc3VsdC5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXAgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAucmVwSUQgPSByZXN1bHRbeF0ucmVwb3J0aW5nX21ldHJpY3NfaWQ7IHJlcC5TdGF0ZSA9IHJlc3VsdFt4XS5zdGF0ZTsgcmVwLnJlcG9ydF9kYXRlID0gcmVzdWx0W3hdLnJlcG9ydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXR0ZXIgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09IHJlc3VsdFt4XS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdWJtaXR0ZXJBZ2VuY3kgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSBzdWJtaXR0ZXIuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ViID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmZuYW1lID0gc3VibWl0dGVyLmZuYW1lOyBzdWIubG5hbWUgPSBzdWJtaXR0ZXIubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmVtYWlsID0gc3VibWl0dGVyLmVtYWlsOyBzdWIucGhvbmUgPSBzdWJtaXR0ZXIucGhvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmFnZW5jeW5hbWUgPSBzdWJtaXR0ZXJBZ2VuY3kuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViLmFnZW5jeWFkZCA9IHN1Ym1pdHRlckFnZW5jeS5jaXR5ICsgXCIgXCIgKyBzdWJtaXR0ZXJBZ2VuY3kuc3RhdGUgKyBcIiBcIiArIHN1Ym1pdHRlckFnZW5jeS56aXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVwLnN1Ym1pdHRlciA9IHN1YjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuZGVwQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIkRlcGxveWVkIFN0YWZmXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcC5nZW5DID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiR2VuZXJhbFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuaW5sQyA9IHJlc3VsdFt4XS5SZXBvcnRDb250YWN0cy5maWx0ZXIoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHgudHlwZSA9PSBcIklubGFuZCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAuY29hc3RDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiQ29hc3RhbCBGbG9vZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXAud2F0ZXJDID0gcmVzdWx0W3hdLlJlcG9ydENvbnRhY3RzLmZpbHRlcihmdW5jdGlvbiAoeCkgeyByZXR1cm4geC50eXBlID09IFwiV2F0ZXIgUXVhbGl0eVwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVwb3J0TW9kZWwucHVzaChyZXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3IgbG9vcCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgc2hvd01vZGFsKCk7IH0sIDMwMDApO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHNlbmQgaXQgYWxsIHRvIHRoZSBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdDb250YWN0TWV0cmljc1N1bW1hcnkuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZXNlUmVwb3J0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUucmVwb3J0TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuR2VuUmVwRXZlbnRNb2RlbC5FdmVudCA9ICRzY29wZS5FdmVudE5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuRXZlbnRUeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChldCkgeyByZXR1cm4gZXQuZXZlbnRfdHlwZV9pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkV2ZW50U3RhdCA9ICRzY29wZS5ldmVudFN0YXRzLmZpbHRlcihmdW5jdGlvbiAoZXMpIHsgcmV0dXJuIGVzLmV2ZW50X3N0YXR1c19pZCA9PSAkc2NvcGUuRXZlbnROYW1lLmV2ZW50X3N0YXR1c19pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8zLiBldmVudCBDb29yZGluYXRvciBpbmZvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IgPSAkc2NvcGUubWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRzY29wZS5FdmVudE5hbWUuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5HZW5SZXBFdmVudE1vZGVsLkNvb3JkQWdlbmN5ID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWwuQ29vcmRpbmF0b3IuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLkdlblJlcEV2ZW50TW9kZWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRodHRwJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3RoZXNlUmVwb3J0cycsICd0aGlzRXZlbnQnLCBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsIHRoZXNlUmVwb3J0cywgdGhpc0V2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUmVwb3J0cyA9IHRoZXNlUmVwb3J0cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudCA9IHRoaXNFdmVudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJpbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnByaW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdGhpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07IC8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgaWYgdmFsaWRcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9jbGlja2VkIGdlbmVyYXRlIGNzdlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdldENTVmZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgcmVwb3J0cyBhbmQgZ2l2ZSBhIGNzdiBmaWxlIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ3RleHQvY3N2JztcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJFUE9SVC5nZXRSZXBvcnRzQ1NWKHsgRXZlbnQ6ICRzY29wZS5nZW5TdW1tYXJ5LmV2ZW50X2lkLCBTdGF0ZXM6ICRzY29wZS5TdGF0ZUFiYnJldnMsIERhdGU6ICRzY29wZS5nZW5TdW1tYXJ5LnN1bV9kYXRlIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFuY2hvciA9IGFuZ3VsYXIuZWxlbWVudCgnPGEvPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGpvaW5lZFJlc3BvbnNlID0gcmVzdWx0LmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZSA9IG5ldyBCbG9iKFtqb2luZWRSZXNwb25zZV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2NzdicgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVSTCA9IFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuaHJlZiA9IGZpbGVVUkw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuZG93bmxvYWQgPSAncmVwb3J0LmNzdic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmNob3IuY2xpY2soKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9GaWxlLnNhdmVBcyhibG9iLCBcInJlcG9ydC5jc3ZcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Oy8vI2VuZHJlZ2lvbiBHZW5lcmF0ZSBSZXBvcnQgdGFiXHJcbiAgICAgICAgICAgIH1cclxuICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignUHJvakFsZXJ0TW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnUHJvakFsZXJ0JywgXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UsIFByb2pBbGVydCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuUHJvakFsZXJ0UGFydHMgPSBQcm9qQWxlcnQ7XHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbi8vcG9wdXAgY29uZmlybSBib3hcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignY29uZmlybVJlcG9ydE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpO1xyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdwZWFrTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWxJbnN0YW5jZScsICckdWliTW9kYWwnLCAnU0VSVkVSX1VSTCcsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbENvbGxlY3RDb25kaXRpb25zJywgJ3RoaXNQZWFrJywgJ3BlYWtTaXRlJywgJ2FsbE1lbWJlcnMnLCAnYWxsRXZlbnRIV01zJywgJ2FsbFNpdGVTZW5zb3JzJywgJ2FsbFNpdGVGaWxlcycsICd0aGlzUGVha0RGcycsICdEQVRBX0ZJTEUnLCAnUEVBSycsICdIV00nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgYWxsVmVydERhdHVtcywgYWxsQ29sbGVjdENvbmRpdGlvbnMsIHRoaXNQZWFrLCBwZWFrU2l0ZSwgYWxsTWVtYmVycywgYWxsRXZlbnRIV01zLCBhbGxTaXRlU2Vuc29ycywgYWxsU2l0ZUZpbGVzLCB0aGlzUGVha0RGcywgREFUQV9GSUxFLCBQRUFLLCBIV00pIHtcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICRzY29wZS5WRGF0dW1zTGlzdCA9IGFsbFZlcnREYXR1bXM7XHJcbiAgICAgICAgICAgICRzY29wZS50aGlzU2l0ZSA9IHBlYWtTaXRlO1xyXG4gICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdCA9IGFsbE1lbWJlcnM7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAvL25lZWQgYSBkYXRhZmlsZSBmb3IgdGhpcyBraW5kIG9mIHNlbnNvciwgY2hlY2sgZmlsZXMgZm9yIHByZXNlbmNlIG9mIGRmIHRvIHNldCBmbGFnIG9uIHNlbnNvclxyXG4gICAgICAgICAgICB2YXIgZGV0ZXJtaW5lREZQcmVzZW50ID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgZi5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmW3hdLmZpbGV0eXBlX2lkID09IDIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FkZCBzZWxlY3RlZCBwcm9wIG5vdyBmb3IgZGF0YSBmaWxlcy9zZW5zb3IgZmlsZXMgZm9yIGxhdGVyIHVzZVxyXG4gICAgICAgICAgICBmb3IgKHZhciBzZiA9IDA7IHNmIDwgYWxsU2l0ZUZpbGVzLmxlbmd0aDsgc2YrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsbFNpdGVGaWxlc1tzZl0uZmlsZUJlbG9uZ3NUbyA9PSAnRGF0YUZpbGUgRmlsZScgfHwgYWxsU2l0ZUZpbGVzW3NmXS5maWxlQmVsb25nc1RvID09ICdTZW5zb3IgRmlsZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGxTaXRlRmlsZXNbc2ZdLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy9uZWVkIHRvIG1ha2Ugc3VyZSB0aGUgaW5zdHJ1bWVudF9zdGF0dXNlcyBhcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgKFswXVJldHJpZXZlZCwgWzFdRGVwbG95ZWQsIFsyXVByb3Bvc2VkICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8IGFsbFNpdGVTZW5zb3JzLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29ycmVjdE9yZGVyU1MgPSBbXTtcclxuICAgICAgICAgICAgICAgIHZhciBzZW5zb3JTdGF0dXNlcyA9IGFsbFNpdGVTZW5zb3JzW3NdLmluc3RydW1lbnRfc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbnNvclN0YXR1c2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcmRlciBpZiB0aGVyZSdzIG1vcmUgdGhhbiAxXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2VkU3RhdCA9IHNlbnNvclN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocHMpIHsgcmV0dXJuIHBzLnN0YXR1cyA9PSBcIlByb3Bvc2VkXCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkZXBsb3llZFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJEZXBsb3llZFwiOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV0TG9zdFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJSZXRyaWV2ZWRcIiB8fCBwcy5zdGF0dXMgPT0gXCJMb3N0XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm93IGFkZCB0aGVtIGJhY2sgaW4gY29ycmVjdGx5XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldExvc3RTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKHJldExvc3RTdGF0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZGVwbG95ZWRTdGF0KSBjb3JyZWN0T3JkZXJTUy5wdXNoKGRlcGxveWVkU3RhdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bvc2VkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChwcm9wb3NlZFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb3JyZWN0T3JkZXJTUy5wdXNoKHNlbnNvclN0YXR1c2VzWzBdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vbm93IHB1dCBpdCBiYWNrIGluIHRoZSBvYmplY3RcclxuICAgICAgICAgICAgICAgIGFsbFNpdGVTZW5zb3JzW3NdLmluc3RydW1lbnRfc3RhdHVzID0gW107XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yc1tzXS5pbnN0cnVtZW50X3N0YXR1cyA9IGNvcnJlY3RPcmRlclNTO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRTaXRlSFdNcyA9IGFsbEV2ZW50SFdNcy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguc2l0ZV9pZCA9PSBwZWFrU2l0ZS5zaXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5ldmVudFNpdGVIV01zLCBmdW5jdGlvbiAoZXNoKSB7XHJcbiAgICAgICAgICAgICAgICBlc2guc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGVzaC5maWxlcyA9IGFsbFNpdGVGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmKSB7IHJldHVybiBzZi5od21faWQgPT0gZXNoLmh3bV9pZCAmJiBzZi5maWxlQmVsb25nc1RvID09IFwiSFdNIEZpbGVcIjsgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMgPSBhbGxTaXRlU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpOyB9KTsgLy9tYXliZSBnbyBmcm9tIGhlcmUgdG8gZ2V0IGFsbCBkYXRhZmlsZXMgZm9yIGVhY2ggc2Vuc29yXHJcbiAgICAgICAgICAgIGZvciAodmFyIGV2U2l0ZVNlbiA9IDA7IGV2U2l0ZVNlbiA8ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzLmxlbmd0aDsgZXZTaXRlU2VuKyspIHtcclxuICAgICAgICAgICAgICAgIC8vYW5ndWxhci5mb3JFYWNoKCRzY29wZS5ldmVudFNpdGVTZW5zb3JzLCBmdW5jdGlvbiAoZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBlc3MuU2Vuc29yX3R5cGUgPT0gMiwgNSwgb3IgNiAuLiBhbmQgdGhlcmUgYXJlIG5vIGZpbGVzLi4gc2hvdyByZWQgISB3aXRoIHRleHRcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uQ29sbGVjdENvbmRpdGlvbiA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdF9jb2xsZWN0aW9uX2lkICE9PSBudWxsICYmICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdF9jb2xsZWN0aW9uX2lkID4gMCA/XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsQ29sbGVjdENvbmRpdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChjYykgeyByZXR1cm4gY2MuaWQgPT0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5pbnN0X2NvbGxlY3Rpb25faWQ7IH0pWzBdLmNvbmRpdGlvbiA6XHJcbiAgICAgICAgICAgICAgICAgICAgJyc7XHJcbiAgICAgICAgICAgICAgICAvL3N0b3JlIGlmIHRoaXMgaXMgcmV0cmlldmVkIChpZiBub3QsIHNob3cgISBmb3IgdGhlbSB0byByZXRyaWV2ZSBpdCBpbiBvcmRlciB0byBjb21wbGV0ZSB0aGUgcGVha1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5pc1JldHJpZXZlZCA9ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdHJ1bWVudF9zdGF0dXNbMF0uc3RhdHVzID09ICdSZXRyaWV2ZWQnID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5maWxlcyA9IGFsbFNpdGVGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmKSB7IHJldHVybiBzZi5pbnN0cnVtZW50X2lkID09ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uaW5zdHJ1bWVudF9pZCAmJiAoc2YuZmlsZUJlbG9uZ3NUbyA9PSBcIkRhdGFGaWxlIEZpbGVcIiB8fCBzZi5maWxlQmVsb25nc1RvID09IFwiU2Vuc29yIEZpbGVcIik7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy92YXIgaGFzREYgPSB7dmFsdWU6dHJ1ZX07ICgyOiBNZXQgU3RhdGlvbiwgNTogUmFwaWQgRGVwbG95bWVudCBHYWdlLCA2OiBSYWluIEdhZ2UpXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5zZW5zb3JfdHlwZV9pZCA9PSAyIHx8ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uc2Vuc29yX3R5cGVfaWQgPT0gNSB8fCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29yc1tldlNpdGVTZW5dLnNlbnNvcl90eXBlX2lkID09IDYpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5maWxlcy5sZW5ndGggPT09IDApICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uTmVlZERGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFkZXRlcm1pbmVERlByZXNlbnQoJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXZTaXRlU2VuXS5maWxlcykpICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2V2U2l0ZVNlbl0uTmVlZERGID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgdGhpcyBpcyBhIGRhdGFmaWxlIHJlcXVpcmluZyBzZW5zb3JcclxuICAgICAgICAgICAgfS8vKTtcclxuXHJcblxyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2l0ZUZpbGVzRm9yU2Vuc29ycyA9IGFsbFNpdGVGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGYuaW5zdHJ1bWVudF9pZCAhPT0gbnVsbCAmJiBmLmluc3RydW1lbnRfaWQgPiAwOyB9KTtcclxuICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAkc2NvcGUuTG9nZ2VkSW5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0ID0gW107Ly9ob2xkZXIgb2YgY2hvc2VuIGh3bXMgZm9yIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3QgPSBbXTsgLy9ob2xkZXIgZm9yIHJlbW92ZWQgb25lcyBmb3IgUFVUIChpZiB0aGlzIGlzIGVkaXQpXHJcbiAgICAgICAgICAgICRzY29wZS5jaG9zZW5ERkxpc3QgPSBbXTsgLy9ob2xkZXIgZm9yIGNob3NlbiBkYXRhZmlsZSBmb3IgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0ID0gW107IC8vaG9sZGVyIGZvciByZW1vdmVkIG9uZXMgZm9yIFBVVCAoaWYgdGhpcyBpcyBlZGl0KVxyXG4gICAgICAgICAgICAkc2NvcGUuaHdtRGV0YWlsID0gZmFsc2U7IC8vc2hvdy9oaWRlIGh3bSBib3ggb2YgaHdtIGRldGFpbHNcclxuICAgICAgICAgICAgJHNjb3BlLkhXTUJveCA9IHt9OyAvL2hvbGRzIGJpbmRpbmcgZm9yIHdoYXQgdG8gc2hvdyBpbiBod20gZGV0YWlsIGJveFxyXG4gICAgICAgICAgICAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7IC8vc2hvdy9oaWRlIHNlbnNvciBib3ggb2Ygc2Vuc29yIGRldGFpbHNcclxuICAgICAgICAgICAgJHNjb3BlLlNlbnNvckJveCA9IHt9OyAvL2hvbGRzIGJpbmRpbmcgZm9yIHdoYXQgdG8gc2hvdyBpbiB0aGUgc2Vuc29yIGRldGFpbCBib3hcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gZmFsc2U7IC8vc2hvdy9oaWRlIGRhdGFmaWxlIGJveCBvZiBkYXRhZmlsZSBkZXRhaWxzXHJcbiAgICAgICAgICAgICRzY29wZS5ERkJveCA9IHt9OyAvL2hvbGRzIGJpbmRpbmcgZm9yIHdoYXQgdG8gc2hvdyBpbiB0aGUgZGF0YWZpbGUgZGV0YWlsIGJveFxyXG4gICAgICAgICAgICAkc2NvcGUuYVBlYWsgPSB7fTtcclxuICAgICAgICAgICAgLy9mb3JtYXR0aW5nIGRhdGUgYW5kIHRpbWUgcHJvcGVybHkgZm9yIGNocm9tZSBhbmQgZmZcclxuICAgICAgICAgICAgdmFyIGdldERhdGVUaW1lUGFydHMgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBkLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gZC5zdWJzdHIoNSwgMikgLSAxOyAvL3N1YnRyYWN0IDEgZm9yIGluZGV4IHZhbHVlIChKYW51YXJ5IGlzIDApXHJcbiAgICAgICAgICAgICAgICB2YXIgZGEgPSBkLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gZC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pID0gZC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlYyA9IGQuc3Vic3RyKDE3LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUoeSwgbSwgZGEsIGgsIG1pLCBzZWMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoZURhdGU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZ2V0IHRpbWV6b25lIGFuZCB0aW1lc3RhbXAgZm9yIHRoZWlyIHRpbWV6b25lIGZvciBzaG93aW5nLi4gcG9zdC9wdXQgd2lsbCBjb252ZXJ0IGl0IHRvIHV0Y1xyXG4gICAgICAgICAgICB2YXIgZ2V0VGltZVpvbmVTdGFtcCA9IGZ1bmN0aW9uIChkc2VudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRUaGlzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgZDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZHNlbnQgIT09IHVuZGVmaW5lZCkgZCA9IG5ldyBEYXRlKGRzZW50KTtcclxuICAgICAgICAgICAgICAgIGVsc2UgZCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IChkLnRvU3RyaW5nKCkpLnN1YnN0cmluZygzNSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgem9uZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9mZnNldC5zdWJzdHIoMCwgMykpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQ2VuXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnQ1NUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkVhc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB6b25lID0gJ0VTVCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNb3VcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgem9uZSA9ICdNU1QnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUGFjXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvbmUgPSAnUFNUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBzZW5kVGhpcyA9IFtkLCB6b25lXTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzZW5kVGhpcztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vaXMgaXQgVVRDIG9yIGxvY2FsIHRpbWUuLm1ha2Ugc3VyZSBpdCBzdGF5cyBVVENcclxuICAgICAgICAgICAgdmFyIGRlYWxXaXRoVGltZVN0YW1wYjRTZW5kID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBhbmQgc2VlIGlmIHRoZXkgYXJlIG5vdCB1c2luZyBVVENcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVBlYWsudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgaXRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSB1dGNEYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlICdHTVQnIGlzIHRhY2tlZCBvbiBzbyBpdCBkb2Vzbid0IHRyeSB0byBhZGQgaHJzIHRvIG1ha2UgdGhlIGFscmVhZHkgdXRjIGEgdXRjIGluIGRiXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRvU3RyaW5nKCkuc3Vic3RyaW5nKDAsIGkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2lzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc1BlYWsgIT0gXCJlbXB0eVwiKSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3RpbmcgUEVBS1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrID0gYW5ndWxhci5jb3B5KHRoaXNQZWFrKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSB7IGRhdGU6IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZSksIHRpbWU6IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZSkgfTtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IHBlYWsgY3JlYXRvciBuYW1lXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuUGVha0NyZWF0b3IgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFQZWFrLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIG9mZiB0aG9zZSBod21zIHVzZWQgZm9yIHRoaXMgcGVha1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCAkc2NvcGUuZXZlbnRTaXRlSFdNcy5sZW5ndGg7IGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZXZlbnRTaXRlSFdNc1toXS5wZWFrX3N1bW1hcnlfaWQgPT0gJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZUhXTXNbaF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy9jaGVjayBvZmYgdGhvc2UgaHdtcyB1c2VkIGZvciB0aGlzIHBlYWtcclxuICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggZXZlbnRTaXRlU2Vuc29yLi4gZm9yIGVhY2ggZmlsZSB3aXRoaW4gZWFjaCBzZW5zb3IuLi4gaWYgZGF0YUZpbGVJRCA9PSBhbnkgb2YgdGhlIHBlYWtERnMgZGF0YWZpbGVJRCA9PT09PiBtYWtlIHRoYXQgZmlsZS5zZWxlY3RlZCA9dHJ1ZVxyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgZXNzID0gMDsgZXNzIDwgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMubGVuZ3RoOyBlc3MrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggZXZlbnRTaXRlU2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzc0kgPSBlc3M7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZGYgPSAwOyBkZiA8ICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2Vzc0ldLmZpbGVzLmxlbmd0aDsgZGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2ZvciBlYWNoIGZpbGUgd2l0aGluIHRoaXMgZXZlbnRTaXRlU2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1RoZXJlID0gdGhpc1BlYWtERnMuZmlsdGVyKGZ1bmN0aW9uIChwZGYpIHsgcmV0dXJuIHBkZi5kYXRhX2ZpbGVfaWQgPT0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbZXNzSV0uZmlsZXNbZGZdLmRhdGFfZmlsZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1RoZXJlICE9PSB1bmRlZmluZWQpICRzY29wZS5ldmVudFNpdGVTZW5zb3JzW2Vzc0ldLmZpbGVzW2RmXS5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIGV4aXN0aW5nIFBFQUtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBuZXcgUEVBS1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpbWVQYXJ0cyA9IGdldFRpbWVab25lU3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hUGVhayA9IHsgcGVha19kYXRlOiB7IGRhdGU6IHRpbWVQYXJ0c1swXSwgdGltZTogdGltZVBhcnRzWzBdIH0sIHRpbWVfem9uZTogdGltZVBhcnRzWzFdLCBtZW1iZXJfaWQ6ICRjb29raWVzLmdldCgnbUlEJykgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5QZWFrQ3JlYXRvciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gbmV3IFBFQUtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9zaG93IGEgbW9kYWwgd2l0aCB0aGUgbGFyZ2VyIGZpbGUgaW1hZ2UgYXMgYSBwcmV2aWV3XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gaHdtIGxpc3Qgc3R1ZmZcclxuICAgICAgICAgICAgdmFyIGZvcm1hdFNlbGVjdGVkSFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmaHdtID0ge307XHJcbiAgICAgICAgICAgICAgICBmaHdtLmFwcHJvdmFsX2lkID0gaC5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX2xhYmVsID0gaC5od21fbGFiZWw7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmJhbmsgPSBoLmJhbms7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmVsZXZfZnQgPSBoLmVsZXZfZnQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmV2ZW50X2lkID0gaC5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uZmxhZ19kYXRlID0gaC5mbGFnX2RhdGU7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmZsYWdfbWVtYmVyX2lkID0gaC5mbGFnX21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uaGNvbGxlY3RfbWV0aG9kX2lkID0gaC5oY29sbGVjdF9tZXRob2RfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmhkYXR1bV9pZCA9IGguaGRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5oZWlnaHRfYWJvdmVfZ25kID0gaC5oZWlnaHRfYWJvdmVfZ25kO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5od21fZW52aXJvbm1lbnQgPSBoLmh3bV9lbnZpcm9ubWVudDtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX2lkID0gaC5od21faWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uID0gaC5od21fbG9jYXRpb25kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX25vdGVzID0gaC5od21fbm90ZXM7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV91bmNlcnRhaW50eSA9IGguaHdtX3VuY2VydGFpbnR5O1xyXG4gICAgICAgICAgICAgICAgZmh3bS51bmNlcnRhaW50eSA9IGgudW5jZXJ0YWludHk7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmh3bV9xdWFsaXR5X2lkID0gaC5od21fcXVhbGl0eV9pZDtcclxuICAgICAgICAgICAgICAgIGZod20uaHdtX3R5cGVfaWQgPSBoLmh3bV90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5sYXRpdHVkZV9kZCA9IGgubGF0aXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLmxvbmdpdHVkZV9kZCA9IGgubG9uZ2l0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS5tYXJrZXJfaWQgPSBoLm1hcmtlcl9pZDtcclxuICAgICAgICAgICAgICAgIGZod20ucGVha19zdW1tYXJ5X2lkID0gaC5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnNpdGVfaWQgPSBoLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnN0aWxsd2F0ZXIgPSBoLnN0aWxsd2F0ZXIgPT0gXCJOb1wiID8gMCA6IDE7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnN1cnZleV9kYXRlID0gaC5zdXJ2ZXlfZGF0ZTtcclxuICAgICAgICAgICAgICAgIGZod20uc3VydmV5X21lbWJlcl9pZCA9IGguc3VydmV5X21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgIGZod20udmNvbGxlY3RfbWV0aG9kX2lkID0gaC52Y29sbGVjdF9tZXRob2RfaWQ7XHJcbiAgICAgICAgICAgICAgICBmaHdtLnZkYXR1bV9pZCA9IGgudmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgZmh3bS53YXRlcmJvZHkgPSBoLndhdGVyYm9keTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmaHdtO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FkZCBvciByZW1vdmUgYSBod20gZnJvbSB0aGUgbGlzdCBvZiBjaG9zZW4gaHdtcyBmb3IgZGV0ZXJtaW5pbmcgdGhpcyBwZWFrXHJcbiAgICAgICAgICAgICRzY29wZS5hZGRIV00gPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFIV00gPSBmb3JtYXRTZWxlY3RlZEhXTShoKTtcclxuICAgICAgICAgICAgICAgIGlmIChoLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkhXTUxpc3QucHVzaChhSFdNKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hUGVhay5wZWFrX3N1bW1hcnlfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2VkaXQuLiBuZWVkIHRvIHN0b3JlIHJlbW92ZWQgb25lcyBmb3IgUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVkQ2hvc2VuSFdNTGlzdC5wdXNoKGRhdGFGaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaG9zZW5IV01MaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZCA9ICRzY29wZS5jaG9zZW5IV01MaXN0Lm1hcChmdW5jdGlvbiAoaHdtKSB7IHJldHVybiBod20uaHdtX2lkOyB9KS5pbmRleE9mKGFIV00uaHdtX2lkKTsgLy9ub3Qgd29ya2luZzo6ICRzY29wZS5jaG9zZW5IV01MaXN0LmluZGV4T2YoYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaG9zZW5IV01MaXN0LnNwbGljZShpbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIHNlZSB0aGUgZGV0YWlscyBvZiB0aGUgaHdtLCBvciBub3Qgc2VlIGl0IGFueW1vcmVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dIV01EZXRhaWxzID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21EZXRhaWwgPSB0cnVlOyAkc2NvcGUuc2Vuc29yRGV0YWlsID0gZmFsc2U7ICRzY29wZS5kYXRhRmlsZURldGFpbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkhXTUJveCA9IGg7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3VzZSB0aGlzIGh3bSB0byBwb3B1bGF0ZSBwZWFrIHBhcnRzIChwcmltYXJ5IGh3bSBmb3IgZGV0ZXJtaW5pbmcgcGVhaylcclxuICAgICAgICAgICAgJHNjb3BlLnByaW1hcnlIV00gPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHNldFByaW1IV00gPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5TZXQgYXMgUHJpbWFyeTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHNldCB0aGlzIGFzIHRoZSBQcmltYXJ5IEhXTT8gRG9pbmcgc28gd2lsbCBwb3B1bGF0ZSB0aGUgUGVhayBEYXRlIChub3QgaW5jbHVkaW5nIHRpbWUpLCBTdGFnZSwgVmVydGljYWwgRGF0dW0gYW5kIEhlaWdodCBBYm92ZSBHcm91bmQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiU2V0SXQoKVwiPlNldCBhcyBQcmltYXJ5PC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNldEl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ1llcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0UHJpbUhXTS5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2V0SXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0SXQgPT0gJ1llcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlID0gbmV3IERhdGUoaC5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19zdGFnZSA9IGguZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnZkYXR1bV9pZCA9IGgudmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsuaGVpZ2h0X2Fib3ZlX2duZCA9IGguaGVpZ2h0X2Fib3ZlX2duZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhJbmRleCA9ICRzY29wZS5ldmVudFNpdGVIV01zLmluZGV4T2YoaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFNpdGVIV01zW2hJbmRleF0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jbG9zZURldGFpbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JEZXRhaWwgPSBmYWxzZTsgJHNjb3BlLmh3bURldGFpbCA9IGZhbHNlOyAkc2NvcGUuZGF0YUZpbGVEZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBzZW5zb3IgbGlzdCBzdHVmZlxyXG4gICAgICAgICAgICAvL2FkZCBvciByZW1vdmUgYSBzZW5zb3IgZnJvbSB0aGUgbGlzdCBvZiBjaG9zZW4gc2Vuc29yIGZvciBkZXRlcm1pbmluZyB0aGlzIHBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLmFkZERhdGFGaWxlID0gZnVuY3Rpb24gKGRhdGFmaWxlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0YUZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBkYXRhZmlsZS5kYXRhX2ZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhRmlsZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkYXRhZmlsZS5zZWxlY3RlZCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuREZMaXN0LnB1c2goZGF0YUZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYVBlYWsucGVha19zdW1tYXJ5X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZWRpdC4uIG5lZWQgdG8gc3RvcmUgcmVtb3ZlZCBvbmVzIGZvciBQVVRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0LnB1c2goZGF0YUZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY2hvc2VuREZMaXN0Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuY2hvc2VuREZMaXN0Lm1hcChmdW5jdGlvbiAoZGYpIHsgcmV0dXJuIGRmLmRhdGFfZmlsZV9pZDsgfSkuaW5kZXhPZihkYXRhZmlsZS5kYXRhX2ZpbGVfaWQpOyAvL25vdCB3b3JraW5nOjogJHNjb3BlLmNob3NlbkRGTGlzdC5pbmRleE9mKHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkRGTGlzdC5zcGxpY2UoaW5kLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90aGV5IHdhbnQgdG8gc2VlIHRoZSBkZXRhaWxzIG9mIHRoZSBzZW5zb3IsIG9yIG5vdCBzZWUgaXQgYW55bW9yZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1NlbnNvckRldGFpbHMgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlbnNvckRldGFpbCA9IHRydWU7ICRzY29wZS5od21EZXRhaWwgPSBmYWxzZTsgJHNjb3BlLmRhdGFGaWxlRGV0YWlsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2Vuc29yQm94ID0gcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy90aGV5IHdhbnQgdG8gc2VlIHRoZSBkZXRhaWxzIG9mIHRoZSBkYXRhZmlsZSwgb3Igbm90IHNlZSBpdCBhbnltb3JlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93RGF0YUZpbGVEZXRhaWxzID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBmLmRhdGFfZmlsZV9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LmZpbGVQYXRoID0gZi5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ERkJveC5maWxlSUQgPSBmLmZpbGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRGQm94LmZpbGVEZXNjID0gZi5kZXNjcmlwdGlvbjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREZCb3gucHJvY2Vzc2VkQnkgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gcmVzcG9uc2UucHJvY2Vzc29yX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREZCb3gubndpc0ZpbGUgPSBmLmlzX253aXMgPT0gMSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuREZCb3guZmlsZVVSTCA9IGYubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YUZpbGVEZXRhaWwgPSB0cnVlOyAkc2NvcGUuaHdtRGV0YWlsID0gZmFsc2U7ICRzY29wZS5zZW5zb3JEZXRhaWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vdXNlIHRoaXMgaHdtIHRvIHBvcHVsYXRlIHBlYWsgcGFydHMgKHByaW1hcnkgc2Vuc29yIGZvciBkZXRlcm1pbmluZyBwZWFrKVxyXG4gICAgICAgICAgICAvKic8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzZXQgdGhpcyBhcyB0aGUgUHJpbWFyeSBEYXRhIGZpbGU/IERvaW5nIHNvIHdpbGwgcG9wdWxhdGUgdGhlIFBlYWsgRGF0ZSwgVGltZSBhbmQgdGltZSB6b25lLCBTdGFnZSwgVmVydGljYWwgRGF0dW0gYW5kIEhlaWdodCBBYm92ZSBHcm91bmQuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIlNldEl0KClcIj5TZXQgYXMgUHJpbWFyeTwvYnV0dG9uPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JywqL1xyXG4gICAgICAgICAgICAkc2NvcGUucHJpbWFyeURhdGFGaWxlID0gZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXRQcmltZURGID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+U2V0IGFzIFByaW1hcnk8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBzZXQgdGhpcyBhcyB0aGUgUHJpbWFyeSBEYXRhIGZpbGU/PC9wPjxwPihDb21pbmcgc29vbjogU2NyaXB0IHByb2Nlc3NpbmcgdG8gcG9wdWxhdGUgdGhlIFBlYWsgZGF0ZSwgdGltZSBhbmQgdGltZSB6b25lLCBTdGFnZSwgVmVydGljYWwgRGF0dW0gYW5kIEhlaWdodCBhYm92ZSBncm91bmQpPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiU2V0SXQoKVwiPlNldCBhcyBQcmltYXJ5PC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNldEl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoJ1llcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0UHJpbWVERi5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2V0SXQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0SXQgPT0gJ1llcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUgPSBoLmZsYWdfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYVBlYWsucGVha19zdGFnZSA9IGguZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYVBlYWsudmRhdHVtX2lkID0gaC52ZGF0dW1faWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuYVBlYWsuaGVpZ2h0X2Fib3ZlX2duZCA9IGguaGVpZ2h0X2Fib3ZlX2duZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnMgPSAkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuaW5zdHJ1bWVudF9pZCA9PSBmLmluc3RydW1lbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc0luZGV4ID0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMuaW5kZXhPZihzZW5zKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZJbmRleCA9IHNlbnMuZmlsZXMuaW5kZXhPZihmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbc0luZGV4XS5maWxlc1tmSW5kZXhdLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAvL3NhdmUgUGVha1xyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZVBlYWsgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkUGVhayA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKCRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXRGdWxsWWVhcigpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0TW9udGgoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldEhvdXJzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRNaW51dGVzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRTZWNvbmRzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSBkYXRldGltZTtcclxuICAgICAgICAgICAgICAgICAgICBkZWFsV2l0aFRpbWVTdGFtcGI0U2VuZCgpOyAvL1VUQyBvciBsb2NhbD9cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBQRUFLLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYVBlYWsucGVha19zdW1tYXJ5X2lkIH0sICRzY29wZS5hUGVhaykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgaHdtcy9kYXRhZmlsZXMgdXNlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JlbW92ZSB0aG9zZSB1bmNob3NlblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmVtZCA9IDA7IHJlbWQgPCAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdC5sZW5ndGg7IHJlbWQrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVkQ2hvc2VuREZMaXN0W3JlbWRdLnBlYWtfc3VtbWFyeV9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUucmVtb3ZlZENob3NlbkRGTGlzdFtyZW1kXS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLnJlbW92ZWRDaG9zZW5ERkxpc3RbcmVtZF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmVtaCA9IDA7IHJlbWggPCAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3QubGVuZ3RoOyByZW1oKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmVtb3ZlZENob3NlbkhXTUxpc3RbcmVtaF0ucGVha19zdW1tYXJ5X2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV00udXBkYXRlKHsgaWQ6ICRzY29wZS5yZW1vdmVkQ2hvc2VuSFdNTGlzdFtyZW1oXS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLnJlbW92ZWRDaG9zZW5IV01MaXN0W3JlbWhdKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0aG9zZSBjaG9zZW5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWRkaCA9IDA7IGFkZGggPCAkc2NvcGUuY2hvc2VuSFdNTGlzdC5sZW5ndGg7IGFkZGgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkhXTUxpc3RbYWRkaF0ucGVha19zdW1tYXJ5X2lkID0gcmVzcG9uc2UucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUuY2hvc2VuSFdNTGlzdFthZGRoXS5od21faWQgfSwgJHNjb3BlLmNob3NlbkhXTUxpc3RbYWRkaF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IC8vZW5kIGZvcmVhY2ggaHdtIHNhdmVcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWRkZCA9IDA7IGFkZGQgPCAkc2NvcGUuY2hvc2VuREZMaXN0Lmxlbmd0aDsgYWRkZCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuREZMaXN0W2FkZGRdLnBlYWtfc3VtbWFyeV9pZCA9IHJlc3BvbnNlLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmNob3NlbkRGTGlzdFthZGRkXS5kYXRhX2ZpbGVfaWQgfSwgJHNjb3BlLmNob3NlbkRGTGlzdFthZGRkXSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZm9yZWFjaCBod20gc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlBlYWsgdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZFBlYWsgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW3VwZGF0ZWRQZWFrLCAndXBkYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RhdGEgZmlsZSBJRCB0byBnZXQgZGYgYW5kIHJlbW92ZSBwZWFraWQgZm9yIHBlYWtEZWxldGVcclxuICAgICAgICAgICAgdmFyIHVwZGF0ZURGd29QZWFrSUQgPSBmdW5jdGlvbiAoZGZfaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IGl0LCBjaGFuZ2UgcGVhayBpZCwgcHV0IGl0IGJhY2tcclxuICAgICAgICAgICAgICAgIERBVEFfRklMRS5xdWVyeSh7IGlkOiBkZl9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5wZWFrX3N1bW1hcnlfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS51cGRhdGUoeyBpZDogcmVzLmRhdGFfZmlsZV9pZCB9LCByZXMpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZGVsZXRlIFBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZVBlYWsgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGVsZXRlUGVha01kbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPlJlbW92ZSBQZWFrPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIHRoaXMgUGVhaz88L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGRlbGV0ZVBlYWtNZGwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZWFrSUQgPSAkc2NvcGUuYVBlYWsucGVha19zdW1tYXJ5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRldGltZSA9IG5ldyBEYXRlKCRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXRGdWxsWWVhcigpLCAkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0TW9udGgoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldEhvdXJzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRNaW51dGVzKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUudGltZS5nZXRTZWNvbmRzKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSBkYXRldGltZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RlbGV0ZSB0aGUgcGVhayBhbmQgdGhlbiBQVVQgYWxsIGh3bSBhbmQgZGYgdGhhdCBoYXZlIHBlYWtJRFxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgUEVBSy5kZWxldGUoeyBpZDogJHNjb3BlLmFQZWFrLnBlYWtfc3VtbWFyeV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycyBmb3IgZWFjaCBmaWxlcyBpZiBmaWxlLnNlbGVjdGVkID09IHRydWUuLiBQVVQgYW5kIHJlbW92ZSBQRUFLSURcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuZXZlbnRTaXRlU2Vuc29ycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTID0gJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBmID0gMDsgZiA8IHRoaXNTLmZpbGVzLmxlbmd0aDsgZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNGID0gdGhpc1MuZmlsZXNbZl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNGLnNlbGVjdGVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVERndvUGVha0lEKHRoaXNGLmRhdGFfZmlsZV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3IgZWFjaCAkc2NvcGUuZXZlbnRTaXRlSFdNcyBpZiBoLnNlbGVjdGVkID09IHRydWUuLiBQVVQgYW5kIHJlbW92ZSBQRUFLSUQgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gMDsgaCA8ICRzY29wZS5ldmVudFNpdGVIV01zLmxlbmd0aDsgaCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0ggPSAkc2NvcGUuZXZlbnRTaXRlSFdNc1toXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzSC5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIHBlYWtJRCBhbmQgUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0gucGVha19zdW1tYXJ5X2lkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBkYXRlVGhpc0hXTSA9IGZvcm1hdFNlbGVjdGVkSFdNKHRoaXNIKTsgLy9uZWVkIHRvIGZvcm1hdCBpdCB0byByZW1vdmUgYWxsIHRoZSBzaXRlIHN0dWZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiB0aGlzSC5od21faWQgfSwgdXBkYXRlVGhpc0hXTSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUGVhayBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbXCJkZVwiLCAnZGVsZXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBwZWFrOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY3JlYXRlIFBlYWtcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZVBlYWsgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIC8vZmlyc3QgZGV0ZXJtaW5lIHRoYXQgdGhleSBkaWQgY2hvb29zZSBhIGh3bSBvciBkYXRhIGZpbGUgZm9yIGludGVycHJldGF0b2luXHJcbiAgICAgICAgICAgICAgICB2YXIgaXNId21DaGVja2VkID0gZmFsc2U7IHZhciBpc0RGQ2hlY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5ldmVudFNpdGVIV01zLCBmdW5jdGlvbiAoc2h3bSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzaHdtLnNlbGVjdGVkKSBpc0h3bUNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmV2ZW50U2l0ZVNlbnNvcnMsIGZ1bmN0aW9uIChzc2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZkkgPSAwOyBmSSA8IHNzZW4uZmlsZXMubGVuZ3RoOyBmSSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzc2VuLmZpbGVzW2ZJXS5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNERkNoZWNrZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZkkgPSBzc2VuLmZpbGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzSHdtQ2hlY2tlZCB8fCBpc0RGQ2hlY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBjaG9zZSBvbmUsIGJ1dCBpcyBpdCB2YWxpZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZFBlYWsgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3JtYXQgdG8gY29tYmluZSB0aGUgZGF0ZSBhbmQgdGltZSBiYWNrIHRvZ2V0aGVyIGludG8gMSBkYXRlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuYVBlYWsucGVha19kYXRlLmRhdGUuZ2V0RnVsbFllYXIoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS5kYXRlLmdldE1vbnRoKCksICRzY29wZS5hUGVhay5wZWFrX2RhdGUuZGF0ZS5nZXREYXRlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVBlYWsucGVha19kYXRlLnRpbWUuZ2V0SG91cnMoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldE1pbnV0ZXMoKSwgJHNjb3BlLmFQZWFrLnBlYWtfZGF0ZS50aW1lLmdldFNlY29uZHMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hUGVhay5wZWFrX2RhdGUgPSBkYXRldGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVhbFdpdGhUaW1lU3RhbXBiNFNlbmQoKTsgLy9VVEMgb3IgbG9jYWw/XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgUEVBSy5zYXZlKCRzY29wZS5hUGVhaykuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRQZWFrID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgY2hvc2VuIGh3bXMvZGF0YSBmaWxlcyB3aXRoIHBlYWsgaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGggPSAwOyBoIDwgJHNjb3BlLmNob3NlbkhXTUxpc3QubGVuZ3RoOyBoKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuSFdNTGlzdFtoXS5wZWFrX3N1bW1hcnlfaWQgPSByZXNwb25zZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUuY2hvc2VuSFdNTGlzdFtoXS5od21faWQgfSwgJHNjb3BlLmNob3NlbkhXTUxpc3RbaF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3JlYWNoIGh3bSBzYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBkID0gMDsgZCA8ICRzY29wZS5jaG9zZW5ERkxpc3QubGVuZ3RoOyBkKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuREZMaXN0W2RdLnBlYWtfc3VtbWFyeV9pZCA9IHJlc3BvbnNlLnBlYWtfc3VtbWFyeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5jaG9zZW5ERkxpc3RbZF0uZGF0YV9maWxlX2lkIH0sICRzY29wZS5jaG9zZW5ERkxpc3RbZF0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBmb3JlYWNoIGh3bSBzYXZlXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQZWFrIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbY3JlYXRlZFBlYWssICdjcmVhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbm8gZGF0YSBmaWxlIG9yIGh3bSBjaGVja2VkIGFzIHVzZWQsIHNob3cgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0T25lTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgbXVzdCBjaG9vc2UgYXQgbGVhc3Qgb25lIEhXTSBvciBEYXRhIEZpbGUgdG8gdXNlIGZvciBpbnRlcnByZXRhdGlvbiBmb3IgdGhpcyBQZWFrIFN1bW1hcnkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIk9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0luY29tcGxldGVERkluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jb21wbGV0ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW5jb21wbGV0ZSBEYXRhIEZpbGU8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPkFsbCBSREdzLCBNZXQgU3RhdGlvbiwgYW5kIFJhaW4gR2FnZSBzZW5zb3JzIHJlcXVpcmUgZGF0YSBmaWxlIGluZm9ybWF0aW9uIGluIG9yZGVyIHRvIHVzZSBhcyBwcmltYXJ5IGluIHRoZSBQZWFrIHN1bW1hcnkuPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgcmV2aXNpdCB0aGUgUmV0cmlldmVkIFNlbnNvciBhbmQgY2xpY2sgb24gTldJUyBEYXRhIENvbm5lY3Rpb24gdG8gYWRkIGEgbGluayB0byB0aGUgTldJUyBkYXRhIGlmIHlvdSB3YW50IHRvIHVzZSBhcyBwcmltYXJ5LjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIk9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW5jb21wbGV0ZUhXTUluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5jb21wbGV0ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW5jb21wbGV0ZSBIV008L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlN1cnZleSBkYXRlIGFuZCBlbGV2YXRpb24gYXJlIHJlcXVpcmVkIGluIG9yZGVyIHRvIHVzZSBhcyBwcmltYXJ5IGluIHRoZSBQZWFrIHN1bW1hcnkuPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgcmV2aXNpdCB0aGUgSFdNIGFuZCBhZGQgU3VydmV5IGRhdGUgYW5kIGVsZXZhdGlvbiBpZiB5b3Ugd2FudCB0byB1c2UgYXMgcHJpbWFyeS48L3A+PHA+VGhlIEhXTSBjYW4gYmUgdXNlZCBmb3IgaW50ZXJwcmVhdGlvbiB3aXRob3V0aCBhIGZpbmFsIGVsZXZhdGlvbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJPaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1JldHJpZXZlSW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBnb1JldHJpZXZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5EZXBsb3llZCBTZW5zb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoaXMgc2Vub3NyIG5lZWRzIHRvIGJlIHJldHJpZXZlZCBiZWZvcmUgYSBQZWFrIGNhbiBiZSBjcmVhdGVkLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIk9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgIH1dKTsgLy9lbmQgSFdNXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3BlYWtDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckZmlsdGVyJywgJyR0aW1lb3V0JywgJ3RoaXNTaXRlJywgJ1NpdGVfRmlsZXMnLCAndGhpc1NpdGVQZWFrcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxIV01UeXBlcycsICdQRUFLJywgJ0hXTScsICdNRU1CRVInLCAnU0lURScsJ0lOU1RfQ09MTF9DT05ESVRJT04nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgJHRpbWVvdXQsIHRoaXNTaXRlLCBTaXRlX0ZpbGVzLCB0aGlzU2l0ZVBlYWtzLCBhbGxWZXJ0RGF0dW1zLCBhbGxIV01RdWFsaXRpZXMsIGFsbEhXTVR5cGVzLCBQRUFLLCBIV00sIE1FTUJFUiwgU0lURSxJTlNUX0NPTExfQ09ORElUSU9OKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVha0NvdW50ID0geyB0b3RhbDogdGhpc1NpdGVQZWFrcy5sZW5ndGggfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5TaXRlUGVha3MgPSB0aGlzU2l0ZVBlYWtzO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vZm9yIHRoaXMgdG8gd29yaywgSSdkIG5lZWQgdG8gYnJpbmcgaW4gSFdNcyBhbmQgRGF0YSBGaWxlcyh0aHJvdWdoIHNlbnNvcnMgc2luY2UgdGhhdCBob2xkcyBldmVudCkgZm9yIHRoaXMgZXZlbnQgYW5kIGZpbHRlciBiYXNlZCBvbiB0aG9zZSAuLiBvciBqdXN0IGFkZCBldmVudGlkIHRvIHBlYWtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlUGVha3MgPSB0aGlzU2l0ZVBlYWtzLmZpbHRlcihmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5ldmVudF9uYW1lID09ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudCA9IHsgdG90YWw6ICRzY29wZS5TaXRlUGVha3MubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVQZWFrcyA9IHRoaXNTaXRlUGVha3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wZWFrQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZVBlYWtzLmxlbmd0aCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlL2VkaXQgYSBwZWFrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQZWFrTW9kYWwgPSBmdW5jdGlvbiAocGVha0NsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi4vLyAkKFwiLnBhZ2UtbG9hZGluZ1wiKS5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlUGVha3MuaW5kZXhPZihwZWFrQ2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ1BFQUttb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BlYWtNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29sbGVjdENvbmRpdGlvbnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5TVF9DT0xMX0NPTkRJVElPTi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0RGF0dW1zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbFZlcnREYXR1bXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWs6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGVha0NsaWNrZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBFQUsucXVlcnkoeyBpZDogcGVha0NsaWNrZWQucGVha19zdW1tYXJ5X2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7IHJldHVybiBcImVtcHR5XCI7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVha0RGczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwZWFrQ2xpY2tlZCAhPT0gMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLmdldFBlYWtTdW1tYXJ5REZzKHtpZDogcGVha0NsaWNrZWQucGVha19zdW1tYXJ5X2lkfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlYWtTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogdGhpc1NpdGUuc2l0ZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50SFdNczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RmlsdGVyZWRIV01zKHsgRXZlbnQ6ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSwgRXZlbnRTdGF0dXM6IDAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVTZW5zb3JzKHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZFBlYWspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBQZWFrLGVkaXRlZCBwZWFrIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkUGVha1sxXSA9PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlUGVha3MucHVzaChjcmVhdGVkUGVha1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGVha0NvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVQZWFrcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRQZWFrWzFdID09ICd1cGRhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGZyb20gZWRpdCAtLSByZWZyZXNoIHBhZ2U/XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzW2luZGV4Q2xpY2tlZF0gPSBjcmVhdGVkUGVha1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFBlYWtbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZVBlYWtzLnNwbGljZShpbmRleENsaWNrZWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBlYWtDb3VudC50b3RhbCA9ICRzY29wZS5TaXRlUGVha3MubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07IC8vZW5kIHNob3dIV01Nb2RhbCBmdW5jdGlvblxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignT1Btb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRodHRwJywgJyRzY2UnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdTaXRlX0ZpbGVzJywgJ2FsbERyb3Bkb3ducycsICd0aGlzT1AnLCAndGhpc09QQ29udHJvbHMnLCAnb3BTaXRlJywgJ2FnZW5jeUxpc3QnLCAnYWxsTWVtYmVycycsICdPQkpFQ1RJVkVfUE9JTlQnLCAnT1BfQ09OVFJPTF9JREVOVElGSUVSJywgJ09QX01FQVNVUkUnLCAnU09VUkNFJywgJ0ZJTEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHNjZSwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgU2l0ZV9GaWxlcywgYWxsRHJvcGRvd25zLCB0aGlzT1AsIHRoaXNPUENvbnRyb2xzLCBvcFNpdGUsIGFnZW5jeUxpc3QsIGFsbE1lbWJlcnMsIE9CSkVDVElWRV9QT0lOVCwgT1BfQ09OVFJPTF9JREVOVElGSUVSLCBPUF9NRUFTVVJFLCBTT1VSQ0UsIEZJTEUpIHtcclxuICAgICAgICAgICAgLy9kZWZhdWx0cyBmb3IgcmFkaW8gYnV0dG9uc1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZXcgPSB7IE9QdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLiAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmRsID0geyBkbE9wZW46IHRydWUsIGRsRmlsZU9wZW46IGZhbHNlIH07Ly9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICRzY29wZS5PUFR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSERMaXN0ID0gYWxsRHJvcGRvd25zWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSENvbGxlY3RNZXRob2RMaXN0ID0gYWxsRHJvcGRvd25zWzJdO1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtTGlzdCA9IGFsbERyb3Bkb3duc1szXTtcclxuICAgICAgICAgICAgJHNjb3BlLlZDb2xsZWN0TWV0aG9kTGlzdCA9IGFsbERyb3Bkb3duc1s0XTtcclxuICAgICAgICAgICAgJHNjb3BlLk9QUXVhbGl0eUxpc3QgPSBhbGxEcm9wZG93bnNbNV07XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUxpc3QgPSBhbGxEcm9wZG93bnNbNl07IC8vdXNlZCBpZiBjcmVhdGluZy9lZGl0aW5nIE9QIGZpbGUgICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmh0bWxEZXNjcmlwdGlvblRpcCA9ICRzY2UudHJ1c3RBc0h0bWwoJ1BsZWFzZSBkZXNjcmliZSBsb2NhdGlvbiBhbmQgdHlwZSBvZiBtYXJrIDxlbT5pZS4gXFwnY2hpc2VsZWQgc3F1YXJlIG9uIHRoaXJkIHNpZGV3YWxrIGJsb2NrIG9uIHRoZSBzb3V0aCBzaWRlIG9mIHRoZSBzdHJlZXRcXCc8L2VtPicpO1xyXG4gICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLiAgICBcclxuICAgICAgICAgICAgJHNjb3BlLk9QID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheSA9IFtdOyAvL2hvbGRlciBpZiB0aGV5IHJlbW92ZSBhbnkgT1AgY29udHJvbHNcclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNPUHNpdGUgPSBvcFNpdGU7IC8vdGhpcyBPUCdzIFNJVEVcclxuICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMgPSBbXTsgLy9ob2xkZXIgZm9yIGFkZGVkIElkZW50aWZpZXJzXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSBmYWxzZTsgLy9pbml0aWFsbHkgaGlkZSB0aGUgYXJlYSBjb250YWluaW5nIGFkZGVkIGNvbnRyb2wgSWRlbnRpZmllcnNcclxuICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9OyAvL29iamVjdCBmb3IgRGVnIE1pbiBTZWMgdmFsdWVzXHJcbiAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAkc2NvcGUuT1BGaWxlcyA9IHRoaXNPUCAhPT0gXCJlbXB0eVwiID8gJHNjb3BlLmFsbFNGaWxlcy5maWx0ZXIoZnVuY3Rpb24gKHNmKSB7IHJldHVybiBzZi5vYmplY3RpdmVfcG9pbnRfaWQgPT0gdGhpc09QLm9iamVjdGl2ZV9wb2ludF9pZDsgfSkgOiBbXTsvLyBvcEZpbGVzOyAvL2hvbGRlciBmb3Igb3AgZmlsZXMgYWRkZWRcclxuICAgICAgICAgICAgJHNjb3BlLm9wSW1hZ2VGaWxlcyA9ICRzY29wZS5PUEZpbGVzLmZpbHRlcihmdW5jdGlvbiAob3BmKSB7IHJldHVybiBvcGYuZmlsZXR5cGVfaWQgPT09IDE7IH0pOyAvL2ltYWdlIGZpbGVzIGZvciBjYXJvdXNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7IC8vaGlkZGVuIGZvcm0gdG8gYWRkIGZpbGUgdG8gb3BcclxuICAgICAgICAgICAgLy9tYWtlIHVuY2VydGFpbnR5IGNsZWFyZWQgYW5kIGRpc2FibGVkIHdoZW4gJ3VucXVhbnRpZmllZCcgaXMgY2hlY2tlZFxyXG4gICAgICAgICAgICAkc2NvcGUuVW5xdWFudENoZWNrZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm9wQ29weSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5vcENvcHkudW5xdWFudGlmaWVkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkudW5jZXJ0YWludHkgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfZmlsZV9pZDogJHNjb3BlLmFGaWxlLmRhdGFfZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJ1bWVudF9pZDogJHNjb3BlLmFGaWxlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19ud2lzOiAkc2NvcGUuYUZpbGUuaXNfbndpcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0aXZlX3BvaW50X2lkOiAkc2NvcGUuYUZpbGUub2JqZWN0aXZlX3BvaW50X2lkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiT2JqZWN0aXZlIFBvaW50IEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyZXNwb25zZS5maWxldHlwZV9pZCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZnJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9zaG93IGEgbW9kYWwgd2l0aCB0aGUgbGFyZ2VyIGltYWdlIGFzIGEgcHJldmlldyBvbiB0aGUgcGhvdG8gZmlsZSBmb3IgdGhpcyBvcFxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSAkc2NvcGUuZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xOyAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgLy9PUCB3aWxsIG5vdCBoYXZlIGRhdGFmaWxlICAgICAkc2NvcGUuZGF0YWZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgZGF0YWZpbGVcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IG9wIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RGaWxlSW5kZXggPSAkc2NvcGUuT1BGaWxlcy5pbmRleE9mKGZpbGUpOyAkc2NvcGUuYWxsU0ZpbGVJbmRleCA9ICRzY29wZS5hbGxTRmlsZXMuaW5kZXhPZihmaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAkc2NvcGUub3BJbWFnZUZpbGVzLmxlbmd0aCA+IDAgPyAkc2NvcGUub3BJbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gJHNjb3BlLmZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZ2V0RmlsZUl0ZW0oeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsZSBpdGVtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBhZ2VuY3kgbmFtZSB0byBwaG90byBjYXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgc291cmNlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZXhpc3RpbmcgZmlsZVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7ICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS51cGRhdGVBZ2VuY3lGb3JDYXB0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9jcmVhdGUgdGhpcyBuZXcgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBTT1VSQ0UsIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNPUHNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiT2JqZWN0aXZlIFBvaW50IEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRV9TVEFNUC5zZXRTdGFtcCgpOyAvL2hvcGVmdWxseSB1cGRhdGUgdGhlIGZpbGVzIGluIHRoZSBjYXJvdXNlbCA/Pz9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUub3BJbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2Uuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiT2JqZWN0aXZlIFBvaW50IEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXNbJHNjb3BlLmFsbFNGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLmZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1BGaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcy5zcGxpY2UoJHNjb3BlLmFsbFNGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BJbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gRklMRSBTVFVGRlxyXG5cclxuICAgICAgICAgICAgLy9jYWxsZWQgYSBmZXcgdGltZXMgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkICE9PSBcIlwiICYmIGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcHJvdmlkZWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpc09QICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wTW9kYWxIZWFkZXIgPSBcIkRhdHVtIExvY2F0aW9uIEluZm9ybWF0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY3JlYXRlT1JlZGl0T1AgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gZXhpc3RpbmcgT1BcclxuICAgICAgICAgICAgICAgICRzY29wZS5PUCA9IGFuZ3VsYXIuY29weSh0aGlzT1ApOyAvL3NldCBhIGNvcHkgc28gbGlzdCB2aWV3IGRvZXNudCBjaGFuZ2UgaWYgdGhleSBjYW5jZWwgZnJvbSBoZXJlIGFmdGVyIG1ha2luZyBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAvL2Zvcm1hdHRlZCBhcyBkYXRlIGZvciBkYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCA9IG1ha2VBZGF0ZSgkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCk7XHJcbiAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIHZkYXR1bV9pZCA9PSAwLCBpZiBzbyBtYWtlIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5PUC52ZGF0dW1faWQgPT09IDApIGRlbGV0ZSAkc2NvcGUuT1AudmRhdHVtX2lkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQgIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkID0gbWFrZUFkYXRlKCRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNPUENvbnRyb2xzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycyA9IHRoaXNPUENvbnRyb2xzO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93Q29udHJvbElEaW5wdXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLm9wVHlwZSA9ICRzY29wZS5PUC5vcF90eXBlX2lkID4gMCA/ICRzY29wZS5PUFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAodCkgeyByZXR1cm4gdC5vYmplY3RpdmVfcG9pbnRfdHlwZV9pZCA9PSAkc2NvcGUuT1Aub3BfdHlwZV9pZDsgfSlbMF0ub3BfdHlwZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLnF1YWxpdHkgPSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZCA+IDAgPyAkc2NvcGUuT1BRdWFsaXR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHEpIHsgcmV0dXJuIHEub3BfcXVhbGl0eV9pZCA9PSAkc2NvcGUuT1Aub3BfcXVhbGl0eV9pZDsgfSlbMF0ucXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmhkYXR1bSA9ICRzY29wZS5PUC5oZGF0dW1faWQgPiAwID8gJHNjb3BlLkhETGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuT1AuaGRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AuaENvbGxlY3RNZXRob2QgPSAkc2NvcGUuT1AuaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5IQ29sbGVjdE1ldGhvZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5PUC5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZEYXR1bSA9ICRzY29wZS5PUC52ZGF0dW1faWQgPiAwID8gJHNjb3BlLlZEYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1faWQgPT0gJHNjb3BlLk9QLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLk9QLnZjb2xsZWN0X21ldGhvZF9pZCA+IDAgPyAkc2NvcGUuVkNvbGxlY3RNZXRob2RMaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuT1AudmNvbGxlY3RfbWV0aG9kX2lkOyB9KVswXS52Y29sbGVjdF9tZXRob2QgOiAnJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BNb2RhbEhlYWRlciA9IFwiQ3JlYXRlIG5ldyBEYXR1bSBMb2NhdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdE9QID0gJ2NyZWF0ZSc7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbmV3IE9QIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmxhdGl0dWRlX2RkID0gb3BTaXRlLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA9IG9wU2l0ZS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AuaGRhdHVtX2lkID0gb3BTaXRlLmhkYXR1bV9pZDtcclxuICAgICAgICAgICAgICAgIC8vZGVmYXVsdCB0b2RheSBmb3IgZXN0YWJsaXNlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZGF0ZV9lc3RhYmxpc2hlZCA9IG1ha2VBZGF0ZShcIlwiKTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvblxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL2RlZmF1bHQgcmFkaW9zIChoYXMgdG8gY29tZSBhZnRlciBPUCBpcyBzZXQgb25lIHdheSBvciBhbm90aGVyKVxyXG4gICAgICAgICAgICAkc2NvcGUuT1AuZGVjRGVnT1JkbXMgPSAnZGQnO1xyXG4gICAgICAgICAgICAkc2NvcGUuT1AuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgJHNjb3BlLk9QLkZUb3JDTSA9ICdmdCc7XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIGlkZW50aWZpZXJcclxuICAgICAgICAgICAgJHNjb3BlLmFkZE5ld0lkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNyZWF0ZU9SZWRpdE9QID09ICdlZGl0JylcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHkucHVzaCh7IG9iamVjdGl2ZV9wb2ludF9pZDogJHNjb3BlLk9QLm9iamVjdGl2ZV9wb2ludF9pZCwgaWRlbnRpZmllcjogXCJcIiwgaWRlbnRpZmllcl90eXBlOiBcIlwiIH0pO1xyXG4gICAgICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzLnB1c2goeyBpZGVudGlmaWVyOiBcIlwiLCBpZGVudGlmaWVyX3R5cGU6IFwiXCIgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IHRydWU7XHJcblxyXG5cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0aW5nRGF5OiAxLFxyXG4gICAgICAgICAgICAgICAgc2hvd1dlZWtzOiBmYWxzZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgIC8vbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NvbnZlcnQgZGVnIG1pbiBzZWMgdG8gZGVjIGRlZ3JlZXNcclxuICAgICAgICAgICAgdmFyIGF6aW11dGggPSBmdW5jdGlvbiAoZGVnLCBtaW4sIHNlYykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF6aSA9IDA7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IC0xLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoLTEuMCAqIGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF6aSA9IDEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NvbnZlcnQgZGVjIGRlZ3JlZXMgdG8gZG1zXHJcbiAgICAgICAgICAgIHZhciBkZWdfdG9fZG1zID0gZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRlZyA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb25naXR1ZGUsIHJlbW92ZSB0aGUgLSBzaWduXHJcbiAgICAgICAgICAgICAgICAgICAgZGVnID0gZGVnLnN1YnN0cmluZygxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHZhciBkID0gTWF0aC5mbG9vcihkZWcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pbmZsb2F0ID0gKGRlZyAtIGQpICogNjA7XHJcbiAgICAgICAgICAgICAgICB2YXIgbSA9IE1hdGguZmxvb3IobWluZmxvYXQpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAoKG1pbmZsb2F0IC0gbSkgKiA2MCkudG9GaXhlZCgzKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKFwiXCIgKyBkICsgXCI6XCIgKyBtICsgXCI6XCIgKyBzKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSBjaGFuZ2VkIHJhZGlvIGJ1dHRvbiBmb3IgZG1zIGRlYyBkZWdcclxuICAgICAgICAgICAgJHNjb3BlLmxhdExvbmdDaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmNyZWF0ZU9SZWRpdE9QID09ICdlZGl0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3BDb3B5LmRlY0RlZ09SZG1zID09IFwiZGRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZCkgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnZlcnQgd2hhdCdzIGhlcmUgZm9yIGVhY2ggbGF0IGFuZCBsb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHRocmVlIGlucHV0cyBmb3IgY29udmVyc2lvbiBmcm9tIERNUyB0byBEZWNpbWFsIERlZ3JlZXMgdG8gd29yay48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBETVNNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9IFwiZG1zXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIGRtcyAoY29udmVydCBsYXQvbG9uZyB0byBkbXMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkKSkudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWRETVNhcnJheSA9IGxhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQURlZyA9IGxhZERNU2FycmF5WzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQU1pbiA9IGxhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGxhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TID0gZGVnX3RvX2Rtcygkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNU2FycmF5ID0gbG9uZ0RNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyA9IGxvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGxvbmdETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9TZWMgPSBsb25nRE1TYXJyYXlbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkOyAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5PUC5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jbGVhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zaG93IG1vZGFsIHRlbGxpbmcgdGhlbSB0byBwb3B1bGF0ZSBhbGwgdGhyZWUgKERNUykgZm9yIGNvbnZlcnNpb24gdG8gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIERNU2RkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TZGRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCB8fCAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT1NlYyAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5PUC5sYXRpdHVkZV9kZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xhdERNUyA9IChkZWdfdG9fZG1zKCRzY29wZS5PUC5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xhZERNU2FycmF5ID0gY3JlYXRlX2xhdERNUy5zcGxpdCgnOicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQURlZyA9IGNyZWF0ZV9sYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBjcmVhdGVfbGFkRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gY3JlYXRlX2xhZERNU2FycmF5WzJdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVfbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVNhcnJheSA9IGNyZWF0ZV9sb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gY3JlYXRlX2xvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gY3JlYXRlX2xvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDsgJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vanVzdCBuZWVkIGFuIE9CSkVDVElWRV9QT0lOVCBvYmplY3QgdG8gcG9zdC9wdXRcclxuICAgICAgICAgICAgdmFyIHRyaW1PUCA9IGZ1bmN0aW9uIChvcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIE9CSl9QVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBvcC5uYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBvcC5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBlbGV2X2Z0OiBvcC5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBvcC5lbGV2X2Z0IDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBkYXRlX2VzdGFibGlzaGVkOiBvcC5kYXRlX2VzdGFibGlzaGVkLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wX2lzX2Rlc3Ryb3llZDogb3Aub3BfaXNfZGVzdHJveWVkICE9PSB1bmRlZmluZWQgPyBvcC5vcF9pc19kZXN0cm95ZWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wX25vdGVzOiBvcC5vcF9ub3RlcyAhPT0gdW5kZWZpbmVkID8gb3Aub3Bfbm90ZXMgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzT1BzaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdmRhdHVtX2lkOiBvcC52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IG9wLnZkYXR1bV9pZCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IG9wLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZV9kZDogb3AubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXR1bV9pZDogb3AuaGRhdHVtX2lkICE9PSB1bmRlZmluZWQgPyBvcC5oZGF0dW1faWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogb3AuaGNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyBvcC5oY29sbGVjdF9tZXRob2RfaWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHZjb2xsZWN0X21ldGhvZF9pZDogb3AudmNvbGxlY3RfbWV0aG9kX2lkICE9PSB1bmRlZmluZWQgPyBvcC52Y29sbGVjdF9tZXRob2RfaWQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wX3R5cGVfaWQ6IG9wLm9wX3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZV9yZWNvdmVyZWQ6IG9wLmRhdGVfcmVjb3ZlcmVkICE9PSB1bmRlZmluZWQgPyBvcC5kYXRlX3JlY292ZXJlZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5jZXJ0YWludHk6IG9wLnVuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQgJiYgb3AudW5jZXJ0YWludHkgIT09IFwiXCIgPyBvcC51bmNlcnRhaW50eSA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5xdWFudGlmaWVkOiBvcC51bnF1YW50aWZpZWQgIT09IHVuZGVmaW5lZCA/IG9wLnVucXVhbnRpZmllZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgb3BfcXVhbGl0eV9pZDogb3Aub3BfcXVhbGl0eV9pZCAhPT0gdW5kZWZpbmVkID8gb3Aub3BfcXVhbGl0eV9pZCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIE9CSl9QVDtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsIG1vZGFsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZml4IGRlZmF1bHQgcmFkaW9zIGFuZCBsYXQvbG9uZ1xyXG4gICAgICAgICAgICB2YXIgZm9ybWF0RGVmYXVsdHMgPSBmdW5jdGlvbiAodGhlT1AsIGZyb21XaGVyZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZyb21XaGVyZSA9PSBcImNyZWF0ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvck1FVEVSIG5lZWRzIHRvIGJlICdmdCcuIGlmICdtZXRlcicgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yTUVURVIgPT0gXCJtZXRlclwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuZWxldl9mdCA9ICRzY29wZS5PUC5lbGV2X2Z0ICogMy4yODA4O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yQ00gbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ2NtJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JDTSA9PSBcImNtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC51bmNlcnRhaW50eSA9IHBhcnNlRmxvYXQoJHNjb3BlLk9QLnVuY2VydGFpbnR5IC8gMzAuNDgpLnRvRml4ZWQoNik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLmRlY0RlZ09SZG1zIG5lZWRzIHRvIGJlICdkZCcuIGlmICdkbXMnID09Y29udmVydCAkc2NvcGUuRE1TIHZhbHVlcyB0byBkZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5kZWNEZWdPUmRtcyA9PSBcImRtc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5zaXRlX2lkID0gJHNjb3BlLnRoaXNPUHNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JNRVRFUiBuZWVkcyB0byBiZSAnZnQnLiBpZiAnbWV0ZXInID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvck1FVEVSID09IFwibWV0ZXJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LkZUb3JNRVRFUiA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuZWxldl9mdCA9ICRzY29wZS5vcENvcHkuZWxldl9mdCAqIDMuMjgwODtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuT1AuRlRvckNNIG5lZWRzIHRvIGJlICdmdCcuIGlmICdjbScgPT1jb252ZXJ0IHZhbHVlIHRvIGZ0IFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVPUC5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkuRlRvckNNID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS51bmNlcnRhaW50eSA9IHBhcnNlRmxvYXQoJHNjb3BlLm9wQ29weS51bmNlcnRhaW50eSAvIDMwLjQ4KS50b0ZpeGVkKDYpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5kZWNEZWdPUmRtcyBuZWVkcyB0byBiZSAnZGQnLiBpZiAnZG1zJyA9PWNvbnZlcnQgJHNjb3BlLkRNUyB2YWx1ZXMgdG8gZGRcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuZGVjRGVnT1JkbXMgPT0gXCJkbXNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmRlY0RlZ09SZG1zID0gJ2RkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcENvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LnNpdGVfaWQgPSAkc2NvcGUudGhpc09Qc2l0ZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vQ3JlYXRlIHRoaXMgT1BcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLk9QRm9ybS4kdmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkT1AgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAvL3Bvc3RcclxuICAgICAgICAgICAgICAgICAgICBmb3JtYXREZWZhdWx0cygkc2NvcGUuT1AsICdjcmVhdGUnKTsgLy8kc2NvcGUuT1AuRlRvck1FVEVSLCBGVG9yQ00sIGRlY0RlZ09SZG1zICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5PUC5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5PUC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5PUC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLk9QLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTigkc2NvcGUuT1AubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5PUC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIE9QdG9QT1NUID0gdHJpbU9QKCRzY29wZS5PUCk7IC8vbWFrZSBpdCBhbiBPQkpFQ1RJVkVfUE9JTlQgZm9yIHNhdmluZyAgICAgICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuc2F2ZShPUHRvUE9TVCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJEYXR1bSBMb2NhdGlvbiBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE9QID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBlYWNoIG9uZSBUSElTIFdJTEwgQ0hBTkdFIFNPT04gVE8gSEFWRSBvYmplY3RpdmVfcG9pbnRfaWQgYWxyZWFkeSBhZGRlZCBhbmQgbm90IHNlbnQgYWxvbmcgd2l0aCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG9wYyA9IDA7IG9wYyA8ICRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aDsgb3BjKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNPbmUgPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVyc1tvcGNdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT25lLm9iamVjdGl2ZV9wb2ludF9pZCA9IHJlc3BvbnNlLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLnNhdmUodGhpc09uZSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW2NyZWF0ZWRPUCwgJ2NyZWF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSAvL2VuZCBsYXQvbG9uZyBpcyBnb29kXHJcbiAgICAgICAgICAgICAgICB9Ly8gZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07IC8vZW5kIENyZWF0ZVxyXG5cclxuICAgICAgICAgICAgLy9YIHdhcyBjbGlja2VkIG5leHQgdG8gZXhpc3RpbmcgQ29udHJvbCBJZGVudGlmaWVyIHRvIGhhdmUgaXQgcmVtb3ZlZCwgc3RvcmUgaW4gcmVtb3ZlIGFycmF5IGZvciBTYXZlKClcclxuICAgICAgICAgICAgJHNjb3BlLlJlbW92ZUlEID0gZnVuY3Rpb24gKG9wQ29udHJvbCkge1xyXG4gICAgICAgICAgICAgICAgLy9vbmx5IGFkZCB0byByZW1vdmUgbGlzdCBpZiBpdCdzIGFuIGV4aXN0aW5nIG9uZSB0byBERUxFVEVcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRkZWRJZGVudGlmaWVyc0NvcHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5LmluZGV4T2Yob3BDb250cm9sKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BDb250cm9sLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheS5wdXNoKG9wQ29udHJvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weS5zcGxpY2UoaSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5LnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIGNyZWF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaSA9ICRzY29wZS5hZGRlZElkZW50aWZpZXJzLmluZGV4T2Yob3BDb250cm9sKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5zcGxpY2UoY2ksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9TYXZlIHRoaXMgT1BcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MQURlZywgJHNjb3BlLkRNUy5MQU1pbiwgJHNjb3BlLkRNUy5MQVNlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTE9EZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLm9wQ29weS5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5vcENvcHkubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLm9wQ29weS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5LmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkT1AgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGVyZSdzIGFuIG9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCwgUFVUIC4uIGVsc2UgUE9TVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2V4aXN0aW5nOiBQVVR2YXIgaW5kID0gJHNjb3BlLmNob3NlbkhXTUxpc3QubWFwKGZ1bmN0aW9uIChod20pIHsgcmV0dXJuIGh3bS5od21faWQ7IH0pLmluZGV4T2YoYUhXTS5od21faWQpOyAvL25vdCB3b3JraW5nOjogJHNjb3BlLmNob3NlbkhXTUxpc3QuaW5kZXhPZihhSFdNKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXN0SW5kZXggPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5tYXAoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkub3BfY29udHJvbF9pZGVudGlmaWVyX2lkOyB9KS5pbmRleE9mKCRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPUF9DT05UUk9MX0lERU5USUZJRVIudXBkYXRlKHsgaWQ6ICRzY29wZS5hZGRlZElkZW50aWZpZXJzQ29weVtpXS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQgfSwgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5W2ldKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNbZXhpc3RJbmRleF0gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGNvbnRyb2wgaWRlbnRpZmllcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgY29udHJvbCBpZGVudGlmaWVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBlYWNoIG9uZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc09QQ29udHJvbElEID0gJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT1BDb250cm9sSUQub2JqZWN0aXZlX3BvaW50X2lkID0gJHNjb3BlLk9QLm9iamVjdGl2ZV9wb2ludF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLnNhdmUodGhpc09QQ29udHJvbElEKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGNvbnRyb2wgaWRlbnRpZmllcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGZvcmVhY2ggYWRkZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGVyZSdzIGFkZGVkaWRlbnRpZmllcnNcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhlcmUncyBhbnkgaW4gcmVtb3ZlT1BDYXJyYXksIERFTEVURSB0aG9zZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJlbW92ZU9QQ2FycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgJHNjb3BlLnJlbW92ZU9QQ2FycmF5Lmxlbmd0aDsgcisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlSW5kZXggPSAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5tYXAoZnVuY3Rpb24gKHJpKSB7IHJldHVybiByaS5vcF9jb250cm9sX2lkZW50aWZpZXJfaWQ7IH0pLmluZGV4T2YoJHNjb3BlLnJlbW92ZU9QQ2FycmF5W3JdLm9wX2NvbnRyb2xfaWRlbnRpZmllcl9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT1BfQ09OVFJPTF9JREVOVElGSUVSLmRlbGV0ZSh7IGlkOiAkc2NvcGUucmVtb3ZlT1BDYXJyYXlbcl0ub3BfY29udHJvbF9pZGVudGlmaWVyX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkZWRJZGVudGlmaWVycy5zcGxpY2UoZGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBjb250cm9sIGlkZW50aWZpZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBmb3JlYWNoIHJlbW92ZU9QQ2FycmF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGVyZSdzIHJlbW92ZU9QQ3NcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vayBhdCBPUC5GVG9yTUVURVIgKFwiZnRcIiksIE9QLkZUb3JDTSAoXCJmdFwiKSwgYW5kIE9QLmRlY0RlZ09SZG1zIChcImRkXCIpLCBtYWtlIHN1cmUgc2l0ZV9JRCBpcyBvbiB0aGVyZSBhbmQgc2VuZCBpdCB0byB0cmltIGJlZm9yZSBQVVQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdERlZmF1bHRzKCRzY29wZS5vcENvcHksICdlZGl0Jyk7IC8vJHNjb3BlLk9QLkZUb3JNRVRFUiwgRlRvckNNLCBkZWNEZWdPUmRtc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgT1B0b1BPU1QgPSB0cmltT1AoJHNjb3BlLm9wQ29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QdG9QT1NULm9iamVjdGl2ZV9wb2ludF9pZCA9ICRzY29wZS5vcENvcHkub2JqZWN0aXZlX3BvaW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUhUVFAtTWV0aG9kLU92ZXJyaWRlJ10gPSAnUFVUJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5ULnVwZGF0ZSh7IGlkOiBPUHRvUE9TVC5vYmplY3RpdmVfcG9pbnRfaWQgfSwgT1B0b1BPU1QsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0dW0gTG9jYXRpb24gdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUCA9IHJlc3BvbnNlOyB0aGlzT1AgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5kYXRlX2VzdGFibGlzaGVkID0gbWFrZUFkYXRlKCRzY29wZS5PUC5kYXRlX2VzdGFibGlzaGVkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuT1AuZGF0ZV9yZWNvdmVyZWQgIT09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLk9QLmRhdGVfcmVjb3ZlcmVkID0gbWFrZUFkYXRlKCRzY29wZS5PUC5kYXRlX3JlY292ZXJlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1Aub3BUeXBlID0gJHNjb3BlLk9QLm9wX3R5cGVfaWQgPiAwID8gJHNjb3BlLk9QVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh0KSB7IHJldHVybiB0Lm9iamVjdGl2ZV9wb2ludF90eXBlX2lkID09ICRzY29wZS5PUC5vcF90eXBlX2lkOyB9KVswXS5vcF90eXBlIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AucXVhbGl0eSA9ICRzY29wZS5PUC5vcF9xdWFsaXR5X2lkID4gMCA/ICRzY29wZS5PUFF1YWxpdHlMaXN0LmZpbHRlcihmdW5jdGlvbiAocSkgeyByZXR1cm4gcS5vcF9xdWFsaXR5X2lkID09ICRzY29wZS5PUC5vcF9xdWFsaXR5X2lkOyB9KVswXS5xdWFsaXR5IDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AuaGRhdHVtID0gJHNjb3BlLk9QLmhkYXR1bV9pZCA+IDAgPyAkc2NvcGUuSERMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX2lkID09ICRzY29wZS5PUC5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUC5oQ29sbGVjdE1ldGhvZCA9ICRzY29wZS5PUC5oY29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLkhDb2xsZWN0TWV0aG9kTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhjKSB7IHJldHVybiBoYy5oY29sbGVjdF9tZXRob2RfaWQgPT0gJHNjb3BlLk9QLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AudkRhdHVtID0gJHNjb3BlLk9QLnZkYXR1bV9pZCA+IDAgPyAkc2NvcGUuVkRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuT1AudmRhdHVtX2lkOyB9KVswXS5kYXR1bV9uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuT1AudkNvbGxlY3RNZXRob2QgPSAkc2NvcGUuT1AudmNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5WQ29sbGVjdE1ldGhvZExpc3QuZmlsdGVyKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gdmMudmNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5PUC52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5ID0gW107ICRzY29wZS52aWV3Lk9QdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb25bJ1gtSFRUUC1NZXRob2QtT3ZlcnJpZGUnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZGF0dW0gbG9jYXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBsYXQvbG9uZyBhcmUgZ29vZFxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9OyAvL2VuZCBTYXZlXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIE9QIGZyb20gdGhlIFNJVEVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZU9QID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgT1BfTUVBU1VSRS5nZXREYXR1bUxvY2F0aW9uT1BNZWFzdXJlcyh7IG9iamVjdGl2ZVBvaW50SWQ6ICRzY29wZS5PUC5vYmplY3RpdmVfcG9pbnRfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcE9uVGFwZWRvd25Nb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+Q2Fubm90IERlbGV0ZTwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIERhdHVtIExvY2F0aW9uIGlzIGJlaW5nIHVzZWQgZm9yIG9uZSBvciBtb3JlIHNlbnNvciB0YXBlIGRvd25zLiBQbGVhc2UgZGVsZXRlIHRoZSB0YXBlIGRvd24gYmVmb3JlIGRlbGV0aW5nIHRoZSBkYXR1bSBsb2NhdGlvbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vIHRhcGVkb3ducywgcHJvY2VlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLk9QO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJPYmplY3RpdmUgUG9pbnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChvcFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuZGVsZXRlKHsgaWQ6IG9wVG9SZW1vdmUub2JqZWN0aXZlX3BvaW50X2lkIH0sIG9wVG9SZW1vdmUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5PUEZpbGVzID0gW107IC8vY2xlYXIgb3V0IGh3bUZpbGVzIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEltYWdlRmlsZXMgPSBbXTsgLy9jbGVhciBvdXQgaW1hZ2UgZmlsZXMgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsID0gJHNjb3BlLmFsbFNGaWxlcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGwtLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5vYmplY3RpdmVfcG9pbnRfaWQgPT0gb3BUb1JlbW92ZS5vYmplY3RpdmVfcG9pbnRfaWQpICRzY29wZS5hbGxTRmlsZXMuc3BsaWNlKGwsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdHVtIExvY2F0aW9uIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZGF0dW0gbG9jYXRpb246IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGRhdHVtIGxvY2F0aW9uOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZSAocHJvY2VlZCB3aXRoIGRlbGV0ZSlcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdHVtIGxvY2F0aW9uIG1lYXN1cmVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGRhdHVtIGxvY2F0aW9uIG1lYXN1cmVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTsgLy9lbmQgZ2V0IG9wbWVhc3VyZW1lbnRzXHJcbiAgICAgICAgICAgIH07IC8vZW5kIGRlbGV0ZVxyXG5cclxuICAgICAgICAgICAgLy9sYXQgbW9kYWwgXHJcbiAgICAgICAgICAgIHZhciBvcGVuTGF0TW9kYWwgPSBmdW5jdGlvbiAodykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMYXRpdHVkZSBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNzMuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBvcGVuTG9uZ01vZGFsID0gZnVuY3Rpb24gKHcpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExvbmdpdHVkZSBtdXN0IGJlIGJldHdlZW4gLTE3NS4wIGFuZCAtNjAuMDwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbG9uZ01vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWVsZEZvY3VzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHcgPT0gJ2xhdGxvbmcnKSAkKFwiI2xvbmdpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL21ha2Ugc3VyZSBsYXQvbG9uZyBhcmUgcmlnaHQgbnVtYmVyIHJhbmdlXHJcbiAgICAgICAgICAgICRzY29wZS5jaGVja1ZhbHVlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkID09ICdkbXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jaGVjayB0aGUgZGVncmVlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgPCAwIHx8ICRzY29wZS5ETVMuTEFEZWcgPiA3MyB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQURlZykgJiYgJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikgJiYgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkKSB8fCAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2RtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSkgJHNjb3BlLkRNUy5MQURlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFNaW4pKSAkc2NvcGUuRE1TLkxBTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQVNlYykpICRzY29wZS5ETVMuTEFTZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2RtcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9NaW4pKSAkc2NvcGUuRE1TLkxPTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykpICRzY29wZS5ETVMuTE9TZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBsYXRpdHVkZS9sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgb3AgPSAkc2NvcGUudmlldy5PUHZhbCA9PSAnZWRpdCcgPyAkc2NvcGUub3BDb3B5IDogJHNjb3BlLk9QO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcC5sYXRpdHVkZV9kZCA8IDAgfHwgb3AubGF0aXR1ZGVfZGQgPiA3MyB8fCBpc05hTihvcC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKG9wLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3AubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgb3AubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKG9wLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxvbmdNb2RhbCgnbGF0bG9uZycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihvcC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcC5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRPUCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3Lk9QdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuT1ApO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wQ29weS5kZWNEZWdPUmRtcyA9ICdkZCc7ICRzY29wZS5vcENvcHkuRlRvck1FVEVSID0gJ2Z0JzsgJHNjb3BlLm9wQ29weS5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnNDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hZGRlZElkZW50aWZpZXJzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbE9QRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3Lk9QdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUub3BDb3B5ID0gW107XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuXHJcbiAgICAgICAgfV0pOy8vZW5kIE9QbW9kYWxDdHJsXHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdvYmplY3RpdmVQb2ludEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAnT0JKRUNUSVZFX1BPSU5UJywgJ01FTUJFUicsICdTSVRFJywgJ3RoaXNTaXRlJywgJ3RoaXNTaXRlT1BzJywgJ2FsbE9QVHlwZXMnLCAnYWxsSG9yRGF0dW1zJywgJ2FsbEhvckNvbGxNZXRob2RzJywgJ2FsbFZlcnREYXR1bXMnLCAnYWxsVmVydENvbE1ldGhvZHMnLCAnYWxsT1BRdWFsaXRpZXMnLCAnYWxsRmlsZVR5cGVzJywgJ2FsbEFnZW5jaWVzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCBPQkpFQ1RJVkVfUE9JTlQsIE1FTUJFUiwgU0lURSwgdGhpc1NpdGUsIHRoaXNTaXRlT1BzLCBhbGxPUFR5cGVzLCBhbGxIb3JEYXR1bXMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsIGFsbEZpbGVUeXBlcywgYWxsQWdlbmNpZXMpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vZ2xvYmFsIHZhcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcENvdW50ID0geyB0b3RhbDogdGhpc1NpdGVPUHMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cyA9IHRoaXNTaXRlT1BzO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93T1BNb2RhbCA9IGZ1bmN0aW9uIChPUGNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BGaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChvZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IG9mdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Z0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IG9mdC5maWxldHlwZSA9PT0gJ05HUyBEYXRhc2hlZXQnIHx8IG9mdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhc3NBbGxMaXN0cyA9IFthbGxPUFR5cGVzLCBhbGxIb3JEYXR1bXMsIGFsbEhvckNvbGxNZXRob2RzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsICRzY29wZS5vcEZpbGVUeXBlc107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlT2JqZWN0aXZlUG9pbnRzLmluZGV4T2YoT1BjbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogdHJ1ZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsIDogJ09QbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdPUG1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdsZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dDbGFzczogJ3JlcC1kaWFsb2cnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFzc0FsbExpc3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNPUDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPUGNsaWNrZWQgIT09IDAgPyBPUGNsaWNrZWQ6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzT1BDb250cm9sczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPUGNsaWNrZWQgIT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9CSkVDVElWRV9QT0lOVC5nZXRPUENvbnRyb2xzKHtpZDogT1BjbGlja2VkLm9iamVjdGl2ZV9wb2ludF9pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcFNpdGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pcyB0aGVyZSBhIG5ldyBvcCBvciBqdXN0IGNsb3NlZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkT1AgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRPUFsxXSA9PSAnY3JlYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5wdXNoKGNyZWF0ZWRPUFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZE9QWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoaXMgaXMgZnJvbSBlZGl0IC0tIHJlZnJlc2ggcGFnZT9cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpQ2xpY2tlZCA9ICRzY29wZS5TaXRlT2JqZWN0aXZlUG9pbnRzLmluZGV4T2YoT1BjbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50c1tpQ2xpY2tlZF0gPSBjcmVhdGVkT1A7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRPUFsxXSA9PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkMSA9ICRzY29wZS5TaXRlT2JqZWN0aXZlUG9pbnRzLmluZGV4T2YoT1BjbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5zcGxpY2UoaW5kZXhDbGlja2VkMSwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9wQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZU9iamVjdGl2ZVBvaW50cy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdtZW1iZXJNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRodHRwJywgJyR1aWJNb2RhbCcsICckdWliTW9kYWxJbnN0YW5jZScsICckZmlsdGVyJywgJyRzY2UnLCAncm9sZUxpc3QnLCAnYWdlbmN5TGlzdCcsICd0aGlzTWVtYmVyJywgJ01FTUJFUicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRodHRwLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlsdGVyLCAkc2NlLCByb2xlTGlzdCwgYWdlbmN5TGlzdCwgdGhpc01lbWJlciwgTUVNQkVSKSB7XHJcbiAgICAgICAgICAgIC8vYWxsIHRoaW5ncyBib3RoIG5ldyBhbmQgZXhpc3RpbmcgbWVtYmVyIHBhZ2Ugd2lsbCBuZWVkXHJcbiAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0ge307IC8vaG9sZGVyIGZvciBtZW1iZXIgKGVpdGhlciBjb21pbmcgaW4gZm9yIGVkaXQsIG9yIGJlaW5nIGNyZWF0ZWQgZm9yIHBvc3RcclxuICAgICAgICAgICAgJHNjb3BlLm1hdGNoaW5nVXNlcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAkc2NvcGUudXNlcm5hbWVUb29sdGlwID0gJHNjZS50cnVzdEFzSHRtbCgnQWN0aXZlIERpcmVjdG9yeSB1c2VyIElELiBpZTogXFwnbXBlcHBsZXJcXCcgbm90IFxcJ21wZXBwbGVyQHVzZ3MuZ292XFwnLicpO1xyXG4gICAgICAgICAgICAkc2NvcGUuYWdlbmN5TGlzdCA9IGFnZW5jeUxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5wYXNzID0ge1xyXG4gICAgICAgICAgICAgICAgbmV3UDogJycsXHJcbiAgICAgICAgICAgICAgICBjb25maXJtUDogJydcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm5ld1Bhc3MgPSBcIlwiO1xyXG4gICAgICAgICAgICAvL3BvcHVsYXRlIHJvbGVzIGJhc2VkIG9uIHdobydzIGxvZ2dlZCBpblxyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Vc2VyID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblVzZXIuTmFtZSA9ICRjb29raWVzLmdldCgndXNlcnNOYW1lJyk7IC8vVXNlcidzIE5BTUVcclxuICAgICAgICAgICAgJHNjb3BlLmxvZ2dlZEluVXNlci5JRCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5sb2dnZWRJblVzZXIuUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcblxyXG4gICAgICAgICAgICAvL3BvcHVsYXRlIHJvbGUgbGlzdCBiYXNlZCBvbiB3aG8ncyBsb2dnZWQgaW4gKGFkbWluIGNhbiBhc3NpZ24gbWFuYWdlciBvciBmaWVsZCwgbWFuYWdlciBjYW4gb25seSBhc3NpZ24gZmllbGRcclxuICAgICAgICAgICAgc3dpdGNoICgkc2NvcGUubG9nZ2VkSW5Vc2VyLlJvbGUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0FkbWluJzpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucm9sZUxpc3QgPSByb2xlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIucm9sZV9pZCA8PSAzOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ01hbmFnZXInOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5yb2xlTGlzdCA9IHJvbGVMaXN0LmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5yb2xlX2lkID09IDM7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vaXMgdGhpcyBjcmVhdGluZyBuZXcgbWVtYmVyIG9yIGVkaXRpbmcgZXhpc3Rpbmc/XHJcbiAgICAgICAgICAgIGlmICh0aGlzTWVtYmVyICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy9jaGVjayB0byBzZWUgaWYgdGhlIGFjY3QgVXNlciBpcyB0aGUgc2FtZSBhcyB0aGUgdXNlciB0aGV5IGFyZSBsb29raW5nIGF0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubWF0Y2hpbmdVc2VycyA9IHRoaXNNZW1iZXIubWVtYmVyX2lkID09ICRzY29wZS5sb2dnZWRJblVzZXIuSUQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIgPSBhbmd1bGFyLmNvcHkodGhpc01lbWJlcik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlci5Sb2xlID0gcm9sZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gJHNjb3BlLmFNZW1iZXIucm9sZV9pZDsgfSlbMF0ucm9sZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vcGFzc3dvcmQgdXBkYXRlIHNlY3Rpb25cclxuICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VNeVBhc3NCdG4gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPT09IGZhbHNlID8gJHNjb3BlLmNoYW5nZVBhc3MgPSB0cnVlIDogJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5Eb250Q2hhbmdlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25ldmVybWluZCwgIGNsZWFyIGlucHV0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0gLy9lbmQgZXhpc3RpbmcgbW1lYmVyIGVkaXRcclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL25ldyBtZW1iZXIgYmVpbmcgY3JlYXRlZC4uIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIgPSB7fTtcclxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgb25seSAxIGluIHRoZSByb2xlTGlzdCwgdGhlbiB0aGlzIG1lbWJlciBpcyBhIGZpZWxkIHBlcnNvblxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yb2xlTGlzdC5sZW5ndGggPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlci5yb2xlX2lkID0gJHNjb3BlLnJvbGVMaXN0WzBdLnJvbGVfaWQ7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFNZW1iZXIucGFzc3dvcmQgPSBidG9hKCRzY29wZS5wYXNzLmNvbmZpcm1QKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE1lbWJlciA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIE1FTUJFUi5zYXZlKCRzY29wZS5hTWVtYmVyLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCB0aGlzIG5ldyBtZW1iZXIgaW50byB0aGUgbWVtYmVyTGlzdCAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkTWVtYmVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZyA9ICRzY29wZS5hZ2VuY3lMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gcmVzcG9uc2UuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gcm9sZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gcmVzcG9uc2Uucm9sZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRNZW1iZXIuQWdlbmN5ID0gYWcuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRNZW1iZXIuUm9sZSA9IHJvLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUubWVtYmVyTGlzdC5wdXNoKG5tKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkTWVtYmVyLCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07IC8vIGVuZCBjcmVhdGUoKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZE1lbWJlciA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYU1lbWJlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBwYXNzIGFsb25nIHRoZSBwYXNzd29yZCBpZiB0aGV5IGNoYW5nZWQgaXRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhc3MubmV3UCAhPT0gXCJcIikgZm9ybWF0dGVkTWVtYmVyLnBhc3N3b3JkID0gYnRvYSgkc2NvcGUucGFzcy5uZXdQKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXR0ZWRNZW1iZXIucGFzc3dvcmQ7IGRlbGV0ZSBmb3JtYXR0ZWRNZW1iZXIuc2FsdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZWRNZW1iZXIgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgRGF0ZS5wcm90b3R5cGUuYWRkSG91cnMgPSBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEhvdXJzKHRoaXMuZ2V0SG91cnMoKSArIGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmb3JtYXR0ZWRNZW1iZXIuUm9sZTsgZGVsZXRlIGZvcm1hdHRlZE1lbWJlci5BZ2VuY3k7XHJcbiAgICAgICAgICAgICAgICAgICAgTUVNQkVSLnVwZGF0ZSh7IGlkOiBmb3JtYXR0ZWRNZW1iZXIubWVtYmVyX2lkIH0sIGZvcm1hdHRlZE1lbWJlciwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkTWVtYmVyID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZyA9ICRzY29wZS5hZ2VuY3lMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gcmVzcG9uc2UuYWdlbmN5X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gcm9sZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gcmVzcG9uc2Uucm9sZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRNZW1iZXIuQWdlbmN5ID0gYWcuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRNZW1iZXIuUm9sZSA9IHJvLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgdGhpcyBpcyB0aGUgbWVtYmVyIGxvZ2dlZCBpbiBhbmQgdGhleSBjaGFuZ2VkIHRoZWlyIHBhc3N3b3JkIGFuZCB1cGRhdGUgdGhlIGNvb2tpZXMgaWYgc29cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5sb2dnZWRJblVzZXIuSUQgPT0gcmVzcG9uc2UubWVtYmVyX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnBhc3MubmV3UCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZXkgY2hhbmdlZCB0aGVpciBwYXNzd29yZCAvLyBubyB3YXkgdG8gZG8gdGhpcyBpZiB0aGV5IG9ubHkgY2hhbmdlIHRoZWlyIHVzZXJuYW1lIGFuZCBub3QgdGhlaXIgcGFzc3dvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW5jID0gYnRvYSh1cGRhdGVkTWVtYmVyLnVzZXJuYW1lLmNvbmNhdChcIjpcIiwgJHNjb3BlLnBhc3MubmV3UCkpOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwaXJlRGF0ZSA9IG5ldyBEYXRlKCkuYWRkSG91cnMoOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5DcmVkcycsIGVuYywgeyBleHBpcmVzOiBleHBpcmVEYXRlIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1NUTlVzZXJuYW1lJywgdXBkYXRlZE1lbWJlci51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcnNOQU1FID0gdXBkYXRlZE1lbWJlci5mbmFtZSArIFwiIFwiICsgdXBkYXRlZE1lbWJlci5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNOYW1lJywgdXNlcnNOQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIk1lbWJlciBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIG1lbWJlcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbdXBkYXRlZE1lbWJlciwgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcG9wdWxhdGUgYWxsIHJlcXVpcmVkIGZpZWxkcy48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBTYXZlXHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gREVMRVRFIE1lbWJlciBjbGlja1xyXG4gICAgICAgICAgICAkc2NvcGUuRGVsZXRlTWVtYmVyID0gZnVuY3Rpb24gKG1lbSkge1xyXG4gICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTWVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKG1lbVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIE1FTUJFUi5kZWxldGVNZW1iZXIoeyBpZDogbWVtVG9SZW1vdmUubWVtYmVyX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNZW1iZXIgRGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgbWVtYmVyOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKFtcImRlXCIsICdkZWxldGVkJ10pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gREVMRVRFIE1lbWJlciBjbGlja1xyXG4gICAgICAgICAgICAvL2NhbmNlbCBtb2RhbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB7IHNob3dMb2FkaW5nOiBmYWxzZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICB9XSk7XHJcbn0oKSk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU2V0dGluZ3NDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTZXR0aW5nc0NvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU2V0dGluZ3NDb250cm9sbGVycy5jb250cm9sbGVyKCdtZW1iZXJJbmZvQ3RybCcsIFsnJHNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckdWliTW9kYWwnLCAnJHN0YXRlUGFyYW1zJywgJyRmaWx0ZXInLCAnJHNjZScsICdhbGxSb2xlcycsICdNRU1CRVInLCAndGhpc01lbWJlcicsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsICRzdGF0ZVBhcmFtcywgJGZpbHRlciwgJHNjZSwgYWxsUm9sZXMsIE1FTUJFUiwgdGhpc01lbWJlcikge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy9hbGwgdGhpbmdzIGJvdGggbmV3IGFuZCBleGlzdGluZyBtZW1iZXIgcGFnZSB3aWxsIG5lZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0ge307IC8vaG9sZGVyIGZvciBtZW1iZXIgKGVpdGhlciBjb21pbmcgaW4gZm9yIGVkaXQsIG9yIGJlaW5nIGNyZWF0ZWQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXRjaGluZ1VzZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS51c2VybmFtZVRvb2x0aXAgPSAkc2NlLnRydXN0QXNIdG1sKCdBY3RpdmUgRGlyZWN0b3J5IHVzZXIgSUQuIGllOiBcXCdtcGVwcGxlclxcJyBub3QgXFwnbXBlcHBsZXJAdXNncy5nb3ZcXCcuJyk7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gREVMRVRFIE1lbWJlciBjbGlja1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRlbGV0ZU1lbWJlciA9IGZ1bmN0aW9uIChtZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTWVtYmVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChuYW1lVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy95ZXMsIHJlbW92ZSB0aGlzIGtleXdvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vREVMRVRFIGl0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5kZWxldGVNZW1iZXIoeyBpZDogbmFtZVRvUmVtb3ZlLm1lbWJlcl9pZCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVsTWVtID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxNZW0ubWVtYmVyX2lkID0gbmFtZVRvUmVtb3ZlLm1lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbE1lbS5OYW1lID0gbmFtZVRvUmVtb3ZlLmZuYW1lICsgXCIgXCIgKyBuYW1lVG9SZW1vdmUubG5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IG5hbWVUb1JlbW92ZS5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gYWxsUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gbmFtZVRvUmVtb3ZlLnJvbGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTWVtLkFnZW5jeSA9IGFnLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsTWVtLlJvbGUgPSByby5yb2xlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdC5zcGxpY2UoJHNjb3BlLm1lbWJlckxpc3QuaW5kZXhPZihkZWxNZW0pLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTWVtYmVyIERlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9NZW1iZXJzL01lbWJlcnNMaXN0JykucmVwbGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBERUxFVEUgTWVtYmVyIGNsaWNrXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnBhc3MgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3UDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlybVA6ICcnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5ld1Bhc3MgPSBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vaXMgdGhpcyBjcmVhdGluZyBuZXcgbWVtYmVyIG9yIGVkaXRpbmcgZXhpc3Rpbmc/XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc01lbWJlciAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgdG8gc2VlIGlmIHRoZSBhY2N0IFVzZXIgaXMgdGhlIHNhbWUgYXMgdGhlIHVzZXIgdGhleSBhcmUgbG9va2luZyBhdFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXRjaGluZ1VzZXJzID0gJHN0YXRlUGFyYW1zLmlkID09ICRzY29wZS5sb2dnZWRJblVzZXIuSUQgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hTWVtYmVyID0gdGhpc01lbWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU1lbWJlci5Sb2xlID0gYWxsUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gJHNjb3BlLmFNZW1iZXIucm9sZV9pZDsgfSlbMF0ucm9sZV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hhbmdlIHRvIHRoZSB1c2VyIG1hZGUsIHB1dCBpdCAuLiBmaXJlZCBvbiBlYWNoIGJsdXIgYWZ0ZXIgY2hhbmdlIG1hZGUgdG8gZmllbGRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2F2ZU9uQmx1ciA9IGZ1bmN0aW9uICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Vuc3VyZSB0aGV5IGRvbid0IGRlbGV0ZSByZXF1aXJlZCBmaWVsZCB2YWx1ZXMgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi51cGRhdGUoeyBpZDogJHNjb3BlLmFNZW1iZXIubWVtYmVyX2lkIH0sICRzY29wZS5hTWVtYmVyLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNZW1iZXIgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCByZXF1aXJlZCBmaWVsZHMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjpbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7ICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9Oy8vZW5kIFNhdmVPbkJsdXJcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9wYXNzd29yZCB1cGRhdGUgc2VjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VNeVBhc3NCdG4gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jaGFuZ2VQYXNzID09PSBmYWxzZSA/ICRzY29wZS5jaGFuZ2VQYXNzID0gdHJ1ZSA6ICRzY29wZS5jaGFuZ2VQYXNzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkNoYW5nZVBhc3N3b3JkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSBVc2VyJ3MgcGFzc3dvcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wYXNzLm5ld1AgPT09IFwiXCIgfHwgJHNjb3BlLnBhc3MuY29uZmlybVAgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgbXVzdCBmaXJzdCBlbnRlciBhIG5ldyBwYXNzd29yZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOlsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1FTUJFUi5jaGFuZ2VQVyh7IHVzZXJuYW1lOiAkc2NvcGUuYU1lbWJlci51c2VybmFtZSwgbmV3UGFzczogJHNjb3BlLnBhc3MubmV3UCB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJQYXNzd29yZCBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBjcmVkcyBPTkxZIElGIHVzZXIgbG9nZ2VkIGluIGlzID09IHRoaXMgdXBkYXRpbmcgbWVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYU1lbWJlci5tZW1iZXJfaWQgPT0gJHNjb3BlLmxvZ2dlZEluVXNlci5tZW1iZXJfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmMgPSBidG9hKCRzY29wZS5hTWVtYmVyLnVzZXJuYW1lLmNvbmNhdChcIjpcIiwgJHNjb3BlLnBhc3MubmV3UCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdTVE5DcmVkcycsIGVuYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1NUTlVzZXJuYW1lJywgJHNjb3BlLmFNZW1iZXIudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCd1c2Vyc05hbWUnLCAkc2NvcGUubG9nZ2VkSW5Vc2VyLk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCdtSUQnLCAkc2NvcGUuYU1lbWJlci5tZW1iZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvbGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICgkc2NvcGUuYU1lbWJlci5yb2xlX2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQWRtaW5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJGaWVsZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJQdWJsaWNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkNpdGl6ZW5NYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvb2tpZXMucHV0KCd1c2Vyc1JvbGUnLCByb2xlTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNoYW5nZVBhc3MgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhc3MubmV3UCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGFzcy5jb25maXJtUCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJFcnJvcjogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9OyAvL2VuZCBDaGFuZ2VQYXNzd29yZCgpXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Eb250Q2hhbmdlUGFzcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9uZXZlcm1pbmQsICBjbGVhciBpbnB1dFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hhbmdlUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IC8vZW5kIG9mICRzdGF0ZVBhcmFtcyA+IDAgKGV4aXN0aW5nKVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbmV3IG1lbWJlciBiZWluZyBjcmVhdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgTUVNQkVSLmFkZE1lbWJlcih7IHBhc3M6ICRzY29wZS5wYXNzLmNvbmZpcm1QIH0sICRzY29wZS5hTWVtYmVyLCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJNZW1iZXIgQ3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3B1c2ggdGhpcyBuZXcgbWVtYmVyIGludG8gdGhlIG1lbWJlckxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm0gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBubS5tZW1iZXJfaWQgPSByZXNwb25zZS5tZW1iZXJfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm0uTmFtZSA9IHJlc3BvbnNlLmZuYW1lICsgXCIgXCIgKyByZXNwb25zZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWcgPSAkc2NvcGUuYWdlbmN5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09IHJlc3BvbnNlLmFnZW5jeV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvID0gYWxsUm9sZXMuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLnJvbGVfaWQgPT0gcmVzcG9uc2Uucm9sZV9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm0uQWdlbmN5ID0gYWcuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm0uUm9sZSA9IHJvLnJvbGVfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdC5wdXNoKG5tKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvTWVtYmVycy9NZW1iZXJzTGlzdCcpLnJlcGxhY2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH07IC8vIGVuZCBzYXZlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ21lbWJlckN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdNRU1CRVInLCAnYWxsUm9sZXMnLCAnYWxsQWdlbmNpZXMnLCAndXNlclByb2ZpbGVJZCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJGh0dHAsICRmaWx0ZXIsICR1aWJNb2RhbCwgTUVNQkVSLCBhbGxSb2xlcywgYWxsQWdlbmNpZXMsIHVzZXJQcm9maWxlSWQpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vYWxsIHRoaW5ncyBib3RoIG5ldyBhbmQgZXhpc3RpbmcgbWVtYmVyIHBhZ2Ugd2lsbCBuZWVkXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJTZXR0aW5ncy9NZW1iZXJzXCI7XHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlL3ZpZXcgbWVtYmVyIHdhcyBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd01lbWJlck1vZGFsID0gZnVuY3Rpb24gKG1lbWJlckNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLm1lbWJlckxpc3QuaW5kZXhPZihtZW1iZXJDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogdHJ1ZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnbWVtYmVyTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdtZW1iZXJNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc01lbWJlcjogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtZW1iZXJDbGlja2VkICE9PSAwID8gbWVtYmVyQ2xpY2tlZCA6IFwiZW1wdHlcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbEFnZW5jaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbFJvbGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoY3JlYXRlZE1lbWJlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZXJlIGEgbmV3IG9wIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB7IHNob3dMb2FkaW5nOiBmYWxzZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRNZW1iZXIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRNZW1iZXJbMV0gPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1lbWJlckxpc3QucHVzaChjcmVhdGVkTWVtYmVyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkTWVtYmVyWzFdID09PSAndXBkYXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJMaXN0W2luZGV4Q2xpY2tlZF0gPSBjcmVhdGVkTWVtYmVyWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRNZW1iZXJbMV0gPT0gJ2RlbGV0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdmFyIGluZGV4Q2xpY2tlZDEgPSAkc2NvcGUubWVtYmVyTGlzdC5pbmRleE9mKGNyZWF0ZWRNZW1iZXJbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJMaXN0LnNwbGljZShpbmRleENsaWNrZWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeUxpc3QgPSBhbGxBZ2VuY2llcztcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tZW1iZXJMaXN0ID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCByZXNwb25zZS5sZW5ndGg7IHgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWFjaE0gPSByZXNwb25zZVt4XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFnID0gJHNjb3BlLmFnZW5jeUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSByZXNwb25zZVt4XS5hZ2VuY3lfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm8gPSBhbGxSb2xlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIucm9sZV9pZCA9PSByZXNwb25zZVt4XS5yb2xlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWFjaE0uQWdlbmN5ID0gYWcuYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hNLlJvbGUgPSByby5yb2xlX25hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWVtYmVyTGlzdC5wdXNoKGVhY2hNKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBzb21lb25lIGNsaWNrZWQgb24gdGhlaXIgbmFtZSBpbiB0aGUgdXBwZXIgcmlnaHQgY29ybmVyLCBjb21lIGluIGFuZCBzdHJhaWdodCBhd2F5IG9wZW4gbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXNlclByb2ZpbGVJZCAhPT0gdW5kZWZpbmVkICYmIHVzZXJQcm9maWxlSWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTUVNQkVSLnF1ZXJ5KHsgaWQ6IHVzZXJQcm9maWxlSWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNZW1iZXJNb2RhbChyZXNwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXI6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBtZW1iZXJzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBiZHJhcGVyIG9uIDMvOS8yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcFNpdGVJbmZvQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJ1NJVEUnLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdsZWFmbGV0Qm91bmRzSGVscGVycycsICckc3RhdGUnLCAnc3Bpbm5lclNlcnZpY2UnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCBTSVRFLCAgbGVhZmxldE1hcmtlckV2ZW50cywgbGVhZmxldEJvdW5kc0hlbHBlcnMsICRzdGF0ZSwgc3Bpbm5lclNlcnZpY2UpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgc2l0ZU9wZW46IHRydWUgfTsgLy9hY2NvcmRpb24gZm9yIHNpdGVJbmZvXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdtYXBTaXRlQ2xpY2tSZXN1bHRzJywgZnVuY3Rpb24gKGV2ZW50LCBzaXRlUGFydHMpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZSA9IHNpdGVQYXJ0c1swXTtcclxuICAgICAgICAgICAgICAgIC8vb25seSA2IGRlY2ltYWwgcGxhY2VzIGZvciBsYXQvbG9uZ1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5sYXRpdHVkZV9kZCA9IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZCA9IHBhcnNlRmxvYXQoJHNjb3BlLmFTaXRlLmxvbmdpdHVkZV9kZC50b0ZpeGVkKDYpKTtcclxuICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJzaXRlSW5mb1NwaW5uZXJcIik7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmdvVG9TaXRlRGFzaGJvYXJkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdzaXRlLmRhc2hib2FyZCcsIHsgaWQ6ICRzY29wZS5hU2l0ZS5zaXRlX2lkIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyIGZ1bmN0aW9uXHJcbn0pKCk7XHJcbiIsIi8qKlxyXG4gKiBDcmVhdGVkIGJ5IGJkcmFwZXIgb24gMy85LzIwMTYuXHJcbiAqL1xyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignTWFwU2Vuc29yUHJvcG9zZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICdTSVRFJywgJ0lOU1RSVU1FTlQnLCAnSU5TVFJVTUVOVF9TVEFUVVMnLCAnYWxsRGVwbG95VHlwZXMnLCAnYWxsU2Vuc0RlcHMnLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdsZWFmbGV0Qm91bmRzSGVscGVycycsICckc3RhdGUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRodHRwLCAkdGltZW91dCwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgU0lURSwgSU5TVFJVTUVOVCwgSU5TVFJVTUVOVF9TVEFUVVMsIGFsbERlcGxveVR5cGVzLCBhbGxTZW5zRGVwcywgbGVhZmxldE1hcmtlckV2ZW50cywgbGVhZmxldEJvdW5kc0hlbHBlcnMsICRzdGF0ZSkge1xyXG4gICAgICAgICAgICAvL3doZW4gYSBzaXRlIGlzICBjbGlja2VkLCB0aGlzIHdpbGwgYmUgdHJpZ2dlcmVkIGZyb20gc2VydmljZSB0byBsZXQgdGhpcyBjb250cm9sbGVyIGtub3cgYWJvdXQgaXRcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ21hcFNpdGVDbGlja1Jlc3VsdHMnLCBmdW5jdGlvbiAoZXZlbnQsIHNpdGVQYXJ0cykge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnRoaXNTaXRlID0gc2l0ZVBhcnRzWzBdOyAvL2hlcmUncyB0aGUgc2l0ZSB0aGV5IGNsaWNrZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMuc2Vuc29yT3BlbiA9IGZhbHNlOyAvL21ha2Ugc3VyZSB0aGUgcHJvcG9zZWQgc2Vuc29yIGFjY29yZGlvbiBpcyBjbG9zZWQgc28gdGhleSBoYXZlIHRvIG9wZW4gYW5kIHRyaWdnZXIgdGhlIGdldFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlByb3Bvc2VkU2Vuc29yczRTaXRlID0gW107IC8vbWFrZSBzdXJlIHRoaXMgaXMgY2xlYXIgaW4gY2FzZSB0aGV5IGFyZSBjbGlja2luZyBvbiBvbmUgc2l0ZSBhZnRlciBhbm90aGVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb3Bvc2VkID0gZmFsc2U7IC8vaGlkZSB0aGUgcHJvcG9zZWQgc2Vuc29yIHR5cGUgbGlzdCBpbml0aWFsbHlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vYWxsIGRlcGxveW1lbnQgdHlwZXNcclxuICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0ID0gYW5ndWxhci5jb3B5KGFsbERlcGxveVR5cGVzKTtcclxuICAgICAgICAgICAgdmFyIHRlbXBEZXBUeXBlSUQgPSAwO1xyXG5cclxuICAgICAgICAgICAgLy9maXggZGVwbG95bWVudCB0eXBlcyBzbyB0aGF0IFwiVGVtcGVyYXR1cmVcIiBiZWNvbWVzIDIgOiBUZW1wZXJhdHVyZSAoTWV0IHNlbnNvciktU2Vuc29yVHlwZToyIGFuZCBUZW1wZXJhdHVyZSAocHJlc3N1cmUgdHJhbnNkdWNlciktU2Vuc29yVHlwZToxIC0tIGp1c3QgZm9yIHByb3Bvc2VkXHJcbiAgICAgICAgICAgIGZvciAodmFyIGQgPSAwOyBkIDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZCsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RdLm1ldGhvZCA9PT0gXCJUZW1wZXJhdHVyZVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcERlcFR5cGVJRCA9ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkXS5kZXBsb3ltZW50X3R5cGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RdLm1ldGhvZCA9IFwiVGVtcGVyYXR1cmUgKE1ldCBzZW5zb3IpXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0LnB1c2goeyBkZXBsb3ltZW50X3R5cGVfaWQ6IHRlbXBEZXBUeXBlSUQsIG1ldGhvZDogXCJUZW1wZXJhdHVyZSAoUHJlc3N1cmUgVHJhbnNkdWNlcilcIiB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vcHJvcG9zZWQgc2Vuc29ycyBhY2NvcmRpb24gd2FzIG9wZW5lZCwgZ28gZ2V0IHRoZW1cclxuICAgICAgICAgICAgJHNjb3BlLmdldFByb3Bvc2VkU2Vuc29ycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZVNlbnNvcnMoeyBpZDogJHNjb3BlLnRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc1Jlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9uZWVkIHRvIG1ha2Ugc3VyZSB0aGUgaW5zdHJ1bWVudF9zdGF0dXNlcyBhcmUgaW4gdGhlIGNvcnJlY3Qgb3JkZXIgKFswXVJldHJpZXZlZCwgWzFdRGVwbG95ZWQsIFsyXVByb3Bvc2VkICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgc1Jlc3BvbnNlLmxlbmd0aDsgcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3JyZWN0T3JkZXJTUyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vuc29yU3RhdHVzZXMgPSBzUmVzcG9uc2Vbc10uaW5zdHJ1bWVudF9zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZW5zb3JTdGF0dXNlcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBhYm91dCBvcmRlciBpZiB0aGVyZSdzIG1vcmUgdGhhbiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvcG9zZWRTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiUHJvcG9zZWRcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVwbG95ZWRTdGF0ID0gc2Vuc29yU3RhdHVzZXMuZmlsdGVyKGZ1bmN0aW9uIChwcykgeyByZXR1cm4gcHMuc3RhdHVzID09IFwiRGVwbG95ZWRcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmV0TG9zdFN0YXQgPSBzZW5zb3JTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHBzKSB7IHJldHVybiBwcy5zdGF0dXMgPT0gXCJSZXRyaWV2ZWRcIiB8fCBwcy5zdGF0dXMgPT0gXCJMb3N0XCI7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgYWRkIHRoZW0gYmFjayBpbiBjb3JyZWN0bHkgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmV0TG9zdFN0YXQpIGNvcnJlY3RPcmRlclNTLnB1c2gocmV0TG9zdFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlcGxveWVkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChkZXBsb3llZFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb3Bvc2VkU3RhdCkgY29ycmVjdE9yZGVyU1MucHVzaChwcm9wb3NlZFN0YXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVjdE9yZGVyU1MucHVzaChzZW5zb3JTdGF0dXNlc1swXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcHV0IGl0IGJhY2sgaW4gdGhlIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzUmVzcG9uc2Vbc10uaW5zdHJ1bWVudF9zdGF0dXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc1Jlc3BvbnNlW3NdLmluc3RydW1lbnRfc3RhdHVzID0gY29ycmVjdE9yZGVyU1M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5Qcm9wb3NlZFNlbnNvcnM0U2l0ZSA9IHNSZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKHNzKSB7IHJldHVybiBzcy5pbnN0cnVtZW50X3N0YXR1c1swXS5zdGF0dXNfdHlwZV9pZCA9PSA0OyB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgc2Vuc29yczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHNlbnNvcnM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9hbGwgc2Vuc29yIGRlcGxveW1lbnRzIChyZWxhdGlvbnNoaXAgdGFibGUpXHJcbiAgICAgICAgICAgICRzY29wZS5zZW5zRGVwVHlwZXMgPSBhbGxTZW5zRGVwcztcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlOyAvL3RoZXkgd2FudCB0byBhZGQgYSBwcm9wb3NlZCBzZW5zb3IsIG9wZW4gb3B0aW9ucyAoYm9vbGVhbiB0b2dnbGUpXHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNlbnNvck9wZW46IGZhbHNlIH07IC8vYWNjb3JkaW9uIG9wZW4gb3IgY2xvc2VkXHJcbiAgICAgICAgICAgIC8vc2hvdy9oaWRlIHByb3Bvc2VkIHNlbnNvcnMgdG8gYWRkXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SGlkZVByb3Bvc2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9ICEkc2NvcGUuc2hvd1Byb3Bvc2VkO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWwgcHJvcG9zaW5nIGEgc2Vuc29yLCBjbG9zZSB0aGUgbGlzdFxyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsUHJvcG9zaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FkZCB0aGVzZSBjaGVja2VkIFByb3Bvc2VkIHNlbnNvcnMgdG8gdGhpcyBzaXRlXHJcbiAgICAgICAgICAgICRzY29wZS5BZGRQcm9wb3NlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBUaW1lX1NUQU1QID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGR0ID0gMDsgZHQgPCAkc2NvcGUuZGVwbG95VHlwZUxpc3QubGVuZ3RoOyBkdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uc2VsZWN0ZWQgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3Bvc2VkVG9BZGQgPSB7fTsgdmFyIHByb3BTdGF0VG9BZGQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLm1ldGhvZC5zdWJzdHJpbmcoMCwgNCkgPT0gXCJUZW1wXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGVtcGVyYXR1cmUgcHJvcG9zZWQgc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wb3NlZFRvQWRkID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50X2lkOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2Rlc2NyaXB0aW9uOiBcIlByb3Bvc2VkIHNlbnNvciBhdCB0aGlzIHNpdGUuIENoYW5nZSBkZXNjcmlwdGlvbiB3aGVuIGRlcGxveWluZyBzZW5zb3IuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudF90eXBlX2lkOiAkc2NvcGUuZGVwbG95VHlwZUxpc3RbZHRdLmRlcGxveW1lbnRfdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUudGhpc1NpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JfdHlwZV9pZDogJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5tZXRob2QgPT0gXCJUZW1wZXJhdHVyZSAoUHJlc3N1cmUgVHJhbnNkdWNlcilcIiA/IDEgOiAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ28gdGhyb3VnaCB0aGUgbmV3IGZ1bGxJbnN0cnVtZW50IGFuZCBzZWUgaWYgYW55IG9mIHRoZSBzZW5zb3IncyBkZXBsb3ltZW50dHlwZXMgYXJlIHRoaXMgZGVwbG95bWVudCB0eXBlIHRvIHNldCB0aGUgc2Vuc29yX3R5cGVfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5zZW5zRGVwVHlwZXMsIGZ1bmN0aW9uIChzZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHNkdC5kZXBsb3ltZW50dHlwZXMubGVuZ3RoOyB4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNkdC5kZXBsb3ltZW50dHlwZXNbeF0uZGVwbG95bWVudF90eXBlX2lkID09ICRzY29wZS5kZXBsb3lUeXBlTGlzdFtkdF0uZGVwbG95bWVudF90eXBlX2lkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc0lEID0gc2R0LnNlbnNvcl90eXBlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9hbnkgb3RoZXIgdHlwZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcG9zZWRUb0FkZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9kZXNjcmlwdGlvbjogXCJQcm9wb3NlZCBzZW5zb3IgYXQgdGhpcyBzaXRlLiBDaGFuZ2UgZGVzY3JpcHRpb24gd2hlbiBkZXBsb3lpbmcgc2Vuc29yLlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogJHNjb3BlLmRlcGxveVR5cGVMaXN0W2R0XS5kZXBsb3ltZW50X3R5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNTaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6IHNJRFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdyBwb3N0IGl0IChJbnN0cnVtZW50IGZpcnN0LCB0aGVuIEluc3RydW1lbnQgU3RhdHVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdHJ1bWVudElEID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5zYXZlKHByb3Bvc2VkVG9BZGQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50SUQgPSByZXNwb25zZS5pbnN0cnVtZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRQcm9wU2Vuc29yID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRfdHlwZV9pZDogcmVzcG9uc2UuZGVwbG95bWVudF90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IHJlc3BvbnNlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc29yX3R5cGVfaWQ6IHJlc3BvbnNlLnNlbnNvcl90eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluc3RydW1lbnRfaWQ6IHJlc3BvbnNlLmluc3RydW1lbnRfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwbG95bWVudFR5cGU6ICRzY29wZS5kZXBsb3lUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGR0bCkgeyByZXR1cm4gZHRsLmRlcGxveW1lbnRfdHlwZV9pZCA9PSByZXNwb25zZS5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdLm1ldGhvZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JUeXBlOiAkc2NvcGUuc2Vuc0RlcFR5cGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZW5zb3JfdHlwZV9pZCA9PSByZXNwb25zZS5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcFN0YXRUb0FkZCA9IHsgaW5zdHJ1bWVudF9pZDogcmVzcG9uc2UuaW5zdHJ1bWVudF9pZCwgc3RhdHVzX3R5cGVfaWQ6IDQsIG1lbWJlcl9pZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSwgdGltZV9zdGFtcDogVGltZV9TVEFNUCwgdGltZV96b25lOiAnVVRDJywgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlKHByb3BTdGF0VG9BZGQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHN0YXRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BTdGF0VG9BZGQuc3RhdHVzID0gJ1Byb3Bvc2VkJzsgcHJvcFN0YXRUb0FkZC5pbnN0cnVtZW50X3N0YXR1c19pZCA9IHN0YXRSZXNwb25zZS5pbnN0cnVtZW50X3N0YXR1c19pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkUHJvcFNlbnNvci5pbnN0cnVtZW50X3N0YXR1cyA9IFtwcm9wU3RhdFRvQWRkXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuUHJvcG9zZWRTZW5zb3JzNFNpdGUucHVzaChjcmVhdGVkUHJvcFNlbnNvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYW4gdXAgLi4uYWxsIHVuY2hlY2tlZCBhbmQgdGhlbiBoaWRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZGVwID0gMDsgZGVwIDwgJHNjb3BlLmRlcGxveVR5cGVMaXN0Lmxlbmd0aDsgZGVwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRlcGxveVR5cGVMaXN0W2RlcF0uc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBhbnl0aGluZyB5b3Ugd2FudCBjYW4gZ28gaGVyZSBhbmQgd2lsbCBzYWZlbHkgYmUgcnVuIG9uIHRoZSBuZXh0IGRpZ2VzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9wb3NlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIlByb3Bvc2VkIHNlbnNvciBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgc3RhdHVzIGZhaWxzLCBkZWxldGUgdGhlIGluc3RydW1lbnQgdG9vXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSU5TVFJVTUVOVC5kZWxldGUoeyBpZDogaW5zdHJ1bWVudElEIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuZGVwbG95VHlwZUxpc3QsIGZ1bmN0aW9uIChkdCkgeyBkdC5zZWxlY3RlZCA9IGZhbHNlOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgcHJvcG9zZWQgc2Vuc29yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBJTlNUUlVNRU5UX1NUQVRVUy5zYXZlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHByb3Bvc2VkIHNlbnNvcjogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBwcm9wb3NlZCBzZW5zb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7IC8vZW5kIElOU1RSVU1FTlQuc2F2ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzZWxlY3RlZCA9PSB0cnVlXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgZm9yZWFjaCBkZXBsb3lUeXBlTGlzdFxyXG4gICAgICAgICAgICB9Oy8vZW5kIEFkZFByb3Bvc2VkKClcclxuXHJcbiAgICAgICAgfV0pOy8vZW5kIGNvbnRyb2xsZXIgZnVuY3Rpb25cclxufSkoKTsiLCIvKipcclxuICogQ3JlYXRlZCBieSBiZHJhcGVyIG9uIDMvOS8yMDE2LlxyXG4gKi9cclxuKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcFBlYWtzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnbGVhZmxldEJvdW5kc0hlbHBlcnMnLCAnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkaHR0cCwgJGNvb2tpZXMsICRsb2NhdGlvbiwgbGVhZmxldE1hcmtlckV2ZW50cywgbGVhZmxldEJvdW5kc0hlbHBlcnMsICRzdGF0ZSkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRvbignbWFwU2l0ZUNsaWNrUmVzdWx0cycsIGZ1bmN0aW9uIChldmVudCwgc2l0ZVBhcnRzKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZVBlYWtzID0gW107XHJcbiAgICAgICAgICAgICAgICB2YXIgYWxsU2l0ZVBlYWtzID0gc2l0ZVBhcnRzWzFdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBhbGxTaXRlUGVha3MubGVuZ3RoOyBwKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWxsU2l0ZVBlYWtzW3BdLmV2ZW50X25hbWUgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha3MucHVzaChhbGxTaXRlUGVha3NbcF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQZWFrcyA9IHRydWU7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dQZWFrcyA9IGZhbHNlO1xyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyIGZ1bmN0aW9uXHJcbn0pKCk7IiwiLyoqXHJcbiAqIENyZWF0ZWQgYnkgYmRyYXBlciBvbiA0LzcvMjAxNi5cclxuICovXHJcbihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdNYXBGaWx0ZXJzQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJ1NJVEUnLCAnRVZFTlQnLCAnTWFwX0ZpbHRlcicsICckc3RhdGUnLCAnc3RhdGVMaXN0JywgJ3NlbnNvclR5cGVzJywgJ25ldHdvcmtOYW1lcycsICdzcGlubmVyU2VydmljZScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJGh0dHAsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sIFNJVEUsIEVWRU5ULCBNYXBfRmlsdGVyLCAkc3RhdGUsIHN0YXRlTGlzdCwgc2Vuc29yVHlwZXMsIG5ldHdvcmtOYW1lcywgc3Bpbm5lclNlcnZpY2UpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgc2l0ZU9wZW46IHRydWUgfTsgLy9hY2NvcmRpb24gZm9yIHNpdGVJbmZvXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VuVHlwZXMgPSBzZW5zb3JUeXBlcztcclxuICAgICAgICAgICAgJHNjb3BlLm5ldE5hbWVzID0gbmV0d29ya05hbWVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuc3VydmV5T3B0aW9ucyA9IFt7IGlkOiB0cnVlLCB2YWx1ZTogXCJTdXJ2ZXllZCBIV01zXCIgfSwgeyBpZDogZmFsc2UsIHZhbHVlOiBcIlVuc3VydmV5ZWQgSFdNc1wiIH1dO1xyXG4gICAgICAgICAgICAkc2NvcGUuQ2hvc2VuID0ge1xyXG4gICAgICAgICAgICAgICAgbmV0d29yazogbnVsbCxcclxuICAgICAgICAgICAgICAgIHNlbnNvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgIHN1cnZleTogbnVsbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcyA9IFtdOyAvL3VzZWQgdG8gam9pbiBlYWNoIGFiYnJldiB0byBwYXNzIHRvIGNhbGxcclxuICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50U2l0ZXNPbmx5OiAnMScsXHJcbiAgICAgICAgICAgICAgICBod21Pbmx5OiAnMCcsXHJcbiAgICAgICAgICAgICAgICBzZW5Pbmx5OiAnMCcsXHJcbiAgICAgICAgICAgICAgICByZGdPbmx5OiAnMCcsXHJcbiAgICAgICAgICAgICAgICBvcERlZmluZWQ6ICcwJ1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLnNlYXJjaFNpdGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8kcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAvL3N0b3JlIHNlYXJjaCBpbiBjYXNlIHRoZXkgbGVhdmUgYW5kIGNsaWNrIGJhY2tcclxuICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jaGVja2JveE1vZGVsLmV2ZW50U2l0ZXNPbmx5ID09PSBcIjFcIiAmJiAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlU3RyaW5nID0gJHNjb3BlLmNob3NlblN0YXRlcy5qb2luKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVSZXNwb25zZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldklEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpIDogMDtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlYXJjaFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQ6IGV2SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAkc2NvcGUuY2hvc2VuU3RhdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRGaWx0ZXJlZFNpdGVzKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRXZlbnQ6IGV2SUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXRlOiBzdGF0ZVN0cmluZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yVHlwZTogJHNjb3BlLkNob3Nlbi5zZW5zb3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5ldHdvcmtOYW1lOiAkc2NvcGUuQ2hvc2VuLm5ldHdvcmssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTU9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLmh3bU9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTVN1cnZleWVkOiAkc2NvcGUuQ2hvc2VuLnN1cnZleSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU2Vuc29yT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuc2VuT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgUkRHT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwucmRnT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgT1BEZWZpbmVkOiAkc2NvcGUuY2hlY2tib3hNb2RlbC5vcERlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc2l0ZUxpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5zaXRlUmVzcG9uc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXBfRmlsdGVyLnNldEZpbHRlcmVkU2l0ZXMocmVzcG9uc2UpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgkc2NvcGUuY2hlY2tib3hNb2RlbC5ldmVudFNpdGVzT25seSA9PT0gXCIwXCIgfHwgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9PT0gZmFsc2UpIHtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZVN0cmluZyA9ICRzY29wZS5jaG9zZW5TdGF0ZXMuam9pbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUmVzcG9uc2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUxpc3QgPSBbXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZWFyY2hQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlOiAkc2NvcGUuY2hvc2VuU3RhdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JUeXBlOiAkc2NvcGUuQ2hvc2VuLnNlbnNvcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgTmV0d29ya05hbWU6ICRzY29wZS5DaG9zZW4ubmV0d29yayxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNT25seTogJHNjb3BlLmNoZWNrYm94TW9kZWwuaHdtT25seSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNU3VydmV5ZWQ6ICRzY29wZS5DaG9zZW4uc3VydmV5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTZW5zb3JPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5zZW5Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBSREdPbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5yZGdPbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUERlZmluZWQ6ICRzY29wZS5jaGVja2JveE1vZGVsLm9wRGVmaW5lZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcCA9ICRyb290U2NvcGUuc2VhcmNoUGFyYW1zO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcC5IV01Pbmx5ID09PSBcIjBcIiAmJiBzcC5IV01TdXJ2ZXllZCA9PT0gbnVsbCAmJiBzcC5OZXR3b3JrTmFtZSA9PT0gbnVsbCAmJiBzcC5PUERlZmluZWQgPT09IFwiMFwiICYmIHNwLlJER09ubHkgPT09IFwiMFwiICYmIHNwLlNlbnNvck9ubHkgPT09IFwiMFwiICYmIHNwLlNlbnNvclR5cGUgPT09IG51bGwgJiYgc3Auc3RhdGUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLmhpZGUoXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5wb3NpdGlvbkNsYXNzID0gXCJ0b2FzdC1ib3R0b20tcmlnaHRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXCJQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBzZWFyY2ggcGFyYW1ldGVyLlwiLCBcIk1hcCBGaWx0ZXJzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBTSVRFLmdldEZpbHRlcmVkU2l0ZXMoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTdGF0ZTogc3RhdGVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvclR5cGU6ICRzY29wZS5DaG9zZW4uc2Vuc29yLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBOZXR3b3JrTmFtZTogJHNjb3BlLkNob3Nlbi5uZXR3b3JrLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01Pbmx5OiAkc2NvcGUuY2hlY2tib3hNb2RlbC5od21Pbmx5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIV01TdXJ2ZXllZDogJHNjb3BlLkNob3Nlbi5zdXJ2ZXksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNlbnNvck9ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnNlbk9ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJER09ubHk6ICRzY29wZS5jaGVja2JveE1vZGVsLnJkZ09ubHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QRGVmaW5lZDogJHNjb3BlLmNoZWNrYm94TW9kZWwub3BEZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXBfRmlsdGVyLnNldEZpbHRlcmVkU2l0ZXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgZmlsdGVyZWQgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2VhcmNoU2l0ZXMgY2xpY2sgYWN0aW9uXHJcblxyXG4gICAgICAgICAgICAvL2FkZCBlYWNoIHN0YXRlIHRvIGFuIGFycmF5IHRvIGJlIGpvaW5lZCBpbiB0aGUgR0VUXHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0ZUNsaWNrID0gZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlblN0YXRlcy5wdXNoKGRhdGEuc3RhdGVfYWJicmV2KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNlbGVjdGVkID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmQgPSAkc2NvcGUuY2hvc2VuU3RhdGVzLmluZGV4T2YoZGF0YS5zdGF0ZV9hYmJyZXYpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmQgPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzLnNwbGljZShpbmQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2xlYXIgdGhlIGZpbHRlciBjaG9pY2VzIChzdGFydCBvdmVyKVxyXG4gICAgICAgICAgICAkc2NvcGUuY2xlYXJGaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdyhcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tib3hNb2RlbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBldmVudFNpdGVzT25seTogMSxcclxuICAgICAgICAgICAgICAgICAgICBod21Pbmx5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbk9ubHk6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgcmRnT25seTogMCxcclxuICAgICAgICAgICAgICAgICAgICBvcERlZmluZWQ6IDBcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuU3RhdGVzID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnN0YXRlcywgZnVuY3Rpb24gKHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Quc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmFyIGV2SUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgOiAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVzUHJvbWlzZSA9IEVWRU5ULmdldEV2ZW50U2l0ZXMoeyBpZDogZXZJRCB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgTWFwX0ZpbHRlci5zZXRGaWx0ZXJlZFNpdGVzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvLyAkcm9vdFNjb3BlLiRvbignbWFwU2l0ZUNsaWNrJywgZnVuY3Rpb24gKGV2ZW50LCBzaXRlUGFydHMpIHtcclxuICAgICAgICAgICAgLy8gICAgICRzY29wZS5hU2l0ZSA9IHNpdGVQYXJ0c1swXTtcclxuICAgICAgICAgICAgLy8gICAgIC8vb25seSA2IGRlY2ltYWwgcGxhY2VzIGZvciBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAvLyAgICAgJHNjb3BlLmFTaXRlLmxhdGl0dWRlX2RkID0gcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubGF0aXR1ZGVfZGQudG9GaXhlZCg2KSk7XHJcbiAgICAgICAgICAgIC8vICAgICAkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkID0gcGFyc2VGbG9hdCgkc2NvcGUuYVNpdGUubG9uZ2l0dWRlX2RkLnRvRml4ZWQoNikpO1xyXG4gICAgICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgfV0pOy8vZW5kIGNvbnRyb2xsZXIgZnVuY3Rpb25cclxufSkoKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ01hcENvbnRyb2xsZXInLCBbJyRzY29wZScsICckaHR0cCcsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICdTSVRFJywgJ0VWRU5UJywgJ01hcF9TaXRlJywgJ2xlYWZsZXRNYXJrZXJFdmVudHMnLCAnbGVhZmxldEJvdW5kc0hlbHBlcnMnLCAnbGVhZmxldERhdGEnLCAnJHN0YXRlJywgJ3NwaW5uZXJTZXJ2aWNlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkaHR0cCwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgU0lURSwgRVZFTlQsIE1hcF9TaXRlLCBsZWFmbGV0TWFya2VyRXZlbnRzLCBsZWFmbGV0Qm91bmRzSGVscGVycywgbGVhZmxldERhdGEsICRzdGF0ZSwgc3Bpbm5lclNlcnZpY2UpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudGhpc1BhZ2UgPSBcIk1hcFwiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJtYXBcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tZXNzYWdlID0gXCJNYW55IG9mIHRoZSBzdXBwbGVtZW50YWwgR0lTIGRhdGEgbGF5ZXJzIGZvdW5kIGluIHRoZSBtYXAgYXJlIGZyb20gYSByYW5nZSBvZiBzb3VyY2VzIGFuZCBhcmUgbm90IG1haW50YWluZWQgYnkgV2lNLiBXZSBvZmZlciB0aGVzZSBtYXAgbGF5ZXJzIGFzIGEgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiZGVjaXNpb24gc3VwcG9ydCBzdXBwbGVtZW50IHRvIHRoZSBTVE4gc2l0ZXMgbGF5ZXIsIGJ1dCB3ZSBjYW5ub3QgZ3VhcmFudGVlIHRoZWlyIHBlcmZvcm1hbmNlIGFuZCBhdmFpbGFiaWxpdHkuIE1hbnkgb2YgdGhlc2UgZXh0ZXJuYWxseSBtYWludGFpbmVkIGxheWVycyBhcmUgXCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwibGFyZ2UgZGF0YXNldHMgYW5kIG1heSBsb2FkIHNsb3dseSBkZXBlbmRpbmcgb24gbmV0d29yayBsYXRlbmN5LiBJbiBzb21lIGNhc2VzIHRoZXkgbWF5IGZhaWwgdG8gbG9hZCBlbnRpcmVseSB3aGVuIG5ldHdvcmsgbGF0ZW5jeSBpcyBoaWdoLlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJG9uKCdmaWx0ZXJTaXRlc0NsaWNrJywgZnVuY3Rpb24gKGV2ZW50LCBmaWx0ZXJlZFNpdGVzQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRTaXRlc0FycmF5Lmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hcmtlck51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dFdmVudFNpdGVzKGZpbHRlcmVkU2l0ZXNBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90b2FzdHIub3B0aW9ucyh7XCJwb3NpdGlvbkNsYXNzXCI6IFwidG9hc3QtYm90dG9tLXJpZ2h0XCJ9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMucG9zaXRpb25DbGFzcyA9IFwidG9hc3QtYm90dG9tLXJpZ2h0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci53YXJuaW5nKFwiWW91ciBmaWx0ZXIgcmV0dXJuZWQgbm8gcmVzdWx0cy5cIiwgXCJNYXAgRmlsdGVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RuOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3N0blNpdGVJY29uJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgc3RuR3JheToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblNpemU6IFsxMCwgMTBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5TaXRlR3JheSdcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG5ld1NpdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RpdicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmV3U2l0ZUljb24nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uQW5jaG9yOiBbNSwgNV1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEyLCAxMl0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NlbGVjdGVkSWNvbidcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG53aXM6IEwuZGl2SWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTAsIDEwXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYXJyb3ctdXAnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb25BbmNob3I6IFsxMy41LCAxNy41XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9wdXBBbmNob3I6IFswLCAtMTFdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL2FjdGlvbi5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBsb3dfdGhyZXNob2xkOiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL2xvd190aHJlc2hvbGQucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWFqb3I6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbWFqb3IucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbWlub3I6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbWlub3IucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZXJhdGU6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbW9kZXJhdGUucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbm9fZmxvb2Rpbmc6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbm9fZmxvb2RpbmcucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgbm90X2RlZmluZWQ6IEwuaWNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6ICdpbWFnZXMvbm90X2RlZmluZWQucG5nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9wdXBBbmNob3I6IFsxMCwgMTBdXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgb2JzX25vdF9jdXJyZW50OiBMLmljb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiAnaW1hZ2VzL29ic19ub3RfY3VycmVudC5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgICAgICAgICBvdXRfb2Zfc2VydmljZTogTC5pY29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNvblVybDogJ2ltYWdlcy9vdXRfb2Zfc2VydmljZS5wbmcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3B1cEFuY2hvcjogWzEwLCAxMF1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlcyB0aGUgbWFya2VycyBvbiB0aGUgbWFwIGFmdGVyIGdldHRpbmcgSlNPTiBmcm9tIFNUTiB3ZWIgc2VydmljZXMgY2FsbFxyXG4gICAgICAgICAgICAgICAgdmFyIHNob3dFdmVudFNpdGVzID0gZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVzQXJyYXkgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXMgPSBzaXRlc0FycmF5O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLy8vL2NvbnRyb2xzIG1ldGhvZC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXREaXJlY3RpdmVDb250cm9scygpLnRoZW4oZnVuY3Rpb24gKGNvbnRyb2xzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9scy5tYXJrZXJzLmNyZWF0ZSh7fSwgJHNjb3BlLm1hcmtlcnMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hcmtlcnMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXRlc0FycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IHNpdGVzQXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbmc6IGEubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IGEuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTVE4gU2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLnN0blxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhpcyAnbWFya2Vyc0xhdExuZ0FycmF5JyBmb3IgdGhlIHpvb20gdG8gYm91bmRzIC0gcmVxdWlyZXMgc2ltcGxlIGxhdC9sbmcgYXJyYXkgdG8gd29ya1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheS5wdXNoKFthLmxhdGl0dWRlX2RkLCBhLmxvbmdpdHVkZV9kZF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9scy5tYXJrZXJzLmNyZWF0ZShtYXJrZXJzLCAkc2NvcGUubWFya2Vycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gbWFya2VycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS50YWJsZSgkc2NvcGUubWFya2Vycyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBMTEJvdW5kcyA9ICBuZXcgTC5MYXRMbmdCb3VuZHMoJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLmJvdW5kcyA9IGxlYWZsZXRCb3VuZHNIZWxwZXJzLmNyZWF0ZUJvdW5kc0Zyb21BcnJheShbXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIFtMTEJvdW5kcy5fbm9ydGhFYXN0LmxhdCwgTExCb3VuZHMuX25vcnRoRWFzdC5sbmddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBbTExCb3VuZHMuX3NvdXRoV2VzdC5sYXQsIExMQm91bmRzLl9zb3V0aFdlc3QubG5nXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL10pO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8vLy9lbmQgY29udHJvbHMgbWV0aG9kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vcmFuZG8ga2V5cyBtZXRob2QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IHNpdGVzQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGEgPSBzaXRlc0FycmF5W2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgbWFya2VySUQgPSAkc2NvcGUubWFrZUlEKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgbGF5ZXI6J3N0blNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIGxhdDogYS5sYXRpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgLy8gICAgIGxuZzogYS5sb25naXR1ZGUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vICAgICB0aXRsZTogXCJTVE4gU2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvLyAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIC8vIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAvL1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAkc2NvcGUubWFya2Vyc1ttYXJrZXJJRF0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXllcjonc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbGF0OiBhLmxhdGl0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHNpdGVfaWQ6IGEuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRpdGxlOiBcIlNUTiBTaXRlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLm1hcmtlcnNMYXRMbmdBcnJheS5wdXNoKFthLmxhdGl0dWRlLCBhLmxvbmdpdHVkZV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vLy8vZW5kIHJhbmRvIGtleXMgbWV0aG9kLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNPYmogPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlTWFya2VyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2lyY2xlTWFya2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogMjAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdlaWdodDogMyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjMDAwMDk5JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0bG5nczoge31cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9zdG9yZXMgdGhlIGxhc3Qgc2VsZWN0ZWQgbWFya2VyIGluZGV4LCBzbyBpdHMgaWNvbiBhbmQgbGFiZWwgY2FuIGJlIHJlc2V0IGFzIHRoZSBmaXJzdCB0aGluZyB0byBoYXBwZW4gYWZ0ZXIgY2xpY2tcclxuICAgICAgICAgICAgICAgIC8vdmFyIHNlbGVjdGVkTWFya2VyTnVtID0gMDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWxlY3RlZE1hcmtlck51bSA9IDA7XHJcbiAgICAgICAgICAgICAgICAvLy8vdGhpcyBzaG93cyBob3cgdG8gZ3JhYiB0aGUgU2l0ZSBJRCBpbiBhcmdzLm1vZGVsLnNpdGVfaWRcclxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oJ2xlYWZsZXREaXJlY3RpdmVNYXJrZXIuY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQsIGFyZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5tb2RlbC5zaXRlX2lkICE9ICduZXdTaXRlJykge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2Uuc2hvdyhcInNpdGVJbmZvU3Bpbm5lclwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzWyRzY29wZS5zZWxlY3RlZE1hcmtlck51bV0uaWNvbiA9IGljb25zLnN0bjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlICRzY29wZS5tYXJrZXJzWyRzY29wZS5zZWxlY3RlZE1hcmtlck51bV0ubGFiZWw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZUlEID0gYXJncy5tb2RlbC5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXBfU2l0ZS5zZXRNYXBTaXRlUGFydHMoc2l0ZUlEKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXRzIGFycmF5IG51bWJlciBvZiBtYXJrZXIgZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW0gPSBwYXJzZUludChhcmdzLm1vZGVsTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2V0cyB0aGUgaWNvbiB0byB0aGUgc2VsZWN0ZWQgaWNvbiBjbGFzc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2Vyc1skc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW1dLmljb24gPSBpY29ucy5zZWxlY3RlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnNbJHNjb3BlLnNlbGVjdGVkTWFya2VyTnVtXS5sYWJlbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdTaXRlICcgKyBzaXRlSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9IaWRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogWzI1LCAtMTVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3NpdGVMYWJlbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tYXBDZW50ZXIuem9vbSA8PSA5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWFwQ2VudGVyID0geyBsYXQ6IGFyZ3MubW9kZWwubGF0LCBsbmc6IGFyZ3MubW9kZWwubG5nLCB6b29tOiAxMCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5tYXBDZW50ZXIuem9vbSA+PSAxMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcENlbnRlciA9IHsgbGF0OiBhcmdzLm1vZGVsLmxhdCwgbG5nOiBhcmdzLm1vZGVsLmxuZywgem9vbTogJHNjb3BlLm1hcENlbnRlci56b29tIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFNoYXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBhdGhzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHNPYmouY2lyY2xlTWFya2VyLmxhdGxuZ3MgPSB7IGxhdDogYXJncy5tb2RlbC5sYXQsIGxuZzogYXJncy5tb2RlbC5sbmcgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5wYXRoc1snY2lyY2xlTWFya2VyJ10gPSAkc2NvcGUucGF0aHNPYmpbJ2NpcmNsZU1hcmtlciddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTaGFwZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8vdGhpcyBuZWVkcyB0byBiZSBpbnN0YW50aWF0ZWQgYmVmb3JlIGl0IGNhbiBiZSBmaWxsZWQgcHJvZ3JhbW1hdGljYWxseSBiZWxvdy4gbWF5IG5lZWQgdG8gbW92ZSBzY29wZS5leHRlbmQgYmxvY2sgdG8gdG9wXHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuY29udHJvbHMgPSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgY3VzdG9tOiBbXVxyXG4gICAgICAgICAgICAgICAgLy8gfTtcclxuICAgICAgICAgICAgICAgIC8vY29tbWVudGVkIGJsb2NrIGJlbG93IGlzIGZvciBtYWtpbmcgY3VzdG9tIGxlYWZsZXQgY29udHJvbCBmb3IgY3JlYXRlIHNpdGUgbW9kZSBpbmRpY2F0b3JcclxuICAgICAgICAgICAgICAgIC8vdmFyIGNyZWF0ZVNpdGVNb2RlQ29udHJvbCA9IEwuY29udHJvbCgpO1xyXG4gICAgICAgICAgICAgICAgLy9jcmVhdGVTaXRlTW9kZUNvbnRyb2wuc2V0UG9zaXRpb24oJ2JvdHRvbWxlZnQnKTtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlU2l0ZU1vZGVDb250cm9sLm9uQWRkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgdmFyIGNsYXNzTmFtZSA9ICdjcmVhdGVTaXRlTW9kZUluZGljYXRvcicsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgY29udGFpbmVyID0gTC5Eb21VdGlsLmNyZWF0ZSgnZGl2JywgY2xhc3NOYW1lICsgJyBsZWFmbGV0LWJhcicpO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIGNvbnRhaW5lcjtcclxuICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLmNvbnRyb2xzLmN1c3RvbS5wdXNoKGNyZWF0ZVNpdGVNb2RlQ29udHJvbCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8vbmVlZCB0byB3YXRjaCBmb3Igc2Vzc2lvbiBldmVudCBpZCwgZG8gbmV3IGNhbGwgdG8gc2VydmVyIHdoZW4gdGhhdCBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZJRCA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2JlbG93IGdldHMgc2l0ZXMgdXNpbmcgJGh0dHAuZ2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwaW5uZXJTZXJ2aWNlLnNob3coXCJtYXBTcGlubmVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2VsZWN0ZWRNYXJrZXJOdW0gPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucGF0aHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9iZWxvdyBnZXRzIHNpdGVzIHVzaW5nIHNpbXBsZSBhbmd1bGFyICRodHRwIHNlcnZpY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNpdGVzUHJvbWlzZSA9ICRodHRwLmdldCgnaHR0cHM6Ly9zdG4ud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzL0V2ZW50cy8nICsgZXZJRCArICcvU2l0ZXMuanNvbicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgLnRoZW4oc2hvd0V2ZW50U2l0ZXMsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2JlbG93IGdldHMgc2l0ZXMgdXNpbmcgdGhlIFNJVEUgJ2ZhY3RvcnknXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlc1Byb21pc2UgPSBFVkVOVC5nZXRFdmVudFNpdGVzKHsgaWQ6IGV2SUQgfSwvLyBTSVRFLmdldEFsbCh7ICBFdmVudDogZXZJRH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0V2ZW50U2l0ZXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IFwiQ291bGQgbm90IGZldGNoIHNpdGVzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnBvc2l0aW9uQ2xhc3MgPSBcInRvYXN0LWJvdHRvbS1yaWdodFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI4MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLndhcm5pbmcoXCJObyBzaXRlcyBhcmUgc2hvd2luZyBiZWNhdXNlIHlvdSBoYXZlIG5vIGZpbHRlcnMgYXBwbGllZC4gUGxlYXNlIHNlbGVjdCBhdCBsZWFzdCBvbmUgc2VhcmNoIHBhcmFtZXRlci5cIiwgXCJNYXAgRmlsdGVyc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3dhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgb25FcnJvciA9IGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkNvdWxkIG5vdCBmZXRjaCBzaXRlc1wiO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS4kb24oXCJsZWFmbGV0RGlyZWN0aXZlTWFwLmNsaWNrXCIsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3JlYXRlU2l0ZU1vZGVBY3RpdmUgPT09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maXJzdCwgcmVtb3ZlIHByZXZpb3VzbHkgY2xpY2stY3JlYXRlZCBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVVzZXJDcmVhdGVkU2l0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVhZkV2ZW50ID0gYXJncy5sZWFmbGV0RXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyQ3JlYXRlZFNpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogbGVhZkV2ZW50LmxhdGxuZy5sYXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGxlYWZFdmVudC5sYXRsbmcubG5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmV0dXJucyB0aGUgY3JlYXRlZCBzaXRlIG9iamVjdCwgYnV0IG5vdCB0aGF0IHVzZWZ1bFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBjcmVhdGVkU2l0ZSA9ICRzY29wZS5tYXJrZXJzLmZpbHRlcihmdW5jdGlvbiAob2JqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICByZXR1cm4gb2JqLnNpdGVfaWQgPT09ICduZXdTaXRlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy99KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ25ld1NpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0OiAkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxhdGl0dWRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG5nOiAkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxvbmdpdHVkZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICduZXdTaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb246IGljb25zLm5ld1NpdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5ldyBkcmFnZ2FibGUgU1ROIHNpdGVcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvY3VzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ05ldyBTaXRlJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vSGlkZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmV3U2l0ZUxhYmVsJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vdXNlIG5ldyBjbGlja2VkIHNpdGUgbGF0L2xuZyBhbmQgY3JlYXRlIG5ldyBzaXRlIGZyb20gdGhhdFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlVXNlckNyZWF0ZWRTaXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcmV0dXJucyBjcmVhdGVkIHNpdGUgaW5kZXggc28gaXQgY2FuIGJlIHJlbW92ZWQgdG8gbWFrZSB3YXkgZm9yIGl0cyByZXBsYWNlbWVudFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVkU2l0ZUluZGV4ID0gJHNjb3BlLm1hcmtlcnMubWFwKGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iai5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pLmluZGV4T2YoJ25ld1NpdGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL3NwbGljZSBjcmVhdGVkIHNpdGUgZnJvbSB0aGUgbWFya2VycyBhcnJheSBpZiBpdCBleGlzdHNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZFNpdGVJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnNwbGljZShjcmVhdGVkU2l0ZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8vdXBkYXRlIG5ld1NpdGUgbGF0L2xuZyBhZnRlciBkcmFnZW5kXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJG9uKFwibGVhZmxldERpcmVjdGl2ZU1hcmtlci5kcmFnZW5kXCIsIGZ1bmN0aW9uIChldmVudCwgYXJncykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkcmFnZW5kTG9jYXRpb24gPSBhcmdzLm1vZGVsO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51c2VyQ3JlYXRlZFNpdGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBkcmFnZW5kTG9jYXRpb24ubGF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGRyYWdlbmRMb2NhdGlvbi5sbmdcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLy9saXN0ZW5zICh3YXRjaGVzKSBmb3IgY2hhbmdlIG9mIHRoZSBjcmVhdGVTaXRlTW9kZUFjdGl2ZSBhdHRyaWJ1dGUgLSBjdWVkIGJ5IGNsaWNrIG9mIHRoZSBDcmVhdGUgU2l0ZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goJ2NyZWF0ZVNpdGVNb2RlQWN0aXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVTaXRlQnV0dG9uVGV4dCA9ICRzY29wZS5jcmVhdGVTaXRlTW9kZUFjdGl2ZSA/ICdDYW5jZWwgQ3JlYXRlIFNpdGUgTW9kZScgOiAnQ3JlYXRlIE5ldyBTaXRlIG9uIE1hcCc7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm1hcFN0eWxlID0gJHNjb3BlLmNyZWF0ZVNpdGVNb2RlQWN0aXZlID8geyBcImN1cnNvclwiOiBcImNyb3NzaGFpclwiIH0gOiB7IFwiY3Vyc29yXCI6IFwiZ3JhYlwiIH07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEkc2NvcGUuY3JlYXRlU2l0ZU1vZGVBY3RpdmUpIHsgcmVtb3ZlVXNlckNyZWF0ZWRTaXRlKCk7IH1cclxuICAgICAgICAgICAgICAgICAgICAvL3R3byBsaW5lcyBiZWxvdyByZWZlcmVuY2VkIGNyZWF0ZVNpdGVNb2RlSW5kaWNhdG9yIGxlYWZsZXQgY29udHJvbC4gY2FuIGJlIHJlbW92ZWQgZXZlbnR1YWxseS5cclxuICAgICAgICAgICAgICAgICAgICAvL3ZhciBjcmVhdGVTaXRlTW9kZUluZGljYXRvciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJjcmVhdGVTaXRlTW9kZUluZGljYXRvclwiKVswXTtcclxuICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZVNpdGVNb2RlSW5kaWNhdG9yLnN0eWxlLnZpc2liaWxpdHkgPSAkc2NvcGUuY3JlYXRlU2l0ZU1vZGVBY3RpdmUgPyAndmlzaWJsZScgOidoaWRkZW4nO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZVNpdGVGcm9tTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXNlckNyZWF0ZWRTaXRlLmxhdGl0dWRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sb25naXR1ZGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogMCwgbGF0aXR1ZGU6ICRzY29wZS51c2VyQ3JlYXRlZFNpdGUubGF0aXR1ZGUsIGxvbmdpdHVkZTogJHNjb3BlLnVzZXJDcmVhdGVkU2l0ZS5sb25naXR1ZGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJQbGVhc2UgY2xpY2sgYSBsb2NhdGlvbiBvbiB0aGUgbWFwIHRvIGNyZWF0ZSBhIHNpdGUgdGhpcyB3YXkuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNob3dBbGxTaXRlcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vICAgICBzcGlubmVyU2VydmljZS5zaG93KFwibWFwU3Bpbm5lclwiKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vdGVzdGluZyBmdWxsIHNpdGVzIHBlcmZvcm1hbmNlLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICBTSVRFLmdldEFsbChcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIHZhciBhbGxTaXRlc0FycmF5ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAkc2NvcGUuYWxsU2l0ZXMgPSBhbGxTaXRlc0FycmF5O1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8kc2NvcGUubWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8kc2NvcGUubWFya2Vyc0xhdExuZ0FycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgLy8vLy9jb250cm9scyBtZXRob2QvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXREaXJlY3RpdmVDb250cm9scygpLnRoZW4oZnVuY3Rpb24gKGNvbnRyb2xzKSB7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLy9jb250cm9scy5tYXJrZXJzLmNyZWF0ZSh7fSwgJHNjb3BlLm1hcmtlcnMpO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB2YXIgbWFya2VycyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsU2l0ZXNBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICB2YXIgYSA9IGFsbFNpdGVzQXJyYXlbaV07XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIG1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogJ3N0blNpdGVzQWxsJyxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogYS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogYS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogXCJTVE4gU2l0ZVwiLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMuc3RuXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5tYXJrZXJzTGF0TG5nQXJyYXkucHVzaChbYS5sYXRpdHVkZV9kZCwgYS5sb25naXR1ZGVfZGRdKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgIGNvbnRyb2xzLm1hcmtlcnMuY3JlYXRlKG1hcmtlcnMsICRzY29wZS5tYXJrZXJzKTtcclxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAkc2NvcGUubWFya2VycyA9IG1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgc3Bpbm5lclNlcnZpY2UuaGlkZShcIm1hcFNwaW5uZXJcIik7XHJcbiAgICAgICAgICAgICAgICAvL1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgICRzY29wZS5lcnJvciA9IFwiQ291bGQgbm90IGZldGNoIHNpdGVzXCI7XHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWxsIFNUTiBzaXRlc1xyXG4gICAgICAgICAgICAgICAgLy8kaHR0cC5nZXQoJ2h0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlcy9TaXRlcy9wb2ludHMuanNvbicpXHJcbiAgICAgICAgICAgICAgICAvLyAgICAudGhlbihvblNpdGVDb21wbGV0ZSwgb25FcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBTVE4gc2l0ZXMgZm9yIHNlc3Npb24gZXZlbnQgY2hvc2VuIGJ5IHVzZXJcclxuICAgICAgICAgICAgICAgIC8vJGh0dHAuZ2V0KCdodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXMvU2l0ZXMuanNvbj9FdmVudD0nICsgZXZJRClcclxuICAgICAgICAgICAgICAgIC8vICAgIC50aGVuKG9uU2l0ZUNvbXBsZXRlLCBvbkVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vL3JldHJpZXZlcyBldmVudCBzZXNzaW9uIElEXHJcbiAgICAgICAgICAgICAgICAvL3ZhciBldklEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpIDogMDtcclxuICAgICAgICAgICAgICAgIC8vZ2V0IFNUTiBzaXRlcyBmb3Igc2Vzc2lvbiBldmVudFxyXG4gICAgICAgICAgICAgICAgLy8kaHR0cC5nZXQoJ2h0dHBzOi8vc3RuLndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlcy9FdmVudHMvJyArIGV2SUQgKyAnL1NpdGVzLmpzb24nKVxyXG4gICAgICAgICAgICAgICAgLy8gICAgLnRoZW4ob25TaXRlQ29tcGxldGUsIG9uRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy9jb3BpZXMgc2NvcGUgb2JqZWN0Ly8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoKS50aGVuKGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZ2VvU2VhcmNoQ29udHJvbCA9IG5ldyBMLkNvbnRyb2wuR2VvU2VhcmNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXI6IG5ldyBMLkdlb1NlYXJjaC5Qcm92aWRlci5Fc3JpKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wbGVmdCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogMTVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBnZW9TZWFyY2hDb250cm9sLmFkZFRvKG1hcCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbjtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZXh0ZW5kKCRzY29wZSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmFibGU6IGxlYWZsZXRNYXJrZXJFdmVudHMuZ2V0QXZhaWxhYmxlRXZlbnRzKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFwQ2VudGVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdDogNDEuMjc4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsbmc6IC05Mi4zMzYsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHpvb206IDQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblpvb206IDRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJzV2F0Y2hPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvV2F0Y2g6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVlcDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kaXZpZHVhbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9XYXRjaDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRGVlcDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgcGF0aHM6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnM6IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnNMYXRMbmdBcnJheTogW10sXHJcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlU2l0ZU1vZGVBY3RpdmU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJDcmVhdGVkU2l0ZToge30sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZUlEOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgcG9zc2libGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgZm9yKCB2YXIgaT0wOyBpIDwgNTsgaSsrIClcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIHRleHQgKz0gcG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHBvc3NpYmxlLmxlbmd0aCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiB0ZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbGVnZW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybDogXCJodHRwOi8vZ2lzLnNyaC5ub2FhLmdvdi9hcmNnaXMvcmVzdC9zZXJ2aWNlcy9haHBzX2dhdWdlcy9NYXBTZXJ2ZXIvbGVnZW5kLz9mPWpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGVnZW5kQ2xhc3M6IFwiaW5mbyBsZWdlbmQtZXNyaVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBwb3NpdGlvbjogXCJib3R0b21sZWZ0XCJcclxuICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGxlZ2VuZFVSTDE6IFwiaHR0cDovL3NlcnZpY2VzLmFyY2dpc29ubGluZS5jb20vYXJjZ2lzL3Jlc3Qvc2VydmljZXMvRGVtb2dyYXBoaWNzL1VTQV8xOTkwLTIwMDBfUG9wdWxhdGlvbl9DaGFuZ2UvTWFwU2VydmVyL2xlZ2VuZD9mPWpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAvLyBsZWdlbmRVUkwyOiBcImh0dHBzOi8vaGF6YXJkcy5mZW1hLmdvdi9naXMvbmZobC9yZXN0L3NlcnZpY2VzL3B1YmxpYy9ORkhML01hcFNlcnZlci9sZWdlbmQ/Zj1qc29uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc3dpdGNoTGVnZW5kOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgJHNjb3BlLmxheWVycy5vdmVybGF5cy51c2Ffc29jaWFsLnZpc2libGUgPSAhJHNjb3BlLmxheWVycy5vdmVybGF5cy51c2Ffc29jaWFsLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICRzY29wZS5sZWdlbmQudXJsID1cclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICRzY29wZS5sZWdlbmQudXJsID09ICRzY29wZS5sZWdlbmRVUkwxPyAkc2NvcGUubGVnZW5kVVJMMjokc2NvcGUubGVnZW5kVVJMMTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vLy8vLy8vLy8hISFuZWVkIHRvIGFkZCBsZWdlbmQ9XCJsZWdlbmRcIiBiYWNrIHRvIG1hcCBkaXJlY3RpdmUgaWYgdXNpbmcgdGhpcyEhISEhISEhXHJcbiAgICAgICAgICAgICAgICAgICAgbGF5ZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyYXk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIkdyYXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJHcmF5XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJlZXRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJTdHJlZXRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiU3RyZWV0c1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiV29ybGQgVG9wb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmF0aW9uYWw6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBcIk5hdGlvbmFsIEdlb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJOYXRpb25hbEdlb2dyYXBoaWNcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9jZWFuczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiT2NlYW5zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXI6IFwiT2NlYW5zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXJrZ3JheToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiRGFya0dyYXlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFnc0Jhc2VcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJEYXJrR3JheVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW1hZ2VyeToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiSW1hZ2VyeVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIkltYWdlcnlcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNoYWRlZHJlbGllZjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiU2hhZGVkIFJlbGllZlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlNoYWRlZFJlbGllZlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVycmFpbjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiVGVycmFpblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzQmFzZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyOiBcIlRlcnJhaW5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVybGF5czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RuU2l0ZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdTVE4gU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdG5TaXRlc0FsbDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1NUTiBTaXRlcyBBbGwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdTaXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2dyb3VwJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbmV3U2l0ZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllclBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93T25TZWxlY3RvcjogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbndpcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIlVTR1MgcmVhbC10aW1lIHN0cmVhbWdhZ2VzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJhZ3NGZWF0dXJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsIDogXCJodHRwczovL3N0bm1hcHNlcnZpY2VzLndpbS51c2dzLmdvdjo2NDQzL2FyY2dpcy9yZXN0L3NlcnZpY2VzL1NUTi9TVE5fbndpc19ydC9NYXBTZXJ2ZXIvMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZpc2libGU6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGxheWVyT3B0aW9ucyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgcG9pbnRUb0xheWVyOiBmdW5jdGlvbiAoZ2VvanNvbiwgbGF0bG5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnMubndpc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9uRWFjaEZlYXR1cmU6IGZ1bmN0aW9uKGZlYXR1cmUsIGxheWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAvL2xheWVyLmJpbmRQb3B1cChcIlVTR1MgSUQ6IFwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgbGF5ZXIuYmluZFBvcHVwKGZlYXR1cmUucHJvcGVydGllcy5Qb3B1cEluZm8gKyAnPGJyPjxpbWcgc3R5bGU9XCJ3aWR0aDogMzUwcHhcIiBzcmM9XCJodHRwOi8vd2F0ZXJkYXRhLnVzZ3MuZ292L253aXN3ZWIvZ3JhcGg/YWdlbmN5X2NkPVVTR1Mmc2l0ZV9ubz0nICsgZmVhdHVyZS5wcm9wZXJ0aWVzLk5hbWUgKyAnJnBhcm1fY2Q9MDAwNjUmcGVyaW9kPTdcIj4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhaHBzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJBSFBTIEdhZ2VzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NGZWF0dXJlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBcImh0dHBzOi8vaWRwZ2lzLm5jZXAubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvTldTX09ic2VydmF0aW9ucy9haHBzX3Jpdl9nYXVnZXMvTWFwU2VydmVyLzBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllck9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9sYXllcnM6IFswXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9pbnRUb0xheWVyOiBmdW5jdGlvbiAoZ2VvanNvbiwgbGF0bG5nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTC5tYXJrZXIobGF0bG5nLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbnNbZ2VvanNvbi5wcm9wZXJ0aWVzLnN0YXR1c11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkVhY2hGZWF0dXJlOiBmdW5jdGlvbiAoZmVhdHVyZSwgbGF5ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGF5ZXIuYmluZFBvcHVwKFwiVVNHUyBJRDogXCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhcGhVUkwgPSBcImh0dHBzOi8vd2F0ZXIud2VhdGhlci5nb3YvcmVzb3VyY2VzL2h5ZHJvZ3JhcGhzL1wiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLmdhdWdlbGlkLnRvTG93ZXJDYXNlKCkgKyBcIl9oZy5wbmdcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbGF5ZXIuYmluZFBvcHVwKFwiPGI+R2FnZSBJRDogPC9iPlwiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLmdhdWdlbGlkICsgXCI8L2JyPjxiPkxvY2F0aW9uOiA8L2I+XCIgKyBmZWF0dXJlLnByb3BlcnRpZXMubG9jYXRpb24gKyBcIjwvYnI+PGI+V2F0ZXJib2R5OiA8L2I+XCIgKyBmZWF0dXJlLnByb3BlcnRpZXMud2F0ZXJib2R5ICsgXCI8L2JyPjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIisgZmVhdHVyZS5wcm9wZXJ0aWVzLnVybCArIFwiJz48aW1nIHRpdGxlPSdDbGljayBmb3IgZGV0YWlscyBwYWdlJyB3aWR0aD0zMDAgc3JjPSdcIiArIGdyYXBoVVJMICtcIicvPjwvYT5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllci5iaW5kUG9wdXAoXCI8Yj5HYWdlIElEOiA8L2I+XCIgKyBmZWF0dXJlLnByb3BlcnRpZXMuZ2F1Z2VsaWQgKyBcIjwvYnI+PGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgZmVhdHVyZS5wcm9wZXJ0aWVzLnVybCArIFwiJz48aW1nIHRpdGxlPSdDbGljayBmb3IgZGV0YWlscyBwYWdlJyB3aWR0aD0zMDAgc3JjPSdcIiArIGdyYXBoVVJMICsgXCInLz48L2E+XCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRhcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiV2VhdGhlciBSYWRhclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lkcGdpcy5uY2VwLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL05XU19PYnNlcnZhdGlvbnMvcmFkYXJfYmFzZV9yZWZsZWN0aXZpdHkvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdGNoV2Fybjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwiTldTIFdhdGNoZXMgJiBXYXJuaW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogXCJodHRwczovL2lkcGdpcy5uY2VwLm5vYWEuZ292L2FyY2dpcy9yZXN0L3NlcnZpY2VzL05XU19Gb3JlY2FzdHNfR3VpZGFuY2VfV2FybmluZ3Mvd2F0Y2hfd2Fybl9hZHYvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF5ZXJPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxheWVyczogWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZsb29kVGhyZXNob2xkcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIk5XUyBXRk8gQ29hc3RhbCBGbG9vZCBUaHJlc2hvbGRzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdHlwZTogXCJhZ3NEeW5hbWljXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdXJsIDogXCJodHRwczovL3d3dy5jc2Mubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvZGNfc2xyL0Zsb29kX0ZyZXF1ZW5jeS9NYXBTZXJ2ZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB2aXNpYmxlOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBsYXllck9wdGlvbnMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGxheWVyczogWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBvcGFjaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxtd2EgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJMaW1pdCBNb2RlcmF0ZSBXYXZlIEFjdGlvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybCA6IFwiaHR0cHM6Ly9oYXphcmRzLmZlbWEuZ292L2dpcy9uZmhsL3Jlc3Qvc2VydmljZXMvcHVibGljL05GSEwvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXJPcHRpb25zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXllcnM6IFsxOV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmxvb2RCb3VuZHMgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZTogXCJGbG9vZCBIYXphcmQgQm91bmRhcmllc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybCA6IFwiaHR0cHM6Ly9oYXphcmRzLmZlbWEuZ292L2dpcy9uZmhsL3Jlc3Qvc2VydmljZXMvcHVibGljL05GSEwvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXJPcHRpb25zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXllcnM6IFsyN10sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9wYWNpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmxvb2Rab25lcyA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBuYW1lOiBcIkZsb29kIEhhemFyZCBab25lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHR5cGU6IFwiYWdzRHluYW1pY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHVybCA6IFwiaHR0cHM6Ly9oYXphcmRzLmZlbWEuZ292L2dpcy9uZmhsL3Jlc3Qvc2VydmljZXMvcHVibGljL05GSEwvTWFwU2VydmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmlzaWJsZTogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgbGF5ZXJPcHRpb25zIDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBsYXllcnM6IFsyOF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIG9wYWNpdHk6IDAuN1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xlZ2VuZDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB1cmw6IFwiaHR0cDovL2dpcy5zcmgubm9hYS5nb3YvYXJjZ2lzL3Jlc3Qvc2VydmljZXMvYWhwc19nYXVnZXMvTWFwU2VydmVyL2xlZ2VuZD9mPWpzb25cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgbGVnZW5kQ2xhc3M6IFwiaW5mbyBsZWdlbmQtZXNyaVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBwb3NpdGlvbjogXCJib3R0b21sZWZ0XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgYW5ndWxhciAkc2NvcGUuZXh0ZW5kIHN0YXRlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAgICAgICAgIH0gLy9lbmQgLWlmIGNyZWRlbnRpYWxzIHBhc3MtIHN0YXRlbWVudFxyXG4gICAgICAgIH1dKTsvL2VuZCBjb250cm9sbGVyIGZ1bmN0aW9uXHJcbn0pKCk7XHJcbiIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIExvZ0luT3V0Q29udHJvbGxlciA9IGFuZ3VsYXIubW9kdWxlKCdMb2dJbk91dENvbnRyb2xsZXInLCBbXSk7XHJcblxyXG4gICAgTG9nSW5PdXRDb250cm9sbGVyLmNvbnRyb2xsZXIoJ2xvZ2luQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICckbG9jYXRpb24nLCAnJHVpYk1vZGFsJywgJyRzY2UnLCAnJGh0dHAnLCAnJGNvb2tpZXMnLCAnJHJvb3RTY29wZScsICckZG9jdW1lbnQnLCAnU0VSVkVSX1VSTCcsICdFTlZJUk9OTUVOVCcsICdMb2dpbicsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHN0YXRlLCAkbG9jYXRpb24sICR1aWJNb2RhbCwgJHNjZSwgJGh0dHAsICRjb29raWVzLCAkcm9vdFNjb3BlLCAkZG9jdW1lbnQsIFNFUlZFUl9VUkwsIEVOVklST05NRU5ULCBMb2dpbikge1xyXG4gICAgICAgICAgICAvL2xvZ2luIC8vXHJcbiAgICAgICAgICAgICRzY29wZS5uZXdzVGl0bGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAkc2NvcGUubmV3c0ZlZWQgPSBbXTtcclxuXHJcbiAgICAgICAgICAgIExvZ2luLmdldE5ld3NGZWVkKHt9LFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzVGl0bGUgPSByZXNwb25zZS50aXRsZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYWdyYXBoVGFncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFRhZ3MgPSByZXNwb25zZS5ib2R5LnN0b3JhZ2UudmFsdWUuc3BsaXQoXCI8cD5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYWdyYXBoVGFncy5mb3JFYWNoKGZ1bmN0aW9uIChwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzRmVlZC5wdXNoKCRzY2UudHJ1c3RBc0h0bWwocCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdzVGl0bGUgPSBcIlNUTiBOb3RpY2VzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld3NGZWVkLnB1c2goXCJDdXJyZW50bHkgbm90IGF2YWlsYWJsZS5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBDQVAgbG9jayBDaGVja1xyXG4gICAgICAgICAgICAkKCdbdHlwZT1wYXNzd29yZF0nKS5rZXlwcmVzcyhmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyICRwYXNzd29yZCA9ICQodGhpcyksXHJcbiAgICAgICAgICAgICAgICAgICAgdG9vbHRpcFZpc2libGUgPSAkKCcudG9vbHRpcCcpLmlzKCc6dmlzaWJsZScpLFxyXG4gICAgICAgICAgICAgICAgICAgIHMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGUud2hpY2gpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChzLnRvVXBwZXJDYXNlKCkgPT09IHMgJiYgcy50b0xvd2VyQ2FzZSgpICE9PSBzICYmICFlLnNoaWZ0S2V5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0b29sdGlwVmlzaWJsZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHBhc3N3b3JkLnRvb2x0aXAoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2x0aXBWaXNpYmxlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcGFzc3dvcmQudG9vbHRpcCgnaGlkZScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vaGlkZSB0aGUgdG9vbHRpcCB3aGVuIG1vdmluZyBhd2F5IGZyb20gcGFzc3dvcmQgZmllbGRcclxuICAgICAgICAgICAgICAgICRwYXNzd29yZC5ibHVyKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHBhc3N3b3JkLnRvb2x0aXAoJ2hpZGUnKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uIENBUCBsb2NrIENoZWNrXHJcblxyXG4gICAgICAgICAgICBpZiAoJGRvY3VtZW50WzBdLmRvY3VtZW50TW9kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYnJvd3Nlckluc3RhbmNlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBhcHBsaWNhdGlvbiB1c2VzIGZ1bmN0aW9uYWxpdHkgdGhhdCBpcyBub3QgY29tcGxldGVseSBzdXBwb3J0ZWQgYnkgSW50ZXJuZXQgRXhwbG9yZXIuIFRoZSBwcmVmZXJyZWQgYnJvd3NlciBpcyBDaHJvbWUgKGJpc29uIGNvbm5lY3QpLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIERhdGUucHJvdG90eXBlLmFkZEhvdXJzID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0SG91cnModGhpcy5nZXRIb3VycygpICsgaCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuZW52aXJvbm1lbnQgPSBFTlZJUk9OTUVOVDtcclxuICAgICAgICAgICAgJHNjb3BlLnN1Ym1pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vJHNjb3BlLnN1YiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgIHZhciBwb3N0RGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBcInVzZXJuYW1lXCI6ICRzY29wZS51c2VybmFtZSxcclxuICAgICAgICAgICAgICAgICAgICBcInBhc3N3b3JkXCI6ICRzY29wZS5wYXNzd29yZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHZhciB1cCA9ICRzY29wZS51c2VybmFtZSArIFwiOlwiICsgJHNjb3BlLnBhc3N3b3JkO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgYnRvYSh1cCk7XHJcbiAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcblxyXG4gICAgICAgICAgICAgICAgTG9naW4ubG9naW4oe30sXHJcbiAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlciA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NldCB1c2VyIGNvb2tpZXMgKGNyZWQsIHVzZXJuYW1lLCBuYW1lLCByb2xlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcnNOQU1FID0gdXNlci5mbmFtZSArIFwiIFwiICsgdXNlci5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbmMgPSBidG9hKCRzY29wZS51c2VybmFtZS5jb25jYXQoXCI6XCIsICRzY29wZS5wYXNzd29yZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZXQgZXhwaXJhdGlvbiBvbiBjb29raWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwaXJlRGF0ZSA9IG5ldyBEYXRlKCkuYWRkSG91cnMoOCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1NUTkNyZWRzJywgZW5jLCB7IGV4cGlyZXM6IGV4cGlyZURhdGUgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1NUTlVzZXJuYW1lJywgJHNjb3BlLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgndXNlcnNOYW1lJywgdXNlcnNOQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnbUlEJywgdXNlci5tZW1iZXJfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvbGVOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoICh1c2VyLnJvbGVfaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJBZG1pblwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJNYW5hZ2VyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkZpZWxkXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIlB1YmxpY1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiQ2l0aXplbk1hbmFnZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ3VzZXJzUm9sZScsIHJvbGVOYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLmlzQXV0aC52YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2Vyc05hbWUgPSB1c2Vyc05BTUU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJJRCA9IHVzZXIubWVtYmVyX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS51c2VyUm9sZSA9ICRjb29raWVzLmdldCgndXNlcnNSb2xlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlLCB7IGlkOiAkcm9vdFNjb3BlLnJldHVyblRvU3RhdGVQYXJhbXMgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbWFwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXJyb3IgPSBcIkxvZ2luIEZhaWxlZFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9tb2RhbCBmb3IgZXJyb3JcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZXJlIHdhcyBhbiBlcnJvci48L3A+PHA+RXJyb3I6IHt7c3RhdHVzfX0gLSB7e3N0YXR1c1RleHR9fTwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gZXJyb3JSZXNwb25zZS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1c1RleHQgPSBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgLy9sb2dPdXRcclxuICAgIExvZ0luT3V0Q29udHJvbGxlci5jb250cm9sbGVyKCdsb2dvdXRDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24pIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvZ291dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2xlYXIgJGNvb2tpZXNcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU1ROVXNlcm5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgndXNlcnNOYW1lJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgJGNvb2tpZXMucmVtb3ZlKCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU2Vzc2lvbkV2ZW50SUQnKTtcclxuICAgICAgICAgICAgICAgICRjb29raWVzLnJlbW92ZSgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgLy9jbGVhciAkcm9vdFNjb3BlXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlUGFyYW1zID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYWN0aXZlTWVudSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2Vzc2lvbkV2ZW50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlYXJjaFRlcm0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlYXJjaFBhcmFtcyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuYXBwcm92YWxTZWFyY2ggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJJRCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlclJvbGUgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnVzZXJzTmFtZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuZW52aXJvbm1lbnQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxufSgpKTtcclxuIiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTsgXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdtYWluQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGRvY3VtZW50JywgJyRjb29raWVzJywgJyR1aWJNb2RhbCcsICckbG9jYXRpb24nLCAnJHN0YXRlJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkZG9jdW1lbnQsICRjb29raWVzLCAkdWliTW9kYWwsICRsb2NhdGlvbiwgJHN0YXRlKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuaXNBdXRoID0ge307ICAgICAgICBcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gJ2hvbWUnOyAvL3Njb3BlIHZhciBmb3Igc2V0dGluZyBhY3RpdmUgY2xhc3NcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIiB8fCAkY29va2llcy5nZXQoJ1NUTlVzZXJuYW1lJykgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGgudmFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoJGRvY3VtZW50WzBdLmRvY3VtZW50TW9kZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJyb3dzZXJJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5XYXJuaW5nPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIGFwcGxpY2F0aW9uIHVzZXMgZnVuY3Rpb25hbGl0eSB0aGF0IGlzIG5vdCBjb21wbGV0ZWx5IHN1cHBvcnRlZCBieSBJbnRlcm5ldCBFeHBsb3Jlci4gVGhlIHByZWZlcnJlZCBicm93c2VyIGlzIENocm9tZSAoYmlzb24gY29ubmVjdCkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5pc0F1dGgudmFsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlcnNOYW1lID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc05hbWUnKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlcklEID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAgICAgdmFyIEV2ZW50TmFtZSA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpO1xyXG4gICAgICAgICAgICAgICAgaWYgKEV2ZW50TmFtZSAhPT0gbnVsbCAmJiBFdmVudE5hbWUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnNlc3Npb25FdmVudCA9IFwiU2Vzc2lvbiBFdmVudDogXCIgKyBFdmVudE5hbWUgKyBcIi5cIjsgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnbWFwJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3F1aWNrSFdNQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRzdGF0ZScsICckaHR0cCcsICckdWliTW9kYWwnLCAnJGZpbHRlcicsXHJcbiAgICAgICAgJ2FsbEhvckRhdHVtcycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxTdGF0ZXMnLCAnYWxsQ291bnRpZXMnLCAnYWxsT1BUeXBlcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgXHJcbiAgICAgICAgJ2FsbE9QUXVhbGl0aWVzJywgJ2FsbEhXTVR5cGVzJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxNYXJrZXJzJywgJ1NJVEUnLCAnT0JKRUNUSVZFX1BPSU5UJywgJ0hXTScsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRzdGF0ZSwgJGh0dHAsICR1aWJNb2RhbCwgJGZpbHRlciwgYWxsSG9yRGF0dW1zLCBhbGxIb3JDb2xsTWV0aG9kcywgYWxsU3RhdGVzLFxyXG4gICAgICAgIGFsbENvdW50aWVzLCBhbGxPUFR5cGVzLCBhbGxWZXJ0RGF0dW1zLCBhbGxWZXJ0Q29sTWV0aG9kcywgYWxsT1BRdWFsaXRpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbE1hcmtlcnMsIFNJVEUsIE9CSkVDVElWRV9QT0lOVCwgSFdNKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJRdWljayBIV01cIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5xaHdtRm9ybSA9IHt9OyAvL2Zvcm1zIHdpdGhpbiB0aGUgYWNjb3JkaW9uIC5TaXRlLCAuT1AsIC5IV01cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUgPSB7IE1FTUJFUl9JRDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFPUCA9IHtEQVRFX0VTVEFCTElTSEVEOiBtYWtlQWRhdGUoXCJcIil9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7IEhXTV9FTlZJUk9OTUVOVDogJ1JpdmVyaW5lJywgQkFOSzogJ04vQScsIEZMQUdfREFURTogbWFrZUFkYXRlKFwiXCIpLCBTVElMTFdBVEVSOjAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0dXMgPSB7IHNpdGVPcGVuOiB0cnVlLCBvcE9wZW46IGZhbHNlLCBod21PcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbiBmb3IgcGFydHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZW1vdmVPUENhcnJheSA9IFtdOyAvL2hvbGRlciBpZiB0aGV5IHJlbW92ZSBhbnkgT1AgY29udHJvbHNcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZGRlZElkZW50aWZpZXJzID0gW107IC8vaG9sZGVyIGZvciBhZGRlZCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dDb250cm9sSURpbnB1dCA9IGZhbHNlOyAvL2luaXRpYWxseSBoaWRlIHRoZSBhcmVhIGNvbnRhaW5pbmcgYWRkZWQgY29udHJvbCBJZGVudGlmaWVyc1xyXG4gICAgICAgICAgICAgICAgLy9kcm9wZG93bnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3JEYXR1bUxpc3QgPSBhbGxIb3JEYXR1bXM7ICRzY29wZS5ob3JDb2xsTWV0aG9kTGlzdCA9IGFsbEhvckNvbGxNZXRob2RzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlTGlzdCA9IGFsbFN0YXRlczsgJHNjb3BlLmFsbENvdW50eUxpc3QgPSBhbGxDb3VudGllczsgJHNjb3BlLnN0YXRlQ291bnR5TGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QgPSBhbGxPUFR5cGVzOyAkc2NvcGUudmVydERhdHVtTGlzdCA9IGFsbFZlcnREYXR1bXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmVydENvbGxNZXRob2RMaXN0ID0gYWxsVmVydENvbE1ldGhvZHM7ICRzY29wZS5vcFF1YWxMaXN0ID0gYWxsT1BRdWFsaXRpZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBhbGxIV01UeXBlczsgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsSFdNUXVhbGl0aWVzOyAkc2NvcGUubWFya2VyTGlzdCA9IGFsbE1hcmtlcnM7XHJcbiAgICAgICAgICAgICAgICAvL2RlZmF1bHQgcmFkaW9zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRlRvck1FVEVSID0gJ2Z0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5GVG9yQ00gPSAnZnQnO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vd2FudCB0byBhZGQgaWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkZE5ld0lkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkZGVkSWRlbnRpZmllcnMucHVzaCh7IE9CSkVDVElWRV9QT0lOVF9JRDogJHNjb3BlLmFPUC5PQkpFQ1RJVkVfUE9JTlRfSUQsIElERU5USUZJRVI6IFwiXCIsIElERU5USUZJRVJfVFlQRTogXCJcIiB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0NvbnRyb2xJRGlucHV0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgYWRkTmV3SWRlbnRpZmllciBmb3IgT1BcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGxhdC9sb25nIHN0dWZmXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRlY0RlZ09SZG1zLnZhbCA9ICdkZCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307IC8vaG9sZGVyIG9mIGRlZyBtaW4gc2VjIHZhbHVlc1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICAgICAgdmFyIGF6aW11dGggPSBmdW5jdGlvbiAoZGVnLCBtaW4sIHNlYykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhemkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF6aSA9IC0xLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKC0xLjAgKiBhemkpLnRvRml4ZWQoNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhemkgPSAxLjAgKiBkZWcgKyAxLjAgKiBtaW4gLyA2MC4wICsgMS4wICogc2VjIC8gMzYwMC4wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY29udmVydCBkZWMgZGVncmVlcyB0byBkbXNcclxuICAgICAgICAgICAgICAgIHZhciBkZWdfdG9fZG1zID0gZnVuY3Rpb24gKGRlZykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9sb25naXR1ZGUsIHJlbW92ZSB0aGUgLSBzaWduXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkID0gTWF0aC5mbG9vcihkZWcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtaW5mbG9hdCA9IChkZWcgLSBkKSAqIDYwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihtaW5mbG9hdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHMgPSAoKG1pbmZsb2F0IC0gbSkgKiA2MCkudG9GaXhlZCgzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcIlwiICsgZCArIFwiOlwiICsgbSArIFwiOlwiICsgcyk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdGhleSBjaGFuZ2VkIHJhZGlvIGJ1dHRvbiBmb3IgZG1zIGRlYyBkZWdcclxuICAgICAgICAgICAgICAgICRzY29wZS5sYXRMb25nQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZGVjRGVnT1JkbXMudmFsID09IFwiZGRcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBEZWMgRGVnLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkxBVElUVURFX0REID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgY2xpY2tlZCBkbXMgKGNvbnZlcnQgbGF0L2xvbmcgdG8gZG1zKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLkxBVElUVURFX0REICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuYVNpdGUuTEFUSVRVREVfREQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhZERNU2FycmF5ID0gbGF0RE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBRGVnID0gbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gbGFkRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBU2VjID0gbGFkRE1TYXJyYXlbMl07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hU2l0ZS5MT05HSVRVREVfREQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdETVNhcnJheSA9IGxvbmdETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9EZWcgPSBsb25nRE1TYXJyYXlbMF0gKiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTE9NaW4gPSBsb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gbG9uZ0RNU2FycmF5WzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyAgbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmlzTnVtID0gZnVuY3Rpb24gKGV2dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAhPSA0NiAmJiBrZXkgIT0gNDUgJiYga2V5ID4gMzEgJiYgKGtleSA8IDQ4IHx8IGtleSA+IDU3KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2xlYXIgdGhlbSBhbGwgZmlyc3RcclxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLmFTaXRlLkFERFJFU1M7IGRlbGV0ZSAkc2NvcGUuYVNpdGUuQ0lUWTsgZGVsZXRlICRzY29wZS5hU2l0ZS5TVEFURTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gW107IGRlbGV0ZSAkc2NvcGUuYVNpdGUuWklQO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy9sb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlb2NvZGVyID0gbmV3IGdvb2dsZS5tYXBzLkdlb2NvZGVyKCk7IC8vcmV2ZXJzZSBhZGRyZXNzIGxvb2t1cFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBsYXRsbmcgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKCRzY29wZS5hU2l0ZS5MQVRJVFVERV9ERCwgJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2VvY29kZXIuZ2VvY29kZSh7ICdsYXRMbmcnOiBsYXRsbmcgfSwgZnVuY3Rpb24gKHJlc3VsdHMsIHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09IGdvb2dsZS5tYXBzLkdlb2NvZGVyU3RhdHVzLk9LKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3BhcnNlIHRoZSByZXN1bHRzIG91dCBpbnRvIGNvbXBvbmVudHMgKCdzdHJlZXRfbnVtYmVyJywgJ3JvdXRlJywgJ2xvY2FsaXR5JywgJ2FkbWluaXN0cmF0aXZlX2FyZWFfbGV2ZWxfMicsICdhZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzEnLCAncG9zdGFsX2NvZGUnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRkcmVzc19jb21wb25lbnRzID0gcmVzdWx0c1swXS5hZGRyZXNzX2NvbXBvbmVudHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50cyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGFkZHJlc3NfY29tcG9uZW50cywgZnVuY3Rpb24gKGssIHYxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHYxLnR5cGVzLCBmdW5jdGlvbiAoazIsIHYyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHNbdjJdID0gdjEubG9uZ19uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkFERFJFU1MgPSBjb21wb25lbnRzLnN0cmVldF9udW1iZXIgIT09IHVuZGVmaW5lZCA/IGNvbXBvbmVudHMuc3RyZWV0X251bWJlciArIFwiIFwiICsgY29tcG9uZW50cy5yb3V0ZSA6IGNvbXBvbmVudHMucm91dGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuQ0lUWSA9IGNvbXBvbmVudHMubG9jYWxpdHk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLlNUQVRFX05BTUUgPT0gY29tcG9uZW50cy5hZG1pbmlzdHJhdGl2ZV9hcmVhX2xldmVsXzE7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLlNUQVRFID0gdGhpc1N0YXRlLlNUQVRFX0FCQlJFVjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVDb3VudHlMaXN0ID0gJHNjb3BlLmFsbENvdW50eUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLlNUQVRFX0lEID09IHRoaXNTdGF0ZS5TVEFURV9JRDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTaXRlLkNPVU5UWSA9IGNvbXBvbmVudHMuYWRtaW5pc3RyYXRpdmVfYXJlYV9sZXZlbF8yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU2l0ZS5aSVAgPSBjb21wb25lbnRzLnBvc3RhbF9jb2RlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kYXBwbHkoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSBsb2NhdGlvbiB3aXRoaW4gdGhlIFUuUy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJUaGVyZSB3YXMgYW4gZXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBQbGVhc2UgdHJ5IGFnYWluLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBnZXRBZGRyZXNzKClcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gbGF0L2xvbmcgc3R1ZmZcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGVcclxuICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnROYW1lID0gbmV3VmFsdWUgIT09IHVuZGVmaW5lZCA/IG5ld1ZhbHVlIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudEV4aXN0cyA9ICRzY29wZS5zZXNzaW9uRXZlbnROYW1lICE9IFwiQWxsIEV2ZW50c1wiID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy93aGVuIFNJVEUuc3RhdGUgY2hhbmdlcywgdXBkYXRlIGNvdW50eSBsaXN0XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQ291bnR5TGlzdCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzdCkgeyByZXR1cm4gc3QuU1RBVEVfQUJCUkVWID09IHM7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuYWxsQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuU1RBVEVfSUQgPT0gdGhpc1N0YXRlLlNUQVRFX0lEOyB9KTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdXBkYXRlQ291bnR5TGlzdCgpIGZvciBTaXRlXHJcblxyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHVuY2VydGFpbnR5IGNsZWFyZWQgYW5kIGRpc2FibGVkIHdoZW4gJ3VucXVhbnRpZmllZCcgaXMgY2hlY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlVucXVhbnRDaGVja2VkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYU9QLlVOUVVBTlRJRklFRCA9PSAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLlVOQ0VSVEFJTlRZID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgdW5xdWFudENoZWNrZWQoKSBmb3Igb3BcclxuXHJcbiAgICAgICAgICAgICAgICAvL2p1c3QgbmVlZCBhbiBPQkpFQ1RJVkVfUE9JTlQgb2JqZWN0IHRvIHBvc3QvcHV0XHJcbiAgICAgICAgICAgICAgICB2YXIgdHJpbU9QID0gZnVuY3Rpb24gKG9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIE9CSl9QVCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgT0JKRUNUSVZFX1BPSU5UX0lEOiBvcC5PQkpFQ1RJVkVfUE9JTlRfSUQgIT09IHVuZGVmaW5lZCA/IG9wLk9CSkVDVElWRV9QT0lOVF9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE5BTUU6IG9wLk5BTUUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERFU0NSSVBUSU9OOiBvcC5ERVNDUklQVElPTixcclxuICAgICAgICAgICAgICAgICAgICAgICAgRUxFVl9GVDogb3AuRUxFVl9GVCAhPT0gdW5kZWZpbmVkID8gb3AuRUxFVl9GVCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEVfRVNUQUJMSVNIRUQ6IG9wLkRBVEVfRVNUQUJMSVNIRUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX0lTX0RFU1RST1lFRDogb3AuT1BfSVNfREVTVFJPWUVEICE9PSB1bmRlZmluZWQgPyBvcC5PUF9JU19ERVNUUk9ZRUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBPUF9OT1RFUzogb3AuT1BfTk9URVMgIT09IHVuZGVmaW5lZCA/IG9wLk9QX05PVEVTIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0lURV9JRDogb3AuU0lURV9JRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkRBVFVNX0lEOiBvcC5WREFUVU1fSUQgIT09IHVuZGVmaW5lZCA/IG9wLlZEQVRVTV9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIExBVElUVURFX0REOiBvcC5MQVRJVFVERV9ERCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgTE9OR0lUVURFX0REOiBvcC5MT05HSVRVREVfREQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhEQVRVTV9JRDogb3AuSERBVFVNX0lEICE9PSB1bmRlZmluZWQgPyBvcC5IREFUVU1fSUQgOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBIQ09MTEVDVF9NRVRIT0RfSUQ6IG9wLkhDT0xMRUNUX01FVEhPRF9JRCAhPT0gdW5kZWZpbmVkID8gb3AuSENPTExFQ1RfTUVUSE9EX0lEIDogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVkNPTExFQ1RfTUVUSE9EX0lEOiBvcC5WQ09MTEVDVF9NRVRIT0RfSUQgIT09IHVuZGVmaW5lZCA/IG9wLlZDT0xMRUNUX01FVEhPRF9JRCA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1RZUEVfSUQ6IG9wLk9QX1RZUEVfSUQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIERBVEVfUkVDT1ZFUkVEOiBvcC5EQVRFX1JFQ09WRVJFRCAhPT0gdW5kZWZpbmVkID8gb3AuREFURV9SRUNPVkVSRUQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBVTkNFUlRBSU5UWTogb3AuVU5DRVJUQUlOVFkgIT09IHVuZGVmaW5lZCA/IG9wLlVOQ0VSVEFJTlRZIDogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgVU5RVUFOVElGSUVEOiBvcC5VTlFVQU5USUZJRUQgIT09IHVuZGVmaW5lZCA/IG9wLlVOUVVBTlRJRklFRCA6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIE9QX1FVQUxJVFlfSUQ6IG9wLk9QX1FVQUxJVFlfSUQgIT09IHVuZGVmaW5lZCA/IG9wLk9QX1FVQUxJVFlfSUQgOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE9CSl9QVDtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9maXggZGVmYXVsdCByYWRpb3MgYW5kIGxhdC9sb25nXHJcbiAgICAgICAgICAgICAgICB2YXIgZm9ybWF0RGVmYXVsdHMgPSBmdW5jdGlvbiAodGhlT1ApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyRzY29wZS5PUC5GVG9yTUVURVIgbmVlZHMgdG8gYmUgJ2Z0Jy4gaWYgJ21ldGVyJyA9PWNvbnZlcnQgdmFsdWUgdG8gZnQgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZU9QLkZUb3JNRVRFUiA9PSBcIm1ldGVyXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5GVG9yTUVURVIgPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkVMRVZfRlQgPSAkc2NvcGUuYU9QLkVMRVZfRlQgKiAzLjI4MDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vJHNjb3BlLk9QLkZUb3JDTSBuZWVkcyB0byBiZSAnZnQnLiBpZiAnY20nID09Y29udmVydCB2YWx1ZSB0byBmdCBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlT1AuRlRvckNNID09IFwiY21cIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYU9QLkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuVU5DRVJUQUlOVFkgPSAkc2NvcGUuYU9QLlVOQ0VSVEFJTlRZIC8gMzAuNDg7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUVycm9ycyA9IGZhbHNlOyAkc2NvcGUub3BFcnJvcnMgPSBmYWxzZTsgJHNjb3BlLmh3bUVycm9ycyA9IGZhbHNlOyBcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZUZvcm0gPSAkc2NvcGUucWh3bUZvcm0ucXVpY2tIV007ICRzY29wZS5zaXRlRXJyb3JzID0gZmFsc2U7ICRzY29wZS5vcEVycm9ycyA9IGZhbHNlOyAkc2NvcGUuaHdtRXJyb3JzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uJHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2l0ZSBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRTaXRlSUQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCA+IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNpdGUuTE9OR0lUVURFX0REID0gJHNjb3BlLmFTaXRlLkxPTkdJVFVERV9ERCAqICgtMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vUE9TVCBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuc2F2ZSgkc2NvcGUuYVNpdGUsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRTaXRlSUQgPSByZXNwb25zZS5TSVRFX0lEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFPUC5TSVRFX0lEID0gY3JlYXRlZFNpdGVJRDsgJHNjb3BlLmFPUC5MQVRJVFVERV9ERCA9IHJlc3BvbnNlLkxBVElUVURFX0REOyAkc2NvcGUuYU9QLkxPTkdJVFVERV9ERCA9IHJlc3BvbnNlLkxPTkdJVFVERV9ERDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hT1AuSERBVFVNX0lEID0gcmVzcG9uc2UuSERBVFVNX0lEOyAkc2NvcGUuYU9QLkhDT0xMRUNUX01FVEhPRF9JRCA9IHJlc3BvbnNlLkhDT0xMRUNUX01FVEhPRF9JRDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5TSVRFX0lEID0gY3JlYXRlZFNpdGVJRDsgJHNjb3BlLmFIV00uV0FURVJCT0RZID0gcmVzcG9uc2UuV0FURVJCT0RZOyAkc2NvcGUuYUhXTS5MQVRJVFVERV9ERCA9IHJlc3BvbnNlLkxBVElUVURFX0REO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uTE9OR0lUVURFX0REID0gcmVzcG9uc2UuTE9OR0lUVURFX0REOyAkc2NvcGUuYUhXTS5IQ09MTEVDVF9NRVRIT0RfSUQgPSByZXNwb25zZS5IQ09MTEVDVF9NRVRIT0RfSUQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5IREFUVU1fSUQgPSByZXNwb25zZS5IREFUVU1fSUQ7ICRzY29wZS5hSFdNLkZMQUdfVEVBTV9JRCA9IHJlc3BvbnNlLk1FTUJFUl9JRDsgJHNjb3BlLmFIV00uRVZFTlRfSUQgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9PUCBzdHVmZiBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZE9QID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdERlZmF1bHRzKCRzY29wZS5hT1ApOyAvLyRzY29wZS5PUC5GVG9yTUVURVIsIEZUb3JDTSwgZGVjRGVnT1JkbXMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgT1B0b1BPU1QgPSB0cmltT1AoJHNjb3BlLmFPUCk7IC8vbWFrZSBpdCBhbiBPQkpFQ1RJVkVfUE9JTlQgZm9yIHNhdmluZ1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIE9CSkVDVElWRV9QT0lOVC5zYXZlKE9QdG9QT1NULCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZE9QID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IGVhY2ggb25lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG9wYyA9IDA7IG9wYyA8ICRzY29wZS5hZGRlZElkZW50aWZpZXJzLmxlbmd0aDsgb3BjKyspXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPQkpFQ1RJVkVfUE9JTlQuY3JlYXRlT1BDb250cm9sSUQoeyBpZDogcmVzcG9uc2UuT0JKRUNUSVZFX1BPSU5UX0lEIH0sICRzY29wZS5hZGRlZElkZW50aWZpZXJzW29wY10pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0hXTSBzdHVmZiBQT1NUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZWRIV00gPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgZW50ZXJlZCBhIHN1cnZleSBkYXRlIG9yIGVsZXZhdGlvbiwgdGhlbiBzZXQgc3VydmV5IG1lbWJlciBhcyB0aGUgZmxhZyBtZW1iZXIgKGZsYWdnaW5nIGFuZCBzdXJ2ZXlpbmcgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLlNVUlZFWV9EQVRFICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlNVUlZFWV9URUFNX0lEID0gJHNjb3BlLmFIV00uRkxBR19URUFNX0lEO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uRUxFVl9GVCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZXkgYWRkZWQgdGhlIHN1cnZleSBkYXRlIGlmIHRoZXkgYWRkZWQgYW4gZWxldmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5TVVJWRVlfREFURSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uU1VSVkVZX0RBVEUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5TVVJWRVlfVEVBTV9JRCA9ICRzY29wZS5hSFdNLkZMQUdfVEVBTV9JRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnNhdmUoJHNjb3BlLmFIV00pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiUXVpY2sgSFdNIGNyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9TaXRlLycgKyBjcmVhdGVkU2l0ZUlEICsgJy9TaXRlRGFzaGJvYXJkJykucmVwbGFjZSgpOy8vLm5vdGlmeShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHBseTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBIV00uc2F2ZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBPUC5zYXZlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgU0lURS5zYXZlKClcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLnNpdGVPcGVuID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cy5vcE9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzLmh3bU9wZW4gPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5lbGVtZW50KFwiW25hbWU9J1wiICsgdGhlRm9ybS4kbmFtZSArIFwiJ11cIikuZmluZCgnLm5nLWludmFsaWQ6dmlzaWJsZTpmaXJzdCcpLmZvY3VzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5TSVRFX0RFU0NSSVBUSU9OLiRpbnZhbGlkIHx8IHRoZUZvcm0uTEFUSVRVREVfREQuJGludmFsaWQgfHwgdGhlRm9ybS5MT05HSVRVREVfREQuJGludmFsaWQgfHwgdGhlRm9ybS5IREFUVU1fSUQuJGludmFsaWQgfHwgdGhlRm9ybS5IQ09MTEVDVF9NRVRIT0RfSUQuJGludmFsaWQgfHwgdGhlRm9ybS5XQVRFUkJPRFkuJGludmFsaWQgfHwgdGhlRm9ybS5TVEFURS4kaW52YWxpZHYgfHwgdGhlRm9ybS5DT1VOVFkuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhlRm9ybS5PUF9UWVBFX0lELiRpbnZhbGlkIHx8IHRoZUZvcm0uTkFNRS4kaW52YWxpZCB8fCB0aGVGb3JtLkRFU0NSSVBUSU9OLiRpbnZhbGlkIHx8IHRoZUZvcm0uZGUuJGludmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcEVycm9ycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZUZvcm0uSFdNX1RZUEVfSUQuJGludmFsaWQgfHwgdGhlRm9ybS5IV01fRU5WSVJPTk1FTlQuJGludmFsaWQgfHwgdGhlRm9ybS5IV01fUVVBTElUWV9JRC4kaW52YWxpZCB8fCB0aGVGb3JtLmZkLiRpbnZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRXJyb3JzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJRdWljayBIV00gbm90IGNyZWF0ZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG5cclxuICAgICAgICAgICAgfS8vZW5kIGVsc2UgKGxvZ2dlZCBpbilcclxuICAgICAgICB9XSk7XHJcbiAgXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBNb2RhbENvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ01vZGFsQ29udHJvbGxlcnMnKTtcclxuICAgIE1vZGFsQ29udHJvbGxlcnMuY29udHJvbGxlcignaHdtTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckc2NlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJyR1aWJNb2RhbCcsICdTRVJWRVJfVVJMJywgJ0ZJTEVfU1RBTVAnLCAnYWxsRHJvcGRvd25zJywgJ1NpdGVfRmlsZXMnLCAndGhpc0hXTScsICdhbGxTaXRlSFdNcycsICdod21BcHByb3ZhbCcsICdhZ2VuY3lMaXN0JywgJ2h3bVNpdGUnLCAnYWxsTWVtYmVycycsICdIV00nLCAnU09VUkNFJywgJ0ZJTEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHNjZSwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgYWxsRHJvcGRvd25zLCBTaXRlX0ZpbGVzLCB0aGlzSFdNLCBhbGxTaXRlSFdNcywgaHdtQXBwcm92YWwsIGFnZW5jeUxpc3QsIGh3bVNpdGUsIGFsbE1lbWJlcnMsIEhXTSwgU09VUkNFLCBGSUxFKSB7XHJcbiAgICAgICAgICAgIC8vZHJvcGRvd25zXHJcbiAgICAgICAgICAgICRzY29wZS52aWV3ID0geyBIV012YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgICRzY29wZS5oID0geyBoT3BlbjogdHJ1ZSwgaEZpbGVPcGVuOiBmYWxzZSB9OyAvL2FjY29yZGlvbnNcclxuICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzBdO1xyXG4gICAgICAgICAgICAkc2NvcGUuaHdtUXVhbExpc3QgPSBhbGxEcm9wZG93bnNbMV07XHJcbiAgICAgICAgICAgICRzY29wZS5IRGF0dW1zTGlzdCA9IGFsbERyb3Bkb3duc1syXTtcclxuICAgICAgICAgICAgJHNjb3BlLmhDb2xsTUxpc3QgPSBhbGxEcm9wZG93bnNbM107XHJcbiAgICAgICAgICAgICRzY29wZS5WRGF0dW1zTGlzdCA9IGFsbERyb3Bkb3duc1s0XTtcclxuICAgICAgICAgICAgJHNjb3BlLnZDb2xsTUxpc3QgPSBhbGxEcm9wZG93bnNbNV07XHJcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJMaXN0ID0gYWxsRHJvcGRvd25zWzZdO1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0ID0gYWxsRHJvcGRvd25zWzddO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVMaXN0ID0gYWxsRHJvcGRvd25zWzhdOyAvL3VzZWQgaWYgY3JlYXRpbmcvZWRpdGluZyBIV00gZmlsZSAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCk7XHJcbiAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IHRoaXNIV00gIT09IFwiZW1wdHlcIiA/ICRzY29wZS5hbGxTRmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZikgeyByZXR1cm4gc2YuaHdtX2lkID09IHRoaXNIV00uaHdtX2lkOyB9KSA6IFtdOy8vIGhvbGRlciBmb3IgaHdtIGZpbGVzIGFkZGVkXHJcbiAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzID0gJHNjb3BlLkhXTUZpbGVzLmZpbHRlcihmdW5jdGlvbiAoaGYpIHsgcmV0dXJuIGhmLmZpbGV0eXBlX2lkID09PSAxOyB9KTsgLy9pbWFnZSBmaWxlcyBmb3IgY2Fyb3VzZWxcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IFwiXCI7IC8vanVzdCBmb3Igc2hvdyBvbiBwYWdlXHJcbiAgICAgICAgICAgICRzY29wZS5TdXJ2ZXlNZW1iZXIgPSBcIlwiOyAvL2p1c3QgZm9yIHNob3cgb24gcGFnZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSBmYWxzZTsgLy90b2dnbGUgdG8gc2hvdy9oaWRlIGV2ZW50IGRkIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307IC8vd2lsbCBob2xkIGV2ZW50X2lkIGlmIGFkbWluIGNoYW5nZXMgaXQuIGFwcGx5IHdoZW4gUFVUdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDsgLy9jb25zdGFudCB3aXRoIHN0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMiBcclxuICAgICAgICAgICAgLy9idXR0b24gY2xpY2sgdG8gc2hvdyBldmVudCBkcm9wZG93biB0byBjaGFuZ2UgaXQgb24gZXhpc3RpbmcgaHdtIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZUV2ZW50REQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSAhJHNjb3BlLnNob3dFdmVudEREO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jaGFuZ2UgZXZlbnQgPSBhcHBseSBpdCB0byB0aGUgJHNjb3BlLkV2ZW50TmFtZVxyXG4gICAgICAgICAgICAkc2NvcGUuQ2hhbmdlRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBlbC5ldmVudF9pZCA9PSAkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7XHJcbiAgICAgICAgICAgICRzY29wZS5Mb2dnZWRJbk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkY29va2llcy5nZXQoJ21JRCcpOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hSFdNID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNIV01zaXRlID0gaHdtU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mbyA9IHt9OyAvL3doZW4gaXQgZ2V0cyBhcHByb3ZlZCBvciBpZiBpdCBpcyBhcHByb3ZlZCwgcG9wdWxhdGUgdGhpcyB3aXRoIG1lbWJlciBhbmQgZGF0ZVxyXG4gICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWcgbWluIHNlYyB0byBkZWMgZGVncmVlc1xyXG4gICAgICAgICAgICB2YXIgYXppbXV0aCA9IGZ1bmN0aW9uIChkZWcsIG1pbiwgc2VjKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXppID0gMDtcclxuICAgICAgICAgICAgICAgIGlmIChkZWcgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gLTEuMCAqIGRlZyArIDEuMCAqIG1pbiAvIDYwLjAgKyAxLjAgKiBzZWMgLyAzNjAwLjA7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgtMS4wICogYXppKS50b0ZpeGVkKDUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXppID0gMS4wICogZGVnICsgMS4wICogbWluIC8gNjAuMCArIDEuMCAqIHNlYyAvIDM2MDAuMDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGF6aSkudG9GaXhlZCg1KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY29udmVydCBkZWMgZGVncmVlcyB0byBkbXNcclxuICAgICAgICAgICAgdmFyIGRlZ190b19kbXMgPSBmdW5jdGlvbiAoZGVnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGVnIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZyA9IGRlZy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2xvbmdpdHVkZSwgcmVtb3ZlIHRoZSAtIHNpZ25cclxuICAgICAgICAgICAgICAgICAgICBkZWcgPSBkZWcuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSBNYXRoLmZsb29yKGRlZyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWluZmxvYXQgPSAoZGVnIC0gZCkgKiA2MDtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gTWF0aC5mbG9vcihtaW5mbG9hdCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgcyA9ICgobWluZmxvYXQgLSBtKSAqIDYwKS50b0ZpeGVkKDMpO1xyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiAoXCJcIiArIGQgKyBcIjpcIiArIG0gKyBcIjpcIiArIHMpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy90aGV5IGNoYW5nZWQgcmFkaW8gYnV0dG9uIGZvciBkbXMgZGVjIGRlZ1xyXG4gICAgICAgICAgICAkc2NvcGUubGF0TG9uZ0NoYW5nZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3JlYXRlT1JlZGl0SFdNID09ICdlZGl0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5kZWNEZWdPUmRtcyA9PSBcImRkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgRGVjIERlZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLkRNUy5MQURlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTEFNaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9jb252ZXJ0IHdoYXQncyBoZXJlIGZvciBlYWNoIGxhdCBhbmQgbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyBtb2RhbCB0ZWxsaW5nIHRoZW0gdG8gcG9wdWxhdGUgYWxsIHRocmVlIChETVMpIGZvciBjb252ZXJzaW9uIHRvIHdvcmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBETVNkZE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwb3B1bGF0ZSBhbGwgdGhyZWUgaW5wdXRzIGZvciBjb252ZXJzaW9uIGZyb20gRE1TIHRvIERlY2ltYWwgRGVncmVlcyB0byB3b3JrLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERNU2RkTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXRETVMgPSAoZGVnX3RvX2Rtcygkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCkpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFkRE1TYXJyYXkgPSBsYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBsYWRETVNhcnJheVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFNaW4gPSBsYWRETVNhcnJheVsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFTZWMgPSBsYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ0RNUyA9IGRlZ190b19kbXMoJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsb25nRE1TYXJyYXkgPSBsb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gbG9uZ0RNU2FycmF5WzBdICogLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPTWluID0gbG9uZ0RNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT1NlYyA9IGxvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkOyAkc2NvcGUuaHdtQ29weS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY3JlYXRlIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uZGVjRGVnT1JkbXMgPT0gXCJkZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhleSBjbGlja2VkIERlYyBEZWcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLkRNUy5MQVNlYyAhPT0gdW5kZWZpbmVkKSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5ETVMuTE9NaW4gIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCB3aGF0J3MgaGVyZSBmb3IgZWFjaCBsYXQgYW5kIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NsZWFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgdGVsbGluZyB0aGVtIHRvIHBvcHVsYXRlIGFsbCB0aHJlZSAoRE1TKSBmb3IgY29udmVyc2lvbiB0byB3b3JrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgRE1TTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCB0aHJlZSBpbnB1dHMgZm9yIGNvbnZlcnNpb24gZnJvbSBETVMgdG8gRGVjaW1hbCBEZWdyZWVzIHRvIHdvcmsuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRE1TTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MQU1pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTEFTZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQgfHwgJHNjb3BlLkRNUy5MT01pbiAhPT0gdW5kZWZpbmVkIHx8ICRzY29wZS5ETVMuTE9TZWMgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmRlY0RlZ09SZG1zID0gXCJkbXNcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgZG1zIChjb252ZXJ0IGxhdC9sb25nIHRvIGRtcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmxhdGl0dWRlX2RkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVfbGF0RE1TID0gKGRlZ190b19kbXMoJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZV9sYWRETVNhcnJheSA9IGNyZWF0ZV9sYXRETVMuc3BsaXQoJzonKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ETVMuTEFEZWcgPSBjcmVhdGVfbGFkRE1TYXJyYXlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxBTWluID0gY3JlYXRlX2xhZERNU2FycmF5WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MQVNlYyA9IGNyZWF0ZV9sYWRETVNhcnJheVsyXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVMgPSBkZWdfdG9fZG1zKCRzY29wZS5hSFdNLmxvbmdpdHVkZV9kZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlX2xvbmdETVNhcnJheSA9IGNyZWF0ZV9sb25nRE1TLnNwbGl0KCc6Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPRGVnID0gY3JlYXRlX2xvbmdETVNhcnJheVswXSAqIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkRNUy5MT01pbiA9IGNyZWF0ZV9sb25nRE1TYXJyYXlbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRE1TLkxPU2VjID0gY3JlYXRlX2xvbmdETVNhcnJheVsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY2xlYXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkOyAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3LCBtZXNzYWdlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+e3ttZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3Nob3cnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyA9PSAncmFuZ2UnKSAkc2NvcGUubWVzc2FnZSA9ICdUaGUgTGF0aXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIDAgYW5kIDczLjAnO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3cgPT0gJ2Rpc3RhbmNlJykgJHNjb3BlLm1lc3NhZ2UgPSAnTGF0aXR1ZGUgcGxhY2VzIHRoZSBIV00gbW9yZSB0aGFuIDIzMiBmdCBmcm9tIHRoZSBzaXRlXFwncyBsYXRpdHVkZS4gUGxlYXNlIHZlcmlmeSBiZWZvcmUgY29udGludWluZy4nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbGF0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbGF0aXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTGFEZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9sb25nIG1vZGFsXHJcbiAgICAgICAgICAgIHZhciBvcGVuTG9uZ01vZGFsID0gZnVuY3Rpb24gKHcsIG1lc3NhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+e3ttZXNzYWdlfX08L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ3Nob3cnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgc2hvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2hvdyA9PSAncmFuZ2UnKSAkc2NvcGUubWVzc2FnZSA9ICdUaGUgTG9uZ2l0dWRlIG11c3QgYmUgYmV0d2VlbiAtMTc1LjAgYW5kIC02MC4wJztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG93ID09ICdkaXN0YW5jZScpICRzY29wZS5tZXNzYWdlID0gJ0xvbmdpdHVkZSBwbGFjZXMgdGhlIEhXTSBtb3JlIHRoYW4gMjMyIGZ0IGZyb20gdGhlIHNpdGVcXCdzIGxvbmdpdHVkZS4gUGxlYXNlIHZlcmlmeSBiZWZvcmUgY29udGludWluZyc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsb25nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGZpZWxkRm9jdXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodyA9PSAnbGF0bG9uZycpICQoXCIjbG9uZ2l0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xvRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGQgPT0gJ2RtcycpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBkZWdyZWUgdmFsdWUgKGxlc3MgdGhhbi9ncmVhdGVyIHRoYW4gYW5kIGlmIGl0J3MgYSBudW1iZXJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MQURlZyA8IDAgfHwgJHNjb3BlLkRNUy5MQURlZyA+IDczIHx8IChpc05hTigkc2NvcGUuRE1TLkxBRGVnKSAmJiAkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBTWluKSAmJiAkc2NvcGUuRE1TLkxBTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSAmJiAkc2NvcGUuRE1TLkxBU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnZG1zJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTEFEZWcpKSAkc2NvcGUuRE1TLkxBRGVnID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MQU1pbikpICRzY29wZS5ETVMuTEFNaW4gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxBU2VjKSkgJHNjb3BlLkRNUy5MQVNlYyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGRpc3RhbmNlIGlzIGZhcnRoZXIgdGhhbiAyMzIgZnQgZnJvbSBzaXRlJ3MgbGF0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYXQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0RGlzID0gaHdtU2l0ZS5sYXRpdHVkZV9kZCAtIGxhdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGxhdERpcykgPiAwLjAwMDUpIG9wZW5MYXRNb2RhbCgnZG1zJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnIDwgLTE3NSB8fCAkc2NvcGUuRE1TLkxPRGVnID4gLTYwIHx8IChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSAmJiAkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPTWluKSAmJiAkc2NvcGUuRE1TLkxPTWluICE9PSB1bmRlZmluZWQpIHx8IChpc05hTigkc2NvcGUuRE1TLkxPU2VjKSAmJiAkc2NvcGUuRE1TLkxPU2VjICE9PSB1bmRlZmluZWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2RtcycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTigkc2NvcGUuRE1TLkxPRGVnKSkgJHNjb3BlLkRNUy5MT0RlZyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5ETVMuTE9NaW4pKSAkc2NvcGUuRE1TLkxPTWluID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLkRNUy5MT1NlYykpICRzY29wZS5ETVMuTE9TZWMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9jaGVjayBpZiBkaXN0YW5jZSBpcyBmYXJ0aGVyIHRoYW4gMjMyIGZ0IGZyb20gc2l0ZSdzIGxvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvID0gYXppbXV0aCgkc2NvcGUuRE1TLkxPRGVnLCAkc2NvcGUuRE1TLkxPTWluLCAkc2NvcGUuRE1TLkxPU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvRGlzID0gaHdtU2l0ZS5sb25naXR1ZGVfZGQgLSBsbztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGxvRGlzKSA+IDAuMDAwNSkgb3BlbkxvbmdNb2RhbCgnZG1zJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRoZSBsYXRpdHVkZS9sb25naXR1ZGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaC5sYXRpdHVkZV9kZCA8IDAgfHwgaC5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKGgubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycsICdyYW5nZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihoLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZGlzdGFuY2UgZnJvbSBzaXRlJ3MgbGF0L2xvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdERpc3RhbmNlID0gaHdtU2l0ZS5sYXRpdHVkZV9kZCAtIGgubGF0aXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsYXREaXN0YW5jZSkgPiAwLjAwMDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5MYXRNb2RhbCgnbGF0bG9uZycsICdkaXN0YW5jZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChoLmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgaC5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oaC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oaC5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgZGlzdGFuY2UgZnJvbSBzaXRlJ3MgbGF0L2xvbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxvbmdEaXN0YW5jZSA9IGh3bVNpdGUubG9uZ2l0dWRlX2RkIC0gaC5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLmFicyhsb25nRGlzdGFuY2UpID4gMC4wMDA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ2Rpc3RhbmNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vICBsYXQvbG9uZyA9aXMgbnVtYmVyXHJcbiAgICAgICAgICAgICRzY29wZS5pc051bSA9IGZ1bmN0aW9uIChldnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVFdmVudCA9IGV2dCB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gdGhlRXZlbnQua2V5Q29kZSB8fCB0aGVFdmVudC53aGljaDtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT0gNDYgJiYga2V5ICE9IDQ1ICYmIGtleSA+IDMxICYmIChrZXkgPCA0OCB8fCBrZXkgPiA1NykpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGVFdmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGVFdmVudC5wcmV2ZW50RGVmYXVsdCkgdGhlRXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9od21fdW5jZXJ0YWludHkgdHlwZWQgaW4sIGNob29zZSBjb29yZXNwb25kaW5nIGh3bV9lbnZpcm9ubWVudFxyXG4gICAgICAgICAgICAkc2NvcGUuY2hvb3NlUXVhbGl0eSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBpZiAoaC5od21fdW5jZXJ0YWludHkgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcihoLmh3bV91bmNlcnRhaW50eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEV4Y2VsbGVudCAgICArLTAuMDUgICAgICAgMCAgICAgIC0gIDAuMDUwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEdvb2QgICAgICAgICArLTAuMTAgICAgICAgMC4wNTEgIC0gIDAuMTAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIEZhaXIgICAgICAgICArLTAuMjAgICAgICAgMC4xMDEgIC0gIDAuMjAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFBvb3IgICAgICAgICArLTAuNDAgICAgICAgMC4yMDEgIC0gIDAuNDAwXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gIFYgUG9vciAgICAgICA+IDAuNDAgICAgICAgMC40MDEgIC0gIGluZmluaXR5XHJcbiAgICAgICAgICAgICAgICAgICAgaC5od21fcXVhbGl0eV9pZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtIHF1YWxpdHkgY2hvc2VuIChvciBpdCBjaGFuZ2VkIGZyb20gYWJvdmUpLCBjaGVjayB0byBtYWtlIHN1cmUgaXQgaXMgY29uZ3J1ZW50IHdpdGggaW5wdXQgYWJvdmVcclxuICAgICAgICAgICAgJHNjb3BlLmNvbXBhcmVUb1VuY2VydGFpbnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmh3bV91bmNlcnRhaW50eSAhPT0gXCJcIiAmJiBoLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGluZ1F1YWxJZCA9ICRzY29wZS5od21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGgubWluX3JhbmdlIDw9IHggJiYgaC5tYXhfcmFuZ2UgPj0geDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGguaHdtX3F1YWxpdHlfaWQgIT09IG1hdGNoaW5nUXVhbElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsIGFuZCBmb2N1cyBpbiB1bmNlcnRhaW50eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBpcyBhIG1pc21hdGNoIGJldHdlZW4gdGhlIGh3bSBxdWFsaXR5IGNob3NlbiBhbmQgdGhlIGh3bSB1bmNlcnRhaW50eSBhYm92ZS4gUGxlYXNlIGNvcnJlY3QgeW91ciBod20gdW5jZXJ0YWludHkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvbmdydWVudE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzSFdNICE9IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIGV4aXN0aW5nIEhXTVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEhXTSA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gYW5ndWxhci5jb3B5KHRoaXNIV00pO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgYWxsIHRoZSBuYW1lcyBmb3IgZGV0YWlscyB2aWV3XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5od21fdHlwZSA9ICRzY29wZS5od21UeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGh0KSB7IHJldHVybiBodC5od21fdHlwZV9pZCA9PSAkc2NvcGUuYUhXTS5od21fdHlwZV9pZDsgfSlbMF0uaHdtX3R5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3RpbGx3YXRlciAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlRyYW5xdWlsID0gJHNjb3BlLmFIV00uc3RpbGx3YXRlciA+IDAgPyAnWWVzJyA6ICdObyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5NYXJrZXIgPSAkc2NvcGUuYUhXTS5tYXJrZXJfaWQgPiAwID8gJHNjb3BlLm1hcmtlckxpc3QuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1hcmtlcl9pZCA9PSAkc2NvcGUuYUhXTS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcjEgOiAnJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlF1YWxpdHkgPSAkc2NvcGUuYUhXTS5od21fcXVhbGl0eV9pZCA+IDAgPyAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChocSkgeyByZXR1cm4gaHEuaHdtX3F1YWxpdHlfaWQgPT0gJHNjb3BlLmFIV00uaHdtX3F1YWxpdHlfaWQ7IH0pWzBdLmh3bV9xdWFsaXR5IDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5oZGF0dW0gPSAkc2NvcGUuYUhXTS5oZGF0dW1faWQgPiAwID8gJHNjb3BlLkhEYXR1bXNMaXN0LmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX2lkID09ICRzY29wZS5hSFdNLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaENvbGxlY3RNZXRob2QgPSAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLmhDb2xsTUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChoYykgeyByZXR1cm4gaGMuaGNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5hSFdNLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS52RGF0dW0gPSAkc2NvcGUuYUhXTS52ZGF0dW1faWQgPiAwID8gJHNjb3BlLlZEYXR1bXNMaXN0LmZpbHRlcihmdW5jdGlvbiAodmQpIHsgcmV0dXJuIHZkLmRhdHVtX2lkID09ICRzY29wZS5hSFdNLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udkNvbGxlY3RNZXRob2QgPSAkc2NvcGUuYUhXTS52Y29sbGVjdF9tZXRob2RfaWQgPiAwID8gJHNjb3BlLnZDb2xsTUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2YykgeyByZXR1cm4gdmMudmNvbGxlY3RfbWV0aG9kX2lkID09ICRzY29wZS5hSFdNLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogJyc7XHJcbiAgICAgICAgICAgICAgICAvL2dldCBhcHByb3ZhbCBpbmZvIGlmIGFueVxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLmFwcHJvdmFsX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBIV00uZ2V0SFdNQXBwcm92YWwoeyBpZDogJHNjb3BlLmFIV00uaHdtX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uYXBwcm92YWxEYXRlID0gbmV3IERhdGUocmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSByZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod20gYXBwcm92YWwgaW5mbzogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtIGFwcHJvdmFsIGluZm86IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtTW9kYWxIZWFkZXIgPSBcIkhXTSBJbmZvcm1hdGlvblwiO1xyXG4gICAgICAgICAgICAgICAgLy9nZXQgdGhpcyBod20ncyBldmVudCBuYW1lXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmFIV00uZXZlbnRfaWQgPiAwID8gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmFIV00uZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWUgOiAnTm9uZSBwcm92aWRlZCc7XHJcbiAgICAgICAgICAgICAgICAvL2RhdGUgZm9ybWF0dGluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAvL2lmIHRoaXMgaXMgc3VydmV5ZWQsIGRhdGUgZm9ybWF0IGFuZCBnZXQgc3VydmV5IG1lbWJlcidzIG5hbWVcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5TdXJ2ZXlNZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmFIV00uc3VydmV5X21lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2dldCBmbGFnZ2luZyBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gZXhpc3RpbmcgSFdNXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gbmV3IEhXTVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bU1vZGFsSGVhZGVyID0gXCJDcmVhdGUgbmV3IEhXTVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEhXTSA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgLy91c2Ugc2l0ZSdzIExBVCwgTE9ORywgd2F0ZXJib2R5LCBIREFUVU0sIEhDT0xMRUNUTUVUSE9ELCBzZXQgRkxBR0RBVEUgd2l0aCB0b2RheVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoaXNIV01zaXRlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRfaWQ6ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSxcclxuICAgICAgICAgICAgICAgICAgICBod21fZW52aXJvbm1lbnQ6ICdSaXZlcmluZScsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFuazogJ04vQScsXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2xhYmVsOiAnbm9fbGFiZWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0aWxsd2F0ZXI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6IGh3bVNpdGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiBod21TaXRlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICB3YXRlcmJvZHk6IGh3bVNpdGUud2F0ZXJib2R5LFxyXG4gICAgICAgICAgICAgICAgICAgIGhkYXR1bV9pZDogaHdtU2l0ZS5oZGF0dW1faWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGNvbGxlY3RfbWV0aG9kX2lkOiBod21TaXRlLmhjb2xsZWN0X21ldGhvZF9pZCxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX2RhdGU6IG1ha2VBZGF0ZShcIlwiKSxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX21lbWJlcl9pZDogJHNjb3BlLkxvZ2dlZEluTWVtYmVyLm1lbWJlcl9pZFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudE5hbWUgPSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5GbGFnTWVtYmVyID0gJHNjb3BlLkxvZ2dlZEluTWVtYmVyO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIG5ldyBIV01cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL3JhZGlvIGJ1dHRvbiBkZWZhdWx0c1xyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTS5kZWNEZWdPUmRtcyA9ICdkZCc7XHJcbiAgICAgICAgICAgICRzY29wZS5hSFdNLkZUb3JDTSA9ICdmdCc7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuY3JlYXRlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZEhXTSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxBRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID0gYXppbXV0aCgkc2NvcGUuRE1TLkxBRGVnLCAkc2NvcGUuRE1TLkxBTWluLCAkc2NvcGUuRE1TLkxBU2VjKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkRNUy5MT0RlZyAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTE9EZWcsICRzY29wZS5ETVMuTE9NaW4sICRzY29wZS5ETVMuTE9TZWMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBjaGVjayB0aGF0IHRoZSBsYXQvbG9uZyBhcmUgd2l0aGluIGNvcnJlY3QgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQgPCAwIHx8ICRzY29wZS5hSFdNLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhdGl0dWRlIGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFIV00ubGF0aXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5sYXRpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUuYUhXTS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb25naXR1ZGVfZGQgaXMgb3V0IG9mIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5Mb25nTW9kYWwoJ2xhdGxvbmcnLCAncmFuZ2UnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00ubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGF0IGFuZCBsb25nIGFyZSBnb29kIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgZW50ZXJlZCBhIHN1cnZleSBkYXRlIG9yIGVsZXZhdGlvbiwgdGhlbiBzZXQgc3VydmV5IG1lbWJlciBhcyB0aGUgZmxhZyBtZW1iZXIgKGZsYWdnaW5nIGFuZCBzdXJ2ZXlpbmcgYXQgc2FtZSB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X21lbWJlcl9pZCA9ICRzY29wZS5mbGFnX21lbWJlcl9pZDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5GVG9yQ00gPT0gXCJjbVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5GVG9yQ00gPSAnZnQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnVuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udW5jZXJ0YWludHkgPSBwYXJzZUZsb2F0KCRzY29wZS5hSFdNLnVuY2VydGFpbnR5IC8gMzAuNDgpLnRvRml4ZWQoNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFIV00uZWxldl9mdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgdGhleSBhZGRlZCB0aGUgc3VydmV5IGRhdGUgaWYgdGhleSBhZGRlZCBhbiBlbGV2YXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9PT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9tZW1iZXJfaWQgPSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5zYXZlKCRzY29wZS5hSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEhXTSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gY3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkSFdNLCAnY3JlYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgYWxsJ3MgZ29vZCB0byBwb3N0XHJcbiAgICAgICAgICAgICAgICB9Ly8gZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgY3JlYXRlKClcclxuXHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGh3bSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNIV00gPSAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIEhXTTwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSByZWFkeSB0byBhcHByb3ZlIHRoaXMgSFdNPzwvcD48cD5UaGUgc3VydmV5ZWQgZWxldmF0aW9uIGlzIHt7YXBwcm92ZUhXTS5lbGV2X2Z0IHx8ICctLS0nfX08L3A+PHA+VGhlIGhlaWdodCBhYm92ZSBncm91bmQgaXMge3thcHByb3ZlSFdNLmhlaWdodF9hYm92ZV9nbmQgfHwgJy0tLSd9fTwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVIV00gPSB0aGlzSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBIV00uYXBwcm92ZUhXTSh7IGlkOiBoLmh3bV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBBcHByb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5NZW1iZXIgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gYXBwcm92YWxSZXNwb25zZS5tZW1iZXJfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3ZhciBzZW5kQmFjayA9IFtoLCAndXBkYXRlZCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGFwcHJvdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9sb2dpYyBmb3IgY2FuY2VsXHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2FwcHJvdmUgdGhpcyBod20gKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNIV00gPSAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIHZhciB1bmFwcHJvdmVNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPlJlbW92ZSBBcHByb3ZhbDwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSBzdXJlIHlvdSB3YW4gdG8gdW5hcHByb3ZlIHRoaXMgSFdNPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J3VuQXBwcm92ZUl0KCknPlVuYXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlSFdNID0gdGhpc0hXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlSXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS51bkFwcHJvdmVIV00oeyBpZDogaC5od21faWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguYXBwcm92YWxfaWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSBVbmFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdmFyIHNlbmRCYWNrID0gW2gsICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdW5hcHByb3Zpbmc6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBjYW5jZWxcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB2YXIgZm9ybWF0SFdNID0gZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRIV00gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiBoLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICB3YXRlcmJvZHk6IGgud2F0ZXJib2R5LFxyXG4gICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6IGguc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBldmVudF9pZDogaC5ldmVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fdHlwZV9pZDogaC5od21fdHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fcXVhbGl0eV9pZDogaC5od21fcXVhbGl0eV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fbG9jYXRpb25kZXNjcmlwdGlvbjogaC5od21fbG9jYXRpb25kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogaC5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6IGgubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1cnZleV9kYXRlOiBoLnN1cnZleV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIGVsZXZfZnQ6IGguZWxldl9mdCxcclxuICAgICAgICAgICAgICAgICAgICB2ZGF0dW1faWQ6IGgudmRhdHVtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIHZjb2xsZWN0X21ldGhvZF9pZDogaC52Y29sbGVjdF9tZXRob2RfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYmFuazogaC5iYW5rLFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmFsX2lkOiBoLmFwcHJvdmFsX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcl9pZDogaC5tYXJrZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0X2Fib3ZlX2duZDogaC5oZWlnaHRfYWJvdmVfZ25kLFxyXG4gICAgICAgICAgICAgICAgICAgIGhjb2xsZWN0X21ldGhvZF9pZDogaC5oY29sbGVjdF9tZXRob2RfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgcGVha19zdW1tYXJ5X2lkOiBoLnBlYWtfc3VtbWFyeV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBod21fbm90ZXM6IGguaHdtX25vdGVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGh3bV9lbnZpcm9ubWVudDogaC5od21fZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgZmxhZ19kYXRlOiBoLmZsYWdfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICBzdGlsbHdhdGVyOiBoLnN0aWxsd2F0ZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgaGRhdHVtX2lkOiBoLmhkYXR1bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICBmbGFnX21lbWJlcl9pZDogaC5mbGFnX21lbWJlcl9pZCxcclxuICAgICAgICAgICAgICAgICAgICBzdXJ2ZXlfbWVtYmVyX2lkOiBoLnN1cnZleV9tZW1iZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdW5jZXJ0YWludHk6IGgudW5jZXJ0YWludHksXHJcbiAgICAgICAgICAgICAgICAgICAgaHdtX3VuY2VydGFpbnR5OiBoLmh3bV91bmNlcnRhaW50eSxcclxuICAgICAgICAgICAgICAgICAgICBod21fbGFiZWw6IGguaHdtX2xhYmVsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdHRlZEhXTTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9zYXZlIGFIV01cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5ETVMuTEFEZWcgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSBhemltdXRoKCRzY29wZS5ETVMuTEFEZWcsICRzY29wZS5ETVMuTEFNaW4sICRzY29wZS5ETVMuTEFTZWMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuRE1TLkxPRGVnICE9PSB1bmRlZmluZWQpICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA9IGF6aW11dGgoJHNjb3BlLkRNUy5MT0RlZywgJHNjb3BlLkRNUy5MT01pbiwgJHNjb3BlLkRNUy5MT1NlYyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgdGhhdCB0aGUgbGF0L2xvbmcgYXJlIHdpdGhpbiBjb3JyZWN0IHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUuaHdtQ29weS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsYXRpdHVkZSBpcyBvdXQgb2YgcmFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3BlbkxhdE1vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5od21Db3B5LmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA8IC0xNzUgfHwgJHNjb3BlLmh3bUNvcHkubG9uZ2l0dWRlX2RkID4gLTYwIHx8IGlzTmFOKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9uZ2l0dWRlX2RkIGlzIG91dCBvZiByYW5nZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJywgJ3JhbmdlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmxvbmdpdHVkZV9kZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxhdCBhbmQgbG9uZyBhcmUgZ29vZCFcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYWRtaW5DaGFuZ2VkLmV2ZW50X2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRtaW4gY2hhbmdlZCB0aGUgZXZlbnQgZm9yIHRoaXMgaHdtLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lmIHRoZXkgYWRkZWQgYSBzdXJ2ZXkgZGF0ZSwgYXBwbHkgc3VydmV5IG1lbWJlciBhcyBsb2dnZWQgaW4gbWVtYmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LkZUb3JDTSA9PSBcImNtXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkudW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS51bmNlcnRhaW50eSA9IHBhcnNlRmxvYXQoJHNjb3BlLmh3bUNvcHkudW5jZXJ0YWludHkgLyAzMC40OCkudG9GaXhlZCg2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LmVsZXZfZnQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuaHdtQ29weS5lbGV2X2Z0ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGFkZGVkIHRoZSBzdXJ2ZXkgZGF0ZSBpZiB0aGV5IGFkZGVkIGFuIGVsZXZhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID09PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoXCJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfbWVtYmVyX2lkID0gJGNvb2tpZXMuZ2V0KCdtSUQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbGVhbkhXTSA9IGZvcm1hdEhXTSgkc2NvcGUuaHdtQ29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogY2xlYW5IV00uaHdtX2lkIH0sIGNsZWFuSFdNKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gdXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gcmVzcG9uc2U7IHRoaXNIV00gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZ2V0IGFsbCB0aGUgbmFtZXMgZm9yIGRldGFpbHMgdmlld1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaHdtX3R5cGUgPSAkc2NvcGUuaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGVfaWQgPT0gJHNjb3BlLmFIV00uaHdtX3R5cGVfaWQ7IH0pWzBdLmh3bV90eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5UcmFucXVpbCA9ICRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgPiAwID8gJ1llcycgOiAnTm8nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uTWFya2VyID0gJHNjb3BlLmFIV00ubWFya2VyX2lkID4gMCA/ICRzY29wZS5tYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXJfaWQgPT0gJHNjb3BlLmFIV00ubWFya2VyX2lkOyB9KVswXS5tYXJrZXIxIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5RdWFsaXR5ID0gJHNjb3BlLmFIV00uaHdtX3F1YWxpdHlfaWQgPiAwID8gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHEpIHsgcmV0dXJuIGhxLmh3bV9xdWFsaXR5X2lkID09ICRzY29wZS5hSFdNLmh3bV9xdWFsaXR5X2lkOyB9KVswXS5od21fcXVhbGl0eSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uaGRhdHVtID0gJHNjb3BlLmFIV00uaGRhdHVtX2lkID4gMCA/ICRzY29wZS5IRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLmhDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00uaGNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS5oQ29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAoaGMpIHsgcmV0dXJuIGhjLmhjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS5oY29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLmhjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00udkRhdHVtID0gJHNjb3BlLmFIV00udmRhdHVtX2lkID4gMCA/ICRzY29wZS5WRGF0dW1zTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSAkc2NvcGUuYUhXTS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX25hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnZDb2xsZWN0TWV0aG9kID0gJHNjb3BlLmFIV00udmNvbGxlY3RfbWV0aG9kX2lkID4gMCA/ICRzY29wZS52Q29sbE1MaXN0LmZpbHRlcihmdW5jdGlvbiAodmMpIHsgcmV0dXJuIHZjLnZjb2xsZWN0X21ldGhvZF9pZCA9PSAkc2NvcGUuYUhXTS52Y29sbGVjdF9tZXRob2RfaWQ7IH0pWzBdLnZjb2xsZWN0X21ldGhvZCA6ICcnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uZmxhZ19kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLmZsYWdfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2lzIGl0IGFwcHJvdmVkP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bUFwcHJvdmFsICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGh3bUFwcHJvdmFsLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBod21BcHByb3ZhbC5tZW1iZXJfaWQ7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBzdXJ2ZXllZCwgZGF0ZSBmb3JtYXQgYW5kIGdldCBzdXJ2ZXkgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSBudWxsICYmICRzY29wZS5hSFdNLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZSgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlN1cnZleU1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5zdXJ2ZXlfbWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2dldCBmbGFnZ2luZyBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuRmxhZ01lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLm1lbWJlcl9pZCA9PSAkc2NvcGUuYUhXTS5mbGFnX21lbWJlcl9pZDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgc2VuZEJhY2sgPSBbdXBkYXRlZEhXTSwgJ3VwZGF0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vIGVuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgYUhXTVxyXG4gICAgICAgICAgICAkc2NvcGUuZGVsZXRlSFdNID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9UT0RPOjogRGVsZXRlIHRoZSBmaWxlcyBmb3IgdGhpcyBod20gdG9vIG9yIHJlYXNzaWduIHRvIHRoZSBTaXRlPz8gU2VydmljZXMgb3IgY2xpZW50IGhhbmRsaW5nP1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJIV01cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIERlbGV0ZU1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGh3bVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS5kZWxldGUoeyBpZDogaHdtVG9SZW1vdmUuaHdtX2lkIH0sIGh3bVRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzID0gW107IC8vY2xlYXIgb3V0IGh3bUZpbGVzIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBpbWFnZSBmaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgcmVtb3ZlIGFsbCB0aGVzZSBmaWxlcyBmcm9tIFNpdGVGaWxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbCA9ICRzY29wZS5hbGxTRmlsZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAobC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFsbFNGaWxlc1tsXS5od21faWQgPT0gaHdtVG9SZW1vdmUuaHdtX2lkKSAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZShsLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTsvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYW5jZWxcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uIFxyXG4gICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRIV00gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYUhXTSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weS5kZWNEZWdPUmRtcyA9ICdkZCc7ICRzY29wZS5od21Db3B5LkZUb3JDTSA9ICdmdCc7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxIV01FZGl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuSFdNdmFsID0gJ2RldGFpbCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ29weSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkbWluQ2hhbmdlZCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkV2ZW50TmFtZSA9ICRzY29wZS5ldmVudExpc3QuZmlsdGVyKGZ1bmN0aW9uIChlKSB7IHJldHVybiBlLmV2ZW50X2lkID09ICRzY29wZS5hSFdNLmV2ZW50X2lkOyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8jcmVnaW9uIEZJTEUgU1RVRkZcclxuICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpOyAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAvL25lZWQgdG8gcmV1cGxvYWQgZmlsZUl0ZW0gdG8gdGhpcyBleGlzdGluZyBmaWxlIE9SIENoYW5nZSBvdXQgZXhpc3RpbmcgZmlsZUl0ZW0gZm9yIG5ldyBvbmVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVXBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUZpbGUuaHdtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5hRmlsZS5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUubmFtZSA9IGZyZXNwb25zZS5uYW1lOyAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuRmlsZSA9ICRzY29wZS5hRmlsZS5GaWxlMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUxID0gdW5kZWZpbmVkOyAvL3B1dCBpdCBhcyBmaWxlIGFuZCByZW1vdmUgaXQgZnJvbSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcy5zcGxpY2UoJHNjb3BlLmV4aXN0RmlsZUluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmVzcG9uc2UuZmlsZXR5cGVfaWQgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlc1skc2NvcGUuYWxsU0ZpbGVJbmRleF0gPSBmcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3Nob3cgYSBtb2RhbCB3aXRoIHRoZSBsYXJnZXIgaW1hZ2UgYXMgYSBwcmV2aWV3IG9uIHRoZSBwaG90byBmaWxlIGZvciB0aGlzIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ltYWdlTW9kYWwgPSBmdW5jdGlvbiAoaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW1hZ2UgRmlsZSBQcmV2aWV3PC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbWFnZUlkID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXRTUkMgPSBTRVJWRVJfVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmltYWdlSWQgKyAnL0l0ZW0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdtZCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93YW50IHRvIGFkZCBvciBlZGl0IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlID0gZnVuY3Rpb24gKGZpbGUpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZXMgPSAkc2NvcGUuZmlsZVR5cGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5leGlzdEZpbGVJbmRleCA9IC0xOyAkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXggPSAtMTsgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAtMTsgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgLy9IV00gd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSBcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IGh3bSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLkhXTUZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbFNGaWxlSW5kZXggPSAkc2NvcGUuYWxsU0ZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLmh3bUltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5od21JbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZUl0ZW1FeGlzdHMgPSByZXNwb25zZS5MZW5ndGggPiAwID8gdHJ1ZSA6IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbGUgaXRlbTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2UgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90aGVuIFBPU1QgZmlsZVBhcnRzIChTZXJ2aWNlcyBwb3B1bGF0ZSBQQVRIKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICRzY29wZS5hRmlsZS5GaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VfaWQ6IHJlc3BvbnNlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFIV00uaHdtX2lkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVFbnRpdHlcIiwgSlNPTi5zdHJpbmdpZnkoZmlsZVBhcnRzLkZpbGVFbnRpdHkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGxvYWRGaWxlKGZkKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHJlc3BvbnNlLnNvdXJjZV9pZDsgJHNjb3BlLmFGaWxlLnNpdGVfaWQgPSAkc2NvcGUudGhpc0hXTXNpdGUuc2l0ZV9pZDsgJHNjb3BlLmFGaWxlLmh3bV9pZCA9ICRzY29wZS5hSFdNLmh3bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiTGluayBzYXZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hbGxTRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5hbGxTRmlsZXMpOyAvL3VwZGF0ZXMgdGhlIGZpbGUgbGlzdCBvbiB0aGUgc2l0ZWRhc2hib2FyZCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTsvL2VuZCBzb3VyY2Uuc2F2ZSgpICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2Uuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRklMRS51cGRhdGUoeyBpZDogJHNjb3BlLmFGaWxlLmZpbGVfaWQgfSwgJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmaWxlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlUmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXNbJHNjb3BlLmV4aXN0RmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZpbGVSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIHNhdmUoKVxyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU0ZpbGVzLnNwbGljZSgkc2NvcGUuYWxsU0ZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuYWxsU0ZpbGVzKTsgLy91cGRhdGVzIHRoZSBmaWxlIGxpc3Qgb24gdGhlIHNpdGVkYXNoYm9hcmRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgLy8gICRzY29wZS5kYXRhZmlsZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyNlbmRyZWdpb24gRklMRSBTVFVGRlxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgIH1dKTsgLy9lbmQgSFdNXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckc3RhdGUnLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnJHRpbWVvdXQnLCAndGhpc1NpdGUnLCAndGhpc1NpdGVIV01zJywgJ0hXTV9TZXJ2aWNlJywgJ2FsbEFnZW5jaWVzJywgJ2FsbEhXTVR5cGVzJywgJ2FsbEhXTVF1YWxpdGllcycsICdhbGxIb3JEYXR1bXMnLCAnYWxsTWFya2VycycsICdhbGxIb3JDb2xsTWV0aG9kcycsICdhbGxWZXJ0RGF0dW1zJywgJ2FsbFZlcnRDb2xNZXRob2RzJywgJ2FsbEV2ZW50cycsICdhbGxGaWxlVHlwZXMnLCAnTUVNQkVSJywgJ0hXTScsICdTSVRFJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkc3RhdGUsICRodHRwLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCB0aGlzU2l0ZSwgdGhpc1NpdGVIV01zLCBIV01fU2VydmljZSwgYWxsQWdlbmNpZXMsIGFsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbEhvckRhdHVtcywgYWxsTWFya2VycywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFZlcnREYXR1bXMsIGFsbFZlcnRDb2xNZXRob2RzLCBhbGxFdmVudHMsIGFsbEZpbGVUeXBlcywgTUVNQkVSLCBIV00sIFNJVEUpIHtcclxuICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gdW5kZWZpbmVkIHx8ICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmF1dGggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvbG9naW4nKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiB0aGlzU2l0ZUhXTXMubGVuZ3RoIH07XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgSFdNX1NlcnZpY2Uuc2V0QWxsU2l0ZUhXTXMoJHNjb3BlLlNpdGVIV01zKTtcclxuICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgPSBuZXdWYWx1ZSAhPT0gdW5kZWZpbmVkID8gbmV3VmFsdWUgOiBcIkFsbCBFdmVudHNcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50RXhpc3RzID0gJHNjb3BlLnNlc3Npb25FdmVudE5hbWUgIT0gXCJBbGwgRXZlbnRzXCIgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld1ZhbHVlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJyk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVIV01zID0gdGhpc1NpdGVIV01zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQgPSB7IHRvdGFsOiAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dIV01Nb2RhbCA9IGZ1bmN0aW9uIChIV01jbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1Bob3RvICgxKSwgSGlzdG9yaWMgKDMpLCBGaWVsZCBTaGVldHMgKDQpLCBMZXZlbCBOb3RlcyAoNSksIE90aGVyICg3KSwgTGluayAoOCksIFNrZXRjaCAoMTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgaGZ0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2FsbEhXTVR5cGVzLCBhbGxIV01RdWFsaXRpZXMsIGFsbEhvckRhdHVtcywgYWxsSG9yQ29sbE1ldGhvZHMsIGFsbFZlcnREYXR1bXMsIGFsbFZlcnRDb2xNZXRob2RzLCBhbGxNYXJrZXJzLCBhbGxFdmVudHMsIGh3bUZpbGVUeXBlc107XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4Q2xpY2tlZCA9ICRzY29wZS5TaXRlSFdNcy5pbmRleE9mKEhXTWNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnSFdNbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdod21Nb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRHJvcGRvd25zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXNzQWxsTGlzdHM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzSFdNOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV01jbGlja2VkICE9PSAwID8gSFdNY2xpY2tlZDogXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUhXTXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuU2l0ZUhXTXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21BcHByb3ZhbDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoSFdNY2xpY2tlZCAhPT0gMCAmJiAoSFdNY2xpY2tlZC5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkICYmIEhXTWNsaWNrZWQuYXBwcm92YWxfaWQgPiAwKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhXTS5nZXRIV01BcHByb3ZhbCh7IGlkOiBIV01jbGlja2VkLmh3bV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5xdWVyeSh7IGlkOiB0aGlzU2l0ZS5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWdlbmN5TGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkSFdNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaXMgdGhlcmUgYSBuZXcgSFdNIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkSFdNWzFdPT0gJ2NyZWF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUhXTXMucHVzaChjcmVhdGVkSFdNWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtQ291bnQudG90YWwgPSAkc2NvcGUuU2l0ZUhXTXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjcmVhdGVkSFdNWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZUhXTXMuaW5kZXhPZihIV01jbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlSFdNc1tpbmRleENsaWNrZWRdID0gY3JlYXRlZEhXTTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRIV01bMV09PSAnZGVsZXRlZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLlNpdGVIV01zLmluZGV4T2YoSFdNY2xpY2tlZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUhXTXMuc3BsaWNlKGluZGV4Q2xpY2tlZDEsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50LnRvdGFsID0gJHNjb3BlLlNpdGVIV01zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEFsbFNpdGVIV01zKCRzY29wZS5TaXRlSFdNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07IC8vZW5kIHNob3dIV01Nb2RhbCBmdW5jdGlvblxyXG4gICAgICAgICAgICB9Ly9lbmQgc3RuY3JlZHMgZ29vZFxyXG4gICAgICAgIH1dKTtcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgU1ROQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU1ROQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTVE5Db250cm9sbGVycy5jb250cm9sbGVyKCdoaXN0b3JpY0hXTUN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdPQkpFQ1RJVkVfUE9JTlQnLCAnR0VPQ09ERScsICd0aGlzRXZlbnQnLCAnSERhdHVtcycsICdIQ29sbGVjdE1ldGhzJywgJ1N0YXRlcycsICdDb3VudGllcycsICdPUFR5cGVzJywgJ1ZEYXR1bXMnLCAnSFR5cGVzJywgJ0hXTVF1YWxzJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJGZpbHRlciwgJHVpYk1vZGFsLCBTSVRFLCBIV00sIE9CSkVDVElWRV9QT0lOVCwgR0VPQ09ERSwgdGhpc0V2ZW50LCBIRGF0dW1zLCBIQ29sbGVjdE1ldGhzLCBTdGF0ZXMsIENvdW50aWVzLCBPUFR5cGVzLCBWRGF0dW1zLCBIVHlwZXMsIEhXTVF1YWxzKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy9kaXYgaG9sZGluZyBsb2FkZXIgYW5kIGR5bmFtaWMgYW5kIG1heCBmb3IgcHJvZ3Jlc3MgYmFyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZHluYW1pYyA9IDA7ICRzY29wZS5tYXggPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlOyAgLy9zZCAgIGxhdCBsb25nIGhkICBoY20gIHdhdCAgR1MgICBzdCAgIGNvICAgb3B0ICBvcG4gIGRlcyAgdmRhICBvcGQgIGh3bXQgZW52ICAgcXVhICBmbGFnXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY29sdW1uV2lkdGhzID0gWzE0MCwgNzYsIDg0LCAyMjAsIDIyMCwgMTAwLCAxNTAsIDEyMCwgMTIwLCAxODAsIDEyMCwgMTQwLCAxNDAsIDEyMCwgMTQwLCAxNDAsIDE0MCwgMTIwXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaGFuZ2VzID0gW107IC8vdHJhY2sgY2hhbmdlcyBtYWRlIHRvIGNvbXBhcmUgZm9yIHNhdmluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107IC8vc3RvcmUgd2hlbiBpbnZhbGlkIHRocm93blxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhEYXR1bUxpc3QgPSBIRGF0dW1zOyAkc2NvcGUuaERhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oQ29sbGVjdExpc3QgPSBIQ29sbGVjdE1ldGhzOyAkc2NvcGUuaGNvbGxlY3RBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlTGlzdCA9IFN0YXRlczsgLy9UT0RPIE1ha2UgdGhpcyBpbnRlcmFjdGl2ZSB3aXRoIGNvdW50aWVzIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXRlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlMaXN0ID0gQ291bnRpZXM7ICRzY29wZS5jb3VudHlBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wVHlwZUxpc3QgPSBPUFR5cGVzOyAkc2NvcGUub3BUeXBlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS52RGF0dW1MaXN0ID0gVkRhdHVtczsgJHNjb3BlLnZEYXR1bUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUxpc3QgPSBIVHlwZXM7ICRzY29wZS5od21UeXBlQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21FbnZpckxpc3QgPSBbJ0NvYXN0YWwnLCAnUml2ZXJpbmUnXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFsaXR5TGlzdCA9IEhXTVF1YWxzOyAkc2NvcGUuaHdtUXVhbGl0eUFycmF5ID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhpc3RvcmljSFdNcyA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBmb3JtYXQgZHJvcGRvd25zIGZyb20gb2JqZWN0IGFycmF5IHRvIHN0cmluZyBhcnJheVxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5oRGF0dW1MaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaERhdHVtQXJyYXkucHVzaChsLmRhdHVtX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuaENvbGxlY3RMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaGNvbGxlY3RBcnJheS5wdXNoKGwuaGNvbGxlY3RfbWV0aG9kKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnN0YXRlTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLnN0YXRlQXJyYXkucHVzaChsLnN0YXRlX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmNvdW50eUFycmF5LnB1c2gobC5jb3VudHlfbmFtZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5vcFR5cGVMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUub3BUeXBlQXJyYXkucHVzaChsLm9wX3R5cGUpOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUudkRhdHVtTGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLnZEYXR1bUFycmF5LnB1c2gobC5kYXR1bV9hYmJyZXZpYXRpb24pOyB9KTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuaHdtVHlwZUxpc3QsIGZ1bmN0aW9uIChsKSB7ICRzY29wZS5od21UeXBlQXJyYXkucHVzaChsLmh3bV90eXBlKTsgfSk7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmh3bVF1YWxpdHlMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuaHdtUXVhbGl0eUFycmF5LnB1c2gobC5od21fcXVhbGl0eSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9HZXQgc3RhdGUgY291bnR5IGJ1dHRvbiBjbGlja2VkXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0U3RhdGVDbyA9IGZ1bmN0aW9uIChjLCByKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvd1ZhbHVlcyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocik7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChyb3dWYWx1ZXNbMV0gIT09IFwiXCIgJiYgcm93VmFsdWVzWzFdICE9PSBudWxsKSAmJiAocm93VmFsdWVzWzJdICE9PSBcIlwiICYmIHJvd1ZhbHVlc1syXSAhPT0gbnVsbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBHRU9DT0RFLmdldEFkZHJlc3NQYXJ0cyh7IExvbmdpdHVkZTogcm93VmFsdWVzWzJdLCBMYXRpdHVkZTogcm93VmFsdWVzWzFdIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfZmlwID09IHN0YXRlRklQUzsgfSlbMF0uc3RhdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5zdGF0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX2lkID09IHRoaXNTdGF0ZUlEOyB9KVswXTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS5zZXREYXRhQXRDZWxsKHIsIDcsIHRoaXNTdGF0ZS5zdGF0ZV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlQ291bnR5TGlzdCA9ICRzY29wZS5jb3VudHlMaXN0LmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGUuc3RhdGVfaWQ7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHN0YXRlQ291bnR5TGlzdCwgZnVuY3Rpb24gKGwpIHsgJHNjb3BlLmNvdW50eUFycmF5LnB1c2gobC5jb3VudHlfbmFtZSk7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2Uuc2V0Q2VsbE1ldGEociwgOCwgXCJzb3VyY2VcIiwgJHNjb3BlLmNvdW50eUFycmF5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlLnNldERhdGFBdENlbGwociwgOCwgY291bnR5TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIlRoZSBMYXRpdHVkZS9Mb25naXR1ZGUgZGlkIG5vdCByZXR1cm4gYSByZWNvZ25pemVkIHN0YXRlLiBQbGVhc2UgY2hvb3NlIG9uZSBmcm9tIHRoZSBkcm9wZG93bi5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7Ly8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzIGxvY2F0aW9uLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgYWRkcmVzczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXkgZGlkIG5vdCB0eXBlIGEgbGF0L2xvbmcgZmlyc3QuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW1wdHlMYXRMb25nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5QbGVhc2UgcHJvdmlkZSBhIExhdGl0dWRlIGFuZCBMb25naXR1ZGUgYmVmb3JlIGNsaWNraW5nIEdldCBTdGF0ZS9Db3VudHk8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgaWYgcm93IHZhbHVlcyBhcmUgdGhlcmUgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBnZXRTdGF0ZUNvKClcclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICh0aGVDaGFuZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlID0gJHNjb3BlLnN0YXRlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc3RhdGVfbmFtZSA9PSB0aGVDaGFuZ2VbM107IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc3RhdGVDb3VudHlMaXN0LCBmdW5jdGlvbiAobCkgeyAkc2NvcGUuY291bnR5QXJyYXkucHVzaChsLmNvdW50eV9uYW1lKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlLnNldENlbGxNZXRhKHRoZUNoYW5nZVswXSwgOCwgXCJzb3VyY2VcIiwgJHNjb3BlLmNvdW50eUFycmF5KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gcmVuZGVyZXJzXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhpcyBmaWVsZCBpcyByZXF1aXJlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0VmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbnVtYmVyIGFuZCA+IDBcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5MYXRpdHVkZSBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9uZ1ZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPiAwIHx8IGlzTmFOKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+TG9uZ2l0dWRlIG11c3QgYmUgbGVzcyB0aGFuIDAuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6Wyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICghdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yUmVuZGVyZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIHRkLCByb3csIGNvbCwgcHJvcCwgdmFsdWUsIGNlbGxQcm9wZXJ0aWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRidXR0b24gPSAkKCc8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBibnQtcHJpbWFyeVwiPjwvYnV0dG9uPicpO1xyXG4gICAgICAgICAgICAgICAgICAgICRidXR0b24uaHRtbCgnR2V0IFN0YXRlL0NvdW50eScpO1xyXG4gICAgICAgICAgICAgICAgICAgICQodGQpLmVtcHR5KCkuYXBwZW5kKCRidXR0b24pOyAvL2VtcHR5IGlzIG5lZWRlZCBiZWNhdXNlIHlvdSBhcmUgcmVuZGVyaW5nIHRvIGFuIGV4aXN0aW5nIGNlbGxcclxuICAgICAgICAgICAgICAgICAgLy8gIHRkLnN0eWxlLmJhY2tncm91bmQgPSAnI0VFRSc7XHJcbiAgICAgICAgICAgICAgICAgICAvLyB0ZC5pbm5lckhUTUwgPSAnR2V0IFN0YXRlL0NvdW50eSc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5yZXF1aXJlZFZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkTW9kYWwoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBiYWNrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNldE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gY2xlYXIgdGhlIHRhYmxlPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaGlzdG9yaWNIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjb2xIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dE1lbnU6IFsncm93X2Fib3ZlJywgJ3Jvd19iZWxvdycsICdyZW1vdmVfcm93J10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAzLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsQ29sdW1uUmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbFJvd1Jlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JkV3JhcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXROdW1iZXI6IDEsICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFdpZHRoczogJHNjb3BlLmNvbHVtbldpZHRocyxcclxuICAgICAgICAgICAgICAgICAgICBjZWxsczogZnVuY3Rpb24gKHJvdywgY29sLCBwcm9wKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcGh5c2ljYWwsIGNoZW1pY2FsLGJpb2xvZ2ljYWwsIG1pY3JvYmlvLCB0b3hcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA9PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2VsbHByb3BzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjZWxscHJvcHMucmVuZGVyZXIgPSBjb2xvclJlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbGxwcm9wcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV1bMV0gPT0gXCJzdGF0ZVwiICYmIGRhdGFbaV1bM10gIT09IGRhdGFbaV1bMl0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMoZGF0YVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJDaGFuZ2U6IGZ1bmN0aW9uIChjaGFuZ2UsIHNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoYW5nZSBpcyBhbiBhcnJheSBjb250YWluaW5nIGFycmF5cyBmb3IgZWFjaCBjb2x1bW4gYWZmZWN0ZWQ6IFswXSA9IHJvdywgWzFdID0gZGF0YU5hbWUsIFsyXSA9IHZhbHVlIGl0IHdhcywgWzNdID0gdmFsdWUgaXQgaXMgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc291cmNlIGlzIHN0cmluZyA6IFwiYWx0ZXInLCBcImVtcHR5JywgXCJlZGl0JywgXCJwb3B1bGF0ZUZyb21BcnJheScsIFwibG9hZERhdGEnLCBcImF1dG9maWxsJywgXCJwYXN0ZVwiLiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2UgIT0gJ2xvYWREYXRhJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFuZ2UubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgY2FyZSBpZiBpdCB3YXMgYWN0dWFsbHkgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjaGFuZ2VbaV1bMl0gIT09IGNoYW5nZVtpXVszXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQ2hhbmdlcy5wdXNoKGNoYW5nZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgKGNoYW5nZVtpXVsxXSA9PSBcInN0YXRlXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgJHNjb3BlLlVwZGF0ZUNvdW50aWVzKGNoYW5nZVtpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlck9uQ2VsbE1vdXNlRG93bjogZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMsIHRkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZHMuY29sID09IDYpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZ2V0U3RhdGVDbyhjb29yZHMuY29sLCBjb29yZHMucm93KTtcclxuICAgICAgICAgICAgICAgICAgICB9LC8vZW5kIGFmdGVyT25DZWxsTW91c2VEb3duICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIG9uQWZ0ZXJWYWxpZGF0ZTogZnVuY3Rpb24gKGlzVmFsaWQsIHZhbHVlLCByb3csIHByb3AsIHNvdWNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5wdXNoKHsgXCJpc1ZhbGlkXCI6IGlzVmFsaWQsIFwicm93XCI6IHJvdywgXCJwcm9wXCI6IHByb3AgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdkluZGV4ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB2SSA9IDA7IHZJIDwgJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgdkkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbdkldLnJvdyA9PSByb3cgJiYgJHNjb3BlLmludmFsaWRzW3ZJXS5wcm9wID09IHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdkluZGV4ID0gdkk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2SW5kZXggPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKHZJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlaWdodHM6IDUwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICB9Ly9lbmQgYXV0aG9yaXplZFxyXG4gICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignYnVsa0hXTUN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckcScsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdNRU1CRVInLCAnRklMRScsICdJTlNUX0NPTExfQ09ORElUSU9OJywgJ1BFQUsnLCAnU09VUkNFJywgJ1NFUlZFUl9VUkwnLFxyXG4gICAgICAgICdldmVudExpc3QnLCAnc3RhdGVMaXN0JywgJ2NvdW50eUxpc3QnLCAnaHdtVHlwZUxpc3QnLCAnbWFya2VyTGlzdCcsICdod21RdWFsTGlzdCcsICdob3JpekRhdHVtTGlzdCcsICdob3JDb2xsTWV0aExpc3QnLCAndmVydERhdHVtTGlzdCcsICd2ZXJ0Q29sbE1ldGhMaXN0JywgJ2ZpbGVUeXBlc0xpc3QnLCAnYWdlbmNpZXNMaXN0JyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUsICRyb290U2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHEsICRmaWx0ZXIsICR1aWJNb2RhbCwgU0lURSwgSFdNLCBNRU1CRVIsIEZJTEUsIElOU1RfQ09MTF9DT05ESVRJT04sIFBFQUssIFNPVVJDRSwgU0VSVkVSX1VSTCwgZXZlbnRMaXN0LCBzdGF0ZUxpc3QsIGNvdW50eUxpc3QsXHJcbiAgICAgICAgICAgIGh3bVR5cGVMaXN0LCBtYXJrZXJMaXN0LCBod21RdWFsTGlzdCwgaG9yaXpEYXR1bUxpc3QsIGhvckNvbGxNZXRoTGlzdCwgdmVydERhdHVtTGlzdCwgdmVydENvbGxNZXRoTGlzdCwgZmlsZVR5cGVzTGlzdCwgYWdlbmNpZXNMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1RpcHMgPSB0cnVlOyAvL3RvZ2dsZSBzaG93L2hpZGUgdGlwc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHsgaHdtT3BlbjogdHJ1ZSB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNlcnZlclVSTCA9IFNFUlZFUl9VUkw7IC8vY29uc3RhbnQgd2l0aCBzdG50ZXN0LndpbS51c2dzLmdvdi9TVE5TZXJ2aWNlczIgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZXMgPSBod21UeXBlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gbWFya2VyTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFscyA9IGh3bVF1YWxMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckRhdHVtcyA9IGhvcml6RGF0dW1MaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmhvckNvbGxNZXRocyA9IGhvckNvbGxNZXRoTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1zID0gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS52ZXJ0Q29sbE1ldGhzID0gdmVydENvbGxNZXRoTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY291bnRpZXMgPSBjb3VudHlMaXN0O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvL2RpdiBob2xkaW5nIGxvYWRlciAgICAgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1heCA9IDA7ICRzY29wZS5keW5hbWljID0gMDsgLy92YWx1ZXMgZm9yIG51bWJlciBvZiBod21zIGFyZSB1cGxvYWRpbmcgKHVzZWQgaW4gcHJvZ3Jlc3NiYXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTsgLy9wcm9ncmVzc2JhciBmb3IgdXBsb2FkaW5nIGh3bXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZTtcclxuICAgICAgICAgICAgICAgIC8vd2F0ZXIsIGxhYmVsLCB0eXBlLG1ya2VyLGVudnIsdW5jcnQscXVsLGJhbmssZGVzLGxhdCxsb25nLGhkYXR1bSxoY20saGFnLGZsZ0R0LHN1ckR0LGVsZXYsdmRhdHVtLHZjbSxzVW5jLG5vdGVzLCB0cmFucS9zdGlsbCxzaXRlbm9cclxuICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5XaWR0aHMgPSBbMTgwLCAxNTAsIDE4MCwgMTgwLCAxNTAsIDE3MCwgMTgwLCAxMDAsIDIwMCwgMTQwLCAxNTAsIDE4MCwgMjIwLCAxMDAsIDEzMCwgMTIwLCAxMzAsIDE2MCwgMTkwLCAxNjAsIDIwMCwgMjAwLCAxMjBdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCA9IGZhbHNlOyAvL25lZWQgYSBmbGFnIHdoZW4gY2xpY2tlZCB0byBjaGVjayBzbyB0aGF0IHRoZSByZXF1aXJlZCB2YWxpZGF0aW9uIGRvZXNuJ3QgZmlyZSBhbmQgc2hvdyBlcnJvciBtb2RhbCBhdCBzYW1lIHRpbWUgYXMgc2l0ZW1vZGFsXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNcyA9IFtdOyAvL2RhdGEgYmluZGluZyBpbiB0aGUgaGFuZHNvbnRhYmxlICh0aGV5IHdpbGwgcGFzdGUgaW4gaHdtcylcclxuICAgICAgICAgICAgICAgICRzY29wZS5wb3N0ZWRIV01zID0gW107IC8vb25jZSBwb3N0ZWQsIHRoZXkgYXJlIHJlbW92ZWQgZnJvbSB0aGUgaGFuZHNvbnRhYmxlIGFuZCBhZGRlZCB0byB0aGlzIGFycmF5IHRvIHNob3cgaW4gYSB0YWJsZSBiZWxvd1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107IC8vc3RvcmUgd2hlbiBpbnZhbGlkIHRocm93blxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50cyA9IGV2ZW50TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5ub3RWYWxpZCA9IHRydWU7ICAvL3NlbnQgbm90VmFsaWQgdG8gdHJ1ZSBieSBkZWZhdWx0IHNvIHRoYXQgaXQgZ2V0cyBzZXQgdG8gZmFsc2Ugb25jZSB0YWJsZSBpcyB2YWxpZGF0ZWQoYnV0dG9uIGNsaWNrKVxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIG1ha2UgZHJvcGRvd25zXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaHdtVHlwZUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaHdtVHlwZUxpc3QsIGZ1bmN0aW9uIChodCkgeyAkc2NvcGUuaHdtVHlwZUFycmF5LnB1c2goaHQuaHdtX3R5cGUpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5lbnZpckFycmF5ID0gW1wiQ29hc3RhbFwiLCBcIlJpdmVyaW5lXCJdO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hcmtlckFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gobWFya2VyTGlzdCwgZnVuY3Rpb24gKG0pIHsgJHNjb3BlLm1hcmtlckFycmF5LnB1c2gobS5tYXJrZXIxKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVhbEFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goaHdtUXVhbExpc3QsIGZ1bmN0aW9uIChocSkgeyAkc2NvcGUucXVhbEFycmF5LnB1c2goaHEuaHdtX3F1YWxpdHkpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5iYW5rQXJyYXkgPSBbXCJMZWZ0XCIsIFwiUmlnaHRcIiwgXCJOL0FcIl07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaGRhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChob3JpekRhdHVtTGlzdCwgZnVuY3Rpb24gKGhkKSB7ICRzY29wZS5oZGF0dW1BcnJheS5wdXNoKGhkLmRhdHVtX25hbWUpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5oY29sbE1ldGhBcnJheSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGhvckNvbGxNZXRoTGlzdCwgZnVuY3Rpb24gKGhjbSkgeyAkc2NvcGUuaGNvbGxNZXRoQXJyYXkucHVzaChoY20uaGNvbGxlY3RfbWV0aG9kKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmRhdHVtQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2ZXJ0RGF0dW1MaXN0LCBmdW5jdGlvbiAodmQpIHsgJHNjb3BlLnZkYXR1bUFycmF5LnB1c2godmQuZGF0dW1fYWJicmV2aWF0aW9uKTsgfSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmNvbGxNZXRoQXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCh2ZXJ0Q29sbE1ldGhMaXN0LCBmdW5jdGlvbiAodmNtKSB7ICRzY29wZS52Y29sbE1ldGhBcnJheS5wdXNoKHZjbS52Y29sbGVjdF9tZXRob2QpOyB9KTtcclxuICAgICAgICAgICAgICAgICRzY29wZS50cmFucUFycmF5ID0gW1wiWWVzXCIsIFwiTm9cIl07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gbWFrZSBkcm9wZG93bnNcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuRXZlbnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNob3NlbkV2ZW50TmFtZSA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGVsSW5kZXggPSAtMTsgLy9pZiB0aGV5IGRlbGV0ZSBhIGh3bSBmcm9tIHRoZSBET05FIHRhYmxlLCBuZWVkIGluZGV4IHRoZXkgY2xpY2tlZCBzbyBjbG9zaW5nIHdhcm5pbmcgbW9kYWwgd2lsbCBrbm93IHdoaWNoIG9uZSB0byByZW1vdmUgZnJvbSBwb3N0ZWRIV01zIGxpc3RcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha2FycmF5ID0gW107Ly93aGVuIHNhdmluZyBoYW5kc29udGFibGUsIGVhY2ggcm93LCBnZXQgc2l0ZVBlYWtzLCBpZiBzbywgc3RvcmUgaGVyZVxyXG4gICAgICAgICAgICAgICAgLy9hZGQgRklMRSBmb3IgYXBwcm92YWwgbWVtbyBvciBwdWJsaWNhdGlvbiBsaW5rXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRkQXBwcm92YWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlZEZJTEVtb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdCdWxrQXBwcm92YWxGSUxFX21vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckY29va2llcycsICckdWliTW9kYWwnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnZmlsZVR5cGVMaXN0JywgJ2FnZW5jeUxpc3QnLCAndGhpc01lbWJlcicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgZmlsZVR5cGVMaXN0LCBhZ2VuY3lMaXN0LCB0aGlzTWVtYmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlcyA9IGZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHwgaGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xpbmsnIHx8IGhmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID0gNztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24gPSBcIlBERiBvZiBBcHByb3ZhbCBNZW1vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGUgc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxfdHlwZSA9IDc7IC8vaG9sZGVyIG9mIGFwcHJvdmFsIHR5cGUsIHVzZWQgdG8gdXBkYXRlIGZpbGV0eXBlX2lkIGFuZCBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcmFkaW8gYXBwcm92YWwgdHlwZSBjaGFuZ2VkLCB1cGRhdGUgZmlsZXR5cGVfaWQgYW5kIGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZUZpbGVUeXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPSBOdW1iZXIoJHNjb3BlLmFwcHJvdmFsX3R5cGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24gPSAkc2NvcGUuYXBwcm92YWxfdHlwZSA9PSBcIjdcIiA/IFwiUERGIG9mIEFwcHJvdmFsIE1lbW9cIiA6IFwiUmVwb3J0IExpbmtcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0RhdGVwaWNrZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gdGhpc01lbWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRkRmlsZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSB8fCAkc2NvcGUuYUZpbGUuRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSBbJHNjb3BlLmFGaWxlLCAkc2NvcGUuYVNvdXJjZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoZmlsZVBhcnRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgbXVzdCB1cGxvYWQgYSBGaWxlIGZvciBBcHByb3ZhbCBNZW1vIG9yIGEgRmlsZSBVUkwgZm9yIFJlcG9ydCBMaW5rLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWxGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWxlVHlwZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWdlbmNpZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNZW1iZXI6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIucXVlcnkoeyBpZDogJGNvb2tpZXMuZ2V0KCdtSUQnKSB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVkRklMRW1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlID0gY3JlYXRlZEZpbGVbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZhbFNvdXJjZSA9IGNyZWF0ZWRGaWxlWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBhZGRBcHByb3ZhbEZpbGVcclxuICAgICAgICAgICAgICAgIC8vZW5kIGFkZCBGSUxFXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBcIlwiICYmIGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRheSA9ICgnMCcgKyBhRGF0ZS5nZXREYXRlKCkpLnNsaWNlKC0yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0ZVdPdGltZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gU0lURSBOTyBkcm9wZG93biBhcnJvdyBDbGljayBNT0RBTCBwYXJ0IC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgdmFyIGdldEZpbmRTaXRlTW9kYWwgPSBmdW5jdGlvbiAociwgYywgaHdtUGFydHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICRzY29wZS5zaG93TG9hZGluZyA9IHRydWU7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5yZW1vdmVDbGFzcygnbm9TaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFBdFJvdyA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRSb3cocik7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBdFJvd1s5XSAhPT0gXCJcIiAmJiBkYXRhQXRSb3dbMTBdICE9PSBcIlwiICYmIGRhdGFBdFJvd1s5XSAhPT0gbnVsbCAmJiBkYXRhQXRSb3dbMTBdICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2Fzc29jaWF0ZVNpdGVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZWFyQnlTaXRlczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRQcm94aW1pdHlTaXRlcyh7IExhdGl0dWRlOiBkYXRhQXRSb3dbOV0sIExvbmdpdHVkZTogZGF0YUF0Um93WzEwXSwgQnVmZmVyOiAwLjAwMDUgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV01wYXJ0czogZnVuY3Rpb24gKCkgeyByZXR1cm4gaHdtUGFydHM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZU5vQWxyZWFkeVRoZXJlOiBmdW5jdGlvbiAoKSB7IHJldHVybiBkYXRhQXRSb3dbMjJdOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhkYXR1bXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzY29wZS5ob3JEYXR1bXM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGNvbE1ldGhzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuaG9yQ29sbE1ldGhzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZkYXR1bXM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICRzY29wZS52ZXJ0RGF0dW1zOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZjb2xNZXRoczogZnVuY3Rpb24gKCkgeyByZXR1cm4gJHNjb3BlLnZlcnRDb2xsTWV0aHM7IH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuc3RhdGVzOyB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50aWVzOiBmdW5jdGlvbiAoKSB7IHJldHVybiAkc2NvcGUuY291bnRpZXM7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnaHdtU2l0ZU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHRoaXNTaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5ob3RJbnN0YW5jZS5zZXREYXRhQXRDZWxsKHIsIGMsIHRoaXNTaXRlLnNpdGVfbm8pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIHRoaXMgcm93XFwncyBsYXRpdHVkZSBhbmQgbG9uZ2l0dWRlIGJlZm9yZSBmaW5kaW5nIGEgc2l0ZSB0byBhc3NvY2lhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBTSVRFIE5PIGRyb3Bkb3duIGFycm93IENsaWNrIE1PREFMIHBhcnQgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHJlbmRlcmVycy92YWxpZGF0b3JzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZWRWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGlzIGlzIHRoZSBkcm9wZG93biBhcnJvdyBiZWluZyBjbGlja2VkIGluIHNpdGVObyBjZWxsLCBkb24ndCBzaG93IGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZU5vQXJyb3dDbGlja2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBjYXJlIGlmIHRoZXJlJ3Mgb3RoZXIgZGF0YSBpbiB0aGlzIHJvd1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy92YXIgcGh5c2ljYWxJbmRleCA9IHVudHJhbnNsYXRlUm93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQXRSb3cgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZGF0YUF0Um93LCBmdW5jdGlvbiAoZCwgaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0aGUgY29sIHRvbyBiZWNhdXNlIHJpZ2h0IGFmdGVyIHJlbW92aW5nIHJlcSB2YWx1ZSwgaXQncyBzdGlsbCBpbiB0aGUgLmdldERhdGFBdFJvdy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJEYXRhSW5Sb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcihjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgaXMgYSByZXF1aXJlZCBmaWVsZC5cIik7IC8vICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubGF0VmFsaWRhdG9yID0gZnVuY3Rpb24gKHZhbHVlLCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSB0aGlzLnJvdzsgdmFyIGNvbCA9IHRoaXMuY29sO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQXRSb3cgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Um93KHJvdyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG90aGVyRGF0YUluUm93ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGFBdFJvdywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0aGUgY29sIHRvbyBiZWNhdXNlIHJpZ2h0IGFmdGVyIHJlbW92aW5nIHJlcSB2YWx1ZSwgaXQncyBzdGlsbCBpbiB0aGUgLmdldERhdGFBdFJvdy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkICE9PSBudWxsICYmIGQgIT09IFwiXCIgJiYgaW5kZXggIT09IGNvbClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG90aGVyRGF0YUluUm93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKCh2YWx1ZSA8IDIyIHx8IHZhbHVlID4gNTUpIHx8IGlzTmFOKHZhbHVlKSkgJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICRzY29wZS5ob3RJbnN0YW5jZS5kZXNlbGVjdENlbGwoKTsgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkxhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAyMi4wIGFuZCA1NS4wIChkZWMgZGVnKS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF2YWx1ZSAmJiBvdGhlckRhdGFJblJvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hpY2hPbmUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0Q29sSGVhZGVyKGNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBpcyBhIHJlcXVpcmVkIGZpZWxkLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9uZ1ZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhQXRSb3csIGZ1bmN0aW9uIChkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckRhdGFJblJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCgodmFsdWUgPCAtMTMwIHx8IHZhbHVlID4gLTU1KSB8fCBpc05hTih2YWx1ZSkpICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyAkc2NvcGUuaG90SW5zdGFuY2UuZGVzZWxlY3RDZWxsKCk7IH0sIDEwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xMzAuMCBhbmQgLTU1LjAgKGRlYyBkZWcpLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIG90aGVyRGF0YUluUm93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aGljaE9uZSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXRDb2xIZWFkZXIoY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIGlzIGEgcmVxdWlyZWQgZmllbGQuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgcmVxdWlyZWRNb2RhbCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm51bWVyaWNWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcih0aGlzLmNvbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsICYmIChpc05hTihOdW1iZXIodmFsdWUpKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ICRzY29wZS5ob3RJbnN0YW5jZS5kZXNlbGVjdENlbGwoKTsgfSwgMTAwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcih3aGljaE9uZSArIFwiIG11c3QgYmUgYW4gbnVtZXJpYyB2YWx1ZSAoZXg6IDAuMDMpLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2hpY2hPbmUgPT0gXCJIV00gVW5jZXJ0YWludHkgKGZ0KVwiICYmIHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hlY2sgaWYgaHdtUXVhbGl0eSBoYXMgdmFsdWUuIGlmIHNvLCBzZWUgaWYgaXQncyB3aXRoaW4gcHJvcGVyIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBod21RdWFsVmFsdWUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbCh0aGlzLnJvdywgNik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21RdWFsVmFsdWUgIT09IG51bGwgJiYgaHdtUXVhbFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXBwcm9wcmlhdGVIV01RdWFsID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA+IDAuNCkgYXBwcm9wcmlhdGVIV01RdWFsID0gXCJWUDogPiAwLjQwIGZ0XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA8IDAuMDUpIGFwcHJvcHJpYXRlSFdNUXVhbCA9IFwiRXhjZWxsZW50OiArLy0gMC4wNSBmdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwcm9wcmlhdGVIV01RdWFsID0gJHNjb3BlLmh3bVF1YWxzLmZpbHRlcihmdW5jdGlvbiAoaCkgeyByZXR1cm4gaC5taW5fcmFuZ2UgPD0gdmFsdWUgJiYgaC5tYXhfcmFuZ2UgPj0gdmFsdWU7IH0pWzBdLmh3bV9xdWFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvcHJpYXRlSFdNUXVhbCAhPT0gaHdtUXVhbFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiNjAwMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3Iod2hpY2hPbmUgKyBcIiBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcgSFdNIFF1YWxpdHkgZm9yIHJvdyBcIiArIE51bWJlcih0aGlzLnJvdyArIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm1hdGNoaW5nRERWYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gdGhpcy5yb3c7IHZhciBjb2wgPSB0aGlzLmNvbDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUF0Um93ID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdFJvdyhyb3cpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBvdGhlckRhdGFJblJvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChkYXRhQXRSb3csIGZ1bmN0aW9uIChkLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdGhlIGNvbCB0b28gYmVjYXVzZSByaWdodCBhZnRlciByZW1vdmluZyByZXEgdmFsdWUsIGl0J3Mgc3RpbGwgaW4gdGhlIC5nZXREYXRhQXRSb3cuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gbnVsbCAmJiBkICE9PSBcIlwiICYmIGluZGV4ICE9PSBjb2wpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdGhlckRhdGFJblJvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB2YWx1ZSBpc24ndCBlbXB0eSBhbmQgdGhlcmVzIG90aGVyIGRhdGEgaW4gcm93Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlICE9PSBcIlwiICYmIHZhbHVlICE9PSBudWxsKSB7Ly8gJiYgb3RoZXJEYXRhSW5Sb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb3AgPSB0aGlzLnByb3A7IHZhciBoYXNFcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h3bV90eXBlX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bVR5cGVBcnJheS5tYXAoZnVuY3Rpb24gKGh3VCkgeyByZXR1cm4gaHdUOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ21hcmtlcl9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5tYXJrZXJBcnJheS5tYXAoZnVuY3Rpb24gKGh3TSkgeyByZXR1cm4gaHdNOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2h3bV9lbnZpcm9ubWVudCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5lbnZpckFycmF5Lm1hcChmdW5jdGlvbiAoaHdFKSB7IHJldHVybiBod0U7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaHdtX3F1YWxpdHlfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucXVhbEFycmF5Lm1hcChmdW5jdGlvbiAoaHdRKSB7IHJldHVybiBod1E7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnYmFuayc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5iYW5rQXJyYXkubWFwKGZ1bmN0aW9uIChod0IpIHsgcmV0dXJuIGh3QjsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdoZGF0dW1faWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaGRhdHVtQXJyYXkubWFwKGZ1bmN0aW9uIChoRCkgeyByZXR1cm4gaEQ7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaGNvbGxlY3RfbWV0aG9kX2lkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmhjb2xsTWV0aEFycmF5Lm1hcChmdW5jdGlvbiAoaEMpIHsgcmV0dXJuIGhDOyB9KS5pbmRleE9mKHZhbHVlKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3ZkYXR1bV9pZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZGF0dW1BcnJheS5tYXAoZnVuY3Rpb24gKGhEKSB7IHJldHVybiBoRDsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd2Y29sbGVjdF9tZXRob2RfaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudmNvbGxNZXRoQXJyYXkubWFwKGZ1bmN0aW9uIChoQykgeyByZXR1cm4gaEM7IH0pLmluZGV4T2YodmFsdWUpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnc3RpbGx3YXRlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS50cmFucUFycmF5Lm1hcChmdW5jdGlvbiAodCkgeyByZXR1cm4gdDsgfSkuaW5kZXhPZih2YWx1ZSkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0Vycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByb3AgPT0gXCJod21fcXVhbGl0eV9pZFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIGlmIGh3bSB1bmNlcnRhaW50eSBoYXMgdmFsdWUuIGlmIHNvLCBzZWUgaWYgaXQncyB3aXRoaW4gcHJvcGVyIHJhbmdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5jZXJ0VmFsdWUgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChyb3csIDUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuY2VydFZhbHVlICE9PSBudWxsICYmIHVuY2VydFZhbHVlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFwcHJvcHJpYXRlcXVhbCA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVuY2VydFZhbHVlID4gMC40KSBhcHByb3ByaWF0ZXF1YWwgPSBcIlZQOiA+IDAuNDAgZnRcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh1bmNlcnRWYWx1ZSA8IDAuMDUpIGFwcHJvcHJpYXRlcXVhbCA9IFwiRXhjZWxsZW50OiArLy0gMC4wNSBmdFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHByb3ByaWF0ZXF1YWwgPSAkc2NvcGUuaHdtUXVhbHMuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB1bmNlcnRWYWx1ZSAmJiBoLm1heF9yYW5nZSA+PSB1bmNlcnRWYWx1ZTsgfSlbMF0uaHdtX3F1YWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ByaWF0ZXF1YWwgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjYwMDBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMuY2xvc2VCdXR0b24gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJIV00gUXVhbGl0eSBkb2VzIG5vdCBoYXZlIGEgbWF0Y2hpbmcgSFdNIHVuY2VydGFpbnR5IHJhbmdlIHZhbHVlIGZvciByb3cgXCIgKyBOdW1iZXIocm93ICsgMSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsgY2FsbGJhY2sodHJ1ZSk7IH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGNhbGxiYWNrKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXZhbHVlICYmIG90aGVyRGF0YUluUm93ICYmIFszLCA3LCAxNywgMTgsIDIxXS5pbmRleE9mKHRoaXMuY29sKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoaWNoT25lID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldENvbEhlYWRlcihjb2wpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy50aW1lT3V0ID0gXCI2MDAwXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKHdoaWNoT25lICsgXCIgaXMgYSByZXF1aXJlZCBmaWVsZC5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY2FsbGJhY2sodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgZnJvbSBpbiBzYXZlIGZ1bmN0aW9uLCBkb25lIHBvc3Rpbmcgbm93IHJlbW92ZSB0aGUgc3VjY2Vzc2Z1bCBvbmUgZnJvbSB0aGUgaGFuZHNvbnRhYmxlIGFib3ZlXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlVGhpc1VwbG9hZEhXTSA9IGZ1bmN0aW9uIChzdWNjZXNzZnVsSFdNKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGlzIG9uZSBpbiB0aGUgJHNjb3BlLnVwbG9hZEhXTXMgYW5kIHNwbGljZSBpdCBvdXRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaWNlSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFuayA9IHN1Y2Nlc3NmdWxIV00uYmFuaztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaGNtTmFtZSA9IGhvckNvbGxNZXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhjbSkgeyByZXR1cm4gaGNtLmhjb2xsZWN0X21ldGhvZF9pZCA9PSBzdWNjZXNzZnVsSFdNLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoZE5hbWUgPSBob3JpekRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9pZCA9PSBzdWNjZXNzZnVsSFdNLmhkYXR1bV9pZDsgfSlbMF0uZGF0dW1fbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtUU5hbWUgPSBod21RdWFsTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhxKSB7IHJldHVybiBocS5od21fcXVhbGl0eV9pZCA9PSBzdWNjZXNzZnVsSFdNLmh3bV9xdWFsaXR5X2lkOyB9KVswXS5od21fcXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtVE5hbWUgPSBod21UeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGh0KSB7IHJldHVybiBodC5od21fdHlwZV9pZCA9PSBzdWNjZXNzZnVsSFdNLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWFyayA9IHN1Y2Nlc3NmdWxIV00ubWFya2VyX2lkICE9PSB1bmRlZmluZWQgPyBtYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXJfaWQgPT0gc3VjY2Vzc2Z1bEhXTS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcjEgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZjbU5hbWUgPSBzdWNjZXNzZnVsSFdNLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gdW5kZWZpbmVkID8gdmVydENvbGxNZXRoTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZjbSkgeyByZXR1cm4gdmNtLnZjb2xsZWN0X21ldGhvZF9pZCA9PSBzdWNjZXNzZnVsSFdNLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2ZE5hbWUgPSBzdWNjZXNzZnVsSFdNLnZkYXR1bV9pZCAhPT0gdW5kZWZpbmVkID8gdmVydERhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKHZkKSB7IHJldHVybiB2ZC5kYXR1bV9pZCA9PSBzdWNjZXNzZnVsSFdNLnZkYXR1bV9pZDsgfSlbMF0uZGF0dW1fYWJicmV2aWF0aW9uIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYWcgPSBzdWNjZXNzZnVsSFdNLmhlaWdodF9hYm92ZV9nbmQgIT09IHVuZGVmaW5lZCA/IE51bWJlcihzdWNjZXNzZnVsSFdNLmhlaWdodF9hYm92ZV9nbmQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbEZ0ID0gc3VjY2Vzc2Z1bEhXTS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoc3VjY2Vzc2Z1bEhXTS5lbGV2X2Z0KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdW5jID0gc3VjY2Vzc2Z1bEhXTS51bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKHN1Y2Nlc3NmdWxIV00udW5jZXJ0YWludHkpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBod21VbmMgPSBzdWNjZXNzZnVsSFdNLmh3bV91bmNlcnRhaW50eSAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKHN1Y2Nlc3NmdWxIV00uaHdtX3VuY2VydGFpbnR5KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBod21JID0gMDsgaHdtSSA8ICRzY29wZS51cGxvYWRIV01zLmxlbmd0aDsgaHdtSSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXBsb2FkSFdNc1tod21JXS5zaXRlX25vICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0IGVhY2ggdXBsb2FkSFdNIGZpcnN0IHRvIGNvbXBhcmUgYXBwbGVzIHRvIGFwcGxlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF9od21VbmMgPSAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fdW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX3VuY2VydGFpbnR5KSA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfbWFyayA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLm1hcmtlcl9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5tYXJrZXJfaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLm1hcmtlcl9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfdW5jID0gJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udW5jZXJ0YWludHkgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0udW5jZXJ0YWludHkgIT09IHVuZGVmaW5lZCA/IE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS51bmNlcnRhaW50eSkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX2hhZyA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLmhlaWdodF9hYm92ZV9nbmQgIT09IFwiXCIgJiYgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaGVpZ2h0X2Fib3ZlX2duZCAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmhlaWdodF9hYm92ZV9nbmQpIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwbG9hZF9lbEZ0ID0gJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uZWxldl9mdCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgPyBOdW1iZXIoJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uZWxldl9mdCkgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXBsb2FkX3Zjb2xsTWV0aCA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZjb2xsZWN0X21ldGhvZF9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZjb2xsZWN0X21ldGhvZF9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cGxvYWRfdmRhdCA9ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZkYXR1bV9pZCAhPT0gXCJcIiAmJiAkc2NvcGUudXBsb2FkSFdNc1tod21JXS52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/ICRzY29wZS51cGxvYWRIV01zW2h3bUldLnZkYXR1bV9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm90IGEgbnVsbCByb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudXBsb2FkSFdNc1tod21JXS5zaXRlX25vID09IHN1Y2Nlc3NmdWxIV00uc2l0ZV9ubyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLndhdGVyYm9keSA9PSBzdWNjZXNzZnVsSFdNLndhdGVyYm9keSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF9od21VbmMgPT0gaHdtVW5jICYmIC8vdXBsb2FkSFdNc1suLl0uaHdtX3VuY2VydGFpbnR5IGlzIFwiXCIgYW5kIGNvbXBhcmluZyB0byB1bmRlZmluZWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5iYW5rID09IGJhbmsgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9PSBzdWNjZXNzZnVsSFdNLmh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTnVtYmVyKCRzY29wZS51cGxvYWRIV01zW2h3bUldLmxhdGl0dWRlX2RkKSA9PSBzdWNjZXNzZnVsSFdNLmxhdGl0dWRlX2RkICYmIE51bWJlcigkc2NvcGUudXBsb2FkSFdNc1tod21JXS5sb25naXR1ZGVfZGQpID09IHN1Y2Nlc3NmdWxIV00ubG9uZ2l0dWRlX2RkICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2hhZyA9PSBoYWcgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5oY29sbGVjdF9tZXRob2RfaWQgPT0gaGNtTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLmhkYXR1bV9pZCA9PSBoZE5hbWUgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNc1tod21JXS5od21fcXVhbGl0eV9pZCA9PSBod21RTmFtZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zW2h3bUldLmh3bV90eXBlX2lkID09IGh3bVROYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX21hcmsgPT0gbWFyayAmJiAvL3VwbG9hZEhXTXNbLi5dLm1hcmtlcl9pZCBpcyBcIlwiIGFuZCBjb21wYXJpbmcgdG8gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX3Zjb2xsTWV0aCA9PSB2Y21OYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX3ZkYXQgPT0gdmROYW1lICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBsb2FkX2VsRnQgPT0gZWxGdCAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZF91bmMgPT0gdW5jICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVwbG9hZEhXTXNbaHdtSV0uaHdtX25vdGVzID09IHN1Y2Nlc3NmdWxIV00uaHdtX25vdGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlSW5kZXggPSBod21JO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpY2VJbmRleCA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudXBsb2FkSFdNcy5zcGxpY2Uoc3BsaWNlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtSSA9ICRzY29wZS51cGxvYWRIV01zLmxlbmd0aDsvL2JyZWFrIVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZHluYW1pYyA9PSAkc2NvcGUubWF4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ2ZhbHNlJzsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vdmFsaWRhdGUgYmVmb3JlIGFsbG93aW5nIHNhdmUgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmFsaWRhdGVUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykucmVtb3ZlQ2xhc3MoJ25vU2hvdycpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXZlRGF0YSA9ICRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRDZWxsKDAsIDIpOyAvLyAgKHJvdyxjb2wpIGh3bV90eXBlXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhdmVEYXRhICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ob3RJbnN0YW5jZS52YWxpZGF0ZUNlbGxzKGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+VmFsaWQ8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5WYWxpZGF0aW9uIHN1Y2Nlc3NmdWwhPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL2FkZENsYXNzID1mYWxzZSwgcmVtb3ZlQ2xhc3MgPXRydWUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5vdFZhbGlkID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+SW52YWxpZCE8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgdGFibGUgaXMgbm90IHZhbGlkLiBQbGVhc2UgY29ycmVjdCByZWQgY2VsbHMgYW5kIHRyeSBhZ2Fpbi48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7IC8vYWRkQ2xhc3MgPWZhbHNlLCByZW1vdmVDbGFzcyA9dHJ1ZSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJyNsb2FkaW5nRGl2JykuYWRkQ2xhc3MoJ25vU2hvdycpOyAvL25lZWQgdG8gZG8gdGhpcyB3YXkgZm9yIHNvbWUgcmVhc29uIGNoYW5naW5nIGJvb2xlYW4gaXNuJ3Qgd29ya2luZyAuICRyb290U2NvcGUgZWl0aGVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8kc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudCgnI2xvYWRpbmdEaXYnKS5hZGRDbGFzcygnbm9TaG93Jyk7IC8vYWRkQ2xhc3MgPWZhbHNlLCByZW1vdmVDbGFzcyA9dHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPk5vdCBlbm91Z2ggZGF0YSBpbiB0aGUgdGFibGUgdG8gdmFsaWRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9zYXZlIHVwZGF0ZXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2hvc2VuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50cy5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmNob3NlbkV2ZW50OyB9KVswXS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXN0ZWRIV01zID0gYW5ndWxhci5jb3B5KCRzY29wZS51cGxvYWRIV01zKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkcm9wIHRoZSBsYXN0IDIwIHNpbmNlIHRoZXkgYXJlIGVtcHR5XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IHBhc3RlZEhXTXMubGVuZ3RoOyBpLS07KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXN0ZWRIV01zW2ldLnNpdGVfbm8gPT09IHVuZGVmaW5lZCB8fCBwYXN0ZWRIV01zW2ldLnNpdGVfbm8gPT09IG51bGwgfHwgcGFzdGVkSFdNc1tpXS5zaXRlX25vID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXN0ZWRIV01zLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubWF4ID0gcGFzdGVkSFdNcy5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dMb2FkaW5nID0gJ3RydWUnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlOyAvL3Jlc2V0IHNvIHRoZXkgZG9uJ3QgY2xpY2sgaXQgYWdhaW4gYmVmb3JlIGhhdmluZyB0byB2YWxpZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ubyBnbyB0aHJ1IGVhY2ggYW5kIGdldCByZXN0IG9mIGZpZWxkcyBuZWVkZWQgYW5kIHBvc3QgaHdtc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChwYXN0ZWRIV01zLCBmdW5jdGlvbiAoaHdtLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgc2l0ZVBlYWsgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTZWFyY2hlZFNpdGUoeyBieVNpdGVObzogaHdtLnNpdGVfbm8gfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUuZ2V0U2l0ZVBlYWtzKHsgaWQ6IHJlc3BvbnNlLnNpdGVfaWQgfSwgZnVuY3Rpb24gKHBlYWtSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHAgPSAwOyBwIDwgcGVha1Jlc3BvbnNlLmxlbmd0aDsgcCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZSBzaXRlIHBlYWsgaXMgZm9yIHRoaXMgZXZlbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBlYWtSZXNwb25zZVtwXS5ldmVudF9uYW1lID09ICRzY29wZS5jaG9zZW5FdmVudE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlUGVha2FycmF5LnB1c2goW3Jlc3BvbnNlLnNpdGVfaWQsIHBlYWtSZXNwb25zZVtwXS5wZWFrX3N1bW1hcnlfaWRdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uc2l0ZV9pZCA9IHJlc3BvbnNlLnNpdGVfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLmV2ZW50X2lkID0gJHNjb3BlLmNob3NlbkV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5mbGFnX21lbWJlcl9pZCA9ICRzY29wZS4kcGFyZW50LnVzZXJJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20uZmxhZ19kYXRlID0gbWFrZUFkYXRlKGh3bS5mbGFnX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod20uc3VydmV5X2RhdGUgIT09IFwiXCIgJiYgaHdtLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIGh3bS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShod20uc3VydmV5X2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5oY29sbGVjdF9tZXRob2RfaWQgPSBob3JDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoY20pIHsgcmV0dXJuIGhjbS5oY29sbGVjdF9tZXRob2QgPT0gaHdtLmhjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0uaGNvbGxlY3RfbWV0aG9kX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5oZGF0dW1faWQgPSBob3JpekRhdHVtTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGhkKSB7IHJldHVybiBoZC5kYXR1bV9uYW1lID09IGh3bS5oZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS5od21fcXVhbGl0eV9pZCA9IGh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHEpIHsgcmV0dXJuIGhxLmh3bV9xdWFsaXR5ID09IGh3bS5od21fcXVhbGl0eV9pZDsgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtLmh3bV90eXBlX2lkID0gaHdtVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChodCkgeyByZXR1cm4gaHQuaHdtX3R5cGUgPT0gaHdtLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod20ubWFya2VyX2lkID0gaHdtLm1hcmtlcl9pZCAhPT0gXCJcIiAmJiBod20ubWFya2VyX2lkICE9PSB1bmRlZmluZWQgPyBtYXJrZXJMaXN0LmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tYXJrZXIxID09IGh3bS5tYXJrZXJfaWQ7IH0pWzBdLm1hcmtlcl9pZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLnN0aWxsd2F0ZXIgIT09IFwiXCIgJiYgaHdtLnN0aWxsd2F0ZXIgIT09IHVuZGVmaW5lZCkgaHdtLnN0aWxsd2F0ZXIgPSBod20uc3RpbGx3YXRlciA9PSBcIk5vXCIgPyBcIjBcIiA6IFwiMVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS52Y29sbGVjdF9tZXRob2RfaWQgPSBod20udmNvbGxlY3RfbWV0aG9kX2lkICE9PSBcIlwiICYmIGh3bS52Y29sbGVjdF9tZXRob2RfaWQgIT09IHVuZGVmaW5lZCA/IHZlcnRDb2xsTWV0aExpc3QuZmlsdGVyKGZ1bmN0aW9uICh2Y20pIHsgcmV0dXJuIHZjbS52Y29sbGVjdF9tZXRob2QgPT0gaHdtLnZjb2xsZWN0X21ldGhvZF9pZDsgfSlbMF0udmNvbGxlY3RfbWV0aG9kX2lkIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bS52ZGF0dW1faWQgPSBod20udmRhdHVtX2lkICE9PSBcIlwiICYmIGh3bS52ZGF0dW1faWQgIT09IHVuZGVmaW5lZCA/IHZlcnREYXR1bUxpc3QuZmlsdGVyKGZ1bmN0aW9uICh2ZCkgeyByZXR1cm4gdmQuZGF0dW1fYWJicmV2aWF0aW9uID09IGh3bS52ZGF0dW1faWQ7IH0pWzBdLmRhdHVtX2lkIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod20uc3VydmV5X2RhdGUgIT09IFwiXCIgJiYgaHdtLnN1cnZleV9kYXRlICE9PSB1bmRlZmluZWQpIGh3bS5zdXJ2ZXlfbWVtYmVyX2lkID0gJHNjb3BlLiRwYXJlbnQudXNlcklEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IHBvc3QgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5vID0gaHdtLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGh3bS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIChsZXQgc2VydmljZXMgaGFuZGxlIHRoaXMpIGh3bS5od21fbGFiZWwgPSBcImh3bS1cIiArIHBhcnNlSW50KGluZGV4ICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSFdNLnNhdmUoaHdtKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChod21SZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBIV00uYXBwcm92ZUhXTSh7IGlkOiBod21SZXNwb25zZS5od21faWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuYXBwcm92YWxfaWQgPSBhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2Uuc2l0ZV9ubyA9IHNpdGVObztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21SZXNwb25zZS5zdGlsbHdhdGVyICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5zdGlsbHdhdGVyID0gaHdtUmVzcG9uc2Uuc3RpbGx3YXRlciA+IDAgPyBcIlllc1wiIDogXCJOb1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGh3bVJlc3BvbnNlLnN0aWxsd2F0ZXIgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVQZWFrSWQgPSAkc2NvcGUuc2l0ZVBlYWthcnJheS5maWx0ZXIoZnVuY3Rpb24gKHNwKSB7IHJldHVybiBzcFswXSA9PSBod21SZXNwb25zZS5zaXRlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXRlUGVha0lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZXJlJ3MgYSBwZWFrIHRoaXMgaHdtIGNvdWxkIGJlIGFkZGVkIHRvXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuUGVha1N1bW1hcnkgPSBzaXRlUGVha0lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHRoZSBmaWxlIGFuZCBhZGQgdG8gdGhlIGh3bSBiZWZvcmUgcHVzaGluZyB0byBwb3N0ZWRIV01zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLmFwcHJvdmFsU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hcHByb3ZhbFNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2UgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzb3VyY2VSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYXBwcm92YWxGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFwcHJvdmFsRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYXBwcm92YWxGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hcHByb3ZhbEZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hcHByb3ZhbEZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJHNjb3BlLmFwcHJvdmFsRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBod21SZXNwb25zZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogc291cmNlUmVzcG9uc2Uuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFwcHJvdmFsRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hcHByb3ZhbEZpbGUubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYXBwcm92YWxGaWxlLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21faWQ6IGh3bVJlc3BvbnNlLmh3bV9pZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hcHByb3ZhbEZpbGUuRmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Oy8vZW5kIGZpbGVQYXJ0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmQgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9ub3cgUE9TVCBpdCAoZmlsZXBhcnRzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtUmVzcG9uc2UuSFdNRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRkIHRvIHRoZSBkb25lIGxpc3QgKG1ha2Ugc3VyZSBpdCdzIG5vdCBhbHJlYWR5IHRoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5wb3N0ZWRIV01zLm1hcChmdW5jdGlvbiAocCkgeyByZXR1cm4gcC5od21faWQ7IH0pLmluZGV4T2YoaHdtUmVzcG9uc2UuaHdtX2lkKSA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkhXTSB1cGxvYWRlZDogaHdtX2lkOlwiICsgaHdtUmVzcG9uc2UuaHdtX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdGVkSFdNcy5wdXNoKGh3bVJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiSFdNIFwiICsgaHdtUmVzcG9uc2UuaHdtX2lkICsgXCIgaXMgYWxyZWFkeSBpbiB0aGUgc3VjY2Vzc2Z1bGx5IHVwbG9hZGVkIGxpc3QgYmVsb3cuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmR5bmFtaWMrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZVRoaXNVcGxvYWRIV00oaHdtUmVzcG9uc2UpOyAvL3JlbW92ZSBpdCBmcm9tIHRoZSBoYW5kc29udGFibGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBsb2FkaW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfS8vZW5kIGlmIGZpbGV0eXBlX2lkICE9PSA4XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZhbEZpbGUuc291cmNlX2lkID0gc291cmNlUmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlLnNpdGVfaWQgPSBod21SZXNwb25zZS5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92YWxGaWxlLmh3bV9pZCA9IGh3bVJlc3BvbnNlLmh3bV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmFsRmlsZS5wYXRoID0gJzxsaW5rPic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYXBwcm92YWxGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh3bVJlc3BvbnNlLkhXTUZpbGVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21SZXNwb25zZS5IV01GaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCB0byB0aGUgZG9uZSBsaXN0IChtYWtlIHN1cmUgaXQncyBub3QgYWxyZWFkeSB0aGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucG9zdGVkSFdNcy5tYXAoZnVuY3Rpb24gKHApIHsgcmV0dXJuIHAuaHdtX2lkOyB9KS5pbmRleE9mKGh3bVJlc3BvbnNlLmh3bV9pZCkgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV00gdXBsb2FkZWQ6IGh3bV9pZDpcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXMucHVzaChod21SZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkhXTSBcIiArIGh3bVJlc3BvbnNlLmh3bV9pZCArIFwiIGlzIGFscmVhZHkgaW4gdGhlIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCBsaXN0IGJlbG93LlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVUaGlzVXBsb2FkSFdNKGh3bVJlc3BvbnNlKTsgLy9yZW1vdmUgaXQgZnJvbSB0aGUgaGFuZHNvbnRhYmxlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZWxzZSAoZmlsZXR5cGVfaWQgZG9lcyA9PSA4KSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChzb3VyY2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9ICdmYWxzZSc7IC8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzb3VyY2VFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBhcHByb3ZhbCBGaWxlIFNvdXJjZTogXCIgKyBzb3VyY2VFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBhcHByb3ZhbCBGaWxlIFNvdXJjZTogXCIgKyBzb3VyY2VFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoYXBwcm92ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgaHdtOiBcIiArIGFwcHJvdmVFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGh3bTogXCIgKyBhcHByb3ZlRXJyb3Iuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIGFwcHJvdmUgaHdtXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGh3bVNhdmVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLm9wdGlvbnMudGltZU91dCA9IFwiMFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucy5jbG9zZUJ1dHRvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bVNhdmVFcnJvci5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBod206IFwiICsgaHdtU2F2ZUVycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHVwbG9hZGluZyBod206IFwiICsgaHdtU2F2ZUVycm9yLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGdldFNpdGVQZWFrRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd1Byb2dyZXNzQmFyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdldFNpdGVQZWFrRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgcGVhazogXCIgKyBnZXRTaXRlUGVha0Vycm9yLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHBlYWs6IFwiICsgZ2V0U2l0ZVBlYWtFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZ2V0SHdtU2l0ZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0xvYWRpbmcgPSAnZmFsc2UnOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLnRpbWVPdXQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5vcHRpb25zLmNsb3NlQnV0dG9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UHJvZ3Jlc3NCYXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChnZXRId21TaXRlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgaW5mbyAoXCIgKyBod20uc2l0ZV9ubyArIFwiKTogXCIgKyBnZXRId21TaXRlRXJyb3IuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZSBpbmZvIChcIiArIGh3bS5zaXRlX25vICsgXCIpOiBcIiArIGdldEh3bVNpdGVFcnJvci5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJHNjb3BlLnNob3dQcm9ncmVzc0JhciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL3Jlc2V0IGJhY2sgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2xlYXJUYWJsZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzZXRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj48L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5XYXJuaW5nISBUaGlzIHdpbGwgcmVtb3ZlIGFsbCBod21zIGZyb20gdGhlIHRhYmxlLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctY2xpY2s9XCJjYW5jZWwoKVwiPkNhbmNlbDwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51cGxvYWRIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubm90VmFsaWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBjaGFuZ2Ugc29ydGluZyBvcmRlclxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRfYnkgPSBmdW5jdGlvbiAobmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zb3J0aW5nT3JkZXIgPT0gbmV3U29ydGluZ09yZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXZlcnNlID0gISRzY29wZS5yZXZlcnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc29ydGluZ09yZGVyID0gbmV3U29ydGluZ09yZGVyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGljb24gc2V0dXBcclxuICAgICAgICAgICAgICAgICAgICAkKCd0aCBpJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGljb24gcmVzZXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLXNvcnQnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnJldmVyc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tZG93bicpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHN1Y2Nlc3NmdWxseSBVcGxvYWRlZCBUYWJsZSBzdHVmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgdGhlIHNpdGUgbm8gaW4gdGhlIGZpbmlzaGVkIHRhYmxlIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9TaXRlRGFzaCA9IGZ1bmN0aW9uIChzaXRlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Nob3cgd2FybmluZyBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXJuaW5nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZyE8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgYXJlIGFib3V0IHRvIGxlYXZlIHRoZSBCdWxrIEhXTSBVcGxvYWRlci48YnIgLz5JbiBkb2luZyBzbywgeW91IHdpbGwgbm8gbG9uZ2VyIGJlIGFibGUgdG8gc2VlIHRoZSBsaXN0IG9mIHN1Y2Nlc3NmdWxseSB1cGxvYWRlZCBIV01zLjwvcD48cD5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhpcyBwYWdlPzwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nXCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+WWVzPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwiY2FuY2VsKClcIiBuZy1jbGljaz1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzaXRlSUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB3YXJuaW5nTW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHNpdGVJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3NpdGUuZGFzaGJvYXJkJywgeyBpZDogc2l0ZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoaXMgaHdtIGFuZCByZW1vdmUgZnJvbSBkb25lIHRhYmxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVsZXRlSFdNID0gZnVuY3Rpb24gKGh3bSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxJbmRleCA9ICRzY29wZS5wb3N0ZWRIV01zLmluZGV4T2YoaHdtKTtcclxuICAgICAgICAgICAgICAgICAgICAvL1RPRE86OiBEZWxldGUgdGhlIGZpbGVzIGZvciB0aGlzIGh3bSB0b28gb3IgcmVhc3NpZ24gdG8gdGhlIFNpdGU/PyBTZXJ2aWNlcyBvciBjbGllbnQgaGFuZGxpbmc/XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh3bTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiSFdNXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChod21Ub1JlbW92ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTS5kZWxldGUoeyBpZDogaHdtVG9SZW1vdmUuaHdtX2lkIH0sIGh3bVRvUmVtb3ZlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlcyA9IFtdOyAvL2NsZWFyIG91dCBod21GaWxlcyBmb3IgdGhpcyBod21cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIFJlbW92ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucG9zdGVkSFdNcy5zcGxpY2UoJHNjb3BlLmRlbEluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZWxJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBEZWxldGVIV00gICAgICAgICAgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgLy93YW50IHRvIGVkaXQgaHdtIG9yIGFkZCBmaWxlcyB0byBpdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9wZW5IV01FZGl0ID0gZnVuY3Rpb24gKEhXTWNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0FsbExpc3RzID0gW2h3bVR5cGVMaXN0LCBod21RdWFsTGlzdCwgaG9yaXpEYXR1bUxpc3QsIGhvckNvbGxNZXRoTGlzdCwgdmVydERhdHVtTGlzdCwgdmVydENvbGxNZXRoTGlzdCwgbWFya2VyTGlzdCwgZXZlbnRMaXN0XTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXhDbGlja2VkID0gJHNjb3BlLnBvc3RlZEhXTXMuaW5kZXhPZihIV01jbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZU5vID0gSFdNY2xpY2tlZC5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGh3bUVkaXRJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdIV01fTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEcm9wZG93bnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFzc0FsbExpc3RzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNIV006IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSFdNY2xpY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXRlSE1XczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RXZlbnRTaXRlSFdNcyh7IHNpdGVJZDogSFdNY2xpY2tlZC5zaXRlX2lkLCBFdmVudDogSFdNY2xpY2tlZC5ldmVudF9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBod21TaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogSFdNY2xpY2tlZC5zaXRlX2lkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jeUxpc3Q6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWdlbmNpZXNMaXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbGVUeXBlc0xpc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdod21FZGl0TW9kYWxDdHJsJy8vZW5kIG1vZGFsIGNvbnRyb2xsZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBod21FZGl0SW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGh3bVVwZGF0ZWRBTkRGaWxlQ250KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoID0gaHdtVXBkYXRlZEFOREZpbGVDbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlcyA9IGh3bVVwZGF0ZWRBTkRGaWxlQ250WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLnNpdGVfbm8gPSBzaXRlTm87IC8vYWRkIGJhY2sgdGhlIHNpdF9ub1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkZCBmaWxlcyBjb3VudFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLkhXTUZpbGVzID0gZmlsZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZml4IHN0aWxsd2F0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGguc3RpbGx3YXRlciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnN0aWxsd2F0ZXIgPSBoLnN0aWxsd2F0ZXIgPiAwID8gXCJZZXNcIiA6IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGguc3RpbGx3YXRlciA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vdXBkYXRlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnBvc3RlZEhXTXNbaW5kZXhDbGlja2VkXSA9IGg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uIHN1Y2Nlc3NmdWxseSBVcGxvYWRlZCBUYWJsZSBzdHVmZiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIEhXTSBQRUFLIFwiYWRkL2VkaXRcIiBjbGlja2VkIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLk9wZW5QZWFrRWRpdCA9IGZ1bmN0aW9uIChwZWFrSWQsIHNpdGVJZCwgZXZlbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSB0cnVlOyAvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBlYWtFZGl0SW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnUGVha0VkaXRfTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVhazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLnF1ZXJ5KHsgaWQ6IHBlYWtJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVha0RGczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQRUFLLmdldFBlYWtTdW1tYXJ5REZzKHsgaWQ6IHBlYWtJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwZWFrU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxNZW1iZXJzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTUVNQkVSLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50SFdNczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBIV00uZ2V0RmlsdGVyZWRIV01zKHsgRXZlbnQ6ICRzY29wZS5jaG9zZW5FdmVudCwgRXZlbnRTdGF0dXM6IDAgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2l0ZUZpbGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZUZpbGVzKHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLmdldFNpdGVTZW5zb3JzKHsgaWQ6IHNpdGVJZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3BlYWtNb2RhbEN0cmwnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGVha0VkaXRJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAodXBkYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZWRbMF0gd2lsbCBiZSB0aGUgcGVhaywgdXBkYXRlZFsxXSB3aWxsIGJlICd1cGRhdGVkJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5PcGVuUGVha0NyZWF0ZSA9IGZ1bmN0aW9uIChzaXRlSWQsIGV2ZW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gdHJ1ZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBwZWFrQ3JlYXRlSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnUGVha0VkaXRfTW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5Ym9hcmQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlNUX0NPTExfQ09ORElUSU9OLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHVtTGlzdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzUGVhazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1BlYWtERnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJlbXB0eVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlYWtTaXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUucXVlcnkoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1lbWJlcnM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNRU1CRVIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRIV01zOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEhXTS5nZXRGaWx0ZXJlZEhXTXMoeyBFdmVudDogJHNjb3BlLmNob3NlbkV2ZW50LCBFdmVudFN0YXR1czogMCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXRlRmlsZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU0lURS5nZXRTaXRlRmlsZXMoeyBpZDogc2l0ZUlkIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpdGVTZW5zb3JzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFNJVEUuZ2V0U2l0ZVNlbnNvcnMoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAncGVha01vZGFsQ3RybCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBwZWFrQ3JlYXRlSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRQaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NyZWF0ZWRQa1swXSB3aWxsIGJlIHRoZSBwZWFrLCBjcmVhdGVkUGtbMV0gd2lsbCBiZSAnY3JlYXRlZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9hZGQgdGhpcyAnUGVha1N1bW1hcnknIFtzaXRlX2lkLCBwZWFrX3N1bW1hcnlfaWRdIHRvIGVhY2ggaHdtIGluIHBvc3RlZEhXTXMgdGhhdCBoYXZlIHRoaXMgc2l0ZUlkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUucG9zdGVkSFdNcywgZnVuY3Rpb24gKHBIV00pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwSFdNLnNpdGVfaWQgPT0gc2l0ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcEhXTS5QZWFrU3VtbWFyeSA9IFtzaXRlSWQsIGNyZWF0ZWRQa1swXS5wZWFrX3N1bW1hcnlfaWRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb24gSFdNIFBFQUsgXCJhZGQvZWRpdFwiIGNsaWNrZWQtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvL2NvbEhlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sSGVhZGVyczogW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPldhdGVyYm9keSAqPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIklkZW50aWZ5aW5nIExhYmVsLiBJZiBsZWZ0IGJsYW5rLCBkZWZhdWx0cyB0byAmcXVvdDtub19sYWJlbCZxdW90O1wiPkhXTSBMYWJlbDwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJSZXF1aXJlZFwiPkhXTSBUeXBlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJNYXJrZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5IV00gRW52aXJvbm1lbnQgKjwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkhXTSBVbmNlcnRhaW50eSAoZnQpXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIFF1YWxpdHkgKjwvc3Bhbj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkJhbmtcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJMb2MuIERlc2NyaXB0aW9uXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+SFdNIExhdGl0dWRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5IV00gTG9uZ2l0dWRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5Ib3Jpem9udGFsIERhdHVtICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiUmVxdWlyZWRcIj5Ib3Jpem9udGFsIENvbGxlY3QgTWV0aG9kICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIHRpdGxlPVwiSGVpZ2h0IGFib3ZlIGdyb3VuZFwiPkhBRyAoZnQpPC9zcGFuPicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8c3BhbiB0aXRsZT1cIlJlcXVpcmVkXCI+RmxhZy9Gb3VuZCBEYXRlICo8L3NwYW4+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXJ2ZXkgRGF0ZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlN1cnZleWVkIEVsZXYgKGZ0KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIlZlcnRpY2FsIERhdHVtXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiVmVydGljYWwgQ29sbGVjdCBNZXRob2RcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJTdXJ2ZXkgVW5jZXJ0YWludHkgKGZ0KVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIk5vdGVzXCIsIFwiVHJhbnF1aWwvU3RpbGx3YXRlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPHNwYW4gdGl0bGU9XCJTaXRlIE51bWJlciwgUmVxdWlyZWRcIj4gU2l0ZSBObyAqPC9zcGFuPidcclxuICAgICAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlYWRlcnM6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhSb3dzOiAxMCxcclxuICAgICAgICAgICAgICAgICAgICBhZnRlckluaXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmhvdEluc3RhbmNlID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtblNvcnRpbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbENvbHVtblJlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBtYW51YWxSb3dSZXNpemU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFdyYXA6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnRPdmVyZmxvdzogJ2hvcml6b250YWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdwb3J0Q29sdW1uUmVuZGVyaW5nT2Zmc2V0TnVtYmVyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbFdpZHRoczogJHNjb3BlLmNvbHVtbldpZHRocyxcclxuICAgICAgICAgICAgICAgICAgICAvL2ludGVyZXN0aW5nLS0gY291bGQgdXNlIHRoaXMgZm9yIGhvdmVyIHRleHQgb24gaW52YWxpZHMgbWF5YmVcclxuICAgICAgICAgICAgICAgICAgICAvL2FmdGVyT25DZWxsTW91c2VPdmVyOmZ1bmN0aW9uIChldmVudCwgY29vcmRzLCB0ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgIHZhciB0ZXN0ID0gJ2hpJztcclxuICAgICAgICAgICAgICAgICAgICAvL30sXHJcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJPbkNlbGxNb3VzZURvd246IGZ1bmN0aW9uIChldmVudCwgY29vcmRzLCB0ZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29wZW4gbW9kYWwgZm9yIHNpdGVOb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29wZW4gbXVsdGktc2VsZWN0IG1vZGFsIGZvciByZXNvdXJjZXMsIG1lZGlhIG9yIGZyZXF1ZW5jaWVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb29yZHMuY29sID09PSAyMiAmJiBldmVudC5yZWFsVGFyZ2V0LmNsYXNzTmFtZSA9PSBcImh0QXV0b2NvbXBsZXRlQXJyb3dcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVOb0Fycm93Q2xpY2tlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFzc0hXTXZhbHMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NIV012YWxzLnB1c2goJHNjb3BlLmhvdEluc3RhbmNlLmdldERhdGFBdENlbGwoY29vcmRzLnJvdywgMCkpOyAvL3dhdGVyYm9keVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCA5KSk7IC8vbGF0IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCAxMCkpOyAvL2xvbmcgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc0hXTXZhbHMucHVzaCgkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCAxMSkpOyAvL2hkYXR1bSAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXNzSFdNdmFscy5wdXNoKCRzY29wZS5ob3RJbnN0YW5jZS5nZXREYXRhQXRDZWxsKGNvb3Jkcy5yb3csIDEyKSk7IC8vaGNvbGxlY3RtZXRoZCBcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRGaW5kU2l0ZU1vZGFsKGNvb3Jkcy5yb3csIGNvb3Jkcy5jb2wsIHBhc3NIV012YWxzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGV4dE1lbnU6IFsncmVtb3ZlX3JvdyddLFxyXG5cclxuICAgICAgICAgICAgICAgICAgICBvbkFmdGVyVmFsaWRhdGU6IGZ1bmN0aW9uIChpc1ZhbGlkLCB2YWx1ZSwgcm93LCBwcm9wLCBzb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnB1c2goeyBcImlzVmFsaWRcIjogaXNWYWxpZCwgXCJyb3dcIjogcm93LCBcInByb3BcIjogcHJvcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2SW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZJID0gMDsgdkkgPCAkc2NvcGUuaW52YWxpZHMubGVuZ3RoOyB2SSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5pbnZhbGlkc1t2SV0ucm93ID09IHJvdyAmJiAkc2NvcGUuaW52YWxpZHNbdkldLnByb3AgPT0gcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2SW5kZXggPSB2STtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZJbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UodkluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlckNoYW5nZTogZnVuY3Rpb24gKGNoYW5nZSwgc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc291cmNlIGNhbiBiZSAnbG9hZERhdGEnIChmaXJzdCB0aW1lKSwgJ2VkaXQnIChvbmUgY2VsbCBhdCBhIHRpbWUpLCAncGFzdGUnIChidW5jaCBhdCBhIHRpbWUpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY2hhbmdlIGlzIGFuIGFycmF5IGNvbnRhaW5pbmcgYXJyYXlzIGZvciBlYWNoIGNvbHVtbiBhZmZlY3RlZDogWzBdID0gcm93LCBbMV0gPSBkYXRhTmFtZSwgWzJdID0gdmFsdWUgaXQgd2FzLCBbM10gPSB2YWx1ZSBpdCBpcyAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc291cmNlICE9ICdsb2FkRGF0YScpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IGNhcmUgaWYgaXQgd2FzIGFjdHVhbGx5IGNoYW5nZWQgLS0gbWFrZSB0aGVtIHZhbGlkYXRlIGFnYWluXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYW5nZVtpXVsyXSAhPT0gY2hhbmdlW2ldWzNdICYmICRzY29wZS5ub3RWYWxpZCA9PT0gZmFsc2UpICRzY29wZS5ub3RWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgZm9yZWFjaCBjaGFuZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlclJlbW92ZVJvdzogZnVuY3Rpb24gKGluZGV4LCBhbW91bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBhbnkgJHNjb3BlLmludmFsaWRzW2ldLnJvdyA9PSBpbmRleCB0aGVuIHNwbGljZSBpdCBvdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkID0gJHNjb3BlLmhvdEluc3RhbmNlLmdldFNlbGVjdGVkKCk7IC8vW3N0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2xdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhbW91bnQgPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21vcmUgdGhhbiAxIHJvdyBiZWluZyBkZWxldGVkLiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlYWNoUm93SW5kZXhBcnJheSA9IFtdOyAvL2hvbGRlciBmb3IgYXJyYXkgaW5kZXggdG8gbG9vcCB0aHJ1IGZvciBzcGxpY2luZyBpbnZhbGlkc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNudCA9IChzZWxlY3RlZFsyXSAtIHNlbGVjdGVkWzBdICsgMSk7IC8vZ2l2ZXMgbWUgY291bnQgb2Ygc2VsZWN0ZWQgcm93c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWFjaFJvd0luZGV4QXJyYXkucHVzaChzZWxlY3RlZFswXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBjID0gMTsgYyA8IGNudDsgYysrKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2hSb3dJbmRleEFycmF5LnB1c2goc2VsZWN0ZWRbMF0gKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vcCB0aHJ1IGludmFsaWRzIHRvIHNlZSBpZiBhbnkgYXJlIGluIHRoZSBkZWxldGluZyByb3dzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBNaSA9ICRzY29wZS5pbnZhbGlkcy5sZW5ndGg7IE1pLS07KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVhY2hSb3dJbmRleEFycmF5LmluZGV4T2YoJHNjb3BlLmludmFsaWRzW01pXS5yb3cpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UoTWksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9qdXN0IDEgcm93IHNlbGVjdGVkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gJHNjb3BlLmludmFsaWRzLmxlbmd0aDsgaS0tOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaW52YWxpZHNbaV0ucm93ID09IGluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW52YWxpZHMuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBoYW5kc29udGFibGUgc2V0dGluZ3NcclxuICAgICAgICAgICAgfS8vZW5kIGF1dGhvcml6ZWRcclxuICAgICAgICB9XSk7XHJcblxyXG4gICAgLy9jb250cm9sbGVyIGZvciB0aGUgaHdtIHNpdGUgTm8gbW9kYWwgdGhhdCBjb21lcyB1cCB3aGVuIGNsaWNraW5nIHRoZSBkcm9wZG93biBhcnJvdyBpbiB0aGUgc2l0ZSBubyBjZWxsIGluIHRoZSBoYW5kc29udGFibGVcclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2h3bVNpdGVNb2RhbEN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRodHRwJywgJyRjb29raWVzJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ25lYXJCeVNpdGVzJywgJ0hXTXBhcnRzJywgJ3NpdGVOb0FscmVhZHlUaGVyZScsICdoZGF0dW1zJywgJ2hjb2xNZXRocycsICd2ZGF0dW1zJywgJ3Zjb2xNZXRocycsICdzdGF0ZXMnLCAnY291bnRpZXMnLCAnbGVhZmxldERhdGEnLCAnbGVhZmxldE1hcmtlckV2ZW50cycsICdHRU9DT0RFJywgJ1NJVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRodHRwLCAkY29va2llcywgJHVpYk1vZGFsSW5zdGFuY2UsIG5lYXJCeVNpdGVzLCBIV01wYXJ0cywgc2l0ZU5vQWxyZWFkeVRoZXJlLCBoZGF0dW1zLCBoY29sTWV0aHMsIHZkYXR1bXMsIHZjb2xNZXRocywgc3RhdGVzLCBjb3VudGllcywgbGVhZmxldERhdGEsIGxlYWZsZXRNYXJrZXJFdmVudHMsIEdFT0NPREUsIFNJVEUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmxvY2FsU2l0ZXMgPSBuZWFyQnlTaXRlcztcclxuICAgICAgICAgICAgJHNjb3BlLmhvckRhdHVtcyA9IGhkYXR1bXM7XHJcbiAgICAgICAgICAgICRzY29wZS5ob3JDb2xsTWV0aHMgPSBoY29sTWV0aHM7XHJcbiAgICAgICAgICAgICRzY29wZS52ZXJ0RGF0dW1zID0gdmRhdHVtcztcclxuICAgICAgICAgICAgJHNjb3BlLnZlcnRDb2xsTWV0aHMgPSB2Y29sTWV0aHM7XHJcbiAgICAgICAgICAgICRzY29wZS5zdGF0ZXMgPSBzdGF0ZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5jb3VudGllcyA9IGNvdW50aWVzO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhID0gZmFsc2U7IC8vY3JlYXRlIG5ldyBzaXRlIGNoZWNrYm94IGNsaWNrIHRvZ2dsZSBzaG93L2hpZGUgXHJcbiAgICAgICAgICAgICRzY29wZS5kaXNhYmxlT0sgPSBmYWxzZTtcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUNoZWNrZWQgPSBcIjBcIjsgLy8gZGVmYXVsdCBpcyB1bmNoZWNrZWQgb24gY3JlYXRlIG5ldyBzaXRlXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93TWFwID0gZmFsc2U7IC8vc2hvdyBtYXAgdG9nZ2xlIChvbmx5IHNob3dzIGlmIHRoZXJlIGFyZSBzaXRlcyBpbiB0aGUgbG9jYWxTaXRlcyBsaXN0XHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SGlkZU1hcCA9IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAvLyBzaG93L2hpZGUgY3JlYXRlIHNpdGUgYXJlYVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVDcmVhdGVTaXRlRGl2ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlQ3JlYXRlQXJlYSA9ICEkc2NvcGUuc2hvd1NpdGVDcmVhdGVBcmVhO1xyXG4gICAgICAgICAgICAgICAgLy91bnNlbGVjdCBhbGwgcmFkaW8gYnV0dG9ucyAoaWYgZXhpc3RpbmcgbmVhcmJ5IHNpdGVzKVxyXG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5sb2NhbFNpdGVzLCBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzLnNlbGVjdGVkO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvL3JlbW92ZS9zaG93IE9LIGJ1dHRvbiBmcm9tIGJvdHRvbSBvZiBtb2RhbFxyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaG93U2l0ZUNyZWF0ZUFyZWEpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGlzYWJsZU9LID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd01hcCA9IGZhbHNlOyAkc2NvcGUuc2hvd0hpZGVNYXAgPSAkc2NvcGUuc2hvd0hpZGVNYXAgPT0gXCJTaG93XCIgPyBcIkhpZGVcIiA6IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9wdWxhdGUgbmV3U2l0ZSB3aXRoIGh3bSBwYXJ0cyBpZiBwcmVzZW50ICAwOndhdGVyYm9keSwgMTpsYXQsIDI6bG9uZywgMzpoZGF0dW0sIDQ6aGNvbGxlY3RtZXRoZFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLndhdGVyYm9keSA9IEhXTXBhcnRzWzBdICE9PSBcIlwiICYmIEhXTXBhcnRzWzBdICE9PSBudWxsID8gSFdNcGFydHNbMF0gOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkID0gSFdNcGFydHNbMV0gIT09IFwiXCIgJiYgSFdNcGFydHNbMV0gIT09IG51bGwgPyBIV01wYXJ0c1sxXSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkID0gSFdNcGFydHNbMl0gIT09IFwiXCIgJiYgSFdNcGFydHNbMl0gIT09IG51bGwgPyBIV01wYXJ0c1syXSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUuaGRhdHVtX2lkID0gSFdNcGFydHNbM10gIT09IFwiXCIgJiYgSFdNcGFydHNbM10gIT09IG51bGwgPyAkc2NvcGUuaG9yRGF0dW1zLmZpbHRlcihmdW5jdGlvbiAoaGQpIHsgcmV0dXJuIGhkLmRhdHVtX25hbWUgPT0gSFdNcGFydHNbM107IH0pWzBdLmRhdHVtX2lkIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5oY29sbGVjdF9tZXRob2RfaWQgPSBIV01wYXJ0c1s0XSAhPT0gXCJcIiAmJiBIV01wYXJ0c1s0XSAhPT0gbnVsbCA/ICRzY29wZS5ob3JDb2xsTWV0aHMuZmlsdGVyKGZ1bmN0aW9uIChoZCkgeyByZXR1cm4gaGQuaGNvbGxlY3RfbWV0aG9kID09IEhXTXBhcnRzWzRdOyB9KVswXS5oY29sbGVjdF9tZXRob2RfaWQgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvL2dldEFkZHJlc3Mgd2l0aCBsYXQvbG9uZ1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRBZGRyZXNzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlICRzY29wZS5kaXNhYmxlT0sgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBhbGwgbWFya2VycyAoaWYgYW55KSBkZWZhdWx0IGJsdWUgKHVuc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm1hcmtlcnMsIGZ1bmN0aW9uIChtbSkgeyBpZiAobW0ubGF5ZXIgPT0gJ3N0blNpdGVzJykgbW0uaWNvbiA9IGljb25zLnN0bjsgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaWYgdGhleSBjaGVjayBhIHJhZGlvIGJ1dHRvbiAoY2hvc2UgYSBzaXRlKSBtYWtlIHN1cmUgdGhlIGNoZWNrYm94IGZvciBuZXcgc2l0ZSBpcyB1bmNoZWNrZWQuXHJcbiAgICAgICAgICAgICRzY29wZS51bmNoa0NyZWF0ZSA9IGZ1bmN0aW9uIChjaGVja2VkU2l0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUNoZWNrZWQgPSBcIjBcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93U2l0ZUNyZWF0ZUFyZWEgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIC8vY2hhbmdlIGljb24gY29sb3Igb2YgdGhhdCBtYXJrZXIgaW4gbWFwXHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLm1hcmtlcnMsIGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG0ubGF5ZXIgPT0gJ3N0blNpdGVzJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobS5sYXQgPT0gY2hlY2tlZFNpdGUubGF0aXR1ZGVfZGQgJiYgbS5sbmcgPT0gY2hlY2tlZFNpdGUubG9uZ2l0dWRlX2RkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbS5pY29uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5pY29uID0gaWNvbnMuc2VsZWN0ZWRTdG47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBtLmljb24gPSBpY29ucy5zdG47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRpc2FibGVPSyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyBzaG93L2hpZGUgdGhlIG1hcCBcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dTaXRlc09uTWFwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dNYXAgPSAhJHNjb3BlLnNob3dNYXA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0hpZGVNYXAgPSAkc2NvcGUuc2hvd0hpZGVNYXAgPT0gXCJTaG93XCIgPyBcIkhpZGVcIiA6IFwiU2hvd1wiO1xyXG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaG93TWFwKSBmaXRNYXBCb3VuZHMoKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbWFwIHN0dWZmXHJcbiAgICAgICAgICAgICRzY29wZS5tYXJrZXJzID0gW107XHJcblxyXG4gICAgICAgICAgICB2YXIgaWNvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdG46IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzEwLCAxMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc3RuU2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRTdG46IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGl2JyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uU2l6ZTogWzE0LCAxNF0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnbmV3U2l0ZUljb24nXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaHdtSWNvbjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkaXYnLFxyXG4gICAgICAgICAgICAgICAgICAgIGljb25TaXplOiBbMTYsIDIwXSxcclxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdzdG5IV01JY29uJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9wdXNoIGVhY2ggbG9jYWxTaXRlIGludG8gdGhlIG1hcmtlcnMgYXJyYXlcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUubG9jYWxTaXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGEgPSAkc2NvcGUubG9jYWxTaXRlc1tpXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5tYXJrZXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgIGxheWVyOiAnc3RuU2l0ZXMnLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICc8ZGl2PjxiPlNpdGUgTnVtYmVyOjwvYj4gJyArIGEuc2l0ZV9ubyArICc8YnIgLz4nICtcclxuICAgICAgICAgICAgICAgICAgICAnPGI+U2l0ZSBOYW1lOjwvYj4gJyArIGEuc2l0ZV9uYW1lICsgJzxiciAvPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8Yj5XYXRlcmJvZHk6PC9iPiAnICsgYS53YXRlcmJvZHkgKyAnPGJyIC8+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxiPkxhdGl0dWRlL0xvbmdpdHVkZTo8L2I+ICcgKyBhLmxhdGl0dWRlX2RkICsgJyAnICsgYS5sb25naXR1ZGVfZGQgKyAnPGJyIC8+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBsYXQ6IGEubGF0aXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBhLmxvbmdpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiBhLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGEuc2l0ZV9ubyxcclxuICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5zdG5cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vcHVzaCB0aGUgaHdtIGludG8gdGhlIG1hcmtlcnNcclxuICAgICAgICAgICAgJHNjb3BlLm1hcmtlcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBsYXllcjogJ3N0bkhXTScsXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAnPGRpdj48Yj5IV008L2I+PGJyLz4nICtcclxuICAgICAgICAgICAgICAgICc8Yj5MYXRpdHVkZTo8L2I+ICcgKyBIV01wYXJ0c1sxXSArICc8YnIvPicgK1xyXG4gICAgICAgICAgICAgICAgJzxiPkxvbnRpdHVkZTo8L2I+ICcgKyBIV01wYXJ0c1syXSArICc8YnIvPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICBsYXQ6IE51bWJlcihIV01wYXJ0c1sxXSksXHJcbiAgICAgICAgICAgICAgICBsbmc6IE51bWJlcihIV01wYXJ0c1syXSksXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0hXTScsXHJcbiAgICAgICAgICAgICAgICBpY29uOiBpY29ucy5od21JY29uXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2dldCBib3VuZHMgYmFzZWQgb24gbGF0IGxvbmcgb2YgMiBwb2ludHNcclxuICAgICAgICAgICAgdmFyIGJvdW5kcyA9IFtdO1xyXG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmxvY2FsU2l0ZXMsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICBib3VuZHMucHVzaChbcy5sYXRpdHVkZV9kZCwgcy5sb25naXR1ZGVfZGRdKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHZhciBmaXRNYXBCb3VuZHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBsZWFmbGV0RGF0YS5nZXRNYXAoXCJhc3NvY2lhdGVkU2l0ZU1hcFwiKS50aGVuKGZ1bmN0aW9uIChtYXApIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXAuZml0Qm91bmRzKGJvdW5kcywgeyBwYWRkaW5nOiBbMjAsIDIwXSB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBmaXRNYXBCb3VuZHMoKTtcclxuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoJHNjb3BlLCB7XHJcbiAgICAgICAgICAgICAgICBtYXJrZXJzOiAkc2NvcGUubWFya2VycyxcclxuICAgICAgICAgICAgICAgIGxheWVyczoge1xyXG4gICAgICAgICAgICAgICAgICAgIGJhc2VsYXllcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wbzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJXb3JsZCBUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZ3NCYXNlXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXllcjogXCJUb3BvZ3JhcGhpY1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RuU2l0ZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdncm91cCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU1ROIFNpdGVzJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RuSFdNOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZ3JvdXAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0hXTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pOy8vZW5kIGFuZ3VsYXIgJHNjb3BlLmV4dGVuZCBzdGF0ZW1lbnRcclxuICAgICAgICAgICAgLy9lbmQgbWFwIHBhcnRcclxuXHJcbiAgICAgICAgICAgIC8vaWYgdGhlcmUncyBhbHJlYWR5IGJlZW4gYSBzaXRlX25vIGFkZGVkIHRvIHRoaXMgcm93LCBnZXQgaXQgZnJvbSB0aGUgbG9jYWxTaXRlcyBhbmQgc2VsZWN0IGl0XHJcbiAgICAgICAgICAgIGlmIChzaXRlTm9BbHJlYWR5VGhlcmUgIT09IFwiXCIgJiYgc2l0ZU5vQWxyZWFkeVRoZXJlICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLmxvY2FsU2l0ZXMsIGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHMuc2l0ZV9ubyA9PSBzaXRlTm9BbHJlYWR5VGhlcmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcy5zZWxlY3RlZCA9ICd0cnVlJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkTWFya2VyID0gJHNjb3BlLm1hcmtlcnMuZmlsdGVyKGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLmxhdCA9PSBzLmxhdGl0dWRlX2RkICYmIG0ubG5nID09IHMubG9uZ2l0dWRlX2RkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRNYXJrZXIuaWNvbiA9IGljb25zLnNlbGVjdGVkU3RuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL25ldyBzaXRlIGNyZWF0ZSBzZWN0aW9uXHJcbiAgICAgICAgICAgICRzY29wZS5uZXdTaXRlID0ge307XHJcblxyXG4gICAgICAgICAgICAvL2xhdCBlcnJvciBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNTSVRFX2xhdGl0dWRlX2RkXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSAkKFwiI0xhRGVnXCIpLmZvY3VzKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNTSVRFX2xvbmdpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMb0RlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vbWFrZSBzdXJlIGxhdC9sb25nIGFyZSByaWdodCBudW1iZXIgcmFuZ2VcclxuICAgICAgICAgICAgJHNjb3BlLmNoZWNrVmFsdWUgPSBmdW5jdGlvbiAoZGlyZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGlyZWN0aW9uID09ICdsYXQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkIDwgMCB8fCAkc2NvcGUubmV3U2l0ZS5sYXRpdHVkZV9kZCA+IDczIHx8IGlzTmFOKCRzY29wZS5uZXdTaXRlLmxhdGl0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSAnbG9uZycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgPiAtNjAgfHwgaXNOYU4oJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgbm90IGEgbnVtYmVyLCBjbGVhciB0aGUgaW1wdXRzIHRvIHRyaWdnZXIgdGhlIHZhbGlkYXRpb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKCRzY29wZS5uZXdTaXRlLmxvbmdpdHVkZV9kZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy93aGVuIFNJVEUuc3RhdGUgY2hhbmdlcywgdXBkYXRlIGNvdW50eSBsaXN0XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVDb3VudHlMaXN0ID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSBzOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgdXBkYXRlQ291bnR5TGlzdCgpIGZvciBTaXRlXHJcblxyXG4gICAgICAgICAgICAvL2dldCBhZGRyZXNzIHBhcnRzIGFuZCBleGlzdGluZyBzaXRlcyBcclxuICAgICAgICAgICAgJHNjb3BlLmdldEFkZHJlc3MgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NsZWFyIHRoZW0gYWxsIGZpcnN0XHJcbiAgICAgICAgICAgICAgICBkZWxldGUgJHNjb3BlLm5ld1NpdGUuYWRkcmVzczsgZGVsZXRlICRzY29wZS5uZXdTaXRlLmNpdHk7IGRlbGV0ZSAkc2NvcGUubmV3U2l0ZS5zdGF0ZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSBbXTsgZGVsZXRlICRzY29wZS5uZXdTaXRlLnppcDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQgIT09IHVuZGVmaW5lZCAmJiAhaXNOYU4oJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQpICYmICFpc05hTigkc2NvcGUubmV3U2l0ZS5sb25naXR1ZGVfZGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IHRydWU7IC8vbG9hZGluZy4uLlxyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBHRU9DT0RFLmdldEFkZHJlc3NQYXJ0cyh7IExvbmdpdHVkZTogJHNjb3BlLm5ld1NpdGUubG9uZ2l0dWRlX2RkLCBMYXRpdHVkZTogJHNjb3BlLm5ld1NpdGUubGF0aXR1ZGVfZGQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUZJUFMgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uU1RBVEU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWUgPSByZXNwb25zZS5yZXN1bHQuZ2VvZ3JhcGhpZXMuQ291bnRpZXNbMF0uTkFNRTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1N0YXRlSUQgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2ZpcCA9PSBzdGF0ZUZJUFM7IH0pWzBdLnN0YXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zdGF0ZV9pZCA9PSB0aGlzU3RhdGVJRDsgfSlbMF07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmV3U2l0ZS5zdGF0ZSA9IHRoaXNTdGF0ZS5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zdGF0ZUNvdW50eUxpc3QgPSAkc2NvcGUuY291bnRpZXMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLnN0YXRlX2lkID09IHRoaXNTdGF0ZS5zdGF0ZV9pZDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5uZXdTaXRlLmNvdW50eSA9IGNvdW50eU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiVGhlIExhdGl0dWRlL0xvbmdpdHVkZSBkaWQgbm90IHJldHVybiBhIHJlY29nbml6ZWQgc3RhdGUuIFBsZWFzZSBjaG9vc2Ugb25lIGZyb20gdGhlIGRyb3Bkb3duLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuZXJyb3IoXCJObyBsb2NhdGlvbiBpbmZvcm1hdGlvbiBjYW1lIGJhY2sgZnJvbSB0aGF0IGxhdC9sb25nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhZGRyZXNzLiBDaG9vc2UgU3RhdGUgYW5kIENvdW50eSBmcm9tIGRyb3Bkb3ducy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsvLyBsb2FkaW5nLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFkZHJlc3M6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGV5IGRpZCBub3QgdHlwZSBhIGxhdC9sb25nIGZpcnN0Li4uXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlOy8vIGxvYWRpbmcuLlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbXB0eUxhdExvbmdNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlBsZWFzZSBwcm92aWRlIGEgTGF0aXR1ZGUgYW5kIExvbmdpdHVkZSBiZWZvcmUgY2xpY2tpbmcgVmVyaWZ5IExvY2F0aW9uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBnZXRBZGRyZXNzKClcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSBjcmVhdGVkIGEgbmV3IHNpdGUsIHBvc3QgaXQgYW5kIHVzZSBwYXNzIHRoZSBzaXRlX25vIGJhY2sgdG8gdGhlIGhhbmRzb250YWJsZSByb3dcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU5ld1NpdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9wb3N0IHRoZSBzaXRlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5ld1NpdGUubWVtYmVyX2lkID0gJHNjb3BlLiRwYXJlbnQudXNlcklEO1xyXG4gICAgICAgICAgICAgICAgICAgIFNJVEUuc2F2ZSgkc2NvcGUubmV3U2l0ZSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3NlbmQgaXQgYmFjayB0byBoYW5kc29udGFibGUgcm93XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9lbmQgY3JlYXRlIG5ldyBzaXRlIHNlY3Rpb25cclxuXHJcbiAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vc2VuZCB0aGUgc2VsZWN0ZWQgb25lIGJhY2sgc28gc2l0ZV9ubyBzaG93c1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkU2l0ZSA9IG5lYXJCeVNpdGVzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5zZWxlY3RlZCA9PSBcInRydWVcIjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZWxlY3RlZFNpdGUpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTsvL2VuZCBNb2RhbCBjb250cm9sbGVyXHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignaHdtRWRpdE1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGh0dHAnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsJywgJyR1aWJNb2RhbEluc3RhbmNlJywgJ2FsbERyb3Bkb3ducycsICd0aGlzSFdNJywgJ3NpdGVITVdzJywgJ2FnZW5jeUxpc3QnLCAnYWxsTWVtYmVycycsICdmaWxlVHlwZXMnLCAnaHdtU2l0ZScsXHJcbiAgICAgICAgJ1NFUlZFUl9VUkwnLCAnSFdNJywgJ0ZJTEUnLCAnU09VUkNFJywgJ0ZJTEVfU1RBTVAnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRodHRwLCAkY29va2llcywgJHVpYk1vZGFsLCAkdWliTW9kYWxJbnN0YW5jZSwgYWxsRHJvcGRvd25zLCB0aGlzSFdNLCBzaXRlSE1XcywgYWdlbmN5TGlzdCwgYWxsTWVtYmVycywgZmlsZVR5cGVzLCBod21TaXRlLCBTRVJWRVJfVVJMLCBIV00sIEZJTEUsIFNPVVJDRSwgRklMRV9TVEFNUCkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUudmlldyA9IHsgSFdNdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuaCA9IHsgaE9wZW46IHRydWUsIGhGaWxlT3BlbjogZmFsc2UgfTsgLy9hY2NvcmRpb25zXHJcbiAgICAgICAgICAgICRzY29wZS5od21UeXBlTGlzdCA9IGFsbERyb3Bkb3duc1swXTtcclxuICAgICAgICAgICAgJHNjb3BlLmh3bVF1YWxMaXN0ID0gYWxsRHJvcGRvd25zWzFdO1xyXG4gICAgICAgICAgICAkc2NvcGUuSERhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbMl07XHJcbiAgICAgICAgICAgICRzY29wZS5oQ29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzNdO1xyXG4gICAgICAgICAgICAkc2NvcGUuVkRhdHVtc0xpc3QgPSBhbGxEcm9wZG93bnNbNF07XHJcbiAgICAgICAgICAgICRzY29wZS52Q29sbE1MaXN0ID0gYWxsRHJvcGRvd25zWzVdO1xyXG4gICAgICAgICAgICAkc2NvcGUubWFya2VyTGlzdCA9IGFsbERyb3Bkb3duc1s2XTtcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdCA9IGFsbERyb3Bkb3duc1s3XTtcclxuICAgICAgICAgICAgJHNjb3BlLnRoaXNIV01zaXRlID0gaHdtU2l0ZTtcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlTGlzdCA9IGZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgLy9QaG90byAoMSksIEhpc3RvcmljICgzKSwgRmllbGQgU2hlZXRzICg0KSwgTGV2ZWwgTm90ZXMgKDUpLCBPdGhlciAoNyksIExpbmsgKDgpLCBTa2V0Y2ggKDEwKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgaGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdMZXZlbCBOb3RlcycgfHxcclxuICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmh3bUltYWdlRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgJHNjb3BlLnNob3dGaWxlRm9ybSA9IGZhbHNlOyAvL2hpZGRlbiBmb3JtIHRvIGFkZCBmaWxlIHRvIGh3bVxyXG4gICAgICAgICAgICAkc2NvcGUudXNlclJvbGUgPSAkY29va2llcy5nZXQoJ3VzZXJzUm9sZScpO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSBmYWxzZTsgLy90b2dnbGUgdG8gc2hvdy9oaWRlIGV2ZW50IGRkIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307IC8vd2lsbCBob2xkIGV2ZW50X2lkIGlmIGFkbWluIGNoYW5nZXMgaXQuIGFwcGx5IHdoZW4gUFVUdGluZ1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDsgLy9jb25zdGFudCB3aXRoIHN0bnRlc3Qud2ltLnVzZ3MuZ292L1NUTlNlcnZpY2VzMiBcclxuICAgICAgICAgICAgLy9idXR0b24gY2xpY2sgdG8gc2hvdyBldmVudCBkcm9wZG93biB0byBjaGFuZ2UgaXQgb24gZXhpc3RpbmcgaHdtIChhZG1pbiBvbmx5KVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0NoYW5nZUV2ZW50REQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0V2ZW50REQgPSAhJHNjb3BlLnNob3dFdmVudEREO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLkxvZ2dlZEluTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmFIV00gPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzID0gW107XHJcbiAgICAgICAgICAgIC8vRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUub3BlbiA9IGZ1bmN0aW9uICgkZXZlbnQsIHdoaWNoKSB7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tyc1t3aGljaF0gPSB0cnVlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2xhdCBtb2RhbCBcclxuICAgICAgICAgICAgdmFyIG9wZW5MYXRNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF0TW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIExhdGl0dWRlIG11c3QgYmUgYmV0d2VlbiAwIGFuZCA3My4wPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBsYXRNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsYXRpdHVkZV9kZFwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgJChcIiNMYURlZ1wiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vbG9uZyBtb2RhbFxyXG4gICAgICAgICAgICB2YXIgb3BlbkxvbmdNb2RhbCA9IGZ1bmN0aW9uICh3KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbG9uZ01vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPlRoZSBMb25naXR1ZGUgbXVzdCBiZSBiZXR3ZWVuIC0xNzUuMCBhbmQgLTYwLjA8L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxvbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmllbGRGb2N1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3ID09ICdsYXRsb25nJykgJChcIiNsb25naXR1ZGVfZGRcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlICQoXCIjTG9EZWdcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9tYWtlIHN1cmUgbGF0L2xvbmcgYXJlIHJpZ2h0IG51bWJlciByYW5nZVxyXG4gICAgICAgICAgICAkc2NvcGUuY2hlY2tWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vY2hlY2sgdGhlIGxhdGl0dWRlL2xvbmdpdHVkZVxyXG4gICAgICAgICAgICAgICAgdmFyIGggPSAkc2NvcGUudmlldy5IV012YWwgPT0gJ2VkaXQnID8gJHNjb3BlLmh3bUNvcHkgOiAkc2NvcGUuYUhXTTtcclxuICAgICAgICAgICAgICAgIGlmIChoLmxhdGl0dWRlX2RkIDwgMCB8fCBoLmxhdGl0dWRlX2RkID4gNzMgfHwgaXNOYU4oaC5sYXRpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuTGF0TW9kYWwoJ2xhdGxvbmcnKTtcclxuICAgICAgICAgICAgICAgICAgICAvL2lmIG5vdCBhIG51bWJlciwgY2xlYXIgdGhlIGltcHV0cyB0byB0cmlnZ2VyIHRoZSB2YWxpZGF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGgubGF0aXR1ZGVfZGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoLmxhdGl0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGgubG9uZ2l0dWRlX2RkIDwgLTE3NSB8fCBoLmxvbmdpdHVkZV9kZCA+IC02MCB8fCBpc05hTihoLmxvbmdpdHVkZV9kZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcGVuTG9uZ01vZGFsKCdsYXRsb25nJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBub3QgYSBudW1iZXIsIGNsZWFyIHRoZSBpbXB1dHMgdG8gdHJpZ2dlciB0aGUgdmFsaWRhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihoLmxvbmdpdHVkZV9kZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGgubG9uZ2l0dWRlX2RkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAgbGF0L2xvbmcgPWlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vaHdtX3VuY2VydGFpbnR5IHR5cGVkIGluLCBjaG9vc2UgY29vcmVzcG9uZGluZyBod21fZW52aXJvbm1lbnRcclxuICAgICAgICAgICAgJHNjb3BlLmNob29zZVF1YWxpdHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgaWYgKGguaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHggPSBOdW1iZXIoaC5od21fdW5jZXJ0YWludHkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh4ID4gMC40KSBoLmh3bV9xdWFsaXR5X2lkID0gNTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh4IDwgMC4wNSkgaC5od21fcXVhbGl0eV9pZCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGguaHdtX3F1YWxpdHlfaWQgPSAkc2NvcGUuaHdtUXVhbExpc3QuZmlsdGVyKGZ1bmN0aW9uIChoKSB7IHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7IH0pWzBdLmh3bV9xdWFsaXR5X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9od20gcXVhbGl0eSBjaG9zZW4gKG9yIGl0IGNoYW5nZWQgZnJvbSBhYm92ZSksIGNoZWNrIHRvIG1ha2Ugc3VyZSBpdCBpcyBjb25ncnVlbnQgd2l0aCBpbnB1dCBhYm92ZVxyXG4gICAgICAgICAgICAkc2NvcGUuY29tcGFyZVRvVW5jZXJ0YWludHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaCA9ICRzY29wZS52aWV3LkhXTXZhbCA9PSAnZWRpdCcgPyAkc2NvcGUuaHdtQ29weSA6ICRzY29wZS5hSFdNO1xyXG4gICAgICAgICAgICAgICAgaWYgKGguaHdtX3VuY2VydGFpbnR5ICE9PSBcIlwiICYmIGguaHdtX3VuY2VydGFpbnR5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IE51bWJlcihoLmh3bV91bmNlcnRhaW50eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoaW5nUXVhbElkID0gJHNjb3BlLmh3bVF1YWxMaXN0LmZpbHRlcihmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaC5taW5fcmFuZ2UgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoLm1pbl9yYW5nZSA8PSB4ICYmIGgubWF4X3JhbmdlID49IHg7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlbMF0uaHdtX3F1YWxpdHlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGguaHdtX3F1YWxpdHlfaWQgIT09IG1hdGNoaW5nUXVhbElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc2hvdyB3YXJuaW5nIG1vZGFsIGFuZCBmb2N1cyBpbiB1bmNlcnRhaW50eVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5jb25ncnVlbnRNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGVyZSBpcyBhIG1pc21hdGNoIGJldHdlZW4gdGhlIGh3bSBxdWFsaXR5IGNob3NlbiBhbmQgdGhlIGh3bSB1bmNlcnRhaW50eSBhYm92ZS4gUGxlYXNlIGNvcnJlY3QgeW91ciBod20gdW5jZXJ0YWludHkuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNvbmdydWVudE1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fdW5jZXJ0YWludHknXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBhRGF0ZS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbmV3IERhdGUobW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTSA9IGFuZ3VsYXIuY29weSh0aGlzSFdNKTtcclxuICAgICAgICAgICAgZGVsZXRlICRzY29wZS5hSFdNLnNpdGVfbm87IC8vcmVtb3ZlIHRoaXMgc28gdGhhdCBpdCdzIHRoZSB0cnVlIG9iamVjdCBmb3IgUFVUXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5IV01GaWxlcylcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGYgPSAwOyBmIDwgJHNjb3BlLmFIV00uSFdNRmlsZXMubGVuZ3RoOyBmKyspXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goJHNjb3BlLmFIV00uSFdNRmlsZXNbZl0pO1xyXG4gICAgICAgICAgICBkZWxldGUgJHNjb3BlLmFIV00uSFdNRmlsZXM7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgLy9pZiB0aGlzIGlzIHN1cnZleWVkLCBkYXRlIGZvcm1hdCBhbmQgZ2V0IHN1cnZleSBtZW1iZXIncyBuYW1lXHJcbiAgICAgICAgICAgIGlmICgkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gbnVsbCAmJiAkc2NvcGUuYUhXTS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUpO1xyXG5cclxuICAgICAgICAgICAgLy9zYXZlIGFIV01cclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkSFdNID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2FkbWluIGNoYW5nZWQgdGhlIGV2ZW50IGZvciB0aGlzIGh3bS4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LmV2ZW50X2lkID0gJHNjb3BlLmFkbWluQ2hhbmdlZC5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiB0aGV5IGFkZGVkIGEgc3VydmV5IGRhdGUsIGFwcGx5IHN1cnZleSBtZW1iZXIgYXMgbG9nZ2VkIGluIG1lbWJlclxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5zdXJ2ZXlfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlICE9PSBudWxsICYmICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvcHkuc3VydmV5X21lbWJlcl9pZCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vZml4IHN0aWxsd2F0ZXIgYmVmb3JlIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgKCRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPT0gXCIxXCIpICRzY29wZS5od21Db3B5LnN0aWxsd2F0ZXIgPSBcIlllc1wiO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZWxzZSBpZiAoJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9PSBcIjBcIikgJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAvL2Vsc2UgJHNjb3BlLmh3bUNvcHkuc3RpbGx3YXRlciA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuaHdtQ29weS5lbGV2X2Z0ICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmh3bUNvcHkuZWxldl9mdCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSB0aGV5IGFkZGVkIHRoZSBzdXJ2ZXkgZGF0ZSBpZiB0aGV5IGFkZGVkIGFuIGVsZXZhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmh3bUNvcHkuc3VydmV5X2RhdGUgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5LnN1cnZleV9tZW1iZXJfaWQgPSAkY29va2llcy5nZXQoJ21JRCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAvL3ZhciBjbGVhbkhXTSA9IGZvcm1hdEhXTSgkc2NvcGUuaHdtQ29weSk7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLnVwZGF0ZSh7IGlkOiAkc2NvcGUuaHdtQ29weS5od21faWQgfSwgJHNjb3BlLmh3bUNvcHkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiSFdNIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNID0gcmVzcG9uc2U7IHRoaXNIV00gPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9nZXQgYWxsIHRoZSBuYW1lcyBmb3IgZGV0YWlscyB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICRzY29wZS5hSFdNLmh3bV90eXBlID0gJHNjb3BlLmh3bVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoaHQpIHsgcmV0dXJuIGh0Lmh3bV90eXBlX2lkID09ICRzY29wZS5hSFdNLmh3bV90eXBlX2lkOyB9KVswXS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hSFdNLnN0aWxsd2F0ZXIgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLlRyYW5xdWlsID0gJHNjb3BlLmFIV00uc3RpbGx3YXRlciA+IDAgPyAnWWVzJyA6ICdObyc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUhXTS5mbGFnX2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFIV00uZmxhZ19kYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBzdXJ2ZXllZCwgZGF0ZSBmb3JtYXQgYW5kIGdldCBzdXJ2ZXkgbWVtYmVyJ3MgbmFtZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IG51bGwgJiYgJHNjb3BlLmFIV00uc3VydmV5X2RhdGUgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hSFdNLnN1cnZleV9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hSFdNLnN1cnZleV9kYXRlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBod206IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTsvL2VuZCBzYXZlKClcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7IC8vIGxvYWRpbmcuLiBcclxuICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFskc2NvcGUuYUhXTSwgJHNjb3BlLkhXTUZpbGVzXTtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGh3bSBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdEhXTSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkhXTXZhbCA9ICdlZGl0JztcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hSFdNKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZG1pbkNoYW5nZWQuZXZlbnRfaWQgPSAkc2NvcGUuYUhXTS5ldmVudF9pZDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEhXTUVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5IV012YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21Db3B5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWRtaW5DaGFuZ2VkID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRXZlbnROYW1lID0gJHNjb3BlLmV2ZW50TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuZXZlbnRfaWQgPT0gJHNjb3BlLmFIV00uZXZlbnRfaWQ7IH0pWzBdLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5lbnN1cmVod21MYWJlbFVuaXF1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gJHNjb3BlLnZpZXcuSFdNdmFsID09ICdlZGl0JyA/ICRzY29wZS5od21Db3B5IDogJHNjb3BlLmFIV007XHJcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goc2l0ZUhNV3MsIGZ1bmN0aW9uIChod20pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaHdtLmh3bV9sYWJlbCA9PSBoLmh3bV9sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25vdCB1bmlxdWUsIGNsZWFyIGl0IGFuZCBzaG93IHdhcm5pbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgaC5od21fbGFiZWwgPSBoLmh3bV9pZCAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFIV00uaHdtX2xhYmVsIDogJ2h3bS0nICsgKHBhcnNlRmxvYXQoc2l0ZUhNV3MubGVuZ3RoKSArIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdW5pcXVlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPldhcm5pbmc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlIGh3bSBsYWJlbCBtdXN0IGJlIHVuaXF1ZSBmcm9tIGFsbCBvdGhlciBod21zIGF0IHRoaXMgc2l0ZSBmb3IgdGhpcyBldmVudC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVuaXF1ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZWxlbWVudChcIltuYW1lPSdod21fbGFiZWwnXVwiKS5mb2N1cygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRzY29wZS5zdGFtcCA9IEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTsgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy9uZWVkIHRvIHJldXBsb2FkIGZpbGVJdGVtIHRvIHRoaXMgZXhpc3RpbmcgZmlsZSBPUiBDaGFuZ2Ugb3V0IGV4aXN0aW5nIGZpbGVJdGVtIGZvciBuZXcgb25lXHJcbiAgICAgICAgICAgICRzY29wZS5zYXZlRmlsZVVwbG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGFydHMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgRmlsZUVudGl0eToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAkc2NvcGUuYUZpbGUuZGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGF0aXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sYXRpdHVkZV9kZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxlX2RhdGU6ICRzY29wZS5hRmlsZS5maWxlX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bV9pZDogJHNjb3BlLmFGaWxlLmh3bV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLmFGaWxlLnNpdGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGV0eXBlX2lkOiAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZV9pZDogJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogJHNjb3BlLmFGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBGaWxlOiAkc2NvcGUuYUZpbGUuRmlsZTEgIT09IHVuZGVmaW5lZCA/ICRzY29wZS5hRmlsZS5GaWxlMSA6ICRzY29wZS5hRmlsZS5GaWxlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9uZWVkIHRvIHB1dCB0aGUgZmlsZVBhcnRzIGludG8gY29ycmVjdCBmb3JtYXQgZm9yIHBvc3RcclxuICAgICAgICAgICAgICAgIHZhciBmZCA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZVwiLCBmaWxlUGFydHMuRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAvL25vdyBQT1NUIGl0IChmaWxlcGFydHMpXHJcbiAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICBGSUxFX1NUQU1QLnNldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZTEudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5pc1Bob3RvID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTsgJHNjb3BlLmFGaWxlLnBhdGggPSBmcmVzcG9uc2UucGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmcmVzcG9uc2UuZmlsZUJlbG9uZ3NUbyA9IFwiSFdNIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTUZpbGVzLnB1c2goZnJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAkc2NvcGUuYWxsU0ZpbGVzWyRzY29wZS5hbGxTRmlsZUluZGV4XSA9IGZyZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLmFsbFNGaWxlcyk7IC8vdXBkYXRlcyB0aGUgZmlsZSBsaXN0IG9uIHRoZSBzaXRlZGFzaGJvYXJkXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXcgb24gdGhlIHBob3RvIGZpbGUgZm9yIHRoaXMgaHdtXHJcbiAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGltYWdlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5JbWFnZSBGaWxlIFByZXZpZXc8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxpbWcgbmctc3JjPVwie3tzZXRTUkN9fVwiIC8+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmltYWdlSWQgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ21kJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL3dhbnQgdG8gYWRkIG9yIGVkaXQgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGUgPSBmdW5jdGlvbiAoZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9ICRzY29wZS5maWxlVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmNpZXMgPSBhZ2VuY3lMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gLTE7ICRzY29wZS5leGlzdElNR0ZpbGVJbmRleCA9IC0xOyAgLy9pbmRleGVzIGZvciBzcGxpY2UvY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTsgLy9ob2xkZXIgZm9yIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIHNvdXJjZVxyXG4gICAgICAgICAgICAgICAgLy9IV00gd2lsbCBub3QgaGF2ZSBkYXRhZmlsZSBcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9lZGl0IGh3bSBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0RmlsZUluZGV4ID0gJHNjb3BlLkhXTUZpbGVzLmluZGV4T2YoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV4aXN0SU1HRmlsZUluZGV4ID0gJHNjb3BlLmh3bUltYWdlRmlsZXMubGVuZ3RoID4gMCA/ICRzY29wZS5od21JbWFnZUZpbGVzLmluZGV4T2YoZmlsZSkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBhbmd1bGFyLmNvcHkoZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGUuZmlsZXR5cGVfaWQgIT09IDgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgRklMRS5nZXRGaWxlSXRlbSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVJdGVtRXhpc3RzID0gcmVzcG9uc2UuTGVuZ3RoID4gMCA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWxlIGl0ZW06IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9ICRzY29wZS5maWxlVHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChmdCkgeyByZXR1cm4gZnQuZmlsZXR5cGVfaWQgPT0gJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkOyB9KVswXS5maWxldHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2RldGVybWluZSBpZiBleGlzdGluZyBmaWxlIGlzIGEgcGhvdG8gKGV2ZW4gaWYgdHlwZSBpcyBub3QgKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmSSA9ICRzY29wZS5hRmlsZS5uYW1lLmxhc3RJbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVFeHQgPSAkc2NvcGUuYUZpbGUubmFtZS5zdWJzdHJpbmcoZkkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSAkc2NvcGUuaXNQaG90byA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3JjID0gJHNjb3BlLnNlcnZlclVSTCArICcvRmlsZXMvJyArICRzY29wZS5hRmlsZS5maWxlX2lkICsgJy9JdGVtJyArIEZJTEVfU1RBTVAuZ2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsZS5zb3VyY2VfaWQgIT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnF1ZXJ5KHsgaWQ6IGZpbGUuc291cmNlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWdlbmN5TmFtZUZvckNhcCA9ICRzY29wZS5hZ2VuY2llcy5maWx0ZXIoZnVuY3Rpb24gKGEpIHsgcmV0dXJuIGEuYWdlbmN5X2lkID09ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZDsgfSlbMF0uYWdlbmN5X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc291cmNlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBzb3VyY2VcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBleGlzdGluZyBmaWxlXHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlID0gbmV3IERhdGUoKTsgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKG0pIHsgcmV0dXJuIG0ubWVtYmVyX2lkID09ICRjb29raWVzLmdldCgnbUlEJyk7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2UuZm5hbWUgKyBcIiBcIiArICRzY29wZS5hU291cmNlLmxuYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH0gLy9lbmQgbmV3IGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSB0cnVlO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vY3JlYXRlIHRoaXMgbmV3IGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZUZpbGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Bvc3Qgc291cmNlIGZpcnN0IHRvIGdldCBzb3VyY2VfaWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5maWxldHlwZV9pZCAhPT0gOCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhlbiBQT1NUIGZpbGVQYXJ0cyAoU2VydmljZXMgcG9wdWxhdGUgUEFUSClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxldHlwZV9pZDogJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RhdGU6ICRzY29wZS5hRmlsZS5waG90b19kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVfaWQ6ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kaXJlY3Rpb246ICRzY29wZS5hRmlsZS5waG90b19kaXJlY3Rpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9uZ2l0dWRlX2RkOiAkc2NvcGUuYUZpbGUubG9uZ2l0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUhXTS5od21faWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCB0byBwdXQgdGhlIGZpbGVQYXJ0cyBpbnRvIGNvcnJlY3QgZm9ybWF0IGZvciBwb3N0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmQuYXBwZW5kKFwiRmlsZUVudGl0eVwiLCBKU09OLnN0cmluZ2lmeShmaWxlUGFydHMuRmlsZUVudGl0eSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZkLmFwcGVuZChcIkZpbGVcIiwgZmlsZVBhcnRzLkZpbGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwbG9hZEZpbGUoZmQpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZnJlc3BvbnNlLmZpbGV0eXBlX2lkID09PSAxKSAkc2NvcGUuaHdtSW1hZ2VGaWxlcy5wdXNoKGZyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUuc291cmNlX2lkID0gcmVzcG9uc2Uuc291cmNlX2lkOyAkc2NvcGUuYUZpbGUuc2l0ZV9pZCA9ICRzY29wZS50aGlzSFdNc2l0ZS5zaXRlX2lkOyAkc2NvcGUuYUZpbGUuaHdtX2lkID0gJHNjb3BlLmFIV00uaHdtX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUuc2F2ZSgkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkxpbmsgc2F2ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMucHVzaChmcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7ICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0vL2VuZCBlbHNlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7Ly9lbmQgc291cmNlLnNhdmUoKSAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTmVlZCB0byBjaG9vc2UgYSBmaWxlIGZpcnN0XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcblxyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAvL29ubHkgcGhvdG8gb3Igb3RoZXIgZmlsZSB0eXBlIChubyBkYXRhIGZpbGUgaGVyZSlcclxuICAgICAgICAgICAgICAgICAgICAvL3B1dCBzb3VyY2Ugb3IgZGF0YWZpbGUsIHB1dCBmaWxlXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdoYXRraW5kID0gJHNjb3BlLmFGaWxlLmZpbGVCZWxvbmdzVG87XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFTb3VyY2Uuc291cmNlX2lkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcG9zdCBhZ2FpbiAoaWYgbm8gY2hhbmdlLCB3aWxsIHJldHVybiBleGlzdGluZyBvbmUuIGlmIGVkaXRlZCwgd2lsbCBjcmVhdGUgYSBuZXcgb25lIC0taW5zdGVhZCBvZiBlZGl0aW5nIGFsbCBmaWxlcyB0aGF0IHVzZSB0aGlzIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZVNvdXJjZSA9IHsgc291cmNlX25hbWU6ICRzY29wZS5hU291cmNlLkZVTExuYW1lLCBhZ2VuY3lfaWQ6ICRzY29wZS5hU291cmNlLmFnZW5jeV9pZCB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBTT1VSQ0Uuc2F2ZSh0aGVTb3VyY2UpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHNSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnNvdXJjZV9pZCA9IHNSZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuYUZpbGUuZmlsZV9pZCB9LCAkc2NvcGUuYUZpbGUpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJIV00gRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01GaWxlc1skc2NvcGUuZXhpc3RGaWxlSW5kZXhdID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93RmlsZUZvcm0gPSBmYWxzZTsgJHNjb3BlLkhXTWZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNZmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01maWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfS8vZW5kIHZhbGlkXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL2RlbGV0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLmRlbGV0ZUZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgRGVsZXRlTW9kYWxJbnN0YW5jZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ3JlbW92ZW1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHNjb3BlLmFGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEZWxldGVNb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChmaWxlVG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRklMRS5kZWxldGUoeyBpZDogZmlsZVRvUmVtb3ZlLmZpbGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBSZW1vdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuSFdNRmlsZXMuc3BsaWNlKCRzY29wZS5leGlzdEZpbGVJbmRleCwgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21JbWFnZUZpbGVzLnNwbGljZSgkc2NvcGUuZXhpc3RJTUdGaWxlSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBkZWxldGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgRGVsZXRlTW9kYWwucmVzdWx0LnRoZW5cclxuICAgICAgICAgICAgfTsvL2VuZCBkZWxldGUoKVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbEZpbGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlID0ge307XHJcbiAgICAgICAgICAgICAgICAvLyAgJHNjb3BlLmRhdGFmaWxlID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVGb3JtID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBGSUxFIFNUVUZGXHJcbiAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcuc2hvd0xvYWRpbmcgPSBmYWxzZTsgLy8gbG9hZGluZy4uXHJcbiAgICAgICAgfV0pO1xyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignYnVsa0hXTUFkakN0cmwnLCBbJyRzY29wZScsICckc3RhdGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckZmlsdGVyJywgJyR1aWJNb2RhbCcsICdTSVRFJywgJ0hXTScsICdIV01fU2VydmljZScsICdldmVudExpc3QnLCAnc3RhdGVMaXN0JywgJ2NvdW50eUxpc3QnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRodHRwLCAkZmlsdGVyLCAkdWliTW9kYWwsIFNJVEUsIEhXTSwgSFdNX1NlcnZpY2UsIGV2ZW50TGlzdCwgc3RhdGVMaXN0LCBjb3VudHlMaXN0KSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2dsb2JhbCB2YXJzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2ggPSB7fTsgLy9ob2xkcyB3aGF0IHRoZXkgc2VhcmNoZWQgZm9yIHRvIGdldCB0aGUgYWRqdXN0ZWRIV01zIGFnYWluIGFuZCBoYXZlIGl0IHNob3duIHRvIHRoZW1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93TG9hZGluZyA9IGZhbHNlOyAvL2RpdiBob2xkaW5nIGxvYWRlciBhbmQgZHluYW1pYyBhbmQgbWF4IGZvciBwcm9ncmVzcyBiYXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5keW5hbWljID0gMDsgJHNjb3BlLm1heCA9IDA7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2U7ICAvL2lkICB3dHIgbGFiZWwgc05PIGRlc2MgbGF0ICBsb25nIGRhdGUgZWxldiB1bmMgIG5vdCBcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5XaWR0aHMgPSBbODQsIDEyMCwgMTIwLCAxMjAsIDIyMCwgMTIwLCAxMjAsIDE1MCwgMTMwLCAxNjAsIDE4MF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hhbmdlcyA9IFtdOyAvL3RyYWNrIGNoYW5nZXMgbWFkZSB0byBjb21wYXJlIGZvciBzYXZpbmdcclxuICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcyA9IFtdOyAvL3N0b3JlIHdoZW4gaW52YWxpZCB0aHJvd25cclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudHMgPSBldmVudExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdGVzID0gc3RhdGVMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkhXTV9wYXJhbXMgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlMaXN0ID0gY291bnR5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdOyAvL2hvbGRlciBvZiBzdGF0ZSBjb3VudGllcyAod2lsbCBjaGFuZ2UgYXMgdGhleSBjaGFuZ2Ugc3RhdGUgY2hvaWNlKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdCA9IHsgJ3NlYXJjaENsaWNrZWQnOiBmYWxzZSB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2FsbGVkIGEgZmV3IHRpbWVzIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKVxyXG4gICAgICAgICAgICAgICAgdmFyIG1ha2VBZGF0ZSA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZCAhPT0gXCJcIiAmJiBkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9wcm92aWRlZCBkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFEYXRlID0gbmV3IERhdGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCIwMVwiLCBcIjAyXCIsIFwiMDNcIiwgXCIwNFwiLCBcIjA1XCIsIFwiMDZcIiwgXCIwN1wiLCBcIjA4XCIsIFwiMDlcIiwgXCIxMFwiLCBcIjExXCIsIFwiMTJcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBtb250aE5hbWVzW21vbnRoXSArIFwiL1wiICsgZGF5ICsgXCIvXCIgKyB5ZWFyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICAgICAgfTsvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107IC8vaG9sZHMgdGhlIGV2ZW50IGh3bSBvYmplY3RzIGZvciB1cGRhdGluZ1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bUNvdW50ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkhXTV9wYXJhbXMuc3RhdGVfYWJicmV2ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuc3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXY7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAvL2V2ZW50LHN0YXRlLGNvdW50aWVzIGNob3NlbiwgZ2V0IGh3bXNcclxuICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJlc3VsdC5zZWFyY2hDbGlja2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuSFdNX3BhcmFtcy5jb3VudGllcywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eU5hbWVzLnB1c2goYy5jb3VudHlfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRpZXNDb21tYVNlcCA9IGNvdW50eU5hbWVzLmpvaW4oJywnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vc3RvcmUgc2VhcmNoIGZvciBsZWF2ZS9jb21lIGJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnF1ZXJ5U2VhcmNoID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVyeVNlYXJjaC5FdmVudCA9ICRzY29wZS5IV01fcGFyYW1zLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucXVlcnlTZWFyY2guU3RhdGUgPSAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5xdWVyeVNlYXJjaC5Db3VudGllcyA9IGNvdW50aWVzQ29tbWFTZXA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEhXTV9TZXJ2aWNlLnNldEJ1bGtIV01TZWFyY2goJHNjb3BlLnF1ZXJ5U2VhcmNoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgSFdNLmdldEZpbHRlcmVkSFdNcyh7IEV2ZW50OiAkc2NvcGUuSFdNX3BhcmFtcy5ldmVudF9pZCwgU3RhdGVzOiAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXYsIENvdW50eTogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21Db3VudCA9IHJlc3BvbnNlLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5yZXN1bHQuaXNSZXNwb25zZSA9ICRzY29wZS5od21Db3VudCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5od21faWQgPSByZXNwb25zZVtpXS5od21faWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25lLndhdGVyYm9keSA9IHJlc3BvbnNlW2ldLndhdGVyYm9keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX2xhYmVsID0gcmVzcG9uc2VbaV0uaHdtX2xhYmVsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zaXRlX2lkID0gcmVzcG9uc2VbaV0uc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuc2l0ZV9ubyA9IHJlc3BvbnNlW2ldLnNpdGVfbm8sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5od21fbG9jYXRpb25kZXNjcmlwdGlvbiA9IHJlc3BvbnNlW2ldLmh3bV9sb2NhdGlvbmRlc2NyaXB0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5sYXRpdHVkZV9kZCA9IHJlc3BvbnNlW2ldLmxhdGl0dWRlX2RkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5sb25naXR1ZGVfZGQgPSByZXNwb25zZVtpXS5sb25naXR1ZGVfZGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlW2ldLnN1cnZleV9kYXRlICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5zdXJ2ZXlfZGF0ZSA9IG1ha2VBZGF0ZShyZXNwb25zZVtpXS5zdXJ2ZXlfZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZS5lbGV2X2Z0ID0gcmVzcG9uc2VbaV0uZWxldl9mdDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUudW5jZXJ0YWludHkgPSByZXNwb25zZVtpXS51bmNlcnRhaW50eTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmUuaHdtX25vdGVzID0gcmVzcG9uc2VbaV0uaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZGp1c3RIV01zLnB1c2gob25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghYW5ndWxhci5lcXVhbHMoe30sIEhXTV9TZXJ2aWNlLmdldEJ1bGtIV01TZWFyY2goKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU2VhcmNoID0gSFdNX1NlcnZpY2UuZ2V0QnVsa0hXTVNlYXJjaCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLmV2ZW50X2lkID0gdGhlU2VhcmNoLkV2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLnN0YXRlX2FiYnJldiA9IHRoZVNlYXJjaC5TdGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuVXBkYXRlQ291bnRpZXMoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlU2VhcmNoLkNvdW50aWVzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb3VudGllcyA9IHRoZVNlYXJjaC5Db3VudGllcy5zcGxpdChcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5IV01fcGFyYW1zLmNvdW50aWVzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuY291bnR5QXJyYXksIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2UgdGhvc2Ugc2VsZWN0ZWQgaWYgaW4gY291bnRpZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudGllcy5tYXAoZnVuY3Rpb24gKGNBKSB7IHJldHVybiBjQTsgfSkuaW5kZXhPZihjLmNvdW50eV9uYW1lKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5zZWxlY3RlZCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkhXTV9wYXJhbXMuY291bnRpZXMucHVzaChjKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8jcmVnaW9uIHJlbmRlcmVycy92YWxpZGF0b3JzXHJcbiAgICAgICAgICAgICAgICB2YXIgcmVxdWlyZWRNb2RhbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVxTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGlzIGZpZWxkIGlzIHJlcXVpcmVkLjwvcD48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vbWFrZSByZWFkb25seSBncmV5XHJcbiAgICAgICAgICAgICAgICB2YXIgY29sb3JSZW5kZXJlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgdGQsIHJvdywgY29sLCBwcm9wLCB2YWx1ZSwgY2VsbFByb3BlcnRpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBIYW5kc29udGFibGUucmVuZGVyZXJzLlRleHRSZW5kZXJlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkLnN0eWxlLmJhY2tncm91bmQgPSAnI0Y3RjVGNSc7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRkO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vbWFrZSBzaXRlX25vIGEgbGlua1xyXG4gICAgICAgICAgICAgICAgdmFyIHNpdGVOb1JlbmRlcmVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCB0ZCwgcm93LCBjb2wsIHByb3AsIHZhbHVlLCBjZWxsUHJvcGVydGllcykge1xyXG4gICAgICAgICAgICAgICAgICAgIEhhbmRzb250YWJsZS5yZW5kZXJlcnMuVGV4dFJlbmRlcmVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGQuaW5uZXJIVE1MID0gJzxhIG5nLWNsaWNrPVwiZ29Ub1NpdGUoKVwiPicgKyB2YWx1ZSArICc8L2E+JztcclxuICAgICAgICAgICAgICAgICAgICB0ZC5zdHlsZS5iYWNrZ3JvdW5kID0gJyNGN0Y1RjUnO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucmVxdWlyZWRWYWxpZGF0b3IgPSBmdW5jdGlvbiAodmFsdWUsIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZE1vZGFsKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm51bWJlclZhbGlkYXRvciA9IGZ1bmN0aW9uICh2YWx1ZSwgY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2hhbmRsaW5nIHRoaXMgbXlzZWxmLCBuZXZlciB3aWxsIGJlIGludmFsaWRcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyNlbmRyZWdpb25cclxuXHJcbiAgICAgICAgICAgICAgICAvL3NhdmUgdXBkYXRlc1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgSFdNLmdldEV2ZW50U3RhdGVIV01zKHsgZXZlbnRJZDogJHNjb3BlLkhXTV9wYXJhbXMuZXZlbnRfaWQsIHN0YXRlOiAkc2NvcGUuSFdNX3BhcmFtcy5zdGF0ZV9hYmJyZXYgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbG9vayB0aHJvdWdoICRzY29wZS5ldmVudFN0YXRlSFdNcyBhbmQgZ3JhYiB0aGUgb25lcyB0aGF0IHdlcmUgb24gdGhpcyBhZGp1c3RtZW50IHBhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVwZGF0ZVRoZXNlSFdNcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBldkggPSAwOyBldkggPCAkc2NvcGUuZXZlbnRTdGF0ZUhXTXMubGVuZ3RoOyBldkgrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoZXlIYXZlSXRIZXJlID0gJHNjb3BlLmFkanVzdEhXTXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmh3bV9pZCA9PSAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS5od21faWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoZXlIYXZlSXRIZXJlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSBzdXJ2ZXlfZGF0ZSxlbGV2X2Z0LCB1bmNlcnRhaW50eSwgYW5kIGh3bV9ub3RlcyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZUhXTXNbZXZIXS5zdXJ2eWVfZGF0ZSA9IHRoZXlIYXZlSXRIZXJlLnN1cnZleV9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdLmVsZXZfZnQgPSB0aGV5SGF2ZUl0SGVyZS5lbGV2X2Z0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdLnVuY2VydGFpbnR5ID0gdGhleUhhdmVJdEhlcmUudW5jZXJ0YWludHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50U3RhdGVIV01zW2V2SF0uaHdtX25vdGVzID0gdGhleUhhdmVJdEhlcmUuaHdtX25vdGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZVRoZXNlSFdNcy5wdXNoKCRzY29wZS5ldmVudFN0YXRlSFdNc1tldkhdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1BVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHVwZGF0ZVRoZXNlSFdNcywgZnVuY3Rpb24gKHUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhXTS51cGRhdGUoeyBpZDogdS5od21faWQgfSwgdSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJIV01zIHVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFkanVzdEhXTXMgPSBbXTsgJHNjb3BlLmV2ZW50U3RhdGVIV01zID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmdldEhXTXModHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgdXBkYXRpbmcgaHdtOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBod21zOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9yZXNldCBiYWNrIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNldE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtYm9keVwiPjxwPldhcm5pbmchIFRoaXMgd2lsbCByZXZlcnQgdGhlIGh3bSBkYXRhIHRvIHRoZSBsYXN0IHNhdmVkIHZlcnNpb24uIEFsbCB1bnNhdmVkIGVkaXRzIHdpbGwgYmUgbG9zdC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0TW9kYWwucmVzdWx0LnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYWRqdXN0SFdNcyA9IFtdOyBIV01fU2VydmljZS5zZXRCdWxrSFdNU2VhcmNoKHt9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5nZXRIV01zKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gaGFuZHNvbnRhYmxlIHNldHRpbmdzXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudGFibGVTZXR0aW5ncyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAgY29sSGVhZGVyczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByb3dIZWFkZXJzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vY29udGV4dE1lbnU6IFsncm93X2Fib3ZlJywgJ3Jvd19iZWxvdycsICdyZW1vdmVfcm93J10sXHJcbiAgICAgICAgICAgICAgICAgICAgbWluU3BhcmVSb3dzOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVySW5pdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaG90SW5zdGFuY2UgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgbWFudWFsQ29sdW1uUmVzaXplOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hbnVhbFJvd1Jlc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB3b3JkV3JhcDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudE92ZXJmbG93OiAnaG9yaXpvbnRhbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3BvcnRDb2x1bW5SZW5kZXJpbmdPZmZzZXROdW1iZXI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgY29sV2lkdGhzOiAkc2NvcGUuY29sdW1uV2lkdGhzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNlbGxzOiBmdW5jdGlvbiAocm93LCBjb2wsIHByb3ApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9maXJzdCA2IGFyZSByZWFkb25seSAoZ3JleSkgYW5kIHNpdGVfbm8gaXMgYSBsaW5rXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjZWxscHJvcHMgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbCA8PSA2KSBjZWxscHJvcHMucmVuZGVyZXIgPSBjb2xvclJlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29sID09IDMpIGNlbGxwcm9wcy5yZW5kZXJlciA9IHNpdGVOb1JlbmRlcmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2VsbHByb3BzO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25CZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSBkYXRhLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoKGRhdGFbaV1bMV0gPT0gJ2VsZXZfZnQnIHx8IGRhdGFbaV1bMV0gPT0gJ3VuY2VydGFpbnR5JykgJiYgZGF0YVtpXVszXSAhPT0gXCJcIikgLy8gcmVwbGFjZSAwIGJ5IHRoZSBudW1iZXIgb2YgdGhlIGZpZWxkIHRvIHZhbGlkYXRlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGRhdGFbaV1bM10pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEuc3BsaWNlKGksIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgJHNjb3BlLmhvdEluc3RhbmNlLmRlc2VsZWN0Q2VsbCgpOyB9LCAxMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2F0ZXJNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+RXJyb3I8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VmFsdWUgbXVzdCBiZSBhIG51bWJlci48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyT25DZWxsTW91c2VEb3duOiBmdW5jdGlvbiAoZXZlbnQsIGNvb3JkcywgdGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vcGVuIG11bHRpLXNlbGVjdCBtb2RhbCBmb3IgcmVzb3VyY2VzLCBtZWRpYSBvciBmcmVxdWVuY2llc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29vcmRzLmNvbCA9PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZV9udW1iZXIgPSAkc2NvcGUuaG90SW5zdGFuY2UuZ2V0RGF0YUF0Q2VsbChjb29yZHMucm93LCBjb29yZHMuY29sKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXRlSWQgPSAkc2NvcGUuYWRqdXN0SFdNcy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguc2l0ZV9ubyA9PSBzaXRlX251bWJlcjsgfSlbMF0uc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbyhcInNpdGUuZGFzaGJvYXJkXCIsIHsgaWQ6IHNpdGVJZCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgb25BZnRlclZhbGlkYXRlOiBmdW5jdGlvbiAoaXNWYWxpZCwgdmFsdWUsIHJvdywgcHJvcCwgc291Y2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmludmFsaWRzLnB1c2goeyBcImlzVmFsaWRcIjogaXNWYWxpZCwgXCJyb3dcIjogcm93LCBcInByb3BcIjogcHJvcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2SW5kZXggPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZJID0gMDsgdkkgPCAkc2NvcGUuaW52YWxpZHMubGVuZ3RoOyB2SSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5pbnZhbGlkc1t2SV0ucm93ID09IHJvdyAmJiAkc2NvcGUuaW52YWxpZHNbdkldLnByb3AgPT0gcHJvcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2SW5kZXggPSB2STtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZJbmRleCA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pbnZhbGlkcy5zcGxpY2UodkluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbEhhbmRsZTogeyBhdXRvSW5zZXJ0Um93OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHJvd0hlaWdodHM6IDUwXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICB9Ly9lbmQgYXV0aG9yaXplZFxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgLyogY29udHJvbGxlcnMuanMsICdsZWFmbGV0LWRpcmVjdGl2ZScndWkudW5pcXVlJywnbmdUYWdzSW5wdXQnLCovXHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNUTkNvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkNvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgU1ROQ29udHJvbGxlcnMuY29udHJvbGxlcignaGVscEN0cmwnLCBbJyRzY29wZScsIFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmhlbHBJbmZvID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5oZWxwSW5mby5mYWN0ID0gXCJTb21lIHJlYWxseSBpbnRlcmVzdGluZyBoZWxwIHdpbGwgYmUgaGVyZS5cIjtcclxuICAgICAgICB9XSk7XHJcblxyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIE1vZGFsQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnTW9kYWxDb250cm9sbGVycycpOy8vXHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ3NpdGVGaWxlTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJGNvb2tpZXMnLCAnJGh0dHAnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJHVpYk1vZGFsJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdmaWxlVHlwZUxpc3QnLCAndGhpc0ZpbGUnLCAnZmlsZUV4aXN0cycsICdhbGxNZW1iZXJzJywgJ2ZpbGVTb3VyY2UnLCAnZGF0YUZpbGUnLCAnYWdlbmN5TGlzdCcsICdmaWxlU2l0ZScsICdGSUxFJywgJ1NPVVJDRScsICdEQVRBX0ZJTEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRjb29raWVzLCAkaHR0cCwgJHVpYk1vZGFsSW5zdGFuY2UsICR1aWJNb2RhbCwgU0VSVkVSX1VSTCwgRklMRV9TVEFNUCwgZmlsZVR5cGVMaXN0LCB0aGlzRmlsZSwgZmlsZUV4aXN0cywgYWxsTWVtYmVycywgZmlsZVNvdXJjZSwgZGF0YUZpbGUsIGFnZW5jeUxpc3QsIGZpbGVTaXRlLCBGSUxFLCBTT1VSQ0UsIERBVEFfRklMRSkge1xyXG4gICAgICAgICAgICAvL2Ryb3Bkb3duc1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VydmVyVVJMID0gU0VSVkVSX1VSTDtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXJSb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZXcgPSB7IEZJTEV2YWw6ICdkZXRhaWwnIH07XHJcbiAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7IC8vTG9hZGluZy4uLiAgICBcclxuICAgICAgICAgICAgJHNjb3BlLmZpbGVUeXBlcyA9IGZpbGVUeXBlTGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLmFnZW5jaWVzID0gYWdlbmN5TGlzdDtcclxuICAgICAgICAgICAgJHNjb3BlLnRoZVNpdGUgPSBmaWxlU2l0ZTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5hRmlsZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHt9OyAvL2hvbGRlciBmb3IgZmlsZSBzb3VyY2VcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0ge307IC8vaG9sZGVyIGZvciBmaWxlIGRhdGFmaWxlXHJcbiAgICAgICAgICAgIC8vIGlzIGludGVydmFsIGlzIG51bWJlclxyXG4gICAgICAgICAgICAkc2NvcGUuaXNOdW0gPSBmdW5jdGlvbiAoZXZ0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhlRXZlbnQgPSBldnQgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IHRoZUV2ZW50LmtleUNvZGUgfHwgdGhlRXZlbnQud2hpY2g7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2V5ICE9IDQ2ICYmIGtleSAhPSA0NSAmJiBrZXkgPiAzMSAmJiAoa2V5IDwgNDggfHwga2V5ID4gNTcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhlRXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhlRXZlbnQucHJldmVudERlZmF1bHQpIHRoZUV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IGZpbGVFeGlzdHMgPT09IHVuZGVmaW5lZCB8fCBmaWxlRXhpc3RzLkxlbmd0aCA+IDAgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gRGF0ZXBpY2tlclxyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0ZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBzdGFydGluZ0RheTogMSxcclxuICAgICAgICAgICAgICAgIHNob3dXZWVrczogZmFsc2VcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUudXBkYXRlQWdlbmN5Rm9yQ2FwdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuY3JlYXRlT1JlZGl0RmlsZSA9PSAnY3JlYXRlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQgPT0gMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYWdlbmNpZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmFnZW5jeV9pZCA9PSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQ7IH0pWzBdLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZpbGVDb3B5LmZpbGV0eXBlX2lkID09IDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLnNvdXJjZUNvcHkuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9mb3JtYXR0aW5nIGRhdGUgYW5kIHRpbWUgcHJvcGVybHkgZm9yIGNocm9tZSBhbmQgZmZcclxuICAgICAgICAgICAgdmFyIGdldERhdGVUaW1lUGFydHMgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHkgPSBkLnN1YnN0cigwLCA0KTtcclxuICAgICAgICAgICAgICAgIHZhciBtID0gZC5zdWJzdHIoNSwgMikgLSAxOyAvL3N1YnRyYWN0IDEgZm9yIGluZGV4IHZhbHVlIChKYW51YXJ5IGlzIDApXHJcbiAgICAgICAgICAgICAgICB2YXIgZGEgPSBkLnN1YnN0cig4LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciBoID0gZC5zdWJzdHIoMTEsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1pID0gZC5zdWJzdHIoMTQsIDIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNlYyA9IGQuc3Vic3RyKDE3LCAyKTtcclxuICAgICAgICAgICAgICAgIHZhciB0aGVEYXRlID0gbmV3IERhdGUoeSwgbSwgZGEsIGgsIG1pLCBzZWMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoZURhdGU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmICh0aGlzRmlsZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAvL2VkaXQgZmlsZVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEZpbGUgPSAnZWRpdCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUud2hvc2VGaWxlID0gdGhpc0ZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUud2hvc2VGaWxlID09ICdPYmplY3RpdmUgUG9pbnQgRmlsZScpICRzY29wZS53aG9zZUZpbGUgPSAnRGF0dW0gTG9jYXRpb24gRmlsZSc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSB0aGlzRmlsZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9IGZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgLy9kZXRlcm1pbmUgaWYgZXhpc3RpbmcgZmlsZSBpcyBhIHBob3RvIChldmVuIGlmIHR5cGUgaXMgbm90IClcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUubmFtZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZJID0gJHNjb3BlLmFGaWxlLm5hbWUubGFzdEluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWxlRXh0ID0gJHNjb3BlLmFGaWxlLm5hbWUuc3Vic3RyaW5nKGZJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVFeHQubWF0Y2goLyhqcGd8SlBHfGpwZWd8SlBFR3xwbmd8UE5HfGdpZnxHSUYpJC8pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5pc1Bob3RvID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgJHNjb3BlLmlzUGhvdG8gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgIT09IHVuZGVmaW5lZCkgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBQVVRcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlU291cmNlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IGZpbGVTb3VyY2U7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UuRlVMTG5hbWUgPSAkc2NvcGUuYVNvdXJjZS5zb3VyY2VfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lOYW1lID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAvL2FkZCBhZ2VuY3kgbmFtZSB0byBwaG90byBjYXB0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFnZW5jeU5hbWVGb3JDYXAgPSAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lOYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFGaWxlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGF0YUZpbGU7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbWVab25lTGlzdCA9IFsnVVRDJywgJ1BTVCcsICdNU1QnLCAnQ1NUJywgJ0VTVCddO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuZGF0YWZpbGUuY29sbGVjdF9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIHB1dFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZS5nb29kX3N0YXJ0ID0gZ2V0RGF0ZVRpbWVQYXJ0cygkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kYXRhZmlsZS5hcHByb3ZhbF9pZCAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5kYXRhZmlsZS5hcHByb3ZhbF9pZCAhPT0gbnVsbCAmJiAkc2NvcGUuZGF0YWZpbGUuYXBwcm92YWxfaWQgPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuZ2V0REZBcHByb3ZhbCh7IGlkOiAkc2NvcGUuZGF0YWZpbGUuZGF0YV9maWxlX2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MoYXBwcm92YWxSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLkFwcHJvdmFsSW5mby5hcHByb3ZhbERhdGUgPSBuZXcgRGF0ZShhcHByb3ZhbFJlc3BvbnNlLmFwcHJvdmFsX2RhdGUpOyAvL2luY2x1ZGUgbm90ZSB0aGF0IGl0J3MgZGlzcGxheWVkIGluIHRoZWlyIGxvY2FsIHRpbWUgYnV0IHN0b3JlZCBpbiBVVENcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5BcHByb3ZhbEluZm8uTWVtYmVyID0gYWxsTWVtYmVycy5maWx0ZXIoZnVuY3Rpb24gKGFtZW0pIHsgcmV0dXJuIGFtZW0ubWVtYmVyX2lkID09IGFwcHJvdmFsUmVzcG9uc2UubWVtYmVyX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGFwcHJvdmFsIGluZm86IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBhcHByb3ZhbCBpbmZvOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgYVByb2Nlc3NvciA9ICRzY29wZS5kYXRhZmlsZS5wcm9jZXNzb3JfaWQgIT09IG51bGwgPyBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYW1lbSkgeyByZXR1cm4gYW1lbS5tZW1iZXJfaWQgPT0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZDsgfSlbMF0gOiB7fTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUucHJvY2Vzc29yID0gYVByb2Nlc3Nvci5mbmFtZSAhPT0gdW5kZWZpbmVkID8gYVByb2Nlc3Nvci5mbmFtZSArICcgJyArIGFQcm9jZXNzb3IubG5hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlIGZpbGVcclxuICAgICAgICAgICAgICAgICRzY29wZS53aG9zZUZpbGUgPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEZpbGUgPSAnY3JlYXRlJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFTb3VyY2UgPSBhbGxNZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAobSkgeyByZXR1cm4gbS5tZW1iZXJfaWQgPT0gJGNvb2tpZXMuZ2V0KCdtSUQnKTsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSA9ICRzY29wZS5hU291cmNlLmZuYW1lICsgXCIgXCIgKyAkc2NvcGUuYVNvdXJjZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hZ2VuY3lOYW1lRm9yQ2FwID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSAkc2NvcGUuYUZpbGU7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NyZWF0ZSB0aGlzIG5ldyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5jcmVhdGUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgey8vb25seSBiZSBwaG90byBmaWxlIG9yIG90aGVyIC4uIG5vIERBVEEgaGVyZVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9zdCBzb3VyY2UgZmlyc3QgdG8gZ2V0IHNvdXJjZV9pZFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aGVTb3VyY2UgPSB7IHNvdXJjZV9uYW1lOiAkc2NvcGUuYVNvdXJjZS5GVUxMbmFtZSwgYWdlbmN5X2lkOiAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lfaWQgfTtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdyBQT1NUIFNPVVJDRSwgXHJcbiAgICAgICAgICAgICAgICAgICAgU09VUkNFLnNhdmUodGhlU291cmNlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLmZpbGV0eXBlX2lkICE9PSA4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3RoZW4gUE9TVCBmaWxlUGFydHMgKFNlcnZpY2VzIHBvcHVsYXRlIFBBVEgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVBhcnRzID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZpbGVFbnRpdHk6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJHNjb3BlLmFGaWxlLkZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZV9kYXRlOiAkc2NvcGUuYUZpbGUuZmlsZV9kYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90b19kYXRlOiAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l0ZV9pZDogJHNjb3BlLnRoZVNpdGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiByZXNwb25zZS5zb3VyY2VfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvX2RpcmVjdGlvbjogJHNjb3BlLmFGaWxlLnBob3RvX2RpcmVjdGlvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRmlsZTogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyZXNwb25zZS5maWxlQmVsb25nc1RvID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGUgPSAnY3JlYXRlZCc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9zZW5kIHRoZSBmaWxlIGJhY2sgdG8gYmUgYWRkZWQgdG8gdGhlIHNjb3BlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VuZEJhY2sgPSBbZnJlc3BvbnNlLCBzdGF0ZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShzZW5kQmFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBjcmVhdGluZyBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBhIGxpbmtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zaXRlX2lkID0gJHNjb3BlLnRoZVNpdGUuc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5zb3VyY2VfaWQgPSByZXNwb25zZS5zb3VyY2VfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnNhdmUoJHNjb3BlLmFGaWxlKS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChmcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgVXBsb2FkZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSBcIlNpdGUgRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9ICdjcmVhdGVkJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NlbmQgdGhlIGZpbGUgYmFjayB0byBiZSBhZGRlZCB0byB0aGUgc2NvcGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtmcmVzcG9uc2UsIHN0YXRlXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9Ly9lbmQgc2F2ZSBsaW5rIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGNyZWF0aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pOy8vZW5kIHNvdXJjZS5zYXZlKClcclxuICAgICAgICAgICAgICAgIH0vL2VuZCB2YWxpZFxyXG4gICAgICAgICAgICB9Oy8vZW5kIGNyZWF0ZSgpXHJcbiAgICAgICAgICAgICRzY29wZS5jaGFuZ2VkRmlsZVR5cGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL2Zyb20gcGhvdG8gdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgLy9mcm9tIGRhdGEgdG8gcGhvdG9cclxuICAgICAgICAgICAgICAgIC8vZnJvbSBkYXRhIHRvIG90aGVyXHJcbiAgICAgICAgICAgICAgICAvL2Zyb20gcGhvdG8gdG8gb3RoZXJcclxuICAgICAgICAgICAgICAgIC8vZnJvbSBvdGhlciB0byBvdGhlclxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL3VwZGF0ZSB0aGlzIGZpbGVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmUgPSBmdW5jdGlvbiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZmlsZUNvcHkuZmlsZXR5cGVfaWQgPT0gMikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGVuZCBkYXRlIGlzIGFmdGVyIHN0YXJ0IGRhdGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9ICRzY29wZS5kZkNvcHkuZ29vZF9zdGFydDsvL25lZWQgdG8gZ2V0IGRlcCBzdGF0dXMgZGF0ZSBpbiBzYW1lIGZvcm1hdCBhcyByZXRyaWV2ZWQgdG8gY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlID0gJHNjb3BlLmRmQ29weS5nb29kX2VuZDsgLy9zdHVwaWQgY29tbWEgaW4gdGhlcmUgbWFraW5nIGl0IG5vdCB0aGUgc2FtZVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXcgRGF0ZShlKSA8IG5ldyBEYXRlKHMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXhEYXRlID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZ29vZCBlbmQgZGF0ZSBtdXN0IGJlIGFmdGVyIHRoZSBnb29kIHN0YXJ0IGRhdGUuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0vL2VuZCBpZiBEYXRlPERhdGVcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBmaWxlLkNvcHkuZmlsZXR5cGVfaWQgPT0gMlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBwaG90byBvciBvdGhlciBmaWxlIHR5cGUgKG5vIGRhdGEgZmlsZSBoZXJlKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vcHV0IHNvdXJjZSBvciBkYXRhZmlsZSwgcHV0IGZpbGVcclxuICAgICAgICAgICAgICAgICAgICB2YXIgd2hhdGtpbmQgPSAkc2NvcGUuYUZpbGUuZmlsZUJlbG9uZ3NUbztcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc291cmNlQ29weS5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwb3N0IGFnYWluIChpZiBubyBjaGFuZ2UsIHdpbGwgcmV0dXJuIGV4aXN0aW5nIG9uZS4gaWYgZWRpdGVkLCB3aWxsIGNyZWF0ZSBhIG5ldyBvbmUgLS1pbnN0ZWFkIG9mIGVkaXRpbmcgYWxsIGZpbGVzIHRoYXQgdXNlIHRoaXMgc291cmNlKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhlU291cmNlID0geyBzb3VyY2VfbmFtZTogJHNjb3BlLnNvdXJjZUNvcHkuRlVMTG5hbWUsIGFnZW5jeV9pZDogJHNjb3BlLnNvdXJjZUNvcHkuYWdlbmN5X2lkIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFNPVVJDRS5zYXZlKHRoZVNvdXJjZSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc1Jlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZSA9IHNSZXNwb25zZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hU291cmNlLkZVTExuYW1lID0gJHNjb3BlLmFTb3VyY2Uuc291cmNlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYVNvdXJjZS5hZ2VuY3lOYW1lID0gJHNjb3BlLmFnZW5jaWVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5hZ2VuY3lfaWQgPT0gJHNjb3BlLmFTb3VyY2UuYWdlbmN5X2lkOyB9KVswXS5hZ2VuY3lfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ29weS5zb3VyY2VfaWQgPSBzUmVzcG9uc2Uuc291cmNlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9lZGl0aW5nIGp1c3QgdGhlIGZpbGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZJTEUudXBkYXRlKHsgaWQ6ICRzY29wZS5maWxlQ29weS5maWxlX2lkIH0sICRzY29wZS5maWxlQ29weSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZmlsZVJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVJlc3BvbnNlLmZpbGVCZWxvbmdzVG8gPSB3aGF0a2luZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUgPSBmaWxlUmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVUeXBlID0gZmlsZVR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoZnQpIHsgcmV0dXJuIGZ0LmZpbGV0eXBlX2lkID09ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZDsgfSlbMF0uZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5maWxlX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5waG90b19kYXRlICE9PSB1bmRlZmluZWQpICRzY29wZS5hRmlsZS5waG90b19kYXRlID0gbmV3IERhdGUoJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gUFVUXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDb3B5ID0ge307ICRzY29wZS5zb3VyY2VDb3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRklMRXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBzb3VyY2U6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIHNvdXJjZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2RhdGEgZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2NoZWNrIHRpbWV6b25lIGFuZCBtYWtlIHN1cmUgZGF0ZSBzdGF5cyB1dGNcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5kZkNvcHkudGltZV96b25lICE9IFwiVVRDXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vY29udmVydCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHV0Y1N0YXJ0RGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGZDb3B5Lmdvb2Rfc3RhcnQpLnRvVVRDU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXRjRW5kRGF0ZVRpbWUgPSBuZXcgRGF0ZSgkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kKS50b1VUQ1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0ID0gdXRjU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkuZ29vZF9lbmQgPSB1dGNFbmREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkudGltZV96b25lID0gJ1VUQyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL21ha2Ugc3VyZSAnR01UJyBpcyB0YWNrZWQgb24gc28gaXQgZG9lc24ndCB0cnkgdG8gYWRkIGhycyB0byBtYWtlIHRoZSBhbHJlYWR5IHV0YyBhIHV0YyBpbiBkYlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpID0gJHNjb3BlLmRmQ29weS5nb29kX3N0YXJ0LnRvU3RyaW5nKCkuaW5kZXhPZignR01UJykgKyAzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVpID0gJHNjb3BlLmRmQ29weS5nb29kX2VuZC50b1N0cmluZygpLmluZGV4T2YoJ0dNVCcpICsgMztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kZkNvcHkuZ29vZF9zdGFydCA9ICRzY29wZS5kZkNvcHkuZ29vZF9zdGFydC50b1N0cmluZygpLnN1YnN0cmluZygwLCBzaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5Lmdvb2RfZW5kID0gJHNjb3BlLmRmQ29weS5nb29kX2VuZC50b1N0cmluZygpLnN1YnN0cmluZygwLCBlaSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZGZDb3B5LmRhdGFfZmlsZV9pZCB9LCAkc2NvcGUuZGZDb3B5KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChkZlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUgPSBkZlJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlLmNvbGxlY3RfZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5kYXRhZmlsZS5jb2xsZWN0X2RhdGUpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9zdGFydCA9IGdldERhdGVUaW1lUGFydHMoJHNjb3BlLmRhdGFmaWxlLmdvb2Rfc3RhcnQpOyAvL2RhdGUgZm9yIHZhbGlkaXR5IG9mIGZvcm0gb24gcHV0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZGF0YWZpbGUuZ29vZF9lbmQgPSBnZXREYXRlVGltZVBhcnRzKCRzY29wZS5kYXRhZmlsZS5nb29kX2VuZCk7IC8vZGF0ZSBmb3IgdmFsaWRpdHkgb2YgZm9ybSBvbiBwdXRcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhUHJvY2Vzc29yID0gJHNjb3BlLmRhdGFmaWxlLnByb2Nlc3Nvcl9pZCAhPT0gbnVsbCA/IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSAkc2NvcGUuZGF0YWZpbGUucHJvY2Vzc29yX2lkOyB9KVswXSA6IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnByb2Nlc3NvciA9IGFQcm9jZXNzb3IuZm5hbWUgIT09IHVuZGVmaW5lZCA/IGFQcm9jZXNzb3IuZm5hbWUgKyAnICcgKyBhUHJvY2Vzc29yLmxuYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBGSUxFLnVwZGF0ZSh7IGlkOiAkc2NvcGUuZmlsZUNvcHkuZmlsZV9pZCB9LCAkc2NvcGUuZmlsZUNvcHkpLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKGZpbGVSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRmlsZSBVcGRhdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVSZXNwb25zZS5maWxlQmVsb25nc1RvID0gd2hhdGtpbmQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlID0gZmlsZVJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlVHlwZSA9IGZpbGVUeXBlTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7IHJldHVybiBmdC5maWxldHlwZV9pZCA9PSAkc2NvcGUuYUZpbGUuZmlsZXR5cGVfaWQ7IH0pWzBdLmZpbGV0eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5maWxlX2RhdGUgPSBuZXcgRGF0ZSgkc2NvcGUuYUZpbGUuZmlsZV9kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSAhPT0gdW5kZWZpbmVkKSAkc2NvcGUuYUZpbGUucGhvdG9fZGF0ZSA9IG5ldyBEYXRlKCRzY29wZS5hRmlsZS5waG90b19kYXRlKTsgLy9kYXRlIGZvciB2YWxpZGl0eSBvZiBmb3JtIG9uIFBVVFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ29weSA9IHt9OyAkc2NvcGUuZGZDb3B5ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnZpZXcuRklMRXZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSBmYWxzZTsgLy9Mb2FkaW5nLi4uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIHNhdmluZyBmaWxlJ3MgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gLy9lbmQgZWxzZSAoZGF0YWZpbGUpXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgdmFsaWQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH07Ly9lbmQgc2F2ZSgpXHJcblxyXG4gICAgICAgICAgICAvL25lZWQgdG8gcmV1cGxvYWQgZmlsZUl0ZW0gdG8gdGhpcyBleGlzdGluZyBmaWxlIE9SIENoYW5nZSBvdXQgZXhpc3RpbmcgZmlsZUl0ZW0gZm9yIG5ldyBvbmVcclxuICAgICAgICAgICAgJHNjb3BlLnNhdmVGaWxlVXBsb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNGaWxlSXNVcGxvYWRpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXJ0cyA9IHtcclxuICAgICAgICAgICAgICAgICAgICBGaWxlRW50aXR5OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfaWQ6ICRzY29wZS5hRmlsZS5maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAkc2NvcGUuYUZpbGUubmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICRzY29wZS5hRmlsZS5kZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGlyZWN0aW9uOiAkc2NvcGUuYUZpbGUucGhvdG9fZGlyZWN0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZV9kZDogJHNjb3BlLmFGaWxlLmxhdGl0dWRlX2RkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb25naXR1ZGVfZGQ6ICRzY29wZS5hRmlsZS5sb25naXR1ZGVfZGQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVfZGF0ZTogJHNjb3BlLmFGaWxlLmZpbGVfZGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtX2lkOiAkc2NvcGUuYUZpbGUuaHdtX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXRlX2lkOiAkc2NvcGUuYUZpbGUuc2l0ZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXR5cGVfaWQ6ICRzY29wZS5hRmlsZS5maWxldHlwZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc291cmNlX2lkOiAkc2NvcGUuYUZpbGUuc291cmNlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiAkc2NvcGUuYUZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV9maWxlX2lkOiAkc2NvcGUuYUZpbGUuZGF0YV9maWxlX2lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50X2lkOiAkc2NvcGUuYUZpbGUuaW5zdHJ1bWVudF9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9fZGF0ZTogJHNjb3BlLmFGaWxlLnBob3RvX2RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzX253aXM6ICRzY29wZS5hRmlsZS5pc19ud2lzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RpdmVfcG9pbnRfaWQ6ICRzY29wZS5hRmlsZS5vYmplY3RpdmVfcG9pbnRfaWRcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIEZpbGU6ICRzY29wZS5hRmlsZS5GaWxlMSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmFGaWxlLkZpbGUxIDogJHNjb3BlLmFGaWxlLkZpbGVcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvL25lZWQgdG8gcHV0IHRoZSBmaWxlUGFydHMgaW50byBjb3JyZWN0IGZvcm1hdCBmb3IgcG9zdFxyXG4gICAgICAgICAgICAgICAgdmFyIGZkID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlRW50aXR5XCIsIEpTT04uc3RyaW5naWZ5KGZpbGVQYXJ0cy5GaWxlRW50aXR5KSk7XHJcbiAgICAgICAgICAgICAgICBmZC5hcHBlbmQoXCJGaWxlXCIsIGZpbGVQYXJ0cy5GaWxlKTtcclxuICAgICAgICAgICAgICAgIC8vbm93IFBPU1QgaXQgKGZpbGVwYXJ0cylcclxuICAgICAgICAgICAgICAgIEZJTEUudXBsb2FkRmlsZShmZCkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoZnJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoXCJGaWxlIFVwbG9hZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zcmMgPSAkc2NvcGUuc2VydmVyVVJMICsgJy9GaWxlcy8nICsgJHNjb3BlLmFGaWxlLmZpbGVfaWQgKyAnL0l0ZW0nICsgRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEVfU1RBTVAuc2V0U3RhbXAoKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLm5hbWUgPSBmcmVzcG9uc2UubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYUZpbGUucGF0aCA9IGZyZXNwb25zZS5wYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vaWYgdGhpcyBpcyBhIHBob3RvIGZpbGUsIGZsYWcgc28gdGh1bWJuYWlsIHNob3dzIGFuZCBtYWtlIHN1cmVcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5hRmlsZS5GaWxlMS50eXBlLmluZGV4T2YoXCJpbWFnZVwiKSA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaXNQaG90byA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICRzY29wZS5pc1Bob3RvID0gZmFsc2U7IH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUudHlwZS5pbmRleE9mKFwiaW1hZ2VcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmlzUGhvdG8gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAkc2NvcGUuaXNQaG90byA9IGZhbHNlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmFGaWxlLkZpbGUxICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFGaWxlLkZpbGUgPSAkc2NvcGUuYUZpbGUuRmlsZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5hRmlsZS5GaWxlMSA9IHVuZGVmaW5lZDsgLy9wdXQgaXQgYXMgZmlsZSBhbmQgcmVtb3ZlIGl0IGZyb20gMVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAvL3VwZGF0ZSB0aGUgc2l0ZUltYWdlRmlsZXMgZm9yIGNhcm91c2VsIGlmIHBob3RvIHdhcyBjaGFuZ2VkIHRvIGEgZGlmZmVyZW50IHR5cGUgb3IgdmlzZSB2ZXJzYVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc0ZpbGVJc1VwbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlSXRlbUV4aXN0cyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zRmlsZUlzVXBsb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBzYXZpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9kZWxldGUgdGhpcyBmaWxlXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVGaWxlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIERlbGV0ZU1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5hRmlsZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hhdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRmlsZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGVsZXRlTW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAoZmlsZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgIEZJTEUuZGVsZXRlKHsgaWQ6IGZpbGVUb1JlbW92ZS5maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkZpbGUgUmVtb3ZlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbmRCYWNrID0gW1wiZGVcIiwgJ2RlbGV0ZWQnXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2Uoc2VuZEJhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIERlbGV0ZU1vZGFsLnJlc3VsdC50aGVuXHJcbiAgICAgICAgICAgIH07Ly9lbmQgZGVsZXRlKClcclxuXHJcbiAgICAgICAgICAgIC8vZWRpdCBidXR0b24gY2xpY2tlZC4gbWFrZSBjb3B5IG9mIGh3bSBcclxuICAgICAgICAgICAgJHNjb3BlLndhbm5hRWRpdEZJTEUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5GSUxFdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmZpbGVDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5hRmlsZSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGZDb3B5ID0gYW5ndWxhci5jb3B5KCRzY29wZS5kYXRhZmlsZSk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc291cmNlQ29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYVNvdXJjZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxGSUxFRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkZJTEV2YWwgPSAnZGV0YWlsJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5maWxlQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRmQ29weSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNvdXJjZUNvcHkgPSB7fTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy9hcHByb3ZlIHRoaXMgZGF0YWZpbGUgKGlmIGFkbWluIG9yIG1hbmFnZXIpXHJcbiAgICAgICAgICAgICRzY29wZS5hcHByb3ZlREYgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvL3RoaXMgaXMgdmFsaWQsIHNob3cgbW9kYWwgdG8gY29uZmlybSB0aGV5IHdhbnQgdG8gYXBwcm92ZSBpdFxyXG4gICAgICAgICAgICAgICAgdmFyIHRoaXNERiA9ICRzY29wZS5kYXRhZmlsZTtcclxuICAgICAgICAgICAgICAgIHZhciBhcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5BcHByb3ZlIERhdGEgRmlsZTwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtYm9keSc+PHA+QXJlIHlvdSByZWFkeSB0byBhcHByb3ZlIHRoaXMgRGF0YSBGaWxlPzwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgXCI8ZGl2IGNsYXNzPSdtb2RhbC1mb290ZXInPjxidXR0b24gY2xhc3M9J2J0biBidG4tcHJpbWFyeScgbmctY2xpY2s9J2FwcHJvdmVJdCgpJz5BcHByb3ZlPC9idXR0b24+PGJ1dHRvbiBjbGFzcz0nYnRuIGJ0bi13YXJuaW5nJyBuZy1jbGljaz0nY2FuY2VsKCknPkNhbmNlbDwvYnV0dG9uPjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9kZWxldGUgdGhlIHNpdGUgYW5kIGFsbCB0aGluZ3MgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSh0aGlzREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUuYXBwcm92ZURGKHsgaWQ6IGRmLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChhcHByb3ZhbFJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRmLmFwcHJvdmFsX2lkID0gYXBwcm92YWxSZXNwb25zZS5hcHByb3ZhbF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGFmaWxlID0gZGY7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRGF0YSBGaWxlIEFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLmFwcHJvdmFsRGF0ZSA9IG5ldyBEYXRlKGFwcHJvdmFsUmVzcG9uc2UuYXBwcm92YWxfZGF0ZSk7IC8vaW5jbHVkZSBub3RlIHRoYXQgaXQncyBkaXNwbGF5ZWQgaW4gdGhlaXIgbG9jYWwgdGltZSBidXQgc3RvcmVkIGluIFVUQ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvLk1lbWJlciA9IGFsbE1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChhbWVtKSB7IHJldHVybiBhbWVtLm1lbWJlcl9pZCA9PSBhcHByb3ZhbFJlc3BvbnNlLm1lbWJlcl9pZDsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBhcHByb3ZpbmcgZGF0YSBmaWxlOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgYXBwcm92aW5nIGRhdGEgZmlsZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbG9naWMgZm9yIGNhbmNlbFxyXG4gICAgICAgICAgICAgICAgfSk7Ly9lbmQgbW9kYWxcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vYXBwcm92ZSB0aGlzIGh3bSAoaWYgYWRtaW4gb3IgbWFuYWdlcilcclxuICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZURGID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIHZhbGlkLCBzaG93IG1vZGFsIHRvIGNvbmZpcm0gdGhleSB3YW50IHRvIGFwcHJvdmUgaXRcclxuICAgICAgICAgICAgICAgIHZhciB0aGlzREYgPSAkc2NvcGUuZGF0YWZpbGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgdW5hcHByb3ZlTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiBjbGFzcz0nbW9kYWwtaGVhZGVyJz48aDMgY2xhc3M9J21vZGFsLXRpdGxlJz5SZW1vdmUgQXBwcm92YWw8L2gzPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FuIHRvIHVuYXBwcm92ZSB0aGlzIERhdGEgRmlsZT88L3A+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSd1bkFwcHJvdmVJdCgpJz5VbmFwcHJvdmU8L2J1dHRvbj48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXdhcm5pbmcnIG5nLWNsaWNrPSdjYW5jZWwoKSc+Q2FuY2VsPC9idXR0b24+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygnY2FuY2VsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVJdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UodGhpc0RGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHVuYXBwcm92ZU1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChkZikge1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICBEQVRBX0ZJTEUudW5BcHByb3ZlREYoeyBpZDogZGYuZGF0YV9maWxlX2lkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZi5hcHByb3ZhbF9pZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5kYXRhZmlsZSA9IGRmO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkRhdGEgRmlsZSBVbmFwcHJvdmVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuQXBwcm92YWxJbmZvID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciB1bmFwcHJvdmluZyBkYXRhIGZpbGU6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL2xvZ2ljIGZvciBjYW5jZWxcclxuICAgICAgICAgICAgICAgIH0pOy8vZW5kIG1vZGFsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfV0pOy8vZW5kIGZpbGVNb2RhbEN0cmxcclxuXHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2ZpbGVDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJyRodHRwJywgJ1NFUlZFUl9VUkwnLCAnRklMRV9TVEFNUCcsICdTaXRlX0ZpbGVzJywgJ0hXTV9TZXJ2aWNlJywgJ0luc3RydW1lbnRfU2VydmljZScsICckdWliTW9kYWwnLCAnJGZpbHRlcicsICckdGltZW91dCcsICd0aGlzU2l0ZScsICd0aGlzU2l0ZUZpbGVzJywgJ2FsbEZpbGVUeXBlcycsICdhbGxBZ2VuY2llcycsICd0aGlzU2l0ZVNlbnNvcnMnLCAndGhpc1NpdGVPUHMnLCAndGhpc1NpdGVIV01zJywgJ0ZJTEUnLCAnREFUQV9GSUxFJywgJ01FTUJFUicsICdTT1VSQ0UnLCAnU0lURScsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRsb2NhdGlvbiwgJHN0YXRlLCAkaHR0cCwgU0VSVkVSX1VSTCxGSUxFX1NUQU1QLCBTaXRlX0ZpbGVzLCBIV01fU2VydmljZSwgSW5zdHJ1bWVudF9TZXJ2aWNlLCAkdWliTW9kYWwsICRmaWx0ZXIsICR0aW1lb3V0LCB0aGlzU2l0ZSwgdGhpc1NpdGVGaWxlcywgYWxsRmlsZVR5cGVzLCBhbGxBZ2VuY2llcywgdGhpc1NpdGVTZW5zb3JzLCB0aGlzU2l0ZU9QcywgdGhpc1NpdGVIV01zLCBGSUxFLCBEQVRBX0ZJTEUsIE1FTUJFUiwgU09VUkNFLCBTSVRFKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGVzdCA9IFwiaGlcIjtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YW1wID0gRklMRV9TVEFNUC5nZXRTdGFtcCgpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kb24oJ2ZpbGVTdGFtcFNldCcsIGZ1bmN0aW9uIChldmVudCwgc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBzdDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSFdNcyA9IHRoaXNTaXRlSFdNczsgLy9IV01fU2VydmljZS5nZXRBbGxTaXRlSFdNcygpOyAvL2lmIGNyZWF0ZSBhIG5ldyBvbmUsIHRoZW4gYWRkIGEgZmlsZSB0byBpdC4uIGRvZXNuJ3Qgc2hvdyBpbiBmaWxlTGlzdCBiZWNhdXNlIHRoaXMgZG9lc24ndCBoYXZlIHRoYXQgbmV3IGh3bSB5ZXQuLlxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVTZW5zb3JzID0gdGhpc1NpdGVTZW5zb3JzO1xyXG4gICAgICAgICAgICAgICAgLy9pbmNsdWRlIGlmIEhXTSwgSW5zdHJ1bWVudCwgRGF0YSBGaWxlIG9yIE9QIEZpbGUgZm9yIGVhY2ggICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHNmID0gMDsgc2YgPCB0aGlzU2l0ZUZpbGVzLmxlbmd0aDsgc2YrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3aGF0S2luZGFGaWxlID0gJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlRmlsZXNbc2ZdLmh3bV9pZCA+IDAgJiYgdGhpc1NpdGVGaWxlc1tzZl0uaHdtX2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXRLaW5kYUZpbGUgPSBcIkhXTSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZUZpbGVzW3NmXS5kYXRhX2ZpbGVfaWQgPiAwICYmIHRoaXNTaXRlRmlsZXNbc2ZdLmRhdGFfZmlsZV9pZCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0S2luZGFGaWxlID0gXCJEYXRhRmlsZSBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZUZpbGVzW3NmXS5pbnN0cnVtZW50X2lkID4gMCAmJiB0aGlzU2l0ZUZpbGVzW3NmXS5pbnN0cnVtZW50X2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXRLaW5kYUZpbGUgPSBcIlNlbnNvciBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzSW5zID0gdGhpc1NpdGVTZW5zb3JzLmZpbHRlcihmdW5jdGlvbiAocykgeyByZXR1cm4gcy5pbnN0cnVtZW50X2lkID09IHRoaXNTaXRlRmlsZXNbc2ZdLmluc3RydW1lbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUZpbGVzW3NmXS50eXBlTmFtZSA9IHRoaXNJbnMuc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlRmlsZXNbc2ZdLm9iamVjdGl2ZV9wb2ludF9pZCA+IDAgJiYgdGhpc1NpdGVGaWxlc1tzZl0ub2JqZWN0aXZlX3BvaW50X2lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoYXRLaW5kYUZpbGUgPSBcIk9iamVjdGl2ZSBQb2ludCBGaWxlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlRmlsZXNbc2ZdLnR5cGVOYW1lID0gdGhpc1NpdGVPUHMuZmlsdGVyKGZ1bmN0aW9uIChvcCkgeyByZXR1cm4gb3Aub2JqZWN0aXZlX3BvaW50X2lkID09IHRoaXNTaXRlRmlsZXNbc2ZdLm9iamVjdGl2ZV9wb2ludF9pZDsgfSlbMF0ubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdoYXRLaW5kYUZpbGUgPT09ICcnKSB3aGF0S2luZGFGaWxlID0gXCJTaXRlIEZpbGVcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUZpbGVzW3NmXS5maWxlQmVsb25nc1RvID0gd2hhdEtpbmRhRmlsZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKHRoaXNTaXRlRmlsZXMpOy8vLCAkc2NvcGUuc2l0ZUhXTXMsICRzY29wZS5zaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMgPSBbXTsgLy9ob2xkZXIgb2YgY2Fyb3VzZWwgaW1hZ2VzXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzID0gMDsgcyA8ICRzY29wZS5TaXRlRmlsZXMubGVuZ3RoOyBzKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0SSA9ICRzY29wZS5TaXRlRmlsZXNbc10ubmFtZS5pbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0U3RyaW5nID0gJHNjb3BlLlNpdGVGaWxlc1tzXS5uYW1lLnN1YnN0cmluZyhleHRJICsgMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFsnanBnJywnSlBHJywnanBlZycsJ0pQRUcnLCdwbmcnLCdQTkcnLCdnaWYnLCdHSUYnXS5pbmRleE9mKGV4dFN0cmluZykgPiAtMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJbWFnZUZpbGVzLnB1c2goJHNjb3BlLlNpdGVGaWxlc1tzXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2lmIGZpbGVzIGFyZSBhZGRlZC9lZGl0ZWQsIGRlbGV0ZWQgZnJvbSBvdGhlciBwYXJ0cyAob2JqZWN0aXZlIFBvaW50cywgc2Vuc29ycywgaHdtcyksIG1ha2Ugc3VyZSBpZiBldmVudCBpcyBjaG9zZW4gdG8gdXBkYXRlIHNpdGVGaWxlcyBhY2NvcmRpbmdseVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiRvbignc2l0ZUZpbGVzVXBkYXRlZCcsIGZ1bmN0aW9uIChldmVudCwgc2l0ZWZpbGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVIV01zID0gSFdNX1NlcnZpY2UuZ2V0QWxsU2l0ZUhXTXMoKTsgJHNjb3BlLnNpdGVTZW5zb3JzID0gSW5zdHJ1bWVudF9TZXJ2aWNlLmdldEFsbFNpdGVTZW5zb3JzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ub3cgZ28gYWJvdXQgdXBkYXRpbmcgdGhlIEZpbGVMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcyA9IHNpdGVmaWxlcy5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguZmlsZUJlbG9uZ3NUbyA9PSAnU2l0ZSBGaWxlJyB8fCBoLmZpbGVCZWxvbmdzVG8gPT0gJ09iamVjdGl2ZSBQb2ludCBGaWxlJzsgfSk7ICAvL2tlZXAgYWxsIHNpdGUgYW5kIG9wIGZpbGVzXHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5TaXRlRmlsZXMsIGZ1bmN0aW9uIChzZil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZi5maWxlQmVsb25nc1RvID09ICdPYmplY3RpdmUgUG9pbnQgRmlsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZi50eXBlTmFtZSA9IHRoaXNTaXRlT1BzLmZpbHRlcihmdW5jdGlvbiAob3ApIHsgcmV0dXJuIG9wLm9iamVjdGl2ZV9wb2ludF9pZCA9PSBzZi5vYmplY3RpdmVfcG9pbnRfaWQ7IH0pWzBdLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaHdtRmlsZXMgPSBzaXRlZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZmlsZXMpIHsgcmV0dXJuIHNmaWxlcy5maWxlQmVsb25nc1RvID09ICdIV00gRmlsZSc7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZW5zRmlsZXMgPSBzaXRlZmlsZXMuZmlsdGVyKGZ1bmN0aW9uIChzZmkpIHsgcmV0dXJuIHNmaS5pbnN0cnVtZW50X2lkID4gMCAmJiBzZmkuaW5zdHJ1bWVudF9pZCAhPT0gbnVsbDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHNob3cgZmlsZXMgZm9yIHRoaXMgZXZlbnQgKGdvIHRocm91Z2ggaHdtIGZpbGVzIGFuZCBtYXRjaCBldmVudGlkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIEVoZiA9IDA7IEVoZiA8IGh3bUZpbGVzLmxlbmd0aDsgRWhmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIEVod20gPSAwOyBFaHdtIDwgJHNjb3BlLnNpdGVIV01zLmxlbmd0aDsgRWh3bSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGh3bUZpbGVzW0VoZl0uaHdtX2lkID09ICRzY29wZS5zaXRlSFdNc1tFaHdtXS5od21faWQgJiYgJHNjb3BlLnNpdGVIV01zW0Vod21dLmV2ZW50X2lkID09ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKGh3bUZpbGVzW0VoZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaGYgPSAwOyBoZiA8IGh3bUZpbGVzLmxlbmd0aDsgaGYrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaHdtID0gMDsgaHdtIDwgJHNjb3BlLnNpdGVIV01zLmxlbmd0aDsgaHdtKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaHdtRmlsZXNbaGZdLmh3bV9pZCA9PSAkc2NvcGUuc2l0ZUhXTXNbaHdtXS5od21faWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChod21GaWxlc1toZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vb25seSBzaG93IGZpbGVzIGZvciB0aGlzIGV2ZW50IChnbyB0aHJvdWdoIHNlbnNvciBmaWxlcyBhbmQgbWF0Y2ggZXZlbnRpZFxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBFc2YgPSAwOyBFc2YgPCBzZW5zRmlsZXMubGVuZ3RoOyBFc2YrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgRWluc3QgPSAwOyBFaW5zdCA8ICRzY29wZS5zaXRlU2Vuc29ycy5sZW5ndGg7IEVpbnN0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2Vuc0ZpbGVzW0VzZl0uaW5zdHJ1bWVudF9pZCA9PSAkc2NvcGUuc2l0ZVNlbnNvcnNbRWluc3RdLmluc3RydW1lbnRfaWQgJiYgJHNjb3BlLnNpdGVTZW5zb3JzW0VpbnN0XS5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc0ZpbGVzW0VzZl0udHlwZU5hbWUgPSAkc2NvcGUuc2l0ZVNlbnNvcnNbRWluc3RdLnNlcmlhbF9udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChzZW5zRmlsZXNbRXNmXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgc2YgPSAwOyBzZiA8IHNlbnNGaWxlcy5sZW5ndGg7IHNmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluc3QgPSAwOyBpbnN0IDwgJHNjb3BlLnNpdGVTZW5zb3JzLmxlbmd0aDsgaW5zdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbnNGaWxlc1tzZl0uaW5zdHJ1bWVudF9pZCA9PSAkc2NvcGUuc2l0ZVNlbnNvcnNbaW5zdF0uaW5zdHJ1bWVudF9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zRmlsZXNbc2ZdLnR5cGVOYW1lID0gJHNjb3BlLnNpdGVTZW5zb3JzW2luc3RdLnNlcmlhbF9udW1iZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMucHVzaChzZW5zRmlsZXNbc2ZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgLy9pZiBpbWFnZSwgcHV0IGludG8gY2Fyb3VzZWwgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLlNpdGVGaWxlcywgZnVuY3Rpb24gKHNmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHRJID0gc2YubmFtZS5pbmRleE9mKFwiLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dFN0cmluZyA9IHNmLm5hbWUuc3Vic3RyaW5nKGV4dEkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFsnanBnJywgJ0pQRycsICdqcGVnJywgJ0pQRUcnLCAncG5nJywgJ1BORycsICdnaWYnLCAnR0lGJ10uaW5kZXhPZihleHRTdHJpbmcpID4gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUltYWdlRmlsZXMucHVzaChzZik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgLy8gd2F0Y2ggZm9yIHRoZSBzZXNzaW9uIGV2ZW50IHRvIGNoYW5nZSBhbmQgdXBkYXRlIFNJVEUgRklMRVMgRE8gTk9UIEhBVkUgQU4gRVZFTlQgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHsgcmV0dXJuICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpOyB9LCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSA9IG5ld1ZhbHVlICE9PSB1bmRlZmluZWQgPyBuZXdWYWx1ZSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZXNzaW9uRXZlbnRFeGlzdHMgPSAkc2NvcGUuc2Vzc2lvbkV2ZW50TmFtZSAhPSBcIkFsbCBFdmVudHNcIiA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUhXTXMgPSBIV01fU2VydmljZS5nZXRBbGxTaXRlSFdNcygpOyAkc2NvcGUuc2l0ZVNlbnNvcnMgPSBJbnN0cnVtZW50X1NlcnZpY2UuZ2V0QWxsU2l0ZVNlbnNvcnMoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9rZWVwIGFsbCBzaXRlICYgT1AgRmlsZXMsIGZpbHRlciBIV00sIEluc3RydW1lbnQgKERGIGZpbGVzIHVzZSBJbnN0cnVtZW50IGV2ZW50KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzID0gU2l0ZV9GaWxlcy5nZXRBbGxTaXRlRmlsZXMoKS5maWx0ZXIoZnVuY3Rpb24gKGgpIHsgcmV0dXJuIGguZmlsZUJlbG9uZ3NUbyA9PSAnU2l0ZSBGaWxlJyB8fCBoLmZpbGVCZWxvbmdzVG8gPT0gJ09iamVjdGl2ZSBQb2ludCBGaWxlJzsgfSk7ICAvL2tlZXAgYWxsIHNpdGUgYW5kIG9wIGZpbGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuU2l0ZUZpbGVzLCBmdW5jdGlvbiAoc2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZi5maWxlQmVsb25nc1RvID09ICdPYmplY3RpdmUgUG9pbnQgRmlsZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2YudHlwZU5hbWUgPSB0aGlzU2l0ZU9Qcy5maWx0ZXIoZnVuY3Rpb24gKG9wKSB7IHJldHVybiBvcC5vYmplY3RpdmVfcG9pbnRfaWQgPT0gc2Yub2JqZWN0aXZlX3BvaW50X2lkOyB9KVswXS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9pZiBpbWFnZSwgcHV0IGludG8gY2Fyb3VzZWwgYXJyYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dEkgPSBzZi5uYW1lLmluZGV4T2YoXCIuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4dFN0cmluZyA9IHNmLm5hbWUuc3Vic3RyaW5nKGV4dEkgKyAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChbJ2pwZycsICdKUEcnLCAnanBlZycsICdKUEVHJywgJ3BuZycsICdQTkcnLCAnZ2lmJywgJ0dJRiddLmluZGV4T2YoZXh0U3RyaW5nKSA+IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaXRlSW1hZ2VGaWxlcy5wdXNoKHNmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBod21GaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCkuZmlsdGVyKGZ1bmN0aW9uIChzZmlsZXMpIHsgcmV0dXJuIHNmaWxlcy5maWxlQmVsb25nc1RvID09ICdIV00gRmlsZSc7IH0pOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbnNGaWxlcyA9IFNpdGVfRmlsZXMuZ2V0QWxsU2l0ZUZpbGVzKCkuZmlsdGVyKGZ1bmN0aW9uIChzZmkpIHsgcmV0dXJuIHNmaS5pbnN0cnVtZW50X2lkID4gMCAmJiBzZmkuaW5zdHJ1bWVudF9pZCAhPT0gbnVsbDsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vb25seSBzaG93IGZpbGVzIGZvciB0aGlzIGV2ZW50IChnbyB0aHJvdWdoIGh3bSBmaWxlcyBhbmQgbWF0Y2ggZXZlbnRpZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoZiA9IDA7IGhmIDwgaHdtRmlsZXMubGVuZ3RoOyBoZisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBod20gPSAwOyBod20gPCAkc2NvcGUuc2l0ZUhXTXMubGVuZ3RoOyBod20rKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChod21GaWxlc1toZl0uaHdtX2lkID09ICRzY29wZS5zaXRlSFdNc1tod21dLmh3bV9pZCAmJiAkc2NvcGUuc2l0ZUhXTXNbaHdtXS5ldmVudF9pZCA9PSAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudElEJykpIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuU2l0ZUZpbGVzLnB1c2goaHdtRmlsZXNbaGZdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL29ubHkgc2hvdyBmaWxlcyBmb3IgdGhpcyBldmVudCAoZ28gdGhyb3VnaCBzZW5zb3IgZmlsZXMgYW5kIG1hdGNoIGV2ZW50aWRcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgc2YgPSAwOyBzZiA8IHNlbnNGaWxlcy5sZW5ndGg7IHNmKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluc3QgPSAwOyBpbnN0IDwgJHNjb3BlLnNpdGVTZW5zb3JzLmxlbmd0aDsgaW5zdCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbnNGaWxlc1tzZl0uaW5zdHJ1bWVudF9pZCA9PSAkc2NvcGUuc2l0ZVNlbnNvcnNbaW5zdF0uaW5zdHJ1bWVudF9pZCAmJiAkc2NvcGUuc2l0ZVNlbnNvcnNbaW5zdF0uZXZlbnRfaWQgPT0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNGaWxlc1tzZl0udHlwZU5hbWUgPSAkc2NvcGUuc2l0ZVNlbnNvcnNbaW5zdF0uc2VyaWFsX251bWJlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKHNlbnNGaWxlc1tzZl0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlRmlsZXMgPSBTaXRlX0ZpbGVzLmdldEFsbFNpdGVGaWxlcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sIHRydWUpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vc2hvdyBhIG1vZGFsIHdpdGggdGhlIGxhcmdlciBpbWFnZSBhcyBhIHByZXZpZXdcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaG93SW1hZ2VNb2RhbCA9IGZ1bmN0aW9uIChpbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkltYWdlIEZpbGUgUHJldmlldzwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48aW1nIG5nLXNyYz1cInt7c2V0U1JDfX1cIiAvPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckdWliTW9kYWxJbnN0YW5jZScsIGZ1bmN0aW9uICgkc2NvcGUsICR1aWJNb2RhbEluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaW1hZ2VJZCA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNldFNSQyA9IFNFUlZFUl9VUkwgKyAnL0ZpbGVzLycgKyAkc2NvcGUuaW1hZ2VJZCArICcvSXRlbSc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY3JlYXRlL2VkaXQgYSBmaWxlXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0ZpbGVNb2RhbCA9IGZ1bmN0aW9uIChGaWxlQ2xpY2tlZCkgeyAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIFNpbmRleENsaWNrZWQgPSAkc2NvcGUuU2l0ZUZpbGVzLmluZGV4T2YoRmlsZUNsaWNrZWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vcG9wdWxhdGUgYWxsIGZpbGV0eXBlcyB0aGF0IGNyZWF0ZS9lZGl0IGZpbGUgbmVlZHMgZGVwZW5kaW5nIG9uIHdoYXQgdGhlIGZpbGUgaXMgYXR0YWNoZWQgdG9cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUZpbGVUeXBlcyA9IGFsbEZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IGZ0LmZpbGV0eXBlID09PSAnU2l0ZSBTa2V0Y2gnIHx8IGZ0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IGZ0LmZpbGV0eXBlID09PSAnTGluaycgfHwgZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdC5maWxldHlwZSA9PT0gJ0xhbmRvd25lciBQZXJtaXNzaW9uIEZvcm0nO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChoZnQpeyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhmdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdIaXN0b3JpYyBDaXRhdGlvbicgfHwgaGZ0LmZpbGV0eXBlID09PSAnRmllbGQgU2hlZXRzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGZ0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8IGhmdC5maWxldHlwZSA9PT0gJ090aGVyJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdMaW5rJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdTa2V0Y2gnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzZnQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2Z0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IHNmdC5maWxldHlwZSA9PT0gJ0RhdGEnIHx8IHNmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fCBzZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgc2Z0LmZpbGV0eXBlID09PSAnTGluaycgfHwgc2Z0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUub3BGaWxlVHlwZXMgPSBhbGxGaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChvZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mdC5maWxldHlwZSA9PT0gJ1Bob3RvJyB8fCBvZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IG9mdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Z0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IG9mdC5maWxldHlwZSA9PT0gJ05HUyBEYXRhc2hlZXQnIHx8IG9mdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vbW9kYWwgYWxsRmlsZVR5cGVzLCB0aGlzRmlsZSwgYWxsTWVtYmVycywgYWdlbmN5TGlzdCwgZmlsZVNpdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBGaWxlQ2xpY2tlZCAhPT0gMCA/ICdGSUxFbW9kYWwuaHRtbCcgOiAnRmlsZUNyZWF0ZU1vZGFsLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2l0ZUZpbGVNb2RhbEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnbGcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZUV4aXN0czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZCAhPT0gMCkgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGSUxFLmdldEZpbGVJdGVtKHsgaWQ6IEZpbGVDbGlja2VkLmZpbGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZVR5cGVMaXN0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoRmlsZUNsaWNrZWQuZmlsZUJlbG9uZ3NUbykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnSFdNIEZpbGUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkc2NvcGUuaHdtRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGF0YUZpbGUgRmlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZW5zb3JGaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdTZW5zb3IgRmlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zZW5zb3JGaWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdPYmplY3RpdmUgUG9pbnQgRmlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5vcEZpbGVUeXBlcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ1NpdGUgRmlsZSc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zaXRlRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5zaXRlRmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZ2VuY3lMaXN0OiBmdW5jdGlvbiAoKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxsQWdlbmNpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0ZpbGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQgIT09IDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBGaWxlQ2xpY2tlZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlU2l0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTSVRFLnF1ZXJ5KHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsTWVtYmVyczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BY2NlcHQgPSAnYXBwbGljYXRpb24vanNvbic7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1FTUJFUi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlU291cmNlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbGVDbGlja2VkICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZC5zb3VyY2VfaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTT1VSQ0UucXVlcnkoe2lkOkZpbGVDbGlja2VkLnNvdXJjZV9pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhRmlsZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChGaWxlQ2xpY2tlZCAhPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoRmlsZUNsaWNrZWQuZGF0YV9maWxlX2lkICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gREFUQV9GSUxFLnF1ZXJ5KHsgaWQ6IEZpbGVDbGlja2VkLmRhdGFfZmlsZV9pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChjcmVhdGVkRmlsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZXJlIGEgbmV3IGZpbGUgb3IganVzdCBjbG9zZWQgbW9kYWxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRGaWxlWzFdID09ICdjcmVhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5wdXNoKGNyZWF0ZWRGaWxlWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpdGVfRmlsZXMuc2V0QWxsU2l0ZUZpbGVzKCRzY29wZS5TaXRlRmlsZXMpOy8vLCAkc2NvcGUuc2l0ZUhXTXMsICRzY29wZS5zaXRlU2Vuc29ycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRGaWxlWzFdID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vdGhpcyBpcyBmcm9tIGVkaXQgLS0gcmVmcmVzaCBwYWdlP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlc1tTaW5kZXhDbGlja2VkXSA9IGNyZWF0ZWRGaWxlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU2l0ZV9GaWxlcy5zZXRBbGxTaXRlRmlsZXMoJHNjb3BlLlNpdGVGaWxlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc3RhbXAgPSBGSUxFX1NUQU1QLmdldFN0YW1wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRGaWxlWzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLlNpdGVGaWxlcy5zcGxpY2UoU2luZGV4Q2xpY2tlZCwgMSk7IC8vcmVtb3ZlIGZyb20gZmlsZSBMaXN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaXRlX0ZpbGVzLnNldEFsbFNpdGVGaWxlcygkc2NvcGUuU2l0ZUZpbGVzKTsvLywgJHNjb3BlLnNpdGVIV01zLCAkc2NvcGUuc2l0ZVNlbnNvcnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAvKiBjb250cm9sbGVycy5qcywgJ2xlYWZsZXQtZGlyZWN0aXZlJyd1aS51bmlxdWUnLCduZ1RhZ3NJbnB1dCcsKi9cclxuICAgICd1c2Ugc3RyaWN0JztcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcbiAgICBNb2RhbENvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V2ZW50U2Vzc2lvbk1vZGFsQ3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnYWxsRXZlbnRzJywgJ2FsbEV2ZW50VHlwZXMnLCAnYWxsU3RhdGVzJywgJ0VWRU5UJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkcm9vdFNjb3BlLCAkY29va2llcywgJHVpYk1vZGFsSW5zdGFuY2UsIGFsbEV2ZW50cywgYWxsRXZlbnRUeXBlcywgYWxsU3RhdGVzLCBFVkVOVCkge1xyXG4gICAgICAgICAgICAkc2NvcGUuRXZlbnRMaXN0ID0gYWxsRXZlbnRzO1xyXG4gICAgICAgICAgICAkc2NvcGUuRXZlbnRUeXBlTGlzdCA9IGFsbEV2ZW50VHlwZXM7XHJcbiAgICAgICAgICAgICRzY29wZS5TdGF0ZUxpc3QgPSBhbGxTdGF0ZXM7XHJcbiAgICAgICAgICAgIHZhciBjaG9zZW5FdiA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKTsgLy9zZWUgaWYgd2UgbmVlZCB0byBzZWxlY3QgdGhlIHNlc3Npb24gZXZlbnRcclxuICAgICAgICAgICAgJHNjb3BlLmV2ZW50ID0geyBFdmVudENob3NlbjogY2hvc2VuRXYgIT09IHVuZGVmaW5lZCA/IE51bWJlcihjaG9zZW5FdikgOiBcIlwiIH07XHJcblxyXG4gICAgICAgICAgICAvL2ZpbHRlcnMgY2hvc2VuLCBvbmx5IHNob3cgdGhlc2UgZXZlbnRzXHJcbiAgICAgICAgICAgICRzY29wZS5maWx0ZXJFdmVudHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAvLz9EYXRlOiBudWxsLCBUeXBlOiAwLCBTdGF0ZTogbnVsbFxyXG4gICAgICAgICAgICAgICAgdmFyIGQgPSAkc2NvcGUuZXZlbnQuREFURSAhPT0gbnVsbCAmJiAkc2NvcGUuZXZlbnQuREFURSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmV2ZW50LkRBVEUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHQgPSAkc2NvcGUuZXZlbnQudHlwZSAhPT0gbnVsbCAmJiAkc2NvcGUuZXZlbnQudHlwZSAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLmV2ZW50LnR5cGUgOiAwO1xyXG4gICAgICAgICAgICAgICAgdmFyIHMgPSAkc2NvcGUuZXZlbnQuc3RhdGUgIT09IG51bGwgJiYgJHNjb3BlLmV2ZW50LnN0YXRlICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuZXZlbnQuc3RhdGUgOiBudWxsO1xyXG4gICAgICAgICAgICAgICAgRVZFTlQuZ2V0RmlsdGVyZWRFdmVudHMoeyBEYXRlOiBkLCBUeXBlOiB0LCBTdGF0ZTogcyB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5FdmVudExpc3QgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGZpbHRlcmVkIGV2ZW50czogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBmaWx0ZXJlZCBldmVudHM6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvL2NsZWFyIHRoZSBmaWx0ZXJzXHJcbiAgICAgICAgICAgICRzY29wZS5jbGVhckZpbHRlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnQgPSB7IEV2ZW50Q2hvc2VuOiBjaG9zZW5FdiAhPT0gdW5kZWZpbmVkID8gTnVtYmVyKGNob3NlbkV2KSA6IFwiXCIgfTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5FdmVudExpc3QgPSBhbGxFdmVudHM7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vZXZlbnQgaGFzIGJlZW4gY2hvc2VuLiBTZXQgaXQgYXMgc2Vzc2lvbiBldmVudFxyXG4gICAgICAgICAgICAkc2NvcGUuc2V0RXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZJRCA9ICRzY29wZS5ldmVudC5FdmVudENob3NlbjtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZXZJRCAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudE5hbWUgPSBhbGxFdmVudHMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmV2ZW50X2lkID09ICRzY29wZS5ldklEOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAkY29va2llcy5wdXQoJ1Nlc3Npb25FdmVudElEJywgJHNjb3BlLmV2SUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRjb29raWVzLnB1dCgnU2Vzc2lvbkV2ZW50TmFtZScsIGV2ZW50TmFtZS5ldmVudF9uYW1lKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zZXNzaW9uRXZlbnQgPSBcIlNlc3Npb24gRXZlbnQ6IFwiICsgZXZlbnROYW1lLmV2ZW50X25hbWUgKyBcIi5cIjtcclxuICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiWW91IG11c3QgY2hvb3NlIGFuIEV2ZW50IGZpcnN0LlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vdGhleSB3YW50IHRvIGNsZWFyIHRoZSBzZXNzaW9uIGV2ZW50XHJcbiAgICAgICAgICAgICRzY29wZS5jbGVhckV2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50ID0ge307XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudElEJyk7XHJcbiAgICAgICAgICAgICAgICAkY29va2llcy5yZW1vdmUoJ1Nlc3Npb25FdmVudE5hbWUnKTtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuc2Vzc2lvbkV2ZW50ID0gXCJcIjtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9EYXRlcGlja2VyXHJcbiAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS5vcGVuID0gZnVuY3Rpb24gKCRldmVudCwgd2hpY2gpIHtcclxuICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRlcGlja3JzW3doaWNoXSA9IHRydWU7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAvL2NhbmNlbFxyXG4gICAgICAgICAgICAkc2NvcGUuY2xvc2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XSk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V2ZW50U2Vzc2lvbkN0cmwnLCBbJyRzY29wZScsICckcm9vdFNjb3BlJywgJyRjb29raWVzJywgJyR1aWJNb2RhbCcsICckbG9jYXRpb24nLCAnJHN0YXRlJywgJ0VWRU5UJywgJ0VWRU5UX1RZUEUnLCAnU1RBVEUnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkdWliTW9kYWwsICRsb2NhdGlvbiwgJHN0YXRlLCBFVkVOVCwgRVZFTlRfVFlQRSwgU1RBVEUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW5FdmVudE1vZGFsID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdDaG9vc2VFdmVudC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZXZlbnRTZXNzaW9uTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICBzaXplOiAnbWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJhY2tkcm9wOiAnc3RhdGljJyxcclxuICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Q2xhc3M6ICdyZXAtZGlhbG9nJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVWRU5ULmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudFR5cGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRVZFTlRfVFlQRS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU3RhdGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL25vdGhpbmcgdG8gZG8gaGVyZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V2ZW50TW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsICckaHR0cCcsICckdWliTW9kYWwnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnJGZpbHRlcicsICd0aGlzRXZlbnQnLCAnZXZlbnRUeXBlTGlzdCcsXHJcbiAgICAgICAgJ2V2ZW50U3RhdHVzTGlzdCcsICdhZG1pbkxpc3QnLCAnZmlsZVR5cGVzJywgJ2V2ZW50U2l0ZXMnLCAnYWxsU3RhdGVzJywgJ2FsbENvdW50aWVzJywgJ0VWRU5UJywgJ0ZJTEUnLCAnU0VSVkVSX1VSTCcsXHJcbiAgICAgICAgZnVuY3Rpb24gKCRzY29wZSwgJHJvb3RTY29wZSwgJGNvb2tpZXMsICRodHRwLCAkdWliTW9kYWwsICR1aWJNb2RhbEluc3RhbmNlLCAkZmlsdGVyLCB0aGlzRXZlbnQsIGV2ZW50VHlwZUxpc3QsIGV2ZW50U3RhdHVzTGlzdCwgYWRtaW5MaXN0LCBmaWxlVHlwZXMsIGV2ZW50U2l0ZXMsIGFsbFN0YXRlcywgYWxsQ291bnRpZXMsXHJcbiAgICAgICAgICAgIEVWRU5ULCBGSUxFLCBTRVJWRVJfVVJMKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5zZXJ2ZXJVUkwgPSBTRVJWRVJfVVJMO1xyXG4gICAgICAgICAgICAkc2NvcGUuZG93bmxvYWRaaXBVcmwgPSBcIlwiOyAvL3RhY2sgb24gZW5kIG9mIHVybCBmb3IgZ2V0dGluZyB6aXAgZmlsZVxyXG4gICAgICAgICAgICAkc2NvcGUub2JqZWN0Q2hvaWNlcyA9IFtcIkhXTXNcIiwgXCJTZW5zb3JzXCJdO1xyXG4gICAgICAgICAgICAkc2NvcGUuYW5FdmVudCA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlcyA9IGV2ZW50VHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICRzY29wZS5ldmVudFN0YXR1c2VzID0gZXZlbnRTdGF0dXNMaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUuYWRtaW5NZW1iZXJzID0gYWRtaW5MaXN0O1xyXG4gICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Sb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgJHNjb3BlLnZpZXcgPSB7IEVWdmFsOiAnZGV0YWlsJyB9O1xyXG4gICAgICAgICAgICAkc2NvcGUuZGwgPSB7IGRsT3BlbjogdHJ1ZSwgZGxGaWxlT3BlbjogZmFsc2UgfTsvL2FjY29yZGlvbnNcclxuICAgICAgICAgICAgLy8jcmVnaW9uIERhdGVwaWNrZXJcclxuICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnMgPSB7fTtcclxuICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgJGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8kc2NvcGUuZm9ybWF0ID0gJ01NTSBkZCwgeXl5eSc7XHJcbiAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBEYXRlcGlja2VyXHJcblxyXG4gICAgICAgICAgICAvL2VkaXQgYnV0dG9uIGNsaWNrZWQuIG1ha2UgY29weSBvZiBod20gXHJcbiAgICAgICAgICAgICRzY29wZS53YW5uYUVkaXRFViA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS52aWV3LkVWdmFsID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2Q29weSA9IGFuZ3VsYXIuY29weSgkc2NvcGUuYW5FdmVudCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWxFVkVkaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudmlldy5FVnZhbCA9ICdkZXRhaWwnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2Q29weSA9IFtdO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy9jYWxsZWQgYSBmZXcgdGltZXMgdG8gZm9ybWF0IGp1c3QgdGhlIGRhdGUgKG5vIHRpbWUpXHJcbiAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFEYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgIGlmIChkICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICBhRGF0ZSA9IG5ldyBEYXRlKGQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIHZhciBtb250aCA9IGFEYXRlLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF0ZVdPdGltZSA9IG5ldyBEYXRlKG1vbnRoTmFtZXNbbW9udGhdICsgXCIgXCIgKyBkYXkgKyBcIiwgXCIgKyB5ZWFyKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9OyAvL2VuZCBtYWtlQWRhdGUoKVxyXG4gICAgICAgICAgICAvL2NhbGxlZCBhIHRvIGZvcm1hdCBqdXN0IHRoZSBkYXRlIChubyB0aW1lKSAnMjAxMy0wNS0xNlQwNTowMDowMCdcclxuICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHllYXIgPSBkLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBkLmdldE1vbnRoKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGQuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICB2YXIgbW9udGhOYW1lcyA9IFtcIjAxXCIsIFwiMDJcIiwgXCIwM1wiLCBcIjA0XCIsIFwiMDVcIiwgXCIwNlwiLCBcIjA3XCIsIFwiMDhcIiwgXCIwOVwiLCBcIjEwXCIsIFwiMTFcIiwgXCIxMlwiXTtcclxuICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbW9udGhOYW1lc1ttb250aF0gKyBcIi9cIiArIGRheSArIFwiL1wiICsgeWVhcjtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkYXRlV090aW1lO1xyXG4gICAgICAgICAgICB9Oy8vZW5kIG1ha2VBZGF0ZSgpXHJcbiAgICAgICAgICAgIGlmICh0aGlzRXZlbnQgIT09IFwiZW1wdHlcIikge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZU9SZWRpdEVWID0gJ2VkaXQnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmV2TW9kYWxIZWFkZXIgPSBcIkV2ZW50IEluZm9ybWF0aW9uXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudCA9IGFuZ3VsYXIuY29weSh0aGlzRXZlbnQpO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSA9ICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgIT09IHVuZGVmaW5lZCA/IG1ha2VBZGF0ZSgkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlKSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgPSAkc2NvcGUuYW5FdmVudC5ldmVudF9lbmRfZGF0ZSAhPT0gdW5kZWZpbmVkID8gbWFrZUFkYXRlKCRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlKSA6ICcnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbmV3IGV2ZW50IGJlaW5nIGNyZWF0ZWRcclxuICAgICAgICAgICAgICAgICRzY29wZS5jcmVhdGVPUmVkaXRFViA9ICdjcmVhdGUnO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSA9IG1ha2VBZGF0ZSgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL29uIGNyZWF0ZSBhbmQgc2F2ZSwgaWYgZGF0ZXMgZW50ZXJlZCwgY29tcGFyZSB0byBlbnN1cmUgZW5kIGRhdGUgY29tZXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICB2YXIgY29tcGFyZURhdGVzID0gZnVuY3Rpb24gKHYsIHNkLCBlZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG5ldyBEYXRlKGVkKSA8IG5ldyBEYXRlKHNkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZml4RGF0ZSA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5UaGUgZXZlbnQgZW5kIGRhdGUgbXVzdCBiZSBhZnRlciB0aGUgZXZlbnQgc3RhcnQgZGF0ZS48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBmaXhEYXRlLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdiA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlZCA9PT0gXCJcIiB8fCBzZCA9PT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhleSBlbnRlcmVkIGFuIGludmFsaWQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgIHYgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB2O1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNyZWF0ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZSAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmICgoJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSAhPT0gdW5kZWZpbmVkICYmICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgIT09IG51bGwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKCRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlICE9PSB1bmRlZmluZWQgJiYgJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgIT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBjb21wYXJlRGF0ZXModmFsaWQsICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUsICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlKTtcclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGVyZSdzIGEgc3RhcnQgYW5kIGVuZCBkYXRlIFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3JlYXRlZEV2ZW50ID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlQuc2F2ZSgkc2NvcGUuYW5FdmVudCwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IENyZWF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCB0aGlzIG5ldyBldmVudCBpbnRvIHRoZSBldmVudExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50ID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5ldmVudF9pZCA9IHJlc3BvbnNlLmV2ZW50X2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuTmFtZSA9IHJlc3BvbnNlLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5UeXBlID0gJHNjb3BlLmV2ZW50VHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEV2ZW50LlN0YXR1cyA9ICRzY29wZS5ldmVudFN0YXR1c2VzLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gci5ldmVudF9zdGF0dXNfaWQgPT0gcmVzcG9uc2UuZXZlbnRfc3RhdHVzX2lkOyB9KVswXS5zdGF0dXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9ICRzY29wZS5hZG1pbk1lbWJlcnMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSByZXNwb25zZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRFdmVudC5TdGFydERhdGUgPSByZXNwb25zZS5ldmVudF9zdGFydF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuRW5kRGF0ZSA9IHJlc3BvbnNlLmV2ZW50X2VuZF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkRXZlbnQuQ29vcmQgPSBjb29yZCAhPT0gdW5kZWZpbmVkID8gY29vcmQuZm5hbWUgKyBcIiBcIiArIGNvb3JkLmxuYW1lIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IGV2ZW50OiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgY3JlYXRpbmcgbmV3IGV2ZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7ICAgXHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFtjcmVhdGVkRXZlbnQsICdjcmVhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07Ly9lbmQgJHNjb3BlLnNhdmUoKSAgICAgXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUuc2F2ZSA9IGZ1bmN0aW9uICh2YWxpZCkge1xyXG4gICAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgZW5kIGRhdGUgaXMgYWZ0ZXIgc3RhcnQgZGF0ZVxyXG4gICAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuZXZDb3B5LmV2ZW50X3N0YXJ0X2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuZXZDb3B5LmV2ZW50X3N0YXJ0X2RhdGUgIT09IG51bGwpICYmXHJcbiAgICAgICAgICAgICAgICAgICAgKCRzY29wZS5ldkNvcHkuZXZlbnRfZW5kX2RhdGUgIT09IHVuZGVmaW5lZCAmJiAkc2NvcGUuZXZDb3B5LmV2ZW50X2VuZF9kYXRlICE9PSBudWxsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkID0gY29tcGFyZURhdGVzKHZhbGlkLCAkc2NvcGUuZXZDb3B5LmV2ZW50X3N0YXJ0X2RhdGUsICRzY29wZS5ldkNvcHkuZXZlbnRfZW5kX2RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfS8vZW5kIGlmIHRoZXJlJ3MgYSBzdGFydCBhbmQgZW5kIGRhdGUgXHJcbiAgICAgICAgICAgICAgICBpZiAodmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cGRhdGVkRXZlbnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICAgICBFVkVOVC51cGRhdGUoeyBpZDogJHNjb3BlLmV2Q29weS5ldmVudF9pZCB9LCAkc2NvcGUuZXZDb3B5LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuZXZlbnRfaWQgPSByZXNwb25zZS5ldmVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50Lk5hbWUgPSByZXNwb25zZS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuVHlwZSA9ICRzY29wZS5ldmVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IHJlc3BvbnNlLmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRFdmVudC5TdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0dXNlcy5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IHJlc3BvbnNlLmV2ZW50X3N0YXR1c19pZDsgfSlbMF0uc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmQgPSAkc2NvcGUuYWRtaW5NZW1iZXJzLmZpbHRlcihmdW5jdGlvbiAoYykgeyByZXR1cm4gYy5tZW1iZXJfaWQgPT0gcmVzcG9uc2UuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVkRXZlbnQuU3RhcnREYXRlID0gcmVzcG9uc2UuZXZlbnRfc3RhcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LkVuZERhdGUgPSByZXNwb25zZS5ldmVudF9lbmRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEV2ZW50LkNvb3JkID0gY29vcmQgIT09IHVuZGVmaW5lZCA/IGNvb3JkLmZuYW1lICsgXCIgXCIgKyBjb29yZC5sbmFtZSA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgVXBkYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3Igc2F2aW5nIGV2ZW50OiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZW5kQmFjayA9IFt1cGRhdGVkRXZlbnQsICd1cGRhdGVkJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNlbmRCYWNrKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICRzY29wZS5kZWxldGVFViA9IGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgLy9tb2RhbFxyXG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdyZW1vdmVtb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnQ29uZmlybU1vZGFsQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWVUb1JlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGF0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFdmVudFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbEluc3RhbmNlLnJlc3VsdC50aGVuKGZ1bmN0aW9uIChldmVudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9ERUxFVEUgaXRcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgRVZFTlQuZGVsZXRlKHsgaWQ6IGV2ZW50VG9SZW1vdmUuZXZlbnRfaWQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IERlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGRlbGV0aW5nOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZGVsZXRpbmcgZXZlbnQ6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuY2xvc2UoW1wiZGVcIiwgJ2RlbGV0ZWQnXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vY2FuY2VsIG1vZGFsXHJcbiAgICAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogZmFsc2UgfTsgLy9Mb2FkaW5nLi4uXHJcblxyXG4gICAgICAgICAgICAvLyNyZWdpb24gWmlwIEZpbGUgRG93bmxvYWQgU2VjdGlvblxyXG4gICAgICAgICAgICBpZiAodGhpc0V2ZW50ICE9PSBcImVtcHR5XCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS56aXBGaWxlUGFyYW1zID0geyBmaWxlc0ZvcjogXCJcIiwgc3RhdGVOYW1lOiBcIlwiLCBjb3VudHlOYW1lOiBcIlwiLCBmcm9tRGF0ZTogXCJcIiwgdG9EYXRlOiBcIlwiIH07XHJcbiAgICAgICAgICAgICAgICAvLyAkc2NvcGUuc3RhdGVzID0gYWxsU3RhdGVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVDb3VudHlMaXN0ID0gW107IC8vaG9sZHMgY291bnRpZXMgd2VyZSB0aGVyZSBhcmUgZXZlbnRzaXRlcyAgIGFsbENvdW50aWVzO1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmNvdW50eUFycmF5ID0gW107XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZXMgPSBbXTsgLy9ob2xkcyB0aGUgc3RhdGVzIGp1c3QgZm9yIHRoaXMgZXZlbnRcclxuICAgICAgICAgICAgICAgIC8vbG9vcCB0aHJvdWdoIGV2ZW50U2l0ZXMgYW5kIGxvb3AgdGhydSBzdGF0ZXMsIHdoZW4gbWF0Y2hpbmcgb25lLCBhZGQgdG8gZXZlbnRTdGF0ZXMgKG5lZWQgc3RhdGVfaWQgZm9yIGNvdW50eSBmaWx0ZXJpbmcpXHJcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTaXRlcyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgc3QgPSAwOyBzdCA8IGFsbFN0YXRlcy5sZW5ndGg7IHN0KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9mb3JlYWNoIGxvb3AgdG8gcG9wdWxhdGUgZXZlbnRTdGF0ZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgZXMgPSAwOyBlcyA8IGV2ZW50U2l0ZXMubGVuZ3RoOyBlcysrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRTaXRlc1tlc10uc3RhdGUgPT0gYWxsU3RhdGVzW3N0XS5zdGF0ZV9hYmJyZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0ZXMucHVzaChhbGxTdGF0ZXNbc3RdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcyA9IGV2ZW50U2l0ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlICRzY29wZS5ldmVudFN0YXRlcyA9IGFsbFN0YXRlcztcclxuICAgICAgICAgICAgICAgIC8vcG9wdWxhdGUgY291bnR5YXJyYXkgd2l0aCBqdXN0IHRob3NlIGNvdW50aWVzIHdoZXJlIHdlIGhhdmUgZXZlbnRTSXRlc1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgY2kgPSAwOyBjaSA8IGV2ZW50U2l0ZXMubGVuZ3RoOyBjaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaXRlQ291bnR5TGlzdC5tYXAoZnVuY3Rpb24gKHNjbCkgeyByZXR1cm4gc2NsLmNvdW50eV9uYW1lOyB9KS5pbmRleE9mKGV2ZW50U2l0ZXNbY2ldLmNvdW50eSkgPCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZUNvdW50eUxpc3QucHVzaCh7IHN0YXRlX2FiYnJldjogZXZlbnRTaXRlc1tjaV0uc3RhdGUsIGNvdW50eV9uYW1lOiBldmVudFNpdGVzW2NpXS5jb3VudHksIHN0YXRlX2lkOiBhbGxTdGF0ZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnN0YXRlX2FiYnJldiA9PSBldmVudFNpdGVzW2NpXS5zdGF0ZTsgfSlbMF0uc3RhdGVfaWQgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAvL2ZpbHRlciBjb3VudGllcyBieSBzdGF0ZSBjaG9zZW5cclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuc3RhdGVOYW1lICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNTdGF0ZSA9ICRzY29wZS5ldmVudFN0YXRlcy5maWx0ZXIoZnVuY3Rpb24gKHN0KSB7IHJldHVybiBzdC5zdGF0ZV9hYmJyZXYgPT0gJHNjb3BlLnppcEZpbGVQYXJhbXMuc3RhdGVOYW1lOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9vbmx5IHNob3cgY291bnRpZXMgdGhhdCBhcmUgb24gdGhlIHNpdGVzIGZvciB0aGlzIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9ICRzY29wZS5zaXRlQ291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9saXN0IG9mIGZpbGUgdHlwZXMgZm9yIGh3bVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkhXTWZpbGVUeXBlcyA9IGZpbGVUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGhmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vUGhvdG8gKDEpLCBIaXN0b3JpYyAoMyksIEZpZWxkIFNoZWV0cyAoNCksIExldmVsIE5vdGVzICg1KSwgT3RoZXIgKDcpLCBMaW5rICg4KSwgU2tldGNoICgxMClcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGZ0LmZpbGV0eXBlID09PSAnUGhvdG8nIHx8IGhmdC5maWxldHlwZSA9PT0gJ0hpc3RvcmljIENpdGF0aW9uJyB8fCBoZnQuZmlsZXR5cGUgPT09ICdGaWVsZCBTaGVldHMnIHx8IGhmdC5maWxldHlwZSA9PT0gJ0xldmVsIE5vdGVzJyB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZnQuZmlsZXR5cGUgPT09ICdPdGhlcicgfHwgaGZ0LmZpbGV0eXBlID09PSAnU2tldGNoJztcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgLy9saXN0IG9mIGZpbGUgdHlwZXMgZm9yIHNlbnNvcnNcclxuICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JmaWxlVHlwZXMgPSBmaWxlVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzZnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1Bob3RvICgxKSwgRGF0YSAoMiksIEhpc3RvcmljICgzKSwgRmllbGQgU2hlZXRzICg0KSwgTGV2ZWwgTm90ZXMgKDUpLCBPdGhlciAoNyksIExpbmsgKDgpLCBTa2V0Y2ggKDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzZnQuZmlsZXR5cGUgPT09ICdQaG90bycgfHwgc2Z0LmZpbGV0eXBlID09PSAnRGF0YScgfHwgc2Z0LmZpbGV0eXBlID09PSAnSGlzdG9yaWMgQ2l0YXRpb24nIHx8IHNmdC5maWxldHlwZSA9PT0gJ0ZpZWxkIFNoZWV0cycgfHwgc2Z0LmZpbGV0eXBlID09PSAnTGV2ZWwgTm90ZXMnIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgc2Z0LmZpbGV0eXBlID09PSAnT3RoZXInIHx8IHNmdC5maWxldHlwZSA9PT0gJ1NrZXRjaCc7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vaHdtIG9yIHNlbnNvciB3YXMgY2hvc2VuLCB1cGRhdGUgZmlsZSB0eXBlIGNoZWNrYm94bGlzdFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVwZGF0ZWZpbGVUeXBlQ2hlY2tzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZGVwZW5kaW5nIG9uIHdoaWNoIHRoZXkgY2hvc2UgKEhXTSBPUiBTRU5TT1IpLCB1cGRhdGUgY2hlY2tib3ggc2NvcGUgbGlzdFxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXNXYW50ZWQgPSBbXTsgdmFyIHNlbnNvckZpbGVUeXBlc1dhbnRlZCA9IFtdOyAvL3Jlc2V0IGVhY2ggdGltZSB0aGlzIGNoYW5nZXNcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuaHdtRmlsZVR5cGVzU3RyaW5nID0gXCJcIjsgJHNjb3BlLnNlbnNvckZpbGVUeXBlc1N0cmluZyA9IFwiXCI7IC8vcmVzZXQgZWFjaCB0aW1lIHRoaXMgY2hhbmdlc1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdW5jaGVjayBhbGwgY2hlY2tib3hlcyBmb3IgaHdtIGFuZCBzZW5zb3IgZmlsZSB0eXBlc1xyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuSFdNZmlsZVR5cGVzLCBmdW5jdGlvbiAoaHdtRlQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtRlQuc2VsZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goJHNjb3BlLnNlbnNvcmZpbGVUeXBlcywgZnVuY3Rpb24gKHNlbkZUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbkZULnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yID09IFwiSFdNc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5maWxlVHlwZUNoZWNrTGlzdCA9ICRzY29wZS5IV01maWxlVHlwZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciA9PSBcIlNlbnNvcnNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZVR5cGVDaGVja0xpc3QgPSAkc2NvcGUuc2Vuc29yZmlsZVR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZmlsZXNXYW50ZWRDaG9zZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vaG9sZGVyIG9mIHN0cmluZyBhcnJheSBvZiBmaWxldHlwZXMgd2FudGVkXHJcblxyXG4gICAgICAgICAgICAgICAgLy9vbmNoZWNrIGV2ZW50XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuY2hlY2tlZEZpbGUgPSBmdW5jdGlvbiAoZikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZmlsZVR5cGUgY2hlY2tlZC91bmNoZWNrZWQgPT0gYWRkL3JlbW92ZSBpdCBmcm9tIHN0cmluZyBhcnJheSB0byBwYXNzIGludG8gdXJsXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yID09IFwiSFdNc1wiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5od21GaWxlVHlwZXNXYW50ZWQgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKCRzY29wZS5IV01maWxlVHlwZXMsIGZ1bmN0aW9uIChoZikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhmLnNlbGVjdGVkKSAkc2NvcGUuaHdtRmlsZVR5cGVzV2FudGVkLnB1c2goaGYuZmlsZXR5cGVfaWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmh3bUZpbGVUeXBlc1N0cmluZyA9ICRzY29wZS5od21GaWxlVHlwZXNXYW50ZWQuam9pbihcIixcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5maWxlc0ZvciA9PSBcIlNlbnNvcnNcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzV2FudGVkID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkc2NvcGUuc2Vuc29yZmlsZVR5cGVzLCBmdW5jdGlvbiAoc2YpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzZi5zZWxlY3RlZCkgJHNjb3BlLnNlbnNvckZpbGVUeXBlc1dhbnRlZC5wdXNoKHNmLmZpbGV0eXBlX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zZW5zb3JGaWxlVHlwZXNTdHJpbmcgPSAkc2NvcGUuc2Vuc29yRmlsZVR5cGVzV2FudGVkLmpvaW4oXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy9kb3dubG9hZCB6aXAgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkRvd25sb2FkWmlwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vbWFrZSBzdXJlIHRoZXkgY2hlY2tlZCBhdCBsZWFzdCB0aGUgaHdtIG9yIHNlbnNvciBjaGVja2JveFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRGcm9tRGF0ZSA9IFwiXCI7IHZhciBmb3JtYXR0ZWRUb0RhdGUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuemlwRmlsZVBhcmFtcy5mcm9tRGF0ZSAhPT0gXCJcIikgZm9ybWF0dGVkRnJvbURhdGUgPSBkYXRlV090aW1lKCRzY29wZS56aXBGaWxlUGFyYW1zLmZyb21EYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMudG9EYXRlICE9PSBcIlwiKSBmb3JtYXR0ZWRUb0RhdGUgPSBkYXRlV090aW1lKCRzY29wZS56aXBGaWxlUGFyYW1zLnRvRGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9FdmVudHMve3thbkV2ZW50LmV2ZW50X2lkfX0vRXZlbnRGaWxlSXRlbXM/U3RhdGU9e3N0YXRlTmFtZX0mQ291bnR5PXtjb3VudHl9JkZyb21EYXRlPXtmcm9tRGF0ZX0mVG9EYXRlPXt0b0RhdGV9JkZpbGVzRm9yPXtmaWxlc0Zvcn0mSFdNRmlsZVR5cGU9e2h3bUZpbGVUeXBlc30mU2Vuc29yRmlsZVR5cGVzPXtzZW5zb3JGaWxlVHlwZXN9XCJcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnppcEZpbGVQYXJhbXMuZmlsZXNGb3IgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVwYXRoID0gJHNjb3BlLnNlcnZlclVSTCArICcvRXZlbnRzLycgKyAkc2NvcGUuYW5FdmVudC5ldmVudF9pZCArICcvRXZlbnRGaWxlSXRlbXM/U3RhdGU9JyArICRzY29wZS56aXBGaWxlUGFyYW1zLnN0YXRlTmFtZSArICcmQ291bnR5PScgKyAkc2NvcGUuemlwRmlsZVBhcmFtcy5jb3VudHlOYW1lICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmRnJvbURhdGU9JyArIGZvcm1hdHRlZEZyb21EYXRlICsgJyZUb0RhdGU9JyArIGZvcm1hdHRlZFRvRGF0ZSArICcmRmlsZXNGb3I9JyArICRzY29wZS56aXBGaWxlUGFyYW1zLmZpbGVzRm9yICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICcmSFdNRmlsZVR5cGU9JyArICRzY29wZS5od21GaWxlVHlwZXNTdHJpbmcgKyAnJlNlbnNvckZpbGVUeXBlcz0nICsgJHNjb3BlLnNlbnNvckZpbGVUeXBlc1N0cmluZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIub3BlbignR0VUJywgZmlsZXBhdGgpOyAvLyx0cnVlKTsgICAgICAgXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIub3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xvc2VCdXR0b25cIjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwicG9zaXRpb25DbGFzc1wiOiBcInRvYXN0LWJvdHRvbS1yaWdodFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJvbmNsaWNrXCI6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInRpbWVPdXRcIjogXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4dGVuZGVkVGltZU91dFwiOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIud2FybmluZyhcIlppcCBmaWxlIGlzIGRvd25sb2FkaW5nLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IFwiYmxvYlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uLyo7IGNoYXJzZXQ9dXRmLThcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLCAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1c1RleHQgIT09IFwiSW50ZXJuYWwgU2VydmVyIEVycm9yXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZ3NXaU1tZXNzYWdlID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKFwidXNnc3dpbS1tZXNzYWdlc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHVzZ3NXaU1tZXNzYWdlID09IFwiaW5mbzogRmlsZUNvdW50OjAsQ291bnQ6IDBcIikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbCA9ICR1aWJNb2RhbC5vcGVuKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPk5vIEZpbGVzPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+VGhlcmUgYXJlIG5vIGZpbGVzIHRoYXQgbWF0Y2ggeW91ciBxdWVyeS48L3A+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgbmFycm93IHlvdXIgc2VhcmNoIGFuZCB0cnkgYWdhaW4uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5PSzwvYnV0dG9uPjwvZGl2PicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYmxvYiA9IG5ldyBCbG9iKFt4aHIucmVzcG9uc2VdLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXJsQ3JlYXRvciA9IHdpbmRvdy5VUkwgfHwgd2luZG93LndlYmtpdFVSTCB8fCB3aW5kb3cubW96VVJMIHx8IHdpbmRvdy5tc1VSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVVJMID0gdXJsQ3JlYXRvci5jcmVhdGVPYmplY3RVUkwoYmxvYik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL0Jsb2IsIGNsaWVudCBzaWRlIG9iamVjdCBjcmVhdGVkIHRvIHdpdGggaG9sZGluZyBicm93c2VyIHNwZWNpZmljIGRvd25sb2FkIHBvcHVwLCBvbiB0aGUgVVJMIGNyZWF0ZWQgd2l0aCB0aGUgaGVscCBvZiB3aW5kb3cgb2JqLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5zdHlsZSA9IFwiZGlzcGxheTogbm9uZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5ocmVmID0gZmlsZVVSTDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSAnRXZlbnRGaWxlRG93bmxvYWQuemlwJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGEudGFyZ2V0ID0gJ19ibGFuayc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYS5jbGljaygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3NvbWV0aGluZyB3ZW50IHdyb25nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXJyb3JNb2RhbDEgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgY2xhc3M9XCJtb2RhbC1oZWFkZXJcIj48aDMgY2xhc3M9XCJtb2RhbC10aXRsZVwiPkVycm9yPC9oMz48L2Rpdj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Eb3dubG9hZCB3YXMgdW5zdWNjZXNzZnVsLiBQb3NzaWJsZSBjYXVzZSBpcyB0aGF0IHRoZSB6aXAgZmlsZSBpcyB0b28gbGFyZ2UgdG8gZG93bmxvYWQuPC9wPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8cD5QbGVhc2UgbmFycm93IHlvdXIgc2VhcmNoIGFuZCB0cnkgYWdhaW4uPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiAnc20nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeGhyLnNlbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Nob3cgbW9kYWwgc2F5aW5nIHlvdSBtdXN0IGNob29zZSBhdCBsZWFzdCB0aGUgaHdtIG9yIHNlbnNvciB0byBmaWx0ZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhdE1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+WW91IG11c3QgY2hvb3NlIGVpdGhlciBIV00gZmlsZXMgb3IgU2Vuc29yIGZpbGVzIGJlZm9yZSBhIGRvd25sb2FkZWQgemlwIGZpbGUgY2FuIGJlIHJlcXVlc3RlZC48L3A+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1mb290ZXJcIj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJvaygpXCIgbmctY2xpY2s9XCJvaygpXCI+T0s8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5vayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHVpYk1vZGFsSW5zdGFuY2UuZGlzbWlzcygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6ICdzbSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBaaXAgRmlsZSBEb3dubG9hZCBTZWN0aW9uXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XSk7XHJcblxyXG59KCkpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICAndXNlIHN0cmljdCc7XHJcblxyXG4gICAgdmFyIFNldHRpbmdzQ29udHJvbGxlcnMgPSBhbmd1bGFyLm1vZHVsZSgnU2V0dGluZ3NDb250cm9sbGVycycpO1xyXG4gICAgXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V2ZW50SW5mb0N0cmwnLCBbJyRzY29wZScsICckY29va2llcycsICckbG9jYXRpb24nLCAnJGh0dHAnLCAnJHVpYk1vZGFsJywgJyRmaWx0ZXInLCAnRVZFTlQnLCAndGhpc0V2ZW50JyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkY29va2llcywgJGxvY2F0aW9uLCAkaHR0cCwgJHVpYk1vZGFsLCAkZmlsdGVyLCBFVkVOVCwgdGhpc0V2ZW50KSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL2FsbCB0aGluZ3MgYm90aCBuZXcgYW5kIGV4aXN0aW5nIGV2ZW50cyBwYWdlIHdpbGwgbmVlZFxyXG5cclxuICAgICAgICAgICAgICAgIC8vI3JlZ2lvbiBEYXRlcGlja2VyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZGF0ZXBpY2tycyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm9wZW4gPSBmdW5jdGlvbiAoJGV2ZW50LCB3aGljaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmRhdGVwaWNrcnNbd2hpY2hdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAvLyRzY29wZS5mb3JtYXQgPSAnTU1NIGRkLCB5eXl5JztcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBEYXRlcGlja2VyXHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQgPSB7fTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyNyZWdpb24gREVMRVRFIEV2ZW50IGNsaWNrXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuRGVsZXRlRXZlbnQgPSBmdW5jdGlvbiAoZXYpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAncmVtb3ZlbW9kYWwuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdDb25maXJtTW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZVRvUmVtb3ZlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV2O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoYXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJFdmVudFwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgbW9kYWxJbnN0YW5jZS5yZXN1bHQudGhlbihmdW5jdGlvbiAobmFtZVRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8veWVzLCByZW1vdmUgdGhpcyBrZXl3b3JkXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL0RFTEVURSBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBFVkVOVC5kZWxldGUoeyBpZDogbmFtZVRvUmVtb3ZlLmV2ZW50X2lkIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWxFdiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsRXYuZXZlbnRfaWQgPSBuYW1lVG9SZW1vdmUuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5OYW1lID0gbmFtZVRvUmVtb3ZlLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5UeXBlID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gbmFtZVRvUmVtb3ZlLmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5TdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IG5hbWVUb1JlbW92ZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9ICRzY29wZS5ldmVudENvb3JkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IG5hbWVUb1JlbW92ZS5ldmVudF9jb29yZGluYXRvcjsgfSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5TdGFydERhdGUgPSBuYW1lVG9SZW1vdmUuZXZlbnRfc3RhcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbEV2LkVuZERhdGUgPSBuYW1lVG9SZW1vdmUuZXZlbnRfZW5kX2RhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxFdi5Db29yZCA9IGNvb3JkICE9PSB1bmRlZmluZWQgPyBjb29yZC5mbmFtZSArIFwiIFwiICsgY29vcmQubG5hbWUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgJHNjb3BlLmV2ZW50TGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuZXZlbnRMaXN0W2ldLmV2ZW50X2lkID09IGRlbEV2LmV2ZW50X2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9ICRzY29wZS5ldmVudExpc3QubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3Quc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgRGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gZXJyb3IoZXJyb3JSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3RyLmVycm9yKFwiRXJyb3I6IFwiICsgZXJyb3JSZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL0V2ZW50cy9FdmVudHNMaXN0JykucmVwbGFjZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAvL2VuZCBtb2RhbFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIC8vI2VuZHJlZ2lvbiBERUxFVEUgRXZlbnQgY2xpY2tcclxuXHJcbiAgICAgICAgICAgICAgICAvL2NhbGxlZCBhIGZldyB0aW1lcyB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSlcclxuICAgICAgICAgICAgICAgIHZhciBtYWtlQWRhdGUgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBhRGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3Byb3ZpZGVkIGRhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgYURhdGUgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gYURhdGUuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbW9udGggPSBhRGF0ZS5nZXRNb250aCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXkgPSAoJzAnICsgYURhdGUuZ2V0RGF0ZSgpKS5zbGljZSgtMik7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoTmFtZXMgPSBbXCJKYW5cIiwgXCJGZWJcIiwgXCJNYXJcIiwgXCJBcHJcIiwgXCJNYXlcIiwgXCJKdW5cIiwgXCJKdWxcIiwgXCJBdWdcIiwgXCJTZXBcIiwgXCJPY3RcIiwgXCJOb3ZcIiwgXCJEZWNcIl07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGVXT3RpbWUgPSBuZXcgRGF0ZShtb250aE5hbWVzW21vbnRoXSArIFwiIFwiICsgZGF5ICsgXCIsIFwiICsgeWVhcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgICAgICB9OyAvL2VuZCBtYWtlQWRhdGUoKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzRXZlbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50ID0gdGhpc0V2ZW50O1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5hbkV2ZW50LmV2ZW50X3N0YXJ0X2RhdGUgPSBtYWtlQWRhdGUoJHNjb3BlLmFuRXZlbnQuZXZlbnRfc3RhcnRfZGF0ZSk7ICRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlID0gbWFrZUFkYXRlKCRzY29wZS5hbkV2ZW50LmV2ZW50X2VuZF9kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUudGhpc0V2ZW50VHlwZSA9ICRzY29wZS5ldmVudFR5cGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoYSkgeyByZXR1cm4gYS5ldmVudF90eXBlX2lkID09IHRoaXNFdmVudC5ldmVudF90eXBlX2lkOyB9KVswXS50eXBlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRXZlbnRTdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IHRoaXNFdmVudC5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgRUMgPSAkc2NvcGUuZXZlbnRDb29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSB0aGlzRXZlbnQuZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS50aGlzRXZlbnRDb29yZCA9IEVDICE9PSB1bmRlZmluZWQgPyBFQy5mbmFtZSArIFwiIFwiICsgRUMubG5hbWUgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgICAgIH0vL2VuZCBpZiB0aGlzRXZlbnQgIT0gbnVsbFxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy90aGlzIGlzIGEgbmV3IGV2ZW50IGJlaW5nIGNyZWF0ZWRcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYW5FdmVudC5ldmVudF9zdGFydF9kYXRlID0gbWFrZUFkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFuRXZlbnQuZXZlbnRfZW5kX2RhdGUgPSBtYWtlQWRhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9Ly9lbmQgLW5ldyBldmVudFxyXG5cclxuICAgICAgICAgICAgICAgIC8vY2hhbmdlIHRvIHRoZSB1c2VyIG1hZGUsIHB1dCBpdCAuLiBmaXJlZCBvbiBlYWNoIGJsdXIgYWZ0ZXIgY2hhbmdlIG1hZGUgdG8gZmllbGRcclxuICAgICAgICAgICAgICAgICRzY29wZS5TYXZlT25CbHVyID0gZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Vuc3VyZSB0aGV5IGRvbid0IGRlbGV0ZSByZXF1aXJlZCBmaWVsZCB2YWx1ZXMgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlQudXBkYXRlKHsgaWQ6ICRzY29wZS5hbkV2ZW50LmV2ZW50X2lkIH0sICRzY29wZS5hbkV2ZW50LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b2FzdHIuc3VjY2VzcyhcIkV2ZW50IFVwZGF0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5lcnJvcihcIkVycm9yOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnJvck1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwibW9kYWwtaGVhZGVyXCI+PGgzIGNsYXNzPVwibW9kYWwtdGl0bGVcIj5FcnJvcjwvaDM+PC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJtb2RhbC1ib2R5XCI+PHA+UGxlYXNlIHBvcHVsYXRlIGFsbCByZXF1aXJlZCBmaWVsZHMuPC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwibW9kYWwtZm9vdGVyXCI+PGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tcHJpbWFyeVwiIG5nLWVudGVyPVwib2soKVwiIG5nLWNsaWNrPVwib2soKVwiPk9LPC9idXR0b24+PC9kaXY+JyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyR1aWJNb2RhbEluc3RhbmNlJywgZnVuY3Rpb24gKCRzY29wZSwgJHVpYk1vZGFsSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy9lcnJvck1vZGFsLnJlc3VsdC50aGVuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgU2F2ZU9uQmx1clxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zYXZlID0gZnVuY3Rpb24gKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEVWRU5ULnNhdmUoJHNjb3BlLmFuRXZlbnQsIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFwiRXZlbnQgQ3JlYXRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vcHVzaCB0aGlzIG5ldyBldmVudCBpbnRvIHRoZSBldmVudExpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBFID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLmV2ZW50X2lkID0gcmVzcG9uc2UuZXZlbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBFLk5hbWUgPSByZXNwb25zZS5ldmVudF9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5UeXBlID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gcmVzcG9uc2UuZXZlbnRfdHlwZV9pZDsgfSlbMF0udHlwZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuU3RhdHVzID0gJHNjb3BlLmV2ZW50U3RhdExpc3QuZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiByLmV2ZW50X3N0YXR1c19pZCA9PSByZXNwb25zZS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb29yZCA9ICRzY29wZS5ldmVudENvb3JkTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMubWVtYmVyX2lkID09IHJlc3BvbnNlLmV2ZW50X2Nvb3JkaW5hdG9yOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuU3RhcnREYXRlID0gcmVzcG9uc2UuZXZlbnRfc3RhcnRfZGF0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEUuRW5kRGF0ZSA9IHJlc3BvbnNlLmV2ZW50X2VuZF9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRS5Db29yZCA9IGNvb3JkICE9PSB1bmRlZmluZWQgPyBjb29yZC5mbmFtZSArIFwiIFwiICsgY29vcmQubG5hbWUgOiBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmV2ZW50TGlzdC5wdXNoKEUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRsb2NhdGlvbi5wYXRoKCcvRXZlbnRzL0V2ZW50c0xpc3QnKS5yZXBsYWNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9Oy8vZW5kICRzY29wZS5zYXZlKClcclxuICAgICAgICAgICAgfS8vZW5kIGVsc2UgKGNoZWNrQ3JlZHMoKSlcclxuICAgICAgICB9XSk7XHJcbiAgICBcclxufSgpKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTZXR0aW5nc0NvbnRyb2xsZXJzID0gYW5ndWxhci5tb2R1bGUoJ1NldHRpbmdzQ29udHJvbGxlcnMnKTtcclxuXHJcbiAgICBTZXR0aW5nc0NvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2V2ZW50Q3RybCcsIFsnJHNjb3BlJywgJyRyb290U2NvcGUnLCAnJGNvb2tpZXMnLCAnJGxvY2F0aW9uJywgJyRodHRwJywgJyRmaWx0ZXInLCAnJHVpYk1vZGFsJywgJ01FTUJFUicsICdGSUxFX1RZUEUnLCAnRVZFTlQnLCAnU1RBVEUnLCAnQ09VTlRJRVMnLCAnYWxsQ29vcmRNZW1iZXJzJywgJ2FsbEV2ZW50cycsICdhbGxFdmVudFR5cGVzJywgJ2FsbEV2ZW50U3RhdHMnLFxyXG4gICAgICAgIGZ1bmN0aW9uICgkc2NvcGUsICRyb290U2NvcGUsICRjb29raWVzLCAkbG9jYXRpb24sICRodHRwLCAkZmlsdGVyLCAkdWliTW9kYWwsIE1FTUJFUiwgRklMRV9UWVBFLCBFVkVOVCwgU1RBVEUsIENPVU5USUVTLCBhbGxDb29yZE1lbWJlcnMsIGFsbEV2ZW50cywgYWxsRXZlbnRUeXBlcywgYWxsRXZlbnRTdGF0cykge1xyXG4gICAgICAgICAgICBpZiAoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYXV0aCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJy9sb2dpbicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS50aGlzUGFnZSA9IFwiU2V0dGluZ3MvRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUubG9nZ2VkSW5Sb2xlID0gJGNvb2tpZXMuZ2V0KCd1c2Vyc1JvbGUnKTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5pc0FkbWluID0gJHNjb3BlLmxvZ2dlZEluUm9sZSA9PSBcIkFkbWluXCIgPyB0cnVlIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gY2hhbmdlIHNvcnRpbmcgb3JkZXJcclxuICAgICAgICAgICAgICAgICRzY29wZS5zb3J0X2J5ID0gZnVuY3Rpb24gKG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUuc29ydGluZ09yZGVyID09IG5ld1NvcnRpbmdPcmRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICEkc2NvcGUucmV2ZXJzZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNvcnRpbmdPcmRlciA9IG5ld1NvcnRpbmdPcmRlcjtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHNldHVwXHJcbiAgICAgICAgICAgICAgICAgICAgJCgndGggaScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpY29uIHJlc2V0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1zb3J0Jyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5yZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJ3RoLicgKyBuZXdTb3J0aW5nT3JkZXIgKyAnIGknKS5yZW1vdmVDbGFzcygpLmFkZENsYXNzKCdnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tdXAnKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd24nKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9jYWxsZWQgYSB0byBmb3JtYXQganVzdCB0aGUgZGF0ZSAobm8gdGltZSkgJzIwMTMtMDUtMTZUMDU6MDA6MDAnXHJcbiAgICAgICAgICAgICAgICB2YXIgbWFrZUFkYXRlID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgVGluZGV4ID0gZC5pbmRleE9mKFwiVFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlRGF0ZSA9IGQuc3Vic3RyaW5nKDAsIFRpbmRleCk7ICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhlRGF0ZTtcclxuICAgICAgICAgICAgICAgIH07Ly9lbmQgbWFrZUFkYXRlKClcclxuXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRUeXBlTGlzdCA9IGFsbEV2ZW50VHlwZXM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRTdGF0TGlzdCA9IGFsbEV2ZW50U3RhdHM7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRDb29yZExpc3QgPSBhbGxDb29yZE1lbWJlcnM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9idWlsZCBldmVudE9iamVjdCBmb3IgZXZlbnRMaXN0IGZvciB0YWJsZSBpbiBldmVudHNMaXN0Lmh0bWxcclxuICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QgPSBbXTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgYWxsRXZlbnRzLmxlbmd0aDsgeCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIEUgPSBhbGxFdmVudHNbeF07XHJcbiAgICAgICAgICAgICAgICAgICAgRS5OYW1lID0gYWxsRXZlbnRzW3hdLmV2ZW50X25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgRS5UeXBlID0gJHNjb3BlLmV2ZW50VHlwZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChhKSB7IHJldHVybiBhLmV2ZW50X3R5cGVfaWQgPT0gYWxsRXZlbnRzW3hdLmV2ZW50X3R5cGVfaWQ7IH0pWzBdLnR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgRS5TdGF0dXMgPSAkc2NvcGUuZXZlbnRTdGF0TGlzdC5maWx0ZXIoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuZXZlbnRfc3RhdHVzX2lkID09IGFsbEV2ZW50c1t4XS5ldmVudF9zdGF0dXNfaWQ7IH0pWzBdLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29vcmQgPSAkc2NvcGUuZXZlbnRDb29yZExpc3QuZmlsdGVyKGZ1bmN0aW9uIChjKSB7IHJldHVybiBjLm1lbWJlcl9pZCA9PSBhbGxFdmVudHNbeF0uZXZlbnRfY29vcmRpbmF0b3I7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgIEUuU3RhcnREYXRlID0gYWxsRXZlbnRzW3hdLmV2ZW50X3N0YXJ0X2RhdGUgIT09IHVuZGVmaW5lZCA/ICBtYWtlQWRhdGUoYWxsRXZlbnRzW3hdLmV2ZW50X3N0YXJ0X2RhdGUpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBFLkVuZERhdGUgPSBhbGxFdmVudHNbeF0uZXZlbnRfZW5kX2RhdGUgIT09IHVuZGVmaW5lZCA/IG1ha2VBZGF0ZShhbGxFdmVudHNbeF0uZXZlbnRfZW5kX2RhdGUpIDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICBFLkNvb3JkID0gY29vcmQgIT09IHVuZGVmaW5lZCA/IGNvb3JkLmZuYW1lICsgXCIgXCIgKyBjb29yZC5sbmFtZSA6IFwiXCI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QucHVzaChFKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvL2NyZWF0ZS92aWV3IG1lbWJlciB3YXMgY2xpY2tlZFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnNob3dFdmVudE1vZGFsID0gZnVuY3Rpb24gKGV2ZW50Q2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbmRleENsaWNrZWQgPSAkc2NvcGUuZXZlbnRMaXN0LmluZGV4T2YoZXZlbnRDbGlja2VkKTtcclxuICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nID0geyBzaG93TG9hZGluZzogdHJ1ZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAvL21vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGFsSW5zdGFuY2UgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnZXZlbnRNb2RhbC5odG1sJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2V2ZW50TW9kYWxDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ2xnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6ICdzdGF0aWMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlib2FyZDogZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiAncmVwLWRpYWxvZycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNFdmVudDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudENsaWNrZWQgIT09IDAgPyBldmVudENsaWNrZWQgOiBcImVtcHR5XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxFdmVudFR5cGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U3RhdHVzTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGxFdmVudFN0YXRzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkbWluTGlzdDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFsbENvb3JkTWVtYmVycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVHlwZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRklMRV9UWVBFLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U2l0ZXM6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50Q2xpY2tlZCAhPT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEVWRU5ULmdldEV2ZW50U2l0ZXMoe2lkOmV2ZW50Q2xpY2tlZC5ldmVudF9pZH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU1RBVEUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ291bnRpZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gQ09VTlRJRVMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsSW5zdGFuY2UucmVzdWx0LnRoZW4oZnVuY3Rpb24gKGNyZWF0ZWRFdmVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2lzIHRoZXJlIGEgbmV3IG9wIG9yIGp1c3QgY2xvc2VkIG1vZGFsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuc3RhdGVJc0xvYWRpbmcgPSB7IHNob3dMb2FkaW5nOiBmYWxzZSB9OyAvL0xvYWRpbmcuLi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRFdmVudCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEV2ZW50WzFdID09ICdjcmVhdGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5ldmVudExpc3QucHVzaChjcmVhdGVkRXZlbnRbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWF0ZWRFdmVudFsxXSA9PT0gJ3VwZGF0ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy91cGRhdGUgdGhlIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0W2luZGV4Q2xpY2tlZF0gPSBjcmVhdGVkRXZlbnRbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEV2ZW50WzFdID09ICdkZWxldGVkJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHZhciBpbmRleENsaWNrZWQxID0gJHNjb3BlLm1lbWJlckxpc3QuaW5kZXhPZihjcmVhdGVkTWVtYmVyWzBdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuZXZlbnRMaXN0LnNwbGljZShpbmRleENsaWNrZWQsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCJcclxuKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qIGNvbnRyb2xsZXJzLmpzLCAnbGVhZmxldC1kaXJlY3RpdmUnJ3VpLnVuaXF1ZScsJ25nVGFnc0lucHV0JywqL1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5Db250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdTVE5Db250cm9sbGVycycpO1xyXG5cclxuICAgIFNUTkNvbnRyb2xsZXJzLmNvbnRyb2xsZXIoJ2FwcHJvdmFsQ3RybCcsIFsnJHNjb3BlJywgJyRzdGF0ZScsICckY29va2llcycsICckcm9vdFNjb3BlJywgJyRsb2NhdGlvbicsICckaHR0cCcsICckdWliTW9kYWwnLCAnc3RhdGVMaXN0JywgJ2NvdW50eUxpc3QnLCAnaW5zdHJ1bWVudExpc3QnLCAnYWxsU2Vuc29yVHlwZXMnLCAnYWxsRGVwVHlwZXMnLCAnaHdtUXVhbExpc3QnLCAnaHdtVHlwZUxpc3QnLCAnSFdNJywgJ0RBVEFfRklMRScsICdJTlNUUlVNRU5UJywgJ1NJVEUnLCAnTUVNQkVSJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkc3RhdGUsICRjb29raWVzLCAkcm9vdFNjb3BlLCAkbG9jYXRpb24sICRodHRwLCAkdWliTW9kYWwsIHN0YXRlTGlzdCwgY291bnR5TGlzdCwgaW5zdHJ1bWVudExpc3QsIGFsbFNlbnNvclR5cGVzLCBhbGxEZXBUeXBlcywgaHdtUXVhbExpc3QsIGh3bVR5cGVMaXN0LCBIV00sIERBVEFfRklMRSwgSU5TVFJVTUVOVCwgU0lURSwgTUVNQkVSKSB7XHJcbiAgICAgICAgICAgIGlmICgkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IHVuZGVmaW5lZCB8fCAkY29va2llcy5nZXQoJ1NUTkNyZWRzJykgPT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgICRzY29wZS5hdXRoID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLnRoaXNQYWdlID0gXCJBcHByb3ZhbFwiO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hY3RpdmVNZW51ID0gXCJhcHByb3ZhbFwiO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGNoYW5nZSBzb3J0aW5nIG9yZGVyXHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc29ydF9ieSA9IGZ1bmN0aW9uIChuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLnNvcnRpbmdPcmRlciA9PSBuZXdTb3J0aW5nT3JkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSAhJHNjb3BlLnJldmVyc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5zb3J0aW5nT3JkZXIgPSBuZXdTb3J0aW5nT3JkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiBzZXR1cFxyXG4gICAgICAgICAgICAgICAgICAgICQoJ3RoIGknKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWNvbiByZXNldFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICgkc2NvcGUucmV2ZXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCd0aC4nICsgbmV3U29ydGluZ09yZGVyICsgJyBpJykucmVtb3ZlQ2xhc3MoKS5hZGRDbGFzcygnZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgndGguJyArIG5ld1NvcnRpbmdPcmRlciArICcgaScpLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoJ2dseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1kb3duJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB3YXRjaCBmb3IgdGhlIHNlc3Npb24gZXZlbnQgdG8gY2hhbmdlIGFuZCB1cGRhdGUgIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKTsgfSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpICE9PSB1bmRlZmluZWQgPyAkY29va2llcy5nZXQoJ1Nlc3Npb25FdmVudE5hbWUnKSA6IFwiQWxsIEV2ZW50c1wiO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgTUVNQkVSLmdldEFsbChmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmFsbE1lbWJlcnMgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtZWJlcnM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgbWVtYmVyczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgfSkuJHByb21pc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbFN0YXRlcyA9IHN0YXRlTGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlMaXN0ID0gY291bnR5TGlzdDtcclxuICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheSA9IFtdOyAvL2hvbGRlciBvZiBzdGF0ZSBjb3VudGllcyAod2lsbCBjaGFuZ2UgYXMgdGhleSBjaGFuZ2Ugc3RhdGUgY2hvaWNlKVxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFsbEluc3RydW1lbnRzID0gaW5zdHJ1bWVudExpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuYWxsU2Vuc29yVHlwZXMgPSBhbGxTZW5zb3JUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5hbGxEZXBsb3ltZW50VHlwZXMgPSBhbGxEZXBUeXBlcztcclxuICAgICAgICAgICAgICAgICRzY29wZS5od21RdWFscyA9IGh3bVF1YWxMaXN0O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmh3bVR5cGVzID0gaHdtVHlwZUxpc3Q7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuQ2hvc2VuRXZlbnQgPSB7fTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW5TdGF0ZSA9IHt9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLkNob3NlbkNvdW50aWVzID0ge307XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZEhXTXMgPSBbXTsgJHNjb3BlLnNob3dIV01ib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkREZzID0gW107ICRzY29wZS5zaG93REZib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5zaXRlc1dPcGVha3MgPSBbXTsgJHNjb3BlLnNob3dQZWFrYm94ID0gZmFsc2U7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5zZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9jbGVhciBjb250ZW50cyBpbiBjYXNlIHRoZXkgYXJlIHNlYXJjaGluZyBtdWx0aXBsZSB0aW1lc1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkSFdNcyA9IFtdOyAkc2NvcGUuc2hvd0hXTWJveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkREZzID0gW107ICRzY29wZS5zaG93REZib3ggPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXNXT3BlYWtzID0gW107ICRzY29wZS5zaG93UGVha2JveCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBldklEID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpICE9PSBudWxsICYmICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50SUQnKSAhPT0gdW5kZWZpbmVkID8gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnRJRCcpIDogMDtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc0lEID0gJHNjb3BlLkNob3NlblN0YXRlLmlkICE9PSB1bmRlZmluZWQgPyAkc2NvcGUuQ2hvc2VuU3RhdGUuaWQgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjaG9zZW5Db3VudGllcyA9ICRzY29wZS5DaG9zZW5Db3VudGllcy5jb3VudGllcyAhPT0gdW5kZWZpbmVkID8gJHNjb3BlLkNob3NlbkNvdW50aWVzLmNvdW50aWVzIDogW107XHJcbiAgICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS5hcHByb3ZhbFNlYXJjaCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRJRDogZXZJRCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVJRDogc0lELFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudGllczogY2hvc2VuQ291bnRpZXNcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8vZ28gZ2V0IHRoZSBIV01zIGFuZCBEYXRhRmlsZXMgdGhhdCBuZWVkIHRvIGJlIGFwcHJvdmVkXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50eU5hbWVzID0gW107XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjaG9zZW5Db3VudGllcywgZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TmFtZXMucHVzaChjLmNvdW50eV9uYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50aWVzQ29tbWFTZXAgPSBjb3VudHlOYW1lcy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQXV0aG9yaXphdGlvbiA9ICdCYXNpYyAnICsgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICBIV00uZ2V0VW5hcHByb3ZlZEhXTXMoeyBJc0FwcHJvdmVkOiAnZmFsc2UnLCBFdmVudDogZXZJRCwgU3RhdGU6IHNJRCwgQ291bnRpZXM6IGNvdW50aWVzQ29tbWFTZXAgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgc2l0ZSBub1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UsIGZ1bmN0aW9uIChoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLnF1ZXJ5KHsgaWQ6IGguc2l0ZV9pZCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChzcmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnNpdGVfbm8gPSBzcmVzcG9uc2Uuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnN0aWxsd2F0ZXIgPSBoLnN0aWxsd2F0ZXIgPiAwID8gXCJZZXNcIiA6IFwiTm9cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnVuQXBwcm92ZWRIV01zLnB1c2goaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93SFdNYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGh3bXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIERBVEFfRklMRS5nZXRVbmFwcHJvdmVkREZzKHsgSXNBcHByb3ZlZDogJ2ZhbHNlJywgRXZlbnQ6IGV2SUQsIFN0YXRlOiBzSUQsIENvdW50aWVzOiBjb3VudGllc0NvbW1hU2VwIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBERnMgPSByZXNwb25zZTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vbmVlZCBzZW5zb3IgYW5kIHNpdGUgaW5mb1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goREZzLCBmdW5jdGlvbiAoZGYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzZGZJbnN0ID0gJHNjb3BlLmFsbEluc3RydW1lbnRzLmZpbHRlcihmdW5jdGlvbiAoaSkgeyByZXR1cm4gaS5pbnN0cnVtZW50X2lkID09IGRmLmluc3RydW1lbnRfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdHRlZERGID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l0ZUlEID0gdGhpc2RmSW5zdC5zaXRlX2lkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuU2l0ZUlkID0gc2l0ZUlEO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuc2VuVHlwZSA9ICRzY29wZS5hbGxTZW5zb3JUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKHMpIHsgcmV0dXJuIHMuc2Vuc29yX3R5cGVfaWQgPT0gdGhpc2RmSW5zdC5zZW5zb3JfdHlwZV9pZDsgfSlbMF0uc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlcFR5cGUgPSAkc2NvcGUuYWxsRGVwbG95bWVudFR5cGVzLmZpbHRlcihmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5kZXBsb3ltZW50X3R5cGVfaWQgPT0gdGhpc2RmSW5zdC5kZXBsb3ltZW50X3R5cGVfaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuZGVwVHlwZSA9IGRlcFR5cGUgIT09IHVuZGVmaW5lZCA/IGRlcFR5cGUubWV0aG9kIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkREYuSW5zdHJJRCA9IHRoaXNkZkluc3QuaW5zdHJ1bWVudF9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNJVEUucXVlcnkoeyBpZDogc2l0ZUlEIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLlNpdGVObyA9IHJlc3BvbnNlMi5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkREZzLnB1c2goZm9ybWF0dGVkREYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93REZib3ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgZGF0YSBmaWxlczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBkYXRhIGZpbGVzOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRQZWFrbGVzc1NpdGVzKHsgaWQ6IGV2SUQgfSwgZnVuY3Rpb24gc3VjY2VzcyhyZXNwMikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2l0ZXNXT3BlYWtzID0gcmVzcDI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5zaG93UGVha2JveCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLkNob3NlblN0YXRlLmlkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aGlzU3RhdGUgPSAkc2NvcGUuYWxsU3RhdGVzLmZpbHRlcihmdW5jdGlvbiAoc3QpIHsgcmV0dXJuIHN0LnN0YXRlX2FiYnJldiA9PSAkc2NvcGUuQ2hvc2VuU3RhdGUuaWQ7IH0pWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSAkc2NvcGUuY291bnR5TGlzdC5maWx0ZXIoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuc3RhdGVfaWQgPT0gdGhpc1N0YXRlLnN0YXRlX2lkOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXkgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLy9pZiB0aGV5IGFyZSBjb21pbmcgYmFjayBoZXJlLCBzZWUgaWYgYSBzZWFyY2ggaGFzIGJlZW4gc3RvcmVkIGxhc3QgdGltZS5cclxuICAgICAgICAgICAgICAgIGlmICgkcm9vdFNjb3BlLmFwcHJvdmFsU2VhcmNoICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc1NlYXJjaCA9ICRyb290U2NvcGUuYXBwcm92YWxTZWFyY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNlc3Npb25FdmVudCA9IE51bWJlcih0aGlzU2VhcmNoLmV2ZW50SUQpO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW5TdGF0ZS5pZCA9IHRoaXNTZWFyY2guc3RhdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NlYXJjaC5zdGF0ZUlEKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcG9wdWxhdGUgdGhlIGNvdW50aWVzIGFycmF5IGZpcnN0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5VcGRhdGVDb3VudGllcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyB0aHJvdWdoIGFsbEhvdXNpbmdUeXBlTGlzdCBhbmQgYWRkIHNlbGVjdGVkIFByb3BlcnR5LlxyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGNhSSA9IDA7IGNhSSA8ICRzY29wZS5jb3VudHlBcnJheS5sZW5ndGg7IGNhSSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9yIGVhY2ggb25lLCBpZiB0aGlzU2l0ZUhvdXNpbmdzIGhhcyB0aGlzIGlkLCBhZGQgJ3NlbGVjdGVkOnRydWUnIGVsc2UgYWRkICdzZWxlY3RlZDpmYWxzZSdcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgY0kgPSAwOyBjSSA8IHRoaXNTZWFyY2guY291bnRpZXMubGVuZ3RoOyBjSSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NlYXJjaC5jb3VudGllc1tjSV0uY291bnR5X2lkID09ICRzY29wZS5jb3VudHlBcnJheVtjYUldLmNvdW50eV9pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheVtjYUldLnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjSSA9IHRoaXNTZWFyY2guY291bnRpZXMubGVuZ3RoOyAvL2Vuc3VyZXMgaXQgZG9lc24ndCBzZXQgaXQgYXMgZmFsc2UgYWZ0ZXIgc2V0dGluZyBpdCBhcyB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuY291bnR5QXJyYXlbY2FJXS5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2VhcmNoLmNvdW50aWVzLmxlbmd0aCA9PT0gMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5jb3VudHlBcnJheVtjYUldLnNlbGVjdGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb3VudHlOYW1lcyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5DaG9zZW5Db3VudGllcy5jb3VudGllcyA9IHRoaXNTZWFyY2guY291bnRpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHRoaXNTZWFyY2guY291bnRpZXMsIGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eU5hbWVzLnB1c2goYy5jb3VudHlfbmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50aWVzQ29tbWFTZXAgPSBjb3VudHlOYW1lcy5qb2luKCcsJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9nbyBnZXQgdGhlIEhXTXMgYW5kIERhdGFGaWxlcyB0aGF0IG5lZWQgdG8gYmUgYXBwcm92ZWRcclxuICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgIEhXTS5nZXRVbmFwcHJvdmVkSFdNcyh7IElzQXBwcm92ZWQ6ICdmYWxzZScsIEV2ZW50OiB0aGlzU2VhcmNoLmV2ZW50SUQsIFN0YXRlOiB0aGlzU2VhcmNoLnN0YXRlSUQsIENvdW50aWVzOiBjb3VudGllc0NvbW1hU2VwIH0sIGZ1bmN0aW9uIHN1Y2Nlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLCBmdW5jdGlvbiAoaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgU0lURS5xdWVyeSh7IGlkOiBoLnNpdGVfaWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAoc3Jlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zaXRlX25vID0gc3Jlc3BvbnNlLnNpdGVfbm87XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zdGlsbHdhdGVyID0gaC5zdGlsbHdhdGVyID4gMCA/IFwiWWVzXCIgOiBcIk5vXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS51bkFwcHJvdmVkSFdNcy5wdXNoKGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgaHdtIHNpdGUgKFwiICsgaC5zaXRlX2lkICsgXCIpOiBcIiArIGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIGh3bSBzaXRlIChcIiArIGguc2l0ZV9pZCArIFwiKTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0hXTWJveCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgaHdtczogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgdW5hcHByb3ZlZCBod21zOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgREFUQV9GSUxFLmdldFVuYXBwcm92ZWRERnMoeyBJc0FwcHJvdmVkOiAnZmFsc2UnLCBFdmVudDogdGhpc1NlYXJjaC5ldmVudElELCBTdGF0ZTogdGhpc1NlYXJjaC5zdGF0ZUlELCBDb3VudGllczogY291bnRpZXNDb21tYVNlcCB9LCBmdW5jdGlvbiBzdWNjZXNzKHJlc3BvbnNlMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgREZzID0gcmVzcG9uc2UxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL25lZWQgc2Vuc29yIGFuZCBzaXRlIGluZm9cclxuICAgICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKERGcywgZnVuY3Rpb24gKGRmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc2RmSW5zdCA9ICRzY29wZS5hbGxJbnN0cnVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGkpIHsgcmV0dXJuIGkuaW5zdHJ1bWVudF9pZCA9PSBkZi5pbnN0cnVtZW50X2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmb3JtYXR0ZWRERiA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpdGVJRCA9IHRoaXNkZkluc3Quc2l0ZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLlNpdGVJZCA9IHNpdGVJRDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLnNlblR5cGUgPSAkc2NvcGUuYWxsU2Vuc29yVHlwZXMuZmlsdGVyKGZ1bmN0aW9uIChzKSB7IHJldHVybiBzLnNlbnNvcl90eXBlX2lkID09IHRoaXNkZkluc3Quc2Vuc29yX3R5cGVfaWQ7IH0pWzBdLnNlbnNvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXBUeXBlID0gJHNjb3BlLmFsbERlcGxveW1lbnRUeXBlcy5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuZGVwbG95bWVudF90eXBlX2lkID09IHRoaXNkZkluc3QuZGVwbG95bWVudF90eXBlX2lkOyB9KVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLmRlcFR5cGUgPSBkZXBUeXBlICE9PSB1bmRlZmluZWQgPyBkZXBUeXBlLm1ldGhvZCA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdHRlZERGLkluc3RySUQgPSB0aGlzZGZJbnN0Lmluc3RydW1lbnRfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTSVRFLnF1ZXJ5KHsgaWQ6IHNpdGVJRCB9KS4kcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZWRERi5TaXRlTm8gPSByZXNwb25zZTIuc2l0ZV9ubztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUudW5BcHByb3ZlZERGcy5wdXNoKGZvcm1hdHRlZERGKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yUmVzcG9uc2UuaGVhZGVycyhbXCJ1c2dzd2ltLW1lc3NhZ2VzXCJdKSAhPT0gdW5kZWZpbmVkKSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGU6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2hvd0RGYm94ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiBlcnJvcihlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyB1bmFwcHJvdmVkIGRhdGEgZmlsZXM6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHVuYXBwcm92ZWQgZGF0YSBmaWxlczogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vb25jZSB0aGV5IGNoZWNrICdhcHByb3ZlJyBjaGVja2JveCwgc2hvdyB0aGUgYXBwcm92ZSB0aGVzZSBidXR0b25cclxuICAgICAgICAgICAgICAgICRzY29wZS5hcHByb3ZlQ2hlY2sgPSBmdW5jdGlvbiAoaEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhBcnJheSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaEFycmF5LnNvbWUoZnVuY3Rpb24gKGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoLnNlbGVjdGVkID09PSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmFwcHJvdmVUaGVzZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwcm92ZU1vZGFsID0gJHVpYk1vZGFsLm9wZW4oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IGNsYXNzPSdtb2RhbC1oZWFkZXInPjxoMyBjbGFzcz0nbW9kYWwtdGl0bGUnPkFwcHJvdmUgSFdNczwvaDM+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcIjxkaXYgY2xhc3M9J21vZGFsLWJvZHknPjxwPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBhcHByb3ZlIHRoZXNlIEhXTXM/IERvaW5nIHNvIHdpbGwgcmVtb3ZlIHRoZW0gZnJvbSB0aGlzIGxpc3Qgb2YgdW5hcHByb3ZlZCBIV01zLjwvcD48L2Rpdj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nbW9kYWwtZm9vdGVyJz48YnV0dG9uIGNsYXNzPSdidG4gYnRuLXByaW1hcnknIG5nLWNsaWNrPSdhcHByb3ZlSXQoKSc+QXBwcm92ZTwvYnV0dG9uPjxidXR0b24gY2xhc3M9J2J0biBidG4td2FybmluZycgbmctY2xpY2s9J2NhbmNlbCgpJz5DYW5jZWw8L2J1dHRvbj48L2Rpdj5cIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCdjYW5jZWwnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuYXBwcm92ZUl0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vZGVsZXRlIHRoZSBzaXRlIGFuZCBhbGwgdGhpbmdzIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcHJvdmVNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gJHNjb3BlLnVuQXBwcm92ZWRIV01zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgZXZlcnlvbmUgdGhhdCBoYXMgLnNlbGVjdGVkID0gdHJ1ZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vcmVtb3ZlIC5zZWxlY3RlZCBwcm9wZXJ0eSwgcmVtb3ZlIHNpdGVfbm8sIGFuZCBjaGFuZ2UgdGhlIHN0aWxsd2F0ZXIgYmFjayB0byAwLzEsIGFwcHJvdmUgaXQsIHdoaWNoIHNob3VsZCByZW1vdmUgaXQgZnJvbSB0aGlzIGxpc3RcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgLy90aGV5IGNsaWNrZWQgdGhlIHNpdGUgbm8gaW4gdGhlIGZpbmlzaGVkIHRhYmxlIFxyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmdvVG9TaXRlRGFzaCA9IGZ1bmN0aW9uIChzaXRlSUQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3Nob3cgd2FybmluZyBtb2RhbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB3YXJuaW5nTW9kYWwgPSAkdWliTW9kYWwub3Blbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cIm1vZGFsLWhlYWRlclwiPjxoMyBjbGFzcz1cIm1vZGFsLXRpdGxlXCI+V2FybmluZyE8L2gzPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWJvZHlcIj48cD5Zb3UgYXJlIGFib3V0IHRvIGxlYXZlIHRoZSBBcHByb3ZhbCBwYWdlIGFuZCBiZSB0YWtlbiB0byB0aGUgU2l0ZSBEYXNoYm9hcmQuPGJyLz5BcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gbGVhdmUgdGhlIEFwcHJvdmFsIHBhZ2U/PC9wPjwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cIm1vZGFsLWZvb3RlclwiPjxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmdcIiBuZy1lbnRlcj1cIm9rKClcIiBuZy1jbGljaz1cIm9rKClcIj5ZZXM8L2J1dHRvbj48YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCIgbmctZW50ZXI9XCJjYW5jZWwoKVwiIG5nLWNsaWNrPVwiY2FuY2VsKClcIj5DYW5jZWw8L2J1dHRvbj48L2Rpdj4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYWNrZHJvcDogJ3N0YXRpYycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5kaXNtaXNzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm9rID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmNsb3NlKHNpdGVJRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogJ3NtJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdNb2RhbC5yZXN1bHQudGhlbihmdW5jdGlvbiAoc2l0ZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnc2l0ZS5kYXNoYm9hcmQnLCB7IGlkOiBzaXRlSWQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IC8vIGVuZCBlbHNlIG5vdCBhdXRoXHJcbiAgICAgICAgfV0pO1xyXG5cclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcblxyXG4gICAgLy9sb29rIHVwIGNvbW1vbiBzZXJ2aWNlIG1vZHVsZSwgYW5kIHJlZ2lzdGVyIHRoZSBuZXcgZmFjdG9yeSB3aXRoIHRoYXQgbW9kdWxlIFxyXG4gICAgdmFyIFNUTlJlc291cmNlID0gYW5ndWxhci5tb2R1bGUoJ1NUTlJlc291cmNlJywgWyduZ1Jlc291cmNlJ10pO1xyXG5cclxuICAgIHZhciByb290VVJMID0gXCJodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXNcIjtcclxuICAgIC8vdmFyIHJvb3RVUkwgPSBcImh0dHBzOi8vc3RudGVzdC53aW0udXNncy5nb3YvU1ROU2VydmljZXMyXCI7XHJcbiAgICAvLyB2YXIgcm9vdFVSTCA9IFwiaHR0cDovL2xvY2FsaG9zdC9TVE5TZXJ2aWNlczJcIjtcclxuXHJcbiAgICAvLyBHRU9DT0RFIGh0dHBzOi8vZ2VvY29kaW5nLmdlby5jZW5zdXMuZ292L2dlb2NvZGVyL2dlb2dyYXBoaWVzL2Nvb3JkaW5hdGVzP2JlbmNobWFyaz00JnZpbnRhZ2U9NCZmb3JtYXQ9anNvblxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnR0VPQ09ERScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvR2VvY29kZS9sb2NhdGlvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBnZXRBZGRyZXNzUGFydHM6IHsgbWV0aG9kOiAnR0VUJywgcGFyYW1zOiB7IExhdGl0dWRlOiAnQExhdGl0dWRlJywgTG9uZ2l0dWRlOiAnQExvbmdpdHVkZScgfSB9IC8veT0yOC4zNTk3NSZ4PS04MS40MjE5ODhcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBBR0VOQ1lcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0FHRU5DWScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvQWdlbmNpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gQ09OVEFDVF9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdDT05UQUNUX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0NvbnRhY3RUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBDT05UQUNUXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdDT05UQUNUJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Db250YWN0cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRDb250YWN0TW9kZWw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gQ09VTlRJRVNcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0NPVU5USUVTJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Db3VudGllcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBEQVRBX0ZJTEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0RBVEFfRklMRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvRGF0YUZpbGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRERkFwcHJvdmFsOiB7IG1ldGhvZDogJ0dFVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRGF0YUZpbGVzLzppZC9BcHByb3ZhbC5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0VW5hcHByb3ZlZERGczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCBjYWNoZTogZmFsc2UgfSwgLy8/SXNBcHByb3ZlZD17YXBwcm92ZWR9JkV2ZW50PXtldmVudElkfSZDb3VudGllcz17Y291bnRpZXN9JlN0YXRlPXtzdGF0ZX1cclxuICAgICAgICAgICAgICAgIGdldEV2ZW50RGF0YVZpZXc6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgY2FjaGU6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL0RhdGFGaWxlVmlldz9FdmVudElkPTpldmVudElkJyB9LFxyXG4gICAgICAgICAgICAgICAgcnVuU3Rvcm1TY3JpcHQ6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9EYXRhRmlsZXMvUnVuU3Rvcm1TY3JpcHQ/U2VhRGF0YUZpbGVJRD06c2VhREZJRCZBaXJEYXRhRmlsZUlEPTphaXJERklEJkhlcnR6PTpoZXJ0eiZVc2VybmFtZT06dXNlcm5hbWUnIH0sXHJcbiAgICAgICAgICAgICAgICBydW5BaXJTY3JpcHQ6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9EYXRhRmlsZXMvUnVuQWlyU2NyaXB0P0FpckRhdGFGaWxlSUQ9OmFpckRGSUQmVXNlcm5hbWU9OnVzZXJuYW1lJyB9LFxyXG4gICAgICAgICAgICAgICAgcnVuQ2hvcHBlclNjcmlwdDogeyBtZXRob2Q6ICdQT1NUJywgdXJsOiByb290VVJMICsgJy9GaWxlcy9SdW5DaG9wcGVyU2NyaXB0JywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSwgLy8/U2Vuc29ySWQ9OnNlbnNvcklkJkZpbGVOYW1lPTpmaWxlTmFtZVxyXG4gICAgICAgICAgICAgICAgYXBwcm92ZURGOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCBwYXJhbXM6IHsgaWQ6ICdAaWQnIH0sIHVybDogcm9vdFVSTCArICcvZGF0YWZpbGVzLzppZC9BcHByb3ZlLmpzb24nIH0sIC8vcG9zdHMgYW4gQVBQUk9WQUwsIHVwZGF0ZXMgdGhlIGRhdGEgZmlsZSB3aXRoIGFwcHJvdmFsX2lkIGFuZCByZXR1cm5zIEFQUFJPVkFMXHJcbiAgICAgICAgICAgICAgICBhcHByb3ZlTldJU0RGOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCBwYXJhbXM6IHsgaWQ6ICdAaWQnIH0sIHVybDogcm9vdFVSTCArICcvZGF0YWZpbGVzLzppZC9OV0lTQXBwcm92ZS5qc29uJyB9LCAvL3Bvc3RzIGFuIEFQUFJPVkFMICh1c2luZyBFdmVudENvb3JkKSwgdXBkYXRlcyB0aGUgZGF0YSBmaWxlIHdpdGggYXBwcm92YWxfaWQgYW5kIHJldHVybnMgQVBQUk9WQUxcclxuICAgICAgICAgICAgICAgIHVuQXBwcm92ZURGOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvZGF0YWZpbGVzLzppZC9VbmFwcHJvdmUuanNvbicgfSwgLy9wb3N0cyBhbiBBUFBST1ZBTCwgdXBkYXRlcyB0aGUgZGF0YWZpbGUgd2l0aCBhcHByb3ZhbF9pZCBhbmQgcmV0dXJucyBBUFBST1ZBTFxyXG4gICAgICAgICAgICAgICAgc3Rvcm1TY3JpcHQ6IHsgbWV0aG9kOiAnR0VUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9EYXRhRmlsZXMvUnVuU2NyaXB0P1NlYURhdGFGaWxlSUQ9OnNlYURhdGFGaWxlSWQmQWlyRGF0YUZpbGVJRD06YWlyRGF0YUZpbGVJZCZIZXJ0ej06aGVydHomVXNlcm5hbWU9dXNlcm5hbWUnIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIERFUExPWU1FTlRfUFJJT1JJVFlcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0RFUExPWU1FTlRfUFJJT1JJVFknLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0RlcGxveW1lbnRQcmlvcml0aWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIERFUExPWU1FTlRfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnREVQTE9ZTUVOVF9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9EZXBsb3ltZW50VHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RGVwU2Vuc1R5cGU6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRGVwbG95bWVudFR5cGVzLzppZC9TZW5zb3JUeXBlLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBFVkVOVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRVZFTlQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0V2ZW50cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnRTaXRlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy86aWQvU2l0ZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldEZpbHRlcmVkRXZlbnRzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvRXZlbnRzL0ZpbHRlcmVkRXZlbnRzLmpzb24nIH0sIC8vP0RhdGU6IG51bGwsIFR5cGU6IDAsIFN0YXRlOiBudWxsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEVWRU5UX1NUQVRVU1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRVZFTlRfU1RBVFVTJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9FdmVudFN0YXR1cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBFVkVOVF9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdFVkVOVF9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9FdmVudFR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEZJTEUgICAgXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdGSUxFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9GaWxlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RmlsZUl0ZW06IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRmlsZXMvOmlkL0l0ZW0nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRURVNUZGF0YTogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL0ZpbGVzL3Rlc3REYXRhRmlsZScgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGxvYWRGaWxlOiB7IG1ldGhvZDogJ1BPU1QnLCB1cmw6IHJvb3RVUkwgKyAnL0ZpbGVzL2J5dGVzJywgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogdW5kZWZpbmVkIH0sIHRyYW5zZm9ybVJlcXVlc3Q6IGFuZ3VsYXIuaWRlbnRpdHksIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkWmlwOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywgcmVzcG9uc2VUeXBlOiAnYXJyYXlidWZmZXInLCBjYWNoZTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvRXZlbnRzLzpldmVudElkL0V2ZW50RmlsZUl0ZW1zJ1xyXG4gICAgICAgICAgICAgICAgfSwvLz9IV01GaWxlcz17aHdtRmlsZXN9JkhXTUZpbGVUeXBlPXtod21GaWxlVHlwZXN9JlNlbnNvckZpbGVzPXtzZW5zb3JGaWxlc30mU2Vuc29yRmlsZVR5cGVzPXtzZW5zb3JGaWxlVHlwZXN9XCJcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBwaG90b0ZpbGVTdGFtcFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnRklMRV9TVEFNUCcsIFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICAgICAgLy9uZWVkIHRvIHVwZGF0ZSB0aGUgbmctc3JjIG9uIHBob3RvIGZpbGVzIGlmIG9uZSBjaGFuZ2VzLCB1cGRhdGUgdGhlIHN0YW1wIHBhcnQgb2YgdGhlIGltYWdlIHRvIHJlZnJlc2ggdGhlIGxpbmsgICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldFN0YW1wOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhbXAgPSAnPycgKyBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGFtcDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0U3RhbXA6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFtcCA9ICc/JyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdmaWxlU3RhbXBTZXQnLCBzdGFtcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gRklMRV9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdGSUxFX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0ZpbGVUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIT1JJWk9OVEFMX0NPTExfTUVUSE9EU1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSE9SSVpPTlRBTF9DT0xMX01FVEhPRFMnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0hvcml6b250YWxNZXRob2RzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhPUklaT05UQUxfREFUVU1cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hPUklaT05UQUxfREFUVU0nLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0hvcml6b250YWxEYXR1bXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSE9VU0lOR19UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIT1VTSU5HX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL0hvdXNpbmdUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIV01cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0hXTScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvaHdtcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnRTdGF0ZUhXTXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9FdmVudHMvOmV2ZW50SWQvc3RhdGVIV01zLmpzb24/U3RhdGU9OnN0YXRlJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnRTaXRlSFdNczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzpzaXRlSWQvRXZlbnRIV01zLmpzb24nIH0sLy8/RXZlbnQ9OmV2ZW50SWRcclxuICAgICAgICAgICAgICAgIGdldEZpbHRlcmVkSFdNczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0hXTXMvRmlsdGVyZWRIV01zLmpzb24nIH0sIC8vRXZlbnQ9e2V2ZW50SWRzfSZFdmVudFR5cGU9e2V2ZW50VHlwZUlEc30mRXZlbnRTdGF0dXM9e2V2ZW50U3RhdHVzSUR9JlN0YXRlcz17c3RhdGVzfSZDb3VudHk9e2NvdW50aWVzfSZIV01UeXBlPXtod21UeXBlSURzfSZIV01RdWFsaXR5PXtod21RdWFsSURzfSZIV01FbnZpcm9ubWVudD17aHdtRW52aXJvbm1lbnR9JlN1cnZleUNvbXBsZXRlPXtzdXJ2ZXlDb21wbGV0ZX0mU3RpbGxXYXRlcj17c3RpbGxXYXRlcn1cclxuICAgICAgICAgICAgICAgIGdldFVuYXBwcm92ZWRIV01zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIGNhY2hlOiBmYWxzZSB9LCAvL0lzQXBwcm92ZWQ9eyd0cnVlJy8nZmFsc2UnfSZFdmVudD17ZXZlbnRJZH0mTWVtYmVyPXttZW1iZXJJZH0mU3RhdGU9e3N0YXRlfVxyXG4gICAgICAgICAgICAgICAgZ2V0SFdNQXBwcm92YWw6IHsgbWV0aG9kOiAnR0VUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9od21zLzppZC9BcHByb3ZhbC5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgYXBwcm92ZUhXTTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSwgcGFyYW1zOiB7IGlkOiAnQGlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL2h3bXMvOmlkL0FwcHJvdmUuanNvbicgfSwgLy9wb3N0cyBhbiBBUFBST1ZBTCwgdXBkYXRlcyB0aGUgSFdNIHdpdGggYXBwcm92YWxfaWQgYW5kIHJldHVybnMgQVBQUk9WQUxcclxuICAgICAgICAgICAgICAgIHVuQXBwcm92ZUhXTTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL2h3bXMvOmlkL1VuYXBwcm92ZS5qc29uJyB9LCAvL3Bvc3RzIGFuIEFQUFJPVkFMLCB1cGRhdGVzIHRoZSBIV00gd2l0aCBhcHByb3ZhbF9pZCBhbmQgcmV0dXJucyBBUFBST1ZBTFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBIV01fU2VydmljZVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSFdNX1NlcnZpY2UnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vd2hlbiBod20gaXMgY3JlYXRlZCBvciBkZWxldGVkLCB0aGlzIGdldHMgdXBkYXRlZCBzbyB0aGF0IGZpbGVzQ3RybCB3aWxsIHVwZGF0ZSBpdCdzIGxpc3Qgb2Ygc2l0ZUhXTXNcclxuICAgICAgICB2YXIgYWxsU2l0ZUhXTXMgPSBbXTsgdmFyIGJ1bGtTZWFyY2ggPSB7fTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRBbGxTaXRlSFdNczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbFNpdGVIV01zO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRBbGxTaXRlSFdNczogZnVuY3Rpb24gKHNoKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlSFdNcyA9IHNoO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRCdWxrSFdNU2VhcmNoOiBmdW5jdGlvbiAoc2VhcmNoVGVybXMpIHtcclxuICAgICAgICAgICAgICAgIGJ1bGtTZWFyY2ggPSBzZWFyY2hUZXJtcztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZ2V0QnVsa0hXTVNlYXJjaDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1bGtTZWFyY2g7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhXTV9RVUFMSVRZXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIV01fUVVBTElUWScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSFdNUXVhbGl0aWVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIEhXTV9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdIV01fVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSFdNVHlwZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSU5TVFJVTUVOVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnSU5TVFJVTUVOVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSW5zdHJ1bWVudHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldFNlbnNvclZpZXc6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TZW5zb3JWaWV3cy5qc29uJyB9LCAvLz9WaWV3VHlwZT17fSZFdmVudD17fVxyXG4gICAgICAgICAgICAgICAgZ2V0c3RhdHVzSW5zdHJ1bWVudHM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9JbnN0cnVtZW50cy5qc29uJyB9LCAvL0N1cnJlbnRTdGF0dXM6IDEsIEV2ZW50OiAkc2NvcGUuZXZJRCBcclxuICAgICAgICAgICAgICAgIGdldEZ1bGxJbnN0cnVtZW50OiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvSW5zdHJ1bWVudHMvOmlkL0Z1bGxJbnN0cnVtZW50Lmpzb24nIH0sIC8vZ2V0cyBpbnN0cnVtZW50IGFuZCBpdCdzIHN0YXRzIHRvZ2V0aGVyXHJcbiAgICAgICAgICAgICAgICBnZXRJbnN0cnVtZW50U3RhdHVzOiB7IG1ldGhvZDogJ0dFVCcsIHVybDogcm9vdFVSTCArICcvSW5zdHJ1bWVudHMvOmlkL0luc3RydW1lbnRTdGF0dXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gSW5zdHJ1bWVudF9TZXJ2aWNlXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdJbnN0cnVtZW50X1NlcnZpY2UnLCBbZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vd2hlbiBod20gaXMgY3JlYXRlZCBvciBkZWxldGVkLCB0aGlzIGdldHMgdXBkYXRlZCBzbyB0aGF0IGZpbGVzQ3RybCB3aWxsIHVwZGF0ZSBpdCdzIGxpc3Qgb2Ygc2l0ZUhXTXNcclxuICAgICAgICB2YXIgYWxsU2l0ZVNlbnNvcnMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRBbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsbFNpdGVTZW5zb3JzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRBbGxTaXRlU2Vuc29yczogZnVuY3Rpb24gKHNzKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlU2Vuc29ycyA9IHNzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vIElOU1RSVU1FTlRfU1RBVFVTXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdJTlNUUlVNRU5UX1NUQVRVUycsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvSW5zdHJ1bWVudFN0YXR1cy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBJTlNUX0NPTExfQ09ORElUSU9OXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdJTlNUX0NPTExfQ09ORElUSU9OJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9JbnN0ckNvbGxlY3RDb25kaXRpb25zLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIExBTkRPV05FUl9DT05UQUNUXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdMQU5ET1dORVJfQ09OVEFDVCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvTGFuZE93bmVycy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBNYXBfU2l0ZVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnTWFwX1NpdGUnLCBbJ1NJVEUnLCAnJHJvb3RTY29wZScsICckY29va2llcycsIGZ1bmN0aW9uIChTSVRFLCAkcm9vdFNjb3BlLCAkY29va2llcykge1xyXG4gICAgICAgIHZhciBNYXBTaXRlUGFydHMgPSBbXTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZ2V0TWFwU2l0ZVBhcnRzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gTWFwU2l0ZVBhcnRzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXRNYXBTaXRlUGFydHM6IGZ1bmN0aW9uIChzaXRlSWQpIHtcclxuICAgICAgICAgICAgICAgIE1hcFNpdGVQYXJ0cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgU0lURS5xdWVyeSh7IGlkOiBzaXRlSWQgfSkuJHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBNYXBTaXRlUGFydHMucHVzaChyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgU0lURS5nZXRTaXRlUGVha3MoeyBpZDogc2l0ZUlkIH0pLiRwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHBSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXBTaXRlUGFydHMucHVzaChwUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ21hcFNpdGVDbGlja1Jlc3VsdHMnLCBNYXBTaXRlUGFydHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvclJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkgIT09IHVuZGVmaW5lZCkgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlIHBlYWs6IFwiICsgZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB0b2FzdHIuZXJyb3IoXCJFcnJvciBnZXR0aW5nIHNpdGUgcGVhazogXCIgKyBlcnJvclJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JSZXNwb25zZS5oZWFkZXJzKFtcInVzZ3N3aW0tbWVzc2FnZXNcIl0pICE9PSB1bmRlZmluZWQpIHRvYXN0ci5lcnJvcihcIkVycm9yIGdldHRpbmcgc2l0ZTogXCIgKyBlcnJvclJlc3BvbnNlLmhlYWRlcnMoW1widXNnc3dpbS1tZXNzYWdlc1wiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgdG9hc3RyLmVycm9yKFwiRXJyb3IgZ2V0dGluZyBzaXRlOiBcIiArIGVycm9yUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcbiAgICAvLyBNYXBfZmlsdGVyXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdNYXBfRmlsdGVyJywgWyckcm9vdFNjb3BlJywgZnVuY3Rpb24gKCRyb290U2NvcGUpIHtcclxuICAgICAgICB2YXIgZmlsdGVyZWRTaXRlcyA9IFtdO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAvLyBnZXRGaWx0ZXJlZFNpdGVzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIC8vICAgICByZXR1cm4gZmlsdGVyZWRTaXRlcztcclxuICAgICAgICAgICAgLy8gfSxcclxuICAgICAgICAgICAgc2V0RmlsdGVyZWRTaXRlczogZnVuY3Rpb24gKHNpdGVzQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkU2l0ZXMgPSBzaXRlc0FycmF5O1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCdmaWx0ZXJTaXRlc0NsaWNrJywgZmlsdGVyZWRTaXRlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTUFSS0VSXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdNQVJLRVInLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL01hcmtlcnMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTUVNQkVSXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdNRU1CRVInLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL01lbWJlcnMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldFJvbGVNZW1iZXJzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvUm9sZXMvOnJvbGVJZC9NZW1iZXJzLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRFdmVudFBlb3BsZTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy86RXZlbnRpZC9NZW1iZXJzLmpzb24nIH0sXHJcblxyXG4gICAgICAgICAgICAgICAgY2hhbmdlUFc6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvTWVtYmVycy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgYWRkTWVtYmVyOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL01lbWJlcnMvOnBhc3MvYWRkTWVtYmVyJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZU1lbWJlcjogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL01lbWJlcnMvOmlkJyB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTkVUV09SS19OQU1FXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdORVRXT1JLX05BTUUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL05ldHdvcmtOYW1lcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBORVRXT1JLX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ05FVFdPUktfVFlQRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvTmV0d29ya1R5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIE9CSkVDVElWRV9QT0lOVFxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnT0JKRUNUSVZFX1BPSU5UJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9PYmplY3RpdmVQb2ludHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRPUEZpbGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArIFwiL09iamVjdGl2ZVBvaW50cy86aWQvRmlsZXNcIiB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0T1BDb250cm9sczogeyBtZXRob2Q6ICdHRVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArIFwiL09iamVjdGl2ZVBvaW50cy86aWQvT1BDb250cm9scy5qc29uXCIgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBPUF9DT05UUk9MX0lERU5USUZJRVJcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ09QX0NPTlRST0xfSURFTlRJRklFUicsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvT1BDb250cm9sSWRlbnRpZmllcnMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gT1BfTUVBU1VSRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnT1BfTUVBU1VSRScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvT1BNZWFzdXJlbWVudHMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldEluc3RTdGF0T1BNZWFzdXJlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0luc3RydW1lbnRTdGF0dXMvOmluc3RydW1lbnRTdGF0dXNJZC9PUE1lYXN1cmVtZW50cycgfSxcclxuICAgICAgICAgICAgICAgIGdldERhdHVtTG9jYXRpb25PUE1lYXN1cmVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvT2JqZWN0aXZlUG9pbnRzLzpvYmplY3RpdmVQb2ludElkL09QTWVhc3VyZW1lbnRzJyB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBPUF9RVUFMSVRZXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdPUF9RVUFMSVRZJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9PYmplY3RpdmVQb2ludFF1YWxpdGllcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBPUF9UWVBFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdPUF9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9PUFR5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFBFQUtcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1BFQUsnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1BlYWtTdW1tYXJpZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldFBlYWtTdW1tYXJ5REZzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIGNhY2hlOiBmYWxzZSwgdXJsOiByb290VVJMICsgJy9QZWFrU3VtbWFyaWVzLzppZC9EYXRhRmlsZXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gUkVQT1JUXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdSRVBPUlQnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1JlcG9ydGluZ01ldHJpY3MvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UmVwb3J0QnlFdlN0OiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIGdldERhaWx5UmVwb3J0VG90czogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyAnL1JlcG9ydGluZ01ldHJpY3MvRGFpbHlSZXBvcnRUb3RhbHMnIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRNZW1iZXJSZXBvcnRzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvTWVtYmVycy86bWVtYmVySWQvUmVwb3J0cy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0RmlsdGVyZWRSZXBvcnRzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvUmVwb3J0aW5nTWV0cmljcy9GaWx0ZXJlZFJlcG9ydHMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFJlcG9ydHdpdGhDb250YWN0czogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1JlcG9ydFJlc291cmNlL0ZpbHRlcmVkUmVwb3J0TW9kZWwuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFJlcG9ydHNDU1Y6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9SZXBvcnRpbmdNZXRyaWNzL0ZpbHRlcmVkUmVwb3J0cy5jc3YnIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGFkZFJlcG9ydENvbnRhY3Q6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UsIHBhcmFtczogeyBSZXBvcnRJZDogJ0ByZXBvcnRJZCcsIENvbnRhY3RUeXBlSWQ6ICdAY29udGFjdFR5cGVJZCcgfSwgdXJsOiByb290VVJMICsgJy9SZXBvcnRpbmdNZXRyaWNzLzpyZXBvcnRJZC9BZGRDb250YWN0VHlwZS86Y29udGFjdFR5cGVJZCcgfSwgLy9jb250YWN0IGVudGl0eSBpbiBib2R5IFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFJPTEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1JPTEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1JvbGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTRU5TT1JfQlJBTkRcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NFTlNPUl9CUkFORCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvU2Vuc29yQnJhbmRzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNFTlNPUl9ERVBMT1lNRU5UIC0tLSBubyBsb25nZXIgbmVlZGVkIHNpbmNlIFNFTlNPUl9UWVBFIHJldHVybnMgYXMgdGhpcyByZWxhdGlvbnNoaXAgbm93XHJcbiAgICAvL1NUTlJlc291cmNlLmZhY3RvcnkoJ1NFTlNPUl9ERVBMT1lNRU5UJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAvLyAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NlbnNvckRlcGxveW1lbnRzLzppZC5qc29uJyxcclxuICAgIC8vICAgICAgICB7fSwge1xyXG4gICAgLy8gICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAvLyAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sICAgICAgICAgICAgICAgXHJcbiAgICAvLyAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAvLyAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgIC8vICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgLy8gICAgICAgIH0pO1xyXG4gICAgLy99XSk7XHJcblxyXG4gICAgLy8gU0VOU09SX1RZUEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NFTlNPUl9UWVBFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TZW5zb3JUeXBlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LCAvL3RoaXMgcmV0dXJucyBzZW5zb3J0eXBlcyB3aXRoIGxpc3Qgb2YgZGVwbG95bWVudHR5cGVzIGZvciBlYWNoIG9uZVxyXG4gICAgICAgICAgICAgICAgZ2V0U2Vuc29yRGVwbG95bWVudFR5cGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2Vuc29yVHlwZXMvOmlkL0RlcGxveW1lbnRUeXBlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgYWRkU2Vuc29yRGVwbG95bWVudFR5cGU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogdHJ1ZSwgcGFyYW1zOiB7IHNlbnNvclR5cGVJZDogJ0BzZW5zb3JUeXBlSWQnLCBEZXBsb3ltZW50VHlwZUlkOiAnQGRlcGxveW1lbnRUeXBlSWQnIH0sIHVybDogcm9vdFVSTCArICcvU2Vuc29yVHlwZXMvOnNlbnNvclR5cGVJZC9hZGREZXBsb3ltZW50VHlwZScgfSwvLz9EZXBsb3ltZW50VHlwZUlkPXtkZXBsb3ltZW50VHlwZUlkfVwiXHJcbiAgICAgICAgICAgICAgICByZW1vdmVTZW5zb3JEZXBsb3ltZW50VHlwZTogeyBtZXRob2Q6ICdQT1NUJywgaXNBcnJheTogZmFsc2UsIHBhcmFtczogeyBzZW5zb3JUeXBlSWQ6ICdAc2Vuc29yVHlwZUlkJywgRGVwbG95bWVudFR5cGVJZDogJ0BkZXBsb3ltZW50VHlwZUlkJyB9LCB1cmw6IHJvb3RVUkwgKyAnL1NlbnNvclR5cGVzLzpzZW5zb3JUeXBlSWQvcmVtb3ZlRGVwbG95bWVudFR5cGUnIH0sLy8/RGVwbG95bWVudFR5cGVJZD17ZGVwbG95bWVudFR5cGVJZH1cIlxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTSVRFXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTSVRFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TaXRlcy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBzZW5zb3JTY3JpcHRSdW5uaW5nOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IGZhbHNlLCB0cmFuc2Zvcm1SZXNwb25zZTogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIHsgdmFsdWU6IGFuZ3VsYXIuZnJvbUpzb24oZGF0YSkgfSB9LCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9HZXREYXRhRmlsZVNjcmlwdC5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UHJveGltaXR5U2l0ZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgcGFyYW1zOiB7IExhdGl0dWRlOiAnQGxhdGl0dWRlJywgTG9uZ2l0dWRlOiAnQGxvbmdpdHVkZScsIEJ1ZmZlcjogJ0BidWZmZXInIH0gfSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXRTZWFyY2hlZFNpdGU6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogZmFsc2UsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvU2VhcmNoJyB9LCAvLz9ieVNpdGVObz17c2l0ZU5vfSZieVNpdGVOYW1lPXtzaXRlTmFtZX0mYnlTaXRlSWQ9e3NpdGVJZH0gKG9ubHkgZ29pbmcgdG8gcG9wdWxhdGUgMSBvZiB0aGVzZSBwYXJhbXNcclxuICAgICAgICAgICAgICAgIGdldEZpbHRlcmVkU2l0ZXM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy9GaWx0ZXJlZFNpdGVzLmpzb24nIH0sIC8vYWNjZXB0cyBvcHRpb25hbCBwYXJhbWV0ZXJzOiBFdmVudD17ZXZlbnRJZH0mU3RhdGU9e3N0YXRlTmFtZXN9JlNlbnNvclR5cGU9e3NlbnNvclR5cGVJZH0mTmV0d29ya05hbWU9e25ldHdvcmtOYW1lSWR9Jk9QRGVmaW5lZD17b3BEZWZpbmVkfSZIV01Pbmx5PXtod21Pbmx5U2l0ZXN9JiZIV01TdXJ2ZXllZD17c3VydmV5ZWRIV01zfVxyXG4gICAgICAgICAgICAgICAgLy9sYW5kb3duZXJcclxuICAgICAgICAgICAgICAgIGdldFNpdGVMYW5kT3duZXI6IHsgbWV0aG9kOiAnR0VUJywgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvTGFuZE93bmVyLmpzb24nIH0sXHJcbiAgICAgICAgICAgICAgICAvL1NpdGUgTmV0d29ya1R5cGVzXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlTmV0d29ya1R5cGVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOmlkL25ldHdvcmtUeXBlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgcG9zdFNpdGVOZXR3b3JrVHlwZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBwYXJhbXM6IHsgc2l0ZUlkOiAnQHNpdGVJZCcsIE5ldHdvcmtUeXBlSWQ6ICdAbmV0d29ya1R5cGVJZCcgfSwgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86c2l0ZUlkL0FkZE5ldHdvcmtUeXBlJyB9LCAvLz9OZXR3b3JrVHlwZUlkPSB7bmV0d29ya1R5cGVJZH1cclxuICAgICAgICAgICAgICAgIGRlbGV0ZVNpdGVOZXR3b3JrVHlwZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzpzaXRlSWQvcmVtb3ZlTmV0d29ya1R5cGU/TmV0d29ya1R5cGVJZD06bmV0d29ya1R5cGVJZCcgfSxcclxuICAgICAgICAgICAgICAgIC8vU2l0ZSBOZXR3b3JrIE5hbWVzXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlTmV0d29ya05hbWVzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOmlkL25ldHdvcmtOYW1lcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgcG9zdFNpdGVOZXR3b3JrTmFtZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBwYXJhbXM6IHsgc2l0ZUlkOiAnQHNpdGVJZCcsIE5ldHdvcmtOYW1lSWQ6ICdAbmV0d29ya05hbWVJZCcgfSwgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlcy86c2l0ZUlkL0FkZE5ldHdvcmtOYW1lJyB9LCAvLz9OZXR3b3JrTmFtZUlkPSB7bmV0d29ya05hbWVJZH1cclxuICAgICAgICAgICAgICAgIGRlbGV0ZVNpdGVOZXR3b3JrTmFtZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlLCB1cmw6IHJvb3RVUkwgKyAnL3NpdGVzLzpzaXRlSWQvcmVtb3ZlTmV0d29ya05hbWU/TmV0d29ya05hbWVJZD06bmV0d29ya05hbWVJZCcgfSxcclxuICAgICAgICAgICAgICAgIC8vU2l0ZSBIb3VzaW5nc1xyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZUhvdXNpbmdzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvc2l0ZXMvOmlkL1NpdGVIb3VzaW5ncy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgLy8gIHBvc3RTaXRlSG91c2luZzoge21ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6dHJ1ZSwgdXJsOiByb290VVJMICsgJy9zaXRlLzppZC9BZGRTaXRlU2l0ZUhvdXNpbmcuanNvbid9LFxyXG4gICAgICAgICAgICAgICAgLy9TaXRlIFBhcnRzXHJcbiAgICAgICAgICAgICAgICBnZXRTaXRlT1BzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL09iamVjdGl2ZVBvaW50cy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZVNlbnNvcnM6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSwgdXJsOiByb290VVJMICsgJy9TaXRlcy86aWQvU2l0ZUZ1bGxJbnN0cnVtZW50TGlzdC5qc29uJyB9LCAvL2FsbCBpbnN0cnVtZW50cyBhbmQgdGhlaXIgc3RhdHMgdG9nZXRoZXJcclxuICAgICAgICAgICAgICAgIGdldFNpdGVIV01zOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL0hXTXMuanNvbicgfSxcclxuICAgICAgICAgICAgICAgIGdldFNpdGVGaWxlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL1NpdGVzLzppZC9GaWxlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0U2l0ZVBlYWtzOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUsIHVybDogcm9vdFVSTCArICcvU2l0ZXMvOmlkL1BlYWtTdW1tYXJ5Vmlldy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0UGVha2xlc3NTaXRlczogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlLCB1cmw6IHJvb3RVUkwgKyAnL0V2ZW50cy86aWQvUGVha2xlc3NTaXRlcy5qc29uJyB9LFxyXG4gICAgICAgICAgICAgICAgLy9qdXN0IHRoZSBTaXRlXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvLyBJc1NjcmlwdFJ1bm5pbmcgU2VydmljZVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU2l0ZV9TY3JpcHQnLCBbJyRjb29raWVzJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJGNvb2tpZXMsICRyb290U2NvcGUpIHtcclxuICAgICAgICB2YXIgaXNSdW5uaW5nO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGdldElzU2NyaXB0UnVubmluZzogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzUnVubmluZztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0SXNTY3JpcHRSdW5uaW5nOiBmdW5jdGlvbiAocnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgaXNSdW5uaW5nID0gcnVubmluZztcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnc2l0ZURGU2NyaXB0UnVubmluZycsIGlzUnVubmluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU2l0ZV9GaWxlc1xyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU2l0ZV9GaWxlcycsIFsnJGNvb2tpZXMnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkY29va2llcywgJHJvb3RTY29wZSkge1xyXG4gICAgICAgIHZhciBhbGxTaXRlRmlsZXMgPSBbXTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBnZXRBbGxTaXRlRmlsZXM6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhbGxTaXRlRmlsZXM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldEFsbFNpdGVGaWxlczogZnVuY3Rpb24gKHNmKSB7XHJcbiAgICAgICAgICAgICAgICBhbGxTaXRlRmlsZXMgPSBzZjtcclxuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGJyb2FkY2FzdCgnc2l0ZUZpbGVzVXBkYXRlZCcsIGFsbFNpdGVGaWxlcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU1RBVEVcclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ1NUQVRFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9TdGF0ZXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gU0lURV9IT1VTSU5HXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdTSVRFX0hPVVNJTkcnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1NpdGVIb3VzaW5ncy86aWQuanNvbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBxdWVyeToge30sXHJcbiAgICAgICAgICAgICAgICBnZXRBbGw6IHsgbWV0aG9kOiAnR0VUJywgaXNBcnJheTogdHJ1ZSB9LFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIHNhdmU6IHsgbWV0aG9kOiAnUE9TVCcsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfSxcclxuICAgICAgICAgICAgICAgIGRlbGV0ZTogeyBtZXRob2Q6ICdERUxFVEUnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XSk7XHJcbiAgICAvLyBTVEFUVVNfVFlQRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU1RBVFVTX1RZUEUnLCBbJyRyZXNvdXJjZScsIGZ1bmN0aW9uICgkcmVzb3VyY2UpIHtcclxuICAgICAgICByZXR1cm4gJHJlc291cmNlKHJvb3RVUkwgKyAnL1N0YXR1c1R5cGVzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFNPVVJDRVxyXG4gICAgU1ROUmVzb3VyY2UuZmFjdG9yeSgnU09VUkNFJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9Tb3VyY2VzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFZFUlRJQ0FMX0NPTExfTUVUSE9EXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdWRVJUSUNBTF9DT0xMX01FVEhPRCcsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvVmVydGljYWxNZXRob2RzLzppZC5qc29uJyxcclxuICAgICAgICAgICAge30sIHtcclxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fSxcclxuICAgICAgICAgICAgICAgIGdldEFsbDogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICB1cGRhdGU6IHsgbWV0aG9kOiAnUFVUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgc2F2ZTogeyBtZXRob2Q6ICdQT1NUJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9LFxyXG4gICAgICAgICAgICAgICAgZGVsZXRlOiB7IG1ldGhvZDogJ0RFTEVURScsIGNhY2hlOiBmYWxzZSwgaXNBcnJheTogZmFsc2UgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxuICAgIC8vIFZFUlRJQ0FMX0RBVFVNXHJcbiAgICBTVE5SZXNvdXJjZS5mYWN0b3J5KCdWRVJUSUNBTF9EQVRVTScsIFsnJHJlc291cmNlJywgZnVuY3Rpb24gKCRyZXNvdXJjZSkge1xyXG4gICAgICAgIHJldHVybiAkcmVzb3VyY2Uocm9vdFVSTCArICcvVmVydGljYWxEYXR1bXMvOmlkLmpzb24nLFxyXG4gICAgICAgICAgICB7fSwge1xyXG4gICAgICAgICAgICAgICAgcXVlcnk6IHt9LFxyXG4gICAgICAgICAgICAgICAgZ2V0QWxsOiB7IG1ldGhvZDogJ0dFVCcsIGlzQXJyYXk6IHRydWUgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBzYXZlOiB7IG1ldGhvZDogJ1BPU1QnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBkZWxldGU6IHsgbWV0aG9kOiAnREVMRVRFJywgY2FjaGU6IGZhbHNlLCBpc0FycmF5OiBmYWxzZSB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfV0pO1xyXG4gICAgLy8gTG9naW5cclxuICAgIFNUTlJlc291cmNlLmZhY3RvcnkoJ0xvZ2luJywgWyckcmVzb3VyY2UnLCBmdW5jdGlvbiAoJHJlc291cmNlKSB7XHJcbiAgICAgICAgcmV0dXJuICRyZXNvdXJjZShyb290VVJMICsgJy9sb2dpbicsXHJcbiAgICAgICAgICAgIHt9LCB7XHJcbiAgICAgICAgICAgICAgICBsb2dpbjogeyBtZXRob2Q6ICdHRVQnLCBjYWNoZTogZmFsc2UsIGlzQXJyYXk6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgICAgICBnZXROZXdzRmVlZDogeyBtZXRob2Q6ICdHRVQnLCB1cmw6IHJvb3RVUkwgKyBcIi9Db25mbHVlbmNlL1NUTk5ld3NGZWVkXCIgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1dKTtcclxufSkoKTsiLCIoZnVuY3Rpb24gKCkge1xyXG4gICAgJ3VzZSBzdHJpY3QnO1xyXG5cclxuICAgIHZhciBTVE5CdXNpbmVzc1NlcnZpY2VzID0gYW5ndWxhci5tb2R1bGUoJ1NUTkJ1c2luZXNzU2VydmljZXMnLCBbJ25nQ29va2llcyddKTtcclxuXHJcbiAgICAvLyNyZWdpb24gU0VUVEVSU1xyXG4gICAgLy9zZXQgdGhlIGNyZWRlbnRpYWxzIChlbmNvZGVkVG9rZW4sIHVzZXJuYW1lLCB1c2Vyc05hbWUsIHVzZXJzUm9sZSkgIHdoZW4gdXNlciBsb2dzIGluXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ3NldENyZWRzJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodW4sIHB3LCB1c2VyTmFtZSwgdXNlclJvbGUsIHVzZXJJRCkge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSB1bi5jb25jYXQoXCI6XCIsIHB3KTtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU1ROQ3JlZHMgPSB0b2tlbjtcclxuXHJcbiAgICAgICAgICAgICRjb29raWVzLlNUTlVzZXJuYW1lID0gdW47XHJcbiAgICAgICAgICAgICRjb29raWVzLnVzZXJzTmFtZSA9IHVzZXJOYW1lO1xyXG4gICAgICAgICAgICAkY29va2llcy5tSUQgPSB1c2VySUQ7XHJcbiAgICAgICAgICAgIHZhciByb2xlTmFtZTtcclxuICAgICAgICAgICAgc3dpdGNoKHVzZXJSb2xlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIkFkbWluXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgcm9sZU5hbWUgPSBcIk1hbmFnZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiRmllbGRcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICByb2xlTmFtZSA9IFwiUHVibGljXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHJvbGVOYW1lID0gXCJDaXRpemVuTWFuYWdlclwiO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRjb29raWVzLnVzZXJzUm9sZSA9IHJvbGVOYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9zZXQgdGhlIGV2ZW50IHRoZXkgY2hvb3NlIGZyb20gaG9tZSBwYWdlLCBsb29rZWQgZm9yIHRocm91Z2ggb3V0IGFwcFxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdzZXRTZXNzaW9uRXZlbnQnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChldklkLCBldk5hbWUpIHtcclxuICAgICAgICAgICAgJGNvb2tpZXMuU2Vzc2lvbkV2ZW50SUQgPSBldklkO1xyXG4gICAgICAgICAgICAkY29va2llcy5TZXNzaW9uRXZlbnROYW1lID0gZXZOYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9zZXQgdGhlIHRlYW0gdGhleSBjaG9vc2UgZnJvbSBob21lIHBhZ2UsIGxvb2tlZCBmb3IgdGhyb3VnaCBvdXQgYXBwXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ3NldFNlc3Npb25UZWFtJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAodElkLCB0TmFtZSkge1xyXG4gICAgICAgICAgICAkY29va2llcy5TZXNzaW9uVGVhSUQgPSB0SWQ7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNlc3Npb25UZWFtTmFtZSA9IHROYW1lO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdzZXRMb2dnZWRJbicsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICB2YXIgbG9nZ2VkSW4gPSBmYWxzZTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpc0xvZ2dlZEluOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbG9nZ2VkSW47XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNoYW5nZUxvZ2dlZEluOiBmdW5jdGlvbiAoWWVzT3JObykge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VkSW4gPSBZZXNPck5vO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy8jZW5kcmVnaW9uIFNFVFRFUlNcclxuXHJcbiAgICAvLyNyZWdpb24gR0VUVEVSU1xyXG4gICAgLy9jaGVjayB0aGUgc3RhdHVzIG9mIHVzZXIncyBjcmVkZW50aWFscy4gaWYgcmV0dXJuIGZhbHNlID0gcmVkaXJlY3QgdG8gbG9naW4gXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2NoZWNrQ3JlZHMnLCBbJyRjb29raWVzJywgZnVuY3Rpb24gKCRjb29raWVzKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHJldHVyblZhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2YXIgU1ROQ3JlZHMgPSAkY29va2llcy5TVE5DcmVkcztcclxuXHJcbiAgICAgICAgICAgIGlmIChTVE5DcmVkcyAhPT0gdW5kZWZpbmVkICYmIFNUTkNyZWRzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3JldHJpZXZlIHVzZXIncyAndG9rZW4nIGZyb20gY29va2llXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2dldENyZWRzJywgWyckY29va2llcycsIGZ1bmN0aW9uICgkY29va2llcykge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBcIlwiO1xyXG4gICAgICAgICAgICB2YXIgU1ROQ3JlZHMgPSAkY29va2llcy5TVE5DcmVkcztcclxuXHJcbiAgICAgICAgICAgIGlmIChTVE5DcmVkcyAhPT0gdW5kZWZpbmVkICYmIFNUTkNyZWRzICE9PSBcIlwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5WYWwgPSBidG9hKFNUTkNyZWRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9yZXRyaWV2ZSB1c2VyIGZyb20gY29va2llXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2dldFVzZXJzTkFNRScsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHVzZXNOYW1lID0gJGNvb2tpZXMudXNlcnNOYW1lO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXNOYW1lICE9PSB1bmRlZmluZWQgJiYgdXNlc05hbWUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHVzZXNOYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuXHJcbiAgICAvL3JldHJpZXZlIHVzZXJzIElEIGZyb20gY29va2llXHJcbiAgICBTVE5CdXNpbmVzc1NlcnZpY2VzLmZhY3RvcnkoJ2dldFVzZXJJRCcsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHVzZXJJRCA9ICRjb29raWVzLm1JRDtcclxuXHJcbiAgICAgICAgICAgIGlmICh1c2VySUQgIT09IHVuZGVmaW5lZCAmJiB1c2VySUQgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHVzZXJJRDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xyXG4gICAgICAgIH07XHJcbiAgICB9XSk7XHJcblxyXG4gICAgLy9nZXQgdGhlIHVzZXJuYW1lIHRvIHVzZSB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvblxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdnZXRVc2VybmFtZScsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIFNUTlVzZXJuYW1lID0gJGNvb2tpZXMuU1ROVXNlcm5hbWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoU1ROVXNlcm5hbWUgIT09IHVuZGVmaW5lZCAmJiBTVE5Vc2VybmFtZSAhPT0gXCJcIikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuVmFsID0gU1ROVXNlcm5hbWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJldHVyblZhbDtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG5cclxuICAgIC8vZ2V0IHRoZSBSb2xlIHRvIHVzZSB0aHJvdWdob3V0IHRoZSBhcHBsaWNhdGlvblxyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdnZXRVc2VyUm9sZScsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgcmV0dXJuVmFsID0gXCJcIjtcclxuICAgICAgICAgICAgdmFyIHVzZXJSb2xlID0gJGNvb2tpZXMudXNlcnNSb2xlO1xyXG5cclxuICAgICAgICAgICAgaWYgKHVzZXJSb2xlICE9PSB1bmRlZmluZWQgJiYgdXNlclJvbGUgIT09IFwiXCIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IHVzZXJSb2xlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgIH1dKTtcclxuICAgIC8vI2VuZHJlZ2lvbiBHRVRURVJTXHJcblxyXG4gICAgLy9ERUxFVEUvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vZGVsZXRlIHRoZSBjcmVkZW50aWFsc1xyXG4gICAgU1ROQnVzaW5lc3NTZXJ2aWNlcy5mYWN0b3J5KCdkZWxldGVDcmVkcycsIFsnJGNvb2tpZXMnLCBmdW5jdGlvbiAoJGNvb2tpZXMpIHtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkY29va2llcy5TVE5DcmVkcyA9IFwiXCI7XHJcbiAgICAgICAgICAgICRjb29raWVzLlNUTlVzZXJuYW1lID0gXCJcIjtcclxuICAgICAgICAgICAgJGNvb2tpZXMudXNlcnNOYW1lID0gXCJcIjtcclxuICAgICAgICAgICAgJGNvb2tpZXMudXNlcnNSb2xlID0gXCJcIjtcclxuICAgICAgICB9O1xyXG4gICAgfV0pO1xyXG59KSgpOyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuXHJcbiAgICB2YXIgTW9kYWxDb250cm9sbGVycyA9IGFuZ3VsYXIubW9kdWxlKCdNb2RhbENvbnRyb2xsZXJzJyk7XHJcblxyXG4gICAgLy9wb3B1cCBjb25maXJtIGJveFxyXG4gICAgTW9kYWxDb250cm9sbGVycy5jb250cm9sbGVyKCdDb25maXJtTW9kYWxDdHJsJywgWyckc2NvcGUnLCAnJHVpYk1vZGFsSW5zdGFuY2UnLCAnbmFtZVRvUmVtb3ZlJywgJ3doYXQnLCBcclxuICAgICAgICBmdW5jdGlvbiAoJHNjb3BlLCAkdWliTW9kYWxJbnN0YW5jZSwgbmFtZVRvUmVtb3ZlLCB3aGF0KSB7XHJcbiAgICAgICAgICAgIC8vI3JlZ2lvbiBzd2l0Y2ggKGxvbmcpXHJcbiAgICAgICAgICAgIHN3aXRjaCAod2hhdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk1lbWJlclwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZm5hbWUgKyBcIiBcIiArIG5hbWVUb1JlbW92ZS5sbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJFdmVudFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZXZlbnRfbmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJBZ2VuY3lcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmFnZW5jeV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkNvbnRhY3QgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUudHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJEZXBsb3ltZW50IFByaW9yaXR5XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5wcmlvcml0eV9uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkV2ZW50IFN0YXR1c1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuc3RhdHVzO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkZpbGUgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZmlsZXR5cGU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG9yaXpvbnRhbCBDb2xsZWN0aW9uIE1ldGhvZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuaGNvbGxlY3RfbWV0aG9kO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhvcml6b250YWwgRGF0dW1cIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmRhdHVtX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSG91c2luZyBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS50eXBlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiSFdNIFF1YWxpdHlcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmh3bV9xdWFsaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIkhXTSBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5od21fdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJJbnN0cnVtZW50IENvbGxlY3Rpb24gQ29uZGl0aW9uXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5jb25kaXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiTWFya2VyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5tYXJrZXIxO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ldHdvcmsgTmFtZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJPYmplY3RpdmUgUG9pbnQgUXVhbGl0eVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUucXVhbGl0eTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJPYmplY3RpdmUgUG9pbnQgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUub3BfdHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTZW5zb3IgQnJhbmRcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLmJyYW5kX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiRGVwbG95bWVudCBUeXBlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5tZXRob2Q7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU3RhdHVzIFR5cGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJTZW5zb3IgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuc2Vuc29yO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk5ldHdvcmsgVHlwZVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUubmV0d29ya190eXBlX25hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiVmVydGljYWwgQ29sbGVjdGlvbiBNZXRob2RcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gbmFtZVRvUmVtb3ZlLnZjb2xsZWN0X21ldGhvZDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJWZXJ0aWNhbCBEYXR1bVwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUuZGF0dW1fYWJicmV2aWF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcIk9iamVjdGl2ZSBQb2ludFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICRzY29wZS5uYW1lVG9SbXYgPSBuYW1lVG9SZW1vdmUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJIV01cIjpcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYURhdGUgPSBuZXcgRGF0ZShuYW1lVG9SZW1vdmUuZmxhZ19kYXRlKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IGFEYXRlLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1vbnRoID0gYURhdGUuZ2V0TW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gKCcwJyArIGFEYXRlLmdldERhdGUoKSkuc2xpY2UoLTIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtb250aE5hbWVzID0gW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRlV090aW1lID0gbW9udGhOYW1lc1ttb250aF0gKyBcIiBcIiArIGRheSArIFwiLCBcIiArIHllYXI7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gXCJGbGFnZ2VkIG9uOiBcIiArIGRhdGVXT3RpbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIFwiU2Vuc29yXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5kZXBsb3ltZW50VHlwZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJQcm9wb3NlZCBTZW5zb3JcIjpcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gXCJQcm9wb3NlZCBTZW5zb3JcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJGaWxlXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBuYW1lVG9SZW1vdmUubmFtZSAhPT0gdW5kZWZpbmVkIHx8IG5hbWVUb1JlbW92ZS5uYW1lICE9PSBudWxsID8gbmFtZVRvUmVtb3ZlLm5hbWUgOiBuYW1lVG9SZW1vdmUuZmlsZV9kYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBmICE9PSBudWxsIHx8IGYgIT09IHVuZGVmaW5lZCA/IGYgOiBuYW1lVG9SZW1vdmUuZmlsZV9pZDtcclxuICAgICAgICAgICAgICAgICAgICAkc2NvcGUubmFtZVRvUm12ID0gZjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgXCJQZWFrXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVUb1JtdiA9IG5hbWVUb1JlbW92ZS5wZWFrX3N1bW1hcnlfaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8jZW5kcmVnaW9uXHJcblxyXG4gICAgICAgICAgICAkc2NvcGUud2hhdCA9IHdoYXQ7XHJcblxyXG4gICAgICAgICAgICAkc2NvcGUub2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkdWliTW9kYWxJbnN0YW5jZS5jbG9zZShuYW1lVG9SZW1vdmUpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgJHNjb3BlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbEluc3RhbmNlLmRpc21pc3MoJ2NhbmNlbCcpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxufSgpKTsiLCIvKiFcclxuKiBqcXVlcnkuaW5wdXRtYXNrLmJ1bmRsZS5qc1xyXG4qIGh0dHA6Ly9naXRodWIuY29tL1JvYmluSGVyYm90cy9qcXVlcnkuaW5wdXRtYXNrXHJcbiogQ29weXJpZ2h0IChjKSAyMDEwIC0gMjAxNSBSb2JpbiBIZXJib3RzXHJcbiogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIChodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocClcclxuKiBWZXJzaW9uOiAzLjIuNC0xNFxyXG4qL1xyXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcbiFmdW5jdGlvbiAoJCkge1xyXG4gICAgZnVuY3Rpb24gSW5wdXRtYXNrKGFsaWFzLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBJbnB1dG1hc2sgPyAoXCJvYmplY3RcIiA9PSB0eXBlb2YgYWxpYXMgPyBvcHRpb25zID0gYWxpYXMgOiAob3B0aW9ucyA9IG9wdGlvbnMgfHwge30sXHJcbiAgICAgICAgb3B0aW9ucy5hbGlhcyA9IGFsaWFzKSwgdGhpcy5lbCA9IHZvaWQgMCwgdGhpcy5vcHRzID0gJC5leHRlbmQoITAsIHt9LCB0aGlzLmRlZmF1bHRzLCBvcHRpb25zKSxcclxuICAgICAgICB0aGlzLm5vTWFza3NDYWNoZSA9IG9wdGlvbnMgJiYgdm9pZCAwICE9PSBvcHRpb25zLmRlZmluaXRpb25zLCB0aGlzLnVzZXJPcHRpb25zID0gb3B0aW9ucyB8fCB7fSxcclxuICAgICAgICB2b2lkIHJlc29sdmVBbGlhcyh0aGlzLm9wdHMuYWxpYXMsIG9wdGlvbnMsIHRoaXMub3B0cykpIDogbmV3IElucHV0bWFzayhhbGlhcywgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQoZXZlbnROYW1lKSB7XHJcbiAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLCBldk5hbWUgPSBcIm9uXCIgKyBldmVudE5hbWUsIGlzU3VwcG9ydGVkID0gZXZOYW1lIGluIGVsO1xyXG4gICAgICAgIHJldHVybiBpc1N1cHBvcnRlZCB8fCAoZWwuc2V0QXR0cmlidXRlKGV2TmFtZSwgXCJyZXR1cm47XCIpLCBpc1N1cHBvcnRlZCA9IFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZWxbZXZOYW1lXSksXHJcbiAgICAgICAgZWwgPSBudWxsLCBpc1N1cHBvcnRlZDtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGlzSW5wdXRUeXBlU3VwcG9ydGVkKGlucHV0VHlwZSkge1xyXG4gICAgICAgIHZhciBpc1N1cHBvcnRlZCA9IFwidGV4dFwiID09PSBpbnB1dFR5cGUgfHwgXCJ0ZWxcIiA9PT0gaW5wdXRUeXBlIHx8IFwicGFzc3dvcmRcIiA9PT0gaW5wdXRUeXBlO1xyXG4gICAgICAgIGlmICghaXNTdXBwb3J0ZWQpIHtcclxuICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpO1xyXG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsIGlucHV0VHlwZSksIGlzU3VwcG9ydGVkID0gXCJ0ZXh0XCIgPT09IGVsLnR5cGUsIGVsID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGlzU3VwcG9ydGVkO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gcmVzb2x2ZUFsaWFzKGFsaWFzU3RyLCBvcHRpb25zLCBvcHRzKSB7XHJcbiAgICAgICAgdmFyIGFsaWFzRGVmaW5pdGlvbiA9IG9wdHMuYWxpYXNlc1thbGlhc1N0cl07XHJcbiAgICAgICAgcmV0dXJuIGFsaWFzRGVmaW5pdGlvbiA/IChhbGlhc0RlZmluaXRpb24uYWxpYXMgJiYgcmVzb2x2ZUFsaWFzKGFsaWFzRGVmaW5pdGlvbi5hbGlhcywgdm9pZCAwLCBvcHRzKSxcclxuICAgICAgICAkLmV4dGVuZCghMCwgb3B0cywgYWxpYXNEZWZpbml0aW9uKSwgJC5leHRlbmQoITAsIG9wdHMsIG9wdGlvbnMpLCAhMCkgOiAobnVsbCA9PT0gb3B0cy5tYXNrICYmIChvcHRzLm1hc2sgPSBhbGlhc1N0ciksXHJcbiAgICAgICAgITEpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaW1wb3J0QXR0cmlidXRlT3B0aW9ucyhucHQsIG9wdHMsIHVzZXJPcHRpb25zKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gaW1wb3J0T3B0aW9uKG9wdGlvbiwgb3B0aW9uRGF0YSkge1xyXG4gICAgICAgICAgICBvcHRpb25EYXRhID0gdm9pZCAwICE9PSBvcHRpb25EYXRhID8gb3B0aW9uRGF0YSA6IG5wdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlucHV0bWFzay1cIiArIG9wdGlvbiksXHJcbiAgICAgICAgICAgIG51bGwgIT09IG9wdGlvbkRhdGEgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG9wdGlvbkRhdGEgJiYgKDAgPT09IG9wdGlvbi5pbmRleE9mKFwib25cIikgPyBvcHRpb25EYXRhID0gd2luZG93W29wdGlvbkRhdGFdIDogXCJmYWxzZVwiID09PSBvcHRpb25EYXRhID8gb3B0aW9uRGF0YSA9ICExIDogXCJ0cnVlXCIgPT09IG9wdGlvbkRhdGEgJiYgKG9wdGlvbkRhdGEgPSAhMCkpLFxyXG4gICAgICAgICAgICBcIm1hc2tcIiA9PT0gb3B0aW9uICYmIDAgPT09IG9wdGlvbkRhdGEuaW5kZXhPZihcIltcIikgPyAodXNlck9wdGlvbnNbb3B0aW9uXSA9IG9wdGlvbkRhdGEucmVwbGFjZSgvW1xcc1tcXF1dL2csIFwiXCIpLnNwbGl0KFwiLFwiKSxcclxuICAgICAgICAgICAgdXNlck9wdGlvbnNbb3B0aW9uXVswXSA9IHVzZXJPcHRpb25zW29wdGlvbl1bMF0ucmVwbGFjZShcIidcIiwgXCJcIiksIHVzZXJPcHRpb25zW29wdGlvbl1bdXNlck9wdGlvbnNbb3B0aW9uXS5sZW5ndGggLSAxXSA9IHVzZXJPcHRpb25zW29wdGlvbl1bdXNlck9wdGlvbnNbb3B0aW9uXS5sZW5ndGggLSAxXS5yZXBsYWNlKFwiJ1wiLCBcIlwiKSkgOiB1c2VyT3B0aW9uc1tvcHRpb25dID0gb3B0aW9uRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBvcHRpb24sIGRhdGFvcHRpb25zLCBvcHRpb25EYXRhLCBhdHRyT3B0aW9ucyA9IG5wdC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWlucHV0bWFza1wiKTtcclxuICAgICAgICBhdHRyT3B0aW9ucyAmJiBcIlwiICE9PSBhdHRyT3B0aW9ucyAmJiAoYXR0ck9wdGlvbnMgPSBhdHRyT3B0aW9ucy5yZXBsYWNlKG5ldyBSZWdFeHAoXCInXCIsIFwiZ1wiKSwgJ1wiJyksXHJcbiAgICAgICAgZGF0YW9wdGlvbnMgPSBKU09OLnBhcnNlKFwie1wiICsgYXR0ck9wdGlvbnMgKyBcIn1cIikpO1xyXG4gICAgICAgIGZvciAob3B0aW9uIGluIG9wdHMpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gdm9pZCAwO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBkYXRhb3B0aW9ucykgaWYgKHAudG9Mb3dlckNhc2UoKSA9PT0gb3B0aW9uLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBvcHRpb25EYXRhID0gZGF0YW9wdGlvbnNbcF07XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW1wb3J0T3B0aW9uKG9wdGlvbiwgb3B0aW9uRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1c2VyT3B0aW9ucy5hbGlhcykge1xyXG4gICAgICAgICAgICByZXNvbHZlQWxpYXModXNlck9wdGlvbnMuYWxpYXMsIHVzZXJPcHRpb25zLCBvcHRzKTtcclxuICAgICAgICAgICAgZm9yIChvcHRpb24gaW4gb3B0cykgaW1wb3J0T3B0aW9uKG9wdGlvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAkLmV4dGVuZCghMCwgb3B0cywgdXNlck9wdGlvbnMpLCBvcHRzO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gZ2VuZXJhdGVNYXNrU2V0KG9wdHMsIG5vY2FjaGUpIHtcclxuICAgICAgICBmdW5jdGlvbiBhbmFseXNlTWFzayhtYXNrKSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIE1hc2tUb2tlbihpc0dyb3VwLCBpc09wdGlvbmFsLCBpc1F1YW50aWZpZXIsIGlzQWx0ZXJuYXRvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gW10sIHRoaXMuaXNHcm91cCA9IGlzR3JvdXAgfHwgITEsIHRoaXMuaXNPcHRpb25hbCA9IGlzT3B0aW9uYWwgfHwgITEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzUXVhbnRpZmllciA9IGlzUXVhbnRpZmllciB8fCAhMSwgdGhpcy5pc0FsdGVybmF0b3IgPSBpc0FsdGVybmF0b3IgfHwgITEsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnF1YW50aWZpZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWluOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1heDogMVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiBpbnNlcnRUZXN0RGVmaW5pdGlvbihtdG9rZW4sIGVsZW1lbnQsIHBvc2l0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza2RlZiA9IG9wdHMuZGVmaW5pdGlvbnNbZWxlbWVudF07XHJcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHZvaWQgMCAhPT0gcG9zaXRpb24gPyBwb3NpdGlvbiA6IG10b2tlbi5tYXRjaGVzLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgIHZhciBwcmV2TWF0Y2ggPSBtdG9rZW4ubWF0Y2hlc1twb3NpdGlvbiAtIDFdO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hc2tkZWYgJiYgIWVzY2FwZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXNrZGVmLnBsYWNlaG9sZGVyID0gJC5pc0Z1bmN0aW9uKG1hc2tkZWYucGxhY2Vob2xkZXIpID8gbWFza2RlZi5wbGFjZWhvbGRlcihvcHRzKSA6IG1hc2tkZWYucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcHJldmFsaWRhdG9ycyA9IG1hc2tkZWYucHJldmFsaWRhdG9yLCBwcmV2YWxpZGF0b3JzTCA9IHByZXZhbGlkYXRvcnMgPyBwcmV2YWxpZGF0b3JzLmxlbmd0aCA6IDAsIGkgPSAxOyBpIDwgbWFza2RlZi5jYXJkaW5hbGl0eTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcmV2YWxpZGF0b3IgPSBwcmV2YWxpZGF0b3JzTCA+PSBpID8gcHJldmFsaWRhdG9yc1tpIC0gMV0gOiBbXSwgdmFsaWRhdG9yID0gcHJldmFsaWRhdG9yLnZhbGlkYXRvciwgY2FyZGluYWxpdHkgPSBwcmV2YWxpZGF0b3IuY2FyZGluYWxpdHk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbjogdmFsaWRhdG9yID8gXCJzdHJpbmdcIiA9PSB0eXBlb2YgdmFsaWRhdG9yID8gbmV3IFJlZ0V4cCh2YWxpZGF0b3IpIDogbmV3IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRlc3QgPSB2YWxpZGF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KCkgOiBuZXcgUmVnRXhwKFwiLlwiKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiBjYXJkaW5hbGl0eSA/IGNhcmRpbmFsaXR5IDogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0Jsb2NrTWFya2VyOiB2b2lkIDAgPT09IHByZXZNYXRjaCB8fCBwcmV2TWF0Y2guZGVmICE9PSAobWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBtYXNrZGVmLmNhc2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZjogbWFza2RlZi5kZWZpbml0aW9uU3ltYm9sIHx8IGVsZW1lbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbWFza2RlZi5wbGFjZWhvbGRlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2s6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIHByZXZNYXRjaCA9IG10b2tlbi5tYXRjaGVzW3Bvc2l0aW9uIC0gMV07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIG10b2tlbi5tYXRjaGVzLnNwbGljZShwb3NpdGlvbisrLCAwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZuOiBtYXNrZGVmLnZhbGlkYXRvciA/IFwic3RyaW5nXCIgPT0gdHlwZW9mIG1hc2tkZWYudmFsaWRhdG9yID8gbmV3IFJlZ0V4cChtYXNrZGVmLnZhbGlkYXRvcikgOiBuZXcgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXN0ID0gbWFza2RlZi52YWxpZGF0b3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0oKSA6IG5ldyBSZWdFeHAoXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogbWFza2RlZi5jYXJkaW5hbGl0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uYWxpdHk6IG10b2tlbi5pc09wdGlvbmFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogdm9pZCAwID09PSBwcmV2TWF0Y2ggfHwgcHJldk1hdGNoLmRlZiAhPT0gKG1hc2tkZWYuZGVmaW5pdGlvblN5bWJvbCB8fCBlbGVtZW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBtYXNrZGVmLmNhc2luZyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmOiBtYXNrZGVmLmRlZmluaXRpb25TeW1ib2wgfHwgZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG1hc2tkZWYucGxhY2Vob2xkZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2s6IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBtdG9rZW4ubWF0Y2hlcy5zcGxpY2UocG9zaXRpb24rKywgMCwge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiBtdG9rZW4uaXNPcHRpb25hbCxcclxuICAgICAgICAgICAgICAgICAgICBuZXdCbG9ja01hcmtlcjogdm9pZCAwID09PSBwcmV2TWF0Y2ggfHwgcHJldk1hdGNoLmRlZiAhPT0gZWxlbWVudCxcclxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBlbGVtZW50LFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiB2b2lkIDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWFzazogZWxlbWVudFxyXG4gICAgICAgICAgICAgICAgfSksIGVzY2FwZWQgPSAhMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiB2ZXJpZnlHcm91cE1hcmtlcihsYXN0TWF0Y2gsIGlzT3Blbkdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0TWF0Y2guaXNHcm91cCAmJiAobGFzdE1hdGNoLmlzR3JvdXAgPSAhMSwgaW5zZXJ0VGVzdERlZmluaXRpb24obGFzdE1hdGNoLCBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0LCAwKSxcclxuICAgICAgICAgICAgICAgIGlzT3Blbkdyb3VwICE9PSAhMCAmJiBpbnNlcnRUZXN0RGVmaW5pdGlvbihsYXN0TWF0Y2gsIG9wdHMuZ3JvdXBtYXJrZXIuZW5kKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gbWFza0N1cnJlbnRUb2tlbihtLCBjdXJyZW50VG9rZW4sIGxhc3RNYXRjaCwgZXh0cmFDb25kaXRpb24pIHtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IDAgJiYgKHZvaWQgMCA9PT0gZXh0cmFDb25kaXRpb24gfHwgZXh0cmFDb25kaXRpb24pICYmIChsYXN0TWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlc1tjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgIHZlcmlmeUdyb3VwTWFya2VyKGxhc3RNYXRjaCkpLCBpbnNlcnRUZXN0RGVmaW5pdGlvbihjdXJyZW50VG9rZW4sIG0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGRlZmF1bHRDYXNlKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLCBtYXNrQ3VycmVudFRva2VuKG0sIGN1cnJlbnRPcGVuaW5nVG9rZW4sIGxhc3RNYXRjaCwgIWN1cnJlbnRPcGVuaW5nVG9rZW4uaXNBbHRlcm5hdG9yKSxcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLmlzQWx0ZXJuYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdG9yID0gb3BlbmVuaW5ncy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIGFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5lbmluZ3MubGVuZ3RoID4gMCA/IChjdXJyZW50T3BlbmluZ1Rva2VuID0gb3BlbmVuaW5nc1tvcGVuZW5pbmdzLmxlbmd0aCAtIDFdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50T3BlbmluZ1Rva2VuLm1hdGNoZXMucHVzaChhbHRlcm5hdG9yKSkgOiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBtYXNrQ3VycmVudFRva2VuKG0sIGN1cnJlbnRUb2tlbiwgbGFzdE1hdGNoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmdW5jdGlvbiByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbikge1xyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gcmV2ZXJzZVN0YXRpYyhzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdCA9PT0gb3B0cy5vcHRpb25hbG1hcmtlci5zdGFydCA/IHN0ID0gb3B0cy5vcHRpb25hbG1hcmtlci5lbmQgOiBzdCA9PT0gb3B0cy5vcHRpb25hbG1hcmtlci5lbmQgPyBzdCA9IG9wdHMub3B0aW9uYWxtYXJrZXIuc3RhcnQgOiBzdCA9PT0gb3B0cy5ncm91cG1hcmtlci5zdGFydCA/IHN0ID0gb3B0cy5ncm91cG1hcmtlci5lbmQgOiBzdCA9PT0gb3B0cy5ncm91cG1hcmtlci5lbmQgJiYgKHN0ID0gb3B0cy5ncm91cG1hcmtlci5zdGFydCksXHJcbiAgICAgICAgICAgICAgICAgICAgc3Q7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtYXNrVG9rZW4ubWF0Y2hlcyA9IG1hc2tUb2tlbi5tYXRjaGVzLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIG1hdGNoIGluIG1hc2tUb2tlbi5tYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGludE1hdGNoID0gcGFyc2VJbnQobWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0uaXNRdWFudGlmaWVyICYmIG1hc2tUb2tlbi5tYXRjaGVzW2ludE1hdGNoICsgMV0gJiYgbWFza1Rva2VuLm1hdGNoZXNbaW50TWF0Y2ggKyAxXS5pc0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBxdCA9IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza1Rva2VuLm1hdGNoZXMuc3BsaWNlKG1hdGNoLCAxKSwgbWFza1Rva2VuLm1hdGNoZXMuc3BsaWNlKGludE1hdGNoICsgMSwgMCwgcXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IG1hc2tUb2tlbi5tYXRjaGVzW21hdGNoXS5tYXRjaGVzID8gbWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdID0gcmV2ZXJzZVRva2VucyhtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0pIDogbWFza1Rva2VuLm1hdGNoZXNbbWF0Y2hdID0gcmV2ZXJzZVN0YXRpYyhtYXNrVG9rZW4ubWF0Y2hlc1ttYXRjaF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hc2tUb2tlbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBtYXRjaCwgbSwgb3BlbmluZ1Rva2VuLCBjdXJyZW50T3BlbmluZ1Rva2VuLCBhbHRlcm5hdG9yLCBsYXN0TWF0Y2gsIGdyb3VwVG9rZW4sIHRva2VuaXplciA9IC8oPzpbPyorXXxcXHtbMC05XFwrXFwqXSsoPzosWzAtOVxcK1xcKl0qKT9cXH0pfFteLj8qK14ke1tdKCl8XFxcXF0rfC4vZywgZXNjYXBlZCA9ICExLCBjdXJyZW50VG9rZW4gPSBuZXcgTWFza1Rva2VuKCksIG9wZW5lbmluZ3MgPSBbXSwgbWFza1Rva2VucyA9IFtdOyBtYXRjaCA9IHRva2VuaXplci5leGVjKG1hc2spIDspIGlmIChtID0gbWF0Y2hbMF0sXHJcbiAgICAgICAgICAgIGVzY2FwZWQpIGRlZmF1bHRDYXNlKCk7IGVsc2Ugc3dpdGNoIChtLmNoYXJBdCgwKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLmVzY2FwZUNoYXI6XHJcbiAgICAgICAgICAgICAgICAgICAgZXNjYXBlZCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5vcHRpb25hbG1hcmtlci5lbmQ6XHJcbiAgICAgICAgICAgICAgICBjYXNlIG9wdHMuZ3JvdXBtYXJrZXIuZW5kOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzLnBvcCgpLCB2b2lkIDAgIT09IG9wZW5pbmdUb2tlbikgaWYgKG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSwgY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnB1c2gob3BlbmluZ1Rva2VuKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudE9wZW5pbmdUb2tlbi5pc0FsdGVybmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdGVybmF0b3IgPSBvcGVuZW5pbmdzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCBhbHRlcm5hdG9yLm1hdGNoZXMubGVuZ3RoOyBtbmR4KyspIGFsdGVybmF0b3IubWF0Y2hlc1ttbmR4XS5pc0dyb3VwID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLmxlbmd0aCA+IDAgPyAoY3VycmVudE9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRPcGVuaW5nVG9rZW4ubWF0Y2hlcy5wdXNoKGFsdGVybmF0b3IpKSA6IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2goYWx0ZXJuYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChvcGVuaW5nVG9rZW4pOyBlbHNlIGRlZmF1bHRDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLm9wdGlvbmFsbWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgIG9wZW5lbmluZ3MucHVzaChuZXcgTWFza1Rva2VuKCExLCAhMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5ncm91cG1hcmtlci5zdGFydDpcclxuICAgICAgICAgICAgICAgICAgICBvcGVuZW5pbmdzLnB1c2gobmV3IE1hc2tUb2tlbighMCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgIGNhc2Ugb3B0cy5xdWFudGlmaWVybWFya2VyLnN0YXJ0OlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBxdWFudGlmaWVyID0gbmV3IE1hc2tUb2tlbighMSwgITEsICEwKTtcclxuICAgICAgICAgICAgICAgICAgICBtID0gbS5yZXBsYWNlKC9be31dL2csIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtcSA9IG0uc3BsaXQoXCIsXCIpLCBtcTAgPSBpc05hTihtcVswXSkgPyBtcVswXSA6IHBhcnNlSW50KG1xWzBdKSwgbXExID0gMSA9PT0gbXEubGVuZ3RoID8gbXEwIDogaXNOYU4obXFbMV0pID8gbXFbMV0gOiBwYXJzZUludChtcVsxXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKChcIipcIiA9PT0gbXExIHx8IFwiK1wiID09PSBtcTEpICYmIChtcTAgPSBcIipcIiA9PT0gbXExID8gMCA6IDEpLCBxdWFudGlmaWVyLnF1YW50aWZpZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogbXEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG1xMVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIG9wZW5lbmluZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9IG9wZW5lbmluZ3Nbb3BlbmVuaW5ncy5sZW5ndGggLSAxXS5tYXRjaGVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoZXMucG9wKCksIG1hdGNoLmlzR3JvdXAgfHwgKGdyb3VwVG9rZW4gPSBuZXcgTWFza1Rva2VuKCEwKSwgZ3JvdXBUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IGdyb3VwVG9rZW4pLCBtYXRjaGVzLnB1c2gobWF0Y2gpLCBtYXRjaGVzLnB1c2gocXVhbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hdGNoID0gY3VycmVudFRva2VuLm1hdGNoZXMucG9wKCksIG1hdGNoLmlzR3JvdXAgfHwgKGdyb3VwVG9rZW4gPSBuZXcgTWFza1Rva2VuKCEwKSxcclxuICAgICAgICAgICAgICAgICAgICBncm91cFRva2VuLm1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoID0gZ3JvdXBUb2tlbiksIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLFxyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gocXVhbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgY2FzZSBvcHRzLmFsdGVybmF0b3JtYXJrZXI6XHJcbiAgICAgICAgICAgICAgICAgICAgb3BlbmVuaW5ncy5sZW5ndGggPiAwID8gKGN1cnJlbnRPcGVuaW5nVG9rZW4gPSBvcGVuZW5pbmdzW29wZW5lbmluZ3MubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdE1hdGNoID0gY3VycmVudE9wZW5pbmdUb2tlbi5tYXRjaGVzLnBvcCgpKSA6IGxhc3RNYXRjaCA9IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnBvcCgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGxhc3RNYXRjaC5pc0FsdGVybmF0b3IgPyBvcGVuZW5pbmdzLnB1c2gobGFzdE1hdGNoKSA6IChhbHRlcm5hdG9yID0gbmV3IE1hc2tUb2tlbighMSwgITEsICExLCAhMCksXHJcbiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRvci5tYXRjaGVzLnB1c2gobGFzdE1hdGNoKSwgb3BlbmVuaW5ncy5wdXNoKGFsdGVybmF0b3IpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHRDYXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yICg7IG9wZW5lbmluZ3MubGVuZ3RoID4gMDspIG9wZW5pbmdUb2tlbiA9IG9wZW5lbmluZ3MucG9wKCksIHZlcmlmeUdyb3VwTWFya2VyKG9wZW5pbmdUb2tlbiwgITApLFxyXG4gICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG9wZW5pbmdUb2tlbik7XHJcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggPiAwICYmIChsYXN0TWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlc1tjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggLSAxXSxcclxuICAgICAgICAgICAgdmVyaWZ5R3JvdXBNYXJrZXIobGFzdE1hdGNoKSwgbWFza1Rva2Vucy5wdXNoKGN1cnJlbnRUb2tlbikpLCBvcHRzLm51bWVyaWNJbnB1dCAmJiByZXZlcnNlVG9rZW5zKG1hc2tUb2tlbnNbMF0pLFxyXG4gICAgICAgICAgICBtYXNrVG9rZW5zO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZW5lcmF0ZU1hc2sobWFzaywgbWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT09IG1hc2sgfHwgXCJcIiA9PT0gbWFzaykgcmV0dXJuIHZvaWQgMDtcclxuICAgICAgICAgICAgaWYgKDEgPT09IG1hc2subGVuZ3RoICYmIG9wdHMuZ3JlZWR5ID09PSAhMSAmJiAwICE9PSBvcHRzLnJlcGVhdCAmJiAob3B0cy5wbGFjZWhvbGRlciA9IFwiXCIpLFxyXG4gICAgICAgICAgICBvcHRzLnJlcGVhdCA+IDAgfHwgXCIqXCIgPT09IG9wdHMucmVwZWF0IHx8IFwiK1wiID09PSBvcHRzLnJlcGVhdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHJlcGVhdFN0YXJ0ID0gXCIqXCIgPT09IG9wdHMucmVwZWF0ID8gMCA6IFwiK1wiID09PSBvcHRzLnJlcGVhdCA/IDEgOiBvcHRzLnJlcGVhdDtcclxuICAgICAgICAgICAgICAgIG1hc2sgPSBvcHRzLmdyb3VwbWFya2VyLnN0YXJ0ICsgbWFzayArIG9wdHMuZ3JvdXBtYXJrZXIuZW5kICsgb3B0cy5xdWFudGlmaWVybWFya2VyLnN0YXJ0ICsgcmVwZWF0U3RhcnQgKyBcIixcIiArIG9wdHMucmVwZWF0ICsgb3B0cy5xdWFudGlmaWVybWFya2VyLmVuZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbWFza3NldERlZmluaXRpb247XHJcbiAgICAgICAgICAgIHJldHVybiB2b2lkIDAgPT09IElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVttYXNrXSB8fCBub2NhY2hlID09PSAhMCA/IChtYXNrc2V0RGVmaW5pdGlvbiA9IHtcclxuICAgICAgICAgICAgICAgIG1hc2s6IG1hc2ssXHJcbiAgICAgICAgICAgICAgICBtYXNrVG9rZW46IGFuYWx5c2VNYXNrKG1hc2spLFxyXG4gICAgICAgICAgICAgICAgdmFsaWRQb3NpdGlvbnM6IHt9LFxyXG4gICAgICAgICAgICAgICAgX2J1ZmZlcjogdm9pZCAwLFxyXG4gICAgICAgICAgICAgICAgYnVmZmVyOiB2b2lkIDAsXHJcbiAgICAgICAgICAgICAgICB0ZXN0czoge30sXHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogbWV0YWRhdGFcclxuICAgICAgICAgICAgfSwgbm9jYWNoZSAhPT0gITAgJiYgKElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVtvcHRzLm51bWVyaWNJbnB1dCA/IG1hc2suc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBtYXNrXSA9IG1hc2tzZXREZWZpbml0aW9uLFxyXG4gICAgICAgICAgICBtYXNrc2V0RGVmaW5pdGlvbiA9ICQuZXh0ZW5kKCEwLCB7fSwgSW5wdXRtYXNrLnByb3RvdHlwZS5tYXNrc0NhY2hlW29wdHMubnVtZXJpY0lucHV0ID8gbWFzay5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IG1hc2tdKSkpIDogbWFza3NldERlZmluaXRpb24gPSAkLmV4dGVuZCghMCwge30sIElucHV0bWFzay5wcm90b3R5cGUubWFza3NDYWNoZVtvcHRzLm51bWVyaWNJbnB1dCA/IG1hc2suc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBtYXNrXSksXHJcbiAgICAgICAgICAgIG1hc2tzZXREZWZpbml0aW9uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwcmVQcm9jZXNzTWFzayhtYXNrKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrID0gbWFzay50b1N0cmluZygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbXM7XHJcbiAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLm1hc2spICYmIChvcHRzLm1hc2sgPSBvcHRzLm1hc2sob3B0cykpLCAkLmlzQXJyYXkob3B0cy5tYXNrKSkge1xyXG4gICAgICAgICAgICBpZiAob3B0cy5tYXNrLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMua2VlcFN0YXRpYyA9IG51bGwgPT09IG9wdHMua2VlcFN0YXRpYyA/ICEwIDogb3B0cy5rZWVwU3RhdGljO1xyXG4gICAgICAgICAgICAgICAgdmFyIGFsdE1hc2sgPSBcIihcIjtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkLmVhY2gob3B0cy5udW1lcmljSW5wdXQgPyBvcHRzLm1hc2sucmV2ZXJzZSgpIDogb3B0cy5tYXNrLCBmdW5jdGlvbiAobmR4LCBtc2spIHtcclxuICAgICAgICAgICAgICAgICAgICBhbHRNYXNrLmxlbmd0aCA+IDEgJiYgKGFsdE1hc2sgKz0gXCIpfChcIiksIGFsdE1hc2sgKz0gcHJlUHJvY2Vzc01hc2sodm9pZCAwID09PSBtc2subWFzayB8fCAkLmlzRnVuY3Rpb24obXNrLm1hc2spID8gbXNrIDogbXNrLm1hc2spO1xyXG4gICAgICAgICAgICAgICAgfSksIGFsdE1hc2sgKz0gXCIpXCIsIGdlbmVyYXRlTWFzayhhbHRNYXNrLCBvcHRzLm1hc2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wdHMubWFzayA9IG9wdHMubWFzay5wb3AoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdHMubWFzayAmJiAobXMgPSB2b2lkIDAgPT09IG9wdHMubWFzay5tYXNrIHx8ICQuaXNGdW5jdGlvbihvcHRzLm1hc2subWFzaykgPyBnZW5lcmF0ZU1hc2socHJlUHJvY2Vzc01hc2sob3B0cy5tYXNrKSwgb3B0cy5tYXNrKSA6IGdlbmVyYXRlTWFzayhwcmVQcm9jZXNzTWFzayhvcHRzLm1hc2subWFzayksIG9wdHMubWFzaykpLFxyXG4gICAgICAgIG1zO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gbWFza1Njb3BlKGFjdGlvbk9iaiwgbWFza3NldCwgb3B0cykge1xyXG4gICAgICAgIGZ1bmN0aW9uIGdldE1hc2tUZW1wbGF0ZShiYXNlT25JbnB1dCwgbWluaW1hbFBvcywgaW5jbHVkZUlucHV0KSB7XHJcbiAgICAgICAgICAgIG1pbmltYWxQb3MgPSBtaW5pbWFsUG9zIHx8IDA7XHJcbiAgICAgICAgICAgIHZhciBuZHhJbnRsenIsIHRlc3QsIHRlc3RQb3MsIG1hc2tUZW1wbGF0ZSA9IFtdLCBwb3MgPSAwO1xyXG4gICAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYmFzZU9uSW5wdXQgPT09ICEwICYmIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc107XHJcbiAgICAgICAgICAgICAgICAgICAgdGVzdCA9IHZhbGlkUG9zLm1hdGNoLCBuZHhJbnRsenIgPSB2YWxpZFBvcy5sb2NhdG9yLnNsaWNlKCksIG1hc2tUZW1wbGF0ZS5wdXNoKGluY2x1ZGVJbnB1dCA9PT0gITAgPyB2YWxpZFBvcy5pbnB1dCA6IGdldFBsYWNlaG9sZGVyKHBvcywgdGVzdCkpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHRlc3RQb3MgPSBnZXRUZXN0VGVtcGxhdGUocG9zLCBuZHhJbnRsenIsIHBvcyAtIDEpLCB0ZXN0ID0gdGVzdFBvcy5tYXRjaCxcclxuICAgICAgICAgICAgICAgIG5keEludGx6ciA9IHRlc3RQb3MubG9jYXRvci5zbGljZSgpLCBtYXNrVGVtcGxhdGUucHVzaChnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3QpKTtcclxuICAgICAgICAgICAgICAgIHBvcysrO1xyXG4gICAgICAgICAgICB9IHdoaWxlICgodm9pZCAwID09PSBtYXhMZW5ndGggfHwgbWF4TGVuZ3RoID4gcG9zIC0gMSkgJiYgbnVsbCAhPT0gdGVzdC5mbiB8fCBudWxsID09PSB0ZXN0LmZuICYmIFwiXCIgIT09IHRlc3QuZGVmIHx8IG1pbmltYWxQb3MgPj0gcG9zKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tUZW1wbGF0ZS5wb3AoKSwgbWFza1RlbXBsYXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRNYXNrU2V0KCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza3NldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVzZXRNYXNrU2V0KHNvZnQpIHtcclxuICAgICAgICAgICAgdmFyIG1hc2tzZXQgPSBnZXRNYXNrU2V0KCk7XHJcbiAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyID0gdm9pZCAwLCBtYXNrc2V0LnRlc3RzID0ge30sIHNvZnQgIT09ICEwICYmIChtYXNrc2V0Ll9idWZmZXIgPSB2b2lkIDAsXHJcbiAgICAgICAgICAgIG1hc2tzZXQudmFsaWRQb3NpdGlvbnMgPSB7fSwgbWFza3NldC5wID0gMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldExhc3RWYWxpZFBvc2l0aW9uKGNsb3Nlc3RUbywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBtYXNrc2V0ID0gZ2V0TWFza1NldCgpLCBsYXN0VmFsaWRQb3NpdGlvbiA9IC0xLCB2YWxpZHMgPSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICB2b2lkIDAgPT09IGNsb3Nlc3RUbyAmJiAoY2xvc2VzdFRvID0gLTEpO1xyXG4gICAgICAgICAgICB2YXIgYmVmb3JlID0gbGFzdFZhbGlkUG9zaXRpb24sIGFmdGVyID0gbGFzdFZhbGlkUG9zaXRpb247XHJcbiAgICAgICAgICAgIGZvciAodmFyIHBvc05keCBpbiB2YWxpZHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwc05keCA9IHBhcnNlSW50KHBvc05keCk7XHJcbiAgICAgICAgICAgICAgICB2YWxpZHNbcHNOZHhdICYmIChzdHJpY3QgfHwgbnVsbCAhPT0gdmFsaWRzW3BzTmR4XS5tYXRjaC5mbikgJiYgKGNsb3Nlc3RUbyA+PSBwc05keCAmJiAoYmVmb3JlID0gcHNOZHgpLFxyXG4gICAgICAgICAgICAgICAgcHNOZHggPj0gY2xvc2VzdFRvICYmIChhZnRlciA9IHBzTmR4KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWxpZFBvc2l0aW9uID0gLTEgIT09IGJlZm9yZSAmJiBjbG9zZXN0VG8gLSBiZWZvcmUgPiAxIHx8IGNsb3Nlc3RUbyA+IGFmdGVyID8gYmVmb3JlIDogYWZ0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHNldFZhbGlkUG9zaXRpb24ocG9zLCB2YWxpZFRlc3QsIGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICBpZiAob3B0cy5pbnNlcnRNb2RlICYmIHZvaWQgMCAhPT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10gJiYgdm9pZCAwID09PSBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpLCBwb3NpdGlvbnNDbG9uZSA9ICQuZXh0ZW5kKCEwLCB7fSwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zKSwgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IHBvczsgbHZwID49IGk7IGkrKykgZGVsZXRlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXTtcclxuICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID0gdmFsaWRUZXN0O1xyXG4gICAgICAgICAgICAgICAgdmFyIGosIHZhbGlkID0gITAsIHZwcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucztcclxuICAgICAgICAgICAgICAgIGZvciAoaSA9IGogPSBwb3M7IGx2cCA+PSBpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHBvc2l0aW9uc0Nsb25lW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQpIGZvciAodmFyIHBvc01hdGNoID0gaiwgcHJldlBvc01hdGNoID0gLTE7IHBvc01hdGNoIDwgZ2V0TWFza0xlbmd0aCgpICYmIChudWxsID09IHQubWF0Y2guZm4gJiYgdnBzW2ldICYmICh2cHNbaV0ubWF0Y2gub3B0aW9uYWxRdWFudGlmaWVyID09PSAhMCB8fCB2cHNbaV0ubWF0Y2gub3B0aW9uYWxpdHkgPT09ICEwKSB8fCBudWxsICE9IHQubWF0Y2guZm4pIDspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHQubWF0Y2guZm4gfHwgIW9wdHMua2VlcFN0YXRpYyAmJiB2cHNbaV0gJiYgKHZvaWQgMCAhPT0gdnBzW2kgKyAxXSAmJiBnZXRUZXN0cyhpICsgMSwgdnBzW2ldLmxvY2F0b3Iuc2xpY2UoKSwgaSkubGVuZ3RoID4gMSB8fCB2b2lkIDAgIT09IHZwc1tpXS5hbHRlcm5hdGlvbikgPyBwb3NNYXRjaCsrIDogcG9zTWF0Y2ggPSBzZWVrTmV4dChqKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25DYW5NYXRjaERlZmluaXRpb24ocG9zTWF0Y2gsIHQubWF0Y2guZGVmKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWQgPSBpc1ZhbGlkKHBvc01hdGNoLCB0LmlucHV0LCAhMCwgITApICE9PSAhMSwgaiA9IHBvc01hdGNoO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkID0gbnVsbCA9PSB0Lm1hdGNoLmZuLCBwcmV2UG9zTWF0Y2ggPT09IHBvc01hdGNoKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcHJldlBvc01hdGNoID0gcG9zTWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdmFsaWQpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgcG9zaXRpb25zQ2xvbmUpLFxyXG4gICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKSwgITE7XHJcbiAgICAgICAgICAgIH0gZWxzZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXSA9IHZhbGlkVGVzdDtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc2V0TWFza1NldCghMCksICEwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzdHJpcFZhbGlkUG9zaXRpb25zKHN0YXJ0LCBlbmQsIG5vY2hlY2ssIHN0cmljdCkge1xyXG4gICAgICAgICAgICB2YXIgaSwgc3RhcnRQb3MgPSBzdGFydDtcclxuICAgICAgICAgICAgZm9yIChnZXRNYXNrU2V0KCkucCA9IHN0YXJ0LCBpID0gc3RhcnRQb3M7IGVuZCA+IGk7IGkrKykgdm9pZCAwICE9PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gJiYgKG5vY2hlY2sgPT09ICEwIHx8IG9wdHMuY2FuQ2xlYXJQb3NpdGlvbihnZXRNYXNrU2V0KCksIGksIGdldExhc3RWYWxpZFBvc2l0aW9uKCksIHN0cmljdCwgb3B0cykgIT09ICExKSAmJiBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzdGFydFBvcyArIDE7IGkgPD0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSA7KSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKDsgdm9pZCAwICE9PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbc3RhcnRQb3NdOykgc3RhcnRQb3MrKztcclxuICAgICAgICAgICAgICAgIHZhciBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3N0YXJ0UG9zXTtcclxuICAgICAgICAgICAgICAgIGlmIChzdGFydFBvcyA+IGkgJiYgKGkgPSBzdGFydFBvcyArIDEpLCB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tpXSAmJiBpc01hc2soaSkgfHwgdm9pZCAwICE9PSBzKSBpKys7IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ID0gZ2V0VGVzdFRlbXBsYXRlKGkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uQ2FuTWF0Y2hEZWZpbml0aW9uKHN0YXJ0UG9zLCB0Lm1hdGNoLmRlZikgPyBpc1ZhbGlkKHN0YXJ0UG9zLCB0LmlucHV0IHx8IGdldFBsYWNlaG9sZGVyKGkpLCAhMCkgIT09ICExICYmIChkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgIGkrKykgOiBpc01hc2soaSkgfHwgKGkrKywgc3RhcnRQb3MtLSksIHN0YXJ0UG9zKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIG1sID0gZ2V0TWFza0xlbmd0aCgpO1xyXG4gICAgICAgICAgICBmb3IgKHN0cmljdCAhPT0gITAgJiYgbm9jaGVjayAhPT0gITAgJiYgdm9pZCAwICE9PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSAmJiBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXS5pbnB1dCA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSxcclxuICAgICAgICAgICAgaSA9IGx2cCArIDE7IG1sID49IGk7IGkrKykgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldICYmIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV07XHJcbiAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldFRlc3RUZW1wbGF0ZShwb3MsIG5keEludGx6ciwgdHN0UHMpIHtcclxuICAgICAgICAgICAgdmFyIHRlc3RQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG9zXTtcclxuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gdGVzdFBvcykgZm9yICh2YXIgdGVzdFBvc2l0aW9ucyA9IGdldFRlc3RzKHBvcywgbmR4SW50bHpyLCB0c3RQcyksIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIGx2VGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdIHx8IGdldFRlc3RzKDApWzBdLCBsdlRlc3RBbHRBcnIgPSB2b2lkIDAgIT09IGx2VGVzdC5hbHRlcm5hdGlvbiA/IGx2VGVzdC5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIikgOiBbXSwgbmR4ID0gMDsgbmR4IDwgdGVzdFBvc2l0aW9ucy5sZW5ndGggJiYgKHRlc3RQb3MgPSB0ZXN0UG9zaXRpb25zW25keF0sXHJcbiAgICAgICAgICAgICEodGVzdFBvcy5tYXRjaCAmJiAob3B0cy5ncmVlZHkgJiYgdGVzdFBvcy5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgIT09ICEwIHx8ICh0ZXN0UG9zLm1hdGNoLm9wdGlvbmFsaXR5ID09PSAhMSB8fCB0ZXN0UG9zLm1hdGNoLm5ld0Jsb2NrTWFya2VyID09PSAhMSkgJiYgdGVzdFBvcy5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgIT09ICEwKSAmJiAodm9pZCAwID09PSBsdlRlc3QuYWx0ZXJuYXRpb24gfHwgbHZUZXN0LmFsdGVybmF0aW9uICE9PSB0ZXN0UG9zLmFsdGVybmF0aW9uIHx8IHZvaWQgMCAhPT0gdGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gJiYgY2hlY2tBbHRlcm5hdGlvbk1hdGNoKHRlc3RQb3MubG9jYXRvcltsdlRlc3QuYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCBsdlRlc3RBbHRBcnIpKSkpIDsgbmR4KyspO1xyXG4gICAgICAgICAgICByZXR1cm4gdGVzdFBvcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGVzdChwb3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NdID8gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10ubWF0Y2ggOiBnZXRUZXN0cyhwb3MpWzBdLm1hdGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBwb3NpdGlvbkNhbk1hdGNoRGVmaW5pdGlvbihwb3MsIGRlZikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciB2YWxpZCA9ICExLCB0ZXN0cyA9IGdldFRlc3RzKHBvcyksIHRuZHggPSAwOyB0bmR4IDwgdGVzdHMubGVuZ3RoOyB0bmR4KyspIGlmICh0ZXN0c1t0bmR4XS5tYXRjaCAmJiB0ZXN0c1t0bmR4XS5tYXRjaC5kZWYgPT09IGRlZikge1xyXG4gICAgICAgICAgICAgICAgdmFsaWQgPSAhMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gZ2V0VGVzdHMocG9zLCBuZHhJbnRsenIsIHRzdFBzLCBjYWNoZWFibGUpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZVRlc3RGcm9tVG9rZW4obWFza1Rva2VuLCBuZHhJbml0aWFsaXplciwgbG9vcE5keCwgcXVhbnRpZmllclJlY3Vyc2UpIHtcclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGhhbmRsZU1hdGNoKG1hdGNoLCBsb29wTmR4LCBxdWFudGlmaWVyUmVjdXJzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXN0UG9zID4gMWU0KSB0aHJvdyBcIklucHV0bWFzazogVGhlcmUgaXMgcHJvYmFibHkgYW4gZXJyb3IgaW4geW91ciBtYXNrIGRlZmluaXRpb24gb3IgaW4gdGhlIGNvZGUuIENyZWF0ZSBhbiBpc3N1ZSBvbiBnaXRodWIgd2l0aCBhbiBleGFtcGxlIG9mIHRoZSBtYXNrIHlvdSBhcmUgdXNpbmcuIFwiICsgZ2V0TWFza1NldCgpLm1hc2s7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MgPT09IHBvcyAmJiB2b2lkIDAgPT09IG1hdGNoLm1hdGNoZXMpIHJldHVybiBtYXRjaGVzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaDogbWF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0b3I6IGxvb3BOZHgucmV2ZXJzZSgpXHJcbiAgICAgICAgICAgICAgICAgICAgfSksICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IG1hdGNoLm1hdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoLmlzR3JvdXAgJiYgcXVhbnRpZmllclJlY3Vyc2UgIT09IG1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPSBoYW5kbGVNYXRjaChtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkobWF0Y2gsIG1hc2tUb2tlbi5tYXRjaGVzKSArIDFdLCBsb29wTmR4KSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoLmlzT3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25hbFRva2VuID0gbWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggPSByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXRjaCwgbmR4SW5pdGlhbGl6ZXIsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChsYXRlc3RNYXRjaCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXS5tYXRjaCwgaXNGaXJzdE1hdGNoID0gMCA9PT0gJC5pbkFycmF5KGxhdGVzdE1hdGNoLCBvcHRpb25hbFRva2VuLm1hdGNoZXMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICFpc0ZpcnN0TWF0Y2gpIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRTdG9wID0gITAsIHRlc3RQb3MgPSBwb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2guaXNBbHRlcm5hdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFsdE1hdGNoZXMsIGFsdGVybmF0ZVRva2VuID0gbWF0Y2gsIG1hbHRlcm5hdGVNYXRjaGVzID0gW10sIGN1cnJlbnRNYXRjaGVzID0gbWF0Y2hlcy5zbGljZSgpLCBsb29wTmR4Q250ID0gbG9vcE5keC5sZW5ndGgsIGFsdEluZGV4ID0gbmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAtMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtMSA9PT0gYWx0SW5kZXggfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgYWx0SW5kZXgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFBvcyA9IHRlc3RQb3MsIG5keEluaXRpYWxpemVyQ2xvbmUgPSBuZHhJbml0aWFsaXplci5zbGljZSgpLCBhbHRJbmRleEFyciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIGFsdEluZGV4ICYmIChhbHRJbmRleEFyciA9IGFsdEluZGV4LnNwbGl0KFwiLFwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYW1uZHggPSAwOyBhbW5keCA8IGFsdGVybmF0ZVRva2VuLm1hdGNoZXMubGVuZ3RoOyBhbW5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaGVzID0gW10sIG1hdGNoID0gaGFuZGxlTWF0Y2goYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbW5keF0sIFthbW5keF0uY29uY2F0KGxvb3BOZHgpLCBxdWFudGlmaWVyUmVjdXJzZSkgfHwgbWF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoICE9PSAhMCAmJiB2b2lkIDAgIT09IG1hdGNoICYmIGFsdEluZGV4QXJyW2FsdEluZGV4QXJyLmxlbmd0aCAtIDFdIDwgYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBudG5keCA9IG1hc2tUb2tlbi5tYXRjaGVzLmluZGV4T2YobWF0Y2gpICsgMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tUb2tlbi5tYXRjaGVzLmxlbmd0aCA+IG50bmR4ICYmIChtYXRjaCA9IGhhbmRsZU1hdGNoKG1hc2tUb2tlbi5tYXRjaGVzW250bmR4XSwgW250bmR4XS5jb25jYXQobG9vcE5keC5zbGljZSgxLCBsb29wTmR4Lmxlbmd0aCkpLCBxdWFudGlmaWVyUmVjdXJzZSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCAmJiAoYWx0SW5kZXhBcnIucHVzaChudG5keC50b1N0cmluZygpKSwgJC5lYWNoKG1hdGNoZXMsIGZ1bmN0aW9uIChuZHgsIGxtbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmFsdGVybmF0aW9uID0gbG9vcE5keC5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWx0TWF0Y2hlcyA9IG1hdGNoZXMuc2xpY2UoKSwgdGVzdFBvcyA9IGN1cnJlbnRQb3MsIG1hdGNoZXMgPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZHhJbml0aWFsaXplckNsb25lLmxlbmd0aDsgaSsrKSBuZHhJbml0aWFsaXplcltpXSA9IG5keEluaXRpYWxpemVyQ2xvbmVbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG5keDEgPSAwOyBuZHgxIDwgbWFsdE1hdGNoZXMubGVuZ3RoOyBuZHgxKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHRNYXRjaCA9IG1hbHRNYXRjaGVzW25keDFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0TWF0Y2guYWx0ZXJuYXRpb24gPSBhbHRNYXRjaC5hbHRlcm5hdGlvbiB8fCBsb29wTmR4Q250O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbmR4MiA9IDA7IG5keDIgPCBtYWx0ZXJuYXRlTWF0Y2hlcy5sZW5ndGg7IG5keDIrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhbHRNYXRjaDIgPSBtYWx0ZXJuYXRlTWF0Y2hlc1tuZHgyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWx0TWF0Y2gubWF0Y2gubWFzayA9PT0gYWx0TWF0Y2gyLm1hdGNoLm1hc2sgJiYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGFsdEluZGV4IHx8IC0xICE9PSAkLmluQXJyYXkoYWx0TWF0Y2gubG9jYXRvclthbHRNYXRjaC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKSwgYWx0SW5kZXhBcnIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWx0TWF0Y2hlcy5zcGxpY2UobmR4MSwgMSksIG5keDEtLSwgYWx0TWF0Y2gyLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dID0gYWx0TWF0Y2gyLmxvY2F0b3JbYWx0TWF0Y2guYWx0ZXJuYXRpb25dICsgXCIsXCIgKyBhbHRNYXRjaC5sb2NhdG9yW2FsdE1hdGNoLmFsdGVybmF0aW9uXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWx0TWF0Y2gyLmFsdGVybmF0aW9uID0gYWx0TWF0Y2guYWx0ZXJuYXRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYWx0ZXJuYXRlTWF0Y2hlcyA9IG1hbHRlcm5hdGVNYXRjaGVzLmNvbmNhdChtYWx0TWF0Y2hlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwic3RyaW5nXCIgPT0gdHlwZW9mIGFsdEluZGV4ICYmIChtYWx0ZXJuYXRlTWF0Y2hlcyA9ICQubWFwKG1hbHRlcm5hdGVNYXRjaGVzLCBmdW5jdGlvbiAobG1udCwgbmR4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Zpbml0ZShuZHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbWFtYXRjaCwgYWx0ZXJuYXRpb24gPSBsbW50LmFsdGVybmF0aW9uLCBhbHRMb2NBcnIgPSBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSA9IHZvaWQgMCwgbG1udC5hbHRlcm5hdGlvbiA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGFsbmR4ID0gMDsgYWxuZHggPCBhbHRMb2NBcnIubGVuZ3RoOyBhbG5keCsrKSBtYW1hdGNoID0gLTEgIT09ICQuaW5BcnJheShhbHRMb2NBcnJbYWxuZHhdLCBhbHRJbmRleEFyciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYW1hdGNoICYmICh2b2lkIDAgIT09IGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gPyAobG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSArPSBcIixcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxtbnQubG9jYXRvclthbHRlcm5hdGlvbl0gKz0gYWx0TG9jQXJyW2FsbmR4XSkgOiBsbW50LmxvY2F0b3JbYWx0ZXJuYXRpb25dID0gcGFyc2VJbnQoYWx0TG9jQXJyW2FsbmR4XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsbW50LmFsdGVybmF0aW9uID0gYWx0ZXJuYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gbG1udC5sb2NhdG9yW2FsdGVybmF0aW9uXSkgcmV0dXJuIGxtbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSksIG1hdGNoZXMgPSBjdXJyZW50TWF0Y2hlcy5jb25jYXQobWFsdGVybmF0ZU1hdGNoZXMpLCB0ZXN0UG9zID0gcG9zLCBpbnNlcnRTdG9wID0gbWF0Y2hlcy5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG1hdGNoID0gYWx0ZXJuYXRlVG9rZW4ubWF0Y2hlc1thbHRJbmRleF0gPyBoYW5kbGVNYXRjaChhbHRlcm5hdGVUb2tlbi5tYXRjaGVzW2FsdEluZGV4XSwgW2FsdEluZGV4XS5jb25jYXQobG9vcE5keCksIHF1YW50aWZpZXJSZWN1cnNlKSA6ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2guaXNRdWFudGlmaWVyICYmIHF1YW50aWZpZXJSZWN1cnNlICE9PSBtYXNrVG9rZW4ubWF0Y2hlc1skLmluQXJyYXkobWF0Y2gsIG1hc2tUb2tlbi5tYXRjaGVzKSAtIDFdKSBmb3IgKHZhciBxdCA9IG1hdGNoLCBxbmR4ID0gbmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAwOyBxbmR4IDwgKGlzTmFOKHF0LnF1YW50aWZpZXIubWF4KSA/IHFuZHggKyAxIDogcXQucXVhbnRpZmllci5tYXgpICYmIHBvcyA+PSB0ZXN0UG9zOyBxbmR4KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbkdyb3VwID0gbWFza1Rva2VuLm1hdGNoZXNbJC5pbkFycmF5KHF0LCBtYXNrVG9rZW4ubWF0Y2hlcykgLSAxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaCA9IGhhbmRsZU1hdGNoKHRva2VuR3JvdXAsIFtxbmR4XS5jb25jYXQobG9vcE5keCksIHRva2VuR3JvdXApKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhdGVzdE1hdGNoID0gbWF0Y2hlc1ttYXRjaGVzLmxlbmd0aCAtIDFdLm1hdGNoLCBsYXRlc3RNYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgPSBxbmR4ID4gcXQucXVhbnRpZmllci5taW4gLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlyc3RNYXRjaCA9IDAgPT09ICQuaW5BcnJheShsYXRlc3RNYXRjaCwgdG9rZW5Hcm91cC5tYXRjaGVzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocW5keCA+IHF0LnF1YW50aWZpZXIubWluIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0U3RvcCA9ICEwLCB0ZXN0UG9zID0gcG9zO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobWF0Y2ggPSByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXRjaCwgbmR4SW5pdGlhbGl6ZXIsIGxvb3BOZHgsIHF1YW50aWZpZXJSZWN1cnNlKSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0ZXN0UG9zKys7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0bmR4ID0gbmR4SW5pdGlhbGl6ZXIubGVuZ3RoID4gMCA/IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOiAwOyB0bmR4IDwgbWFza1Rva2VuLm1hdGNoZXMubGVuZ3RoOyB0bmR4KyspIGlmIChtYXNrVG9rZW4ubWF0Y2hlc1t0bmR4XS5pc1F1YW50aWZpZXIgIT09ICEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoID0gaGFuZGxlTWF0Y2gobWFza1Rva2VuLm1hdGNoZXNbdG5keF0sIFt0bmR4XS5jb25jYXQobG9vcE5keCksIHF1YW50aWZpZXJSZWN1cnNlKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2ggJiYgdGVzdFBvcyA9PT0gcG9zKSByZXR1cm4gbWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRlc3RQb3MgPiBwb3MpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBsYXRlc3RNYXRjaCwgaXNGaXJzdE1hdGNoLCBtYXNrVG9rZW5zID0gZ2V0TWFza1NldCgpLm1hc2tUb2tlbiwgdGVzdFBvcyA9IG5keEludGx6ciA/IHRzdFBzIDogMCwgbmR4SW5pdGlhbGl6ZXIgPSBuZHhJbnRsenIgfHwgWzBdLCBtYXRjaGVzID0gW10sIGluc2VydFN0b3AgPSAhMTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlYWJsZSA9PT0gITAgJiYgZ2V0TWFza1NldCgpLnRlc3RzW3Bvc10pIHJldHVybiBnZXRNYXNrU2V0KCkudGVzdHNbcG9zXTtcclxuICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gbmR4SW50bHpyKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciB0ZXN0LCBwcmV2aW91c1BvcyA9IHBvcyAtIDE7IHZvaWQgMCA9PT0gKHRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcHJldmlvdXNQb3NdKSAmJiBwcmV2aW91c1BvcyA+IC0xICYmICghZ2V0TWFza1NldCgpLnRlc3RzW3ByZXZpb3VzUG9zXSB8fCB2b2lkIDAgPT09ICh0ZXN0ID0gZ2V0TWFza1NldCgpLnRlc3RzW3ByZXZpb3VzUG9zXVswXSkpIDspIHByZXZpb3VzUG9zLS07XHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IHRlc3QgJiYgcHJldmlvdXNQb3MgPiAtMSAmJiAodGVzdFBvcyA9IHByZXZpb3VzUG9zLCBuZHhJbml0aWFsaXplciA9IHRlc3QubG9jYXRvci5zbGljZSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmb3IgKHZhciBtdG5keCA9IG5keEluaXRpYWxpemVyLnNoaWZ0KCkgOyBtdG5keCA8IG1hc2tUb2tlbnMubGVuZ3RoOyBtdG5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSByZXNvbHZlVGVzdEZyb21Ub2tlbihtYXNrVG9rZW5zW210bmR4XSwgbmR4SW5pdGlhbGl6ZXIsIFttdG5keF0pO1xyXG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoICYmIHRlc3RQb3MgPT09IHBvcyB8fCB0ZXN0UG9zID4gcG9zKSBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKDAgPT09IG1hdGNoZXMubGVuZ3RoIHx8IGluc2VydFN0b3ApICYmIG1hdGNoZXMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBtYXRjaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsaXR5OiAhMCxcclxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgZGVmOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgbG9jYXRvcjogW11cclxuICAgICAgICAgICAgfSksIGdldE1hc2tTZXQoKS50ZXN0c1twb3NdID0gJC5leHRlbmQoITAsIFtdLCBtYXRjaGVzKSwgZ2V0TWFza1NldCgpLnRlc3RzW3Bvc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlclRlbXBsYXRlKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdm9pZCAwID09PSBnZXRNYXNrU2V0KCkuX2J1ZmZlciAmJiAoZ2V0TWFza1NldCgpLl9idWZmZXIgPSBnZXRNYXNrVGVtcGxhdGUoITEsIDEpKSxcclxuICAgICAgICAgICAgZ2V0TWFza1NldCgpLl9idWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlcihub0NhY2hlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAodm9pZCAwID09PSBnZXRNYXNrU2V0KCkuYnVmZmVyIHx8IG5vQ2FjaGUgPT09ICEwKSAmJiAobm9DYWNoZSA9PT0gITAgJiYgKGdldE1hc2tTZXQoKS50ZXN0ID0ge30pLFxyXG4gICAgICAgICAgICBnZXRNYXNrU2V0KCkuYnVmZmVyID0gZ2V0TWFza1RlbXBsYXRlKCEwLCBnZXRMYXN0VmFsaWRQb3NpdGlvbigpLCAhMCkpLCBnZXRNYXNrU2V0KCkuYnVmZmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiByZWZyZXNoRnJvbUJ1ZmZlcihzdGFydCwgZW5kLCBidWZmZXIpIHtcclxuICAgICAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgICAgIGlmIChidWZmZXIgPSBidWZmZXIsIHN0YXJ0ID09PSAhMCkgcmVzZXRNYXNrU2V0KCksIHN0YXJ0ID0gMCwgZW5kID0gYnVmZmVyLmxlbmd0aDsgZWxzZSBmb3IgKGkgPSBzdGFydDsgZW5kID4gaTsgaSsrKSBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLFxyXG4gICAgICAgICAgICBkZWxldGUgZ2V0TWFza1NldCgpLnRlc3RzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKGkgPSBzdGFydDsgZW5kID4gaTsgaSsrKSByZXNldE1hc2tTZXQoITApLCBidWZmZXJbaV0gIT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciAmJiBpc1ZhbGlkKGksIGJ1ZmZlcltpXSwgITAsICEwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2FzaW5nKGVsZW0sIHRlc3QpIHtcclxuICAgICAgICAgICAgc3dpdGNoICh0ZXN0LmNhc2luZykge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInVwcGVyXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgZWxlbSA9IGVsZW0udG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICBjYXNlIFwibG93ZXJcIjpcclxuICAgICAgICAgICAgICAgICAgICBlbGVtID0gZWxlbS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjaGVja0FsdGVybmF0aW9uTWF0Y2goYWx0QXJyMSwgYWx0QXJyMikge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBhbHRBcnJDID0gb3B0cy5ncmVlZHkgPyBhbHRBcnIyIDogYWx0QXJyMi5zbGljZSgwLCAxKSwgaXNNYXRjaCA9ICExLCBhbG5keCA9IDA7IGFsbmR4IDwgYWx0QXJyMS5sZW5ndGg7IGFsbmR4KyspIGlmICgtMSAhPT0gJC5pbkFycmF5KGFsdEFycjFbYWxuZHhdLCBhbHRBcnJDKSkge1xyXG4gICAgICAgICAgICAgICAgaXNNYXRjaCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWQocG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBfaXNWYWxpZChwb3NpdGlvbiwgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByc2x0ID0gITE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJC5lYWNoKGdldFRlc3RzKHBvc2l0aW9uKSwgZnVuY3Rpb24gKG5keCwgdHN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdGVzdCA9IHRzdC5tYXRjaCwgbG9vcGVuZCA9IGMgPyAxIDogMCwgY2hycyA9IFwiXCIsIGkgPSB0ZXN0LmNhcmRpbmFsaXR5OyBpID4gbG9vcGVuZDsgaS0tKSBjaHJzICs9IGdldEJ1ZmZlckVsZW1lbnQocG9zaXRpb24gLSAoaSAtIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYyAmJiAoY2hycyArPSBjKSwgZ2V0QnVmZmVyKCEwKSwgcnNsdCA9IG51bGwgIT0gdGVzdC5mbiA/IHRlc3QuZm4udGVzdChjaHJzLCBnZXRNYXNrU2V0KCksIHBvc2l0aW9uLCBzdHJpY3QsIG9wdHMpIDogYyAhPT0gdGVzdC5kZWYgJiYgYyAhPT0gb3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyIHx8IFwiXCIgPT09IHRlc3QuZGVmID8gITEgOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IHRlc3QuZGVmLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc2l0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgcnNsdCAhPT0gITEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW0gPSB2b2lkIDAgIT09IHJzbHQuYyA/IHJzbHQuYyA6IGM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW0gPSBlbGVtID09PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIgJiYgbnVsbCA9PT0gdGVzdC5mbiA/IHRlc3QuZGVmIDogZWxlbTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlZFBvcyA9IHBvc2l0aW9uLCBwb3NzaWJsZU1vZGlmaWVkQnVmZmVyID0gZ2V0QnVmZmVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHJzbHQucmVtb3ZlICYmICgkLmlzQXJyYXkocnNsdC5yZW1vdmUpIHx8IChyc2x0LnJlbW92ZSA9IFtyc2x0LnJlbW92ZV0pLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2gocnNsdC5yZW1vdmUuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGIgLSBhO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKG5keCwgbG1udCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBWYWxpZFBvc2l0aW9ucyhsbW50LCBsbW50ICsgMSwgITApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksIHZvaWQgMCAhPT0gcnNsdC5pbnNlcnQgJiYgKCQuaXNBcnJheShyc2x0Lmluc2VydCkgfHwgKHJzbHQuaW5zZXJ0ID0gW3JzbHQuaW5zZXJ0XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChyc2x0Lmluc2VydC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYSAtIGI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAobmR4LCBsbW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkKGxtbnQucG9zLCBsbW50LmMsICEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpLCByc2x0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHJzbHQucmVmcmVzaEZyb21CdWZmZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RyaWN0ID0gITAsIHJlZnJlc2hGcm9tQnVmZmVyKHJlZnJlc2ggPT09ICEwID8gcmVmcmVzaCA6IHJlZnJlc2guc3RhcnQsIHJlZnJlc2guZW5kLCBwb3NzaWJsZU1vZGlmaWVkQnVmZmVyKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gcnNsdC5wb3MgJiYgdm9pZCAwID09PSByc2x0LmMpIHJldHVybiByc2x0LnBvcyA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZWRQb3MgPSB2b2lkIDAgIT09IHJzbHQucG9zID8gcnNsdC5wb3MgOiBwb3NpdGlvbiwgdmFsaWRhdGVkUG9zICE9PSBwb3NpdGlvbikgcmV0dXJuIHJzbHQgPSAkLmV4dGVuZChyc2x0LCBpc1ZhbGlkKHZhbGlkYXRlZFBvcywgZWxlbSwgITApKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJzbHQgIT09ICEwICYmIHZvaWQgMCAhPT0gcnNsdC5wb3MgJiYgcnNsdC5wb3MgIT09IHBvc2l0aW9uICYmICh2YWxpZGF0ZWRQb3MgPSByc2x0LnBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIocG9zaXRpb24sIHZhbGlkYXRlZFBvcywgZ2V0QnVmZmVyKCkuc2xpY2UoKSksIHZhbGlkYXRlZFBvcyAhPT0gcG9zaXRpb24pKSByZXR1cm4gcnNsdCA9ICQuZXh0ZW5kKHJzbHQsIGlzVmFsaWQodmFsaWRhdGVkUG9zLCBlbGVtLCAhMCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJzbHQgIT09ICEwICYmIHZvaWQgMCA9PT0gcnNsdC5wb3MgJiYgdm9pZCAwID09PSByc2x0LmMgPyAhMSA6IChuZHggPiAwICYmIHJlc2V0TWFza1NldCghMCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFZhbGlkUG9zaXRpb24odmFsaWRhdGVkUG9zLCAkLmV4dGVuZCh7fSwgdHN0LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogY2FzaW5nKGVsZW0sIHRlc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBmcm9tU2V0VmFsaWQpIHx8IChyc2x0ID0gITEpLCAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSksIHJzbHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gYWx0ZXJuYXRlKHBvcywgYywgc3RyaWN0LCBmcm9tU2V0VmFsaWQpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGxhc3RBbHQsIGFsdGVybmF0aW9uLCBpc1ZhbGlkUnNsdCwgYWx0UG9zLCBpLCB2YWxpZFBvcywgdmFsaWRQc0Nsb25lID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpLCBsQWx0ID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSA7IGxBbHQgPj0gMCAmJiAoYWx0UG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xBbHRdLFxyXG4gICAgICAgICAgICAgICAgIWFsdFBvcyB8fCB2b2lkIDAgPT09IGFsdFBvcy5hbHRlcm5hdGlvbiB8fCAobGFzdEFsdCA9IGxBbHQsIGFsdGVybmF0aW9uID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdLmFsdGVybmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgZ2V0VGVzdFRlbXBsYXRlKGxhc3RBbHQpLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSA9PT0gYWx0UG9zLmxvY2F0b3JbYWx0UG9zLmFsdGVybmF0aW9uXSkpIDsgbEFsdC0tKTtcclxuICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGFsdGVybmF0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdEFsdCA9IHBhcnNlSW50KGxhc3RBbHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGRlY2lzaW9uUG9zIGluIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucykgaWYgKGRlY2lzaW9uUG9zID0gcGFyc2VJbnQoZGVjaXNpb25Qb3MpLFxyXG4gICAgICAgICAgICAgICAgICAgIGFsdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tkZWNpc2lvblBvc10sIGRlY2lzaW9uUG9zID49IGxhc3RBbHQgJiYgdm9pZCAwICE9PSBhbHRQb3MuYWx0ZXJuYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFsdE5keHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbGFzdEFsdF0ubG9jYXRvclthbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIGRlY2lzaW9uVGFrZXIgPSBhbHRQb3MubG9jYXRvclthbHRlcm5hdGlvbl0gfHwgYWx0TmR4c1swXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjaXNpb25UYWtlci5sZW5ndGggPiAwICYmIChkZWNpc2lvblRha2VyID0gZGVjaXNpb25UYWtlci5zcGxpdChcIixcIilbMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBtbmR4ID0gMDsgbW5keCA8IGFsdE5keHMubGVuZ3RoOyBtbmR4KyspIGlmIChkZWNpc2lvblRha2VyIDwgYWx0TmR4c1ttbmR4XSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcG9zc2liaWxpdHlQb3MsIHBvc3NpYmlsaXRpZXMsIGRwID0gZGVjaXNpb25Qb3M7IGRwID49IDA7IGRwLS0pIGlmIChwb3NzaWJpbGl0eVBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tkcF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IHBvc3NpYmlsaXR5UG9zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zc2liaWxpdGllcyA9IHBvc3NpYmlsaXR5UG9zLmxvY2F0b3JbYWx0ZXJuYXRpb25dLCBwb3NzaWJpbGl0eVBvcy5sb2NhdG9yW2FsdGVybmF0aW9uXSA9IHBhcnNlSW50KGFsdE5keHNbbW5keF0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY2lzaW9uVGFrZXIgIT09IHBvc3NpYmlsaXR5UG9zLmxvY2F0b3JbYWx0ZXJuYXRpb25dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbGlkSW5wdXRzID0gW10sIHN0YXRpY0lucHV0c0JlZm9yZVBvcyA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gZGVjaXNpb25Qb3MgKyAxOyBpIDwgZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSArIDE7IGkrKykgdmFsaWRQb3MgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRQb3MgJiYgKG51bGwgIT0gdmFsaWRQb3MubWF0Y2guZm4gPyB2YWxpZElucHV0cy5wdXNoKHZhbGlkUG9zLmlucHV0KSA6IHBvcyA+IGkgJiYgc3RhdGljSW5wdXRzQmVmb3JlUG9zKyspLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0sIGRlbGV0ZSBnZXRNYXNrU2V0KCkudGVzdHNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChyZXNldE1hc2tTZXQoITApLCBvcHRzLmtlZXBTdGF0aWMgPSAhb3B0cy5rZWVwU3RhdGljLCBpc1ZhbGlkUnNsdCA9ICEwOyB2YWxpZElucHV0cy5sZW5ndGggPiAwOykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSB2YWxpZElucHV0cy5zaGlmdCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXQgIT09IG9wdHMuc2tpcE9wdGlvbmFsUGFydENoYXJhY3RlciAmJiAhKGlzVmFsaWRSc2x0ID0gaXNWYWxpZChnZXRMYXN0VmFsaWRQb3NpdGlvbigpICsgMSwgaW5wdXQsICExLCAhMCkpKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3NpYmlsaXR5UG9zLmFsdGVybmF0aW9uID0gYWx0ZXJuYXRpb24sIHBvc3NpYmlsaXR5UG9zLmxvY2F0b3JbYWx0ZXJuYXRpb25dID0gcG9zc2liaWxpdGllcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkUnNsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0THZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24ocG9zKSArIDEsIHN0YXRpY0lucHV0c0JlZm9yZVBvc0FsdGVybmF0ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IGRlY2lzaW9uUG9zICsgMTsgaSA8IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgKyAxOyBpKyspIHZhbGlkUG9zID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ldLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWxpZFBvcyAmJiBudWxsID09IHZhbGlkUG9zLm1hdGNoLmZuICYmIHBvcyA+IGkgJiYgc3RhdGljSW5wdXRzQmVmb3JlUG9zQWx0ZXJuYXRlKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcyArPSBzdGF0aWNJbnB1dHNCZWZvcmVQb3NBbHRlcm5hdGUgLSBzdGF0aWNJbnB1dHNCZWZvcmVQb3MsIGlzVmFsaWRSc2x0ID0gaXNWYWxpZChwb3MgPiB0YXJnZXRMdnAgPyB0YXJnZXRMdnAgOiBwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMua2VlcFN0YXRpYyA9ICFvcHRzLmtlZXBTdGF0aWMsIGlzVmFsaWRSc2x0KSByZXR1cm4gaXNWYWxpZFJzbHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCksIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgdmFsaWRQc0Nsb25lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJhY2tiYWNrQWx0ZXJuYXRpb25zKG9yaWdpbmFsUG9zLCBuZXdQb3MpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHZwID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW25ld1Bvc10sIHRhcmdldExvY2F0b3IgPSB2cC5sb2NhdG9yLCB0bGwgPSB0YXJnZXRMb2NhdG9yLmxlbmd0aCwgcHMgPSBvcmlnaW5hbFBvczsgbmV3UG9zID4gcHM7IHBzKyspIGlmICghaXNNYXNrKHBzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0cyA9IGdldFRlc3RzKHBzKSwgYmVzdE1hdGNoID0gdGVzdHNbMF0sIGVxdWFsaXR5ID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKHRlc3RzLCBmdW5jdGlvbiAobmR4LCB0c3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IHRsbCA+IGk7IGkrKykgdHN0LmxvY2F0b3JbaV0gJiYgY2hlY2tBbHRlcm5hdGlvbk1hdGNoKHRzdC5sb2NhdG9yW2ldLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpLCB0YXJnZXRMb2NhdG9yW2ldLnRvU3RyaW5nKCkuc3BsaXQoXCIsXCIpKSAmJiBpID4gZXF1YWxpdHkgJiYgKGVxdWFsaXR5ID0gaSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdE1hdGNoID0gdHN0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KSwgc2V0VmFsaWRQb3NpdGlvbihwcywgJC5leHRlbmQoe30sIGJlc3RNYXRjaCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogYmVzdE1hdGNoLm1hdGNoLmRlZlxyXG4gICAgICAgICAgICAgICAgICAgIH0pLCAhMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3RyaWN0ID0gc3RyaWN0ID09PSAhMDtcclxuICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyID0gZ2V0QnVmZmVyKCksIHBuZHggPSBwb3MgLSAxOyBwbmR4ID4gLTEgJiYgIWdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twbmR4XTsgcG5keC0tKTtcclxuICAgICAgICAgICAgZm9yIChwbmR4Kys7IHBvcyA+IHBuZHg7IHBuZHgrKykgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbcG5keF0gJiYgKCghaXNNYXNrKHBuZHgpIHx8IGJ1ZmZlcltwbmR4XSAhPT0gZ2V0UGxhY2Vob2xkZXIocG5keCkpICYmIGdldFRlc3RzKHBuZHgpLmxlbmd0aCA+IDEgfHwgYnVmZmVyW3BuZHhdID09PSBvcHRzLnJhZGl4UG9pbnQgfHwgXCIwXCIgPT09IGJ1ZmZlcltwbmR4XSAmJiAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBidWZmZXIpIDwgcG5keCkgJiYgX2lzVmFsaWQocG5keCwgYnVmZmVyW3BuZHhdLCAhMCk7XHJcbiAgICAgICAgICAgIHZhciBtYXNrUG9zID0gcG9zLCByZXN1bHQgPSAhMSwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgIGlmIChtYXNrUG9zIDwgZ2V0TWFza0xlbmd0aCgpICYmIChyZXN1bHQgPSBfaXNWYWxpZChtYXNrUG9zLCBjLCBzdHJpY3QsIGZyb21TZXRWYWxpZCksXHJcbiAgICAgICAgICAgICghc3RyaWN0IHx8IGZyb21TZXRWYWxpZCkgJiYgcmVzdWx0ID09PSAhMSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50UG9zVmFsaWQgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbWFza1Bvc107XHJcbiAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRQb3NWYWxpZCB8fCBudWxsICE9PSBjdXJyZW50UG9zVmFsaWQubWF0Y2guZm4gfHwgY3VycmVudFBvc1ZhbGlkLm1hdGNoLmRlZiAhPT0gYyAmJiBjICE9PSBvcHRzLnNraXBPcHRpb25hbFBhcnRDaGFyYWN0ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoKG9wdHMuaW5zZXJ0TW9kZSB8fCB2b2lkIDAgPT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tzZWVrTmV4dChtYXNrUG9zKV0pICYmICFpc01hc2sobWFza1BvcykpIGZvciAodmFyIG5Qb3MgPSBtYXNrUG9zICsgMSwgc25Qb3MgPSBzZWVrTmV4dChtYXNrUG9zKSA7IHNuUG9zID49IG5Qb3M7IG5Qb3MrKykgaWYgKHJlc3VsdCA9IF9pc1ZhbGlkKG5Qb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSxcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgIT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNrYmFja0FsdGVybmF0aW9ucyhtYXNrUG9zLCBuUG9zKSwgbWFza1BvcyA9IG5Qb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSByZXN1bHQgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHNlZWtOZXh0KG1hc2tQb3MpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgPT09ICExICYmIG9wdHMua2VlcFN0YXRpYyAmJiBpc0NvbXBsZXRlKGJ1ZmZlcikgJiYgKHJlc3VsdCA9IGFsdGVybmF0ZShwb3MsIGMsIHN0cmljdCwgZnJvbVNldFZhbGlkKSksXHJcbiAgICAgICAgICAgIHJlc3VsdCA9PT0gITAgJiYgKHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIHBvczogbWFza1Bvc1xyXG4gICAgICAgICAgICB9KSwgJC5pc0Z1bmN0aW9uKG9wdHMucG9zdFZhbGlkYXRpb24pICYmIHJlc3VsdCAhPT0gITEgJiYgIXN0cmljdCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHBvc3RWYWxpZFJlc3VsdCA9IG9wdHMucG9zdFZhbGlkYXRpb24oZ2V0QnVmZmVyKCEwKSwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9zdFZhbGlkUmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc3RWYWxpZFJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVmcmVzaCA9IHBvc3RWYWxpZFJlc3VsdC5yZWZyZXNoRnJvbUJ1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXIocmVmcmVzaCA9PT0gITAgPyByZWZyZXNoIDogcmVmcmVzaC5zdGFydCwgcmVmcmVzaC5lbmQsIHBvc3RWYWxpZFJlc3VsdC5idWZmZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldE1hc2tTZXQoITApLCByZXN1bHQgPSBwb3N0VmFsaWRSZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHJlc2V0TWFza1NldCghMCksIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgcG9zaXRpb25zQ2xvbmUpLFxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gITE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNNYXNrKHBvcykge1xyXG4gICAgICAgICAgICB2YXIgdGVzdCA9IGdldFRlc3QocG9zKTtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdGVzdC5mbikgcmV0dXJuIHRlc3QuZm47XHJcbiAgICAgICAgICAgIGlmIChwb3MgPiAtMSAmJiAhb3B0cy5rZWVwU3RhdGljICYmIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10pIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHRlc3RzID0gZ2V0VGVzdHMocG9zKSwgc3RhdGljQWx0ZXJuYXRpb25zID0gITAsIGkgPSAwOyBpIDwgdGVzdHMubGVuZ3RoOyBpKyspIGlmIChcIlwiICE9PSB0ZXN0c1tpXS5tYXRjaC5kZWYgJiYgKHZvaWQgMCA9PT0gdGVzdHNbaV0uYWx0ZXJuYXRpb24gfHwgdGVzdHNbaV0ubG9jYXRvclt0ZXN0c1tpXS5hbHRlcm5hdGlvbl0ubGVuZ3RoID4gMSkpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0aWNBbHRlcm5hdGlvbnMgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBzdGF0aWNBbHRlcm5hdGlvbnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRNYXNrTGVuZ3RoKCkge1xyXG4gICAgICAgICAgICB2YXIgbWFza0xlbmd0aDtcclxuICAgICAgICAgICAgbWF4TGVuZ3RoID0gdm9pZCAwICE9PSBlbCA/IGVsLm1heExlbmd0aCA6IHZvaWQgMCwgLTEgPT09IG1heExlbmd0aCAmJiAobWF4TGVuZ3RoID0gdm9pZCAwKTtcclxuICAgICAgICAgICAgdmFyIHBvcywgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSwgdGVzdFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLCBuZHhJbnRsenIgPSB2b2lkIDAgIT09IHRlc3RQb3MgPyB0ZXN0UG9zLmxvY2F0b3Iuc2xpY2UoKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgZm9yIChwb3MgPSBsdnAgKyAxOyB2b2lkIDAgPT09IHRlc3RQb3MgfHwgbnVsbCAhPT0gdGVzdFBvcy5tYXRjaC5mbiB8fCBudWxsID09PSB0ZXN0UG9zLm1hdGNoLmZuICYmIFwiXCIgIT09IHRlc3RQb3MubWF0Y2guZGVmOyBwb3MrKykgdGVzdFBvcyA9IGdldFRlc3RUZW1wbGF0ZShwb3MsIG5keEludGx6ciwgcG9zIC0gMSksXHJcbiAgICAgICAgICAgIG5keEludGx6ciA9IHRlc3RQb3MubG9jYXRvci5zbGljZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGFzdFRlc3QgPSBnZXRUZXN0KHBvcyAtIDEpO1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza0xlbmd0aCA9IFwiXCIgIT09IGxhc3RUZXN0LmRlZiA/IHBvcyA6IHBvcyAtIDEsIHZvaWQgMCA9PT0gbWF4TGVuZ3RoIHx8IG1heExlbmd0aCA+IG1hc2tMZW5ndGggPyBtYXNrTGVuZ3RoIDogbWF4TGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBzZWVrTmV4dChwb3MsIG5ld0Jsb2NrKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXNrTCA9IGdldE1hc2tMZW5ndGgoKTtcclxuICAgICAgICAgICAgaWYgKHBvcyA+PSBtYXNrTCkgcmV0dXJuIG1hc2tMO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwb3NpdGlvbiA9IHBvczsgKytwb3NpdGlvbiA8IG1hc2tMICYmIChuZXdCbG9jayA9PT0gITAgJiYgKGdldFRlc3QocG9zaXRpb24pLm5ld0Jsb2NrTWFya2VyICE9PSAhMCB8fCAhaXNNYXNrKHBvc2l0aW9uKSkgfHwgbmV3QmxvY2sgIT09ICEwICYmICFpc01hc2socG9zaXRpb24pICYmIChvcHRzLm5vanVtcHMgIT09ICEwIHx8IG9wdHMubm9qdW1wc1RocmVzaG9sZCA+IHBvc2l0aW9uKSkgOyk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NpdGlvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2Vla1ByZXZpb3VzKHBvcywgbmV3QmxvY2spIHtcclxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gcG9zO1xyXG4gICAgICAgICAgICBpZiAoMCA+PSBwb3NpdGlvbikgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIGZvciAoOyAtLXBvc2l0aW9uID4gMCAmJiAobmV3QmxvY2sgPT09ICEwICYmIGdldFRlc3QocG9zaXRpb24pLm5ld0Jsb2NrTWFya2VyICE9PSAhMCB8fCBuZXdCbG9jayAhPT0gITAgJiYgIWlzTWFzayhwb3NpdGlvbikpIDspO1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGdldEJ1ZmZlckVsZW1lbnQocG9zaXRpb24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXSA/IGdldFBsYWNlaG9sZGVyKHBvc2l0aW9uKSA6IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0uaW5wdXQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIsIGNhcmV0UG9zLCBldmVudCwgdHJpZ2dlcklucHV0RXZlbnQpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50ICYmICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlV3JpdGUpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb3B0cy5vbkJlZm9yZVdyaXRlLmNhbGwoaW5wdXQsIGV2ZW50LCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSAhMCA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcmVzdWx0LmJ1ZmZlciB8fCBidWZmZXIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSBnZXRCdWZmZXIoITApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgIT09IGNhcmV0UG9zICYmIChjYXJldFBvcyA9IHZvaWQgMCAhPT0gcmVzdWx0LmNhcmV0ID8gcmVzdWx0LmNhcmV0IDogY2FyZXRQb3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlucHV0LmlucHV0bWFzay5fdmFsdWVTZXQoYnVmZmVyLmpvaW4oXCJcIikpLCB2b2lkIDAgPT09IGNhcmV0UG9zIHx8IHZvaWQgMCAhPT0gZXZlbnQgJiYgXCJibHVyXCIgPT09IGV2ZW50LnR5cGUgfHwgY2FyZXQoaW5wdXQsIGNhcmV0UG9zKSxcclxuICAgICAgICAgICAgdHJpZ2dlcklucHV0RXZlbnQgPT09ICEwICYmIChza2lwSW5wdXRFdmVudCA9ICEwLCAkKGlucHV0KS50cmlnZ2VyKFwiaW5wdXRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBnZXRQbGFjZWhvbGRlcihwb3MsIHRlc3QpIHtcclxuICAgICAgICAgICAgaWYgKHRlc3QgPSB0ZXN0IHx8IGdldFRlc3QocG9zKSwgdm9pZCAwICE9PSB0ZXN0LnBsYWNlaG9sZGVyKSByZXR1cm4gdGVzdC5wbGFjZWhvbGRlcjtcclxuICAgICAgICAgICAgaWYgKG51bGwgPT09IHRlc3QuZm4pIHtcclxuICAgICAgICAgICAgICAgIGlmIChwb3MgPiAtMSAmJiAhb3B0cy5rZWVwU3RhdGljICYmIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvc10pIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcmV2VGVzdCwgdGVzdHMgPSBnZXRUZXN0cyhwb3MpLCBoYXNBbHRlcm5hdGlvbnMgPSAhMSwgaSA9IDA7IGkgPCB0ZXN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldlRlc3QgJiYgXCJcIiAhPT0gdGVzdHNbaV0ubWF0Y2guZGVmICYmIHRlc3RzW2ldLm1hdGNoLmRlZiAhPT0gcHJldlRlc3QubWF0Y2guZGVmICYmICh2b2lkIDAgPT09IHRlc3RzW2ldLmFsdGVybmF0aW9uIHx8IHRlc3RzW2ldLmFsdGVybmF0aW9uID09PSBwcmV2VGVzdC5hbHRlcm5hdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0FsdGVybmF0aW9ucyA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGVzdHNbaV0ubWF0Y2gub3B0aW9uYWxpdHkgIT09ICEwICYmIHRlc3RzW2ldLm1hdGNoLm9wdGlvbmFsUXVhbnRpZmllciAhPT0gITAgJiYgKHByZXZUZXN0ID0gdGVzdHNbaV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQWx0ZXJuYXRpb25zKSByZXR1cm4gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQocG9zICUgb3B0cy5wbGFjZWhvbGRlci5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRlc3QuZGVmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdChwb3MgJSBvcHRzLnBsYWNlaG9sZGVyLmxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrVmFsKGlucHV0LCB3cml0ZU91dCwgc3RyaWN0LCBucHR2bCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBpc1RlbXBsYXRlTWF0Y2goKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaXNNYXRjaCA9ICExLCBjaGFyQ29kZU5keCA9IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoaW5pdGlhbE5keCwgc2Vla05leHQoaW5pdGlhbE5keCkpLmpvaW4oXCJcIikuaW5kZXhPZihjaGFyQ29kZXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKC0xICE9PSBjaGFyQ29kZU5keCAmJiAhaXNNYXNrKGluaXRpYWxOZHgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNNYXRjaCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlclRlbXBsYXRlQXJyID0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZShpbml0aWFsTmR4LCBpbml0aWFsTmR4ICsgY2hhckNvZGVOZHgpLCBpID0gMDsgaSA8IGJ1ZmZlclRlbXBsYXRlQXJyLmxlbmd0aDsgaSsrKSBpZiAoXCIgXCIgIT09IGJ1ZmZlclRlbXBsYXRlQXJyW2ldKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzTWF0Y2ggPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzTWF0Y2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGlucHV0VmFsdWUgPSBucHR2bC5zbGljZSgpLCBjaGFyQ29kZXMgPSBcIlwiLCBpbml0aWFsTmR4ID0gMDtcclxuICAgICAgICAgICAgaWYgKHJlc2V0TWFza1NldCgpLCBnZXRNYXNrU2V0KCkucCA9IHNlZWtOZXh0KC0xKSwgIXN0cmljdCkgaWYgKG9wdHMuYXV0b1VubWFzayAhPT0gITApIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGF0aWNJbnB1dCA9IGdldEJ1ZmZlclRlbXBsYXRlKCkuc2xpY2UoMCwgc2Vla05leHQoLTEpKS5qb2luKFwiXCIpLCBtYXRjaGVzID0gaW5wdXRWYWx1ZS5qb2luKFwiXCIpLm1hdGNoKG5ldyBSZWdFeHAoXCJeXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgoc3RhdGljSW5wdXQpLCBcImdcIikpO1xyXG4gICAgICAgICAgICAgICAgbWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDAgJiYgKGlucHV0VmFsdWUuc3BsaWNlKDAsIG1hdGNoZXMubGVuZ3RoICogc3RhdGljSW5wdXQubGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgIGluaXRpYWxOZHggPSBzZWVrTmV4dChpbml0aWFsTmR4KSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpbml0aWFsTmR4ID0gc2Vla05leHQoaW5pdGlhbE5keCk7XHJcbiAgICAgICAgICAgICQuZWFjaChpbnB1dFZhbHVlLCBmdW5jdGlvbiAobmR4LCBjaGFyQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXByZXNzID0gJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSBjaGFyQ29kZS5jaGFyQ29kZUF0KDApLCBjaGFyQ29kZXMgKz0gY2hhckNvZGU7XHJcbiAgICAgICAgICAgICAgICB2YXIgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24odm9pZCAwLCAhMCksIGx2VGVzdCA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLCBuZXh0VGVzdCA9IGdldFRlc3RUZW1wbGF0ZShsdnAgKyAxLCBsdlRlc3QgPyBsdlRlc3QubG9jYXRvci5zbGljZSgpIDogdm9pZCAwLCBsdnApO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc1RlbXBsYXRlTWF0Y2goKSB8fCBzdHJpY3QgfHwgb3B0cy5hdXRvVW5tYXNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IHN0cmljdCA/IG5keCA6IG51bGwgPT0gbmV4dFRlc3QubWF0Y2guZm4gJiYgbmV4dFRlc3QubWF0Y2gub3B0aW9uYWxpdHkgJiYgbHZwICsgMSA8IGdldE1hc2tTZXQoKS5wID8gbHZwICsgMSA6IGdldE1hc2tTZXQoKS5wO1xyXG4gICAgICAgICAgICAgICAgICAgIGtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgc3RyaWN0LCBwb3MpLCBpbml0aWFsTmR4ID0gcG9zICsgMSxcclxuICAgICAgICAgICAgICAgICAgICBjaGFyQ29kZXMgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGtleXByZXNzRXZlbnQuY2FsbChpbnB1dCwga2V5cHJlc3MsICEwLCAhMSwgITAsIGx2cCArIDEpO1xyXG4gICAgICAgICAgICB9KSwgd3JpdGVPdXQgJiYgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBpbnB1dCA/IHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKDApKSA6IHZvaWQgMCwgJC5FdmVudChcImNoZWNrdmFsXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gdW5tYXNrZWR2YWx1ZShpbnB1dCkge1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQgJiYgdm9pZCAwID09PSBpbnB1dC5pbnB1dG1hc2spIHJldHVybiBpbnB1dC52YWx1ZTtcclxuICAgICAgICAgICAgdmFyIHVtVmFsdWUgPSBbXSwgdnBzID0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwbmR4IGluIHZwcykgdnBzW3BuZHhdLm1hdGNoICYmIG51bGwgIT0gdnBzW3BuZHhdLm1hdGNoLmZuICYmIHVtVmFsdWUucHVzaCh2cHNbcG5keF0uaW5wdXQpO1xyXG4gICAgICAgICAgICB2YXIgdW5tYXNrZWRWYWx1ZSA9IDAgPT09IHVtVmFsdWUubGVuZ3RoID8gbnVsbCA6IChpc1JUTCA/IHVtVmFsdWUucmV2ZXJzZSgpIDogdW1WYWx1ZSkuam9pbihcIlwiKTtcclxuICAgICAgICAgICAgaWYgKG51bGwgIT09IHVubWFza2VkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXJWYWx1ZSA9IChpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpIDogZ2V0QnVmZmVyKCkpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAkLmlzRnVuY3Rpb24ob3B0cy5vblVuTWFzaykgJiYgKHVubWFza2VkVmFsdWUgPSBvcHRzLm9uVW5NYXNrLmNhbGwoaW5wdXQsIGJ1ZmZlclZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB8fCB1bm1hc2tlZFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdW5tYXNrZWRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gY2FyZXQoaW5wdXQsIGJlZ2luLCBlbmQpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gdHJhbnNsYXRlUG9zaXRpb24ocG9zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNSVEwgJiYgXCJudW1iZXJcIiA9PSB0eXBlb2YgcG9zICYmICghb3B0cy5ncmVlZHkgfHwgXCJcIiAhPT0gb3B0cy5wbGFjZWhvbGRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmZmckxnaHQgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBwb3MgPSBiZmZyTGdodCAtIHBvcztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBwb3M7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHJhbmdlO1xyXG4gICAgICAgICAgICBpZiAoXCJudW1iZXJcIiAhPSB0eXBlb2YgYmVnaW4pIHJldHVybiBpbnB1dC5zZXRTZWxlY3Rpb25SYW5nZSA/IChiZWdpbiA9IGlucHV0LnNlbGVjdGlvblN0YXJ0LFxyXG4gICAgICAgICAgICBlbmQgPSBpbnB1dC5zZWxlY3Rpb25FbmQpIDogd2luZG93LmdldFNlbGVjdGlvbiA/IChyYW5nZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApLFxyXG4gICAgICAgICAgICAocmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIucGFyZW50Tm9kZSA9PT0gaW5wdXQgfHwgcmFuZ2UuY29tbW9uQW5jZXN0b3JDb250YWluZXIgPT09IGlucHV0KSAmJiAoYmVnaW4gPSByYW5nZS5zdGFydE9mZnNldCxcclxuICAgICAgICAgICAgZW5kID0gcmFuZ2UuZW5kT2Zmc2V0KSkgOiBkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlICYmIChyYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLFxyXG4gICAgICAgICAgICBiZWdpbiA9IDAgLSByYW5nZS5kdXBsaWNhdGUoKS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgLTFlNSksIGVuZCA9IGJlZ2luICsgcmFuZ2UudGV4dC5sZW5ndGgpLFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBiZWdpbjogdHJhbnNsYXRlUG9zaXRpb24oYmVnaW4pLFxyXG4gICAgICAgICAgICAgICAgZW5kOiB0cmFuc2xhdGVQb3NpdGlvbihlbmQpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGJlZ2luID0gdHJhbnNsYXRlUG9zaXRpb24oYmVnaW4pLCBlbmQgPSB0cmFuc2xhdGVQb3NpdGlvbihlbmQpLCBlbmQgPSBcIm51bWJlclwiID09IHR5cGVvZiBlbmQgPyBlbmQgOiBiZWdpbjtcclxuICAgICAgICAgICAgdmFyIHNjcm9sbENhbGMgPSBwYXJzZUludCgoKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRDb21wdXRlZFN0eWxlID8gKGlucHV0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcgfHwgd2luZG93KS5nZXRDb21wdXRlZFN0eWxlKGlucHV0LCBudWxsKSA6IGlucHV0LmN1cnJlbnRTdHlsZSkuZm9udFNpemUpICogZW5kO1xyXG4gICAgICAgICAgICBpZiAoaW5wdXQuc2Nyb2xsTGVmdCA9IHNjcm9sbENhbGMgPiBpbnB1dC5zY3JvbGxXaWR0aCA/IHNjcm9sbENhbGMgOiAwLCBhbmRyb2lkY2hyb21lIHx8IG9wdHMuaW5zZXJ0TW9kZSAhPT0gITEgfHwgYmVnaW4gIT09IGVuZCB8fCBlbmQrKyxcclxuICAgICAgICAgICAgaW5wdXQuc2V0U2VsZWN0aW9uUmFuZ2UpIGlucHV0LnNlbGVjdGlvblN0YXJ0ID0gYmVnaW4sIGlucHV0LnNlbGVjdGlvbkVuZCA9IGVuZDsgZWxzZSBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKSwgdm9pZCAwID09PSBpbnB1dC5maXJzdENoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRleHROb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQuYXBwZW5kQ2hpbGQodGV4dE5vZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoaW5wdXQuZmlyc3RDaGlsZCwgYmVnaW4gPCBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoID8gYmVnaW4gOiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoKSxcclxuICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChpbnB1dC5maXJzdENoaWxkLCBlbmQgPCBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkubGVuZ3RoID8gZW5kIDogaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLmxlbmd0aCksXHJcbiAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSghMCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpLCBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaW5wdXQuY3JlYXRlVGV4dFJhbmdlICYmIChyYW5nZSA9IGlucHV0LmNyZWF0ZVRleHRSYW5nZSgpLCByYW5nZS5jb2xsYXBzZSghMCksXHJcbiAgICAgICAgICAgIHJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgZW5kKSwgcmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIGJlZ2luKSwgcmFuZ2Uuc2VsZWN0KCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbihyZXR1cm5EZWZpbml0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBwb3MsIHRlc3RQb3MsIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLCBibCA9IGJ1ZmZlci5sZW5ndGgsIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIHBvc2l0aW9ucyA9IHt9LCBsdlRlc3QgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbbHZwXSwgbmR4SW50bHpyID0gdm9pZCAwICE9PSBsdlRlc3QgPyBsdlRlc3QubG9jYXRvci5zbGljZSgpIDogdm9pZCAwO1xyXG4gICAgICAgICAgICBmb3IgKHBvcyA9IGx2cCArIDE7IHBvcyA8IGJ1ZmZlci5sZW5ndGg7IHBvcysrKSB0ZXN0UG9zID0gZ2V0VGVzdFRlbXBsYXRlKHBvcywgbmR4SW50bHpyLCBwb3MgLSAxKSxcclxuICAgICAgICAgICAgbmR4SW50bHpyID0gdGVzdFBvcy5sb2NhdG9yLnNsaWNlKCksIHBvc2l0aW9uc1twb3NdID0gJC5leHRlbmQoITAsIHt9LCB0ZXN0UG9zKTtcclxuICAgICAgICAgICAgdmFyIGx2VGVzdEFsdCA9IGx2VGVzdCAmJiB2b2lkIDAgIT09IGx2VGVzdC5hbHRlcm5hdGlvbiA/IGx2VGVzdC5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0gOiB2b2lkIDA7XHJcbiAgICAgICAgICAgIGZvciAocG9zID0gYmwgLSAxOyBwb3MgPiBsdnAgJiYgKHRlc3RQb3MgPSBwb3NpdGlvbnNbcG9zXSwgKHRlc3RQb3MubWF0Y2gub3B0aW9uYWxpdHkgfHwgdGVzdFBvcy5tYXRjaC5vcHRpb25hbFF1YW50aWZpZXIgfHwgbHZUZXN0QWx0ICYmIChsdlRlc3RBbHQgIT09IHBvc2l0aW9uc1twb3NdLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiBudWxsICE9IHRlc3RQb3MubWF0Y2guZm4gfHwgbnVsbCA9PT0gdGVzdFBvcy5tYXRjaC5mbiAmJiB0ZXN0UG9zLmxvY2F0b3JbbHZUZXN0LmFsdGVybmF0aW9uXSAmJiBjaGVja0FsdGVybmF0aW9uTWF0Y2godGVzdFBvcy5sb2NhdG9yW2x2VGVzdC5hbHRlcm5hdGlvbl0udG9TdHJpbmcoKS5zcGxpdChcIixcIiksIGx2VGVzdEFsdC50b1N0cmluZygpLnNwbGl0KFwiLFwiKSkgJiYgXCJcIiAhPT0gZ2V0VGVzdHMocG9zKVswXS5kZWYpKSAmJiBidWZmZXJbcG9zXSA9PT0gZ2V0UGxhY2Vob2xkZXIocG9zLCB0ZXN0UG9zLm1hdGNoKSkgOyBwb3MtLSkgYmwtLTtcclxuICAgICAgICAgICAgcmV0dXJuIHJldHVybkRlZmluaXRpb24gPyB7XHJcbiAgICAgICAgICAgICAgICBsOiBibCxcclxuICAgICAgICAgICAgICAgIGRlZjogcG9zaXRpb25zW2JsXSA/IHBvc2l0aW9uc1tibF0ubWF0Y2ggOiB2b2lkIDBcclxuICAgICAgICAgICAgfSA6IGJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgcmwgPSBkZXRlcm1pbmVMYXN0UmVxdWlyZWRQb3NpdGlvbigpLCBsbWliID0gYnVmZmVyLmxlbmd0aCAtIDE7IGxtaWIgPiBybCAmJiAhaXNNYXNrKGxtaWIpIDsgbG1pYi0tKTtcclxuICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5zcGxpY2UocmwsIGxtaWIgKyAxIC0gcmwpLCBidWZmZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzQ29tcGxldGUoYnVmZmVyKSB7XHJcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24ob3B0cy5pc0NvbXBsZXRlKSkgcmV0dXJuIG9wdHMuaXNDb21wbGV0ZS5jYWxsKGVsLCBidWZmZXIsIG9wdHMpO1xyXG4gICAgICAgICAgICBpZiAoXCIqXCIgPT09IG9wdHMucmVwZWF0KSByZXR1cm4gdm9pZCAwO1xyXG4gICAgICAgICAgICB2YXIgY29tcGxldGUgPSAhMSwgbHJwID0gZGV0ZXJtaW5lTGFzdFJlcXVpcmVkUG9zaXRpb24oITApLCBhbWwgPSBzZWVrUHJldmlvdXMobHJwLmwpO1xyXG4gICAgICAgICAgICBpZiAodm9pZCAwID09PSBscnAuZGVmIHx8IGxycC5kZWYubmV3QmxvY2tNYXJrZXIgfHwgbHJwLmRlZi5vcHRpb25hbGl0eSB8fCBscnAuZGVmLm9wdGlvbmFsUXVhbnRpZmllcikge1xyXG4gICAgICAgICAgICAgICAgY29tcGxldGUgPSAhMDtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBhbWwgPj0gaTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlc3QgPSBnZXRUZXN0VGVtcGxhdGUoaSkubWF0Y2g7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHRlc3QuZm4gJiYgdm9pZCAwID09PSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbaV0gJiYgdGVzdC5vcHRpb25hbGl0eSAhPT0gITAgJiYgdGVzdC5vcHRpb25hbFF1YW50aWZpZXIgIT09ICEwIHx8IG51bGwgPT09IHRlc3QuZm4gJiYgYnVmZmVyW2ldICE9PSBnZXRQbGFjZWhvbGRlcihpLCB0ZXN0KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbXBsZXRlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc1NlbGVjdGlvbihiZWdpbiwgZW5kKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpc1JUTCA/IGJlZ2luIC0gZW5kID4gMSB8fCBiZWdpbiAtIGVuZCA9PT0gMSAmJiBvcHRzLmluc2VydE1vZGUgOiBlbmQgLSBiZWdpbiA+IDEgfHwgZW5kIC0gYmVnaW4gPT09IDEgJiYgb3B0cy5pbnNlcnRNb2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiB3cmFwRXZlbnRSdWxlcihldmVudEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5Db21wb3NpdGlvbiA9ICExLCBrZXlkb3duUHJlc3NlZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gdGhpcy5pbnB1dG1hc2spIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1PcHRzID0gJC5kYXRhKHRoaXMsIFwiX2lucHV0bWFza19vcHRzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltT3B0cyA/IG5ldyBJbnB1dG1hc2soaW1PcHRzKS5tYXNrKHRoaXMpIDogJCh0aGlzKS5vZmYoXCIuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzZXR2YWx1ZVwiID09PSBlLnR5cGUgfHwgISh0aGlzLmRpc2FibGVkIHx8IHRoaXMucmVhZE9ubHkgJiYgIShcImtleWRvd25cIiA9PT0gZS50eXBlICYmIGUuY3RybEtleSAmJiA2NyA9PT0gZS5rZXlDb2RlIHx8IG9wdHMudGFiVGhyb3VnaCA9PT0gITEgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5UQUIpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImlucHV0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNraXBJbnB1dEV2ZW50ID09PSAhMCB8fCBpbkNvbXBvc2l0aW9uID09PSAhMCkgcmV0dXJuIHNraXBJbnB1dEV2ZW50ID0gITEsIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlkb3duUHJlc3NlZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlkb3duXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcEtleVByZXNzRXZlbnQgPSAhMSwgaW5Db21wb3NpdGlvbiA9ICExLCBrZXlkb3duUHJlc3NlZCA9ICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJrZXlwcmVzc1wiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChza2lwS2V5UHJlc3NFdmVudCA9PT0gITApIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcEtleVByZXNzRXZlbnQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb25zdGFydFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluQ29tcG9zaXRpb24gPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY29tcG9zaXRpb251cGRhdGVcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBza2lwSW5wdXRFdmVudCA9IGtleWRvd25QcmVzc2VkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb21wb3NpdGlvbmVuZFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluQ29tcG9zaXRpb24gPSAhMSwga2V5ZG93blByZXNzZWQgPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3V0XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2tpcElucHV0RXZlbnQgPSAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXZlbnRIYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gcGF0Y2hWYWx1ZVByb3BlcnR5KG5wdCkge1xyXG4gICAgICAgICAgICBmdW5jdGlvbiBwYXRjaFZhbGhvb2sodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCQudmFsSG9va3MgJiYgKHZvaWQgMCA9PT0gJC52YWxIb29rc1t0eXBlXSB8fCAkLnZhbEhvb2tzW3R5cGVdLmlucHV0bWFza3BhdGNoICE9PSAhMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsaG9va0dldCA9ICQudmFsSG9va3NbdHlwZV0gJiYgJC52YWxIb29rc1t0eXBlXS5nZXQgPyAkLnZhbEhvb2tzW3R5cGVdLmdldCA6IGZ1bmN0aW9uIChlbGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbGVtLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIHZhbGhvb2tTZXQgPSAkLnZhbEhvb2tzW3R5cGVdICYmICQudmFsSG9va3NbdHlwZV0uc2V0ID8gJC52YWxIb29rc1t0eXBlXS5zZXQgOiBmdW5jdGlvbiAoZWxlbSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW0udmFsdWUgPSB2YWx1ZSwgZWxlbTtcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICQudmFsSG9va3NbdHlwZV0gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gKGVsZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmlucHV0bWFzaykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbGVtLmlucHV0bWFzay5vcHRzLmF1dG9Vbm1hc2spIHJldHVybiBlbGVtLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IHZhbGhvb2tHZXQoZWxlbSksIG1hc2tzZXQgPSBlbGVtLmlucHV0bWFzay5tYXNrc2V0LCBidWZmZXJUZW1wbGF0ZSA9IG1hc2tzZXQuX2J1ZmZlcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYnVmZmVyVGVtcGxhdGUgPSBidWZmZXJUZW1wbGF0ZSA/IGJ1ZmZlclRlbXBsYXRlLmpvaW4oXCJcIikgOiBcIlwiLCByZXN1bHQgIT09IGJ1ZmZlclRlbXBsYXRlID8gcmVzdWx0IDogXCJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWxob29rR2V0KGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXQ6IGZ1bmN0aW9uIChlbGVtLCB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCwgJGVsZW0gPSAkKGVsZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IHZhbGhvb2tTZXQoZWxlbSwgdmFsdWUpLCBlbGVtLmlucHV0bWFzayAmJiAkZWxlbS50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dG1hc2twYXRjaDogITBcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldHRlcigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlucHV0bWFzayA/IHRoaXMuaW5wdXRtYXNrLm9wdHMuYXV0b1VubWFzayA/IHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSA6IHZhbHVlR2V0LmNhbGwodGhpcykgIT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IHRoaXMgJiYgb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyA/IChpc1JUTCA/IGNsZWFyT3B0aW9uYWxUYWlsKGdldEJ1ZmZlcigpKS5yZXZlcnNlKCkgOiBjbGVhck9wdGlvbmFsVGFpbChnZXRCdWZmZXIoKSkpLmpvaW4oXCJcIikgOiB2YWx1ZUdldC5jYWxsKHRoaXMpIDogXCJcIiA6IHZhbHVlR2V0LmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnVuY3Rpb24gc2V0dGVyKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZVNldC5jYWxsKHRoaXMsIHZhbHVlKSwgdGhpcy5pbnB1dG1hc2sgJiYgJCh0aGlzKS50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGluc3RhbGxOYXRpdmVWYWx1ZVNldEZhbGxiYWNrKG5wdCkge1xyXG4gICAgICAgICAgICAgICAgJChucHQpLm9uKFwibW91c2VlbnRlci5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyksIGlucHV0ID0gdGhpcywgdmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJcIiAhPT0gdmFsdWUgJiYgdmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHZhbHVlR2V0LCB2YWx1ZVNldDtcclxuICAgICAgICAgICAgbnB0LmlucHV0bWFzay5fX3ZhbHVlR2V0IHx8IChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yICYmIHZvaWQgMCA9PT0gbnB0LnZhbHVlID8gKHZhbHVlR2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGV4dENvbnRlbnQ7XHJcbiAgICAgICAgICAgIH0sIHZhbHVlU2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgICAgICAgIH0sIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucHQsIFwidmFsdWVcIiwge1xyXG4gICAgICAgICAgICAgICAgZ2V0OiBnZXR0ZXIsXHJcbiAgICAgICAgICAgICAgICBzZXQ6IHNldHRlclxyXG4gICAgICAgICAgICB9KSkgOiBkb2N1bWVudC5fX2xvb2t1cEdldHRlcl9fICYmIG5wdC5fX2xvb2t1cEdldHRlcl9fKFwidmFsdWVcIikgPyAodmFsdWVHZXQgPSBucHQuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpLFxyXG4gICAgICAgICAgICB2YWx1ZVNldCA9IG5wdC5fX2xvb2t1cFNldHRlcl9fKFwidmFsdWVcIiksIG5wdC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIiwgZ2V0dGVyKSxcclxuICAgICAgICAgICAgbnB0Ll9fZGVmaW5lU2V0dGVyX18oXCJ2YWx1ZVwiLCBzZXR0ZXIpKSA6ICh2YWx1ZUdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBucHQudmFsdWU7XHJcbiAgICAgICAgICAgIH0sIHZhbHVlU2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBucHQudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgfSwgcGF0Y2hWYWxob29rKG5wdC50eXBlKSwgaW5zdGFsbE5hdGl2ZVZhbHVlU2V0RmFsbGJhY2sobnB0KSksIG5wdC5pbnB1dG1hc2suX192YWx1ZUdldCA9IHZhbHVlR2V0LFxyXG4gICAgICAgICAgICBucHQuaW5wdXRtYXNrLl92YWx1ZUdldCA9IGZ1bmN0aW9uIChvdmVycnVsZVJUTCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzUlRMICYmIG92ZXJydWxlUlRMICE9PSAhMCA/IHZhbHVlR2V0LmNhbGwodGhpcy5lbCkuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiB2YWx1ZUdldC5jYWxsKHRoaXMuZWwpO1xyXG4gICAgICAgICAgICB9LCBucHQuaW5wdXRtYXNrLl9fdmFsdWVTZXQgPSB2YWx1ZVNldCwgbnB0LmlucHV0bWFzay5fdmFsdWVTZXQgPSBmdW5jdGlvbiAodmFsdWUsIG92ZXJydWxlUlRMKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZVNldC5jYWxsKHRoaXMuZWwsIG51bGwgPT09IHZhbHVlIHx8IHZvaWQgMCA9PT0gdmFsdWUgPyBcIlwiIDogb3ZlcnJ1bGVSVEwgIT09ICEwICYmIGlzUlRMID8gdmFsdWUuc3BsaXQoXCJcIikucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZW1vdmUoaW5wdXQsIGssIHBvcywgc3RyaWN0KSB7XHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdlbmVyYWxpemUoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5rZWVwU3RhdGljKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbGFzdEFsdCwgdmFsaWRJbnB1dHMgPSBbXSwgcG9zaXRpb25zQ2xvbmUgPSAkLmV4dGVuZCghMCwge30sIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsYXN0QWx0ID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSA7IGxhc3RBbHQgPj0gMDsgbGFzdEFsdC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWxpZFBvcyA9IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsYXN0QWx0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkUG9zICYmIChudWxsICE9IHZhbGlkUG9zLm1hdGNoLmZuICYmIHZhbGlkSW5wdXRzLnB1c2godmFsaWRQb3MuaW5wdXQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2xhc3RBbHRdLCB2b2lkIDAgIT09IHZhbGlkUG9zLmFsdGVybmF0aW9uICYmIHZhbGlkUG9zLmxvY2F0b3JbdmFsaWRQb3MuYWx0ZXJuYXRpb25dID09PSBnZXRUZXN0VGVtcGxhdGUobGFzdEFsdCkubG9jYXRvclt2YWxpZFBvcy5hbHRlcm5hdGlvbl0pKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RBbHQgPiAtMSkgZm9yICg7IHZhbGlkSW5wdXRzLmxlbmd0aCA+IDA7KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlwcmVzcyA9ICQuRXZlbnQoXCJrZXlwcmVzc1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSB2YWxpZElucHV0cy5wb3AoKS5jaGFyQ29kZUF0KDApLCBrZXlwcmVzc0V2ZW50LmNhbGwoaW5wdXQsIGtleXByZXNzLCAhMCwgITEsICExLCBnZXRNYXNrU2V0KCkucCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgcG9zaXRpb25zQ2xvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgob3B0cy5udW1lcmljSW5wdXQgfHwgaXNSVEwpICYmIChrID09PSBJbnB1dG1hc2sua2V5Q29kZS5CQUNLU1BBQ0UgPyBrID0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFICYmIChrID0gSW5wdXRtYXNrLmtleUNvZGUuQkFDS1NQQUNFKSxcclxuICAgICAgICAgICAgaXNSVEwpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcGVuZCA9IHBvcy5lbmQ7XHJcbiAgICAgICAgICAgICAgICBwb3MuZW5kID0gcG9zLmJlZ2luLCBwb3MuYmVnaW4gPSBwZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSAmJiAocG9zLmVuZCAtIHBvcy5iZWdpbiA8IDEgfHwgb3B0cy5pbnNlcnRNb2RlID09PSAhMSkgPyAocG9zLmJlZ2luID0gc2Vla1ByZXZpb3VzKHBvcy5iZWdpbiksXHJcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0gfHwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0uaW5wdXQgIT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0uaW5wdXQgIT09IG9wdHMucmFkaXhQb2ludCB8fCBwb3MuYmVnaW4tLSkgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUgJiYgcG9zLmJlZ2luID09PSBwb3MuZW5kICYmIChwb3MuZW5kID0gaXNNYXNrKHBvcy5lbmQpID8gcG9zLmVuZCArIDEgOiBzZWVrTmV4dChwb3MuZW5kKSArIDEsXHJcbiAgICAgICAgICAgIHZvaWQgMCA9PT0gZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0gfHwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0uaW5wdXQgIT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgJiYgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW3Bvcy5iZWdpbl0uaW5wdXQgIT09IG9wdHMucmFkaXhQb2ludCB8fCBwb3MuZW5kKyspLFxyXG4gICAgICAgICAgICBzdHJpcFZhbGlkUG9zaXRpb25zKHBvcy5iZWdpbiwgcG9zLmVuZCwgITEsIHN0cmljdCksIHN0cmljdCAhPT0gITAgJiYgZ2VuZXJhbGl6ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbHZwID0gZ2V0TGFzdFZhbGlkUG9zaXRpb24ocG9zLmJlZ2luKTtcclxuICAgICAgICAgICAgbHZwIDwgcG9zLmJlZ2luID8gKC0xID09PSBsdnAgJiYgcmVzZXRNYXNrU2V0KCksIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQobHZwKSkgOiBzdHJpY3QgIT09ICEwICYmIChnZXRNYXNrU2V0KCkucCA9IHBvcy5iZWdpbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGtleWRvd25FdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsICRpbnB1dCA9ICQoaW5wdXQpLCBrID0gZS5rZXlDb2RlLCBwb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkJBQ0tTUEFDRSB8fCBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUgfHwgaXBob25lICYmIDEyNyA9PT0gayB8fCBlLmN0cmxLZXkgJiYgODggPT09IGsgJiYgIWlzSW5wdXRFdmVudFN1cHBvcnRlZChcImN1dFwiKSA/IChlLnByZXZlbnREZWZhdWx0KCksXHJcbiAgICAgICAgICAgIDg4ID09PSBrICYmICh1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpKSwgaGFuZGxlUmVtb3ZlKGlucHV0LCBrLCBwb3MpLCB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIGdldE1hc2tTZXQoKS5wLCBlLCB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikpLFxyXG4gICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/ICRpbnB1dC50cmlnZ2VyKFwiY2xlYXJlZFwiKSA6IGlzQ29tcGxldGUoZ2V0QnVmZmVyKCkpID09PSAhMCAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpLFxyXG4gICAgICAgICAgICBvcHRzLnNob3dUb29sdGlwICYmIChpbnB1dC50aXRsZSA9IG9wdHMudG9vbHRpcCB8fCBnZXRNYXNrU2V0KCkubWFzaykpIDogayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuRU5EIHx8IGsgPT09IElucHV0bWFzay5rZXlDb2RlLlBBR0VfRE9XTiA/IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0UG9zID0gc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSk7XHJcbiAgICAgICAgICAgICAgICBvcHRzLmluc2VydE1vZGUgfHwgY2FyZXRQb3MgIT09IGdldE1hc2tMZW5ndGgoKSB8fCBlLnNoaWZ0S2V5IHx8IGNhcmV0UG9zLS0sIGNhcmV0KGlucHV0LCBlLnNoaWZ0S2V5ID8gcG9zLmJlZ2luIDogY2FyZXRQb3MsIGNhcmV0UG9zKTtcclxuICAgICAgICAgICAgfSwgMCkgOiBrID09PSBJbnB1dG1hc2sua2V5Q29kZS5IT01FICYmICFlLnNoaWZ0S2V5IHx8IGsgPT09IElucHV0bWFzay5rZXlDb2RlLlBBR0VfVVAgPyBjYXJldChpbnB1dCwgMCwgZS5zaGlmdEtleSA/IHBvcy5iZWdpbiA6IDApIDogKG9wdHMudW5kb09uRXNjYXBlICYmIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVTQ0FQRSB8fCA5MCA9PT0gayAmJiBlLmN0cmxLZXkpICYmIGUuYWx0S2V5ICE9PSAhMCA/IChjaGVja1ZhbChpbnB1dCwgITAsICExLCB1bmRvVmFsdWUuc3BsaXQoXCJcIikpLFxyXG4gICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImNsaWNrXCIpKSA6IGsgIT09IElucHV0bWFzay5rZXlDb2RlLklOU0VSVCB8fCBlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSA/IG9wdHMudGFiVGhyb3VnaCA9PT0gITAgJiYgayA9PT0gSW5wdXRtYXNrLmtleUNvZGUuVEFCID8gKGUuc2hpZnRLZXkgPT09ICEwID8gKG51bGwgPT09IGdldFRlc3QocG9zLmJlZ2luKS5mbiAmJiAocG9zLmJlZ2luID0gc2Vla05leHQocG9zLmJlZ2luKSksXHJcbiAgICAgICAgICAgIHBvcy5lbmQgPSBzZWVrUHJldmlvdXMocG9zLmJlZ2luLCAhMCksIHBvcy5iZWdpbiA9IHNlZWtQcmV2aW91cyhwb3MuZW5kLCAhMCkpIDogKHBvcy5iZWdpbiA9IHNlZWtOZXh0KHBvcy5iZWdpbiwgITApLFxyXG4gICAgICAgICAgICBwb3MuZW5kID0gc2Vla05leHQocG9zLmJlZ2luLCAhMCksIHBvcy5lbmQgPCBnZXRNYXNrTGVuZ3RoKCkgJiYgcG9zLmVuZC0tKSwgcG9zLmJlZ2luIDwgZ2V0TWFza0xlbmd0aCgpICYmIChlLnByZXZlbnREZWZhdWx0KCksXHJcbiAgICAgICAgICAgIGNhcmV0KGlucHV0LCBwb3MuYmVnaW4sIHBvcy5lbmQpKSkgOiBvcHRzLmluc2VydE1vZGUgIT09ICExIHx8IGUuc2hpZnRLZXkgfHwgKGsgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUID8gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgY2FyZXRQb3MuYmVnaW4pO1xyXG4gICAgICAgICAgICB9LCAwKSA6IGsgPT09IElucHV0bWFzay5rZXlDb2RlLkxFRlQgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRQb3MgPSBjYXJldChpbnB1dCk7XHJcbiAgICAgICAgICAgICAgICBjYXJldChpbnB1dCwgaXNSVEwgPyBjYXJldFBvcy5iZWdpbiArIDEgOiBjYXJldFBvcy5iZWdpbiAtIDEpO1xyXG4gICAgICAgICAgICB9LCAwKSkgOiAob3B0cy5pbnNlcnRNb2RlID0gIW9wdHMuaW5zZXJ0TW9kZSwgY2FyZXQoaW5wdXQsIG9wdHMuaW5zZXJ0TW9kZSB8fCBwb3MuYmVnaW4gIT09IGdldE1hc2tMZW5ndGgoKSA/IHBvcy5iZWdpbiA6IHBvcy5iZWdpbiAtIDEpKSxcclxuICAgICAgICAgICAgb3B0cy5vbktleURvd24oZSwgZ2V0QnVmZmVyKCksIGNhcmV0KGlucHV0KS5iZWdpbiwgb3B0cyksIGlnbm9yYWJsZSA9IC0xICE9PSAkLmluQXJyYXkoaywgb3B0cy5pZ25vcmFibGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24ga2V5cHJlc3NFdmVudChlLCBjaGVja3ZhbCwgd3JpdGVPdXQsIHN0cmljdCwgbmR4KSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsICRpbnB1dCA9ICQoaW5wdXQpLCBrID0gZS53aGljaCB8fCBlLmNoYXJDb2RlIHx8IGUua2V5Q29kZTtcclxuICAgICAgICAgICAgaWYgKCEoY2hlY2t2YWwgPT09ICEwIHx8IGUuY3RybEtleSAmJiBlLmFsdEtleSkgJiYgKGUuY3RybEtleSB8fCBlLm1ldGFLZXkgfHwgaWdub3JhYmxlKSkgcmV0dXJuIGsgPT09IElucHV0bWFzay5rZXlDb2RlLkVOVEVSICYmIHVuZG9WYWx1ZSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiAodW5kb1ZhbHVlID0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSxcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpLCBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwiY2hhbmdlXCIpO1xyXG4gICAgICAgICAgICB9LCAwKSksICEwO1xyXG4gICAgICAgICAgICBpZiAoaykge1xyXG4gICAgICAgICAgICAgICAgNDYgPT09IGsgJiYgZS5zaGlmdEtleSA9PT0gITEgJiYgXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAoayA9IDQ0KTtcclxuICAgICAgICAgICAgICAgIHZhciBmb3J3YXJkUG9zaXRpb24sIHBvcyA9IGNoZWNrdmFsID8ge1xyXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luOiBuZHgsXHJcbiAgICAgICAgICAgICAgICAgICAgZW5kOiBuZHhcclxuICAgICAgICAgICAgICAgIH0gOiBjYXJldChpbnB1dCksIGMgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGspLCBpc1NsY3RuID0gaXNTZWxlY3Rpb24ocG9zLmJlZ2luLCBwb3MuZW5kKTtcclxuICAgICAgICAgICAgICAgIGlzU2xjdG4gJiYgKGdldE1hc2tTZXQoKS51bmRvUG9zaXRpb25zID0gJC5leHRlbmQoITAsIHt9LCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMpLFxyXG4gICAgICAgICAgICAgICAgaGFuZGxlUmVtb3ZlKGlucHV0LCBJbnB1dG1hc2sua2V5Q29kZS5ERUxFVEUsIHBvcywgITApLCBwb3MuYmVnaW4gPSBnZXRNYXNrU2V0KCkucCxcclxuICAgICAgICAgICAgICAgIG9wdHMuaW5zZXJ0TW9kZSB8fCAob3B0cy5pbnNlcnRNb2RlID0gIW9wdHMuaW5zZXJ0TW9kZSwgc2V0VmFsaWRQb3NpdGlvbihwb3MuYmVnaW4sIHN0cmljdCksXHJcbiAgICAgICAgICAgICAgICBvcHRzLmluc2VydE1vZGUgPSAhb3B0cy5pbnNlcnRNb2RlKSwgaXNTbGN0biA9ICFvcHRzLm11bHRpKSwgZ2V0TWFza1NldCgpLndyaXRlT3V0QnVmZmVyID0gITA7XHJcbiAgICAgICAgICAgICAgICB2YXIgcCA9IGlzUlRMICYmICFpc1NsY3RuID8gcG9zLmVuZCA6IHBvcy5iZWdpbiwgdmFsUmVzdWx0ID0gaXNWYWxpZChwLCBjLCBzdHJpY3QpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbFJlc3VsdCAhPT0gITEpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsUmVzdWx0ICE9PSAhMCAmJiAocCA9IHZvaWQgMCAhPT0gdmFsUmVzdWx0LnBvcyA/IHZhbFJlc3VsdC5wb3MgOiBwLCBjID0gdm9pZCAwICE9PSB2YWxSZXN1bHQuYyA/IHZhbFJlc3VsdC5jIDogYyksXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzZXRNYXNrU2V0KCEwKSwgdm9pZCAwICE9PSB2YWxSZXN1bHQuY2FyZXQpIGZvcndhcmRQb3NpdGlvbiA9IHZhbFJlc3VsdC5jYXJldDsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2cHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcndhcmRQb3NpdGlvbiA9ICFvcHRzLmtlZXBTdGF0aWMgJiYgKHZvaWQgMCAhPT0gdnBzW3AgKyAxXSAmJiBnZXRUZXN0cyhwICsgMSwgdnBzW3BdLmxvY2F0b3Iuc2xpY2UoKSwgcCkubGVuZ3RoID4gMSB8fCB2b2lkIDAgIT09IHZwc1twXS5hbHRlcm5hdGlvbikgPyBwICsgMSA6IHNlZWtOZXh0KHApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBnZXRNYXNrU2V0KCkucCA9IGZvcndhcmRQb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3cml0ZU91dCAhPT0gITEpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRzLm9uS2V5VmFsaWRhdGlvbi5jYWxsKHNlbGYsIHZhbFJlc3VsdCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSwgMCksIGdldE1hc2tTZXQoKS53cml0ZU91dEJ1ZmZlciAmJiB2YWxSZXN1bHQgIT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGJ1ZmZlciwgY2hlY2t2YWwgPyB2b2lkIDAgOiBvcHRzLm51bWVyaWNJbnB1dCA/IHNlZWtQcmV2aW91cyhmb3J3YXJkUG9zaXRpb24pIDogZm9yd2FyZFBvc2l0aW9uLCBlLCBjaGVja3ZhbCAhPT0gITApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGVja3ZhbCAhPT0gITAgJiYgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvbXBsZXRlKGJ1ZmZlcikgPT09ICEwICYmICRpbnB1dC50cmlnZ2VyKFwiY29tcGxldGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpc1NsY3RuICYmIChnZXRNYXNrU2V0KCkuYnVmZmVyID0gdm9pZCAwLCBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnMgPSBnZXRNYXNrU2V0KCkudW5kb1Bvc2l0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaXNTbGN0biAmJiAoZ2V0TWFza1NldCgpLmJ1ZmZlciA9IHZvaWQgMCwgZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zID0gZ2V0TWFza1NldCgpLnVuZG9Qb3NpdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuc2hvd1Rvb2x0aXAgJiYgKGlucHV0LnRpdGxlID0gb3B0cy50b29sdGlwIHx8IGdldE1hc2tTZXQoKS5tYXNrKSwgY2hlY2t2YWwgJiYgJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVXcml0ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gb3B0cy5vbkJlZm9yZVdyaXRlKGUsIGdldEJ1ZmZlcigpLCBmb3J3YXJkUG9zaXRpb24sIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWZyZXNoID0gcmVzdWx0LnJlZnJlc2hGcm9tQnVmZmVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcihyZWZyZXNoID09PSAhMCA/IHJlZnJlc2ggOiByZWZyZXNoLnN0YXJ0LCByZWZyZXNoLmVuZCwgcmVzdWx0LmJ1ZmZlciksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0TWFza1NldCghMCksIHJlc3VsdC5jYXJldCAmJiAoZ2V0TWFza1NldCgpLnAgPSByZXN1bHQuY2FyZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KCksIGNoZWNrdmFsKSByZXR1cm4gdmFsUmVzdWx0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIHBhc3RlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCBldiA9IGUub3JpZ2luYWxFdmVudCB8fCBlLCAkaW5wdXQgPSAkKGlucHV0KSwgaW5wdXRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoITApLCBjYXJldFBvcyA9IGNhcmV0KGlucHV0KTtcclxuICAgICAgICAgICAgaWYgKFwicHJvcGVydHljaGFuZ2VcIiA9PT0gZS50eXBlICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKS5sZW5ndGggPD0gZ2V0TWFza0xlbmd0aCgpKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgIGlmIChcInBhc3RlXCIgPT09IGUudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlQmVmb3JlQ2FyZXQgPSBpbnB1dFZhbHVlLnN1YnN0cigwLCBjYXJldFBvcy5iZWdpbiksIHZhbHVlQWZ0ZXJDYXJldCA9IGlucHV0VmFsdWUuc3Vic3RyKGNhcmV0UG9zLmVuZCwgaW5wdXRWYWx1ZS5sZW5ndGgpO1xyXG4gICAgICAgICAgICAgICAgdmFsdWVCZWZvcmVDYXJldCA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgwLCBjYXJldFBvcy5iZWdpbikuam9pbihcIlwiKSAmJiAodmFsdWVCZWZvcmVDYXJldCA9IFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVBZnRlckNhcmV0ID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLnNsaWNlKGNhcmV0UG9zLmVuZCkuam9pbihcIlwiKSAmJiAodmFsdWVBZnRlckNhcmV0ID0gXCJcIiksXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuY2xpcGJvYXJkRGF0YSAmJiB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhID8gaW5wdXRWYWx1ZSA9IHZhbHVlQmVmb3JlQ2FyZXQgKyB3aW5kb3cuY2xpcGJvYXJkRGF0YS5nZXREYXRhKFwiVGV4dFwiKSArIHZhbHVlQWZ0ZXJDYXJldCA6IGV2LmNsaXBib2FyZERhdGEgJiYgZXYuY2xpcGJvYXJkRGF0YS5nZXREYXRhICYmIChpbnB1dFZhbHVlID0gdmFsdWVCZWZvcmVDYXJldCArIGV2LmNsaXBib2FyZERhdGEuZ2V0RGF0YShcInRleHQvcGxhaW5cIikgKyB2YWx1ZUFmdGVyQ2FyZXQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBwYXN0ZVZhbHVlID0gaW5wdXRWYWx1ZTtcclxuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlUGFzdGUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocGFzdGVWYWx1ZSA9IG9wdHMub25CZWZvcmVQYXN0ZS5jYWxsKGlucHV0LCBpbnB1dFZhbHVlLCBvcHRzKSwgcGFzdGVWYWx1ZSA9PT0gITEpIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksXHJcbiAgICAgICAgICAgICAgICAhMTtcclxuICAgICAgICAgICAgICAgIHBhc3RlVmFsdWUgfHwgKHBhc3RlVmFsdWUgPSBpbnB1dFZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY2hlY2tWYWwoaW5wdXQsICExLCAhMSwgaXNSVEwgPyBwYXN0ZVZhbHVlLnNwbGl0KFwiXCIpLnJldmVyc2UoKSA6IHBhc3RlVmFsdWUudG9TdHJpbmcoKS5zcGxpdChcIlwiKSksXHJcbiAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgdm9pZCAwLCBlLCAhMCksICRpbnB1dC50cmlnZ2VyKFwiY2xpY2tcIiksIGlzQ29tcGxldGUoZ2V0QnVmZmVyKCkpID09PSAhMCAmJiAkaW5wdXQudHJpZ2dlcihcImNvbXBsZXRlXCIpLFxyXG4gICAgICAgICAgICAhMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaW5wdXRGYWxsQmFja0V2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgY2hlY2tWYWwoaW5wdXQsICEwLCAhMSwgaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLnNwbGl0KFwiXCIpKSwgaXNDb21wbGV0ZShnZXRCdWZmZXIoKSkgPT09ICEwICYmICQoaW5wdXQpLnRyaWdnZXIoXCJjb21wbGV0ZVwiKSxcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb2JpbGVJbnB1dEV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgY2FyZXRQb3MgPSBjYXJldChpbnB1dCksIGN1cnJlbnRWYWx1ZSA9IGlucHV0Ll92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICBjdXJyZW50VmFsdWUgPSBjdXJyZW50VmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKFwiKFwiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSkgKyBcIikqXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgY2FyZXRQb3MuYmVnaW4gPiBjdXJyZW50VmFsdWUubGVuZ3RoICYmIChjYXJldChpbnB1dCwgY3VycmVudFZhbHVlLmxlbmd0aCksIGNhcmV0UG9zID0gY2FyZXQoaW5wdXQpKSxcclxuICAgICAgICAgICAgZ2V0QnVmZmVyKCkubGVuZ3RoIC0gY3VycmVudFZhbHVlLmxlbmd0aCAhPT0gMSB8fCBjdXJyZW50VmFsdWUuY2hhckF0KGNhcmV0UG9zLmJlZ2luKSA9PT0gZ2V0QnVmZmVyKClbY2FyZXRQb3MuYmVnaW5dIHx8IGN1cnJlbnRWYWx1ZS5jaGFyQXQoY2FyZXRQb3MuYmVnaW4gKyAxKSA9PT0gZ2V0QnVmZmVyKClbY2FyZXRQb3MuYmVnaW5dIHx8IGlzTWFzayhjYXJldFBvcy5iZWdpbikgPyBpbnB1dEZhbGxCYWNrRXZlbnQuY2FsbCh0aGlzLCBlKSA6IChlLmtleUNvZGUgPSBvcHRzLmtleUNvZGUuQkFDS1NQQUNFLFxyXG4gICAgICAgICAgICBrZXlkb3duRXZlbnQuY2FsbChpbnB1dCwgZSkpLCBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0aW9uU3RhcnRFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBldiA9IGUub3JpZ2luYWxFdmVudCB8fCBlO1xyXG4gICAgICAgICAgICB1bmRvVmFsdWUgPSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpLCBcIlwiID09PSBjb21wb3NpdGlvbkRhdGEgfHwgMCAhPT0gZXYuZGF0YS5pbmRleE9mKGNvbXBvc2l0aW9uRGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0aW9uVXBkYXRlRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzLCBldiA9IGUub3JpZ2luYWxFdmVudCB8fCBlO1xyXG4gICAgICAgICAgICAwID09PSBldi5kYXRhLmluZGV4T2YoY29tcG9zaXRpb25EYXRhKSAmJiAocmVzZXRNYXNrU2V0KCksIGdldE1hc2tTZXQoKS5wID0gc2Vla05leHQoLTEpLFxyXG4gICAgICAgICAgICBza2lwSW5wdXRFdmVudCA9ICEwKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgbmV3RGF0YSA9IGV2LmRhdGEsIGkgPSAwOyBpIDwgbmV3RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGtleXByZXNzID0gJC5FdmVudChcImtleXByZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAga2V5cHJlc3Mud2hpY2ggPSBuZXdEYXRhLmNoYXJDb2RlQXQoaSksIHNraXBLZXlQcmVzc0V2ZW50ID0gITEsIGlnbm9yYWJsZSA9ICExLFxyXG4gICAgICAgICAgICAgICAga2V5cHJlc3NFdmVudC5jYWxsKGlucHV0LCBrZXlwcmVzcywgITAsICExLCAhMSwgZ2V0TWFza1NldCgpLnApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvcndhcmRQb3NpdGlvbiA9IGdldE1hc2tTZXQoKS5wO1xyXG4gICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoaW5wdXQsIGdldEJ1ZmZlcigpLCBvcHRzLm51bWVyaWNJbnB1dCA/IHNlZWtQcmV2aW91cyhmb3J3YXJkUG9zaXRpb24pIDogZm9yd2FyZFBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSwgMCksIGNvbXBvc2l0aW9uRGF0YSA9IGV2LmRhdGE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBvc2l0aW9uRW5kRXZlbnQoZSkgeyB9XHJcbiAgICAgICAgZnVuY3Rpb24gc2V0VmFsdWVFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsIHZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICBjaGVja1ZhbChpbnB1dCwgITAsICExLCAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrLmNhbGwoaW5wdXQsIHZhbHVlLCBvcHRzKSB8fCB2YWx1ZSA6IHZhbHVlKS5zcGxpdChcIlwiKSksXHJcbiAgICAgICAgICAgIHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksIChvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzIHx8IG9wdHMuY2xlYXJJbmNvbXBsZXRlKSAmJiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSAmJiBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBmb2N1c0V2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gdGhpcywgbnB0VmFsdWUgPSBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCk7XHJcbiAgICAgICAgICAgIG9wdHMuc2hvd01hc2tPbkZvY3VzICYmICghb3B0cy5zaG93TWFza09uSG92ZXIgfHwgb3B0cy5zaG93TWFza09uSG92ZXIgJiYgXCJcIiA9PT0gbnB0VmFsdWUpID8gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpICE9PSBnZXRCdWZmZXIoKS5qb2luKFwiXCIpICYmIHdyaXRlQnVmZmVyKGlucHV0LCBnZXRCdWZmZXIoKSwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpIDogbW91c2VFbnRlciA9PT0gITEgJiYgY2FyZXQoaW5wdXQsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKSxcclxuICAgICAgICAgICAgb3B0cy5wb3NpdGlvbkNhcmV0T25UYWIgPT09ICEwICYmIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2FyZXQoaW5wdXQsIHNlZWtOZXh0KGdldExhc3RWYWxpZFBvc2l0aW9uKCkpKTtcclxuICAgICAgICAgICAgfSwgMCksIHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIG1vdXNlbGVhdmVFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXM7XHJcbiAgICAgICAgICAgIGlmIChtb3VzZUVudGVyID0gITEsIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKS5zbGljZSgpLCBucHRWYWx1ZSA9IGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKTtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGlucHV0ICYmIG5wdFZhbHVlICE9PSBpbnB1dC5nZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKSAmJiBcIlwiICE9PSBucHRWYWx1ZSAmJiAoLTEgPT09IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgJiYgbnB0VmFsdWUgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSA/IGJ1ZmZlciA9IFtdIDogY2xlYXJPcHRpb25hbFRhaWwoYnVmZmVyKSxcclxuICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGlucHV0LCBidWZmZXIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjbGlja0V2ZW50KGUpIHtcclxuICAgICAgICAgICAgZnVuY3Rpb24gZG9SYWRpeEZvY3VzKGNsaWNrUG9zKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5yYWRpeEZvY3VzICYmIFwiXCIgIT09IG9wdHMucmFkaXhQb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB2cHMgPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gdnBzW2NsaWNrUG9zXSB8fCB2cHNbY2xpY2tQb3NdLmlucHV0ID09PSBnZXRQbGFjZWhvbGRlcihjbGlja1BvcykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNsaWNrUG9zIDwgc2Vla05leHQoLTEpKSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFBvcyA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGdldEJ1ZmZlcigpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSByYWRpeFBvcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgdnAgaW4gdnBzKSBpZiAodnAgPiByYWRpeFBvcyAmJiB2cHNbdnBdLmlucHV0ICE9PSBnZXRQbGFjZWhvbGRlcih2cCkpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA9PT0gaW5wdXQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENhcmV0ID0gY2FyZXQoaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkQ2FyZXQuYmVnaW4gPT09IHNlbGVjdGVkQ2FyZXQuZW5kKSBpZiAoZG9SYWRpeEZvY3VzKHNlbGVjdGVkQ2FyZXQuYmVnaW4pKSBjYXJldChpbnB1dCwgJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgZ2V0QnVmZmVyKCkpKTsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsaWNrUG9zaXRpb24gPSBzZWxlY3RlZENhcmV0LmJlZ2luLCBsdmNsaWNrUG9zaXRpb24gPSBnZXRMYXN0VmFsaWRQb3NpdGlvbihjbGlja1Bvc2l0aW9uKSwgbGFzdFBvc2l0aW9uID0gc2Vla05leHQobHZjbGlja1Bvc2l0aW9uKTtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UG9zaXRpb24gPiBjbGlja1Bvc2l0aW9uID8gY2FyZXQoaW5wdXQsIGlzTWFzayhjbGlja1Bvc2l0aW9uKSB8fCBpc01hc2soY2xpY2tQb3NpdGlvbiAtIDEpID8gY2xpY2tQb3NpdGlvbiA6IHNlZWtOZXh0KGNsaWNrUG9zaXRpb24pKSA6IGNhcmV0KGlucHV0LCBvcHRzLm51bWVyaWNJbnB1dCA/IDAgOiBsYXN0UG9zaXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGRibGNsaWNrRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNhcmV0KGlucHV0LCAwLCBzZWVrTmV4dChnZXRMYXN0VmFsaWRQb3NpdGlvbigpKSk7XHJcbiAgICAgICAgICAgIH0sIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBjdXRFdmVudChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IHRoaXMsICRpbnB1dCA9ICQoaW5wdXQpLCBwb3MgPSBjYXJldChpbnB1dCksIGV2ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsIGNsaXBib2FyZERhdGEgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YSB8fCBldi5jbGlwYm9hcmREYXRhLCBjbGlwRGF0YSA9IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UocG9zLmVuZCwgcG9zLmJlZ2luKSA6IGdldEJ1ZmZlcigpLnNsaWNlKHBvcy5iZWdpbiwgcG9zLmVuZCk7XHJcbiAgICAgICAgICAgIGNsaXBib2FyZERhdGEuc2V0RGF0YShcInRleHRcIiwgaXNSVEwgPyBjbGlwRGF0YS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGNsaXBEYXRhLmpvaW4oXCJcIikpLFxyXG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZCAmJiBkb2N1bWVudC5leGVjQ29tbWFuZChcImNvcHlcIiksIGhhbmRsZVJlbW92ZShpbnB1dCwgSW5wdXRtYXNrLmtleUNvZGUuREVMRVRFLCBwb3MpLFxyXG4gICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCksIGdldE1hc2tTZXQoKS5wLCBlLCB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikpLFxyXG4gICAgICAgICAgICBpbnB1dC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSAmJiAkaW5wdXQudHJpZ2dlcihcImNsZWFyZWRcIiksXHJcbiAgICAgICAgICAgIG9wdHMuc2hvd1Rvb2x0aXAgJiYgKGlucHV0LnRpdGxlID0gb3B0cy50b29sdGlwIHx8IGdldE1hc2tTZXQoKS5tYXNrKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gYmx1ckV2ZW50KGUpIHtcclxuICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyksIGlucHV0ID0gdGhpcztcclxuICAgICAgICAgICAgaWYgKGlucHV0LmlucHV0bWFzaykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5wdFZhbHVlID0gaW5wdXQuaW5wdXRtYXNrLl92YWx1ZUdldCgpLCBidWZmZXIgPSBnZXRCdWZmZXIoKS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgdW5kb1ZhbHVlICE9PSBidWZmZXIuam9pbihcIlwiKSAmJiBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcImNoYW5nZVwiKSwgdW5kb1ZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICB9LCAwKSwgXCJcIiAhPT0gbnB0VmFsdWUgJiYgKG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgKC0xID09PSBnZXRMYXN0VmFsaWRQb3NpdGlvbigpICYmIG5wdFZhbHVlID09PSBnZXRCdWZmZXJUZW1wbGF0ZSgpLmpvaW4oXCJcIikgPyBidWZmZXIgPSBbXSA6IGNsZWFyT3B0aW9uYWxUYWlsKGJ1ZmZlcikpLFxyXG4gICAgICAgICAgICAgICAgaXNDb21wbGV0ZShidWZmZXIpID09PSAhMSAmJiAoc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJpbmNvbXBsZXRlXCIpO1xyXG4gICAgICAgICAgICAgICAgfSwgMCksIG9wdHMuY2xlYXJJbmNvbXBsZXRlICYmIChyZXNldE1hc2tTZXQoKSwgYnVmZmVyID0gb3B0cy5jbGVhck1hc2tPbkxvc3RGb2N1cyA/IFtdIDogZ2V0QnVmZmVyVGVtcGxhdGUoKS5zbGljZSgpKSksXHJcbiAgICAgICAgICAgICAgICB3cml0ZUJ1ZmZlcihpbnB1dCwgYnVmZmVyLCB2b2lkIDAsIGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtb3VzZWVudGVyRXZlbnQoZSkge1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSB0aGlzO1xyXG4gICAgICAgICAgICBtb3VzZUVudGVyID0gITAsIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgIT09IGlucHV0ICYmIG9wdHMuc2hvd01hc2tPbkhvdmVyICYmIGlucHV0LmlucHV0bWFzay5fdmFsdWVHZXQoKSAhPT0gZ2V0QnVmZmVyKCkuam9pbihcIlwiKSAmJiB3cml0ZUJ1ZmZlcihpbnB1dCwgZ2V0QnVmZmVyKCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBtYXNrKGVsZW0pIHtcclxuICAgICAgICAgICAgaWYgKGVsID0gZWxlbSwgJGVsID0gJChlbCksIG9wdHMuc2hvd1Rvb2x0aXAgJiYgKGVsLnRpdGxlID0gb3B0cy50b29sdGlwIHx8IGdldE1hc2tTZXQoKS5tYXNrKSxcclxuICAgICAgICAgICAgKFwicnRsXCIgPT09IGVsLmRpciB8fCBvcHRzLnJpZ2h0QWxpZ24pICYmIChlbC5zdHlsZS50ZXh0QWxpZ24gPSBcInJpZ2h0XCIpLCAoXCJydGxcIiA9PT0gZWwuZGlyIHx8IG9wdHMubnVtZXJpY0lucHV0KSAmJiAoZWwuZGlyID0gXCJsdHJcIixcclxuICAgICAgICAgICAgZWwucmVtb3ZlQXR0cmlidXRlKFwiZGlyXCIpLCBlbC5pbnB1dG1hc2suaXNSVEwgPSAhMCwgaXNSVEwgPSAhMCksICRlbC5vZmYoXCIuaW5wdXRtYXNrXCIpLFxyXG4gICAgICAgICAgICBwYXRjaFZhbHVlUHJvcGVydHkoZWwpLCAoXCJJTlBVVFwiID09PSBlbC50YWdOYW1lICYmIGlzSW5wdXRUeXBlU3VwcG9ydGVkKGVsLmdldEF0dHJpYnV0ZShcInR5cGVcIikpIHx8IGVsLmlzQ29udGVudEVkaXRhYmxlKSAmJiAoJChlbC5mb3JtKS5vbihcInN1Ym1pdFwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB1bmRvVmFsdWUgIT09IGdldEJ1ZmZlcigpLmpvaW4oXCJcIikgJiYgJGVsLnRyaWdnZXIoXCJjaGFuZ2VcIiksIG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgJiYgLTEgPT09IGdldExhc3RWYWxpZFBvc2l0aW9uKCkgJiYgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCAmJiBlbC5pbnB1dG1hc2suX3ZhbHVlR2V0KCkgPT09IGdldEJ1ZmZlclRlbXBsYXRlKCkuam9pbihcIlwiKSAmJiBlbC5pbnB1dG1hc2suX3ZhbHVlU2V0KFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5yZW1vdmVNYXNrT25TdWJtaXQgJiYgKGVsLmlucHV0bWFzay5fdmFsdWVTZXQoZWwuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSwgITApLFxyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd3JpdGVCdWZmZXIoZWwsIGdldEJ1ZmZlcigpKTtcclxuICAgICAgICAgICAgfSwgMCkpO1xyXG4gICAgICAgICAgICB9KS5vbihcInJlc2V0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRlbC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICB9LCAwKTtcclxuICAgICAgICAgICAgfSksICRlbC5vbihcIm1vdXNlZW50ZXIuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG1vdXNlZW50ZXJFdmVudCkpLm9uKFwiYmx1ci5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoYmx1ckV2ZW50KSkub24oXCJmb2N1cy5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoZm9jdXNFdmVudCkpLm9uKFwibW91c2VsZWF2ZS5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIobW91c2VsZWF2ZUV2ZW50KSkub24oXCJjbGljay5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIoY2xpY2tFdmVudCkpLm9uKFwiZGJsY2xpY2suaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGRibGNsaWNrRXZlbnQpKS5vbihQYXN0ZUV2ZW50VHlwZSArIFwiLmlucHV0bWFzayBkcmFnZHJvcC5pbnB1dG1hc2sgZHJvcC5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIocGFzdGVFdmVudCkpLm9uKFwiY3V0LmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihjdXRFdmVudCkpLm9uKFwiY29tcGxldGUuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG9wdHMub25jb21wbGV0ZSkpLm9uKFwiaW5jb21wbGV0ZS5pbnB1dG1hc2tcIiwgd3JhcEV2ZW50UnVsZXIob3B0cy5vbmluY29tcGxldGUpKS5vbihcImNsZWFyZWQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKG9wdHMub25jbGVhcmVkKSkub24oXCJrZXlkb3duLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihrZXlkb3duRXZlbnQpKS5vbihcImtleXByZXNzLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihrZXlwcmVzc0V2ZW50KSksXHJcbiAgICAgICAgICAgIGFuZHJvaWRmaXJlZm94IHx8ICRlbC5vbihcImNvbXBvc2l0aW9uc3RhcnQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGNvbXBvc2l0aW9uU3RhcnRFdmVudCkpLm9uKFwiY29tcG9zaXRpb251cGRhdGUuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGNvbXBvc2l0aW9uVXBkYXRlRXZlbnQpKS5vbihcImNvbXBvc2l0aW9uZW5kLmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihjb21wb3NpdGlvbkVuZEV2ZW50KSksXHJcbiAgICAgICAgICAgIFwicGFzdGVcIiA9PT0gUGFzdGVFdmVudFR5cGUgJiYgJGVsLm9uKFwiaW5wdXQuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKGlucHV0RmFsbEJhY2tFdmVudCkpLFxyXG4gICAgICAgICAgICAoYW5kcm9pZCB8fCBhbmRyb2lkZmlyZWZveCB8fCBhbmRyb2lkY2hyb21lIHx8IGtpbmRsZSkgJiYgKCRlbC5vZmYoXCJpbnB1dC5pbnB1dG1hc2tcIiksXHJcbiAgICAgICAgICAgICRlbC5vbihcImlucHV0LmlucHV0bWFza1wiLCB3cmFwRXZlbnRSdWxlcihtb2JpbGVJbnB1dEV2ZW50KSkpKSwgJGVsLm9uKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIsIHdyYXBFdmVudFJ1bGVyKHNldFZhbHVlRXZlbnQpKSxcclxuICAgICAgICAgICAgXCJcIiAhPT0gZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpIHx8IG9wdHMuY2xlYXJNYXNrT25Mb3N0Rm9jdXMgPT09ICExKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrLmNhbGwoZWwsIGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKSwgb3B0cykgfHwgZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpIDogZWwuaW5wdXRtYXNrLl92YWx1ZUdldCgpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwoZWwsICEwLCAhMSwgaW5pdGlhbFZhbHVlLnNwbGl0KFwiXCIpKTtcclxuICAgICAgICAgICAgICAgIHZhciBidWZmZXIgPSBnZXRCdWZmZXIoKS5zbGljZSgpO1xyXG4gICAgICAgICAgICAgICAgdW5kb1ZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIiksIGlzQ29tcGxldGUoYnVmZmVyKSA9PT0gITEgJiYgb3B0cy5jbGVhckluY29tcGxldGUgJiYgcmVzZXRNYXNrU2V0KCksXHJcbiAgICAgICAgICAgICAgICBvcHRzLmNsZWFyTWFza09uTG9zdEZvY3VzICYmIChidWZmZXIuam9pbihcIlwiKSA9PT0gZ2V0QnVmZmVyVGVtcGxhdGUoKS5qb2luKFwiXCIpID8gYnVmZmVyID0gW10gOiBjbGVhck9wdGlvbmFsVGFpbChidWZmZXIpKSxcclxuICAgICAgICAgICAgICAgIHdyaXRlQnVmZmVyKGVsLCBidWZmZXIpLCBkb2N1bWVudC5hY3RpdmVFbGVtZW50ID09PSBlbCAmJiBjYXJldChlbCwgc2Vla05leHQoZ2V0TGFzdFZhbGlkUG9zaXRpb24oKSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB1bmRvVmFsdWUsIGNvbXBvc2l0aW9uRGF0YSwgZWwsICRlbCwgbWF4TGVuZ3RoLCB2YWx1ZUJ1ZmZlciwgaXNSVEwgPSAhMSwgc2tpcEtleVByZXNzRXZlbnQgPSAhMSwgc2tpcElucHV0RXZlbnQgPSAhMSwgaWdub3JhYmxlID0gITEsIG1vdXNlRW50ZXIgPSAhMDtcclxuICAgICAgICBpZiAodm9pZCAwICE9PSBhY3Rpb25PYmopIHN3aXRjaCAoYWN0aW9uT2JqLmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFwiaXNDb21wbGV0ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsID0gYWN0aW9uT2JqLmVsLCBpc0NvbXBsZXRlKGdldEJ1ZmZlcigpKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJ1bm1hc2tlZHZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWwgPSBhY3Rpb25PYmouZWwsIHZvaWQgMCAhPT0gZWwgJiYgdm9pZCAwICE9PSBlbC5pbnB1dG1hc2sgPyAobWFza3NldCA9IGVsLmlucHV0bWFzay5tYXNrc2V0LFxyXG4gICAgICAgICAgICAgICAgb3B0cyA9IGVsLmlucHV0bWFzay5vcHRzLCBpc1JUTCA9IGVsLmlucHV0bWFzay5pc1JUTCwgdmFsdWVCdWZmZXIgPSBpc1JUTCA/IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKS5zcGxpdChcIlwiKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGVsLmlucHV0bWFzay5fdmFsdWVHZXQoKSkgOiB2YWx1ZUJ1ZmZlciA9IGFjdGlvbk9iai52YWx1ZSxcclxuICAgICAgICAgICAgICAgIG9wdHMubnVtZXJpY0lucHV0ICYmIChpc1JUTCA9ICEwKSwgdmFsdWVCdWZmZXIgPSAoJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVNYXNrKSA/IG9wdHMub25CZWZvcmVNYXNrKHZhbHVlQnVmZmVyLCBvcHRzKSB8fCB2YWx1ZUJ1ZmZlciA6IHZhbHVlQnVmZmVyKS5zcGxpdChcIlwiKSxcclxuICAgICAgICAgICAgICAgIGNoZWNrVmFsKHZvaWQgMCwgITEsICExLCBpc1JUTCA/IHZhbHVlQnVmZmVyLnJldmVyc2UoKSA6IHZhbHVlQnVmZmVyKSwgJC5pc0Z1bmN0aW9uKG9wdHMub25CZWZvcmVXcml0ZSkgJiYgb3B0cy5vbkJlZm9yZVdyaXRlKHZvaWQgMCwgZ2V0QnVmZmVyKCksIDAsIG9wdHMpLFxyXG4gICAgICAgICAgICAgICAgdW5tYXNrZWR2YWx1ZShlbCk7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwibWFza1wiOlxyXG4gICAgICAgICAgICAgICAgZWwgPSBhY3Rpb25PYmouZWwsIG1hc2tzZXQgPSBlbC5pbnB1dG1hc2subWFza3NldCwgb3B0cyA9IGVsLmlucHV0bWFzay5vcHRzLCBpc1JUTCA9IGVsLmlucHV0bWFzay5pc1JUTCxcclxuICAgICAgICAgICAgICAgIHVuZG9WYWx1ZSA9IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksIG1hc2soZWwpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwiZm9ybWF0XCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5udW1lcmljSW5wdXQgJiYgKGlzUlRMID0gITApLCB2YWx1ZUJ1ZmZlciA9ICgkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZU1hc2spID8gb3B0cy5vbkJlZm9yZU1hc2soYWN0aW9uT2JqLnZhbHVlLCBvcHRzKSB8fCBhY3Rpb25PYmoudmFsdWUgOiBhY3Rpb25PYmoudmFsdWUpLnNwbGl0KFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgY2hlY2tWYWwodm9pZCAwLCAhMSwgITEsIGlzUlRMID8gdmFsdWVCdWZmZXIucmV2ZXJzZSgpIDogdmFsdWVCdWZmZXIpLCAkLmlzRnVuY3Rpb24ob3B0cy5vbkJlZm9yZVdyaXRlKSAmJiBvcHRzLm9uQmVmb3JlV3JpdGUodm9pZCAwLCBnZXRCdWZmZXIoKSwgMCwgb3B0cyksXHJcbiAgICAgICAgICAgICAgICBhY3Rpb25PYmoubWV0YWRhdGEgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGlzUlRMID8gZ2V0QnVmZmVyKCkuc2xpY2UoKS5yZXZlcnNlKCkuam9pbihcIlwiKSA6IGdldEJ1ZmZlcigpLmpvaW4oXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJnZXRtZXRhZGF0YVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgbWFza3NldCwgb3B0cylcclxuICAgICAgICAgICAgICAgIH0gOiBpc1JUTCA/IGdldEJ1ZmZlcigpLnNsaWNlKCkucmV2ZXJzZSgpLmpvaW4oXCJcIikgOiBnZXRCdWZmZXIoKS5qb2luKFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImlzVmFsaWRcIjpcclxuICAgICAgICAgICAgICAgIG9wdHMubnVtZXJpY0lucHV0ICYmIChpc1JUTCA9ICEwKSwgdmFsdWVCdWZmZXIgPSBhY3Rpb25PYmoudmFsdWUuc3BsaXQoXCJcIiksIGNoZWNrVmFsKHZvaWQgMCwgITEsICEwLCBpc1JUTCA/IHZhbHVlQnVmZmVyLnJldmVyc2UoKSA6IHZhbHVlQnVmZmVyKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGJ1ZmZlciA9IGdldEJ1ZmZlcigpLCBybCA9IGRldGVybWluZUxhc3RSZXF1aXJlZFBvc2l0aW9uKCksIGxtaWIgPSBidWZmZXIubGVuZ3RoIC0gMTsgbG1pYiA+IHJsICYmICFpc01hc2sobG1pYikgOyBsbWliLS0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5zcGxpY2UocmwsIGxtaWIgKyAxIC0gcmwpLCBpc0NvbXBsZXRlKGJ1ZmZlcikgJiYgYWN0aW9uT2JqLnZhbHVlID09PSBidWZmZXIuam9pbihcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRlbXB0eW1hc2tcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRCdWZmZXJUZW1wbGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgZWwgPSBhY3Rpb25PYmouZWwsICRlbCA9ICQoZWwpLCBtYXNrc2V0ID0gZWwuaW5wdXRtYXNrLm1hc2tzZXQsIG9wdHMgPSBlbC5pbnB1dG1hc2sub3B0cyxcclxuICAgICAgICAgICAgICAgIGVsLmlucHV0bWFzay5fdmFsdWVTZXQodW5tYXNrZWR2YWx1ZShlbCkpLCAkZWwub2ZmKFwiLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZVByb3BlcnR5O1xyXG4gICAgICAgICAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvciAmJiAodmFsdWVQcm9wZXJ0eSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZWwsIFwidmFsdWVcIikpLFxyXG4gICAgICAgICAgICAgICAgdmFsdWVQcm9wZXJ0eSAmJiB2YWx1ZVByb3BlcnR5LmdldCA/IGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0ICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbCwgXCJ2YWx1ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0OiBlbC5pbnB1dG1hc2suX192YWx1ZUdldCxcclxuICAgICAgICAgICAgICAgICAgICBzZXQ6IGVsLmlucHV0bWFzay5fX3ZhbHVlU2V0XHJcbiAgICAgICAgICAgICAgICB9KSA6IGRvY3VtZW50Ll9fbG9va3VwR2V0dGVyX18gJiYgZWwuX19sb29rdXBHZXR0ZXJfXyhcInZhbHVlXCIpICYmIGVsLmlucHV0bWFzay5fX3ZhbHVlR2V0ICYmIChlbC5fX2RlZmluZUdldHRlcl9fKFwidmFsdWVcIiwgZWwuaW5wdXRtYXNrLl9fdmFsdWVHZXQpLFxyXG4gICAgICAgICAgICAgICAgZWwuX19kZWZpbmVTZXR0ZXJfXyhcInZhbHVlXCIsIGVsLmlucHV0bWFzay5fX3ZhbHVlU2V0KSksIGVsLmlucHV0bWFzayA9IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImdldG1ldGFkYXRhXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoJC5pc0FycmF5KG1hc2tzZXQubWV0YWRhdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYWx0ZXJuYXRpb24sIGx2cCA9IGdldExhc3RWYWxpZFBvc2l0aW9uKCksIGZpcnN0QWx0ID0gbHZwOyBmaXJzdEFsdCA+PSAwOyBmaXJzdEFsdC0tKSBpZiAoZ2V0TWFza1NldCgpLnZhbGlkUG9zaXRpb25zW2ZpcnN0QWx0XSAmJiB2b2lkIDAgIT09IGdldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tmaXJzdEFsdF0uYWx0ZXJuYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRpb24gPSBnZXRNYXNrU2V0KCkudmFsaWRQb3NpdGlvbnNbZmlyc3RBbHRdLmFsdGVybmF0aW9uO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gYWx0ZXJuYXRpb24gPyBtYXNrc2V0Lm1ldGFkYXRhW2dldE1hc2tTZXQoKS52YWxpZFBvc2l0aW9uc1tsdnBdLmxvY2F0b3JbYWx0ZXJuYXRpb25dXSA6IG1hc2tzZXQubWV0YWRhdGFbMF07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFza3NldC5tZXRhZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBJbnB1dG1hc2sucHJvdG90eXBlID0ge1xyXG4gICAgICAgIGRlZmF1bHRzOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIl9cIixcclxuICAgICAgICAgICAgb3B0aW9uYWxtYXJrZXI6IHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0OiBcIltcIixcclxuICAgICAgICAgICAgICAgIGVuZDogXCJdXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcXVhbnRpZmllcm1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwie1wiLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBcIn1cIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBncm91cG1hcmtlcjoge1xyXG4gICAgICAgICAgICAgICAgc3RhcnQ6IFwiKFwiLFxyXG4gICAgICAgICAgICAgICAgZW5kOiBcIilcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBhbHRlcm5hdG9ybWFya2VyOiBcInxcIixcclxuICAgICAgICAgICAgZXNjYXBlQ2hhcjogXCJcXFxcXCIsXHJcbiAgICAgICAgICAgIG1hc2s6IG51bGwsXHJcbiAgICAgICAgICAgIG9uY29tcGxldGU6ICQubm9vcCxcclxuICAgICAgICAgICAgb25pbmNvbXBsZXRlOiAkLm5vb3AsXHJcbiAgICAgICAgICAgIG9uY2xlYXJlZDogJC5ub29wLFxyXG4gICAgICAgICAgICByZXBlYXQ6IDAsXHJcbiAgICAgICAgICAgIGdyZWVkeTogITAsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExLFxyXG4gICAgICAgICAgICByZW1vdmVNYXNrT25TdWJtaXQ6ICExLFxyXG4gICAgICAgICAgICBjbGVhck1hc2tPbkxvc3RGb2N1czogITAsXHJcbiAgICAgICAgICAgIGluc2VydE1vZGU6ICEwLFxyXG4gICAgICAgICAgICBjbGVhckluY29tcGxldGU6ICExLFxyXG4gICAgICAgICAgICBhbGlhc2VzOiB7fSxcclxuICAgICAgICAgICAgYWxpYXM6IG51bGwsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogJC5ub29wLFxyXG4gICAgICAgICAgICBvbkJlZm9yZU1hc2s6IG51bGwsXHJcbiAgICAgICAgICAgIG9uQmVmb3JlUGFzdGU6IGZ1bmN0aW9uIChwYXN0ZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuaXNGdW5jdGlvbihvcHRzLm9uQmVmb3JlTWFzaykgPyBvcHRzLm9uQmVmb3JlTWFzayhwYXN0ZWRWYWx1ZSwgb3B0cykgOiBwYXN0ZWRWYWx1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgb25CZWZvcmVXcml0ZTogbnVsbCxcclxuICAgICAgICAgICAgb25Vbk1hc2s6IG51bGwsXHJcbiAgICAgICAgICAgIHNob3dNYXNrT25Gb2N1czogITAsXHJcbiAgICAgICAgICAgIHNob3dNYXNrT25Ib3ZlcjogITAsXHJcbiAgICAgICAgICAgIG9uS2V5VmFsaWRhdGlvbjogJC5ub29wLFxyXG4gICAgICAgICAgICBza2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyOiBcIiBcIixcclxuICAgICAgICAgICAgc2hvd1Rvb2x0aXA6ICExLFxyXG4gICAgICAgICAgICB0b29sdGlwOiB2b2lkIDAsXHJcbiAgICAgICAgICAgIG51bWVyaWNJbnB1dDogITEsXHJcbiAgICAgICAgICAgIHJpZ2h0QWxpZ246ICExLFxyXG4gICAgICAgICAgICB1bmRvT25Fc2NhcGU6ICEwLFxyXG4gICAgICAgICAgICByYWRpeFBvaW50OiBcIlwiLFxyXG4gICAgICAgICAgICBncm91cFNlcGFyYXRvcjogXCJcIixcclxuICAgICAgICAgICAgcmFkaXhGb2N1czogITEsXHJcbiAgICAgICAgICAgIG5vanVtcHM6ICExLFxyXG4gICAgICAgICAgICBub2p1bXBzVGhyZXNob2xkOiAwLFxyXG4gICAgICAgICAgICBrZWVwU3RhdGljOiBudWxsLFxyXG4gICAgICAgICAgICBwb3NpdGlvbkNhcmV0T25UYWI6ICExLFxyXG4gICAgICAgICAgICB0YWJUaHJvdWdoOiAhMSxcclxuICAgICAgICAgICAgc3VwcG9ydHNJbnB1dFR5cGU6IFtdLFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgXCI5XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uU3ltYm9sOiBcIipcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGE6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiW0EtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBkZWZpbml0aW9uU3ltYm9sOiBcIipcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiKlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTlBLVphLXpcXHUwNDEwLVxcdTA0NGZcXHUwNDAxXFx1MDQ1MVxceGMwLVxceGZmXFx4YjVdXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaWdub3JhYmxlczogWzgsIDksIDEzLCAxOSwgMjcsIDMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LCA0MCwgNDUsIDQ2LCA5MywgMTEyLCAxMTMsIDExNCwgMTE1LCAxMTYsIDExNywgMTE4LCAxMTksIDEyMCwgMTIxLCAxMjIsIDEyM10sXHJcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IG51bGwsXHJcbiAgICAgICAgICAgIGNhbkNsZWFyUG9zaXRpb246ICQubm9vcCxcclxuICAgICAgICAgICAgcG9zdFZhbGlkYXRpb246IG51bGxcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1hc2tzQ2FjaGU6IHt9LFxyXG4gICAgICAgIG1hc2s6IGZ1bmN0aW9uIChlbGVtcykge1xyXG4gICAgICAgICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlbGVtcyAmJiAoZWxlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1zKSksIGVsZW1zID0gZWxlbXMubm9kZU5hbWUgPyBbZWxlbXNdIDogZWxlbXMsXHJcbiAgICAgICAgICAgICQuZWFjaChlbGVtcywgZnVuY3Rpb24gKG5keCwgZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzY29wZWRPcHRzID0gJC5leHRlbmQoITAsIHt9LCB0aGF0Lm9wdHMpO1xyXG4gICAgICAgICAgICAgICAgaW1wb3J0QXR0cmlidXRlT3B0aW9ucyhlbCwgc2NvcGVkT3B0cywgJC5leHRlbmQoITAsIHt9LCB0aGF0LnVzZXJPcHRpb25zKSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza3NldCA9IGdlbmVyYXRlTWFza1NldChzY29wZWRPcHRzLCB0aGF0Lm5vTWFza3NDYWNoZSk7XHJcbiAgICAgICAgICAgICAgICB2b2lkIDAgIT09IG1hc2tzZXQgJiYgKHZvaWQgMCAhPT0gZWwuaW5wdXRtYXNrICYmIGVsLmlucHV0bWFzay5yZW1vdmUoKSwgZWwuaW5wdXRtYXNrID0gbmV3IElucHV0bWFzaygpLFxyXG4gICAgICAgICAgICAgICAgZWwuaW5wdXRtYXNrLm9wdHMgPSBzY29wZWRPcHRzLCBlbC5pbnB1dG1hc2subm9NYXNrc0NhY2hlID0gdGhhdC5ub01hc2tzQ2FjaGUsIGVsLmlucHV0bWFzay51c2VyT3B0aW9ucyA9ICQuZXh0ZW5kKCEwLCB7fSwgdGhhdC51c2VyT3B0aW9ucyksXHJcbiAgICAgICAgICAgICAgICBlbC5pbnB1dG1hc2suZWwgPSBlbCwgZWwuaW5wdXRtYXNrLm1hc2tzZXQgPSBtYXNrc2V0LCBlbC5pbnB1dG1hc2suaXNSVEwgPSAhMSwgJC5kYXRhKGVsLCBcIl9pbnB1dG1hc2tfb3B0c1wiLCBzY29wZWRPcHRzKSxcclxuICAgICAgICAgICAgICAgIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIm1hc2tcIixcclxuICAgICAgICAgICAgICAgICAgICBlbDogZWxcclxuICAgICAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgICAgfSksIGVsZW1zID8gZWxlbXNbMF0uaW5wdXRtYXNrIHx8IHRoaXMgOiB0aGlzO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb3B0aW9uOiBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2Ygb3B0aW9ucyA/IHRoaXMub3B0c1tvcHRpb25zXSA6IFwib2JqZWN0XCIgPT0gdHlwZW9mIG9wdGlvbnMgPyAoJC5leHRlbmQodGhpcy5vcHRzLCBvcHRpb25zKSxcclxuICAgICAgICAgICAgJC5leHRlbmQodGhpcy51c2VyT3B0aW9ucywgb3B0aW9ucyksIHRoaXMuZWwgJiYgKHZvaWQgMCAhPT0gb3B0aW9ucy5tYXNrIHx8IHZvaWQgMCAhPT0gb3B0aW9ucy5hbGlhcyA/IHRoaXMubWFzayh0aGlzLmVsKSA6ICgkLmRhdGEodGhpcy5lbCwgXCJfaW5wdXRtYXNrX29wdHNcIiwgdGhpcy5vcHRzKSxcclxuICAgICAgICAgICAgbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJtYXNrXCIsXHJcbiAgICAgICAgICAgICAgICBlbDogdGhpcy5lbFxyXG4gICAgICAgICAgICB9KSkpLCB0aGlzKSA6IHZvaWQgMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHVubWFza2VkdmFsdWU6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJ1bm1hc2tlZHZhbHVlXCIsXHJcbiAgICAgICAgICAgICAgICBlbDogdGhpcy5lbCxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxyXG4gICAgICAgICAgICB9LCB0aGlzLmVsICYmIHRoaXMuZWwuaW5wdXRtYXNrID8gdGhpcy5lbC5pbnB1dG1hc2subWFza3NldCA6IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbCA/IChtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcInJlbW92ZVwiLFxyXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuZWxcclxuICAgICAgICAgICAgfSksIHRoaXMuZWwuaW5wdXRtYXNrID0gdm9pZCAwLCB0aGlzLmVsKSA6IHZvaWQgMDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldGVtcHR5bWFzazogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJnZXRlbXB0eW1hc2tcIlxyXG4gICAgICAgICAgICB9LCB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaGFzTWFza2VkVmFsdWU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICF0aGlzLm9wdHMuYXV0b1VubWFzaztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzQ29tcGxldGU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1hc2tTY29wZSh7XHJcbiAgICAgICAgICAgICAgICBhY3Rpb246IFwiaXNDb21wbGV0ZVwiLFxyXG4gICAgICAgICAgICAgICAgZWw6IHRoaXMuZWxcclxuICAgICAgICAgICAgfSwgdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGdldG1ldGFkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBtYXNrU2NvcGUoe1xyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBcImdldG1ldGFkYXRhXCJcclxuICAgICAgICAgICAgfSwgdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGlzVmFsaWQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJpc1ZhbGlkXCIsXHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcclxuICAgICAgICAgICAgfSwgdGhpcy5tYXNrc2V0IHx8IGdlbmVyYXRlTWFza1NldCh0aGlzLm9wdHMsIHRoaXMubm9NYXNrc0NhY2hlKSwgdGhpcy5vcHRzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGZvcm1hdDogZnVuY3Rpb24gKHZhbHVlLCBtZXRhZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWFza1Njb3BlKHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbjogXCJmb3JtYXRcIixcclxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YVxyXG4gICAgICAgICAgICB9LCB0aGlzLm1hc2tzZXQgfHwgZ2VuZXJhdGVNYXNrU2V0KHRoaXMub3B0cywgdGhpcy5ub01hc2tzQ2FjaGUpLCB0aGlzLm9wdHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIElucHV0bWFzay5leHRlbmREZWZhdWx0cyA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgJC5leHRlbmQoITAsIElucHV0bWFzay5wcm90b3R5cGUuZGVmYXVsdHMsIG9wdGlvbnMpO1xyXG4gICAgfSwgSW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zID0gZnVuY3Rpb24gKGRlZmluaXRpb24pIHtcclxuICAgICAgICAkLmV4dGVuZCghMCwgSW5wdXRtYXNrLnByb3RvdHlwZS5kZWZhdWx0cy5kZWZpbml0aW9ucywgZGVmaW5pdGlvbik7XHJcbiAgICB9LCBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyA9IGZ1bmN0aW9uIChhbGlhcykge1xyXG4gICAgICAgICQuZXh0ZW5kKCEwLCBJbnB1dG1hc2sucHJvdG90eXBlLmRlZmF1bHRzLmFsaWFzZXMsIGFsaWFzKTtcclxuICAgIH0sIElucHV0bWFzay5mb3JtYXQgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMsIG1ldGFkYXRhKSB7XHJcbiAgICAgICAgcmV0dXJuIElucHV0bWFzayhvcHRpb25zKS5mb3JtYXQodmFsdWUsIG1ldGFkYXRhKTtcclxuICAgIH0sIElucHV0bWFzay51bm1hc2sgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLnVubWFza2VkdmFsdWUodmFsdWUpO1xyXG4gICAgfSwgSW5wdXRtYXNrLmlzVmFsaWQgPSBmdW5jdGlvbiAodmFsdWUsIG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm4gSW5wdXRtYXNrKG9wdGlvbnMpLmlzVmFsaWQodmFsdWUpO1xyXG4gICAgfSwgSW5wdXRtYXNrLnJlbW92ZSA9IGZ1bmN0aW9uIChlbGVtcykge1xyXG4gICAgICAgICQuZWFjaChlbGVtcywgZnVuY3Rpb24gKG5keCwgZWwpIHtcclxuICAgICAgICAgICAgZWwuaW5wdXRtYXNrICYmIGVsLmlucHV0bWFzay5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIElucHV0bWFzay5lc2NhcGVSZWdleCA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgICAgICB2YXIgc3BlY2lhbHMgPSBbXCIvXCIsIFwiLlwiLCBcIipcIiwgXCIrXCIsIFwiP1wiLCBcInxcIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgXCJcXFxcXCIsIFwiJFwiLCBcIl5cIl07XHJcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKG5ldyBSZWdFeHAoXCIoXFxcXFwiICsgc3BlY2lhbHMuam9pbihcInxcXFxcXCIpICsgXCIpXCIsIFwiZ2ltXCIpLCBcIlxcXFwkMVwiKTtcclxuICAgIH0sIElucHV0bWFzay5rZXlDb2RlID0ge1xyXG4gICAgICAgIEFMVDogMTgsXHJcbiAgICAgICAgQkFDS1NQQUNFOiA4LFxyXG4gICAgICAgIENBUFNfTE9DSzogMjAsXHJcbiAgICAgICAgQ09NTUE6IDE4OCxcclxuICAgICAgICBDT01NQU5EOiA5MSxcclxuICAgICAgICBDT01NQU5EX0xFRlQ6IDkxLFxyXG4gICAgICAgIENPTU1BTkRfUklHSFQ6IDkzLFxyXG4gICAgICAgIENPTlRST0w6IDE3LFxyXG4gICAgICAgIERFTEVURTogNDYsXHJcbiAgICAgICAgRE9XTjogNDAsXHJcbiAgICAgICAgRU5EOiAzNSxcclxuICAgICAgICBFTlRFUjogMTMsXHJcbiAgICAgICAgRVNDQVBFOiAyNyxcclxuICAgICAgICBIT01FOiAzNixcclxuICAgICAgICBJTlNFUlQ6IDQ1LFxyXG4gICAgICAgIExFRlQ6IDM3LFxyXG4gICAgICAgIE1FTlU6IDkzLFxyXG4gICAgICAgIE5VTVBBRF9BREQ6IDEwNyxcclxuICAgICAgICBOVU1QQURfREVDSU1BTDogMTEwLFxyXG4gICAgICAgIE5VTVBBRF9ESVZJREU6IDExMSxcclxuICAgICAgICBOVU1QQURfRU5URVI6IDEwOCxcclxuICAgICAgICBOVU1QQURfTVVMVElQTFk6IDEwNixcclxuICAgICAgICBOVU1QQURfU1VCVFJBQ1Q6IDEwOSxcclxuICAgICAgICBQQUdFX0RPV046IDM0LFxyXG4gICAgICAgIFBBR0VfVVA6IDMzLFxyXG4gICAgICAgIFBFUklPRDogMTkwLFxyXG4gICAgICAgIFJJR0hUOiAzOSxcclxuICAgICAgICBTSElGVDogMTYsXHJcbiAgICAgICAgU1BBQ0U6IDMyLFxyXG4gICAgICAgIFRBQjogOSxcclxuICAgICAgICBVUDogMzgsXHJcbiAgICAgICAgV0lORE9XUzogOTFcclxuICAgIH07XHJcbiAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LCBpcGhvbmUgPSBudWxsICE9PSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiaXBob25lXCIsIFwiaVwiKSksIGFuZHJvaWQgPSBudWxsICE9PSB1YS5tYXRjaChuZXcgUmVnRXhwKFwiYW5kcm9pZC4qc2FmYXJpLipcIiwgXCJpXCIpKSwgYW5kcm9pZGNocm9tZSA9IG51bGwgIT09IHVhLm1hdGNoKG5ldyBSZWdFeHAoXCJhbmRyb2lkLipjaHJvbWUuKlwiLCBcImlcIikpLCBhbmRyb2lkZmlyZWZveCA9IG51bGwgIT09IHVhLm1hdGNoKG5ldyBSZWdFeHAoXCJhbmRyb2lkLipmaXJlZm94LipcIiwgXCJpXCIpKSwga2luZGxlID0gL0tpbmRsZS9pLnRlc3QodWEpIHx8IC9TaWxrL2kudGVzdCh1YSkgfHwgL0tGVFQvaS50ZXN0KHVhKSB8fCAvS0ZPVC9pLnRlc3QodWEpIHx8IC9LRkpXQS9pLnRlc3QodWEpIHx8IC9LRkpXSS9pLnRlc3QodWEpIHx8IC9LRlNPV0kvaS50ZXN0KHVhKSB8fCAvS0ZUSFdBL2kudGVzdCh1YSkgfHwgL0tGVEhXSS9pLnRlc3QodWEpIHx8IC9LRkFQV0EvaS50ZXN0KHVhKSB8fCAvS0ZBUFdJL2kudGVzdCh1YSksIFBhc3RlRXZlbnRUeXBlID0gaXNJbnB1dEV2ZW50U3VwcG9ydGVkKFwicGFzdGVcIikgPyBcInBhc3RlXCIgOiBpc0lucHV0RXZlbnRTdXBwb3J0ZWQoXCJpbnB1dFwiKSA/IFwiaW5wdXRcIiA6IFwicHJvcGVydHljaGFuZ2VcIjtcclxuICAgIHJldHVybiB3aW5kb3cuSW5wdXRtYXNrID0gSW5wdXRtYXNrLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5KSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gJC5mbi5pbnB1dG1hc2sgJiYgKCQuZm4uaW5wdXRtYXNrID0gZnVuY3Rpb24gKGZuLCBvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIG5wdG1hc2ssIGlucHV0O1xyXG4gICAgICAgIGlmIChvcHRpb25zID0gb3B0aW9ucyB8fCB7fSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZm4pIHN3aXRjaCAoZm4pIHtcclxuICAgICAgICAgICAgY2FzZSBcIm1hc2tcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBucHRtYXNrID0gbmV3IElucHV0bWFzayhvcHRpb25zKSwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJ1bm1hc2tlZHZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSA6ICQoaW5wdXQpLnZhbCgpO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcInJlbW92ZVwiOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dG1hc2sgJiYgdGhpcy5pbnB1dG1hc2sucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJnZXRlbXB0eW1hc2tcIjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCBpbnB1dC5pbnB1dG1hc2sgPyBpbnB1dC5pbnB1dG1hc2suZ2V0ZW1wdHltYXNrKCkgOiBcIlwiO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImhhc01hc2tlZFZhbHVlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmhhc01hc2tlZFZhbHVlKCkgOiAhMTtcclxuXHJcbiAgICAgICAgICAgIGNhc2UgXCJpc0NvbXBsZXRlXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmlzQ29tcGxldGUoKSA6ICEwO1xyXG5cclxuICAgICAgICAgICAgY2FzZSBcImdldG1ldGFkYXRhXCI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5wdXQgPSB0aGlzLmpxdWVyeSAmJiB0aGlzLmxlbmd0aCA+IDAgPyB0aGlzWzBdIDogdGhpcywgaW5wdXQuaW5wdXRtYXNrID8gaW5wdXQuaW5wdXRtYXNrLmdldG1ldGFkYXRhKCkgOiB2b2lkIDA7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwic2V0dmFsdWVcIjpcclxuICAgICAgICAgICAgICAgIGlucHV0ID0gdGhpcy5qcXVlcnkgJiYgdGhpcy5sZW5ndGggPiAwID8gdGhpc1swXSA6IHRoaXMsICQoaW5wdXQpLnZhbChvcHRpb25zKSxcclxuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gaW5wdXQuaW5wdXRtYXNrICYmICQoaW5wdXQpLnRyaWdnZXJIYW5kbGVyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlIFwib3B0aW9uXCI6XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2Ygb3B0aW9ucykgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5pbnB1dG1hc2sgPyB0aGlzLmlucHV0bWFzay5vcHRpb24ob3B0aW9ucykgOiB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA9IHRoaXMuanF1ZXJ5ICYmIHRoaXMubGVuZ3RoID4gMCA/IHRoaXNbMF0gOiB0aGlzLCB2b2lkIDAgIT09IGlucHV0LmlucHV0bWFzaykgcmV0dXJuIGlucHV0LmlucHV0bWFzay5vcHRpb24ob3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5hbGlhcyA9IGZuLCBucHRtYXNrID0gbmV3IElucHV0bWFzayhvcHRpb25zKSwgdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZm4pIHJldHVybiBucHRtYXNrID0gbmV3IElucHV0bWFzayhmbiksIHZvaWQgMCA9PT0gZm4ubWFzayAmJiB2b2lkIDAgPT09IGZuLmFsaWFzID8gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IHRoaXMuaW5wdXRtYXNrID8gdGhpcy5pbnB1dG1hc2sub3B0aW9uKGZuKSA6IHZvaWQgbnB0bWFzay5tYXNrKHRoaXMpO1xyXG4gICAgICAgICAgICB9KSA6IHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBucHRtYXNrLm1hc2sodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAodm9pZCAwID09PSBmbikgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBucHRtYXNrID0gbmV3IElucHV0bWFzayhvcHRpb25zKSwgbnB0bWFzay5tYXNrKHRoaXMpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KSwgJC5mbi5pbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZERlZmluaXRpb25zKHtcclxuICAgICAgICBoOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMDFdWzAtOV18MlswLTNdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtMl1cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC01XVswLTldXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtNV1cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCIwWzEtOV18WzEyXVswLTldfDNbMDFdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtM11cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgIH1dXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtOiB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRvcjogXCIwWzEtOV18MVswMTJdXCIsXHJcbiAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAyLFxyXG4gICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAxXVwiLFxyXG4gICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgfV1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHk6IHtcclxuICAgICAgICAgICAgdmFsaWRhdG9yOiBcIigxOXwyMClcXFxcZHsyfVwiLFxyXG4gICAgICAgICAgICBjYXJkaW5hbGl0eTogNCxcclxuICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlsxMl1cIixcclxuICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgIH0sIHtcclxuICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCIoMTl8MjApXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMlxyXG4gICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IFwiKDE5fDIwKVxcXFxkXCIsXHJcbiAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogM1xyXG4gICAgICAgICAgICB9XVxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgXCJkZC9tbS95eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLzIveVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkZC9tbS95eXl5XCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICB2YWwxcHJlOiBuZXcgUmVnRXhwKFwiWzAtM11cIiksXHJcbiAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfFsxMl1bMC05XXwzWzAxXVwiKSxcclxuICAgICAgICAgICAgICAgIHZhbDJwcmU6IGZ1bmN0aW9uIChzZXBhcmF0b3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZFNlcGFyYXRvciA9IElucHV0bWFzay5lc2NhcGVSZWdleC5jYWxsKHRoaXMsIHNlcGFyYXRvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoXCIoKDBbMS05XXxbMTJdWzAtOV18M1swMV0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMDFdKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwyOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18WzEyXVswLTldKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXwxWzAxMl0pKXwoMzBcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEzLTldfDFbMDEyXSkpfCgzMVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMTM1NzhdfDFbMDJdKSlcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMjkvMDIvXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCIvXCIsXHJcbiAgICAgICAgICAgIHllYXJyYW5nZToge1xyXG4gICAgICAgICAgICAgICAgbWlueWVhcjogMTkwMCxcclxuICAgICAgICAgICAgICAgIG1heHllYXI6IDIwOTlcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaXNJblllYXJSYW5nZTogZnVuY3Rpb24gKGNocnMsIG1pbnllYXIsIG1heHllYXIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpc05hTihjaHJzKSkgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudGVyZWR5ZWFyID0gcGFyc2VJbnQoY2hycy5jb25jYXQobWlueWVhci50b1N0cmluZygpLnNsaWNlKGNocnMubGVuZ3RoKSkpLCBlbnRlcmVkeWVhcjIgPSBwYXJzZUludChjaHJzLmNvbmNhdChtYXh5ZWFyLnRvU3RyaW5nKCkuc2xpY2UoY2hycy5sZW5ndGgpKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gKGlzTmFOKGVudGVyZWR5ZWFyKSA/ICExIDogZW50ZXJlZHllYXIgPj0gbWlueWVhciAmJiBtYXh5ZWFyID49IGVudGVyZWR5ZWFyKSB8fCAoaXNOYU4oZW50ZXJlZHllYXIyKSA/ICExIDogZW50ZXJlZHllYXIyID49IG1pbnllYXIgJiYgbWF4eWVhciA+PSBlbnRlcmVkeWVhcjIpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZXRlcm1pbmViYXNleWVhcjogZnVuY3Rpb24gKG1pbnllYXIsIG1heHllYXIsIGhpbnQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50eWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgICAgIGlmIChtaW55ZWFyID4gY3VycmVudHllYXIpIHJldHVybiBtaW55ZWFyO1xyXG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnR5ZWFyID4gbWF4eWVhcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIG1heFllYXJQcmVmaXggPSBtYXh5ZWFyLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksIG1heFllYXJQb3N0Zml4ID0gbWF4eWVhci50b1N0cmluZygpLnNsaWNlKDIsIDQpIDsgbWF4WWVhclByZWZpeCArIGhpbnQgPiBtYXh5ZWFyOykgbWF4WWVhclByZWZpeC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXh4WWVhciA9IG1heFllYXJQcmVmaXggKyBtYXhZZWFyUG9zdGZpeDtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWlueWVhciA+IG1heHhZZWFyID8gbWlueWVhciA6IG1heHhZZWFyO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnR5ZWFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbCh0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKSArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldEZyb250VmFsdWU6IGZ1bmN0aW9uIChtYXNrLCBidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHN0YXJ0ID0gMCwgbGVuZ3RoID0gMCwgaSA9IDA7IGkgPCBtYXNrLmxlbmd0aCAmJiBcIjJcIiAhPT0gbWFzay5jaGFyQXQoaSkgOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZGVmaW5pdGlvbiA9IG9wdHMuZGVmaW5pdGlvbnNbbWFzay5jaGFyQXQoaSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmluaXRpb24gPyAoc3RhcnQgKz0gbGVuZ3RoLCBsZW5ndGggPSBkZWZpbml0aW9uLmNhcmRpbmFsaXR5KSA6IGxlbmd0aCsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cihzdGFydCwgbGVuZ3RoKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIFwiMVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmljdCB8fCBpc1ZhbGlkIHx8IGNocnMuY2hhckF0KDEpICE9PSBvcHRzLnNlcGFyYXRvciAmJiAtMSA9PT0gXCItLi9cIi5pbmRleE9mKGNocnMuY2hhckF0KDEpKSB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdChcIjBcIiArIGNocnMuY2hhckF0KDApKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IGNocnMuY2hhckF0KDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBjaHJzID0gY2hycztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmFOKG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKSB8fCAocGNocnMgKz0gbWFza3NldC5idWZmZXJbcG9zICsgMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSAxID09PSBwY2hycy5sZW5ndGggPyBvcHRzLnJlZ2V4LnZhbDFwcmUudGVzdChwY2hycykgOiBvcHRzLnJlZ2V4LnZhbDEudGVzdChwY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5yZWdleC52YWwxLnRlc3QoY2hycyArIFwiMFwiKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBjaHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyWysrcG9zXSA9IFwiMFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBcIjBcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDEudGVzdChcIjBcIiArIGNocnMpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCIyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZnJvbnRWYWx1ZSA9IG9wdHMuZ2V0RnJvbnRWYWx1ZShtYXNrc2V0Lm1hc2ssIG1hc2tzZXQuYnVmZmVyLCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLTEgIT09IGZyb250VmFsdWUuaW5kZXhPZihvcHRzLnBsYWNlaG9sZGVyWzBdKSAmJiAoZnJvbnRWYWx1ZSA9IFwiMDFcIiArIG9wdHMuc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCAmJiAoY2hycy5jaGFyQXQoMSkgPT09IG9wdHMuc2VwYXJhdG9yIHx8IC0xICE9PSBcIi0uL1wiLmluZGV4T2YoY2hycy5jaGFyQXQoMSkpKSAmJiAoaXNWYWxpZCA9IG9wdHMucmVnZXgudmFsMihvcHRzLnNlcGFyYXRvcikudGVzdChmcm9udFZhbHVlICsgXCIwXCIgKyBjaHJzLmNoYXJBdCgwKSkpKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydDogcG9zIC0gMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogY2hycy5jaGFyQXQoMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMubWFzay5pbmRleE9mKFwiMlwiKSA9PT0gb3B0cy5tYXNrLmxlbmd0aCAtIDEgJiYgaXNWYWxpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRheU1vbnRoVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cig0LCA0KSArIGNocnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF5TW9udGhWYWx1ZSAhPT0gb3B0cy5sZWFwZGF5KSByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhciA9IHBhcnNlSW50KG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKDAsIDQpLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWVhciAlIDQgPT09IDAgPyB5ZWFyICUgMTAwID09PSAwID8geWVhciAlIDQwMCA9PT0gMCA/ICEwIDogITEgOiAhMCA6ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOYU4obWFza3NldC5idWZmZXJbcG9zICsgMV0pIHx8IChjaHJzICs9IG1hc2tzZXQuYnVmZmVyW3BvcyArIDFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmcm9udFZhbHVlID0gb3B0cy5nZXRGcm9udFZhbHVlKG1hc2tzZXQubWFzaywgbWFza3NldC5idWZmZXIsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLTEgIT09IGZyb250VmFsdWUuaW5kZXhPZihvcHRzLnBsYWNlaG9sZGVyWzBdKSAmJiAoZnJvbnRWYWx1ZSA9IFwiMDFcIiArIG9wdHMuc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gMSA9PT0gY2hycy5sZW5ndGggPyBvcHRzLnJlZ2V4LnZhbDJwcmUob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIGNocnMpIDogb3B0cy5yZWdleC52YWwyKG9wdHMuc2VwYXJhdG9yKS50ZXN0KGZyb250VmFsdWUgKyBjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4LnZhbDIob3B0cy5zZXBhcmF0b3IpLnRlc3QoZnJvbnRWYWx1ZSArIFwiMFwiICsgY2hycykpID8gaXNWYWxpZCA6IChtYXNrc2V0LmJ1ZmZlcltwb3NdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvczogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9XVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHk6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF5TW9udGhWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikuc3Vic3RyKDAsIDYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheU1vbnRoVmFsdWUgIT09IG9wdHMubGVhcGRheSkgcmV0dXJuICEwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXIgPSBwYXJzZUludChjaHJzLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geWVhciAlIDQgPT09IDAgPyB5ZWFyICUgMTAwID09PSAwID8geWVhciAlIDQwMCA9PT0gMCA/ICEwIDogITEgOiAhMCA6ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiA0LFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogW3tcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgeWVhclByZWZpeCA9IG9wdHMuZGV0ZXJtaW5lYmFzZXllYXIob3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhciwgY2hycyArIFwiMFwiKS50b1N0cmluZygpLnNsaWNlKDAsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gb3B0cy5pc0luWWVhclJhbmdlKHllYXJQcmVmaXggKyBjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzICsgXCIwXCIpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMiksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuaXNJblllYXJSYW5nZShjaHJzLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghc3RyaWN0ICYmICFpc1ZhbGlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHllYXJQcmVmaXggPSBvcHRzLmRldGVybWluZWJhc2V5ZWFyKG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIsIGNocnMpLnRvU3RyaW5nKCkuc2xpY2UoMCwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQgPSBvcHRzLmlzSW5ZZWFyUmFuZ2UoY2hyc1swXSArIHllYXJQcmVmaXhbMV0gKyBjaHJzWzFdLCBvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcysrXSA9IHllYXJQcmVmaXguY2hhckF0KDEpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh5ZWFyUHJlZml4ID0gb3B0cy5kZXRlcm1pbmViYXNleWVhcihvcHRzLnllYXJyYW5nZS5taW55ZWFyLCBvcHRzLnllYXJyYW5nZS5tYXh5ZWFyLCBjaHJzKS50b1N0cmluZygpLnNsaWNlKDAsIDIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMuaXNJblllYXJSYW5nZSh5ZWFyUHJlZml4ICsgY2hycywgb3B0cy55ZWFycmFuZ2UubWlueWVhciwgb3B0cy55ZWFycmFuZ2UubWF4eWVhcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRheU1vbnRoVmFsdWUgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cigwLCA2KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRheU1vbnRoVmFsdWUgIT09IG9wdHMubGVhcGRheSkgaXNWYWxpZCA9ICEwOyBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5ZWFyID0gcGFyc2VJbnQoY2hycywgMTApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IHllYXIgJSA0ID09PSAwID8geWVhciAlIDEwMCA9PT0gMCA/IHllYXIgJSA0MDAgPT09IDAgPyAhMCA6ICExIDogITAgOiAhMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpc1ZhbGlkID0gITE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHJldHVybiBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA9IHllYXJQcmVmaXguY2hhckF0KDApLCBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSB5ZWFyUHJlZml4LmNoYXJBdCgxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrc2V0LmJ1ZmZlcltwb3MrK10gPSBjaHJzLmNoYXJBdCgwKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDJcclxuICAgICAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0cy5pc0luWWVhclJhbmdlKGNocnMsIG9wdHMueWVhcnJhbmdlLm1pbnllYXIsIG9wdHMueWVhcnJhbmdlLm1heHllYXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogM1xyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGluc2VydE1vZGU6ICExLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtbS9kZC95eXl5XCI6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwibW0vZGQveXl5eVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICB2YWwycHJlOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTNdKXwoMDJcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTJdKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwyOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMTMtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzApfCgoMFsxMzU3OF18MVswMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMXByZTogbmV3IFJlZ0V4cChcIlswMV1cIiksXHJcbiAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfDFbMDEyXVwiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBsZWFwZGF5OiBcIjAyLzI5L1wiLFxyXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgJiYgZS5rZXlDb2RlID09PSBJbnB1dG1hc2sua2V5Q29kZS5SSUdIVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbCgodG9kYXkuZ2V0TW9udGgoKSArIDEpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXREYXRlKCkudG9TdHJpbmcoKSArIHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSksXHJcbiAgICAgICAgICAgICAgICAgICAgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwieXl5eS9tbS9kZFwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwieS8xLzJcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwieXl5eS9tbS9kZFwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiLzAyLzI5XCIsXHJcbiAgICAgICAgICAgIG9uS2V5RG93bjogZnVuY3Rpb24gKGUsIGJ1ZmZlciwgY2FyZXRQb3MsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkaW5wdXQgPSAkKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmtleUNvZGUgPT09IElucHV0bWFzay5rZXlDb2RlLlJJR0hUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudmFsKHRvZGF5LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArICh0b2RheS5nZXRNb250aCgpICsgMSkudG9TdHJpbmcoKSArIHRvZGF5LmdldERhdGUoKS50b1N0cmluZygpKSxcclxuICAgICAgICAgICAgICAgICAgICAkaW5wdXQudHJpZ2dlcihcInNldHZhbHVlLmlucHV0bWFza1wiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJkZC5tbS55eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLjIueVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkZC5tbS55eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMjkuMDIuXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJkZC1tbS15eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLTIteVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkZC1tbS15eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMjktMDItXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCItXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRkL21tL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtbS5kZC55eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLjIueVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS5kZC55eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMDIuMjkuXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtbS1kZC15eXl5XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLTIteVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJtbS1kZC15eXl5XCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiMDItMjktXCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCItXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcIm1tL2RkL3l5eXlcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ5eXl5Lm1tLmRkXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJ5LjEuMlwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5Lm1tLmRkXCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiLjAyLjI5XCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCIuXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcInl5eXkvbW0vZGRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJ5eXl5LW1tLWRkXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJ5LTEtMlwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJ5eXl5LW1tLWRkXCIsXHJcbiAgICAgICAgICAgIGxlYXBkYXk6IFwiLTAyLTI5XCIsXHJcbiAgICAgICAgICAgIHNlcGFyYXRvcjogXCItXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcInl5eXkvbW0vZGRcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0ZXRpbWU6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLzIveSBoOnNcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiZGQvbW0veXl5eSBoaDptbVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiB7XHJcbiAgICAgICAgICAgICAgICBocnNwcmU6IG5ldyBSZWdFeHAoXCJbMDEyXVwiKSxcclxuICAgICAgICAgICAgICAgIGhyczI0OiBuZXcgUmVnRXhwKFwiMlswLTRdfDFbMy05XVwiKSxcclxuICAgICAgICAgICAgICAgIGhyczogbmV3IFJlZ0V4cChcIlswMV1bMC05XXwyWzAtNF1cIiksXHJcbiAgICAgICAgICAgICAgICBhbXBtOiBuZXcgUmVnRXhwKFwiXlthfHB8QXxQXVttfE1dXCIpLFxyXG4gICAgICAgICAgICAgICAgbXNwcmU6IG5ldyBSZWdFeHAoXCJbMC01XVwiKSxcclxuICAgICAgICAgICAgICAgIG1zOiBuZXcgUmVnRXhwKFwiWzAtNV1bMC05XVwiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB0aW1lc2VwYXJhdG9yOiBcIjpcIixcclxuICAgICAgICAgICAgaG91ckZvcm1hdDogXCIyNFwiLFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgaDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcIjI0XCIgPT09IG9wdHMuaG91ckZvcm1hdCAmJiAyNCA9PT0gcGFyc2VJbnQoY2hycywgMTApKSByZXR1cm4gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogXCIwXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhycy50ZXN0KGNocnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAhaXNWYWxpZCAmJiAoY2hycy5jaGFyQXQoMSkgPT09IG9wdHMudGltZXNlcGFyYXRvciB8fCAtMSAhPT0gXCItLjpcIi5pbmRleE9mKGNocnMuY2hhckF0KDEpKSkgJiYgKGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lmhycy50ZXN0KFwiMFwiICsgY2hycy5jaGFyQXQoMCkpKSkgcmV0dXJuIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gXCIwXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBjaHJzLmNoYXJBdCgwKSwgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IHBvcyAtIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMudGltZXNlcGFyYXRvclxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCAmJiBcIjI0XCIgIT09IG9wdHMuaG91ckZvcm1hdCAmJiBvcHRzLnJlZ2V4LmhyczI0LnRlc3QoY2hycykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBwYXJzZUludChjaHJzLCAxMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjQgPT09IHRtcCA/IChtYXNrc2V0LmJ1ZmZlcltwb3MgKyA1XSA9IFwiYVwiLCBtYXNrc2V0LmJ1ZmZlcltwb3MgKyA2XSA9IFwibVwiKSA6IChtYXNrc2V0LmJ1ZmZlcltwb3MgKyA1XSA9IFwicFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zICsgNl0gPSBcIm1cIiksIHRtcCAtPSAxMiwgMTAgPiB0bXAgPyAobWFza3NldC5idWZmZXJbcG9zXSA9IHRtcC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFza3NldC5idWZmZXJbcG9zIC0gMV0gPSBcIjBcIikgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IHRtcC50b1N0cmluZygpLmNoYXJBdCgxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQuYnVmZmVyW3BvcyAtIDFdID0gdG1wLnRvU3RyaW5nKCkuY2hhckF0KDApKSwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0OiBwb3MgLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQ6IHBvcyArIDZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IG1hc2tzZXQuYnVmZmVyW3Bvc11cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXguaHJzcHJlLnRlc3QoY2hycyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RyaWN0IHx8IGlzVmFsaWQgfHwgIShpc1ZhbGlkID0gb3B0cy5yZWdleC5ocnMudGVzdChcIjBcIiArIGNocnMpKSA/IGlzVmFsaWQgOiAobWFza3NldC5idWZmZXJbcG9zXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zKyssIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIlswLTVdWzAtOV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMixcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IFt7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMucmVnZXgubXNwcmUudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdHJpY3QgfHwgaXNWYWxpZCB8fCAhKGlzVmFsaWQgPSBvcHRzLnJlZ2V4Lm1zLnRlc3QoXCIwXCIgKyBjaHJzKSkgPyBpc1ZhbGlkIDogKG1hc2tzZXQuYnVmZmVyW3Bvc10gPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcysrLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMVxyXG4gICAgICAgICAgICAgICAgICAgIH1dXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnJlZ2V4LmFtcG0udGVzdChjaHJzICsgXCJtXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FzaW5nOiBcImxvd2VyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5zZXJ0TW9kZTogITEsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkYXRldGltZTEyOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS8yL3kgaDpzIHRcXFxcbVwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJkZC9tbS95eXl5IGhoOm1tIHhtXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgIGhvdXJGb3JtYXQ6IFwiMTJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJtbS9kZC95eXl5IGhoOm1tIHhtXCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCIxLzIveSBoOnMgdFxcXFxtXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tL2RkL3l5eXkgaGg6bW0geG1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWUxMlwiLFxyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxMy05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0zXSl8KDAyXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCJbMC0yXSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMjogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIigwWzEtOV18WzEyXVswLTldKSl8KCgwWzEzLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIjMwKXwoKDBbMTM1NzhdfDFbMDJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiMzEpXCIpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIHZhbDFwcmU6IG5ldyBSZWdFeHAoXCJbMDFdXCIpLFxyXG4gICAgICAgICAgICAgICAgdmFsMTogbmV3IFJlZ0V4cChcIjBbMS05XXwxWzAxMl1cIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbGVhcGRheTogXCIwMi8yOS9cIixcclxuICAgICAgICAgICAgb25LZXlEb3duOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5jdHJsS2V5ICYmIGUua2V5Q29kZSA9PT0gSW5wdXRtYXNrLmtleUNvZGUuUklHSFQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwoKHRvZGF5LmdldE1vbnRoKCkgKyAxKS50b1N0cmluZygpICsgdG9kYXkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkgKyB0b2RheS5nZXRGdWxsWWVhcigpLnRvU3RyaW5nKCkpLFxyXG4gICAgICAgICAgICAgICAgICAgICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImhoOm1tIHRcIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImg6cyB0XFxcXG1cIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiaGg6bW0geG1cIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgaG91ckZvcm1hdDogXCIxMlwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImg6cyB0XCI6IHtcclxuICAgICAgICAgICAgbWFzazogXCJoOnMgdFxcXFxtXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcImhoOm1tIHhtXCIsXHJcbiAgICAgICAgICAgIGFsaWFzOiBcImRhdGV0aW1lXCIsXHJcbiAgICAgICAgICAgIGhvdXJGb3JtYXQ6IFwiMTJcIlxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJoaDptbTpzc1wiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiaDpzOnNcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwiaGg6bW06c3NcIixcclxuICAgICAgICAgICAgYWxpYXM6IFwiZGF0ZXRpbWVcIixcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITFcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwiaGg6bW1cIjoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImg6c1wiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJoaDptbVwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJkYXRldGltZVwiLFxyXG4gICAgICAgICAgICBhdXRvVW5tYXNrOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGF0ZToge1xyXG4gICAgICAgICAgICBhbGlhczogXCJkZC9tbS95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibW0veXl5eVwiOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IFwiMS95XCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIm1tL3l5eXlcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCJkb25vdHVzZVwiLFxyXG4gICAgICAgICAgICBzZXBhcmF0b3I6IFwiL1wiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNoYW1zaToge1xyXG4gICAgICAgICAgICByZWdleDoge1xyXG4gICAgICAgICAgICAgICAgdmFsMnByZTogZnVuY3Rpb24gKHNlcGFyYXRvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBlc2NhcGVkU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4LmNhbGwodGhpcywgc2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChcIigoMFsxLTldfDFbMDEyXSlcIiArIGVzY2FwZWRTZXBhcmF0b3IgKyBcIlswLTNdKVwiKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB2YWwyOiBmdW5jdGlvbiAoc2VwYXJhdG9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVzY2FwZWRTZXBhcmF0b3IgPSBJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBzZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKCgwWzEtOV18MVswMTJdKVwiICsgZXNjYXBlZFNlcGFyYXRvciArIFwiKDBbMS05XXxbMTJdWzAtOV0pKXwoKDBbMS05XXwxWzAxMl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMCl8KCgwWzEtNl0pXCIgKyBlc2NhcGVkU2VwYXJhdG9yICsgXCIzMSlcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgdmFsMXByZTogbmV3IFJlZ0V4cChcIlswMV1cIiksXHJcbiAgICAgICAgICAgICAgICB2YWwxOiBuZXcgUmVnRXhwKFwiMFsxLTldfDFbMDEyXVwiKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB5ZWFycmFuZ2U6IHtcclxuICAgICAgICAgICAgICAgIG1pbnllYXI6IDEzMDAsXHJcbiAgICAgICAgICAgICAgICBtYXh5ZWFyOiAxNDk5XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG1hc2s6IFwieS8xLzJcIixcclxuICAgICAgICAgICAgbGVhcGRheTogXCIvMTIvMzBcIixcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IFwieXl5eS9tbS9kZFwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJtbS9kZC95eXl5XCIsXHJcbiAgICAgICAgICAgIGNsZWFySW5jb21wbGV0ZTogITBcclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIElucHV0bWFzay5leHRlbmREZWZpbml0aW9ucyh7XHJcbiAgICAgICAgQToge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiW0EtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIiZcIjoge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtWmEtelxcdTA0MTAtXFx1MDQ0ZlxcdTA0MDFcXHUwNDUxXFx4YzAtXFx4ZmZcXHhiNV1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcIiNcIjoge1xyXG4gICAgICAgICAgICB2YWxpZGF0b3I6IFwiWzAtOUEtRmEtZl1cIixcclxuICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgIGNhc2luZzogXCJ1cHBlclwiXHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICB1cmw6IHtcclxuICAgICAgICAgICAgbWFzazogXCJpclwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIixcclxuICAgICAgICAgICAgc2VwYXJhdG9yOiBcIlwiLFxyXG4gICAgICAgICAgICBkZWZhdWx0UHJlZml4OiBcImh0dHA6Ly9cIixcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIHVybHByZTE6IG5ldyBSZWdFeHAoXCJbZmhdXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlMjogbmV3IFJlZ0V4cChcIihmdHxodClcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmUzOiBuZXcgUmVnRXhwKFwiKGZ0cHxodHQpXCIpLFxyXG4gICAgICAgICAgICAgICAgdXJscHJlNDogbmV3IFJlZ0V4cChcIihmdHA6fGh0dHB8ZnRwcylcIiksXHJcbiAgICAgICAgICAgICAgICB1cmxwcmU1OiBuZXcgUmVnRXhwKFwiKGZ0cDovfGZ0cHM6fGh0dHA6fGh0dHBzKVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTY6IG5ldyBSZWdFeHAoXCIoZnRwOi8vfGZ0cHM6L3xodHRwOi98aHR0cHM6KVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTc6IG5ldyBSZWdFeHAoXCIoZnRwOi8vfGZ0cHM6Ly98aHR0cDovL3xodHRwczovKVwiKSxcclxuICAgICAgICAgICAgICAgIHVybHByZTg6IG5ldyBSZWdFeHAoXCIoZnRwOi8vfGZ0cHM6Ly98aHR0cDovL3xodHRwczovLylcIilcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGk6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gITA7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogOCxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgcmVzdWx0ID0gW10sIHByZWZpeExpbWl0ID0gOCwgaSA9IDA7IHByZWZpeExpbWl0ID4gaTsgaSsrKSByZXN1bHRbaV0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaiA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRzLnJlZ2V4W1widXJscHJlXCIgKyAoaiArIDEpXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGssIHRtcCA9IGNocnM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBqICsgMSAtIGNocnMubGVuZ3RoID4gMCAmJiAodG1wID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5zdWJzdHJpbmcoMCwgaiArIDEgLSBjaHJzLmxlbmd0aCkgKyBcIlwiICsgdG1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gb3B0cy5yZWdleFtcInVybHByZVwiICsgKGogKyAxKV0udGVzdCh0bXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFzdHJpY3QgJiYgIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHBvcyAtPSBqLCBrID0gMDsgayA8IG9wdHMuZGVmYXVsdFByZWZpeC5sZW5ndGg7IGsrKykgbWFza3NldC5idWZmZXJbcG9zXSA9IG9wdHMuZGVmYXVsdFByZWZpeFtrXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgdG1wLmxlbmd0aCAtIDE7IGsrKykgbWFza3NldC5idWZmZXJbcG9zXSA9IHRtcFtrXSwgcG9zKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IGpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KClcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICByOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBcIi5cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogNTBcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgaW5zZXJ0TW9kZTogITEsXHJcbiAgICAgICAgICAgIGF1dG9Vbm1hc2s6ICExXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpcDoge1xyXG4gICAgICAgICAgICBtYXNrOiBcImlbaVtpXV0uaVtpW2ldXS5pW2lbaV1dLmlbaVtpXV1cIixcclxuICAgICAgICAgICAgZGVmaW5pdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGk6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zIC0gMSA+IC0xICYmIFwiLlwiICE9PSBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAxXSA/IChjaHJzID0gbWFza3NldC5idWZmZXJbcG9zIC0gMV0gKyBjaHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaHJzID0gcG9zIC0gMiA+IC0xICYmIFwiLlwiICE9PSBtYXNrc2V0LmJ1ZmZlcltwb3MgLSAyXSA/IG1hc2tzZXQuYnVmZmVyW3BvcyAtIDJdICsgY2hycyA6IFwiMFwiICsgY2hycykgOiBjaHJzID0gXCIwMFwiICsgY2hycyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFJlZ0V4cChcIjI1WzAtNV18MlswLTRdWzAtOV18WzAxXVswLTldWzAtOV1cIikudGVzdChjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9uVW5NYXNrOiBmdW5jdGlvbiAobWFza2VkVmFsdWUsIHVubWFza2VkVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrZWRWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW1haWw6IHtcclxuICAgICAgICAgICAgbWFzazogXCIqezEsNjR9Wy4qezEsNjR9XVsuKnsxLDY0fV1bLip7MSw2NH1dQCp7MSw2NH1bLip7Miw2NH1dWy4qezIsNn1dWy4qezEsMn1dXCIsXHJcbiAgICAgICAgICAgIGdyZWVkeTogITEsXHJcbiAgICAgICAgICAgIG9uQmVmb3JlUGFzdGU6IGZ1bmN0aW9uIChwYXN0ZWRWYWx1ZSwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhc3RlZFZhbHVlID0gcGFzdGVkVmFsdWUudG9Mb3dlckNhc2UoKSwgcGFzdGVkVmFsdWUucmVwbGFjZShcIm1haWx0bzpcIiwgXCJcIik7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmluaXRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBcIipcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogXCJbMC05QS1aYS16ISMkJSYnKisvPT9eX2B7fH1+LV1cIixcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBjYXNpbmc6IFwibG93ZXJcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblVuTWFzazogZnVuY3Rpb24gKG1hc2tlZFZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFza2VkVmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIG1hYzoge1xyXG4gICAgICAgICAgICBtYXNrOiBcIiMjOiMjOiMjOiMjOiMjOiMjXCJcclxuICAgICAgICB9XHJcbiAgICB9KSwgSW5wdXRtYXNrO1xyXG59KGpRdWVyeSwgSW5wdXRtYXNrKSwgZnVuY3Rpb24gKCQsIElucHV0bWFzaykge1xyXG4gICAgcmV0dXJuIElucHV0bWFzay5leHRlbmRBbGlhc2VzKHtcclxuICAgICAgICBudW1lcmljOiB7XHJcbiAgICAgICAgICAgIG1hc2s6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBhdXRvRXNjYXBlKHR4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGVzY2FwZWRUeHQgPSBcIlwiLCBpID0gMDsgaSA8IHR4dC5sZW5ndGg7IGkrKykgZXNjYXBlZFR4dCArPSBvcHRzLmRlZmluaXRpb25zW3R4dC5jaGFyQXQoaSldID8gXCJcXFxcXCIgKyB0eHQuY2hhckF0KGkpIDogdHh0LmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXNjYXBlZFR4dDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICgwICE9PSBvcHRzLnJlcGVhdCAmJiBpc05hTihvcHRzLmludGVnZXJEaWdpdHMpICYmIChvcHRzLmludGVnZXJEaWdpdHMgPSBvcHRzLnJlcGVhdCksXHJcbiAgICAgICAgICAgICAgICBvcHRzLnJlcGVhdCA9IDAsIG9wdHMuZ3JvdXBTZXBhcmF0b3IgPT09IG9wdHMucmFkaXhQb2ludCAmJiAoXCIuXCIgPT09IG9wdHMucmFkaXhQb2ludCA/IG9wdHMuZ3JvdXBTZXBhcmF0b3IgPSBcIixcIiA6IFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgPyBvcHRzLmdyb3VwU2VwYXJhdG9yID0gXCIuXCIgOiBvcHRzLmdyb3VwU2VwYXJhdG9yID0gXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcIiBcIiA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciAmJiAob3B0cy5za2lwT3B0aW9uYWxQYXJ0Q2hhcmFjdGVyID0gdm9pZCAwKSwgb3B0cy5hdXRvR3JvdXAgPSBvcHRzLmF1dG9Hcm91cCAmJiBcIlwiICE9PSBvcHRzLmdyb3VwU2VwYXJhdG9yLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5hdXRvR3JvdXAgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIG9wdHMuZ3JvdXBTaXplICYmIGlzRmluaXRlKG9wdHMuZ3JvdXBTaXplKSAmJiAob3B0cy5ncm91cFNpemUgPSBwYXJzZUludChvcHRzLmdyb3VwU2l6ZSkpLFxyXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUob3B0cy5pbnRlZ2VyRGlnaXRzKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2VwcyA9IE1hdGguZmxvb3Iob3B0cy5pbnRlZ2VyRGlnaXRzIC8gb3B0cy5ncm91cFNpemUpLCBtb2QgPSBvcHRzLmludGVnZXJEaWdpdHMgJSBvcHRzLmdyb3VwU2l6ZTtcclxuICAgICAgICAgICAgICAgICAgICBvcHRzLmludGVnZXJEaWdpdHMgPSBwYXJzZUludChvcHRzLmludGVnZXJEaWdpdHMpICsgKDAgPT09IG1vZCA/IHNlcHMgLSAxIDogc2VwcyksXHJcbiAgICAgICAgICAgICAgICAgICAgb3B0cy5pbnRlZ2VyRGlnaXRzIDwgMSAmJiAob3B0cy5pbnRlZ2VyRGlnaXRzID0gXCIqXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgb3B0cy5wbGFjZWhvbGRlci5sZW5ndGggPiAxICYmIChvcHRzLnBsYWNlaG9sZGVyID0gb3B0cy5wbGFjZWhvbGRlci5jaGFyQXQoMCkpLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5yYWRpeEZvY3VzID0gb3B0cy5yYWRpeEZvY3VzICYmIFwiXCIgIT09IG9wdHMucGxhY2Vob2xkZXIgJiYgb3B0cy5pbnRlZ2VyT3B0aW9uYWwgPT09ICEwLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5kZWZpbml0aW9uc1tcIjtcIl0gPSBvcHRzLmRlZmluaXRpb25zW1wiflwiXSwgb3B0cy5kZWZpbml0aW9uc1tcIjtcIl0uZGVmaW5pdGlvblN5bWJvbCA9IFwiflwiLFxyXG4gICAgICAgICAgICAgICAgb3B0cy5udW1lcmljSW5wdXQgPT09ICEwICYmIChvcHRzLnJhZGl4Rm9jdXMgPSAhMSwgb3B0cy5kaWdpdHNPcHRpb25hbCA9ICExLCBpc05hTihvcHRzLmRpZ2l0cykgJiYgKG9wdHMuZGlnaXRzID0gMiksXHJcbiAgICAgICAgICAgICAgICBvcHRzLmRlY2ltYWxQcm90ZWN0ID0gITEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIG1hc2sgPSBhdXRvRXNjYXBlKG9wdHMucHJlZml4KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBtYXNrICs9IFwiWytdXCIsIG1hc2sgKz0gb3B0cy5pbnRlZ2VyT3B0aW9uYWwgPT09ICEwID8gXCJ+ezEsXCIgKyBvcHRzLmludGVnZXJEaWdpdHMgKyBcIn1cIiA6IFwifntcIiArIG9wdHMuaW50ZWdlckRpZ2l0cyArIFwifVwiLFxyXG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBvcHRzLmRpZ2l0cyAmJiAoaXNOYU4ob3B0cy5kaWdpdHMpIHx8IHBhcnNlSW50KG9wdHMuZGlnaXRzKSA+IDApICYmIChtYXNrICs9IG9wdHMuZGlnaXRzT3B0aW9uYWwgPyBcIltcIiArIChvcHRzLmRlY2ltYWxQcm90ZWN0ID8gXCI6XCIgOiBvcHRzLnJhZGl4UG9pbnQpICsgXCI7ezEsXCIgKyBvcHRzLmRpZ2l0cyArIFwifV1cIiA6IChvcHRzLmRlY2ltYWxQcm90ZWN0ID8gXCI6XCIgOiBvcHRzLnJhZGl4UG9pbnQpICsgXCI7e1wiICsgb3B0cy5kaWdpdHMgKyBcIn1cIiksXHJcbiAgICAgICAgICAgICAgICBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgJiYgKG1hc2sgKz0gXCJbLV1cIiksIG1hc2sgKz0gYXV0b0VzY2FwZShvcHRzLnN1ZmZpeCksXHJcbiAgICAgICAgICAgICAgICBvcHRzLmdyZWVkeSA9ICExLCBtYXNrO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIixcclxuICAgICAgICAgICAgZ3JlZWR5OiAhMSxcclxuICAgICAgICAgICAgZGlnaXRzOiBcIipcIixcclxuICAgICAgICAgICAgZGlnaXRzT3B0aW9uYWw6ICEwLFxyXG4gICAgICAgICAgICByYWRpeFBvaW50OiBcIi5cIixcclxuICAgICAgICAgICAgcmFkaXhGb2N1czogITAsXHJcbiAgICAgICAgICAgIGdyb3VwU2l6ZTogMyxcclxuICAgICAgICAgICAgZ3JvdXBTZXBhcmF0b3I6IFwiXCIsXHJcbiAgICAgICAgICAgIGF1dG9Hcm91cDogITEsXHJcbiAgICAgICAgICAgIGFsbG93UGx1czogITAsXHJcbiAgICAgICAgICAgIGFsbG93TWludXM6ICEwLFxyXG4gICAgICAgICAgICBuZWdhdGlvblN5bWJvbDoge1xyXG4gICAgICAgICAgICAgICAgZnJvbnQ6IFwiLVwiLFxyXG4gICAgICAgICAgICAgICAgYmFjazogXCJcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpbnRlZ2VyRGlnaXRzOiBcIitcIixcclxuICAgICAgICAgICAgaW50ZWdlck9wdGlvbmFsOiAhMCxcclxuICAgICAgICAgICAgcHJlZml4OiBcIlwiLFxyXG4gICAgICAgICAgICBzdWZmaXg6IFwiXCIsXHJcbiAgICAgICAgICAgIHJpZ2h0QWxpZ246ICEwLFxyXG4gICAgICAgICAgICBkZWNpbWFsUHJvdGVjdDogITAsXHJcbiAgICAgICAgICAgIG1pbjogbnVsbCxcclxuICAgICAgICAgICAgbWF4OiBudWxsLFxyXG4gICAgICAgICAgICBzdGVwOiAxLFxyXG4gICAgICAgICAgICBpbnNlcnRNb2RlOiAhMCxcclxuICAgICAgICAgICAgYXV0b1VubWFzazogITEsXHJcbiAgICAgICAgICAgIHVubWFza0FzTnVtYmVyOiAhMSxcclxuICAgICAgICAgICAgcG9zdEZvcm1hdDogZnVuY3Rpb24gKGJ1ZmZlciwgcG9zLCByZWZvcm1hdE9ubHksIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMubnVtZXJpY0lucHV0ID09PSAhMCAmJiAoYnVmZmVyID0gYnVmZmVyLnJldmVyc2UoKSwgaXNGaW5pdGUocG9zKSAmJiAocG9zID0gYnVmZmVyLmpvaW4oXCJcIikubGVuZ3RoIC0gcG9zIC0gMSkpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGksIGwsIHN1ZmZpeFN0cmlwcGVkID0gITE7XHJcbiAgICAgICAgICAgICAgICBidWZmZXIubGVuZ3RoID49IG9wdHMuc3VmZml4Lmxlbmd0aCAmJiBidWZmZXIuam9pbihcIlwiKS5pbmRleE9mKG9wdHMuc3VmZml4KSA9PT0gYnVmZmVyLmxlbmd0aCAtIG9wdHMuc3VmZml4Lmxlbmd0aCAmJiAoYnVmZmVyLmxlbmd0aCA9IGJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBzdWZmaXhTdHJpcHBlZCA9ICEwKSwgcG9zID0gcG9zID49IGJ1ZmZlci5sZW5ndGggPyBidWZmZXIubGVuZ3RoIC0gMSA6IHBvcyA8IG9wdHMucHJlZml4Lmxlbmd0aCA/IG9wdHMucHJlZml4Lmxlbmd0aCA6IHBvcztcclxuICAgICAgICAgICAgICAgIHZhciBuZWVkc1JlZnJlc2ggPSAhMSwgY2hhckF0UG9zID0gYnVmZmVyW3Bvc107XHJcbiAgICAgICAgICAgICAgICBpZiAoXCJcIiA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciB8fCBvcHRzLm51bWVyaWNJbnB1dCAhPT0gITAgJiYgLTEgIT09ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIGJ1ZmZlcikgJiYgcG9zID4gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKSB8fCBuZXcgUmVnRXhwKFwiW1wiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpICsgXCIrXVwiKS50ZXN0KGNoYXJBdFBvcykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoc3VmZml4U3RyaXBwZWQpIGZvciAoaSA9IDAsIGwgPSBvcHRzLnN1ZmZpeC5sZW5ndGg7IGwgPiBpOyBpKyspIGJ1ZmZlci5wdXNoKG9wdHMuc3VmZml4LmNoYXJBdChpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3NcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIGNidWYgPSBidWZmZXIuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIGNoYXJBdFBvcyA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciAmJiAoY2J1Zi5zcGxpY2UocG9zLS0sIDEpLCBjaGFyQXRQb3MgPSBjYnVmW3Bvc10pLFxyXG4gICAgICAgICAgICAgICAgcmVmb3JtYXRPbmx5ID8gY2hhckF0UG9zICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgKGNidWZbcG9zXSA9IFwiP1wiKSA6IGNidWYuc3BsaWNlKHBvcywgMCwgXCI/XCIpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGJ1ZlZhbCA9IGNidWYuam9pbihcIlwiKSwgYnVmVmFsT3JpZ2luID0gYnVmVmFsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGJ1ZlZhbC5sZW5ndGggPiAwICYmIG9wdHMuYXV0b0dyb3VwIHx8IHJlZm9ybWF0T25seSAmJiAtMSAhPT0gYnVmVmFsLmluZGV4T2Yob3B0cy5ncm91cFNlcGFyYXRvcikpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgZXNjYXBlZEdyb3VwU2VwYXJhdG9yID0gSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIG5lZWRzUmVmcmVzaCA9IDAgPT09IGJ1ZlZhbC5pbmRleE9mKG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBidWZWYWwgPSBidWZWYWwucmVwbGFjZShuZXcgUmVnRXhwKGVzY2FwZWRHcm91cFNlcGFyYXRvciwgXCJnXCIpLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhTcGxpdCA9IGJ1ZlZhbC5zcGxpdChvcHRzLnJhZGl4UG9pbnQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChidWZWYWwgPSBcIlwiID09PSBvcHRzLnJhZGl4UG9pbnQgPyBidWZWYWwgOiByYWRpeFNwbGl0WzBdLCBidWZWYWwgIT09IG9wdHMucHJlZml4ICsgXCI/MFwiICYmIGJ1ZlZhbC5sZW5ndGggPj0gb3B0cy5ncm91cFNpemUgKyBvcHRzLnByZWZpeC5sZW5ndGgpIGZvciAodmFyIHJlZyA9IG5ldyBSZWdFeHAoXCIoWy0rXT9bXFxcXGQ/XSspKFtcXFxcZD9de1wiICsgb3B0cy5ncm91cFNpemUgKyBcIn0pXCIpIDsgcmVnLnRlc3QoYnVmVmFsKSA7KSBidWZWYWwgPSBidWZWYWwucmVwbGFjZShyZWcsIFwiJDFcIiArIG9wdHMuZ3JvdXBTZXBhcmF0b3IgKyBcIiQyXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZlZhbCA9IGJ1ZlZhbC5yZXBsYWNlKG9wdHMuZ3JvdXBTZXBhcmF0b3IgKyBvcHRzLmdyb3VwU2VwYXJhdG9yLCBvcHRzLmdyb3VwU2VwYXJhdG9yKTtcclxuICAgICAgICAgICAgICAgICAgICBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgcmFkaXhTcGxpdC5sZW5ndGggPiAxICYmIChidWZWYWwgKz0gb3B0cy5yYWRpeFBvaW50ICsgcmFkaXhTcGxpdFsxXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBmb3IgKG5lZWRzUmVmcmVzaCA9IGJ1ZlZhbE9yaWdpbiAhPT0gYnVmVmFsLCBidWZmZXIubGVuZ3RoID0gYnVmVmFsLmxlbmd0aCwgaSA9IDAsXHJcbiAgICAgICAgICAgICAgICBsID0gYnVmVmFsLmxlbmd0aDsgbCA+IGk7IGkrKykgYnVmZmVyW2ldID0gYnVmVmFsLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHZhciBuZXdQb3MgPSAkLmluQXJyYXkoXCI/XCIsIGJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAoLTEgPT09IG5ld1BvcyAmJiBjaGFyQXRQb3MgPT09IG9wdHMucmFkaXhQb2ludCAmJiAobmV3UG9zID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKSksXHJcbiAgICAgICAgICAgICAgICByZWZvcm1hdE9ubHkgPyBidWZmZXJbbmV3UG9zXSA9IGNoYXJBdFBvcyA6IGJ1ZmZlci5zcGxpY2UobmV3UG9zLCAxKSwgIW5lZWRzUmVmcmVzaCAmJiBzdWZmaXhTdHJpcHBlZCkgZm9yIChpID0gMCxcclxuICAgICAgICAgICAgICAgIGwgPSBvcHRzLnN1ZmZpeC5sZW5ndGg7IGwgPiBpOyBpKyspIGJ1ZmZlci5wdXNoKG9wdHMuc3VmZml4LmNoYXJBdChpKSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3UG9zID0gb3B0cy5udW1lcmljSW5wdXQgJiYgaXNGaW5pdGUocG9zKSA/IGJ1ZmZlci5qb2luKFwiXCIpLmxlbmd0aCAtIG5ld1BvcyAtIDEgOiBuZXdQb3MsXHJcbiAgICAgICAgICAgICAgICBvcHRzLm51bWVyaWNJbnB1dCAmJiAoYnVmZmVyID0gYnVmZmVyLnJldmVyc2UoKSwgJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKSA8IG5ld1BvcyAmJiBidWZmZXIuam9pbihcIlwiKS5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggIT09IG5ld1BvcyAmJiAobmV3UG9zIC09IDEpKSxcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3M6IG5ld1BvcyxcclxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogbmVlZHNSZWZyZXNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogYnVmZmVyXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkJlZm9yZVdyaXRlOiBmdW5jdGlvbiAoZSwgYnVmZmVyLCBjYXJldFBvcywgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgJiYgKFwiYmx1clwiID09PSBlLnR5cGUgfHwgXCJjaGVja3ZhbFwiID09PSBlLnR5cGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1hc2tlZFZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIiksIHByb2Nlc3NWYWx1ZSA9IG1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCwgXCJcIiksIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIFwiLFwiID09PSBvcHRzLnJhZGl4UG9pbnQgJiYgKHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzRmluaXRlKHByb2Nlc3NWYWx1ZSkgJiYgaXNGaW5pdGUob3B0cy5taW4pICYmIHBhcnNlRmxvYXQocHJvY2Vzc1ZhbHVlKSA8IHBhcnNlRmxvYXQob3B0cy5taW4pKSByZXR1cm4gJC5leHRlbmQoITAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBidWZmZXI6IChvcHRzLnByZWZpeCArIG9wdHMubWluKS5zcGxpdChcIlwiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0sIG9wdHMucG9zdEZvcm1hdCgob3B0cy5wcmVmaXggKyBvcHRzLm1pbikuc3BsaXQoXCJcIiksIDAsICEwLCBvcHRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdHMubnVtZXJpY0lucHV0ICE9PSAhMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG1wQnVmU3BsaXQgPSBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgPyBidWZmZXIuam9pbihcIlwiKS5zcGxpdChvcHRzLnJhZGl4UG9pbnQpIDogW2J1ZmZlci5qb2luKFwiXCIpXSwgbWF0Y2hSc2x0ID0gdG1wQnVmU3BsaXRbMF0ubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyUGFydChvcHRzKSksIG1hdGNoUnNsdERpZ2l0cyA9IDIgPT09IHRtcEJ1ZlNwbGl0Lmxlbmd0aCA/IHRtcEJ1ZlNwbGl0WzFdLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlck5QYXJ0KG9wdHMpKSA6IHZvaWQgMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1hdGNoUnNsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2hSc2x0WzBdICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250ICsgXCIwXCIgJiYgbWF0Y2hSc2x0WzBdICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250ICYmIFwiK1wiICE9PSBtYXRjaFJzbHRbMF0gfHwgdm9pZCAwICE9PSBtYXRjaFJzbHREaWdpdHMgJiYgIW1hdGNoUnNsdERpZ2l0c1swXS5tYXRjaCgvXjArJC8pIHx8IGJ1ZmZlci5zcGxpY2UobWF0Y2hSc2x0LmluZGV4LCAxKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpeFBvc2l0aW9uID0gJC5pbkFycmF5KG9wdHMucmFkaXhQb2ludCwgYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtMSAhPT0gcmFkaXhQb3NpdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0Zpbml0ZShvcHRzLmRpZ2l0cykgJiYgIW9wdHMuZGlnaXRzT3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gb3B0cy5kaWdpdHM7IGkrKykgKHZvaWQgMCA9PT0gYnVmZmVyW3JhZGl4UG9zaXRpb24gKyBpXSB8fCBidWZmZXJbcmFkaXhQb3NpdGlvbiArIGldID09PSBvcHRzLnBsYWNlaG9sZGVyLmNoYXJBdCgwKSkgJiYgKGJ1ZmZlcltyYWRpeFBvc2l0aW9uICsgaV0gPSBcIjBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZyZXNoRnJvbUJ1ZmZlcjogbWFza2VkVmFsdWUgIT09IGJ1ZmZlci5qb2luKFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJhZGl4UG9zaXRpb24gPT09IGJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggLSAxKSByZXR1cm4gYnVmZmVyLnNwbGljZShyYWRpeFBvc2l0aW9uLCAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hGcm9tQnVmZmVyOiAhMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVmZmVyOiBidWZmZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuYXV0b0dyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJzbHQgPSBvcHRzLnBvc3RGb3JtYXQoYnVmZmVyLCBvcHRzLm51bWVyaWNJbnB1dCA/IGNhcmV0UG9zIDogY2FyZXRQb3MgLSAxLCAhMCwgb3B0cyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJzbHQuY2FyZXQgPSBjYXJldFBvcyA8PSBvcHRzLnByZWZpeC5sZW5ndGggPyByc2x0LnBvcyA6IHJzbHQucG9zICsgMSwgcnNsdDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVnZXg6IHtcclxuICAgICAgICAgICAgICAgIGludGVnZXJQYXJ0OiBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1wiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQpICsgXCIrXT9cXFxcZCtcIik7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgaW50ZWdlck5QYXJ0OiBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiW1xcXFxkXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvcikgKyBcIl0rXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzaWduSGFuZGxlcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiBvcHRzLmFsbG93TWludXMgJiYgXCItXCIgPT09IGNocnMgfHwgb3B0cy5hbGxvd1BsdXMgJiYgXCIrXCIgPT09IGNocnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hSc2x0ID0gbWFza3NldC5idWZmZXIuam9pbihcIlwiKS5tYXRjaChvcHRzLnJlZ2V4LmludGVnZXJQYXJ0KG9wdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSc2x0ICYmIG1hdGNoUnNsdFswXS5sZW5ndGggPiAwKSByZXR1cm4gbWFza3NldC5idWZmZXJbbWF0Y2hSc2x0LmluZGV4XSA9PT0gKFwiLVwiID09PSBjaHJzID8gXCIrXCIgOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250KSA/IFwiLVwiID09PSBjaHJzID8gXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGggLSAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3NcclxuICAgICAgICAgICAgICAgICAgICB9IDogXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogXCIrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogW21hdGNoUnNsdC5pbmRleCwgbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3NcclxuICAgICAgICAgICAgICAgICAgICB9IDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogXCIrXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IG1hc2tzZXQuYnVmZmVyW21hdGNoUnNsdC5pbmRleF0gPT09IChcIi1cIiA9PT0gY2hycyA/IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgOiBcIitcIikgPyBcIi1cIiA9PT0gY2hycyAmJiBcIlwiICE9PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2sgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogW21hdGNoUnNsdC5pbmRleCwgbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5zdWZmaXgubGVuZ3RoIC0gMV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlOiBtYXRjaFJzbHQuaW5kZXgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgLSAxXHJcbiAgICAgICAgICAgICAgICAgICAgfSA6IFwiLVwiID09PSBjaHJzID8gXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3M6IG1hdGNoUnNsdC5pbmRleCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc2VydDoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnN1ZmZpeC5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2tcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLm5lZ2F0aW9uU3ltYm9sLmZyb250LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogbWF0Y2hSc2x0LmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBjaHJzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJhZGl4SGFuZGxlcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN0cmljdCAmJiAoLTEgIT09ICQuaW5BcnJheShjaHJzLCBbXCIsXCIsIFwiLlwiXSkgJiYgKGNocnMgPSBvcHRzLnJhZGl4UG9pbnQpLFxyXG4gICAgICAgICAgICAgICAgY2hycyA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIHZvaWQgMCAhPT0gb3B0cy5kaWdpdHMgJiYgKGlzTmFOKG9wdHMuZGlnaXRzKSB8fCBwYXJzZUludChvcHRzLmRpZ2l0cykgPiAwKSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgcmFkaXhQb3MgPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBtYXNrc2V0LmJ1ZmZlciksIGludGVnZXJWYWx1ZSA9IG1hc2tzZXQuYnVmZmVyLmpvaW4oXCJcIikubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyUGFydChvcHRzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKC0xICE9PSByYWRpeFBvcyAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXSkgcmV0dXJuIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcmFkaXhQb3MgLSAxXSA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHJhZGl4UG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvczogaW50ZWdlclZhbHVlLmluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiBpbnRlZ2VyVmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiByYWRpeFBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghaW50ZWdlclZhbHVlIHx8IFwiMFwiID09PSBpbnRlZ2VyVmFsdWVbMF0gJiYgaW50ZWdlclZhbHVlLmluZGV4ICsgMSAhPT0gcG9zKSByZXR1cm4gbWFza3NldC5idWZmZXJbaW50ZWdlclZhbHVlID8gaW50ZWdlclZhbHVlLmluZGV4IDogcG9zXSA9IFwiMFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiAoaW50ZWdlclZhbHVlID8gaW50ZWdlclZhbHVlLmluZGV4IDogcG9zKSArIDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6IG9wdHMucmFkaXhQb2ludFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlYWRpbmdaZXJvSGFuZGxlcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0cy5udW1lcmljSW5wdXQgPT09ICEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKFwiMFwiID09PSBtYXNrc2V0LmJ1ZmZlclttYXNrc2V0LmJ1ZmZlci5sZW5ndGggLSBvcHRzLnByZWZpeC5sZW5ndGggLSAxXSkgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZTogbWFza3NldC5idWZmZXIubGVuZ3RoIC0gb3B0cy5wcmVmaXgubGVuZ3RoIC0gMVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaFJzbHQgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLm1hdGNoKG9wdHMucmVnZXguaW50ZWdlck5QYXJ0KG9wdHMpKSwgcmFkaXhQb3NpdGlvbiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tzZXQuYnVmZmVyKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSc2x0ICYmICFzdHJpY3QgJiYgKC0xID09PSByYWRpeFBvc2l0aW9uIHx8IHJhZGl4UG9zaXRpb24gPj0gcG9zKSkgaWYgKDAgPT09IG1hdGNoUnNsdFswXS5pbmRleE9mKFwiMFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MgPCBvcHRzLnByZWZpeC5sZW5ndGggJiYgKHBvcyA9IG1hdGNoUnNsdC5pbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmFkaXhQb3NpdGlvbiA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tzZXQuX2J1ZmZlciksIGRpZ2l0c01hdGNoID0gbWFza3NldC5fYnVmZmVyICYmIG1hc2tzZXQuYnVmZmVyLnNsaWNlKHJhZGl4UG9zaXRpb24pLmpvaW4oXCJcIikgPT09IG1hc2tzZXQuX2J1ZmZlci5zbGljZShfcmFkaXhQb3NpdGlvbikuam9pbihcIlwiKSB8fCAwID09PSBwYXJzZUludChtYXNrc2V0LmJ1ZmZlci5zbGljZShyYWRpeFBvc2l0aW9uICsgMSkuam9pbihcIlwiKSksIGludGVnZXJNYXRjaCA9IG1hc2tzZXQuX2J1ZmZlciAmJiBtYXNrc2V0LmJ1ZmZlci5zbGljZShtYXRjaFJzbHQuaW5kZXgsIHJhZGl4UG9zaXRpb24pLmpvaW4oXCJcIikgPT09IG1hc2tzZXQuX2J1ZmZlci5zbGljZShvcHRzLnByZWZpeC5sZW5ndGgsIF9yYWRpeFBvc2l0aW9uKS5qb2luKFwiXCIpIHx8IFwiMFwiID09PSBtYXNrc2V0LmJ1ZmZlci5zbGljZShtYXRjaFJzbHQuaW5kZXgsIHJhZGl4UG9zaXRpb24pLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgtMSA9PT0gcmFkaXhQb3NpdGlvbiB8fCBkaWdpdHNNYXRjaCAmJiBpbnRlZ2VyTWF0Y2gpIHJldHVybiBtYXNrc2V0LmJ1ZmZlci5zcGxpY2UobWF0Y2hSc2x0LmluZGV4LCAxKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zID0gcG9zID4gbWF0Y2hSc2x0LmluZGV4ID8gcG9zIC0gMSA6IG1hdGNoUnNsdC5pbmRleCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2hSc2x0LmluZGV4ICsgMSA9PT0gcG9zIHx8IFwiMFwiID09PSBjaHJzKSByZXR1cm4gbWFza3NldC5idWZmZXIuc3BsaWNlKG1hdGNoUnNsdC5pbmRleCwgMSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvcyA9IG1hdGNoUnNsdC5pbmRleCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IG1hdGNoUnNsdC5pbmRleFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXCIwXCIgPT09IGNocnMgJiYgcG9zIDw9IG1hdGNoUnNsdC5pbmRleCAmJiBtYXRjaFJzbHRbMF0gIT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAhMDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcG9zdFZhbGlkYXRpb246IGZ1bmN0aW9uIChidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpc1ZhbGlkID0gITAsIG1hc2tlZFZhbHVlID0gYnVmZmVyLmpvaW4oXCJcIiksIHByb2Nlc3NWYWx1ZSA9IG1hc2tlZFZhbHVlLnJlcGxhY2Uob3B0cy5wcmVmaXgsIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG9wdHMuc3VmZml4LCBcIlwiKSwgcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5ncm91cFNlcGFyYXRvciksIFwiZ1wiKSwgXCJcIiksXHJcbiAgICAgICAgICAgICAgICBcIixcIiA9PT0gb3B0cy5yYWRpeFBvaW50ICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpKSxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoXCJeXCIgKyBJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCkpLCBcIi1cIiksXHJcbiAgICAgICAgICAgICAgICBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2spICsgXCIkXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZSA9PT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCA/IHByb2Nlc3NWYWx1ZSArIFwiMFwiIDogcHJvY2Vzc1ZhbHVlLFxyXG4gICAgICAgICAgICAgICAgaXNGaW5pdGUocHJvY2Vzc1ZhbHVlKSAmJiAobnVsbCAhPT0gb3B0cy5tYXggJiYgaXNGaW5pdGUob3B0cy5tYXgpICYmIChpc1ZhbGlkID0gcGFyc2VGbG9hdChwcm9jZXNzVmFsdWUpIDw9IHBhcnNlRmxvYXQob3B0cy5tYXgpKSxcclxuICAgICAgICAgICAgICAgIGlzVmFsaWQgJiYgbnVsbCAhPT0gb3B0cy5taW4gJiYgaXNGaW5pdGUob3B0cy5taW4pICYmICgwID49IHByb2Nlc3NWYWx1ZSB8fCBwcm9jZXNzVmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPj0gb3B0cy5taW4udG9TdHJpbmcoKS5sZW5ndGgpICYmIChpc1ZhbGlkID0gcGFyc2VGbG9hdChwcm9jZXNzVmFsdWUpID49IHBhcnNlRmxvYXQob3B0cy5taW4pLFxyXG4gICAgICAgICAgICAgICAgaXNWYWxpZCB8fCAoaXNWYWxpZCA9ICQuZXh0ZW5kKCEwLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaEZyb21CdWZmZXI6ICEwLFxyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZmZlcjogKG9wdHMucHJlZml4ICsgb3B0cy5taW4pLnNwbGl0KFwiXCIpXHJcbiAgICAgICAgICAgICAgICB9LCBvcHRzLnBvc3RGb3JtYXQoKG9wdHMucHJlZml4ICsgb3B0cy5taW4pLnNwbGl0KFwiXCIpLCAwLCAhMCwgb3B0cykpLCBpc1ZhbGlkLnJlZnJlc2hGcm9tQnVmZmVyID0gITApKSksXHJcbiAgICAgICAgICAgICAgICBpc1ZhbGlkO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgXCJ+XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuc2lnbkhhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQgJiYgKGlzVmFsaWQgPSBvcHRzLnJhZGl4SGFuZGxlcihjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICFpc1ZhbGlkICYmIChpc1ZhbGlkID0gc3RyaWN0ID8gbmV3IFJlZ0V4cChcIlswLTlcIiArIElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSArIFwiXVwiKS50ZXN0KGNocnMpIDogbmV3IFJlZ0V4cChcIlswLTldXCIpLnRlc3QoY2hycyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPT09ICEwICYmIChpc1ZhbGlkID0gb3B0cy5sZWFkaW5nWmVyb0hhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID09PSAhMCkpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJhZGl4UG9zaXRpb24gPSAkLmluQXJyYXkob3B0cy5yYWRpeFBvaW50LCBtYXNrc2V0LmJ1ZmZlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkID0gLTEgIT09IHJhZGl4UG9zaXRpb24gJiYgb3B0cy5kaWdpdHNPcHRpb25hbCA9PT0gITEgJiYgb3B0cy5udW1lcmljSW5wdXQgIT09ICEwICYmIHBvcyA+IHJhZGl4UG9zaXRpb24gJiYgIXN0cmljdCA/IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmU6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSA6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogbnVsbFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiK1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnNpZ25IYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc1ZhbGlkICYmIChzdHJpY3QgJiYgb3B0cy5hbGxvd01pbnVzICYmIGNocnMgPT09IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgfHwgb3B0cy5hbGxvd01pbnVzICYmIFwiLVwiID09PSBjaHJzIHx8IG9wdHMuYWxsb3dQbHVzICYmIFwiK1wiID09PSBjaHJzKSAmJiAoaXNWYWxpZCA9IFwiLVwiID09PSBjaHJzID8gXCJcIiAhPT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrID8ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBwb3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBcIi1cIiA9PT0gY2hycyA/IG9wdHMubmVnYXRpb25TeW1ib2wuZnJvbnQgOiBcIitcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhcmV0OiBwb3MgKyAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zZXJ0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zOiBtYXNrc2V0LmJ1ZmZlci5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYzogb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb3M6IHBvcyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGM6IFwiLVwiID09PSBjaHJzID8gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCA6IFwiK1wiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FyZXQ6IHBvcyArIDFcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6ICEwKSwgaXNWYWxpZDtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGNhcmRpbmFsaXR5OiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIHByZXZhbGlkYXRvcjogbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogXCJcIlxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwiLVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbiAoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVmFsaWQgPSBvcHRzLnNpZ25IYW5kbGVyKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFpc1ZhbGlkICYmIHN0cmljdCAmJiBvcHRzLmFsbG93TWludXMgJiYgY2hycyA9PT0gb3B0cy5uZWdhdGlvblN5bWJvbC5iYWNrICYmIChpc1ZhbGlkID0gITApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmFsaWRhdG9yOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCI6XCI6IHtcclxuICAgICAgICAgICAgICAgICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIChjaHJzLCBtYXNrc2V0LCBwb3MsIHN0cmljdCwgb3B0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNWYWxpZCA9IG9wdHMuc2lnbkhhbmRsZXIoY2hycywgbWFza3NldCwgcG9zLCBzdHJpY3QsIG9wdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByYWRpeCA9IFwiW1wiICsgSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCkgKyBcIixcXFxcLl1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBuZXcgUmVnRXhwKHJhZGl4KS50ZXN0KGNocnMpLCBpc1ZhbGlkICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXSAmJiBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10ubWF0Y2gucGxhY2Vob2xkZXIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAoaXNWYWxpZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJldDogcG9zICsgMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWQgPyB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjOiBvcHRzLnJhZGl4UG9pbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSA6IGlzVmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBjYXJkaW5hbGl0eTogMSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2YWxpZGF0b3I6IG51bGwsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHRzLnJhZGl4UG9pbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvblVuTWFzazogZnVuY3Rpb24gKG1hc2tlZFZhbHVlLCB1bm1hc2tlZFZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc1ZhbHVlID0gbWFza2VkVmFsdWUucmVwbGFjZShvcHRzLnByZWZpeCwgXCJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2Uob3B0cy5zdWZmaXgsIFwiXCIpLCBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSxcclxuICAgICAgICAgICAgICAgIG9wdHMudW5tYXNrQXNOdW1iZXIgPyAoXCJcIiAhPT0gb3B0cy5yYWRpeFBvaW50ICYmIC0xICE9PSBwcm9jZXNzVmFsdWUuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpICYmIChwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXguY2FsbCh0aGlzLCBvcHRzLnJhZGl4UG9pbnQpLCBcIi5cIikpLFxyXG4gICAgICAgICAgICAgICAgTnVtYmVyKHByb2Nlc3NWYWx1ZSkpIDogcHJvY2Vzc1ZhbHVlO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBpc0NvbXBsZXRlOiBmdW5jdGlvbiAoYnVmZmVyLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWFza2VkVmFsdWUgPSBidWZmZXIuam9pbihcIlwiKSwgYnVmQ2xvbmUgPSBidWZmZXIuc2xpY2UoKTtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRzLnBvc3RGb3JtYXQoYnVmQ2xvbmUsIDAsICEwLCBvcHRzKSwgYnVmQ2xvbmUuam9pbihcIlwiKSAhPT0gbWFza2VkVmFsdWUpIHJldHVybiAhMTtcclxuICAgICAgICAgICAgICAgIHZhciBwcm9jZXNzVmFsdWUgPSBtYXNrZWRWYWx1ZS5yZXBsYWNlKG9wdHMucHJlZml4LCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBwcm9jZXNzVmFsdWUgPSBwcm9jZXNzVmFsdWUucmVwbGFjZShvcHRzLnN1ZmZpeCwgXCJcIiksIHByb2Nlc3NWYWx1ZSA9IHByb2Nlc3NWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgXCIsXCIgPT09IG9wdHMucmFkaXhQb2ludCAmJiAocHJvY2Vzc1ZhbHVlID0gcHJvY2Vzc1ZhbHVlLnJlcGxhY2UoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMucmFkaXhQb2ludCksIFwiLlwiKSksXHJcbiAgICAgICAgICAgICAgICBpc0Zpbml0ZShwcm9jZXNzVmFsdWUpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbkJlZm9yZU1hc2s6IGZ1bmN0aW9uIChpbml0aWFsVmFsdWUsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgaXNGaW5pdGUoaW5pdGlhbFZhbHVlKSkgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnRvU3RyaW5nKCkucmVwbGFjZShcIi5cIiwgb3B0cy5yYWRpeFBvaW50KTsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtvbW1hTWF0Y2hlcyA9IGluaXRpYWxWYWx1ZS5tYXRjaCgvLC9nKSwgZG90TWF0Y2hlcyA9IGluaXRpYWxWYWx1ZS5tYXRjaCgvXFwuL2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRvdE1hdGNoZXMgJiYga29tbWFNYXRjaGVzID8gZG90TWF0Y2hlcy5sZW5ndGggPiBrb21tYU1hdGNoZXMubGVuZ3RoID8gKGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC9cXC4vZywgXCJcIiksXHJcbiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnJlcGxhY2UoXCIsXCIsIG9wdHMucmFkaXhQb2ludCkpIDoga29tbWFNYXRjaGVzLmxlbmd0aCA+IGRvdE1hdGNoZXMubGVuZ3RoID8gKGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC8sL2csIFwiXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKFwiLlwiLCBvcHRzLnJhZGl4UG9pbnQpKSA6IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLlwiKSA8IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLFwiKSA/IGluaXRpYWxWYWx1ZS5yZXBsYWNlKC9cXC4vZywgXCJcIikgOiBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZSgvLC9nLCBcIlwiKSA6IGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IG9wdHMuZGlnaXRzICYmICgtMSAhPT0gaW5pdGlhbFZhbHVlLmluZGV4T2YoXCIuXCIpID8gaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnN1YnN0cmluZygwLCBpbml0aWFsVmFsdWUuaW5kZXhPZihcIi5cIikpIDogLTEgIT09IGluaXRpYWxWYWx1ZS5pbmRleE9mKFwiLFwiKSAmJiAoaW5pdGlhbFZhbHVlID0gaW5pdGlhbFZhbHVlLnN1YnN0cmluZygwLCBpbml0aWFsVmFsdWUuaW5kZXhPZihcIixcIikpKSksXHJcbiAgICAgICAgICAgICAgICBcIlwiICE9PSBvcHRzLnJhZGl4UG9pbnQgJiYgaXNGaW5pdGUob3B0cy5kaWdpdHMpICYmIC0xICE9PSBpbml0aWFsVmFsdWUuaW5kZXhPZihvcHRzLnJhZGl4UG9pbnQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlUGFydHMgPSBpbml0aWFsVmFsdWUuc3BsaXQob3B0cy5yYWRpeFBvaW50KSwgZGVjUGFydCA9IHZhbHVlUGFydHNbMV0ubWF0Y2gobmV3IFJlZ0V4cChcIlxcXFxkKlwiKSlbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnNlSW50KG9wdHMuZGlnaXRzKSA8IGRlY1BhcnQudG9TdHJpbmcoKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpZ2l0c0ZhY3RvciA9IE1hdGgucG93KDEwLCBwYXJzZUludChvcHRzLmRpZ2l0cykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBpbml0aWFsVmFsdWUucmVwbGFjZShJbnB1dG1hc2suZXNjYXBlUmVnZXgob3B0cy5yYWRpeFBvaW50KSwgXCIuXCIpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWUgPSBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoaW5pdGlhbFZhbHVlKSAqIGRpZ2l0c0ZhY3RvcikgLyBkaWdpdHNGYWN0b3IsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZSA9IGluaXRpYWxWYWx1ZS50b1N0cmluZygpLnJlcGxhY2UoXCIuXCIsIG9wdHMucmFkaXhQb2ludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxWYWx1ZS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYW5DbGVhclBvc2l0aW9uOiBmdW5jdGlvbiAobWFza3NldCwgcG9zaXRpb24sIGx2cCwgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb25JbnB1dCA9IG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dLmlucHV0LCBjYW5DbGVhciA9IHBvc2l0aW9uSW5wdXQgIT09IG9wdHMucmFkaXhQb2ludCB8fCBudWxsICE9PSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc2l0aW9uXS5tYXRjaC5mbiAmJiBvcHRzLmRlY2ltYWxQcm90ZWN0ID09PSAhMSB8fCBpc0Zpbml0ZShwb3NpdGlvbklucHV0KSB8fCBwb3NpdGlvbiA9PT0gbHZwIHx8IHBvc2l0aW9uSW5wdXQgPT09IG9wdHMuZ3JvdXBTZXBhcmF0b3IgfHwgcG9zaXRpb25JbnB1dCA9PT0gb3B0cy5uZWdhdGlvblN5bWJvbC5mcm9udCB8fCBwb3NpdGlvbklucHV0ID09PSBvcHRzLm5lZ2F0aW9uU3ltYm9sLmJhY2s7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FuQ2xlYXIgJiYgaXNGaW5pdGUocG9zaXRpb25JbnB1dCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF0Y2hSc2x0LCByYWRpeFBvcyA9ICQuaW5BcnJheShvcHRzLnJhZGl4UG9pbnQsIG1hc2tzZXQuYnVmZmVyKSwgcmFkaXhJbmplY3Rpb24gPSAhMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3JhZGl4UG9zXSAmJiAobWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvc10gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBvcHRzLnJhZGl4UG9pbnRcclxuICAgICAgICAgICAgICAgICAgICB9LCByYWRpeEluamVjdGlvbiA9ICEwKSwgIXN0cmljdCAmJiBtYXNrc2V0LmJ1ZmZlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaFJzbHQgPSBtYXNrc2V0LmJ1ZmZlci5qb2luKFwiXCIpLnN1YnN0cigwLCBwb3NpdGlvbikubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyTlBhcnQob3B0cykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zID0gcG9zaXRpb24gKyAxLCBpc051bGwgPSBudWxsID09IG1hdGNoUnNsdCB8fCAwID09PSBwYXJzZUludChtYXRjaFJzbHRbMF0ucmVwbGFjZShuZXcgUmVnRXhwKElucHV0bWFzay5lc2NhcGVSZWdleChvcHRzLmdyb3VwU2VwYXJhdG9yKSwgXCJnXCIpLCBcIlwiKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc051bGwpIGZvciAoOyBtYXNrc2V0LnZhbGlkUG9zaXRpb25zW3Bvc10gJiYgKG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zXS5pbnB1dCA9PT0gb3B0cy5ncm91cFNlcGFyYXRvciB8fCBcIjBcIiA9PT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLmlucHV0KSA7KSBkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3MrKztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJ1ZmZlciA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHZwIGluIG1hc2tzZXQudmFsaWRQb3NpdGlvbnMpIHZvaWQgMCAhPT0gbWFza3NldC52YWxpZFBvc2l0aW9uc1t2cF0uaW5wdXQgJiYgYnVmZmVyLnB1c2gobWFza3NldC52YWxpZFBvc2l0aW9uc1t2cF0uaW5wdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyYWRpeEluamVjdGlvbiAmJiBkZWxldGUgbWFza3NldC52YWxpZFBvc2l0aW9uc1tyYWRpeFBvc10sIHJhZGl4UG9zID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnVmVmFsID0gYnVmZmVyLmpvaW4oXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFJzbHQgPSBidWZWYWwubWF0Y2gob3B0cy5yZWdleC5pbnRlZ2VyTlBhcnQob3B0cykpKSBpZiAocmFkaXhQb3MgPj0gcG9zaXRpb24pIGlmICgwID09PSBtYXRjaFJzbHRbMF0uaW5kZXhPZihcIjBcIikpIGNhbkNsZWFyID0gbWF0Y2hSc2x0LmluZGV4ICE9PSBwb3NpdGlvbiB8fCBcIjBcIiA9PT0gb3B0cy5wbGFjZWhvbGRlcjsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW50UGFydCA9IHBhcnNlSW50KG1hdGNoUnNsdFswXS5yZXBsYWNlKG5ldyBSZWdFeHAoSW5wdXRtYXNrLmVzY2FwZVJlZ2V4KG9wdHMuZ3JvdXBTZXBhcmF0b3IpLCBcImdcIiksIFwiXCIpKSwgcmFkaXhQYXJ0ID0gcGFyc2VJbnQoYnVmVmFsLnNwbGl0KG9wdHMucmFkaXhQb2ludClbMV0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMTAgPiBpbnRQYXJ0ICYmIG1hc2tzZXQudmFsaWRQb3NpdGlvbnNbcG9zaXRpb25dICYmIChcIjBcIiAhPT0gb3B0cy5wbGFjZWhvbGRlciB8fCByYWRpeFBhcnQgPiAwKSAmJiAobWFza3NldC52YWxpZFBvc2l0aW9uc1twb3NpdGlvbl0uaW5wdXQgPSBcIjBcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tzZXQucCA9IG9wdHMucHJlZml4Lmxlbmd0aCArIDEsIGNhbkNsZWFyID0gITEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgMCA9PT0gbWF0Y2hSc2x0WzBdLmluZGV4T2YoXCIwXCIpICYmIDMgPT09IGJ1ZlZhbC5sZW5ndGggJiYgKG1hc2tzZXQudmFsaWRQb3NpdGlvbnMgPSB7fSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuQ2xlYXIgPSAhMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbkNsZWFyO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBvbktleURvd246IGZ1bmN0aW9uIChlLCBidWZmZXIsIGNhcmV0UG9zLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgJGlucHV0ID0gJCh0aGlzKTtcclxuICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHN3aXRjaCAoZS5rZXlDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBJbnB1dG1hc2sua2V5Q29kZS5VUDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgJGlucHV0LnZhbChwYXJzZUZsb2F0KHRoaXMuaW5wdXRtYXNrLnVubWFza2VkdmFsdWUoKSkgKyBwYXJzZUludChvcHRzLnN0ZXApKSwgJGlucHV0LnRyaWdnZXIoXCJzZXR2YWx1ZS5pbnB1dG1hc2tcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjYXNlIElucHV0bWFzay5rZXlDb2RlLkRPV046XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICRpbnB1dC52YWwocGFyc2VGbG9hdCh0aGlzLmlucHV0bWFzay51bm1hc2tlZHZhbHVlKCkpIC0gcGFyc2VJbnQob3B0cy5zdGVwKSksICRpbnB1dC50cmlnZ2VyKFwic2V0dmFsdWUuaW5wdXRtYXNrXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjdXJyZW5jeToge1xyXG4gICAgICAgICAgICBwcmVmaXg6IFwiJCBcIixcclxuICAgICAgICAgICAgZ3JvdXBTZXBhcmF0b3I6IFwiLFwiLFxyXG4gICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCIsXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBcIjBcIixcclxuICAgICAgICAgICAgYXV0b0dyb3VwOiAhMCxcclxuICAgICAgICAgICAgZGlnaXRzOiAyLFxyXG4gICAgICAgICAgICBkaWdpdHNPcHRpb25hbDogITEsXHJcbiAgICAgICAgICAgIGNsZWFyTWFza09uTG9zdEZvY3VzOiAhMVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZGVjaW1hbDoge1xyXG4gICAgICAgICAgICBhbGlhczogXCJudW1lcmljXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIGludGVnZXI6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBkaWdpdHM6IDAsXHJcbiAgICAgICAgICAgIHJhZGl4UG9pbnQ6IFwiXCJcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBlcmNlbnRhZ2U6IHtcclxuICAgICAgICAgICAgYWxpYXM6IFwibnVtZXJpY1wiLFxyXG4gICAgICAgICAgICBkaWdpdHM6IDIsXHJcbiAgICAgICAgICAgIHJhZGl4UG9pbnQ6IFwiLlwiLFxyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogXCIwXCIsXHJcbiAgICAgICAgICAgIGF1dG9Hcm91cDogITEsXHJcbiAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgbWF4OiAxMDAsXHJcbiAgICAgICAgICAgIHN1ZmZpeDogXCIgJVwiLFxyXG4gICAgICAgICAgICBhbGxvd1BsdXM6ICExLFxyXG4gICAgICAgICAgICBhbGxvd01pbnVzOiAhMVxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spLCBmdW5jdGlvbiAoJCwgSW5wdXRtYXNrKSB7XHJcbiAgICByZXR1cm4gSW5wdXRtYXNrLmV4dGVuZEFsaWFzZXMoe1xyXG4gICAgICAgIHBob25lOiB7XHJcbiAgICAgICAgICAgIHVybDogXCJwaG9uZS1jb2Rlcy9waG9uZS1jb2Rlcy5qc1wiLFxyXG4gICAgICAgICAgICBjb3VudHJ5Y29kZTogXCJcIixcclxuICAgICAgICAgICAgbWFzazogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIG9wdHMuZGVmaW5pdGlvbnNbXCIjXCJdID0gb3B0cy5kZWZpbml0aW9uc1s5XTtcclxuICAgICAgICAgICAgICAgIHZhciBtYXNrTGlzdCA9IFtdO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBvcHRzLnVybCxcclxuICAgICAgICAgICAgICAgICAgICBhc3luYzogITEsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXNrTGlzdCA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGFqYXhPcHRpb25zLCB0aHJvd25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGVydCh0aHJvd25FcnJvciArIFwiIC0gXCIgKyBvcHRzLnVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSksIG1hc2tMaXN0ID0gbWFza0xpc3Quc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYS5tYXNrIHx8IGEpIDwgKGIubWFzayB8fCBiKSA/IC0xIDogMTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBrZWVwU3RhdGljOiAhMSxcclxuICAgICAgICAgICAgbm9qdW1wczogITAsXHJcbiAgICAgICAgICAgIG5vanVtcHNUaHJlc2hvbGQ6IDEsXHJcbiAgICAgICAgICAgIG9uQmVmb3JlTWFzazogZnVuY3Rpb24gKHZhbHVlLCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgcHJvY2Vzc2VkVmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9eMC9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiAocHJvY2Vzc2VkVmFsdWUuaW5kZXhPZihvcHRzLmNvdW50cnljb2RlKSA+IDEgfHwgLTEgPT09IHByb2Nlc3NlZFZhbHVlLmluZGV4T2Yob3B0cy5jb3VudHJ5Y29kZSkpICYmIChwcm9jZXNzZWRWYWx1ZSA9IFwiK1wiICsgb3B0cy5jb3VudHJ5Y29kZSArIHByb2Nlc3NlZFZhbHVlKSxcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZFZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBwaG9uZWJlOiB7XHJcbiAgICAgICAgICAgIGFsaWFzOiBcInBob25lXCIsXHJcbiAgICAgICAgICAgIHVybDogXCJwaG9uZS1jb2Rlcy9waG9uZS1iZS5qc1wiLFxyXG4gICAgICAgICAgICBjb3VudHJ5Y29kZTogXCIzMlwiLFxyXG4gICAgICAgICAgICBub2p1bXBzVGhyZXNob2xkOiA0XHJcbiAgICAgICAgfVxyXG4gICAgfSksIElucHV0bWFzaztcclxufShqUXVlcnksIElucHV0bWFzayksIGZ1bmN0aW9uICgkLCBJbnB1dG1hc2spIHtcclxuICAgIHJldHVybiBJbnB1dG1hc2suZXh0ZW5kQWxpYXNlcyh7XHJcbiAgICAgICAgUmVnZXg6IHtcclxuICAgICAgICAgICAgbWFzazogXCJyXCIsXHJcbiAgICAgICAgICAgIGdyZWVkeTogITEsXHJcbiAgICAgICAgICAgIHJlcGVhdDogXCIqXCIsXHJcbiAgICAgICAgICAgIHJlZ2V4OiBudWxsLFxyXG4gICAgICAgICAgICByZWdleFRva2VuczogbnVsbCxcclxuICAgICAgICAgICAgdG9rZW5pemVyOiAvXFxbXFxeP10/KD86W15cXFxcXFxdXSt8XFxcXFtcXFNcXHNdPykqXT98XFxcXCg/OjAoPzpbMC0zXVswLTddezAsMn18WzQtN11bMC03XT8pP3xbMS05XVswLTldKnx4WzAtOUEtRmEtZl17Mn18dVswLTlBLUZhLWZdezR9fGNbQS1aYS16XXxbXFxTXFxzXT8pfFxcKCg/OlxcP1s6PSFdPyk/fCg/Ols/KitdfFxce1swLTldKyg/OixbMC05XSopP1xcfSlcXD8/fFteLj8qK14ke1soKXxcXFxcXSt8Li9nLFxyXG4gICAgICAgICAgICBxdWFudGlmaWVyRmlsdGVyOiAvWzAtOV0rW14sXS8sXHJcbiAgICAgICAgICAgIGlzQ29tcGxldGU6IGZ1bmN0aW9uIChidWZmZXIsIG9wdHMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKG9wdHMucmVnZXgpLnRlc3QoYnVmZmVyLmpvaW4oXCJcIikpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBkZWZpbml0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgcjoge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gKGNocnMsIG1hc2tzZXQsIHBvcywgc3RyaWN0LCBvcHRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIFJlZ2V4VG9rZW4oaXNHcm91cCwgaXNRdWFudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZXMgPSBbXSwgdGhpcy5pc0dyb3VwID0gaXNHcm91cCB8fCAhMSwgdGhpcy5pc1F1YW50aWZpZXIgPSBpc1F1YW50aWZpZXIgfHwgITEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnF1YW50aWZpZXIgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5yZXBlYXRlclBhcnQgPSB2b2lkIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gYW5hbHlzZVJlZ2V4KCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoLCBtLCBjdXJyZW50VG9rZW4gPSBuZXcgUmVnZXhUb2tlbigpLCBvcGVuZ3JvdXBzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG9wdHMucmVnZXhUb2tlbnMgPSBbXTsgbWF0Y2ggPSBvcHRzLnRva2VuaXplci5leGVjKG9wdHMucmVnZXgpIDspIHN3aXRjaCAobSA9IG1hdGNoWzBdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5jaGFyQXQoMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKFwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuZ3JvdXBzLnB1c2gobmV3IFJlZ2V4VG9rZW4oITApKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIpXCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwVG9rZW4gPSBvcGVuZ3JvdXBzLnBvcCgpLCBvcGVuZ3JvdXBzLmxlbmd0aCA+IDAgPyBvcGVuZ3JvdXBzW29wZW5ncm91cHMubGVuZ3RoIC0gMV0ubWF0Y2hlcy5wdXNoKGdyb3VwVG9rZW4pIDogY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChncm91cFRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ7XCI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIitcIjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiKlwiOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcXVhbnRpZmllclRva2VuID0gbmV3IFJlZ2V4VG9rZW4oITEsICEwKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbSA9IG0ucmVwbGFjZSgvW3t9XS9nLCBcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1xID0gbS5zcGxpdChcIixcIiksIG1xMCA9IGlzTmFOKG1xWzBdKSA/IG1xWzBdIDogcGFyc2VJbnQobXFbMF0pLCBtcTEgPSAxID09PSBtcS5sZW5ndGggPyBtcTAgOiBpc05hTihtcVsxXSkgPyBtcVsxXSA6IHBhcnNlSW50KG1xWzFdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1YW50aWZpZXJUb2tlbi5xdWFudGlmaWVyID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBtcTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG1xMVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBvcGVuZ3JvdXBzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gb3Blbmdyb3Vwc1tvcGVuZ3JvdXBzLmxlbmd0aCAtIDFdLm1hdGNoZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXRjaCA9IG1hdGNoZXMucG9wKCksIG1hdGNoLmlzR3JvdXAgfHwgKGdyb3VwVG9rZW4gPSBuZXcgUmVnZXhUb2tlbighMCksIGdyb3VwVG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoID0gZ3JvdXBUb2tlbiksIG1hdGNoZXMucHVzaChtYXRjaCksIG1hdGNoZXMucHVzaChxdWFudGlmaWVyVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbWF0Y2ggPSBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wb3AoKSwgbWF0Y2guaXNHcm91cCB8fCAoZ3JvdXBUb2tlbiA9IG5ldyBSZWdleFRva2VuKCEwKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBUb2tlbi5tYXRjaGVzLnB1c2gobWF0Y2gpLCBtYXRjaCA9IGdyb3VwVG9rZW4pLCBjdXJyZW50VG9rZW4ubWF0Y2hlcy5wdXNoKG1hdGNoKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRva2VuLm1hdGNoZXMucHVzaChxdWFudGlmaWVyVG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3Blbmdyb3Vwcy5sZW5ndGggPiAwID8gb3Blbmdyb3Vwc1tvcGVuZ3JvdXBzLmxlbmd0aCAtIDFdLm1hdGNoZXMucHVzaChtKSA6IGN1cnJlbnRUb2tlbi5tYXRjaGVzLnB1c2gobSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VG9rZW4ubWF0Y2hlcy5sZW5ndGggPiAwICYmIG9wdHMucmVnZXhUb2tlbnMucHVzaChjdXJyZW50VG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlUmVnZXhUb2tlbih0b2tlbiwgZnJvbUdyb3VwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXN2YWxpZCA9ICExO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUdyb3VwICYmIChyZWdleFBhcnQgKz0gXCIoXCIsIG9wZW5Hcm91cENvdW50KyspO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgbW5keCA9IDA7IG1uZHggPCB0b2tlbi5tYXRjaGVzLmxlbmd0aDsgbW5keCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1hdGNoVG9rZW4gPSB0b2tlbi5tYXRjaGVzW21uZHhdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtYXRjaFRva2VuLmlzR3JvdXAgPT09ICEwKSBpc3ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoVG9rZW4sICEwKTsgZWxzZSBpZiAobWF0Y2hUb2tlbi5pc1F1YW50aWZpZXIgPT09ICEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcnJudG5keCA9ICQuaW5BcnJheShtYXRjaFRva2VuLCB0b2tlbi5tYXRjaGVzKSwgbWF0Y2hHcm91cCA9IHRva2VuLm1hdGNoZXNbY3JybnRuZHggLSAxXSwgcmVnZXhQYXJ0QmFrID0gcmVnZXhQYXJ0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4obWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1heCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoOyBtYXRjaFRva2VuLnJlcGVhdGVyUGFydCAmJiBtYXRjaFRva2VuLnJlcGVhdGVyUGFydCAhPT0gcmVnZXhQYXJ0ICYmIG1hdGNoVG9rZW4ucmVwZWF0ZXJQYXJ0Lmxlbmd0aCA+IHJlZ2V4UGFydC5sZW5ndGggJiYgIShpc3ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoR3JvdXAsICEwKSkgOyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3ZhbGlkID0gaXN2YWxpZCB8fCB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hHcm91cCwgITApLCBpc3ZhbGlkICYmIChtYXRjaFRva2VuLnJlcGVhdGVyUGFydCA9IHJlZ2V4UGFydCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhcnQgPSByZWdleFBhcnRCYWsgKyBtYXRjaFRva2VuLnF1YW50aWZpZXIubWF4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIHFtID0gbWF0Y2hUb2tlbi5xdWFudGlmaWVyLm1heCAtIDE7IHFtID4gaSAmJiAhKGlzdmFsaWQgPSB2YWxpZGF0ZVJlZ2V4VG9rZW4obWF0Y2hHcm91cCwgITApKSA7IGkrKyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhcnQgPSByZWdleFBhcnRCYWsgKyBcIntcIiArIG1hdGNoVG9rZW4ucXVhbnRpZmllci5taW4gKyBcIixcIiArIG1hdGNoVG9rZW4ucXVhbnRpZmllci5tYXggKyBcIn1cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodm9pZCAwICE9PSBtYXRjaFRva2VuLm1hdGNoZXMpIGZvciAodmFyIGsgPSAwOyBrIDwgbWF0Y2hUb2tlbi5sZW5ndGggJiYgIShpc3ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKG1hdGNoVG9rZW5ba10sIGZyb21Hcm91cCkpIDsgaysrKTsgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0RXhwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJbXCIgPT0gbWF0Y2hUb2tlbi5jaGFyQXQoMCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RFeHAgPSByZWdleFBhcnQsIHRlc3RFeHAgKz0gbWF0Y2hUb2tlbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBvcGVuR3JvdXBDb3VudCA+IGo7IGorKykgdGVzdEV4cCArPSBcIilcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleHAgPSBuZXcgUmVnRXhwKFwiXihcIiArIHRlc3RFeHAgKyBcIikkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXN2YWxpZCA9IGV4cC50ZXN0KGJ1ZmZlclN0cik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBmb3IgKHZhciBsID0gMCwgdGwgPSBtYXRjaFRva2VuLmxlbmd0aDsgdGwgPiBsOyBsKyspIGlmIChcIlxcXFxcIiAhPT0gbWF0Y2hUb2tlbi5jaGFyQXQobCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RFeHAgPSByZWdleFBhcnQsIHRlc3RFeHAgKz0gbWF0Y2hUb2tlbi5zdWJzdHIoMCwgbCArIDEpLCB0ZXN0RXhwID0gdGVzdEV4cC5yZXBsYWNlKC9cXHwkLywgXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgb3Blbkdyb3VwQ291bnQgPiBqOyBqKyspIHRlc3RFeHAgKz0gXCIpXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhwID0gbmV3IFJlZ0V4cChcIl4oXCIgKyB0ZXN0RXhwICsgXCIpJFwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3ZhbGlkID0gZXhwLnRlc3QoYnVmZmVyU3RyKSkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXJ0ICs9IG1hdGNoVG9rZW47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc3ZhbGlkKSBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmcm9tR3JvdXAgJiYgKHJlZ2V4UGFydCArPSBcIilcIiwgb3Blbkdyb3VwQ291bnQtLSksIGlzdmFsaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwVG9rZW4sIGNidWZmZXIgPSBtYXNrc2V0LmJ1ZmZlci5zbGljZSgpLCByZWdleFBhcnQgPSBcIlwiLCBpc1ZhbGlkID0gITEsIG9wZW5Hcm91cENvdW50ID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gb3B0cy5yZWdleFRva2VucyAmJiBhbmFseXNlUmVnZXgoKSwgY2J1ZmZlci5zcGxpY2UocG9zLCAwLCBjaHJzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgYnVmZmVyU3RyID0gY2J1ZmZlci5qb2luKFwiXCIpLCBpID0gMDsgaSA8IG9wdHMucmVnZXhUb2tlbnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdleFRva2VuID0gb3B0cy5yZWdleFRva2Vuc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkID0gdmFsaWRhdGVSZWdleFRva2VuKHJlZ2V4VG9rZW4sIHJlZ2V4VG9rZW4uaXNHcm91cCkpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgY2FyZGluYWxpdHk6IDFcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pLCBJbnB1dG1hc2s7XHJcbn0oalF1ZXJ5LCBJbnB1dG1hc2spO1xyXG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqLyIsIihmdW5jdGlvbiAoKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyxcclxuICAgICAgICBbJ25nUmVzb3VyY2UnLCAndWkucm91dGVyJywgJ25nQ29va2llcycsICd1aS5tYXNrJywgJ3VpLmJvb3RzdHJhcCcsICdpc3RldmVuLW11bHRpLXNlbGVjdCcsICduZ0lucHV0TW9kaWZpZWQnLCAndWkudmFsaWRhdGUnLCAnY2dCdXN5JyxcclxuICAgICAgICAgICAgJ2FuZ3VsYXIuZmlsdGVyJywgJ3hlZGl0YWJsZScsICdjaGVja2xpc3QtbW9kZWwnLCAnbmdGaWxlVXBsb2FkJywgJ1NUTlJlc291cmNlJywgJ3VpLmJvb3RzdHJhcC5kYXRldGltZXBpY2tlcicsICdsZWFmbGV0LWRpcmVjdGl2ZScsICduZ0hhbmRzb250YWJsZScsXHJcbiAgICAgICAgICAgICdTVE5Db250cm9sbGVycycsICdMb2dJbk91dENvbnRyb2xsZXInLCAnTW9kYWxDb250cm9sbGVycycsICdTZXR0aW5nc0NvbnRyb2xsZXJzJywgJ1dpTS5TZXJ2aWNlcycsICdXaU0uRXZlbnQnLCAnd2ltX2FuZ3VsYXInLCAnYW5ndWxhclNwaW5uZXJzJ10pO1xyXG5cclxuICAgIGFwcC5jb25zdGFudCgnU0VSVkVSX1VSTCcsICdodHRwczovL3N0bi53aW0udXNncy5nb3YvU1ROU2VydmljZXMnKTtcclxuICAgIC8vYXBwLmNvbnN0YW50KCdTRVJWRVJfVVJMJywgJ2h0dHBzOi8vc3RudGVzdC53aW0udXNncy5nb3YvU1ROU2VydmljZXMyJyk7XHJcbiAgICAvL2FwcC5jb25zdGFudCgnU0VSVkVSX1VSTCcsICdodHRwOi8vbG9jYWxob3N0L1NUTlNlcnZpY2VzMicpO1xyXG5cclxuICAgIC8vYXBwLmNvbnN0YW50KCdFTlZJUk9OTUVOVCcsICdUZXN0aW5nJyk7XHJcbiAgICBhcHAuY29uc3RhbnQoJ0VOVklST05NRU5UJywgJ1Byb2R1Y3Rpb24nKTtcclxuXHJcbiAgICBhcHAucnVuKFsnJHJvb3RTY29wZScsICckdWliTW9kYWxTdGFjaycsICckY29va2llcycsICckc3RhdGUnLCAnRU5WSVJPTk1FTlQnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHVpYk1vZGFsU3RhY2ssICRjb29raWVzLCAkc3RhdGUsIEVOVklST05NRU5UKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zKSB7XHJcbiAgICAgICAgICAgIGlmICgoJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSB1bmRlZmluZWQgfHwgJGNvb2tpZXMuZ2V0KCdTVE5DcmVkcycpID09PSBcIlwiKSAmJiB0b1N0YXRlLmF1dGhlbnRpY2F0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlID0gdG9TdGF0ZS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5yZXR1cm5Ub1N0YXRlUGFyYW1zID0gdG9QYXJhbXMuaWQ7XHJcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCdlbnRyeScpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZyA9IHsgc2hvd0xvYWRpbmc6IHRydWUgfTtcclxuICAgICAgICAgICAgICAgIC8vY2xvc2UgYWxsIG1vZGFscyB3aGVuIGNoYW5naW5nIHN0YXRlcyAoc2l0ZSBjcmVhdGUgb3Blbiwgd2FudCB0byB1c2UgYSBuZWFyYnkgc2l0ZSBvciBqdXN0IGNoYW5nZSB0aGUgdXJsIHVwIHRvcCwgY2xvc2UgdGhlIG1vZGFsIHRvbylcclxuICAgICAgICAgICAgICAgICR1aWJNb2RhbFN0YWNrLmRpc21pc3NBbGwoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodG9TdGF0ZS51cmwgPT0gXCIvXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL21ha2UgdXNlcm5hbWUgZm9jdXNcclxuICAgICAgICAgICAgICAgICAgICAkKFwiI3VzZXJOYW1lRm9jdXNcIikuZm9jdXMoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLmVudmlyb25tZW50ID0gRU5WSVJPTk1FTlQ7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gKGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgZnJvbVN0YXRlLCBmcm9tUGFyYW1zLCBlcnJvcikge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLnN0YXRlSXNMb2FkaW5nLnNob3dMb2FkaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJG9uKCckc3RhdGVDaGFuZ2VFcnJvcicsIGZ1bmN0aW9uIChldmVudCwgdG9TdGF0ZSwgdG9QYXJhbXMsIGZyb21TdGF0ZSwgZnJvbVBhcmFtcywgZXJyb3IpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS5zdGF0ZUlzTG9hZGluZy5zaG93TG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhbGVydChcIkVycm9yIG9jY3VycmVkOiBTdGF0dXNcIiArIGVycm9yLnN0YXR1cyArIFwiLCBcIiArIGVycm9yLnN0YXR1c1RleHQgKyBcIi4gVGhlIGZvbGxvd2luZyByZXF1ZXN0IHdhcyB1bnN1Y2Nlc3NmdWw6IFwiICsgZXJyb3IuY29uZmlnLnVybCArIFwiIFBsZWFzZSByZWZyZXNoIGFuZCB0cnkgYWdhaW4uXCIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH1dKTtcclxuICAgIC8vYXBwLmNvbmZpZyhmdW5jdGlvbiB0aGF0IGRlZmluZXMgdGhlIGNvbmZpZyBjb2RlLiAndWkuc2VsZWN0JywgJ25nU2FuaXRpemUnLCckbG9jYXRpb25Qcm92aWRlcicsICRsb2NhdGlvblByb3ZpZGVyXHJcbiAgICBhcHAuY29uZmlnKFsnJHN0YXRlUHJvdmlkZXInLCAnJHVybFJvdXRlclByb3ZpZGVyJyxcclxuICAgICAgICBmdW5jdGlvbiAoJHN0YXRlUHJvdmlkZXIsICR1cmxSb3V0ZXJQcm92aWRlcikge1xyXG5cclxuICAgICAgICAgICAgLy9pZiBubyBhY3RpdmUgc3RhdGUsIGRpc3BsYXkgc3RhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZnJhZ21lbnQgaWRlbnRpZmllclxyXG4gICAgICAgICAgICAkdXJsUm91dGVyUHJvdmlkZXIub3RoZXJ3aXNlKFwiL1wiKTtcclxuXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xOTcyMTEyNS9yZXNvbHZlLWh0dHAtcmVxdWVzdC1iZWZvcmUtcnVubmluZy1hcHAtYW5kLXN3aXRjaGluZy10by1hLXJvdXRlLW9yLXN0YXRlXHJcbiAgICAgICAgICAgIC8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMjUzNzMxMS9hbmd1bGFyLXVpLXJvdXRlci1sb2dpbi1hdXRoZW50aWNhdGlvblxyXG4gICAgICAgICAgICAkc3RhdGVQcm92aWRlclxyXG4gICAgICAgICAgICAgICAgLy8gZW50cnlQb2ludFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZW50cnlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L21haW4vbWFpblZpZXcuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWFpbkN0cmxcIlxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYXBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcIm1hcFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NYXBcIixcclxuICAgICAgICAgICAgICAgICAgICB2aWV3czoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAnJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01hcENvbnRyb2xsZXInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L21hcC9tYXAuaHRtbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBGaWx0ZXJzQG1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L21hcC9tYXBGaWx0ZXJzLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ01hcEZpbHRlcnNDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlTGlzdDogZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zVDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZW5zb3JUeXBlczogZnVuY3Rpb24gKHNlbnNUKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ldHdOOiAnTkVUV09SS19OQU1FJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChuZXR3Tikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV0d04uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFwU2l0ZUluZm9AbWFwJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvc2l0ZS9tYXBTaXRlSW5mb1ZpZXcuaHRtbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwU2l0ZUluZm9Db250cm9sbGVyJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnbWFwUGVha3NWaWV3QG1hcCc6IHsgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvcGVhay9tYXBQZWFrc1ZpZXcuaHRtbCcsIGNvbnRyb2xsZXI6ICdNYXBQZWFrc0NvbnRyb2xsZXInIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdtYXBTZW5zb3JQcm9wb3NlQG1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NlbnNvci9tYXBTZW5zb3JQcm9wb3NlLmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lUeXBlczogZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNkOiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNEZXBzOiBmdW5jdGlvbiAoc2QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnTWFwU2Vuc29yUHJvcG9zZUNvbnRyb2xsZXInXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gYXBwcm92YWwgcGFnZVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiYXBwcm92YWxcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvQXBwcm92YWxcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvYXBwcm92YWwvYXBwcm92YWwuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwiYXBwcm92YWxDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVMaXN0OiBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eUxpc3Q6IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaTogJ0lOU1RSVU1FTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0cnVtZW50TGlzdDogZnVuY3Rpb24gKGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdDogJ1NFTlNPUl9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsU2Vuc29yVHlwZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcFR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHE6ICdIV01fUVVBTElUWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bVF1YWxMaXN0OiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHQ6ICdIV01fVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bVR5cGVMaXN0OiBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBzaXRlc1NlYXJjaCBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNpdGVTZWFyY2hcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2l0ZVNlYXJjaFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zaXRlU2VhcmNoL3NpdGVTZWFyY2guaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwic2l0ZVNlYXJjaEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vuc1Q6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2Vuc1QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW5zVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV0d046ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChuZXR3Tikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldHdOLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIHJlcG9ydGluZ1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVwb3J0aW5nXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1JlcG9ydGluZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGFic3RyYWN0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInJlcG9ydGluZ0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICdSRVBPUlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxSZXBvcnRzOiBmdW5jdGlvbiAocikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV0OiAnRVZFTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50VHlwZXM6IGZ1bmN0aW9uIChldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGV0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlczogJ0VWRU5UX1NUQVRVUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50U3RhdHVzOiBmdW5jdGlvbiAoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWc6ICdBR0VOQ1knLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxBZ2VuY2llczogZnVuY3Rpb24gKGFnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWcuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbWJlclJlcG9ydHM6IGZ1bmN0aW9uIChyLCAkY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1JRCA9ICRjb29raWVzLmdldCgnbUlEJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5nZXRNZW1iZXJSZXBvcnRzKHsgbWVtYmVySWQ6IG1JRCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0aW5nLnJlcG9ydERhc2hcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlcG9ydGluZy5yZXBvcnREYXNoXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0Rhc2hib2FyZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvcmVwb3J0aW5nRGFzaGJvYXJkLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInJlcG9ydGluZ0Rhc2hDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogJ1JFUE9SVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFJlcG9ydHNBZ2FpbjogZnVuY3Rpb24gKHIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXBvcnRpbmcuU3VibWl0UmVwb3J0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXBvcnRpbmcuc3VibWl0UmVwb3J0XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1N1Ym1pdFJlcG9ydFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXBvcnRpbmcvc3VibWl0UmVwb3J0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInN1Ym1pdFJlcG9ydEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gcmVwb3J0aW5nLkdlbmVyYXRlUmVwb3J0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXBvcnRpbmcuZ2VuZXJhdGVSZXBvcnRcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvR2VuZXJhdGVSZXBvcnRcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVwb3J0aW5nL2dlbmVyYXRlUmVwb3J0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLy8gc2V0dGluZ3MgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJzZXR0aW5nc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TZXR0aW5nc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zZXR0aW5ncy9zZXR0aW5ncy5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJzZXR0aW5nc0N0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVyc1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwibWVtYmVyc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NZW1iZXJzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IGlkOiBudWxsIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IFwiPGRpdiB1aS12aWV3PjwvZGl2PlwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWVtYmVyQ3RybFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6ICdST0xFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsUm9sZXM6IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gci5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYTogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEFnZW5jaWVzOiBmdW5jdGlvbiAoYSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm9maWxlSWQ6IGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgIT09IHVuZGVmaW5lZClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmlkO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gbWVtYmVycy5NZW1iZXJzTGlzdFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwibWVtYmVycy5NZW1iZXJzTGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9NZW1iZXJzTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9tZW1iZXIvbWVtYmVyc0xpc3QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHNcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcImV2ZW50c1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9FdmVudHNcIixcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IHVpLXZpZXc+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJldmVudEN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudHM6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXQ6ICdFVkVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRUeXBlczogZnVuY3Rpb24gKGV0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVzOiAnRVZFTlRfU1RBVFVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRXZlbnRTdGF0czogZnVuY3Rpb24gKGVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG06ICdNRU1CRVInLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb29yZE1lbWJlcnM6IGZ1bmN0aW9uIChtLCAkaHR0cCwgJGNvb2tpZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArICRjb29raWVzLmdldCgnU1ROQ3JlZHMnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICRodHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkFjY2VwdCA9ICdhcHBsaWNhdGlvbi9qc29uJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldFJvbGVNZW1iZXJzKHsgcm9sZUlkOiAxIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHMuRXZlbnRzTGlzdFxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZXZlbnRzLkV2ZW50c0xpc3RcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRXZlbnRzTGlzdFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9ldmVudC9ldmVudHNMaXN0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAvLyBldmVudHMuRXZlbnRJbmZvZlxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwiZXZlbnRzLkV2ZW50SW5mb1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9ldmVudEluZm8vOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L2V2ZW50L2V2ZW50SW5mby5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJldmVudEluZm9DdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZTogJ0VWRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc0V2ZW50OiBmdW5jdGlvbiAoZSwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRJZCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudElkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLnF1ZXJ5KFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGlkOiBldmVudElkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC8vIHJlc291cmNlcyAgICBcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlc1wiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9SZXNvdXJjZXNcIixcclxuICAgICAgICAgICAgICAgICAgICBhYnN0cmFjdDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogXCI8ZGl2IHVpLXZpZXc+PC9kaXY+XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJyZXNvdXJjZXNDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdTVEFURScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXRlczogZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3RhdGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnOiAnQUdFTkNZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQWdlbmNpZXM6IGZ1bmN0aW9uIChhZykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFnLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09OVEFDVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsQ29udGFjdFR5cGVzOiBmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGQ6ICdERVBMT1lNRU5UX1BSSU9SSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95UHJpb3JpdGllczogZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlczogJ0VWRU5UX1NUQVRVUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50U3RhdHM6IGZ1bmN0aW9uIChlcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldDogJ0VWRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxFdmVudFR5cGVzOiBmdW5jdGlvbiAoZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnQ6ICdGSUxFX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxGaWxlVHlwZXM6IGZ1bmN0aW9uIChmdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoY206ICdIT1JJWk9OVEFMX0NPTExfTUVUSE9EUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckNvbGxNZXRob2RzOiBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGNtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZDogJ0hPUklaT05UQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIb3JEYXR1bXM6IGZ1bmN0aW9uIChoZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhkLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hPVVNJTkdfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvdXNlVHlwZXM6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNcXVhbGl0aWVzOiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtVDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNdHlwZXM6IGZ1bmN0aW9uIChod21UKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHdtVC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWNjOiAnSU5TVF9DT0xMX0NPTkRJVElPTicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEluc3RDb2xsZWN0Q29uZGl0aW9uczogZnVuY3Rpb24gKGljYykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGljYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbm46ICdORVRXT1JLX05BTUUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChubikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5uLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHE6ICdPUF9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT2JqUHRRdWFsaXRpZXM6IGZ1bmN0aW9uIChvcHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcHEuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdDogJ09QX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPYmpQdFR5cGVzOiBmdW5jdGlvbiAob3B0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYjogJ1NFTlNPUl9CUkFORCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvckJyYW5kczogZnVuY3Rpb24gKHNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGR0OiAnREVQTE9ZTUVOVF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95bWVudFR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3N0YXQ6ICdTVEFUVVNfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFN0YXR1c1R5cGVzOiBmdW5jdGlvbiAoc3N0YXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzc3RhdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3Q6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnQ6ICdORVRXT1JLX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrVHlwZXM6IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2Y206ICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRpY2FsQ29sbE1ldGhvZHM6IGZ1bmN0aW9uICh2Y20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2Y20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZkOiAnVkVSVElDQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0aWNhbERhdHVtczogZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJlc291cmNlcy5SZXNvdXJjZXNMaXN0XHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9SZXNvdXJjZXNMaXN0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9yZXNvdXJjZXNMaXN0Lmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYWxsIGxvb2t1cCBodG1sc1xyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuYWdlbmN5XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0FnZW5jaWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9hZ2VuY3kuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkNvbnRhY3RUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0NvbnRhY3RUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvY29udGFjdFR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkRlcFByaW9yaXR5XCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0RlcGxveW1lbnRQcmlvcml0aWVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9kZXBsb3ltZW50UHJpb3JpdHkuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkV2ZW50U3RhdHVzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0V2ZW50U3RhdHVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9ldmVudFN0YXR1cy5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRXZlbnRUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0V2ZW50VHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2V2ZW50VHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuRmlsZVR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvRmlsZVR5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9maWxlVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSG9yQ29sbE1ldGhkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hvcml6b250YWxDb2xsTWV0aG9kc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvaG9yaXpvbnRhbENvbGxlY3Rpb25NZXRob2QuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkhvckRhdHVtXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hvcml6b250YWxEYXR1bXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2hvcml6b250YWxEYXR1bS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSG91c2luZ1R5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSG91c2luZ1R5cGVzXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9ob3VzaW5nVHlwZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuSFdNUXVhbFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9IV01RdWFsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2h3bVF1YWxpdHkuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LkhXTVR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvSFdNVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL2h3bVR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0Lkluc3RyQ29sbENvbmRpdGlvblwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9JbnN0ckNvbGxDb25kaXRpb25zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy9pbnN0cnVtZW50Q29sbGVjdGlvbkNvbmRpdGlvbi5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuTWFya2VyXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL01hcmtlcnNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL21hcmtlci5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuTmV0d29ya05hbWVzXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL05ldHdvcmtOYW1lc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvbmV0d29ya05hbWVzLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5PUHF1YWxpdHlcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvT2JqUG9pbnRRdWFsaXRpZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL29iamVjdGl2ZVBvaW50UXVhbGl0eS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuT1BUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL09ialBvaW50VHlwZVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvb2JqZWN0aXZlUG9pbnRUeXBlLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5TZW5zb3JCcmFuZFwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9TZW5zb3JCcmFuZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3NlbnNvckJyYW5kLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJyZXNvdXJjZXMuUmVzb3VyY2VzTGlzdC5TZW5EZXBUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NlbnNvckRlcGxveW1lbnRUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvZGVwbG95bWVudFR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlN0YXR1c1R5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU3RhdHVzVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3N0YXR1c1R5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlNlbnNvclR5cGVcIiwge1xyXG4gICAgICAgICAgICAgICAgICAgIHVybDogXCIvU2Vuc29yVHlwZXNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3NlbnNvclR5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0Lk5ldHdvcmtUeXBlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL05ldHdvcmtUeXBlc1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9yZXNvdXJjZXMvbmV0d29ya1R5cGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInJlc291cmNlcy5SZXNvdXJjZXNMaXN0LlZlcnRDb2xsTWV0aG9kXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1ZlcnRpY2FsQ29sbE1ldGhvZHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvcmVzb3VyY2VzL3ZlcnRpY2FsQ29sbGVjdGlvbk1ldGhvZC5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnN0YXRlKFwicmVzb3VyY2VzLlJlc291cmNlc0xpc3QuVmVydERhdHVtXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1ZlcnRpY2FsRGF0dW1zXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwiY29tcG9uZW50L3Jlc291cmNlcy92ZXJ0aWNhbERhdHVtLmh0bWxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWVcclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnVsayBod20gYWRqdXN0bWVudCBwYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJidWxrSFdNQWRqXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0J1bGtIV01fYWRqdXN0bWVudHNcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvaHdtL2J1bGtIV01BZGouaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImJ1bGtIV01BZGpDdHJsXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlOiAnRVZFTlQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudExpc3Q6IGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NUQVRFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVMaXN0OiBmdW5jdGlvbiAocykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGM6ICdDT1VOVElFUycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50eUxpc3Q6IGZ1bmN0aW9uIChjKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYnVsayBod20gYWRqdXN0bWVudCBwYWdlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJidWxrSFdNXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL0hpc3RvcmljSFdNX1VwbG9hZFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9od20vYnVsa0hXTS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRlOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwiYnVsa0hXTUN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50TGlzdDogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzOiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUxpc3Q6IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYzogJ0NPVU5USUVTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnR5TGlzdDogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hXTV9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtVHlwZUxpc3Q6IGZ1bmN0aW9uIChodCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGh0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtOiAnTUFSS0VSJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFya2VyTGlzdDogZnVuY3Rpb24gKG0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHdtUXVhbExpc3Q6IGZ1bmN0aW9uIChocSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhxLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBoZDogJ0hPUklaT05UQUxfREFUVU0nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3JpekRhdHVtTGlzdDogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG9yQ29sbE1ldGhMaXN0OiBmdW5jdGlvbiAoaGNtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGNtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZDogJ1ZFUlRJQ0FMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydERhdHVtTGlzdDogZnVuY3Rpb24gKHZkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZjbTogJ1ZFUlRJQ0FMX0NPTExfTUVUSE9EJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydENvbGxNZXRoTGlzdDogZnVuY3Rpb24gKHZjbSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZjbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZjogJ0ZJTEVfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVUeXBlc0xpc3Q6IGZ1bmN0aW9uIChmKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYTogJ0FHRU5DWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW5jaWVzTGlzdDogZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2l0ZSAoYWJzdHJhY3QpXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJzaXRlXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NpdGUvOmlkXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgYWJzdHJhY3Q6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXRpdHVkZTogeyB2YWx1ZTogbnVsbCwgc3F1YXNoOiB0cnVlIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogeyB2YWx1ZTogbnVsbCwgc3F1YXNoOiB0cnVlIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcImNvbXBvbmVudC9zaXRlL3NpdGUuaHRtbFwiLFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0ZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBbJyRzY29wZScsICckc3RhdGVQYXJhbXMnLCAnU2l0ZV9TY3JpcHQnLCAncnVubmluZ1NjcmlwdCcsIGZ1bmN0aW9uICgkc2NvcGUsICRzdGF0ZVBhcmFtcywgU2l0ZV9TY3JpcHQsIHJ1bm5pbmdTY3JpcHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJHNjb3BlLnNpdGVJRCA9ICRzdGF0ZVBhcmFtcy5pZDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzY29wZS5zaXRlSUQgIT0gXCIwXCIpIFNpdGVfU2NyaXB0LnNldElzU2NyaXB0UnVubmluZyhydW5uaW5nU2NyaXB0LnZhbHVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBTaXRlX1NjcmlwdC5zZXRJc1NjcmlwdFJ1bm5pbmcoXCJmYWxzZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNpdGUgc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NJVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5uaW5nU2NyaXB0OiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLnNlbnNvclNjcmlwdFJ1bm5pbmcoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZTogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5xdWVyeSh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhdGxvbmc6IGZ1bmN0aW9uICgkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMubGF0aXR1ZGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGF0bG9uZ2FycmF5ID0gWyRzdGF0ZVBhcmFtcy5sYXRpdHVkZSwgJHN0YXRlUGFyYW1zLmxvbmdpdHVkZV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxhdGxvbmdhcnJheTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVOZXR3b3JrTmFtZXM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZU5ldHdvcmtOYW1lcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlTmV0d29ya1R5cGVzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVOZXR3b3JrVHlwZXMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUhvdXNpbmdzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIb3VzaW5ncyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNTaXRlT1BzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVPUHMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVNlbnNvcnM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHMuZ2V0U2l0ZVNlbnNvcnMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZUhXTXM6IGZ1bmN0aW9uIChzLCAkc3RhdGVQYXJhbXMsICRodHRwLCAkY29va2llcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljICcgKyAkY29va2llcy5nZXQoJ1NUTkNyZWRzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGh0dHAuZGVmYXVsdHMuaGVhZGVycy5jb21tb24uQWNjZXB0ID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIV01zKHsgaWQ6ICRzdGF0ZVBhcmFtcy5pZCB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1NpdGVGaWxlczogZnVuY3Rpb24gKHMsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcy5nZXRTaXRlRmlsZXMoeyBpZDogJHN0YXRlUGFyYW1zLmlkIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzU2l0ZVBlYWtzOiBmdW5jdGlvbiAocywgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVQZWFrcyh7IGlkOiAkc3RhdGVQYXJhbXMuaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckRhdHVtczogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHM6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0OiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09VTlRJRVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb3VudGllczogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodDogJ0hPVVNJTkdfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvdXNpbmdUeXBlczogZnVuY3Rpb24gKGh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5uOiAnTkVUV09SS19OQU1FJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsTmV0d29ya05hbWVzOiBmdW5jdGlvbiAobm4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBubi5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbnQ6ICdORVRXT1JLX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxOZXR3b3JrVHlwZXM6IGZ1bmN0aW9uIChudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkdDogJ0RFUExPWU1FTlRfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbERlcGxveVR5cGVzOiBmdW5jdGlvbiAoZHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHA6ICdERVBMT1lNRU5UX1BSSU9SSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsRGVwbG95UHJpb3JpdGllczogZnVuY3Rpb24gKGRwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHAuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9wIHN0dWZmICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdDogJ09QX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFR5cGVzOiBmdW5jdGlvbiAob3B0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0RGF0czogJ1ZFUlRJQ0FMX0RBVFVNJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsVmVydERhdHVtczogZnVuY3Rpb24gKHZlcnREYXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVydERhdHMuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRDb2xNZXQ6ICdWRVJUSUNBTF9DT0xMX01FVEhPRCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnRDb2xNZXRob2RzOiBmdW5jdGlvbiAodmVydENvbE1ldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnRDb2xNZXQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wUXVhbDogJ09QX1FVQUxJVFknLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxPUFF1YWxpdGllczogZnVuY3Rpb24gKG9wUXVhbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wUXVhbC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2Vuc29yIHN0dWZmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZW50OiAnU0VOU09SX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTZW5zb3JUeXBlczogZnVuY3Rpb24gKHNlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzZW50LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzYjogJ1NFTlNPUl9CUkFORCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvckJyYW5kczogZnVuY3Rpb24gKHNiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh3bSBzdHVmZlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBod210OiAnSFdNX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxIV01UeXBlczogZnVuY3Rpb24gKGh3bXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBod210LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBocTogJ0hXTV9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSFdNUXVhbGl0aWVzOiBmdW5jdGlvbiAoaHEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmlsZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmdDogJ0ZJTEVfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEZpbGVUeXBlczogZnVuY3Rpb24gKGZ0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZnQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGE6ICdBR0VOQ1knLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxBZ2VuY2llczogZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzaXRlLmluZm9cclxuICAgICAgICAgICAgICAgIC5zdGF0ZShcInNpdGUuZGFzaGJvYXJkXCIsIHtcclxuICAgICAgICAgICAgICAgICAgICB1cmw6IFwiL1NpdGVEYXNoYm9hcmRcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgdmlld3M6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3NpdGVObyc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFsnJHNjb3BlJywgJyRjb29raWVzJywgJ3RoaXNTaXRlJywgZnVuY3Rpb24gKCRzY29wZSwgJGNvb2tpZXMsIHRoaXNTaXRlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS5TaXRlTm8gPSB0aGlzU2l0ZS5zaXRlX25vO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhdGNoIGZvciB0aGUgc2Vzc2lvbiBldmVudCB0byBjaGFuZ2UgYW5kIHVwZGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRzY29wZS4kd2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJyk7IH0sIGZ1bmN0aW9uIChuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkc2NvcGUuc2Vzc2lvbkV2ZW50ID0gJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IG51bGwgJiYgJGNvb2tpZXMuZ2V0KCdTZXNzaW9uRXZlbnROYW1lJykgIT09IHVuZGVmaW5lZCA/ICRjb29raWVzLmdldCgnU2Vzc2lvbkV2ZW50TmFtZScpIDogXCJBbGwgRXZlbnRzXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGRpdj48aDIgc3R5bGU9XCJtYXJnaW4tdG9wOjBcIj5TaXRlIHt7U2l0ZU5vfX0gLSBGb3Ige3tzZXNzaW9uRXZlbnR9fTwvaDI+PC9kaXY+PGhyIC8+J1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnYU1hcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdzaXRlTWFwQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9zaXRlL3NpdGVNYXBWaWV3Lmh0bWwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFTaXRlOiBmdW5jdGlvbiAodGhpc1NpdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzU2l0ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveW1lbnRUeXBlczogZnVuY3Rpb24gKHRoaXNTaXRlLCBkdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpc1NpdGUgIT09IHVuZGVmaW5lZCkgcmV0dXJuIGR0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgczogJ1NJVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpdGVIV01zOiBmdW5jdGlvbiAodGhpc1NpdGUsIHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzLmdldFNpdGVIV01zKHsgaWQ6IHRoaXNTaXRlLnNpdGVfaWQgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGk6ICdJTlNUUlVNRU5UJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYXJvU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdiYXJvX3ZpZXcnIH0pLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ21ldF92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmRnU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdyZGdfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdzdG9ybXRpZGVfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhdmVTZW5zb3JzOiBmdW5jdGlvbiAodGhpc1NpdGUsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNTaXRlICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpLmdldFNlbnNvclZpZXcoeyBWaWV3VHlwZTogJ3dhdmVoZWlnaHRfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNUZW1wU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdwcmVzc3VyZXRlbXBfdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoZXJtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICd0aGVybV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2ViY2FtU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICd3ZWJjYW1fdmlldycgfSkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhaW5nYWdlU2Vuc29yczogZnVuY3Rpb24gKHRoaXNTaXRlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzU2l0ZSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaS5nZXRTZW5zb3JWaWV3KHsgVmlld1R5cGU6ICdyYWluZ2FnZV92aWV3JyB9KS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2FTaXRlJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ3NpdGVDdHJsJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiAnY29tcG9uZW50L3NpdGUvc2l0ZUluZm9WaWV3Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdvcCc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdvYmplY3RpdmVQb2ludEN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvb2JqZWN0aXZlUG9pbnQvb2JqZWN0aXZlUG9pbnRMaXN0Lmh0bWwnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdzZW5zb3InOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnc2Vuc29yQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9zZW5zb3Ivc2Vuc29yTGlzdC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHdtJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogJ2h3bUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvaHdtL2h3bUxpc3QuaHRtbCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2ZpbGUnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyOiAnZmlsZUN0cmwnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6ICdjb21wb25lbnQvZmlsZS9maWxlTGlzdC5odG1sJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAncGVhayc6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6ICdwZWFrQ3RybCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogJ2NvbXBvbmVudC9wZWFrL3BlYWtMaXN0Lmh0bWwnXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBRdWlja0hXTSBwYWdlXHJcbiAgICAgICAgICAgICAgICAuc3RhdGUoXCJxdWlja0NyZWF0ZVwiLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBcIi9RdWlja0NyZWF0ZS86aWRcIixcclxuICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJjb21wb25lbnQvc2l0ZS9xdWlja0NyZWF0ZS5odG1sXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJxdWlja0NyZWF0ZUN0cmxcIixcclxuICAgICAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGU6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGljaFF1aWNrOiBmdW5jdGlvbiAoJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHN0YXRlUGFyYW1zLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaXRlIHN0dWZmICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhkOiAnSE9SSVpPTlRBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhvckRhdHVtczogZnVuY3Rpb24gKGhkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhjbTogJ0hPUklaT05UQUxfQ09MTF9NRVRIT0RTJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG9yQ29sbE1ldGhvZHM6IGZ1bmN0aW9uIChoY20pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBoY20uZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0OiAnU1RBVEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTdGF0ZXM6IGZ1bmN0aW9uIChzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjOiAnQ09VTlRJRVMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxDb3VudGllczogZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvcCBzdHVmZiAgICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHQ6ICdPUF9UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT1BUeXBlczogZnVuY3Rpb24gKG9wdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmVydERhdHM6ICdWRVJUSUNBTF9EQVRVTScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFZlcnREYXR1bXM6IGZ1bmN0aW9uICh2ZXJ0RGF0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnREYXRzLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZXJ0Q29sTWV0OiAnVkVSVElDQUxfQ09MTF9NRVRIT0QnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxWZXJ0Q29sTWV0aG9kczogZnVuY3Rpb24gKHZlcnRDb2xNZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2ZXJ0Q29sTWV0LmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcFF1YWw6ICdPUF9RVUFMSVRZJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsT1BRdWFsaXRpZXM6IGZ1bmN0aW9uIChvcFF1YWwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcFF1YWwuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGh3bSBzdHVmZiAoaWYgaWQ9J2h3bScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh3bXQ6ICdIV01fVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhXTVR5cGVzOiBmdW5jdGlvbiAoaHdtdCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdIV00nKSByZXR1cm4gaHdtdC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHE6ICdIV01fUVVBTElUWScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEhXTVF1YWxpdGllczogZnVuY3Rpb24gKGhxLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ0hXTScpIHJldHVybiBocS5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbTogJ01BUktFUicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbE1hcmtlcnM6IGZ1bmN0aW9uIChtLCAkc3RhdGVQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkc3RhdGVQYXJhbXMuaWQgPT0gJ0hXTScpIHJldHVybiBtLmdldEFsbCgpLiRwcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzZW5zb3Igc3R1ZmZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHQ6ICdERVBMT1lNRU5UX1RZUEUnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxEZXBsb3lUeXBlczogZnVuY3Rpb24gKGR0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZHQuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGU6ICdFVkVOVCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbEV2ZW50czogZnVuY3Rpb24gKGUsICRzdGF0ZVBhcmFtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZVBhcmFtcy5pZCA9PSAnU2Vuc29yJykgcmV0dXJuIGUuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbnQ6ICdTRU5TT1JfVFlQRScsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNlbnNvclR5cGVzOiBmdW5jdGlvbiAoc2VudCwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdTZW5zb3InKSByZXR1cm4gc2VudC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2I6ICdTRU5TT1JfQlJBTkQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTZW5zb3JCcmFuZHM6IGZ1bmN0aW9uIChzYiwgJHN0YXRlUGFyYW1zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlUGFyYW1zLmlkID09ICdTZW5zb3InKSByZXR1cm4gc2IuZ2V0QWxsKCkuJHByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0OiAnSE9VU0lOR19UWVBFJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSG91c2luZ1R5cGVzOiBmdW5jdGlvbiAoaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBodC5nZXRBbGwoKS4kcHJvbWlzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy90aGlzIGNhdXNlcyBpc3N1ZXMgd2l0aCBTdGF0dXM0MDQgTm90IGZvdW5kIG9uIGNvbXBvbmVudC9tYWluL21haW5WaWV3Lmh0bWxcclxuICAgICAgICAgICAgLy8kbG9jYXRpb25Qcm92aWRlci5odG1sNU1vZGUoe1xyXG4gICAgICAgICAgICAvLyAgICBlbmFibGVkOiB0cnVlLFxyXG4gICAgICAgICAgICAvLyAgICByZXF1aXJlQmFzZTogZmFsc2VcclxuICAgICAgICAgICAgLy99KTtcclxuICAgICAgICB9XHJcbiAgICBdKTtcclxufSgpKTtcclxuIl19
