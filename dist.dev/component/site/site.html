<!-- Site title with number-->
<div class="col-md-12">
    <div ui-view="siteNo"></div>
</div>

<!-- Site with map above it -->
<div class="col-md-8">
    <div ui-view="aSite"></div>
</div>

<!-- if there's a site, show the OP, Sensor, HWM, Files, and Peaks -->
<div ng-if="siteID > 0">
    <div class="col-md-4">
        <div ui-view="op"></div>
        <div ui-view="sensor"></div>
        <div ui-view="hwm"></div>
        <div ui-view="file"></div>
        <div ui-view="peak"></div>
    </div>
</div>

<!-- Style for 'graying' out proposed sensor parts -->
<style type="text/css">
    .darkClass {
        filter: alpha(opacity=50); /* IE */
        opacity: 0.5; /* Safari, Opera */
        -moz-opacity: 0.50; /* FireFox */
        z-index: 20;
        background-repeat: no-repeat;
        background-position: center;
    }
</style>

<!-- MODAL for Site Create/edit-->
<script type="text/ng-template" id="SITEmodal.html">
    <div class="modal-header">
        <h3 class="modal-title">Site</h3>
    </div>
    <form class="form-horizontal" name="siteForm">
        <fieldset>
            <div class="modal-body">

                <!--<legend>Site Information</legend>-->
                <!--Site Description*-->
                <div class="form-group required">
                    <label class="col-md-4 control-label req" for="inputSITE_DESCRIPTION">Site Description:</label>
                    <div class="col-md-7">
                        <textarea class="form-control" id="inputSITE_DESCRIPTION" type="text" rows="3" placeholder="Site Description" ng-model="aSite.SITE_DESCRIPTION" required />
                    </div>
                </div>

                <!--Internal Notes-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputSITE_NOTES">Internal Notes:</label>
                    <div class="col-md-7">
                        <textarea class="form-control" id="inputSITE_NOTES" type="text" rows="3" placeholder="Internal Notes" ng-model="aSite.SITE_NOTES" />
                    </div>
                </div>

                <!-- dec deg or dms: -->
                <div class="form-group">
                    <label class="col-md-4 control-label"></label>
                    <div class="col-md-7">
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-model="aSite.decDegORdms" ng-change="latLongChange()" value="dd" /> Dec Deg
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-model="aSite.decDegORdms" ng-change="latLongChange()" value="dms" /> DMS
                        </label>
                    </div>
                </div>

                <!--Latitude*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.LATITUDE_DD.$invalid && siteForm.LATITUDE_DD.$dirty}">
                    <label class="col-md-4 control-label req" for="inputLATITUDE_DD">Latitude:</label>
                    <div class="col-md-7" ng-if="aSite.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" name="LATITUDE_DD" id="LATITUDE_DD" ng-model="aSite.LATITUDE_DD"
                               ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue()" type="text" placeholder="Latitude" required />
                    </div>
                    <div class="col-md-7" ng-if="aSite.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue('dms')" id="LaDeg" name="Deg" ng-model="DMS.LADeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LAMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LASec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!--Longitude*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.LONGITUDE_DD.$invalid && siteForm.LONGITUDE_DD.$dirty}">
                    <label class="col-md-4 control-label req" for="inputLONGITUDE_DD">Longitude:</label>
                    <div class="col-md-7" ng-if="aSite.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" ng-enter="getAddress()" id="LONGITUDE_DD" name="LONGITUDE_DD" ng-model="aSite.LONGITUDE_DD"
                               ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue()" type="text" placeholder="Longitude" required />
                    </div>
                    <div class="col-md-7" ng-if="aSite.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue('dms')" id="LoDeg" name="Deg" ng-model="DMS.LODeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LOMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LOSec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!--populate button*-->
                <div class="form-group required" ng-if="aSite.SITE_ID == undefined">
                    <label class="col-md-4 control-label" for="inputPOPULATEBTN">Click here to populate address fields:</label>
                    <div class="col-md-7">
                        <button type="button" ng-click="getAddress()" class="btn btn-primary">Check for Nearby Sites and Lookup Address</button>
                    </div>
                </div>

                <!--Horizontal Datum*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.HDATUM_ID.$invalid && siteForm.HDATUM_ID.$dirty}">
                    <label class="col-md-4 control-label req" for="inputHDATUM_ID">Horizontal Datum:</label>
                    <div class="col-md-7">
                        <select class="form-control" id="inputHDATUM_ID" name="HDATUM_ID" ng-model="aSite.HDATUM_ID"
                                ng-options="hd.DATUM_ID as hd.DATUM_NAME for hd in HorizontalDatumList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!--Horizontal Collection Method*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.HCOLLECT_METHOD_ID.$invalid && siteForm.HCOLLECT_METHOD_ID.$dirty}">
                    <label class="col-md-4 control-label req" for="inputHCOLLECT_METHOD_ID">Horizontal Collection Method:</label>
                    <div class="col-md-7">
                        <select class="form-control" id="inputHCOLLECT_METHOD_ID" name="HCOLLECT_METHOD_ID" ng-model="aSite.HCOLLECT_METHOD_ID"
                                ng-options="hc.HCOLLECT_METHOD_ID as hc.HCOLLECT_METHOD for hc in HorCollMethodList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!--Address-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputADDRESS">Address:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputADDRESS" name="ADDRESS" ng-model="aSite.ADDRESS" type="text" />
                    </div>
                </div>

                <!--City-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputCITY">City:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputCITY" name="CITY" ng-model="aSite.CITY" type="text" />
                    </div>
                </div>

                <!--State*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.STATE.$invalid && siteForm.STATE.$dirty}">
                    <label class="col-md-4 control-label req" for="inputSTATE">State:</label>
                    <div class="col-md-7">
                        <select class="form-control" id="inputSTATE" name="STATE" ng-model="aSite.STATE" ng-change="updateCountyList(aSite.STATE)"
                                ng-options="state.STATE_ABBREV as state.STATE_NAME for state in StateList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!--Zip-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputZIP">Zip:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputZIP" name="ZIP" ng-model="aSite.ZIP" type="text" ui-mask="{{'99999'}}" />
                    </div>
                </div>

                <!--County*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.COUNTY.$invalid && siteForm.COUNTY.$dirty}">
                    <label class="col-md-4 control-label req" for="inputCOUNTY">County:</label>
                    <div class="col-md-7">
                        <select class="form-control" id="inputCOUNTY" name="COUNTY" ng-model="aSite.COUNTY" ng-options="c.COUNTY_NAME as c.COUNTY_NAME for c in stateCountyList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!--Waterbody*-->
                <div class="form-group required" ng-class="{'has-error':siteForm.WATERBODY.$invalid && siteForm.WATERBODY.$dirty}">
                    <label class="col-md-4 control-label req" for="inputWATERBODY">Waterbody:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputWATERBODY" name="WATERBODY" ng-model="aSite.WATERBODY" type="text" required />
                    </div>
                </div>

                <!--Drainage Area-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputDRAINAGE_AREA_SQMI">Drainage Area (sq mi):</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputDRAINAGE_AREA_SQMI" name="DRAINAGE_AREA_SQMI" ng-model="aSite.DRAINAGE_AREA_SQMI" type="text" />
                    </div>
                </div>

                <!--Station ID for USGS gage-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputUSGS_SID">Station ID for USGS gage:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputUSGS_SID" name="USGS_SID" ng-model="aSite.USGS_SID" type="text" />
                    </div>
                </div>

                <!--Station ID for NOAA gage-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputNOAA_SID">Station ID for NOAA gage:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputNOAA_SID" name="NOAA_SID" ng-model="aSite.NOAA_SID" type="text" />
                    </div>
                </div>

                <!--Other Station ID-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputOTHER_SID">Other Station ID:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputOTHER_SID" name="OTHER_SID" placeholder="Please add details in the Site Description" ng-model="aSite.OTHER_SID" type="text" />
                    </div>
                </div>

                <!--Safety Notes-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputSAFETY_NOTES">Safety Notes:</label>
                    <div class="col-md-7">
                        <textarea class="form-control" id="inputSAFETY_NOTES" type="text" rows="3" ng-model="aSite.SAFETY_NOTES" />
                    </div>
                </div>

                <hr />

                <!--Site Housing section-->
                <div class="form-group">
                    <div style="padding:0" class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Site Housing</h3>
                        </div>
                        <div class="panel-body">
                            <label class="col-md-4 control-label" for="HOUSING_TYPE">Site Housing(s):</label>
                            <div class="col-md-7">
                                <div isteven-multi-select
                                     input-model="allHousingTypeList"
                                     output-model="houseType.value"
                                     button-label="TYPE_NAME"
                                     item-label="TYPE_NAME"
                                     max-height="300px"
                                     on-item-click="HouseTypeClick(data)"
                                     tick-property="selected"
                                     helper-elements="filter">
                                </div>
                            </div>
                            <br clear="all" />
                            <div ng-show="siteHouseTypesTable.length > 0">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th class="col-sm-3">House Type</th>
                                            <th class="col-sm-1">Housing Length (ft)</th>
                                            <th class="col-sm-3">Housing Material</th>
                                            <th class="col-sm-3">Housing Notes</th>
                                            <th class="col-sm-1">Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="house in siteHouseTypesTable">
                                            <td>{{house.TYPE_NAME}}<input type="hidden" ng-model="house.HOUSING_TYPE_ID" /><input type="hidden" ng-model="house.SITE_HOUSING_ID" /></td>
                                            <td><input style="width:70%" ng-keypress="isNum($event)" ng-model="house.LENGTH" /></td>
                                            <td><input ng-model="house.MATERIAL" /></td>
                                            <td><input ng-model="house.NOTES" /></td>
                                            <td><input style="width:70%" ng-keypress="isNum($event)" ng-model="house.AMOUNT" /></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div><!-- end panel-body-->
                    </div>
                </div>

                <!--Priority-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputPRIORITY_ID">Priority:</label>
                    <div class="col-md-7">
                        <select class="form-control" id="inputPRIORITY_ID" name="PRIORITY_ID" ng-model="aSite.PRIORITY_ID" ng-options="p.PRIORITY_ID as p.PRIORITY_NAME for p in DepPriorityList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!--Network Type-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputNETWORK_TYPE">Site Location Type in the Network:</label>
                    <div class="col-md-7">
                        <ul style="padding-left:0">
                            <li style="list-style:none;" ng-repeat="nt in NetTypeList">
                                <input type="checkbox" ng-model="nt.selected" ng-change="netTypeChg()" />
                                <span>{{nt.NETWORK_TYPE_NAME}}</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--Network NAME-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputNETWORK_NAME">Network Name:</label>
                    <div class="col-md-7">
                        <ul style="padding-left:0">
                            <li style="list-style:none;" ng-repeat="nn in NetNameList">
                                <input type="checkbox" ng-model="nn.selected" ng-change="whichOne(nn)" ng-disabled="(checked == checkedName) && (nn.NAME != checkedName)" />
                                <span>{{nn.NAME}}</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--Zone-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputZONE">Zone:</label>
                    <div class="col-md-7">
                        <input class="form-control" id="inputZONE" name="ZONE" ng-model="aSite.ZONE" type="text" />
                    </div>
                </div>

                <!--Sensor Not Appropriate-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputSENSOR_NOT_APPROPRIATE">Check if Sensor is not appropriate here:</label>
                    <div class="col-md-7">
                        <ul style="padding-left:0">
                            <li style="list-style:none;">
                                <input type="checkbox" name="SENSOR_NOT_APPROPRIATE" ng-click="dimAction()" ng-model="aSite.SENSOR_NOT_APPROPRIATE" ng-true-value="1" ng-false-value="0" />
                            </li>
                        </ul>
                    </div>
                </div>

                <!--Permanent Sensor Housing?-->
                <div class="form-group sensorInfo" ng-class="{darkClass:disableSensorParts}">
                    <label class="col-md-4 control-label" for="inputIS_PERMANENT_HOUSING_INSTALLED">Permanent Sensor Housing Installed?</label>
                    <div class="col-md-7">
                        <label class="radio-inline">
                            <input ng-disabled="disableSensorParts" type="radio" name="IS_PERMANENT_HOUSING_INSTALLED" ng-model="aSite.IS_PERMANENT_HOUSING_INSTALLED" value="Yes"> Yes
                        </label>
                        <label class="radio-inline">
                            <input ng-disabled="disableSensorParts" type="radio" name="IS_PERMANENT_HOUSING_INSTALLED" ng-model="aSite.IS_PERMANENT_HOUSING_INSTALLED" value="No"> No
                        </label>
                    </div>
                </div>

                <!--Add Proposed Sensor-->
                <div class="form-group sensorInfo" ng-class="{darkClass:disableSensorParts}" ng-show="aSite.SITE_ID == undefined">
                    <label class="col-md-4 control-label" for="inputPROPOSED_SENSOR">Add Proposed Sensor:</label>
                    <div class="col-md-7">
                        <ul style="padding-left:0">
                            <li style="list-style:none;" ng-repeat="ps in ProposedSens">
                                <input ng-disabled="disableSensorParts" type="checkbox" ng-model="ps.selected" ng-value="{{ps.selected}}" />
                                <span>{{ps.METHOD}}</span>
                            </li>
                        </ul>
                    </div>
                </div>

                <!--Site creator-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputMEMBER_ID">Site Creator:</label>
                    <div class="col-md-7">
                        <span>{{aSite.Creator}}</span>
                    </div>
                </div>

                <!--Add Landowner button-->
                <div class="form-group" ng-show="aSite.LANDOWNERCONTACT_ID == null">
                    <label class="col-md-4 control-label" for="inputLANDOWNERBTN">Landowner Contact:</label>
                    <div class="col-md-7">
                        <button type="button" ng-click="showLandOwnerPart()" class="btn btn-primary">Add Landowner</button>
                        <!-- <button type="button" ng-click="collapseLandowner = !collapseLandowner" class="btn btn-primary">Add Landowner</button>-->
                    </div>
                </div>

                <!--start Landowner contact area -->
                <div ng-show="addLandowner">
                    <div class="panel panel-default col-md-8 col-md-offset-1" style="padding:0">
                        <div class="panel-heading">Land Owner Information</div>
                        <div class="panel-body">
                            <!--First Name:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputFNAME">First Name:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputFNAME" name="FNAME" ng-model="landowner.FNAME" type="text" />
                                </div>
                            </div>
                            <!--Last Name:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputLNAME">Last Name:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputLNAME" name="LNAME" ng-model="landowner.LNAME" type="text" />
                                </div>
                            </div>
                            <!--Affiliation/Title:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputTITLE">Affiliation/Title:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputTITLE" name="TITLE" ng-model="landowner.TITLE" type="text" />
                                </div>
                            </div>
                            <!--Address:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputADDRESS">Address:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputADDRESS" name="ADDRESS" ng-model="landowner.ADDRESS" type="text" />
                                </div>
                            </div>
                            <!--City:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputCITY">City:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputCITY" name="CITY" ng-model="landowner.CITY" type="text" />
                                </div>
                            </div>
                            <!--State-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputSTATE">State:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="inputSTATE" name="STATE" ng-model="landowner.STATE" ng-options="state.STATE_ABBREV as state.STATE_NAME for state in StateList">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <!--Zip:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputLOZIP">Zip:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputLOZIP" name="ZIP" ng-model="landowner.ZIP" type="text" ui-mask="{{'99999'}}" />
                                </div>
                            </div>
                            <!--Primary Phone:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputPRIMARYPHONE">Primary Phone:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputPRIMARYPHONE" name="PRIMARYPHONE"
                                           type="text" my-input-mask="{mask: '(999) 999-9999[ x99999]', greedy: false}"
                                           ng-model="landowner.PRIMARYPHONE" />
                                </div>
                            </div>
                            <!--Secondary Phone:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputSECONDARYPHONE">Secondary Phone:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputSECONDARYPHONE" name="SECONDARYPHONE"
                                           type="text" my-input-mask="{mask: '(999) 999-9999[ x99999]', greedy:false}"
                                           ng-model="landowner.SECONDARYPHONE" />
                                </div>
                            </div>
                            <!--Email:-->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="inputEMAIL">Email:</label>
                                <div class="col-md-7">
                                    <input class="form-control" id="inputEMAIL" name="EMAIL" ng-model="landowner.EMAIL" type="email" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <br clear="all" />
                <!--end Landowner contact area-->
                <!--Access Permission Granted-->
                <div class="form-group">
                    <label class="col-md-4 control-label" for="inputACCESS_GRANTED">Access Permission Granted:</label>
                    <div class="col-md-7">
                        <label class="radio-inline">
                            <input type="radio" name="ACCESS_GRANTED" ng-model="aSite.ACCESS_GRANTED" value="Yes"> Yes
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="ACCESS_GRANTED" ng-model="aSite.ACCESS_GRANTED" value="No"> No
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="ACCESS_GRANTED" ng-model="aSite.ACCESS_GRANTED" value="Not Needed"> Not Needed
                        </label>
                    </div>
                </div>

                <br clear="all" />

                <!--submit and cancel buttons-->
                <div class="form-group">
                    <div class="col-md-4 col-md-offset-2">
                        <span>
                            <button ng-show="aSite.SITE_ID == undefined" class="btn btn-primary" style="width:80px;margin-right:10px" ng-click="create(siteForm.$valid)">
                                <span>Create</span>
                            </button>
                        </span>
                        <span>
                            <button ng-show="aSite.SITE_ID != undefined" class="btn btn-primary" style="width:80px;margin-right:10px" ng-click="save(siteForm.$valid)">
                                <span>Save</span>
                            </button>
                        </span>
                        <span>
                            <button type="button" class="btn btn-default" ng-click="cancel()">
                                <span>Cancel</span>
                            </button>
                        </span>
                    </div>
                </div>
            </div><!--end modal-body -->
        </fieldset>
    </form>
</script>

<!-- MODAL for Objective Point  novalidate-->
<script type="text/ng-template" id="OPmodal.html">
    <div class="modal-header">
        <h3 class="modal-title">Objective Point</h3>
    </div>

    <form class="form-horizontal" name="OPForm">
        <fieldset>
            <div class="modal-body">

                <!-- Type: -->
                <div class="form-group required" ng-class="{'has-error':OPForm.OP_TYPE_ID.$invalid && OPForm.OP_TYPE_ID.$dirty}">
                    <label class="col-md-3 control-label req" for="OP_TYPE_ID">Type:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="OP_TYPE_ID" name="OP_TYPE_ID" ng-model="OP.OP_TYPE_ID"
                                ng-options="opt.OBJECTIVE_POINT_TYPE_ID as opt.OP_TYPE for opt in OPTypeList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Name: -->
                <div class="form-group required" ng-class="{'has-error':OPForm.NAME.$invalid && OPForm.NAME.$dirty}">
                    <label class="col-md-3 control-label req" for="NAME">Name:</label>
                    <div class="col-md-6">
                        <input class="form-control" id="NAME" name="NAME" ng-model="OP.NAME" type="text" required />
                    </div>
                </div>

                <!-- Description: -->
                <div class="form-group required" ng-class="{'has-error':OPForm.DESCRIPTION.$invalid && OPForm.DESCRIPTION.$dirty}">
                    <label class="col-md-3 control-label req" for="DESCRIPTION">Description:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="DESCRIPTION" name="DESCRIPTION" type=" text" rows="3" ng-model="OP.DESCRIPTION" required />
                    </div>
                </div>

                <!-- Control Identifier add button -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputCONTROL">Control Identifier:</label>
                    <div class="col-md-6">
                        <button type="button" class="btn btn-default" ng-click="addNewIdentifier()">Add New Identifier</button>
                    </div>
                </div>

                <!-- Control Identifier input: -->
                <div class="form-group" ng-show="showControlIDinput">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <div ng-repeat="id in addedIdentifiers">
                            <div class="col-md-12" style="margin-bottom:5px">
                                <div class="col-md-7"><input class="form-control" id="inputOPControl" name="OPControl" ng-model="id.IDENTIFIER" type="text" /></div>
                                <input type="hidden" name="OP_CONTROL_IDENTIFIER_ID" ng-model="id.OP_CONTROL_IDENTIFIER_ID" />
                                <input type="hidden" name="OBJECTIVE_POINT_ID" ng-model="id.OBJECTIVE_POINT_ID" />

                                <label class="radio-inline">
                                    <input type="radio" name="IDENTIFIER_TYPE{{$index}}" ng-model="id.IDENTIFIER_TYPE" value="PID" /> PID
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" name="IDENTIFIER_TYPE{{$index}}" ng-model="id.IDENTIFIER_TYPE" value="Other" /> Other
                                </label>
                                <div class="buttons pull-right">
                                    <button class="btn" ng-click="RemoveID(id)">
                                        <i class="glyphicon glyphicon-remove"></i>
                                    </button>
                                </div>
                            </div><br />
                        </div>
                    </div>
                </div>

                <!-- dec deg or dms: -->
                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-change="latLongChange()" ng-model="OP.decDegORdms" value="dd" /> Dec Deg
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-change="latLongChange()" ng-model="OP.decDegORdms" value="dms" /> DMS
                        </label>
                    </div>
                </div>

                <!-- Latitude: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputLATITUDE_DD">Latitude:</label>
                    <div class="col-md-6" ng-if="OP.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" name="LATITUDE_DD" id="inputLATITUDE_DD" ng-model="OP.LATITUDE_DD" type="text" />
                    </div>
                    <div class="col-md-6" ng-if="OP.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Deg" ng-model="DMS.LADeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LAMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LASec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Longitude: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputLONGITUDE_DD">Longitude:</label>
                    <div class="col-md-6" ng-if="OP.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" id="inputlongitude_dd" name="LONGITUDE_DD" ng-model="OP.LONGITUDE_DD" type="text" />
                    </div>
                    <div class="col-md-6" ng-if="OP.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Deg" ng-model="DMS.LODeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LOMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LOSec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Horizontal Datum: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputHDATUM_ID">Horizontal Datum:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="inputHDATUM_ID" name="HDATUM_ID" ng-model="OP.HDATUM_ID"
                                ng-options="hd.DATUM_ID as hd.DATUM_NAME for hd in HDList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Horizontal Collection Method: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputHCOLLECT_METHOD_ID">Horizontal Collection Method:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="inputHCOLLECT_METHOD_ID" name="HCOLLECT_METHOD_ID" ng-model="OP.HCOLLECT_METHOD_ID"
                                ng-options="hcm.HCOLLECT_METHOD_ID as hcm.HCOLLECT_METHOD for hcm in HCollectMethodList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Ft or Meter radios: -->
                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="FTorMETER" ng-model="OP.FTorMETER" value="ft" /> ft
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="FTorMETER" ng-model="OP.FTorMETER" value="meter" /> meter
                        </label>
                    </div>
                </div>

                <!-- Elevation: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputELEV_FT">Elevation:</label>
                    <div class="col-md-6">
                        <input class="form-control" ng-keypress="isNum($event)" id="ELEV_FT" name="ELEV_FT" ng-model="OP.ELEV_FT" type="text" />
                    </div>
                </div>

                <!-- Vertical Datum: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputVDATUM_ID">Vertical Datum:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="inputVDATUM_ID" name="VDATUM_ID" ng-model="OP.VDATUM_ID"
                                ng-options="vd.DATUM_ID as vd.DATUM_ABBREVIATION for vd in VDatumList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Vertical Collection Method: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputVCOLLECT_METHOD_ID">Vertical Collection Method:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="inputVCOLLECT_METHOD_ID" name="VCOLLECT_METHOD_ID" ng-model="OP.VCOLLECT_METHOD_ID"
                                ng-options="vcm.VCOLLECT_METHOD_ID as vcm.VCOLLECT_METHOD for vcm in VCollectMethodList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Ft or CM radios: -->
                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="FTorCM" ng-model="OP.FTorCM" value="ft" /> +/- ft
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="FTorCM" ng-model="OP.FTorCM" value="cm" /> +/- cm
                        </label>
                    </div>
                </div>

                <!-- Uncertainty: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputUNCERTAINTY">Uncertainty:</label>
                    <div class="col-md-6">
                        <div class="col-md-12" style="margin-bottom:5px;padding-left:0">
                            <div class="col-md-3" style="padding-left: 0;"><input class="form-control" ng-disabled="OP.UNQUANTIFIED==1" ng-keypress="isNum($event)" ng-model="OP.UNCERTAINTY" type="text" /></div>
                            <div class="col-md-2" style="text-decoration:underline">OR</span></div>
                            <div class="col-md-5">
                                <input type="checkbox" ng-model="OP.UNQUANTIFIED" ng-checked="OP.UNQUANTIFIED==1" ng-true-value="1" ng-false-value="0" ng-click="UnquantChecked()" />
                                <span style="margin-left:10px">Unquantified</span>
                            </div>
                            <br />
                        </div>
                    </div>
                </div>

                <!-- Quality: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputOP_QUALITY_ID">Quality:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="inputOP_QUALITY_ID" name="OP_QUALITY_ID" ng-model="OP.OP_QUALITY_ID"
                                ng-options="opq.OP_QUALITY_ID as opq.QUALITY for opq in OPQualityList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Objective Point Notes: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputOP_NOTES">Objective Point Notes:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="inputOP_NOTES" type="text" rows="3" ng-model="OP.OP_NOTES" />
                    </div>
                </div>

                <!-- Date Established: -->
                <div class="form-group required" ng-class="{'has-error':OPForm.DATE_ESTABLISHED.$invalid && OPForm.DATE_ESTABLISHED.$dirty}">
                    <label class="col-md-3 control-label req" for="inputDATE_ESTABLISHED">Date Established:</label>
                    <div class="col-md-6 input-group" style="padding-right:14px;padding-left:14px">
                        <input class="form-control" id="inputDATE_ESTABLISHED" name="de" type="text" uib-datepicker-popup="MMM dd, yyyy"
                               is-open="datepickrs.de" ng-model="OP.DATE_ESTABLISHED" required />
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="open($event, 'de')">
                                <i class="glyphicon glyphicon-calendar" />
                            </button>
                        </span>
                    </div>
                </div>

                <!-- Date Recovered: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputDATE_RECOVERED">Date Recovered:</label>
                    <div class="col-md-6 input-group" style="padding-right:14px;padding-left:14px">
                        <input class="form-control" id="inputDATE_RECOVERED" name="dr" type="text" uib-datepicker-popup="MMM dd, yyyy"
                               is-open="datepickrs.dr" ng-model="OP.DATE_RECOVERED" />
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="open($event, 'dr')">
                                <i class="glyphicon glyphicon-calendar" />
                            </button>
                        </span>
                    </div>
                </div>

                <div ng-if="OPFiles">
                    <h3>Objective Point Files</h3>
                    <!--<div style="height:140px;display:inline">
                    <carousel interval="myInterval" no-wrap="noWrapSlides">
                        <slide ng-repeat="slide in slides" active="slide.active">
                            <img ng-src="{{slide.image}}" style="margin:auto;">
                            <div class="carousel-caption">
                                <h4>Slide {{$index}}</h4>
                                <p>{{slide.text}}</p>
                            </div>
                        </slide>
                    </carousel>
                </div>-->
                    <!--<div ng-repeat="opf in OPFiles">
                    <div ng-if="opf.FILETYPE_ID == 1">
                        <h3>Photo Files</h3>

                    </div>
                </div>-->
                </div>

                <div class="modal-footer">
                    <div class="form-group">
                        <div class="col-md-4 col-md-offset-2">
                            <span>
                                <button ng-show="OP.OBJECTIVE_POINT_ID == undefined" class="btn btn-primary" ng-click="create(OPForm.$valid)">
                                    <span>Create</span>
                                </button>
                                <span>
                                    <button ng-show="OP.OBJECTIVE_POINT_ID != undefined" class="btn btn-primary" ng-click="save(OPForm.$valid)">
                                        <span>Save</span>
                                    </button>
                                </span>
                                <span>
                                    <button ng-show="OP.OBJECTIVE_POINT_ID != undefined" class="btn btn-danger" ng-click="deleteOP(OPForm.$valid)">
                                        <span>Delete</span>
                                    </button>
                                </span>
                                <span>
                                    <button type="button" class="btn btn-warning" ng-click="cancel()">
                                        <span>Cancel</span>
                                    </button>
                                </span>
                        </div>


                        <!--<button class="btn btn-primary" ng-if="OP.OBJECTIVE_POINT_ID != undefined" ng-click="save()">Save</button>
                        <button class="btn btn-danger" ng-if="OP.OBJECTIVE_POINT_ID != undefined" ng-click="deleteOP()">Delete</button>
                        <button class="btn btn-primary" ng-if="OP.OBJECTIVE_POINT_ID == undefined" ng-click="create()">Create</button>
                        <button class="btn btn-warning" ng-click="cancel()">Cancel</button>-->
                    </div>
        </fieldset>
    </form>
</script>

<!-- MODAL for HWM-->
<script type="text/ng-template" id="HWMmodal.html">
    <div class="modal-header">
        <h3 class="modal-title">HWM</h3>
    </div>

    <form class="form-horizontal" name="HWMForm">
        <fieldset>
            <div class="modal-body">
                <!-- Waterbody: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="WATERBODY">Waterbody:</label>
                    <div class="col-md-6">
                        <input class="form-control" id="WATERBODY" name="WATERBODY" ng-model="aHWM.WATERBODY" type="text" />
                    </div>
                </div>

                <!-- Event: -->
                <div class="form-group" ng-class="{'has-error':HWMForm.EVENT_ID.$invalid && HWMForm.EVENT_ID.$dirty}">
                    <label class="col-md-3 control-label" for="EVENT_ID">Event:</label>
                    <div class="col-md-6">
                        <div class="col-md-8">{{EventName}}</div>
                        <div class="col-md-3" ng-show="userRole == 'Admin' && aHWM.HWM_ID != undefined">
                            <button type="button" ng-click="showChangeEventDD()" class="btn btn-primary">Change Event</button>
                        </div>
                    </div>
                </div>

                <!--Event dropdown for admin -->
                <div ng-show="showEventDD">
                    <div class="form-group">
                        <label class="col-md-3 control-label">Events:</label>
                        <div class="col-md-6">
                            <select class="form-control" id="EVENT_ID" name="EVENT_ID" ng-model="adminChanged.EVENT_ID" ng-change="ChangeEvent()"
                                    ng-options="e.EVENT_ID as (e.EVENT_NAME + ' --- ' + (e.EVENT_START_DATE | date: 'MM/dd/yyyy') + ' to ' + ((e.EVENT_END_DATE || '-Not Set-') | date: 'MM/dd/yyyy'))  for e in eventList | orderBy: '-EVENT_START_DATE'"
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- HWM Type:* -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.HWM_TYPE_ID.$invalid && HWMForm.HWM_TYPE_ID.$dirty}">
                    <label class="col-md-3 control-label req" for="HWM_TYPE_ID">HWM Type:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="HWM_TYPE_ID" name="HWM_TYPE_ID" ng-model="aHWM.HWM_TYPE_ID"
                                ng-options="htype.HWM_TYPE_ID as htype.HWM_TYPE for htype in hwmTypeList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- HWM Environment:* -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.HWM_ENVIRONMENT.$invalid && HWMForm.HWM_ENVIRONMENT.$dirty}">
                    <label class="col-md-3 control-label req">HWM Environment:</label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="HWM_ENVIRONMENT" ng-model="aHWM.HWM_ENVIRONMENT" value="Coastal" />Coastal
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="HWM_ENVIRONMENT" ng-model="aHWM.HWM_ENVIRONMENT" value="Riverine" />Riverine
                        </label>
                    </div>
                </div>

                <!-- Breakdown of categories -->
                <div class="form-group">
                    <label class="col-md-3"></label>
                    <div class="col-md-6">
                        <table>
                            <tr><td style="text-align: center;width: 81px">0.05</td><td style="text-align: center;width: 81px">0.02</td><td style="text-align: left;width: 81px">Excellent</td></tr>
                            <tr><td style="text-align: center;width: 81px">0.1</td><td style="text-align: center;width: 81px">0.05</td><td style="text-align: left;width: 81px">Good</td></tr>
                            <tr><td style="text-align: center;width: 81px">0.2</td><td style="text-align: center;width: 81px">0.1</td><td style="text-align: left;width: 81px">Fair</td></tr>
                            <tr><td style="text-align: center;width: 81px">0.4</td><td style="text-align: center;width: 81px">0.2</td><td style="text-align: left;width: 81px">Poor</td></tr>
                            <tr><td style="text-align: center;width: 81px">>0.40</td><td style="text-align: center;width: 81px">>0.20</td><td style="text-align: left;width: 81px">V. Poor</td></tr>
                            <tr><td colspan="3"><a href="http://pubs.usgs.gov/tm/11d1/" target="_blank">USGS T&M 11-D1, Table 13</a></td></tr>
                        </table>
                    </div>
                </div>

                <!-- HWM Quality:* -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.HWM_QUALITY_ID.$invalid && HWMForm.HWM_QUALITY_ID.$dirty}">
                    <label class="col-md-3 control-label req">HWM Quality:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="HWM_QUALITY_ID" name="HWM_QUALITY_ID" ng-model="aHWM.HWM_QUALITY_ID"
                                ng-options="hqual.HWM_QUALITY_ID as hqual.HWM_QUALITY for hqual in hwmQualList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Bank: -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Bank:</label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="BANK" ng-model="aHWM.BANK" value="Left" />Left
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="BANK" ng-model="aHWM.BANK" value="Right" />Right
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="BANK" ng-model="aHWM.BANK" value="N/A" />N/A
                        </label>
                    </div>
                </div>

                <!-- Location Description: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="HWM_LOCATIONDESCRIPTION">Location Description:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="HWM_LOCATIONDESCRIPTION" name="HWM_LOCATIONDESCRIPTION" type=" text" rows="3" ng-model="aHWM.HWM_LOCATIONDESCRIPTION" />
                    </div>
                </div>

                <!-- dec deg or dms: -->
                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-change="latLongChange()" ng-model="aHWM.decDegORdms" value="dd" /> Dec Deg
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="decDegORdms" ng-change="latLongChange()" ng-model="aHWM.decDegORdms" value="dms" /> DMS
                        </label>
                    </div>
                </div>

                <!-- Latitude: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputLATITUDE_DD">Latitude:</label>
                    <div class="col-md-6" ng-if="aHWM.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" name="LATITUDE_DD" id="inputLATITUDE_DD" ng-model="aHWM.LATITUDE_DD" type="text" />
                    </div>
                    <div class="col-md-6" ng-if="aHWM.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Deg" ng-model="DMS.LADeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LAMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LASec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Longitude: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputLONGITUDE_DD">Longitude:</label>
                    <div class="col-md-6" ng-if="aHWM.decDegORdms == 'dd'">
                        <input class="form-control" ng-keypress="isNum($event)" id="inputlongitude_dd" name="LONGITUDE_DD" ng-model="aHWM.LONGITUDE_DD" type="text" />
                    </div>
                    <div class="col-md-6" ng-if="aHWM.decDegORdms == 'dms'">
                        <table>
                            <tr>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Deg" ng-model="DMS.LODeg" type="text" /></td>
                                <td>°</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LOMin" type="text" /></td>
                                <td>′</td>
                                <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LOSec" type="text" /></td>
                                <td>″</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <!-- Horizontal Datum:* -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.HDATUM_ID.$invalid && HWMForm.HDATUM_ID.$dirty}">
                    <label class="col-md-3 control-label req">Horizontal Datum:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="HDATUM_ID" name="HDATUM_ID" ng-model="aHWM.HDATUM_ID"
                                ng-options="hd.DATUM_ID as hd.DATUM_NAME for hd in HDatumsList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Horizontal Collection Method: * -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.HCOLLECT_METHOD_ID.$invalid && HWMForm.HCOLLECT_METHOD_ID.$dirty}">
                    <label class="col-md-3 control-label req">Horizontal Collection Method:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="HCOLLECT_METHOD_ID" name="HCOLLECT_METHOD_ID" ng-model="aHWM.HCOLLECT_METHOD_ID"
                                ng-options="hcm.HCOLLECT_METHOD_ID as hcm.HCOLLECT_METHOD for hcm in hCollMList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Surveyed Elevation (ft): -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputELEV_FT">Surveyed Elevation (ft):</label>
                    <div class="col-md-6">
                        <input class="form-control" ng-keypress="isNum($event)" name="ELEV_FT" ng-model="aHWM.ELEV_FT" type="text" />
                    </div>
                </div>

                <!-- Vertical Datum: -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Vertical Datum:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="VDATUM_ID" name="VDATUM_ID" ng-model="aHWM.VDATUM_ID"
                                ng-options="vd.DATUM_ID as vd.DATUM_NAME for vd in VDatumsList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Height above ground (ft): -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="inputHEIGHT_ABOVE_GND">Height above ground (ft):</label>
                    <div class="col-md-6">
                        <input class="form-control" ng-keypress="isNum($event)" name="HEIGHT_ABOVE_GND" ng-model="aHWM.HEIGHT_ABOVE_GND" type="text" />
                    </div>
                </div>

                <!-- Flagged Date: * -->
                <div class="form-group required" ng-class="{'has-error':HWMForm.FLAG_DATE.$invalid && HWMForm.FLAG_DATE.$dirty}">
                    <label class="col-md-3 control-label req" for="inputFLAG_DATE">Flagged Date:</label>
                    <div class="col-md-6 input-group" style="padding-right:14px;padding-left:14px">
                        <input class="form-control" id="inputFLAG_DATE" name="fd" type="text" uib-datepicker-popup="MMM dd, yyyy"
                               is-open="datepickrs.fd" ng-model="aHWM.FLAG_DATE" required />
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="open($event, 'fd')">
                                <i class="glyphicon glyphicon-calendar" />
                            </button>
                        </span>
                    </div>
                </div>

                <!-- Surveyed Date: -->
                <div class="form-group" ng-class="{'has-error':HWMForm.SURVEY_DATE.$invalid && HWMForm.SURVEY_DATE.$dirty}">
                    <label class="col-md-3 control-label" for="inputSURVEY_DATE">Surveyed Date:</label>
                    <div class="col-md-6 input-group" style="padding-right:14px;padding-left:14px">
                        <input class="form-control" id="inputSURVEY_DATE" name="sd" type="text" uib-datepicker-popup="MMM dd, yyyy"
                               is-open="datepickrs.sd" ng-model="aHWM.SURVEY_DATE" />
                        <span class="input-group-btn">
                            <button class="btn btn-default" ng-click="open($event, 'sd')">
                                <i class="glyphicon glyphicon-calendar" />
                            </button>
                        </span>
                    </div>
                </div>

                <!-- Vertical Collection Method: -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Vertical Collection Method:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="VDATUM_ID" name="VCOLLECT_METHOD_ID" ng-model="aHWM.VCOLLECT_METHOD_ID"
                                ng-options="vcm.VCOLLECT_METHOD_ID as vcm.VCOLLECT_METHOD for vcm in vCollMList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Marker: -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Marker:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="MARKER_ID" name="MARKER_ID" ng-model="aHWM.MARKER_ID"
                                ng-options="vd.MARKER_ID as vd.MARKER1 for vd in markerList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Notes: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="HWM_NOTES">Notes:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="HWM_NOTES" name="HWM_NOTES" type=" text" rows="3" ng-model="aHWM.HWM_NOTES" />
                    </div>
                </div>

                <!-- Stillwater Location? -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Stillwater Location?:</label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="STILLWATER" ng-model="aHWM.STILLWATER" value="1" />Yes
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="STILLWATER" ng-model="aHWM.STILLWATER" value="0" />No
                        </label>
                    </div>
                </div>

                <!-- Flagging Member: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="FLAG_TEAM_ID">Flagging Member:</label>
                    <div class="col-md-6">
                        <span>{{FlagMember.FNAME}} {{FlagMember.LNAME}}</span>                        
                    </div>
                </div>

                <!-- Survey Member: -->
                <div class="form-group" ng-show="aHWM.SURVEY_TEAM_ID">
                    <label class="col-md-3 control-label" for="SURVEY_TEAM_ID">Survey Member:</label>
                    <div class="col-md-6">
                        <span>{{SurveyMember.FNAME}} {{SurveyMember.LNAME}}</span>                        
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <button class="btn btn-primary" ng-if="aHWM.HWM_ID != undefined" ng-click="save()">Save</button>
                <button class="btn btn-danger" ng-if="aHWM.HWM_ID != undefined" ng-click="deleteHWM()">Delete</button>
                <button class="btn btn-primary" ng-if="aHWM.HWM_ID == undefined" ng-click="create()">Create</button>
                <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
            </div>
        </fieldset>
    </form>
</script>

<!-- MODAL for Sensor-->
<script type="text/ng-template" id="Sensormodal.html">
    <div class="modal-header">
        <h3 class="modal-title">Deploy Sensor</h3>
    </div>

    <form class="form-horizontal" name="SensorForm">
        <fieldset>
            <div class="modal-body">

                <!-- Event: -->
                <div class="form-group" ng-class="{'has-error':SensorForm.EVENT_ID.$invalid && SensorForm.EVENT_ID.$dirty}">
                    <label class="col-md-3 control-label" for="EVENT_ID">Event:</label>
                    <div class="col-md-6">
                        <div class="col-md-8">{{EventName}}</div>
                        <div class="col-md-3" ng-show="userRole == 'Admin' && whichButton == 'edit'">
                            <button type="button" ng-click="showChangeEventDD()" class="btn btn-primary">Change Event</button>
                        </div>
                    </div>
                </div>

                <!--Event dropdown for admin -->
                <div ng-show="showEventDD">
                    <div class="form-group">
                        <label class="col-md-3 control-label" for="EVENT_ID">Events:</label>
                        <div class="col-md-6">
                            <select class="form-control" id="EVENT_ID" name="EVENT_ID" ng-model="adminChanged.EVENT_ID" ng-change="ChangeEvent()"
                                    ng-options="e.EVENT_ID as (e.EVENT_NAME + ' --- ' + (e.EVENT_START_DATE | date: 'MM/dd/yyyy') + ' to ' + ((e.EVENT_END_DATE || '-Not Set-') | date: 'MM/dd/yyyy'))  for e in eventList | orderBy: '-EVENT_START_DATE'"
                                <option value=""></option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Sensor Type:* -->
                <div class="form-group required" ng-class="{'has-error':SensorForm.SENSOR_TYPE_ID.$invalid && SensorForm.SENSOR_TYPE_ID.$dirty}">
                    <label class="col-md-3 control-label req" for="SENSOR_TYPE_ID">Sensor Type:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="SENSOR_TYPE_ID" name="SENSOR_TYPE_ID" ng-model="aSensor.SENSOR_TYPE_ID"
                                ng-options="s.SENSOR_TYPE_ID as s.SENSOR for s in sensorTypeList" ng-change="getDepTypes()" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Sensor Brand:* -->
                <div class="form-group required" ng-class="{'has-error':SensorForm.SENSOR_BRAND_ID.$invalid && SensorForm.SENSOR_BRAND_ID.$dirty}">
                    <label class="col-md-3 control-label req" for="SENSOR_BRAND_ID">Sensor Brand:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="SENSOR_BRAND_ID" name="SENSOR_BRAND_ID" ng-model="aSensor.SENSOR_BRAND_ID"
                                ng-options="sb.SENSOR_BRAND_ID as sb.BRAND_NAME for sb in sensorBrandList" required>
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Serial Number:* -->
                <div class="form-group required" ng-class="{'has-error':SensorForm.SERIAL_NUMBER.$invalid && SensorForm.SERIAL_NUMBER.$dirty}">
                    <label class="col-md-3 control-label req" for="SERIAL_NUMBER">Serial Number:</label>
                    <div class="col-md-6">
                        <input class="form-control" name="SERIAL_NUMBER" ng-model="aSensor.SERIAL_NUMBER" type="text" required />
                    </div>
                </div>

                <!-- Housing Serial Number: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="HOUSING_SERIAL_NUMBER">Housing Serial Number:</label>
                    <div class="col-md-6">
                        <input class="form-control" name="HOUSING_SERIAL_NUMBER" ng-model="aSensor.HOUSING_SERIAL_NUMBER" type="text" />
                    </div>
                </div>

                <!-- Housing Types: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="HOUSING_TYPE_ID">Housing Types:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="HOUSING_TYPE_ID" name="HOUSING_TYPE_ID" ng-model="aSensor.HOUSING_TYPE_ID"
                                ng-options="ht.HOUSING_TYPE_ID as ht.TYPE_NAME for ht in houseTypeList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Deployment Type: -->
                <div class="form-group">
                    <label class="col-md-3 control-label req" for="DEPLOYMENT_TYPE_ID">Deployment Type:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="DEPLOYMENT_TYPE_ID" name="DEPLOYMENT_TYPE_ID" ng-model="aSensor.DEPLOYMENT_TYPE_ID"
                                ng-options="dt.DEPLOYMENT_TYPE_ID as dt.METHOD for dt in filteredDeploymentTypes">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Location Description: -->
                <div class="form-group" ng-class="{'has-error':SensorForm.LOCATION_DESCRIPTION.$invalid && SensorForm.LOCATION_DESCRIPTION.$dirty}">
                    <label class="col-md-3 control-label" for="LOCATION_DESCRIPTION">Location Description:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="LOCATION_DESCRIPTION" name="LOCATION_DESCRIPTION" type=" text" rows="3" ng-model="aSensor.LOCATION_DESCRIPTION" />
                    </div>
                </div>

                <!-- Interval: -->
                <div class="form-group" style="margin-bottom:0">
                    <label class="col-md-3 control-label" for="INTERVAL">Interval:</label>
                    <div class="col-md-6">
                        <input class="form-control" ng-keypress="isNum($event)" name="INTERVAL" ng-model="aSensor.INTERVAL" type="text" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-md-3 control-label"></label>
                    <div class="col-md-6">
                        <label class="radio-inline">
                            <input type="radio" name="intervalType" ng-model="IntervalType.type" value="Minutes" />Minutes
                        </label>
                        <label class="radio-inline">
                            <input type="radio" name="intervalType" ng-model="IntervalType.type" value="Seconds" />Seconds
                        </label>
                    </div>
                </div>

                <!-- Deploy Time: * -->
                <div class="form-group required" ng-class="{'has-error':SensorForm.TIME_STAMP.$invalid && SensorForm.TIME_STAMP.$dirty}">
                    <label class="col-md-3 control-label req" style="margin-top:3%" for="TIME_STAMP">Deploy Time:</label>
                    <div class="col-md-6">
                        <datetimepicker hour-step="1" minute-step="1" ng-model="aSensStatus.TIME_STAMP" show-meridian="true"
                                        date-format="MM/dd/yyyy" readonly-date="false" readonly-time="false" date-options="dateOptions"
                                        hidden-time="false" hidden-date="false" show-spinners="true">
                        </datetimepicker>
                    </div>
                </div>
                
                <!-- Time Zone:* -->
                <div class="form-group required">
                    <label class="col-md-3 control-label" for="TIME_ZONE">Time Zone:</label>
                    <div class="col-md-6">
                        <select class="form-control" id="TIME_ZONE" name="TIME_ZONE" ng-model="aSensStatus.TIME_ZONE"
                                ng-options="vcm for vcm in timeZoneList">
                            <option value=""></option>
                        </select>
                    </div>
                </div>

                <!-- Note: -->
                <div class="form-group">
                    <label class="col-md-3 control-label" for="NOTES">Note:</label>
                    <div class="col-md-6">
                        <textarea class="form-control" id="NOTES" name="NOTES" type=" text" rows="3" ng-model="aSensor.NOTES" />
                    </div>
                </div>

                <!-- Collection Member: -->
                <div class="form-group">
                    <label class="col-md-3 control-label">Deploy Member:</label>
                    <div class="col-md-6">
                        <span>{{CollectionMember.FNAME}} {{CollectionMember.LNAME}}</span>
                    </div>
                </div>

            </div>

            <div class="modal-footer">
                <div class="form-group">
                    <div class="col-md-12">
                        <span>
                            <button ng-if="whichButton == 'deploy' || whichButton == 'deployP'" class="btn btn-primary" ng-click="deploy(SensorForm.$valid)">
                                <span>Deploy</span>
                            </button>
                        </span>
                        <span>
                            <button ng-show="whichButton == 'edit'" class="btn btn-primary" ng-click="save(SensorForm.$valid)">
                                <span>Save</span>
                            </button>
                        </span>
                        <span>
                            <button ng-show="whichButton == 'edit'" class="btn btn-danger" ng-click="delete(SensorForm.$valid)">
                                <span>Save</span>
                            </button>
                        </span>
                        <span>
                            <button type="button" class="btn btn-warning" ng-click="cancel()">
                                <span>Cancel</span>
                            </button>
                        </span>
                    </div>
                </div>
            </div>
        </fieldset>
    </form>
</script>

