<div ng-if="sessionEventExists">
    <form class="form-horizontal" name="quickForm.quick">
        <fieldset class="fivepad">
            <uib-accordion close-others="false">
                <!-- SITE part -->
                <uib-accordion-group is-open="status.siteOpen" ng-class="{'panel-danger': siteErrors}">
                    <uib-accordion-heading>
                        <i style="margin-right:10px" class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.siteOpen, 'glyphicon-chevron-right': !status.siteOpen}"></i>
                        <span>Site</span>
                    </uib-accordion-heading>

                    <div class="col-md-6">
                        <!--Site Description*-->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.site_description.$invalid && quickForm.quick.site_description.$dirty}">
                            <label class="col-md-4 control-label req" for="site_description">
                                Site Description:
                                <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Brief description of the site area. Displayed publicly.">
                                    <span class="glyphicon glyphicon-question-sign"></span>
                                </button>
                            </label>
                            <div class="col-md-7">
                                <textarea class="form-control" id="site_description" type="text" rows="3" name="site_description" placeholder="Site Description" ng-model="aSite.site_description" required />
                            </div>

                        </div>

                        <!--<lat-long location="LOCATION"></lat-long>-->
                        <!-- dec deg or dms: -->
                        <div>
                            <label class="col-md-4 control-label"></label>
                            <div class="col-md-7">
                                <span class="radio-inline">
                                    <input type="radio" name="decDegORdms" ng-model="decDegORdms.val" ng-change="latLongChange()" value="dd" /> Dec Deg
                                </span>
                                <span class="radio-inline">
                                    <input type="radio" name="decDegORdms" ng-model="decDegORdms.val" ng-change="latLongChange()" value="dms" /> DMS
                                </span>
                            </div>
                        </div>

                        <!--Latitude*-->
                        <div class="form-group required" style="padding-top:0" ng-class="{'has-error':quickForm.quick.latitude_dd.$invalid && quickForm.quick.latitude_dd.$dirty}">
                            <label class="col-md-4 control-label req" for="SITE_latitude_dd">Latitude:</label>
                            <div class="col-md-7" ng-if="decDegORdms.val == 'dd'">
                                <input class="form-control" ng-keypress="isNum($event)" name="latitude_dd" id="SITE_latitude_dd" ng-model="aSite.latitude_dd"
                                       ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue()" type="text" placeholder="Latitude" required />
                            </div>
                            <div class="col-md-7" ng-if="decDegORdms.val == 'dms'">
                                <table>
                                    <tr>
                                        <td><input class="form-control" ng-keypress="isNum($event)" ng-change="checkValue('dms')" id="LaDeg" name="Deg" ng-model="DMS.LADeg" type="text" /></td>
                                        <td>°</td>
                                        <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LAMin" type="text" /></td>
                                        <td>′</td>
                                        <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LASec" type="text" /></td>
                                        <td>″</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <!--Longitude*-->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.longitude_dd.$invalid && quickForm.quick.longitude_dd.$dirty}">
                            <label class="col-md-4 control-label req" for="SITE_longitude_dd">Longitude:</label>
                            <div class="col-md-7" ng-if="decDegORdms.val == 'dd'">
                                <input class="form-control" ng-keypress="isNum($event)" ng-enter="getAddress()" id="SITE_longitude_dd" name="longitude_dd" ng-model="aSite.longitude_dd"
                                       ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue()" type="text" placeholder="Longitude" required />
                            </div>
                            <div class="col-md-7" ng-if="decDegORdms.val == 'dms'">
                                <table>
                                    <tr>
                                        <td><input class="form-control" ng-keypress="isNum($event)" name="Deg" ng-model-options="{ updateOn: 'blur' }" ng-change="checkValue('dms')" id="LoDeg" ng-model="DMS.LODeg" type="text" /></td>
                                        <td>°</td>
                                        <td><input class="form-control" ng-keypress="isNum($event)" name="Min" ng-model="DMS.LOMin" type="text" /></td>
                                        <td>′</td>
                                        <td><input class="form-control" ng-keypress="isNum($event)" name="Sec" ng-model="DMS.LOSec" type="text" /></td>
                                        <td>″</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <!--Horizontal Datum*-->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.hdatum_id.$invalid && quickForm.quick.hdatum_id.$dirty}">
                            <label class="col-md-4 control-label req" for="SITE_hdatum_id">Horizontal Datum:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="SITE_hdatum_id" name="hdatum_id" ng-model="aSite.hdatum_id"
                                        ng-options="hd.datum_id as hd.datum_name for hd in horDatumList" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <!--Horizontal Collection Method*-->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.hcollect_method_id.$invalid && quickForm.quick.hcollect_method_id.$dirty}">
                            <label class="col-md-4 control-label req" for="SITE_hcollect_method_id">Horizontal Collection Method:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="SITE_hcollect_method_id" name="hcollect_method_id" ng-model="aSite.hcollect_method_id"
                                        ng-options="hc.hcollect_method_id as hc.hcollect_method for hc in horCollMethodList" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <!--Waterbody*-->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.waterbody.$invalid && quickForm.quick.waterbody.$dirty}">
                            <label class="col-md-4 control-label req" for="SITE_waterbody">
                                Waterbody:
                                <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip-html="htmlDescriptionTip">
                                    <span class="glyphicon glyphicon-question-sign"></span>
                                </button>
                            </label>
                            <div class="col-md-7">
                                <input class="form-control" id="SITE_waterbody" name="waterbody" ng-model="aSite.waterbody" type="text" required />
                            </div>

                        </div>

                        <!--Sensor Not Appropriate-->
                        <div class="form-group" ng-if="CreateWhat == 'HWM'">
                            <label class="col-md-4 control-label" for="sensor_not_appropriate" style="padding-left:0;">Check if Sensor is not appropriate here:</label>
                            <div class="col-md-7" style="margin-top:14px;">
                                <ul style="padding-left:0">
                                    <li style="list-style:none;">
                                        <input type="checkbox" name="sensor_not_appropriate" ng-model="aSite.sensor_not_appropriate" ng-true-value="1" ng-false-value="0" />
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <!--Access Permission Granted-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="access_granted">Access Permission Granted:</label>
                            <div class="col-md-7">
                                <span class="radio-inline">
                                    <input type="radio" name="access_granted" ng-model="aSite.access_granted" value="Yes"> Yes
                                </span>
                                <span class="radio-inline">
                                    <input type="radio" name="access_granted" ng-model="aSite.access_granted" value="No"> No
                                </span>
                                <span class="radio-inline">
                                    <input type="radio" name="access_granted" ng-model="aSite.access_granted" value="Not Needed"> Not Needed
                                </span>
                            </div>
                        </div>
                    </div><!--end first column-->

                    <div class="col-md-6">
                        <!--populate button*-->
                        <div class="form-group">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    <div class="form-group">
                                        <label class="col-md-4 control-label" for="POPULATEBTN">
                                            Click to populate address fields:
                                            <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Also checks for nearby sites within x ft, and populates 5 fields below.">
                                                <span class="glyphicon glyphicon-question-sign"></span>
                                            </button>
                                        </label>
                                        <div class="col-md-7">
                                            <button type="button" ng-click="getAddress()" class="btn-wim btn-inline btn-blue btn-md">Verify Location</button>
                                        </div>

                                    </div>

                                    <!--Address-->
                                    <div class="form-group">
                                        <label class="col-md-4 control-label" for="address">Address:</label>
                                        <div class="col-md-7">
                                            <input class="form-control" id="address" name="address" ng-model="aSite.address" type="text" />
                                        </div>
                                    </div>

                                    <!--City-->
                                    <div class="form-group">
                                        <label class="col-md-4 control-label" for="city">City:</label>
                                        <div class="col-md-7">
                                            <input class="form-control" id="city" name="city" ng-model="aSite.city" type="text" />
                                        </div>
                                    </div>

                                    <!--State*-->
                                    <div class="form-group required" ng-class="{'has-error':quickForm.quick.state.$invalid && quickForm.quick.state.$dirty}">
                                        <label class="col-md-4 control-label req" for="SITE_state">
                                            State:
                                            <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Used to autogenerate the Site Number.">
                                                <span class="glyphicon glyphicon-question-sign"></span>
                                            </button>
                                        </label>
                                        <div class="col-md-7">
                                            <select class="form-control" id="SITE_state" name="state" ng-model="aSite.state" ng-change="updateCountyList(aSite.state)"
                                                    ng-options="state.state_abbrev as state.state_name for state in stateList" required>
                                                <option value=""></option>
                                            </select>
                                        </div>

                                    </div>

                                    <!--Zip-->
                                    <div class="form-group">
                                        <label class="col-md-4 control-label" for="zip">Zip:</label>
                                        <div class="col-md-7">
                                            <input class="form-control" id="zip" name="zip" ng-model="aSite.zip" type="text" ui-mask="{{'99999'}}" />
                                        </div>
                                    </div>

                                    <!--County*-->
                                    <div class="form-group required" ng-class="{'has-error':quickForm.quick.county.$invalid && quickForm.quick.county.$dirty}">
                                        <label class="col-md-4 control-label req" for="county">
                                            County:
                                            <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Used to autogenerate the Site Number. Use the verify location to populate.">
                                                <span class="glyphicon glyphicon-question-sign"></span>
                                            </button>
                                        </label>
                                        <div class="col-md-7">
                                            <select class="form-control" id="SITE_COUNTY" name="county" ng-model="aSite.county" ng-options="c.county_name as c.county_name for c in stateCountyList" required>
                                                <option value=""></option>
                                            </select>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>

                        <!--Drainage Area-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="drainage_area_sqmi">Drainage Area (sq mi):</label>
                            <div class="col-md-7">
                                <input class="form-control" id="drainage_area_sqmi" ng-keypress="isNum($event)" name="drainage_area_sqmi" ng-model="aSite.drainage_area_sqmi" type="text" />
                            </div>
                        </div>

                        <!--Station ID for USGS gage-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="usgs_sid">Station ID for USGS gage:</label>
                            <div class="col-md-7">
                                <input class="form-control" id="usgs_sid" name="usgs_sid" ng-model="aSite.usgs_sid" type="text" />
                            </div>
                        </div>

                        <!--Station ID for NOAA gage-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="noaa_sid">Station ID for NOAA gage:</label>
                            <div class="col-md-7">
                                <input class="form-control" id="noaa_sid" name="noaa_sid" ng-model="aSite.noaa_sid" type="text" />
                            </div>
                        </div>

                        <!--Other Station ID-->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="other_sid">Other Station ID:</label>
                            <div class="col-md-7">
                                <input class="form-control" id="other_sid" name="other_sid" placeholder="Please add details in the Site Description" ng-model="aSite.other_sid" type="text" />
                            </div>
                        </div>


                    </div>

                </uib-accordion-group>

                <!-- OP part -->
                <uib-accordion-group is-open="status.opOpen" ng-class="{'panel-danger':opErrors}">
                    <uib-accordion-heading>
                        <i style="margin-right:10px" class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.opOpen, 'glyphicon-chevron-right': !status.opOpen}"></i>
                        <span>Datum Location</span>
                    </uib-accordion-heading>
                    <div class="col-md-6">
                        <!-- Type: -->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.op_type_id.$invalid && quickForm.quick.op_type_id.$dirty}">
                            <label class="col-md-4 control-label req" for="op_type_id">Type:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="op_type_id" name="op_type_id" ng-model="aOP.op_type_id"
                                        ng-options="opt.objective_point_type_id as opt.op_type for opt in opTypeList" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <!-- Name: -->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.name.$invalid && quickForm.quick.name.$dirty}">
                            <label class="col-md-4 control-label req" for="name">Name:</label>
                            <div class="col-md-7">
                                <input class="form-control" id="op_name" name="name" ng-model="aOP.name" type="text" required />
                            </div>
                        </div>

                        <!-- Description: -->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.description.$invalid && quickForm.quick.description.$dirty}">
                            <label class="col-md-4 control-label req" for="description">
                                Description:
                                <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip-html="htmlDescriptionTip">
                                    <span class="glyphicon glyphicon-question-sign"></span>
                                </button>
                            </label>
                            <div class="col-md-7">
                                <textarea class="form-control" name="description" type=" text" rows="3" ng-model="aOP.description" required />
                            </div>

                        </div>

                        <!-- Control Identifier add button -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="CONTROL">
                                Control Identifier:
                                <button type="button" class="help-btn" tooltip-placement="bottom" tooltip-append-to-body="false" uib-tooltip="National Geodetic Survey permanent identifier. See: ngs.noaa.gov/NGSDataExplorer/ for more information.">
                                    <span class="glyphicon glyphicon-question-sign"></span>
                                </button>
                            </label>
                            <div class="col-md-7">
                                <button type="button" class="btn-wim btn-inline btn-blue btn-md" ng-click="addNewIdentifier()">Add New Identifier</button>
                            </div>

                        </div>

                        <!-- Control Identifier input: -->
                        <div class="form-group" ng-show="showControlIDinput">
                            <label class="col-md-4 control-label"></label>
                            <div class="col-md-7">
                                <div ng-repeat="id in addedIdentifiers">
                                    <div class="col-md-12" style="margin-bottom:5px; padding: 0;">
                                        <div class="col-md-6"><input class="form-control" id="OPControl" name="OPControl" ng-model="id.identifier" type="text" /></div>
                                        <input type="hidden" name="op_control_identifier_id" ng-model="id.op_control_identifier_id" />
                                        <input type="hidden" name="objective_point_id" ng-model="id.objective_point_id" />
                                        <span class="radio-inline">
                                            <input type="radio" name="identifier_type{{$index}}" ng-model="id.identifier_type" value="PID" /> PID
                                        </span>
                                        <span class="radio-inline">
                                            <input type="radio" name="identifier_type{{$index}}" ng-model="id.identifier_type" value="Other" /> Other
                                        </span>
                                        <div class="buttons pull-right">
                                            <button type="button" class="btn borderLess" ng-click="RemoveID(id)">
                                                <i class="glyphicon glyphicon-remove"></i>
                                            </button>
                                        </div>
                                    </div><br />
                                </div>
                            </div>
                        </div>

                        <!-- Ft or Meter radios: -->
                        <div>
                            <label class="col-md-4 control-label"></label>
                            <div class="col-md-7">
                                <span class="radio-inline">
                                    <input type="radio" name="FTorMETER" ng-model="FTorMETER" value="ft" /> ft
                                </span>
                                <span class="radio-inline">
                                    <input type="radio" name="FTorMETER" ng-model="FTorMETER" value="meter" /> meter
                                </span>
                            </div>
                        </div>

                        <!-- Elevation: -->
                        <div class="form-group" style="padding-top:0;">
                            <label class="col-md-4 control-label" for="elev_ft">Elevation:</label>
                            <div class="col-md-7">
                                <input class="form-control" ng-keypress="isNum($event)" id="elev_ft" name="elev_ft" ng-model="aOP.elev_ft" type="text" />
                            </div>
                        </div>

                        <!-- Objective Point Notes: -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="op_notes">Datum Location Notes:</label>
                            <div class="col-md-7">
                                <textarea class="form-control" id="op_notes" type="text" name="op_notes" rows="3" ng-model="aOP.op_notes" />
                            </div>
                        </div>

                    </div>

                    <div class="col-md-6">
                        <!-- Vertical Datum: -->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.vdatum_id.$invalid && quickForm.quick.vdatum_id.$dirty}">
                            <label class="col-md-4 control-label req" for="vdatum_id">Vertical Datum:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="OP_vdatum_id" name="vdatum_id" ng-model="aOP.vdatum_id"
                                        ng-options="vd.datum_id as vd.datum_abbreviation for vd in vertDatumList" required>
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <!-- Vertical Collection Method: -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="vcollect_method_id">Vertical Collection Method:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="vcollect_method_id" name="vcollect_method_id" ng-model="aOP.vcollect_method_id"
                                        ng-options="vcm.vcollect_method_id as vcm.vcollect_method for vcm in vertCollMethodList">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>

                        <!-- Ft or CM radios: -->
                        <div>
                            <label class="col-md-4 control-label"></label>
                            <div class="col-md-7">
                                <span class="radio-inline">
                                    <input type="radio" name="FTorCM" ng-model="FTorCM" value="ft" /> +/- ft
                                </span>
                                <span class="radio-inline">
                                    <input type="radio" name="FTorCM" ng-model="FTorCM" value="cm" /> +/- cm
                                </span>
                            </div>
                        </div>

                        <!-- Uncertainty: -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="uncertainty">
                                Uncertainty:
                                <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="From GNSS or OPUS solution.">
                                    <span class="glyphicon glyphicon-question-sign"></span>
                                </button>
                            </label>
                            <div class="col-md-7">
                                <!--<div class="col-md-12" style="margin-bottom:5px;padding-left:0">-->

                                <div class="col-md-3" style="padding-left: 0;">
                                    <input class="form-control" ng-disabled="aOP.unquantified==1" ng-keypress="isNum($event)" ng-model="aOP.uncertainty" type="text" />
                                </div>
                                <div class="col-md-2" style="text-decoration:underline">OR</div>
                                <div class="col-md-7">
                                    <input type="checkbox" class="site-chx" ng-model="aOP.unquantified" name="unquantified" ng-checked="aOP.unquantified==1" ng-true-value="1" ng-false-value="0" ng-click="UnquantChecked()" />
                                    <label class="site-chx-label">Unquantified</label>
                                </div>

                                <!--  <br />
                            </div>-->
                            </div>

                        </div>

                        <!-- Quality: -->
                        <div class="form-group">
                            <label class="col-md-4 control-label" for="op_quality_id">Quality:</label>
                            <div class="col-md-7">
                                <select class="form-control" id="op_quality_id" name="op_quality_id" ng-model="aOP.op_quality_id"
                                        ng-options="opq.op_quality_id as opq.quality for opq in opQualList">
                                    <option value=""></option>
                                </select>
                            </div>
                        </div>


                        <!-- Date Established: -->
                        <div class="form-group required" ng-class="{'has-error':quickForm.quick.date_established.$invalid && quickForm.quick.date_established.$dirty}">
                            <label class="col-md-4 control-label req" for="date_established">Date Established:</label>
                            <div class="col-md-7 input-group" style="padding-right:14px;padding-left:14px">
                                <input class="form-control dateInputStyle" id="OP_date_established" name="de" type="date" uib-datepicker-popup="MM/dd/yyyy" datepicker-append-to-body="true"
                                       show-weeks="false" is-open="datepickrs.de" ng-model="aOP.date_established" required />
                                <span class="input-group-btn">
                                    <button class="btn btn-default" ng-click="open($event, 'de')">
                                        <i class="glyphicon glyphicon-calendar" />
                                    </button>
                                </span>
                            </div>
                        </div>
                    </div>
                </uib-accordion-group>

                <!-- HWM part -->
                <div ng-if="CreateWhat == 'HWM'" style="margin-top:5px">
                    <uib-accordion-group is-open=" status.hwmOpen" ng-class="{'panel-danger': hwmErrors}">
                        <uib-accordion-heading>
                            <i style="margin-right:10px" class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.hwmOpen, 'glyphicon-chevron-right': !status.hwmOpen}"></i>
                            <span>HWM</span>
                        </uib-accordion-heading>

                        <div class="col-md-6">
                            <!-- Event -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Event:</label>
                                <div class="col-md-7" style="margin-top:14px">
                                    <div>{{EventName}}</div>
                                </div>
                            </div>

                            <!-- HWM Type:* -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.hwm_type_id.$invalid && quickForm.quick.hwm_type_id.$dirty}">
                                <label class="col-md-4 control-label req" for="hwm_type_id">HWM Type:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="hwm_type_id" name="hwm_type_id" ng-model="aHWM.hwm_type_id"
                                            ng-options="htype.hwm_type_id as htype.hwm_type for htype in hwmTypeList" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Marker: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Marker:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="marker_id" name="marker_id" ng-model="aHWM.marker_id"
                                            ng-options="vd.marker_id as vd.marker1 for vd in markerList">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- HWM Environment:* -->
                            <div class="form-group required" style="padding-bottom:0;margin-bottom:0" ng-class="{'has-error':quickForm.quick.hwm_environment.$invalid && quickForm.quick.hwm_environment.$dirty}">
                                <label class="col-md-4 control-label req">HWM Environment:</label>
                                <div class="col-md-7">
                                    <span class="radio-inline">
                                        <input type="radio" id="C_hwm_environment" name="hwm_environment" ng-model="aHWM.hwm_environment" value="Coastal" />Coastal
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" id="R_hwm_environment" name="hwm_environment" ng-model="aHWM.hwm_environment" value="Riverine" />Riverine
                                    </span>
                                </div>
                            </div>

                            <!-- Breakdown of categories -->
                            <div class="form-group" style="padding-top:0">
                                <label class="col-md-4"></label>
                                <div class="col-md-7" style="padding-left:0">
                                    <table>
                                        <tr><td style="text-align: center;width: 81px">0.05</td><td style="text-align: center;width: 81px">0.02</td><td style="text-align: left;width: 81px">Excellent</td></tr>
                                        <tr><td style="text-align: center;width: 81px">0.1</td><td style="text-align: center;width: 81px">0.05</td><td style="text-align: left;width: 81px">Good</td></tr>
                                        <tr><td style="text-align: center;width: 81px">0.2</td><td style="text-align: center;width: 81px">0.1</td><td style="text-align: left;width: 81px">Fair</td></tr>
                                        <tr><td style="text-align: center;width: 81px">0.4</td><td style="text-align: center;width: 81px">0.2</td><td style="text-align: left;width: 81px">Poor</td></tr>
                                        <tr><td style="text-align: center;width: 81px">&#62;0.40</td><td style="text-align: center;width: 81px">&#62;0.20</td><td style="text-align: left;width: 81px">V. Poor</td></tr>
                                        <tr><td colspan="3"><a href="http://pubs.usgs.gov/tm/11d1/" target="_blank">USGS T&M 11-D1, Table 13</a></td></tr>
                                    </table>
                                </div>
                            </div>

                            <!-- HWM Quality:* -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.hwm_quality_id.$invalid && quickForm.quick.hwm_quality_id.$dirty}">
                                <label class="col-md-4 control-label req">HWM Quality:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="hwm_quality_id" name="hwm_quality_id" ng-model="aHWM.hwm_quality_id"
                                            ng-options="hqual.hwm_quality_id as hqual.hwm_quality for hqual in hwmQualList" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Bank: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Bank:</label>
                                <div class="col-md-7">
                                    <span class="radio-inline">
                                        <input type="radio" name="bank" ng-model="aHWM.bank" value="Left" />Left
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" name="bank" ng-model="aHWM.bank" value="Right" />Right
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" name="bank" ng-model="aHWM.bank" value="N/A" />N/A
                                    </span>
                                </div>
                            </div>

                            <!-- Location Description: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="hwm_locationdescription">
                                    Location Description:
                                    <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Please be specific so someone else can find this sensor later. This field is public.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <textarea class="form-control" id="hwm_locationdescription" name="hwm_locationdescription" type=" text" rows="3" ng-model="aHWM.hwm_locationdescription" />
                                </div>

                            </div>
                        </div>

                        <div class="col-md-6">
                            <!-- Height above ground (ft): -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="height_above_gnd">Height above ground (ft):</label>
                                <div class="col-md-7">
                                    <input class="form-control" ng-keypress="isNum($event)" name="height_above_gnd" ng-model="aHWM.height_above_gnd" type="text" />
                                </div>
                            </div>

                            <!-- Flagged Date: * -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.flag_date.$invalid && quickForm.quick.flag_date.$dirty}">
                                <label class="col-md-4 control-label req" for="flag_date">Flagged Date:</label>
                                <div class="col-md-7 input-group" style="padding-right:14px;padding-left:14px">
                                    <input class="form-control dateInputStyle" id="flag_date" name="fd" type="date" uib-datepicker-popup="MM/dd/yyyy"
                                           show-weeks="false" is-open="datepickrs.fd" ng-model="aHWM.flag_date" required />
                                    <span class="input-group-btn">
                                        <button class="btn btn-default" ng-click="open($event, 'fd')">
                                            <i class="glyphicon glyphicon-calendar" />
                                        </button>
                                    </span>
                                </div>
                            </div>

                            <!-- Surveyed Date: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="survey_date">
                                    Surveyed Date:
                                    <button type="button" class="col-md-1 borderLess pull-right" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Elevation required below if survey date is populated.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <div class="col-md-12 input-group">
                                        <input class="form-control dateInputStyle" id="survey_date" name="sd" type="date" uib-datepicker-popup="MM/dd/yyyy"
                                               is-open="datepickrs.sd" show-weeks="false" ng-model="aHWM.survey_date" />
                                        <span class="input-group-btn">
                                            <button class="btn btn-default" ng-click="open($event, 'sd')">
                                                <i class="glyphicon glyphicon-calendar" />
                                            </button>
                                        </span>
                                    </div>
                                </div>

                            </div>

                            <!-- Surveyed Elevation (ft): -->
                            <div class="form-group" ng-class="{'required': aHWM.survey_date}">
                                <label class="col-md-4 control-label" ng-class="{'req': aHWM.survey_date}" for="elev_ft">Surveyed Elevation (ft):</label>
                                <div class="col-md-7">
                                    <input class="form-control" ng-keypress="isNum($event)" name="elev_ft" ng-model="aHWM.elev_ft" ng-required="aHWM.survey_date" type="text" />
                                </div>
                            </div>

                            <!-- Vertical Datum: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Vertical Datum:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="vdatum_id" name="vdatum_id" ng-model="aHWM.vdatum_id"
                                            ng-options="vd.datum_id as vd.datum_name for vd in vertDatumList">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Vertical Collection Method: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Vertical Collection Method:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="HWM_vdatum_id" name="vcollect_method_id" ng-model="aHWM.vcollect_method_id"
                                            ng-options="vcm.vcollect_method_id as vcm.vcollect_method for vcm in vertCollMethodList">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Ft or CM radios: -->
                            <div>
                                <label class="col-md-4 control-label"></label>
                                <div class="col-md-7">
                                    <span class="radio-inline">
                                        <input type="radio" name="FTorCM" ng-model="FTorCM" value="ft" /> +/- ft
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" name="FTorCM" ng-model="FTorCM" value="cm" /> +/- cm
                                    </span>
                                </div>
                            </div>

                            <!-- Uncertainty: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="uncertainty">Uncertainty:</label>
                                <div class="col-md-7">
                                    <div class="col-md-12" style="margin-bottom:5px;padding-left:0">
                                        <div class="col-md-5" style="padding-left: 0;"><input class="form-control" ng-keypress="isNum($event)" ng-model="aHWM.uncertainty" type="text" /></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Notes: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="hwm_notes">Notes:</label>
                                <div class="col-md-7">
                                    <textarea class="form-control" id="hwm_notes" name="hwm_notes" type=" text" rows="3" ng-model="aHWM.hwm_notes" />
                                </div>
                            </div>

                            <!-- Stillwater Location? -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">
                                    Tranquil/Stillwater HWM:
                                    <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Tranquil-Water HWMs preferred over Rapid-Water HWMs. Refer to T&M 3-A24 for details.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <span class="radio-inline">
                                        <input type="radio" name="stillwater" ng-model="aHWM.stillwater" value="1" />Yes
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" name="stillwater" ng-model="aHWM.stillwater" value="0" />No
                                    </span>
                                </div>

                            </div>
                        </div> <!-- end "col-md-6" -->
                    </uib-accordion-group>
                </div> <!-- end createWhat == hwm -->
                <!-- sensor part -->
                <div ng-if="CreateWhat == 'Sensor'" style="margin-top:5px">
                    <uib-accordion-group is-open="status.hwmOpen" ng-class="{'panel-danger': hwmErrors}">
                        <uib-accordion-heading>
                            <i style="margin-right:10px" class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': status.hwmOpen, 'glyphicon-chevron-right': !status.hwmOpen}"></i>
                            <span>Sensor</span>
                        </uib-accordion-heading>

                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="col-md-4 control-label">Event:</label>
                                <div class="col-md-7" style="margin-top:14px">
                                    <div>{{EventName}}</div>
                                </div>
                            </div>

                            <!-- Sensor Type:* -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.sensor_type_id.$invalid && quickForm.quick.sensor_type_id.$dirty}">
                                <label class="col-md-4 control-label req" for="sensor_type_id">Sensor Type:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="sensor_type_id" name="sensor_type_id" ng-model="aSensor.sensor_type_id"
                                            ng-options="s.sensor_type_id as s.sensor for s in sensorTypeList" ng-change="getDepTypes()" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Sensor Brand:* -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.sensor_brand_id.$invalid && quickForm.quick.sensor_brand_id.$dirty}">
                                <label class="col-md-4 control-label req" for="sensor_brand_id">Sensor Brand:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="sensor_brand_id" name="sensor_brand_id" ng-model="aSensor.sensor_brand_id"
                                            ng-options="sb.sensor_brand_id as sb.brand_name for sb in sensorBrandList" required>
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Serial Number:* -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.serial_number.$invalid && quickForm.quick.serial_number.$dirty}">
                                <label class="col-md-4 control-label req" for="serial_number">
                                    Serial Number:
                                    <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Will be used in netCDF metadata.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <input class="form-control" name="serial_number" ng-model="aSensor.serial_number" type="text" required />
                                </div>

                            </div>

                            <!-- Housing Serial Number: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="housing_serial_number">
                                    Housing Serial Number:
                                    <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Required for DOI WATCH OFFICE 800 number.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <input class="form-control" name="housing_serial_number" ng-model="aSensor.housing_serial_number" type="text" />
                                </div>

                            </div>

                            <!-- Housing Types: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Housing Types:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="housing_type_id" name="housing_type_id" ng-model="aSensor.housing_type_id"
                                            ng-options="ht.housing_type_id as ht.type_name for ht in houseTypeList">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>
                            <!-- -------------------------- START TAPEDOWN SECTION --------------------------------  -->

                            <uib-accordion close-others="false">
                                <uib-accordion-group is-open="tapedown.Open">
                                    <uib-accordion-heading>
                                        <i style="margin-right:10px" class="pull-left glyphicon" ng-class="{'glyphicon-chevron-down': tapedown.Open, 'glyphicon-chevron-right': !tapedown.Open}"></i>
                                        <span ng-click="showTapedownPart()">
                                            Tape Down Information
                                            <button type="button" class="col-md-1 borderLess pull-right" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="These elevations and tape down data are used for both field activities and final products. Please pay attention to how your data is entered.">
                                                <span class="glyphicon glyphicon-question-sign"></span>
                                            </button>
                                        </span>

                                    </uib-accordion-heading>
                                    <!-- Add Tapedown button  ng-if="addTapedown"-->
                                    <div>
                                        <br clear="all" />
                                        <div ng-show="tapeDownTable.length > 0">
                                            <div class="pull-right col-md-6"><em>Note: these are not used for any calculations but are to facilitate field activities</em></div>
                                            <table class="table table-condensed">
                                                <thead>
                                                    <tr>
                                                        <th></th>
                                                        <th>Datum Location</th>
                                                        <th>Elevation</th>
                                                        <th class="col-md-2">
                                                            Offset<br />Correction
                                                            <button type="button" class="borderLess" tooltip-placement="top" tooltip-append-to-body="false" uib-tooltip="From the datum location to the sensor orifice.">
                                                                <span class="glyphicon glyphicon-question-sign"></span>
                                                            </button>
                                                        </th>
                                                        <th class="col-md-2">Water Surface</th>
                                                        <th class="col-md-2">Ground Surface</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr ng-repeat="t in tapeDownTable">
                                                        <td>
                                                            <button type="button" class="borderLess" tooltip-placement="top" uib-tooltip="Remove Tapedown" ng-click="removeOP()"><span class="glyphicon glyphicon-remove"></span></button>
                                                        </td>
                                                        <td>{{t.op_name}}<input type="hidden" ng-model="t.objective_type_id" /><input type="hidden" ng-model="t.op_measurements_id" /></td>
                                                        <td>{{t.elevation}} {{t.Vdatum}}</td>
                                                        <td><input class="form-control" ng-keypress="isNum($event)" ng-model="t.offset_correction" /></td>
                                                        <td><input class="form-control" ng-keypress="isNum($event)" ng-model="t.water_surface" /></td>
                                                        <td><input class="form-control" ng-keypress="isnum($event)" ng-model="t.ground_surface" /></td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <!-- Sensor status fields for tapedown -->
                                            <div class="col-md-6">
                                                <div class="form-group" style="margin-bottom:0">
                                                    <label class="col-md-6 control-label" for="sensor_elevation">
                                                        Sensor Elevation:
                                                        <button type="button" class="help-btn" tooltip-placement="right-top" tooltip-append-to-body="false" uib-tooltip="Using the offset correction, elevation of the sensor orifice.">
                                                            <span class="glyphicon glyphicon-question-sign"></span>
                                                        </button>
                                                    </label>
                                                    <div class="col-md-5">
                                                        <input class="form-control" ng-keypress="isNum($event)" name="sensor_elevation" ng-model="aSensStatus.sensor_elevation" type="text" />
                                                    </div>

                                                </div>

                                                <div class="form-group" style="margin-bottom:0">
                                                    <label class="col-md-6 control-label" for="ws_elevation">
                                                        Water Surface Elevation:
                                                        <button type="button" class="help-btn" tooltip-placement="left-top" tooltip-append-to-body="false" uib-tooltip="Using the water surface tape down, elevation of the water surface.">
                                                            <span class="glyphicon glyphicon-question-sign"></span>
                                                        </button>
                                                    </label>
                                                    <div class="col-md-5">
                                                        <input class="form-control" ng-keypress="isNum($event)" name="ws_elevation" ng-model="aSensStatus.ws_elevation" type="text" />
                                                    </div>

                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-group" style="margin-bottom:0">
                                                    <label class="col-md-6 control-label" for="gs_elevation">
                                                        Ground Elevation:
                                                        <button type="button" class="help-btn" tooltip-placement="left-top" tooltip-append-to-body="false" uib-tooltip="Using the ground surface tape down, elevation of the ground surface.">
                                                            <span class="glyphicon glyphicon-question-sign"></span>
                                                        </button>
                                                    </label>
                                                    <div class="col-md-5">
                                                        <input class="form-control" ng-keypress="isNum($event)" name="gs_elevation" ng-model="aSensStatus.gs_elevation" type="text" />
                                                    </div>

                                                </div>

                                                <div class="form-group">
                                                    <label class="col-md-6 control-label req" for="vdatum_id">In feet above:</label>
                                                    <div class="col-md-5">
                                                        <select class="form-control" name="vdatum_id" ng-model="aSensStatus.vdatum_id"
                                                                ng-options="vd.datum_id as vd.datum_abbreviation for vd in vertDatumList">
                                                            <option value=""></option>
                                                        </select>
                                                    </div>
                                                </div>
                                                <div class="pull-right"><em>Note: these elevations are used in the sensor processing and the final products</em></div>
                                            </div>
                                        </div>
                                        <br clear="all" />
                                    </div>
                                </uib-accordion-group>
                            </uib-accordion>
                        </div>
                        <!-- ----------- End tapedown sections ------------- -->

                        <div class="col-md-6">
                            <div ng-show="aSensor.sensor_type_id == 1">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">Vented:</label>
                                    <div class="col-md-7">
                                        <span class="radio-inline">
                                            <input type="radio" name="vented" ng-model="aSensor.vented" value="Yes" />Yes
                                        </span>
                                        <span class="radio-inline">
                                            <input type="radio" name="vented" ng-model="aSensor.vented" value="No" />No
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <!-- Deployment Type: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label req" for="deployment_type_id">Deployment Type:</label>
                                <div class="col-md-7">
                                    <select class="form-control" id="deployment_type_id" name="deployment_type_id" ng-model="aSensor.deployment_type_id"
                                            ng-options="dt.deployment_type_id as dt.method for dt in filteredDeploymentTypes">
                                        <option value=""></option>
                                    </select>
                                </div>
                            </div>

                            <!-- Location Description: -->
                            <div class="form-group" ng-class="{'has-error':quickForm.quick.location_description.$invalid && quickForm.quick.location_description.$dirty}">
                                <label class="col-md-4 control-label" for="location_description">
                                    Location Description:
                                    <button type="button" class="help-btn" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Please be specific so someone else can find this sensor later. This field is public.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <textarea class="form-control" id="location_description" name="location_description" type=" text" rows="3" ng-model="aSensor.location_description" />
                                </div>

                            </div>

                            <!-- Interval: -->
                            <div>
                                <label class="col-md-4 control-label"></label>
                                <div class="col-md-7">
                                    <span class="radio-inline">
                                        <input type="radio" name="intervalType" ng-model="IntervalType.type" value="Minutes" />Minutes
                                    </span>
                                    <span class="radio-inline">
                                        <input type="radio" name="intervalType" ng-model="IntervalType.type" value="Seconds" />Seconds
                                    </span>
                                </div>
                            </div>
                            <div class="form-group" style="margin-bottom:0;padding-bottom:0">
                                <label class="col-md-4 control-label" for="interval">Interval:</label>
                                <div class="col-md-7">
                                    <input class="form-control" ng-keypress="isNum($event)" name="interval" ng-model="aSensor.interval" type="text" />
                                </div>
                            </div>


                            <!-- Deploy Time: * -->
                            <div class="form-group required" ng-class="{'has-error':quickForm.quick.time_stamp.$invalid && quickForm.quick.time_stamp.$dirty}">
                                <label class="col-md-4 control-label req" style="margin-top:6%" for="time_stamp">Deploy Time:</label>
                                <div class="col-md-7">
                                    <datetimepicker hour-step="1" minute-step="1" ng-model="aSensStatus.time_stamp" show-meridian="true"
                                                    date-format="MM/dd/yyyy" readonly-date="false" readonly-time="false" date-options="dateOptions"
                                                    hidden-time="false" hidden-date="false" show-spinners="true" required>
                                    </datetimepicker>
                                </div>
                            </div>

                            <!-- Time Zone:* -->
                            <div class="form-group required">
                                <label class="col-md-4 control-label" for="time_zone">
                                    Time Zone:
                                    <button type="button" class="borderLess" tooltip-placement="left" tooltip-append-to-body="false" uib-tooltip="Date/Time will be stored in UTC.">
                                        <span class="glyphicon glyphicon-question-sign"></span>
                                    </button>
                                </label>
                                <div class="col-md-7">
                                    <select class="form-control" name="time_zone" ng-model="aSensStatus.time_zone"
                                            ng-options="vcm for vcm in timeZoneList" required>
                                        <option value=""></option>
                                    </select>
                                </div>

                            </div>

                            <!-- Note: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label" for="notes">Note:</label>
                                <div class="col-md-7">
                                    <textarea class="form-control" name="notes" type=" text" rows="3" ng-model="aSensStatus.notes" />
                                </div>
                            </div>

                            <!-- Collection Member: -->
                            <div class="form-group">
                                <label class="col-md-4 control-label">Deploy Member:</label>
                                <div class="col-md-7" style="margin-top:14px;">
                                    <input type="hidden" name="member_id" ng-model="aSensStatus.member_id" />
                                    <span>{{loggedInMember.fname}} {{loggedInMember.lname}}</span>
                                </div>
                            </div>
                        </div>
                    </uib-accordion-group>
                </div> <!--end sensor-->
            </uib-accordion>

            <br clear="all" />

            <!--submit and cancel buttons-->
            <div class="form-group" style="display: block; text-align: center;">
                <button class="btn-wim btn-inline btn-lg btn-blue" ng-click="create(quickForm.quick.$valid)">
                    Create
                </button>
            </div>
        </fieldset>
    </form>
</div>

<div ng-if="!sessionEventExists"><h3>Please choose an Event before creating a Quick {{CreateWhat}}.</h3></div>
